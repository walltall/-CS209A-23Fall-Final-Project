{"items":[{"tags":["java"],"comments":[{"score":1,"post_type":"question","creation_date":1700964608,"post_id":77550201,"comment_id":136716247,"body_markdown":"Not erroneous.  It&#39;s a generic method.  It means that `T` can be any type.  I&#39;m certain this question is a duplicate, so I&#39;m looking for the best duplicate right now.","link":"https://stackoverflow.com/questions/77550201/generics-type-in-front-of-other-type#comment136716247_77550201","body":"Not erroneous.  It&#39;s a generic method.  It means that <code>T</code> can be any type.  I&#39;m certain this question is a duplicate, so I&#39;m looking for the best duplicate right now."},{"score":0,"post_type":"question","creation_date":1700964807,"post_id":77550201,"comment_id":136716252,"body_markdown":"@DawoodibnKareem how can a function return two types?","link":"https://stackoverflow.com/questions/77550201/generics-type-in-front-of-other-type#comment136716252_77550201","body":"@DawoodibnKareem how can a function return two types?"},{"score":2,"post_type":"question","creation_date":1700965405,"post_id":77550201,"comment_id":136716284,"body_markdown":"`&lt;T&gt;` is a type parameter. It is declaring, in the scope of the method, a type variable named `T` with the (implicit) upper bound of `java.lang.Object`.  The type parameter makes the method generic. and is why the type of the method parameter `a` can be `T`. The return type is `int` (and only `int`).","link":"https://stackoverflow.com/questions/77550201/generics-type-in-front-of-other-type#comment136716284_77550201","body":"<code>&lt;T&gt;</code> is a type parameter. It is declaring, in the scope of the method, a type variable named <code>T</code> with the (implicit) upper bound of <code>java.lang.Object</code>.  The type parameter makes the method generic. and is why the type of the method parameter <code>a</code> can be <code>T</code>. The return type is <code>int</code> (and only <code>int</code>)."},{"score":0,"post_type":"question","creation_date":1700967190,"post_id":77550201,"comment_id":136716361,"body_markdown":"it is a Generic syntax","link":"https://stackoverflow.com/questions/77550201/generics-type-in-front-of-other-type#comment136716361_77550201","body":"it is a Generic syntax"},{"score":0,"post_type":"question","creation_date":1700970216,"post_id":77550201,"comment_id":136716470,"body_markdown":"It doesn&#39;t return two types.  It returns an `int`.  The `&lt;T&gt;` declares that the letter `T` will be used as a type parameter.  In this case, it means that `T` can be any reference type at all.","link":"https://stackoverflow.com/questions/77550201/generics-type-in-front-of-other-type#comment136716470_77550201","body":"It doesn&#39;t return two types.  It returns an <code>int</code>.  The <code>&lt;T&gt;</code> declares that the letter <code>T</code> will be used as a type parameter.  In this case, it means that <code>T</code> can be any reference type at all."},{"score":0,"post_type":"question","creation_date":1700976972,"post_id":77550201,"comment_id":136716795,"body_markdown":"Refer to https://docs.oracle.com/javase/tutorial/java/generics/index.html","link":"https://stackoverflow.com/questions/77550201/generics-type-in-front-of-other-type#comment136716795_77550201","body":"Refer to <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/index.html</a>"}],"comment_count":6,"is_answered":false,"view_count":45,"answer_count":0,"score":1,"last_activity_date":1700964244,"creation_date":1700964244,"question_id":77550201,"body_markdown":"What is the purpose of the following generic code?\r\n\r\n    class A {\r\n       static &lt;T&gt; int f(T a) {\r\n          int i = 0;\r\n          return i;\r\n       }\r\n    }\r\n\r\nWhy is there an additional `&lt;T&gt;` in front?  Is it erroneous?","link":"https://stackoverflow.com/questions/77550201/generics-type-in-front-of-other-type","title":"Generics: type in front of other type?","body":"<p>What is the purpose of the following generic code?</p>\n<pre><code>class A {\n   static &lt;T&gt; int f(T a) {\n      int i = 0;\n      return i;\n   }\n}\n</code></pre>\n<p>Why is there an additional <code>&lt;T&gt;</code> in front?  Is it erroneous?</p>\n"},{"tags":["java","javafx","nullpointerexception","scene"],"comments":[{"score":0,"post_type":"question","creation_date":1700848295,"post_id":77544829,"comment_id":136707023,"body_markdown":"Java and JavaScript are 2 different languages, I would remove the JavaScript tag here.","link":"https://stackoverflow.com/questions/77544829/exception-in-thread-main-java-lang-exceptionininitializererror-caused-by-null#comment136707023_77544829","body":"Java and JavaScript are 2 different languages, I would remove the JavaScript tag here."}],"answers":[{"comment_count":0,"score":4,"last_activity_date":1700962596,"last_edit_date":1700962596,"creation_date":1700895640,"answer_id":77546940,"question_id":77544829,"body_markdown":"You are not using JavaFX correctly. There are at least two problems with your code:\r\n\r\n1. You are creating UI (user interface) objects before the JavaFX platform has been started (the cause, I believe, of the `NullPointerException` in this case).\r\n\r\n2. You are constructing and modifying a `Stage` on a thread other than the _JavaFX Application Thread_, which is not allowed.\r\n\r\nI recommend researching more about JavaFX before trying to write an application with it. For example, you can read the [Getting Started with JavaFX][1] guide to see how to set up a basic JavaFX application (with any of the major Java IDEs and/or build tools, whether your own code is modular or not). And the Javadoc of [`javafx.application.Application`][2] will explain the lifecycle of JavaFX. There are also quite a few tutorials out there on the internet, books you can buy, and other Stack Overflow Q&amp;As regarding JavaFX which will help you learn more about JavaFX.\r\n\r\nThere are a few ways to start the JavaFX platform. However, a typical JavaFX application will do it by having its main class extend `Application`. So, your class should potentially look more like this:\r\n\r\n```java\r\npackage Presentation;\r\n\r\nimport Domain.Domain;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class DisplayTest extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(DisplayTest.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        StackPane root = new StackPane();\r\n        Scene scene = new Scene(root);\r\n\r\n        System.out.println(&quot;Velkommen til (Spil navn)!&quot;);\r\n        Domain.initEverything();\r\n        primaryStage.setTitle(&quot;Klima Kurv&quot;);\r\n        primaryStage.setScene(scene);\r\n        InventoryManagerGFX.initInventoryManagerGFX(primaryStage);\r\n        primaryStage.show();\r\n        System.out.println(&quot;Spillet er f&#230;rdigt!&quot;);\r\n    }\r\n\r\n    public static void gameOnGoing() {\r\n        while (!Domain.GetIsDone()) {\r\n            System.out.print(&quot;&gt; &quot;);\r\n            String line = Domain.GetNextLine();\r\n            Domain.dispatch(line);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThough I cannot promise that fixes all your problems, as I have no idea how your `Domain` and `InventoryMangagerGFX` classes are implemented. Also, note that in this case, the `main` method is not actually necessary (if you have `DisplayTest` as the main class and JavaFX is on the module-path).\r\n\r\nOn a related note, you might want to reconsider a few things about your application:\r\n\r\n1. Overuse of static state is a sign of bad design. Java is [object-oriented][9], so you should make use of objects; follow [SOLID principles][5]; use [dependency injection][4] (which is just a fancy way of saying pass objects via constructors and/or methods); and so on. Additionally, consider using a proper application architecture like [Model-View-Controller][6] (MVC), [Model-View-Presenter][7] (MVP), [Model-View-ViewModel][8] (MVVM), or another.\r\n\r\n2. It is strange to use `System.in`, presumably as part of the `GetNextLine()` implementation, in a GUI (Graphical User Interface) application. Reading from the standard input stream is something done in CLI (Command Line Interface) applications. Create _either_ a GUI application or a CLI application, not a mix of both. Note that GUI applications are inherently [event-driven][3], so having that `while (!Domain.GetIsDone())` loop does not make much sense.\r\n\r\n3. Follow [standard Java naming conventions][10]. Or, at the very least, you should be consistent.\r\n\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/\r\n  [2]: https://openjfx.io/javadoc/21/javafx.graphics/javafx/application/Application.html\r\n  [3]: https://en.wikipedia.org/wiki/Event-driven_programming\r\n  [4]: https://en.wikipedia.org/wiki/Dependency_injection\r\n  [5]: https://en.wikipedia.org/wiki/SOLID\r\n  [6]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n  [7]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93presenter\r\n  [8]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel\r\n  [9]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [10]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","link":"https://stackoverflow.com/questions/77544829/exception-in-thread-main-java-lang-exceptionininitializererror-caused-by-null/77546940#77546940","title":"Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError, caused by NullPointerException?","body":"<p>You are not using JavaFX correctly. There are at least two problems with your code:</p>\n<ol>\n<li><p>You are creating UI (user interface) objects before the JavaFX platform has been started (the cause, I believe, of the <code>NullPointerException</code> in this case).</p>\n</li>\n<li><p>You are constructing and modifying a <code>Stage</code> on a thread other than the <em>JavaFX Application Thread</em>, which is not allowed.</p>\n</li>\n</ol>\n<p>I recommend researching more about JavaFX before trying to write an application with it. For example, you can read the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting Started with JavaFX</a> guide to see how to set up a basic JavaFX application (with any of the major Java IDEs and/or build tools, whether your own code is modular or not). And the Javadoc of <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\"><code>javafx.application.Application</code></a> will explain the lifecycle of JavaFX. There are also quite a few tutorials out there on the internet, books you can buy, and other Stack Overflow Q&amp;As regarding JavaFX which will help you learn more about JavaFX.</p>\n<p>There are a few ways to start the JavaFX platform. However, a typical JavaFX application will do it by having its main class extend <code>Application</code>. So, your class should potentially look more like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Presentation;\n\nimport Domain.Domain;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class DisplayTest extends Application {\n\n    public static void main(String[] args) {\n        Application.launch(DisplayTest.class, args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        StackPane root = new StackPane();\n        Scene scene = new Scene(root);\n\n        System.out.println(&quot;Velkommen til (Spil navn)!&quot;);\n        Domain.initEverything();\n        primaryStage.setTitle(&quot;Klima Kurv&quot;);\n        primaryStage.setScene(scene);\n        InventoryManagerGFX.initInventoryManagerGFX(primaryStage);\n        primaryStage.show();\n        System.out.println(&quot;Spillet er færdigt!&quot;);\n    }\n\n    public static void gameOnGoing() {\n        while (!Domain.GetIsDone()) {\n            System.out.print(&quot;&gt; &quot;);\n            String line = Domain.GetNextLine();\n            Domain.dispatch(line);\n        }\n    }\n}\n</code></pre>\n<p>Though I cannot promise that fixes all your problems, as I have no idea how your <code>Domain</code> and <code>InventoryMangagerGFX</code> classes are implemented. Also, note that in this case, the <code>main</code> method is not actually necessary (if you have <code>DisplayTest</code> as the main class and JavaFX is on the module-path).</p>\n<p>On a related note, you might want to reconsider a few things about your application:</p>\n<ol>\n<li><p>Overuse of static state is a sign of bad design. Java is <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented</a>, so you should make use of objects; follow <a href=\"https://en.wikipedia.org/wiki/SOLID\" rel=\"nofollow noreferrer\">SOLID principles</a>; use <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow noreferrer\">dependency injection</a> (which is just a fancy way of saying pass objects via constructors and/or methods); and so on. Additionally, consider using a proper application architecture like <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">Model-View-Controller</a> (MVC), <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93presenter\" rel=\"nofollow noreferrer\">Model-View-Presenter</a> (MVP), <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel\" rel=\"nofollow noreferrer\">Model-View-ViewModel</a> (MVVM), or another.</p>\n</li>\n<li><p>It is strange to use <code>System.in</code>, presumably as part of the <code>GetNextLine()</code> implementation, in a GUI (Graphical User Interface) application. Reading from the standard input stream is something done in CLI (Command Line Interface) applications. Create <em>either</em> a GUI application or a CLI application, not a mix of both. Note that GUI applications are inherently <a href=\"https://en.wikipedia.org/wiki/Event-driven_programming\" rel=\"nofollow noreferrer\">event-driven</a>, so having that <code>while (!Domain.GetIsDone())</code> loop does not make much sense.</p>\n</li>\n<li><p>Follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">standard Java naming conventions</a>. Or, at the very least, you should be consistent.</p>\n</li>\n</ol>\n"}],"comment_count":1,"is_answered":true,"view_count":126,"answer_count":1,"score":-1,"last_activity_date":1700962596,"creation_date":1700847564,"last_edit_date":1700893975,"question_id":77544829,"body_markdown":"This is my first time attempting a project using JavaFX and i&#39;m having some trouble with an exception that i don&#39;t quite understand. I&#39;m getting this error message:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.sun.glass.ui.Timer.resume()&quot; because &quot;this.pulseTimer&quot; is null\r\n\tat com.sun.javafx.tk.quantum.QuantumToolkit.resumeTimer(QuantumToolkit.java:542)\r\n\tat com.sun.javafx.tk.quantum.QuantumToolkit$PulseTask.set(QuantumToolkit.java:213)\r\n\tat com.sun.javafx.tk.quantum.QuantumToolkit.requestNextPulse(QuantumToolkit.java:906)\r\n\tat javafx.scene.Parent.markDirtyLayout(Parent.java:940)\r\n\tat javafx.scene.Parent.requestLayout(Parent.java:964)\r\n\tat javafx.scene.layout.StackPane.requestLayout(StackPane.java:322)\r\n\tat javafx.scene.Scene$8.invalidated(Scene.java:1247)\r\n\tat javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)\r\n\tat javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)\r\n\tat javafx.scene.Scene.setRoot(Scene.java:1196)\r\n\tat javafx.scene.Scene.&lt;init&gt;(Scene.java:360)\r\n\tat javafx.scene.Scene.&lt;init&gt;(Scene.java:211)\r\n\tat Presentation.DisplayTest.&lt;clinit&gt;(DisplayTest.java:11)\r\n```\r\n\r\n\r\nWhen i attempt to run this code:\r\n\r\n```\r\npackage Presentation;\r\n\r\nimport Domain.Domain;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class DisplayTest {\r\n    static StackPane root = new StackPane();\r\n    static Scene scene = new Scene(root);\r\n    static Stage primaryStage = new Stage();\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Velkommen til (Spil navn)!&quot;);\r\n        Domain.initEverything();\r\n        primaryStage.setTitle(&quot;Klima Kurv&quot;);\r\n        primaryStage.setScene(scene);\r\n        InventoryManagerGFX.initInventoryManagerGFX(primaryStage);\r\n        primaryStage.show();\r\n        System.out.println(&quot;Spillet er f&#230;rdigt!&quot;);\r\n    }\r\n\r\n    public static void gameOnGoing() {\r\n        while (!Domain.GetIsDone()) {\r\n            System.out.print(&quot;&gt; &quot;);\r\n            String line = Domain.GetNextLine();\r\n            Domain.dispatch(line);\r\n        }\r\n    }\r\n}\r\n```\r\nThe error message does not appear if i delete the static initialisations at the beginning. Does anyone here know what to do?\r\n\r\nAlso, english is not my first language so sorry if i have made any grammatical errors.","link":"https://stackoverflow.com/questions/77544829/exception-in-thread-main-java-lang-exceptionininitializererror-caused-by-null","title":"Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError, caused by NullPointerException?","body":"<p>This is my first time attempting a project using JavaFX and i'm having some trouble with an exception that i don't quite understand. I'm getting this error message:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.sun.glass.ui.Timer.resume()&quot; because &quot;this.pulseTimer&quot; is null\n    at com.sun.javafx.tk.quantum.QuantumToolkit.resumeTimer(QuantumToolkit.java:542)\n    at com.sun.javafx.tk.quantum.QuantumToolkit$PulseTask.set(QuantumToolkit.java:213)\n    at com.sun.javafx.tk.quantum.QuantumToolkit.requestNextPulse(QuantumToolkit.java:906)\n    at javafx.scene.Parent.markDirtyLayout(Parent.java:940)\n    at javafx.scene.Parent.requestLayout(Parent.java:964)\n    at javafx.scene.layout.StackPane.requestLayout(StackPane.java:322)\n    at javafx.scene.Scene$8.invalidated(Scene.java:1247)\n    at javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)\n    at javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)\n    at javafx.scene.Scene.setRoot(Scene.java:1196)\n    at javafx.scene.Scene.&lt;init&gt;(Scene.java:360)\n    at javafx.scene.Scene.&lt;init&gt;(Scene.java:211)\n    at Presentation.DisplayTest.&lt;clinit&gt;(DisplayTest.java:11)\n</code></pre>\n<p>When i attempt to run this code:</p>\n<pre><code>package Presentation;\n\nimport Domain.Domain;\nimport javafx.application.Platform;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class DisplayTest {\n    static StackPane root = new StackPane();\n    static Scene scene = new Scene(root);\n    static Stage primaryStage = new Stage();\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Velkommen til (Spil navn)!&quot;);\n        Domain.initEverything();\n        primaryStage.setTitle(&quot;Klima Kurv&quot;);\n        primaryStage.setScene(scene);\n        InventoryManagerGFX.initInventoryManagerGFX(primaryStage);\n        primaryStage.show();\n        System.out.println(&quot;Spillet er færdigt!&quot;);\n    }\n\n    public static void gameOnGoing() {\n        while (!Domain.GetIsDone()) {\n            System.out.print(&quot;&gt; &quot;);\n            String line = Domain.GetNextLine();\n            Domain.dispatch(line);\n        }\n    }\n}\n</code></pre>\n<p>The error message does not appear if i delete the static initialisations at the beginning. Does anyone here know what to do?</p>\n<p>Also, english is not my first language so sorry if i have made any grammatical errors.</p>\n"},{"tags":["java","android"],"comment_count":0,"is_answered":false,"view_count":28,"answer_count":0,"score":1,"last_activity_date":1700959294,"creation_date":1700805755,"last_edit_date":1700959294,"question_id":77541022,"body_markdown":"appUpdateManager.startUpdateFlowForResult is deprecated and is replace by:\r\n```\r\nappUpdateManager.startUpdateFlowForResult(\r\n    // Pass the intent that is returned by &#39;getAppUpdateInfo()&#39;.\r\n    appUpdateInfo,\r\n    // an activity result launcher registered via registerForActivityResult\r\n    activityResultLauncher,\r\n    // Or pass &#39;AppUpdateType.FLEXIBLE&#39; to newBuilder() for\r\n    // flexible updates.\r\n    AppUpdateOptions.newBuilder(AppUpdateType.IMMEDIATE).build());\r\n```\r\nAnyone know how to resolve activityResultLauncher\r\n\r\nRegards","link":"https://stackoverflow.com/questions/77541022/inappupdate-deprecated","title":"InAppUpdate deprecated","body":"<p>appUpdateManager.startUpdateFlowForResult is deprecated and is replace by:</p>\n<pre><code>appUpdateManager.startUpdateFlowForResult(\n    // Pass the intent that is returned by 'getAppUpdateInfo()'.\n    appUpdateInfo,\n    // an activity result launcher registered via registerForActivityResult\n    activityResultLauncher,\n    // Or pass 'AppUpdateType.FLEXIBLE' to newBuilder() for\n    // flexible updates.\n    AppUpdateOptions.newBuilder(AppUpdateType.IMMEDIATE).build());\n</code></pre>\n<p>Anyone know how to resolve activityResultLauncher</p>\n<p>Regards</p>\n"},{"tags":["java","docker","java-17"],"comments":[{"score":0,"post_type":"question","creation_date":1690436485,"post_id":76776765,"comment_id":135354153,"body_markdown":"current distributions: https://sdkman.io/jdks, there should also be images availlable on dockerhub","link":"https://stackoverflow.com/questions/76776765/dockerfile-with-java-17#comment135354153_76776765","body":"current distributions: <a href=\"https://sdkman.io/jdks\" rel=\"nofollow noreferrer\">sdkman.io/jdks</a>, there should also be images availlable on dockerhub"},{"score":0,"post_type":"question","creation_date":1690436743,"post_id":76776765,"comment_id":135354184,"body_markdown":"You can always use bare bone image of whatever distro you like as a `Dockerfile` base and then simply install whatever version of `JDK` you like. `JDK17` is supposed to stay for a quite a long time now: `30 Sep 2029`. Take a look here for an example: https://github.com/mkowsiak/jnicookbook/blob/master/docker/Dockerfile","link":"https://stackoverflow.com/questions/76776765/dockerfile-with-java-17#comment135354184_76776765","body":"You can always use bare bone image of whatever distro you like as a <code>Dockerfile</code> base and then simply install whatever version of <code>JDK</code> you like. <code>JDK17</code> is supposed to stay for a quite a long time now: <code>30 Sep 2029</code>. Take a look here for an example: <a href=\"https://github.com/mkowsiak/jnicookbook/blob/master/docker/Dockerfile\" rel=\"nofollow noreferrer\">github.com/mkowsiak/jnicookbook/blob/master/docker/Dockerfil&zwnj;&#8203;e</a>"},{"score":0,"post_type":"question","creation_date":1690437249,"post_id":76776765,"comment_id":135354234,"body_markdown":"Ok I se your Dockerfile but openjdk is deprecated, what does it mean ?","link":"https://stackoverflow.com/questions/76776765/dockerfile-with-java-17#comment135354234_76776765","body":"Ok I se your Dockerfile but openjdk is deprecated, what does it mean ?"}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1690437263,"post_id":76776819,"comment_id":135354240,"body_markdown":"You are correct.  There should be *NO* problem using Java 17.  For that matter, *ANY* version of Java (even Java 1.2!) should work has long as the application&#39;s .class files were compiled on that version (or lower).","link":"https://stackoverflow.com/questions/76776765/dockerfile-with-java-17/76776819#comment135354240_76776819","body":"You are correct.  There should be <i>NO</i> problem using Java 17.  For that matter, <i>ANY</i> version of Java (even Java 1.2!) should work has long as the application&#39;s .class files were compiled on that version (or lower)."},{"score":0,"post_type":"answer","creation_date":1690437376,"post_id":76776819,"comment_id":135354254,"body_markdown":"ok but what about openjdk, there is a info that openjdk is deprecated, what does it men? can I use it?\nhttps://hub.docker.com/_/openjdk   - DEPRECATION NOTICE","link":"https://stackoverflow.com/questions/76776765/dockerfile-with-java-17/76776819#comment135354254_76776819","body":"ok but what about openjdk, there is a info that openjdk is deprecated, what does it men? can I use it? <a href=\"https://hub.docker.com/_/openjdk\" rel=\"nofollow noreferrer\">hub.docker.com/_/openjdk</a>   - DEPRECATION NOTICE"},{"score":2,"post_type":"answer","creation_date":1690438091,"post_id":76776819,"comment_id":135354353,"body_markdown":"&quot;openjdk&quot; (https://openjdk.org/) is *NOT* deprecated.  Only the Docker images with pre-installed OpenJDK that had previously been available from DockerHub.  The alternatives are 1) simply use a different base image, install your own JDK, and use that (custom) image, or 2) consider downloading an [eclipse-temurin](https://hub.docker.com/_/eclipse-temurin) Docker image or equivalent (see my response below).","link":"https://stackoverflow.com/questions/76776765/dockerfile-with-java-17/76776819#comment135354353_76776819","body":"&quot;openjdk&quot; (<a href=\"https://openjdk.org/\" rel=\"nofollow noreferrer\">openjdk.org</a>) is <i>NOT</i> deprecated.  Only the Docker images with pre-installed OpenJDK that had previously been available from DockerHub.  The alternatives are 1) simply use a different base image, install your own JDK, and use that (custom) image, or 2) consider downloading an <a href=\"https://hub.docker.com/_/eclipse-temurin\" rel=\"nofollow noreferrer\">eclipse-temurin</a> Docker image or equivalent (see my response below)."},{"score":0,"post_type":"answer","creation_date":1690439858,"post_id":76776819,"comment_id":135354615,"body_markdown":"@paulsm4 If I want to use mvn in openjdk Temurin, I have to create Dockerfile and add/install to it, right?","link":"https://stackoverflow.com/questions/76776765/dockerfile-with-java-17/76776819#comment135354615_76776819","body":"@paulsm4 If I want to use mvn in openjdk Temurin, I have to create Dockerfile and add/install to it, right?"}],"comment_count":4,"score":1,"last_activity_date":1700957629,"last_edit_date":1700957629,"creation_date":1690436949,"answer_id":76776819,"question_id":76776765,"body_markdown":"You can use this Dockerfile for Java 17\r\n\r\n    FROM openjdk:17-jdk-slim AS build\r\n    \r\n    COPY pom.xml mvnw ./\r\n    COPY .mvn .mvn\r\n    RUN ./mvnw dependency:resolve\r\n    \r\n    COPY src src\r\n    RUN ./mvnw package\r\n    \r\n    FROM openjdk:17-jdk-slim\r\n    WORKDIR demo\r\n    COPY --from=build target/*.jar demo.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;demo.jar&quot;]","link":"https://stackoverflow.com/questions/76776765/dockerfile-with-java-17/76776819#76776819","title":"Dockerfile with java 17","body":"<p>You can use this Dockerfile for Java 17</p>\n<pre><code>FROM openjdk:17-jdk-slim AS build\n\nCOPY pom.xml mvnw ./\nCOPY .mvn .mvn\nRUN ./mvnw dependency:resolve\n\nCOPY src src\nRUN ./mvnw package\n\nFROM openjdk:17-jdk-slim\nWORKDIR demo\nCOPY --from=build target/*.jar demo.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;demo.jar&quot;]\n</code></pre>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1690438630,"post_id":76776876,"comment_id":135354420,"body_markdown":"OpenJDK on Adoptium(Temurin) is opensource? Can I use it for commercial purposes?","link":"https://stackoverflow.com/questions/76776765/dockerfile-with-java-17/76776876#comment135354420_76776876","body":"OpenJDK on Adoptium(Temurin) is opensource? Can I use it for commercial purposes?"},{"score":0,"post_type":"answer","creation_date":1690439319,"post_id":76776876,"comment_id":135354521,"body_markdown":"If I download docker image with openjdk Temurin, on what Linux distro does Temurin base on ?","link":"https://stackoverflow.com/questions/76776765/dockerfile-with-java-17/76776876#comment135354521_76776876","body":"If I download docker image with openjdk Temurin, on what Linux distro does Temurin base on ?"}],"comment_count":2,"score":1,"last_activity_date":1690437567,"creation_date":1690437567,"answer_id":76776876,"question_id":76776765,"body_markdown":"Here&#39;s a good article:\r\n\r\n&gt; https://developers.redhat.com/articles/2022/09/16/updating-docker-hubs-openjdk-image\r\n&gt; \r\n&gt; For many years, the official Docker Hub image builders took OpenJDK\r\n&gt; Java SE update binaries from [Eclipse Adoptium](https://adoptium.net/) and other locations to\r\n&gt; build their own image. But in July 2022, the Docker Hub image builders\r\n&gt; announced the deprecation of this popular image.\r\n&gt; \r\n&gt; Now, Docker asks users to obtain their builds of OpenJDK, either from\r\n&gt; a commercial Java vendor or directly from the Adoptium project. There\r\n&gt; will be no further updates to the existing OpenJDK image, so users\r\n&gt; risk falling behind with functional and security updates to their Java\r\n&gt; SE usage unless they move to an alternate provider. I believe the\r\n&gt; [official Eclipse Temurin image](https://hub.docker.com/_/eclipse-temurin) maintained by the Adoptium project is\r\n&gt; the obvious choice for a replacement image.\r\n\r\nIn other words, the only thing that&#39;s &quot;deprecated&quot; is the prebuilt Docker image.  Not OpenJDK, and certainly not Java 17.\r\n\r\nIt simply means that *you&#39;re* responsible for adding the JDK of your choice to whatever Docker image you decide to use.\r\n\r\nAnother alternative - which the same link goes on to suggest - is getting an image from the Adoptium project:\r\n\r\n&gt; Adoptium is a project dedicated to building, testing, and distributing\r\n&gt; up-to-date and ready-to-use OpenJDK binaries under an open source\r\n&gt; license. Adoptium calls their builds of OpenJDK, Temurin. They are\r\n&gt; available across a broad range of processors and operating systems.\r\n&gt; These Temurin binaries have over half a billion downloads and earned\r\n&gt; the trust of enterprise production environments worldwide. A\r\n&gt; vendor-independent working group based at the Eclipse software\r\n&gt; foundation leads Adoptium.\r\n&gt; \r\n&gt; The Adoptium community provides binaries built directly from OpenJDK\r\n&gt; source code. These Temurin binaries are available as direct downloads,\r\n&gt; installers, or container images and are faithful representations of\r\n&gt; the OpenJDK update source built under controlled conditions.\r\n&gt; \r\n&gt; The official Docker Hub Temurin images contain the latest releases of\r\n&gt; the OpenJDK updates for several Java SE versions, thoroughly tested\r\n&gt; with various applications. The images work as direct drop-in\r\n&gt; replacements for the OpenJDK images. Some OpenJDK images already\r\n&gt; contain Temurin binaries.\r\n\r\n","link":"https://stackoverflow.com/questions/76776765/dockerfile-with-java-17/76776876#76776876","title":"Dockerfile with java 17","body":"<p>Here's a good article:</p>\n<blockquote>\n<p><a href=\"https://developers.redhat.com/articles/2022/09/16/updating-docker-hubs-openjdk-image\" rel=\"nofollow noreferrer\">https://developers.redhat.com/articles/2022/09/16/updating-docker-hubs-openjdk-image</a></p>\n<p>For many years, the official Docker Hub image builders took OpenJDK\nJava SE update binaries from <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Eclipse Adoptium</a> and other locations to\nbuild their own image. But in July 2022, the Docker Hub image builders\nannounced the deprecation of this popular image.</p>\n<p>Now, Docker asks users to obtain their builds of OpenJDK, either from\na commercial Java vendor or directly from the Adoptium project. There\nwill be no further updates to the existing OpenJDK image, so users\nrisk falling behind with functional and security updates to their Java\nSE usage unless they move to an alternate provider. I believe the\n<a href=\"https://hub.docker.com/_/eclipse-temurin\" rel=\"nofollow noreferrer\">official Eclipse Temurin image</a> maintained by the Adoptium project is\nthe obvious choice for a replacement image.</p>\n</blockquote>\n<p>In other words, the only thing that's &quot;deprecated&quot; is the prebuilt Docker image.  Not OpenJDK, and certainly not Java 17.</p>\n<p>It simply means that <em>you're</em> responsible for adding the JDK of your choice to whatever Docker image you decide to use.</p>\n<p>Another alternative - which the same link goes on to suggest - is getting an image from the Adoptium project:</p>\n<blockquote>\n<p>Adoptium is a project dedicated to building, testing, and distributing\nup-to-date and ready-to-use OpenJDK binaries under an open source\nlicense. Adoptium calls their builds of OpenJDK, Temurin. They are\navailable across a broad range of processors and operating systems.\nThese Temurin binaries have over half a billion downloads and earned\nthe trust of enterprise production environments worldwide. A\nvendor-independent working group based at the Eclipse software\nfoundation leads Adoptium.</p>\n<p>The Adoptium community provides binaries built directly from OpenJDK\nsource code. These Temurin binaries are available as direct downloads,\ninstallers, or container images and are faithful representations of\nthe OpenJDK update source built under controlled conditions.</p>\n<p>The official Docker Hub Temurin images contain the latest releases of\nthe OpenJDK updates for several Java SE versions, thoroughly tested\nwith various applications. The images work as direct drop-in\nreplacements for the OpenJDK images. Some OpenJDK images already\ncontain Temurin binaries.</p>\n</blockquote>\n"}],"comment_count":3,"is_answered":true,"view_count":4893,"answer_count":2,"score":0,"last_activity_date":1700957629,"creation_date":1690436195,"question_id":76776765,"body_markdown":"I want to crate docker image with java 17 and maven. My idea was to use openjdk image with java 17 but I see that opendjk is **deprecated**. \r\n1. What does it mean that is deprecated? It will work but without update?\r\n2. What image can I use for it? is there any one ready with java 17 and maven ?\r\n3. Can I use it for comercial purposes?","link":"https://stackoverflow.com/questions/76776765/dockerfile-with-java-17","title":"Dockerfile with java 17","body":"<p>I want to crate docker image with java 17 and maven. My idea was to use openjdk image with java 17 but I see that opendjk is <strong>deprecated</strong>.</p>\n<ol>\n<li>What does it mean that is deprecated? It will work but without update?</li>\n<li>What image can I use for it? is there any one ready with java 17 and maven ?</li>\n<li>Can I use it for comercial purposes?</li>\n</ol>\n"},{"tags":["java","maven","gradle","minecraft","minecraft-fabric"],"comments":[{"score":0,"post_type":"question","creation_date":1701002042,"post_id":77549975,"comment_id":136718639,"body_markdown":"What is the question? You have the solution clear.","link":"https://stackoverflow.com/questions/77549975/could-not-resolve-me-shedanielroughlyenoughitems-api-fabric13-0-666#comment136718639_77549975","body":"What is the question? You have the solution clear."}],"comment_count":1,"is_answered":false,"view_count":13,"answer_count":0,"score":1,"last_activity_date":1700956355,"creation_date":1700956355,"question_id":77549975,"body_markdown":"So I am trying to add REI as an dependency to my mod, but it gives the error displayed in the title. I have watched a tutorial and did everything the same yet the build fails. I also tried to do it with create and got the same error.\r\n\r\nThis is my entire build.gradle:\r\n```\r\nplugins {\r\n\tid &#39;fabric-loom&#39; version &#39;1.4-SNAPSHOT&#39;\r\n\tid &#39;maven-publish&#39;\r\n}\r\n\r\nversion = project.mod_version\r\ngroup = project.maven_group\r\n\r\nbase {\r\n\tarchivesName = project.archives_base_name\r\n}\r\n\r\nrepositories {\r\n\tmaven { url &quot;&lt;https://maven.shedaniel.me/&gt;&quot; }\r\n\t// Add repositories to retrieve artifacts from in here.\r\n\t// You should only use this when depending on other mods because\r\n\t// Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\r\n\t// See https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\t// for more information about repositories.\r\n}\r\n\r\nloom {\r\n    runs {\r\n\t\t// This adds a new gradle task that runs the datagen API: &quot;gradlew runDatagen&quot;\r\n\t\tdatagen {\r\n\t\t\tinherit server\r\n\t\t\tname &quot;Data Generation&quot;\r\n\t\t\tvmArg &quot;-Dfabric-api.datagen&quot;\r\n\t\t\tvmArg &quot;-Dfabric-api.datagen.output-dir=${file(&quot;src/main/generated&quot;)}&quot;\r\n\t\t\tvmArg &quot;-Dfabric-api.datagen.modid=vixitumod&quot;\r\n \r\n\t\t\trunDir &quot;build/datagen&quot;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Add the generated resources to the main source set\r\nsourceSets {\r\n\tmain {\r\n\t\tresources {\r\n\t\t\tsrcDirs += [\r\n\t\t\t\t\t&#39;src/main/generated&#39;\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n}\r\ndependencies {\r\n\t// To change the versions see the gradle.properties file\r\n\tminecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\r\n\tmappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\r\n\tmodImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\r\n\r\n\t// Fabric API. This is technically optional, but you probably want it anyway.\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\r\n\r\n\tmodCompileOnly &quot;me.shedaniel:RoughlyEnoughItems-api-fabric:13.0.666&quot;\r\n\tmodRuntimeOnly &quot;me.shedaniel:RoughlyEnoughItems-fabric:13.0.66&quot;\r\n\t\r\n\t// Uncomment the following line to enable the deprecated Fabric API modules. \r\n\t// These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\r\n\r\n\t// modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\r\n}\r\n\r\nprocessResources {\r\n\tinputs.property &quot;version&quot;, project.version\r\n\r\n\tfilesMatching(&quot;fabric.mod.json&quot;) {\r\n\t\texpand &quot;version&quot;: project.version\r\n\t}\r\n}\r\n\r\ntasks.withType(JavaCompile).configureEach {\r\n\tit.options.release = 17\r\n}\r\n\r\njava {\r\n\t// Loom will automatically attach sourcesJar to a RemapSourcesJar task and to the &quot;build&quot; task\r\n\t// if it is present.\r\n\t// If you remove this line, sources will not be generated.\r\n\twithSourcesJar()\r\n\r\n\tsourceCompatibility = JavaVersion.VERSION_17\r\n\ttargetCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\njar {\r\n\tfrom(&quot;LICENSE&quot;) {\r\n\t\trename { &quot;${it}_${project.base.archivesName.get()}&quot;}\r\n\t}\r\n}\r\n\r\n// configure the maven publication\r\npublishing {\r\n\tpublications {\r\n\t\tmavenJava(MavenPublication) {\r\n\t\t\tfrom components.java\r\n\t\t}\r\n\t}\r\n\r\n\t// See https://docs.gradle.org/current/userguide/publishing_maven.html for information on how to set up publishing.\r\n\trepositories {\r\n\t\t// Add repositories to publish to here.\r\n\t\t// Notice: This block does NOT have the same function as the block in the top level.\r\n\t\t// The repositories here will be used for publishing your artifact, not for\r\n\t\t// retrieving dependencies.\r\n\t}\r\n}\r\n```\r\n\r\nAnd this is the full error:\r\nA problem occurred configuring root project &#39;vixitumodfolder&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:modCompileOnly&#39;.\r\n   &gt; Could not find me.shedaniel:RoughlyEnoughItems-api-fabric:13.0.666.\r\n     Searched in the following locations:\r\n       - file:/C:/Users/vixitu/Desktop/vixitumodfolder/.gradle/loom-cache/remapped_mods/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\r\n       - file:/C:/Users/vixitu/.gradle/caches/fabric-loom/minecraftMaven/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\r\n       - file:/C:/Users/vixitu/Desktop/vixitumodfolder/.gradle/loom-cache/minecraftMaven/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\r\n       - https://maven.fabricmc.net/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\r\n       - https://libraries.minecraft.net/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\r\n       - https://libraries.minecraft.net/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.jar\r\n       - https://repo.maven.apache.org/maven2/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\r\n       - file:/C:/Users/vixitu/Desktop/vixitumodfolder/&lt;https:/maven.shedaniel.me/&gt;/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\r\n     Required by:\r\n         project :\r\n\r\nPossible solution:\r\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html","link":"https://stackoverflow.com/questions/77549975/could-not-resolve-me-shedanielroughlyenoughitems-api-fabric13-0-666","title":"Could not resolve me.shedaniel:RoughlyEnoughItems-api-fabric:13.0.666","body":"<p>So I am trying to add REI as an dependency to my mod, but it gives the error displayed in the title. I have watched a tutorial and did everything the same yet the build fails. I also tried to do it with create and got the same error.</p>\n<p>This is my entire build.gradle:</p>\n<pre><code>plugins {\n    id 'fabric-loom' version '1.4-SNAPSHOT'\n    id 'maven-publish'\n}\n\nversion = project.mod_version\ngroup = project.maven_group\n\nbase {\n    archivesName = project.archives_base_name\n}\n\nrepositories {\n    maven { url &quot;&lt;https://maven.shedaniel.me/&gt;&quot; }\n    // Add repositories to retrieve artifacts from in here.\n    // You should only use this when depending on other mods because\n    // Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\n    // See https://docs.gradle.org/current/userguide/declaring_repositories.html\n    // for more information about repositories.\n}\n\nloom {\n    runs {\n        // This adds a new gradle task that runs the datagen API: &quot;gradlew runDatagen&quot;\n        datagen {\n            inherit server\n            name &quot;Data Generation&quot;\n            vmArg &quot;-Dfabric-api.datagen&quot;\n            vmArg &quot;-Dfabric-api.datagen.output-dir=${file(&quot;src/main/generated&quot;)}&quot;\n            vmArg &quot;-Dfabric-api.datagen.modid=vixitumod&quot;\n \n            runDir &quot;build/datagen&quot;\n        }\n    }\n}\n\n// Add the generated resources to the main source set\nsourceSets {\n    main {\n        resources {\n            srcDirs += [\n                    'src/main/generated'\n            ]\n        }\n    }\n}\ndependencies {\n    // To change the versions see the gradle.properties file\n    minecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\n    mappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\n    modImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\n\n    // Fabric API. This is technically optional, but you probably want it anyway.\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\n\n    modCompileOnly &quot;me.shedaniel:RoughlyEnoughItems-api-fabric:13.0.666&quot;\n    modRuntimeOnly &quot;me.shedaniel:RoughlyEnoughItems-fabric:13.0.66&quot;\n    \n    // Uncomment the following line to enable the deprecated Fabric API modules. \n    // These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\n\n    // modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\n}\n\nprocessResources {\n    inputs.property &quot;version&quot;, project.version\n\n    filesMatching(&quot;fabric.mod.json&quot;) {\n        expand &quot;version&quot;: project.version\n    }\n}\n\ntasks.withType(JavaCompile).configureEach {\n    it.options.release = 17\n}\n\njava {\n    // Loom will automatically attach sourcesJar to a RemapSourcesJar task and to the &quot;build&quot; task\n    // if it is present.\n    // If you remove this line, sources will not be generated.\n    withSourcesJar()\n\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\njar {\n    from(&quot;LICENSE&quot;) {\n        rename { &quot;${it}_${project.base.archivesName.get()}&quot;}\n    }\n}\n\n// configure the maven publication\npublishing {\n    publications {\n        mavenJava(MavenPublication) {\n            from components.java\n        }\n    }\n\n    // See https://docs.gradle.org/current/userguide/publishing_maven.html for information on how to set up publishing.\n    repositories {\n        // Add repositories to publish to here.\n        // Notice: This block does NOT have the same function as the block in the top level.\n        // The repositories here will be used for publishing your artifact, not for\n        // retrieving dependencies.\n    }\n}\n</code></pre>\n<p>And this is the full error:\nA problem occurred configuring root project 'vixitumodfolder'.</p>\n<blockquote>\n<p>Could not resolve all files for configuration ':modCompileOnly'.\nCould not find me.shedaniel:RoughlyEnoughItems-api-fabric:13.0.666.\nSearched in the following locations:\n- file:/C:/Users/vixitu/Desktop/vixitumodfolder/.gradle/loom-cache/remapped_mods/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\n- file:/C:/Users/vixitu/.gradle/caches/fabric-loom/minecraftMaven/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\n- file:/C:/Users/vixitu/Desktop/vixitumodfolder/.gradle/loom-cache/minecraftMaven/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\n- <a href=\"https://maven.fabricmc.net/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\" rel=\"nofollow noreferrer\">https://maven.fabricmc.net/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom</a>\n- <a href=\"https://libraries.minecraft.net/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\" rel=\"nofollow noreferrer\">https://libraries.minecraft.net/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom</a>\n- <a href=\"https://libraries.minecraft.net/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.jar\" rel=\"nofollow noreferrer\">https://libraries.minecraft.net/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.jar</a>\n- <a href=\"https://repo.maven.apache.org/maven2/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom</a>\n- file:/C:/Users/vixitu/Desktop/vixitumodfolder/https:/maven.shedaniel.me//me/shedaniel/RoughlyEnoughItems-api-fabric/13.0.666/RoughlyEnoughItems-api-fabric-13.0.666.pom\nRequired by:\nproject :</p>\n</blockquote>\n<p>Possible solution:</p>\n<ul>\n<li>Declare repository providing the artifact, see the documentation at <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_repositories.html</a></li>\n</ul>\n"},{"tags":["java","spring","spring-boot","neo4j","spring-data-neo4j"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701044278,"post_id":77549953,"comment_id":136722705,"body_markdown":"I tried this way as well, but on one path, multiple nodes with different labels could be included. I have to manually check and convert each of them. Hope SDN could provide a more elegant way to deal with this.","link":"https://stackoverflow.com/questions/77520005/spring-data-neo4j-cant-convert-internalnode-back-to-entity-class-when-retrievin/77549953#comment136722705_77549953","body":"I tried this way as well, but on one path, multiple nodes with different labels could be included. I have to manually check and convert each of them. Hope SDN could provide a more elegant way to deal with this."}],"comment_count":1,"score":0,"last_activity_date":1700955753,"creation_date":1700955753,"answer_id":77549953,"question_id":77520005,"body_markdown":"I&#39;m not sure if I&#39;m doing it right, but I&#39;ve encountered this problem myself and haven&#39;t found a better solution than simply creating a new object of the class I need and populating it with values that I extract from the `InternalNode`.\r\n\r\nFor example:\r\n\r\n    InternalNode internalNode = (InternalNode) weightedCriteriaArrayElement.get(&quot;criterion&quot;);\r\n    \r\n    Criterion criterion = new Criterion(); // my entity class\r\n    Map&lt;String, Object&gt; nodeProperties = new HashMap&lt;&gt;(internalNode.asMap());\r\n    BeanUtils.populate(criterion, nodeProperties);\r\n    criterion.setGraphId(internalNode.id());","link":"https://stackoverflow.com/questions/77520005/spring-data-neo4j-cant-convert-internalnode-back-to-entity-class-when-retrievin/77549953#77549953","title":"Spring data Neo4j can&#39;t convert InternalNode back to entity class when retrieving paths","body":"<p>I'm not sure if I'm doing it right, but I've encountered this problem myself and haven't found a better solution than simply creating a new object of the class I need and populating it with values that I extract from the <code>InternalNode</code>.</p>\n<p>For example:</p>\n<pre><code>InternalNode internalNode = (InternalNode) weightedCriteriaArrayElement.get(&quot;criterion&quot;);\n\nCriterion criterion = new Criterion(); // my entity class\nMap&lt;String, Object&gt; nodeProperties = new HashMap&lt;&gt;(internalNode.asMap());\nBeanUtils.populate(criterion, nodeProperties);\ncriterion.setGraphId(internalNode.id());\n</code></pre>\n"}],"comment_count":0,"is_answered":false,"view_count":59,"answer_count":1,"score":1,"last_activity_date":1700955753,"creation_date":1700534522,"last_edit_date":1700773238,"question_id":77520005,"body_markdown":"I&#39;m using Neo4jClient to do the following query for retrieving nodes and relationships by paths.\r\n```\r\n    public Collection&lt;Map&lt;String, Object&gt;&gt; findBookByUniqueIds(List&lt;String&gt; srcUniqueIds, String name) {\r\n\r\n        return neo4jClient.query(\r\n                        &quot;&quot;&quot;\r\n                                MATCH path = (src:Book)-[*1..2]-(target:Book)\r\n                                WHERE src.uniqueId IN $uniqueIds\r\n                                AND toUpper(target.name) = toUpper($name)\r\n                                RETURN nodes(path) AS nodes, relationships(path) AS relations\r\n                                &quot;&quot;&quot;)\r\n                .bind(srcUniqueIds).to(&quot;uniqueIds&quot;)\r\n                .bind(name).to(&quot;name&quot;)\r\n                .fetch().all();\r\n    }\r\n```\r\n\r\nAnd I extract the data like this:\r\n```\r\nCollection&lt;Map&lt;String, Object&gt;&gt; result = findBookByUniqueIds(ids, name);\r\nList&lt;Object&gt; nodes = (List&lt;Object&gt;) result.get(&quot;nodes&quot;);\r\nList&lt;Object&gt; relationships = (List&lt;Object&gt;) result.get(&quot;relations&quot;);\r\n```\r\n\r\nWhen I was trying to cask the node back to entity class:\r\n```\r\nif (nodes.size() == 2) {\r\n    Book book1 = (Book) nodes.get(0);\r\n    Book book2 = (Book) nodes.get(1);\r\n} else if (nodes.size() == 3) {\r\n    Book book1 = (Book) nodes.get(0);\r\n    Author author = (Author) nodes.get(1);\r\n    Book book2 = (Book) nodes.get(2);\r\n}\r\n```\r\nAnd I got the exception `java.lang.ClassCastException: class org.neo4j.driver.internal.InternalNode cannot be cast to class xxx`\r\n\r\nAny idea on how to convert the node back to entity class?\r\n\r\nThanks","link":"https://stackoverflow.com/questions/77520005/spring-data-neo4j-cant-convert-internalnode-back-to-entity-class-when-retrievin","title":"Spring data Neo4j can&#39;t convert InternalNode back to entity class when retrieving paths","body":"<p>I'm using Neo4jClient to do the following query for retrieving nodes and relationships by paths.</p>\n<pre><code>    public Collection&lt;Map&lt;String, Object&gt;&gt; findBookByUniqueIds(List&lt;String&gt; srcUniqueIds, String name) {\n\n        return neo4jClient.query(\n                        &quot;&quot;&quot;\n                                MATCH path = (src:Book)-[*1..2]-(target:Book)\n                                WHERE src.uniqueId IN $uniqueIds\n                                AND toUpper(target.name) = toUpper($name)\n                                RETURN nodes(path) AS nodes, relationships(path) AS relations\n                                &quot;&quot;&quot;)\n                .bind(srcUniqueIds).to(&quot;uniqueIds&quot;)\n                .bind(name).to(&quot;name&quot;)\n                .fetch().all();\n    }\n</code></pre>\n<p>And I extract the data like this:</p>\n<pre><code>Collection&lt;Map&lt;String, Object&gt;&gt; result = findBookByUniqueIds(ids, name);\nList&lt;Object&gt; nodes = (List&lt;Object&gt;) result.get(&quot;nodes&quot;);\nList&lt;Object&gt; relationships = (List&lt;Object&gt;) result.get(&quot;relations&quot;);\n</code></pre>\n<p>When I was trying to cask the node back to entity class:</p>\n<pre><code>if (nodes.size() == 2) {\n    Book book1 = (Book) nodes.get(0);\n    Book book2 = (Book) nodes.get(1);\n} else if (nodes.size() == 3) {\n    Book book1 = (Book) nodes.get(0);\n    Author author = (Author) nodes.get(1);\n    Book book2 = (Book) nodes.get(2);\n}\n</code></pre>\n<p>And I got the exception <code>java.lang.ClassCastException: class org.neo4j.driver.internal.InternalNode cannot be cast to class xxx</code></p>\n<p>Any idea on how to convert the node back to entity class?</p>\n<p>Thanks</p>\n"},{"tags":["java","swing","jtabbedpane"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1700938064,"creation_date":1700938064,"answer_id":77549182,"question_id":77548881,"body_markdown":"&gt;  ideally I would like to get the preferred size of the tabbed pane\r\n\r\nYes, that is the key. The default preferred size is based on the size of the largest component added to the tabbed pane, not the tabs themselves.\r\n\r\nSo you need to customize the `getPreferredSize()` method to consider the tabs:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.plaf.*;\r\n    \r\n    public class TabbedPaneExample2\r\n    {\r\n    \tprivate static void createAndShowGUI()\r\n    \t{\r\n    \t\tJTabbedPane tabbedPane = new JTabbedPane()\r\n    \t\t{\r\n    \t\t\t//@Override\r\n    \t\t\tpublic Dimension getPreferredSize()\r\n    \t\t\t{\r\n    \t\t\t\tDimension size = super.getPreferredSize();\r\n    \r\n    \t\t\t\tTabbedPaneUI ui = getUI();\r\n    \t\t\t\tRectangle lastTab = ui.getTabBounds(this, this.getTabCount() - 1);\r\n    \t\t\t\tint tabsWidth = lastTab.x + lastTab.width;\r\n    \r\n    \t\t\t\tInsets border = UIManager.getInsets(&quot;TabbedPane.contentBorderInsets&quot;);\r\n    \t\t\t\ttabsWidth += border.left + border.right;\r\n    \r\n    \t\t\t\tif (tabsWidth &gt; size.width)\r\n    \t\t\t\t\tsize.width = tabsWidth;\r\n    \r\n    \t\t\t\treturn size;\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\ttabbedPane.setTabLayoutPolicy(JTabbedPane.SCROLL_TAB_LAYOUT);\r\n    \r\n    \t\tJPanel first = new JPanel();\r\n    \t\tfirst.setPreferredSize( new Dimension(400, 400) );\r\n    \t\ttabbedPane.add(&quot;The first tab&quot;, first);\r\n    \t\ttabbedPane.add(&quot;The second tab&quot;, new JPanel());\r\n    \t\ttabbedPane.add(&quot;The third tab has longer text&quot;, new JPanel());\r\n    \t\ttabbedPane.add(&quot;The fourth tab&quot;, new JPanel());\r\n    \t\ttabbedPane.add(&quot;The fith tab&quot;, new JPanel());\r\n    \r\n    \t\tJFrame frame = new JFrame(&quot;TabbedPaneExample2&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add(tabbedPane);\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tjava.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\r\n    \t}\r\n    }\r\n\r\n","link":"https://stackoverflow.com/questions/77548881/is-there-a-way-to-have-all-the-tabs-in-a-jtabbedpane-on-one-row-without-having/77549182#77549182","title":"Is there a way to have all the tabs in a JTabbedPane on one row, without having a scrollbar","body":"<blockquote>\n<p>ideally I would like to get the preferred size of the tabbed pane</p>\n</blockquote>\n<p>Yes, that is the key. The default preferred size is based on the size of the largest component added to the tabbed pane, not the tabs themselves.</p>\n<p>So you need to customize the <code>getPreferredSize()</code> method to consider the tabs:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.plaf.*;\n\npublic class TabbedPaneExample2\n{\n    private static void createAndShowGUI()\n    {\n        JTabbedPane tabbedPane = new JTabbedPane()\n        {\n            //@Override\n            public Dimension getPreferredSize()\n            {\n                Dimension size = super.getPreferredSize();\n\n                TabbedPaneUI ui = getUI();\n                Rectangle lastTab = ui.getTabBounds(this, this.getTabCount() - 1);\n                int tabsWidth = lastTab.x + lastTab.width;\n\n                Insets border = UIManager.getInsets(&quot;TabbedPane.contentBorderInsets&quot;);\n                tabsWidth += border.left + border.right;\n\n                if (tabsWidth &gt; size.width)\n                    size.width = tabsWidth;\n\n                return size;\n            }\n        };\n        tabbedPane.setTabLayoutPolicy(JTabbedPane.SCROLL_TAB_LAYOUT);\n\n        JPanel first = new JPanel();\n        first.setPreferredSize( new Dimension(400, 400) );\n        tabbedPane.add(&quot;The first tab&quot;, first);\n        tabbedPane.add(&quot;The second tab&quot;, new JPanel());\n        tabbedPane.add(&quot;The third tab has longer text&quot;, new JPanel());\n        tabbedPane.add(&quot;The fourth tab&quot;, new JPanel());\n        tabbedPane.add(&quot;The fith tab&quot;, new JPanel());\n\n        JFrame frame = new JFrame(&quot;TabbedPaneExample2&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(tabbedPane);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n    {\n        java.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\n    }\n}\n</code></pre>\n"}],"comment_count":0,"is_answered":true,"view_count":34,"answer_count":1,"score":0,"last_activity_date":1700949538,"creation_date":1700933162,"last_edit_date":1700949538,"question_id":77548881,"body_markdown":"I have a JTabbedPane where I want tabs in only one row, but without having a scroll arrow. I want the tabs to fill the width of the parent JFrame. \r\n\r\nI have the following code:\r\n\r\n    public class TabbedPaneExample extends JFrame {\r\n       public TabbedPaneExample() {\r\n          super(&quot;My TabbedPane&quot;);\r\n          setup();\r\n       }\r\n    \r\n       private void setup() {\r\n          JTabbedPane tabbedPane = new JTabbedPane();\r\n          tabbedPane.add(&quot;The first tab&quot;, new JPanel());\r\n          tabbedPane.add(&quot;The second tab&quot;, new JPanel());\r\n          tabbedPane.add(&quot;The third tab&quot;, new JPanel());\r\n          tabbedPane.add(&quot;The fourth tab&quot;, new JPanel());\r\n          tabbedPane.add(&quot;The fith tab&quot;, new JPanel());\r\n          tabbedPane.setTabLayoutPolicy(JTabbedPane.SCROLL_TAB_LAYOUT);\r\n    \r\n          Container pane = this.getContentPane();\r\n          pane.setLayout(new BorderLayout());\r\n          this.add(tabbedPane, BorderLayout.CENTER);\r\n       }\r\n    \r\n       public static void main(String[] args) {\r\n          TabbedPaneExample example = new TabbedPaneExample();\r\n          example.pack();\r\n          example.setVisible(true);\r\n       }\r\n    }\r\n\r\nI have the following result when I start my program:\r\n\r\n[![The tabbed pane at start][1]][1]\r\n\r\nBut I would like to have:\r\n\r\n[![What I want][2]][2]\r\n\r\nI only found the `setTabLayoutPolicy` method, but ideally I would like to get the preferred size of the tabbed pane and use it in my frame.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ejNxl.png\r\n  [2]: https://i.stack.imgur.com/yhrzM.png","link":"https://stackoverflow.com/questions/77548881/is-there-a-way-to-have-all-the-tabs-in-a-jtabbedpane-on-one-row-without-having","title":"Is there a way to have all the tabs in a JTabbedPane on one row, without having a scrollbar","body":"<p>I have a JTabbedPane where I want tabs in only one row, but without having a scroll arrow. I want the tabs to fill the width of the parent JFrame.</p>\n<p>I have the following code:</p>\n<pre><code>public class TabbedPaneExample extends JFrame {\n   public TabbedPaneExample() {\n      super(&quot;My TabbedPane&quot;);\n      setup();\n   }\n\n   private void setup() {\n      JTabbedPane tabbedPane = new JTabbedPane();\n      tabbedPane.add(&quot;The first tab&quot;, new JPanel());\n      tabbedPane.add(&quot;The second tab&quot;, new JPanel());\n      tabbedPane.add(&quot;The third tab&quot;, new JPanel());\n      tabbedPane.add(&quot;The fourth tab&quot;, new JPanel());\n      tabbedPane.add(&quot;The fith tab&quot;, new JPanel());\n      tabbedPane.setTabLayoutPolicy(JTabbedPane.SCROLL_TAB_LAYOUT);\n\n      Container pane = this.getContentPane();\n      pane.setLayout(new BorderLayout());\n      this.add(tabbedPane, BorderLayout.CENTER);\n   }\n\n   public static void main(String[] args) {\n      TabbedPaneExample example = new TabbedPaneExample();\n      example.pack();\n      example.setVisible(true);\n   }\n}\n</code></pre>\n<p>I have the following result when I start my program:</p>\n<p><a href=\"https://i.stack.imgur.com/ejNxl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ejNxl.png\" alt=\"The tabbed pane at start\" /></a></p>\n<p>But I would like to have:</p>\n<p><a href=\"https://i.stack.imgur.com/yhrzM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yhrzM.png\" alt=\"What I want\" /></a></p>\n<p>I only found the <code>setTabLayoutPolicy</code> method, but ideally I would like to get the preferred size of the tabbed pane and use it in my frame.</p>\n"},{"tags":["java","class","integer"],"comments":[{"score":4,"post_type":"question","creation_date":1700928751,"post_id":77548579,"comment_id":136713252,"body_markdown":"You need to clarify your requirements. **Setting** Java class attributes is done with a constructor or a setter. Adding validation in a setter seems perfectly reasonable and is the way to ensure an instance has valid state. Also there are already ***multiple*** Java `Date` classes. **Please** don&#39;t write another one.","link":"https://stackoverflow.com/questions/77548579/set-range-for-java-attributes-in-a-class#comment136713252_77548579","body":"You need to clarify your requirements. <b>Setting</b> Java class attributes is done with a constructor or a setter. Adding validation in a setter seems perfectly reasonable and is the way to ensure an instance has valid state. Also there are already <b><i>multiple</i></b> Java <code>Date</code> classes. <b>Please</b> don&#39;t write another one."}],"answers":[{"comments":[{"score":1,"post_type":"answer","creation_date":1700930286,"post_id":77548667,"comment_id":136713419,"body_markdown":"This only makes sense if `year`, `month` or `day` are `final` (or `private` without any accessors), otherwise they could be modified after the fact.","link":"https://stackoverflow.com/questions/77548579/set-range-for-java-attributes-in-a-class/77548667#comment136713419_77548667","body":"This only makes sense if <code>year</code>, <code>month</code> or <code>day</code> are <code>final</code> (or <code>private</code> without any accessors), otherwise they could be modified after the fact."},{"score":0,"post_type":"answer","creation_date":1700931518,"post_id":77548667,"comment_id":136713564,"body_markdown":"Yes, when a field is public, it can be accessed and modified directly by external classes, and there&#39;s no way to intercept those changes to apply validation.","link":"https://stackoverflow.com/questions/77548579/set-range-for-java-attributes-in-a-class/77548667#comment136713564_77548667","body":"Yes, when a field is public, it can be accessed and modified directly by external classes, and there&#39;s no way to intercept those changes to apply validation."},{"score":0,"post_type":"answer","creation_date":1700944979,"post_id":77548667,"comment_id":136714912,"body_markdown":"Or make it immutable by defining the class as a [record](https://openjdk.org/jeps/395). `record Date ( int year, int month, int day ) {}`","link":"https://stackoverflow.com/questions/77548579/set-range-for-java-attributes-in-a-class/77548667#comment136714912_77548667","body":"Or make it immutable by defining the class as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>. <code>record Date ( int year, int month, int day ) {}</code>"}],"comment_count":3,"score":2,"last_activity_date":1700930027,"creation_date":1700930027,"answer_id":77548667,"question_id":77548579,"body_markdown":"You can validate in the constructor of the class. When you try to create the class with any invalid fields an exception will be thrown.\r\n\r\n\r\n\tDate(int year, int month, int day) {\r\n\t\t\r\n\t\tif (year &lt; 1900 || year &gt; 2100) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Year is out of range. Valid range is [1900-2100].&quot;);\r\n\t\t} else {\r\n\t\t\tthis.year = year;\r\n\t\t}\r\n\r\n\t\tif (month &lt; 1 || month &gt; 12) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Month is out of range. Valid range is [1-12].&quot;);\r\n\t\t} else {\r\n\t\t\tthis.month = month;\r\n\t\t}\r\n\r\n\t\tif (day &lt; 1 || day &gt; 31) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Day is out of range. Valid range is [1-31].&quot;);\r\n\t\t} else {\r\n\t\t\tthis.month = month;\r\n\t\t}\r\n\t}\r\n\r\nYou can test with the following to see the exceptions being thrown.\r\n\r\n    \t\r\n    \tDate validDate = new Date(1900, 2, 30);\r\n    \tDate invalidYear = new Date(1899, 1, 30);\r\n    \tDate invalidMonth = new Date(1900, -1, 3);\r\n    \tDate invalidDay = new Date(1900, 8, 32);","link":"https://stackoverflow.com/questions/77548579/set-range-for-java-attributes-in-a-class/77548667#77548667","title":"Set range for Java attributes in a class?","body":"<p>You can validate in the constructor of the class. When you try to create the class with any invalid fields an exception will be thrown.</p>\n<pre><code>Date(int year, int month, int day) {\n    \n    if (year &lt; 1900 || year &gt; 2100) {\n        throw new IllegalArgumentException(&quot;Year is out of range. Valid range is [1900-2100].&quot;);\n    } else {\n        this.year = year;\n    }\n\n    if (month &lt; 1 || month &gt; 12) {\n        throw new IllegalArgumentException(&quot;Month is out of range. Valid range is [1-12].&quot;);\n    } else {\n        this.month = month;\n    }\n\n    if (day &lt; 1 || day &gt; 31) {\n        throw new IllegalArgumentException(&quot;Day is out of range. Valid range is [1-31].&quot;);\n    } else {\n        this.month = month;\n    }\n}\n</code></pre>\n<p>You can test with the following to see the exceptions being thrown.</p>\n<pre><code>    Date validDate = new Date(1900, 2, 30);\n    Date invalidYear = new Date(1899, 1, 30);\n    Date invalidMonth = new Date(1900, -1, 3);\n    Date invalidDay = new Date(1900, 8, 32);\n</code></pre>\n"},{"comment_count":0,"score":0,"last_activity_date":1700932063,"last_edit_date":1700932063,"creation_date":1700931400,"answer_id":77548751,"question_id":77548579,"body_markdown":"The [Answer by Sexton][1] is correct. \r\n\r\n## *Jakarta Validation*\r\n\r\nAdditionally, you can use the [*Jakarta Validation*][2] framework to validate your state. (Formerly known as *Java Bean Validation*, and as *Jakarta Bean Validation*.)\r\n\r\nTo quote the documentation:\r\n\r\n&gt;Jakarta Validation provides an object level constraint declaration and validation facility for the Java application developer, as well as a constraint metadata repository and query API.\r\n\r\nUsage is quite simple. You can apply annotations to fields and arguments. \r\n\r\n    public class Date {\r\n        @Min( 1900 )\r\n        @Max( 2100 )\r\n        int year;\r\n        …\r\n\r\nThen you execute a validation operation to see if current state satisfies those constraints. \r\n\r\nSeveral validations are bundled with the only implementation of the current specification, [*Hibernate Validator*][3] by Red Hat. You can then write more validations, and assign them to your own annotations. \r\n\r\nYou may choose to bypass the Jakarta Validation API, and instead directly use the broader product-specific API of *Hibernate Validator*. \r\n\r\nSee project site: [BeanValidation.org][4]. See [Wikipedia][5] (not up-to-date). \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77548667/642706\r\n  [2]: https://jakarta.ee/specifications/bean-validation/\r\n  [3]: http://hibernate.org/validator/\r\n  [4]: http://beanvalidation.org/\r\n  [5]: https://en.m.wikipedia.org/wiki/Bean_Validation","link":"https://stackoverflow.com/questions/77548579/set-range-for-java-attributes-in-a-class/77548751#77548751","title":"Set range for Java attributes in a class?","body":"<p>The <a href=\"https://stackoverflow.com/a/77548667/642706\">Answer by Sexton</a> is correct.</p>\n<h2><em>Jakarta Validation</em></h2>\n<p>Additionally, you can use the <a href=\"https://jakarta.ee/specifications/bean-validation/\" rel=\"nofollow noreferrer\"><em>Jakarta Validation</em></a> framework to validate your state. (Formerly known as <em>Java Bean Validation</em>, and as <em>Jakarta Bean Validation</em>.)</p>\n<p>To quote the documentation:</p>\n<blockquote>\n<p>Jakarta Validation provides an object level constraint declaration and validation facility for the Java application developer, as well as a constraint metadata repository and query API.</p>\n</blockquote>\n<p>Usage is quite simple. You can apply annotations to fields and arguments.</p>\n<pre><code>public class Date {\n    @Min( 1900 )\n    @Max( 2100 )\n    int year;\n    …\n</code></pre>\n<p>Then you execute a validation operation to see if current state satisfies those constraints.</p>\n<p>Several validations are bundled with the only implementation of the current specification, <a href=\"http://hibernate.org/validator/\" rel=\"nofollow noreferrer\"><em>Hibernate Validator</em></a> by Red Hat. You can then write more validations, and assign them to your own annotations.</p>\n<p>You may choose to bypass the Jakarta Validation API, and instead directly use the broader product-specific API of <em>Hibernate Validator</em>.</p>\n<p>See project site: <a href=\"http://beanvalidation.org/\" rel=\"nofollow noreferrer\">BeanValidation.org</a>. See <a href=\"https://en.m.wikipedia.org/wiki/Bean_Validation\" rel=\"nofollow noreferrer\">Wikipedia</a> (not up-to-date).</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1700946547,"last_edit_date":1700946547,"creation_date":1700932510,"answer_id":77548832,"question_id":77548579,"body_markdown":"&gt; _&quot;... Is is possible to set a range for Integers in a Java class? ...&quot;_\r\n\r\nNo, it is not part of the syntax.\r\n\r\nUtilize a _[class structure](https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html)_.\r\n\r\n```java\r\nabstract class RangedInt {\r\n    int a, b, value;\r\n\r\n    RangedInt(int a, int b, int value) {\r\n        if (value &lt; a || value &gt; b)\r\n            throw new ValueOutOfBounds();\r\n        this.a = a;\r\n        this.b = b;\r\n        this.value = value;\r\n    }\r\n\r\n    static class ValueOutOfBounds extends RuntimeException {\r\n    }\r\n}\r\n\r\nclass Year extends RangedInt {\r\n    Year(int value) {\r\n        super(1900, 2100, value);\r\n    }\r\n}\r\n\r\nclass Month extends RangedInt {\r\n    Month(int value) {\r\n        super(1, 12, value);\r\n    }\r\n}\r\n\r\nclass Day extends RangedInt {\r\n    Day(int value) {\r\n        super(1, 31, value);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass Date {\r\n    Year year; //1900 to 2100\r\n    Month month; //1 to 12\r\n    Day day; //1 to 31\r\n}\r\n```\r\n\r\nHere is an example.\r\n\r\n```java\r\nDate d = new Date();\r\nd.year = new Year(1234);\r\nd.month = new Month(5678);\r\nd.day = new Day(90);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nException in thread &quot;main&quot; RangedInt$ValueOutOfBounds\r\n\tat RangedInt.&lt;init&gt;(Example.java:18)\r\n\tat Year.&lt;init&gt;(Example.java:30)\r\n\tat Example.main(Example.java:6)\r\n```","link":"https://stackoverflow.com/questions/77548579/set-range-for-java-attributes-in-a-class/77548832#77548832","title":"Set range for Java attributes in a class?","body":"<blockquote>\n<p><em>&quot;... Is is possible to set a range for Integers in a Java class? ...&quot;</em></p>\n</blockquote>\n<p>No, it is not part of the syntax.</p>\n<p>Utilize a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html\" rel=\"nofollow noreferrer\">class structure</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class RangedInt {\n    int a, b, value;\n\n    RangedInt(int a, int b, int value) {\n        if (value &lt; a || value &gt; b)\n            throw new ValueOutOfBounds();\n        this.a = a;\n        this.b = b;\n        this.value = value;\n    }\n\n    static class ValueOutOfBounds extends RuntimeException {\n    }\n}\n\nclass Year extends RangedInt {\n    Year(int value) {\n        super(1900, 2100, value);\n    }\n}\n\nclass Month extends RangedInt {\n    Month(int value) {\n        super(1, 12, value);\n    }\n}\n\nclass Day extends RangedInt {\n    Day(int value) {\n        super(1, 31, value);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Date {\n    Year year; //1900 to 2100\n    Month month; //1 to 12\n    Day day; //1 to 31\n}\n</code></pre>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Date d = new Date();\nd.year = new Year(1234);\nd.month = new Month(5678);\nd.day = new Day(90);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; RangedInt$ValueOutOfBounds\n    at RangedInt.&lt;init&gt;(Example.java:18)\n    at Year.&lt;init&gt;(Example.java:30)\n    at Example.main(Example.java:6)\n</code></pre>\n"},{"comment_count":0,"score":0,"last_activity_date":1700946021,"last_edit_date":1700946021,"creation_date":1700933569,"answer_id":77548907,"question_id":77548579,"body_markdown":"Since a valid day depends on the `month`, I suggest you use [LocalDate](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html).  In fact, you should be using the [java.time](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/package-summary.html) classes for date/time requirements.\r\n```\r\n\r\nvalidate(6, 30, 2102);\r\nvalidate(6, 31, 2023);\r\n```\r\nprints\r\n```\r\nYear is out of range. Valid range is [1900-2100].\r\nInvalid value for MonthOfYear (valid values 1 - 12): 31\r\n```\r\nMethod\r\n```\r\npublic static void validate(int month, int day, int year) {\r\n    if (year &lt; 1990 || year &gt; 2100) {\r\n        System.out.println(\r\n                &quot;Year is out of range. Valid range is [1900-2100].&quot;);\r\n        return;\r\n    }\r\n    try {\r\n        LocalDate ld = LocalDate.of(month, day, year);\r\n    } catch (DateTimeException e) {\r\n        System.out.println(e.getLocalizedMessage());\r\n    }\r\n}\r\n```\r\nIf you really want to grow your own, then you should validate the day for the month as follows.  This also includes the adjustment for leap year.\r\n```\r\nint maxDay = switch(month) {\r\n    case 1,3,5,7,8,10,12 -&gt; 31; // months with 31 days\r\n    case 4,6,9,11 -&gt; 30;        // months with 30 days\r\n    case 2 -&gt; {                 // special case for February\r\n                if ((year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0) {\r\n                     yield 29;  // is leap year\r\n                } \r\n                yield 28;\r\n    }\r\n    default -&gt; -1;\r\n};\r\nif (day &lt; 1 || day &gt; maxDay) {\r\n    System.out.printf(&quot;Day(%d) is out of range for month(%d).&quot;, day, month);\r\n}\r\n```\r\nIf using `LocalDate`, the leap year will be checked also.  You could also use `Year.isLeap()` from the `java.time` package.  It is a package worth knowing about.","link":"https://stackoverflow.com/questions/77548579/set-range-for-java-attributes-in-a-class/77548907#77548907","title":"Set range for Java attributes in a class?","body":"<p>Since a valid day depends on the <code>month</code>, I suggest you use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a>.  In fact, you should be using the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes for date/time requirements.</p>\n<pre><code>\nvalidate(6, 30, 2102);\nvalidate(6, 31, 2023);\n</code></pre>\n<p>prints</p>\n<pre><code>Year is out of range. Valid range is [1900-2100].\nInvalid value for MonthOfYear (valid values 1 - 12): 31\n</code></pre>\n<p>Method</p>\n<pre><code>public static void validate(int month, int day, int year) {\n    if (year &lt; 1990 || year &gt; 2100) {\n        System.out.println(\n                &quot;Year is out of range. Valid range is [1900-2100].&quot;);\n        return;\n    }\n    try {\n        LocalDate ld = LocalDate.of(month, day, year);\n    } catch (DateTimeException e) {\n        System.out.println(e.getLocalizedMessage());\n    }\n}\n</code></pre>\n<p>If you really want to grow your own, then you should validate the day for the month as follows.  This also includes the adjustment for leap year.</p>\n<pre><code>int maxDay = switch(month) {\n    case 1,3,5,7,8,10,12 -&gt; 31; // months with 31 days\n    case 4,6,9,11 -&gt; 30;        // months with 30 days\n    case 2 -&gt; {                 // special case for February\n                if ((year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0) {\n                     yield 29;  // is leap year\n                } \n                yield 28;\n    }\n    default -&gt; -1;\n};\nif (day &lt; 1 || day &gt; maxDay) {\n    System.out.printf(&quot;Day(%d) is out of range for month(%d).&quot;, day, month);\n}\n</code></pre>\n<p>If using <code>LocalDate</code>, the leap year will be checked also.  You could also use <code>Year.isLeap()</code> from the <code>java.time</code> package.  It is a package worth knowing about.</p>\n"}],"comment_count":1,"is_answered":true,"view_count":91,"answer_count":4,"score":0,"last_activity_date":1700946547,"creation_date":1700928392,"last_edit_date":1700929388,"question_id":77548579,"body_markdown":"Is is possible to set a range for Integers in a Java class?\r\n\r\n    public class Date {\r\n     int year; //1900 to 2100\r\n     int month; //1 to 12\r\n     int day; //1 to 31\r\n    }\r\n\r\nSo you can only set a year between 1900 and 2100, etc. I am not supposed to use any methods to check if valid.","link":"https://stackoverflow.com/questions/77548579/set-range-for-java-attributes-in-a-class","title":"Set range for Java attributes in a class?","body":"<p>Is is possible to set a range for Integers in a Java class?</p>\n<pre><code>public class Date {\n int year; //1900 to 2100\n int month; //1 to 12\n int day; //1 to 31\n}\n</code></pre>\n<p>So you can only set a year between 1900 and 2100, etc. I am not supposed to use any methods to check if valid.</p>\n"},{"tags":["java","spring-boot","jwt","amazon-elastic-beanstalk"],"comments":[{"score":0,"post_type":"question","creation_date":1700930980,"post_id":77548670,"comment_id":136713494,"body_markdown":"Those who are marking negative the question what is wrong in the question?","link":"https://stackoverflow.com/questions/77548670/jwt-token-setting-previous-expiry-date-after-once-expired-on-elastic-beanstalk#comment136713494_77548670","body":"Those who are marking negative the question what is wrong in the question?"},{"score":1,"post_type":"question","creation_date":1700934155,"post_id":77548670,"comment_id":136713848,"body_markdown":"There&#39;s nowhere near enough detail for anyone here to debug this.  Imagine calling your auto mechanic saying &quot;It works in my garage but not in the street, and here&#39;s a picture of a small part of the dashboard&quot;.  Would you expect a coherent answer?","link":"https://stackoverflow.com/questions/77548670/jwt-token-setting-previous-expiry-date-after-once-expired-on-elastic-beanstalk#comment136713848_77548670","body":"There&#39;s nowhere near enough detail for anyone here to debug this.  Imagine calling your auto mechanic saying &quot;It works in my garage but not in the street, and here&#39;s a picture of a small part of the dashboard&quot;.  Would you expect a coherent answer?"},{"score":0,"post_type":"question","creation_date":1700938569,"post_id":77548670,"comment_id":136714312,"body_markdown":"What else should I give in the details I have given the whole scenario I can still improve the question but atleast tell what you need. Let me give the whole file JWT file so a code can be understood better.","link":"https://stackoverflow.com/questions/77548670/jwt-token-setting-previous-expiry-date-after-once-expired-on-elastic-beanstalk#comment136714312_77548670","body":"What else should I give in the details I have given the whole scenario I can still improve the question but atleast tell what you need. Let me give the whole file JWT file so a code can be understood better."},{"score":0,"post_type":"question","creation_date":1700939107,"post_id":77548670,"comment_id":136714381,"body_markdown":"@JimGarrison I have added certain more details for you","link":"https://stackoverflow.com/questions/77548670/jwt-token-setting-previous-expiry-date-after-once-expired-on-elastic-beanstalk#comment136714381_77548670","body":"@JimGarrison I have added certain more details for you"}],"comment_count":4,"is_answered":false,"view_count":45,"answer_count":0,"score":-1,"last_activity_date":1700939172,"creation_date":1700930168,"last_edit_date":1700939172,"question_id":77548670,"body_markdown":"Let me tell you the config I have my Spring Boot code on BeanStalk and my DB on RDS and my new updates are uploaded on BeanStalk through a CI/CD pipeline on Gitlab. So lets suppose I did a commit and my code is updated on BeanStalk I try to login JWT token is generated and is working fine for all URL&#39;s and expiration of my token is 2 days. Now after 2 days that token is expired and the expired time was let suppose 25-11-2023 10:10:10 so I try to login again so when the new JWT is generating it is taking the `setIssuedAt` as `25-11-2023 10:10:10` and the `setExpiresAt` as `25-11-2023 10:10:10` it is taking the same time of the last expired token expiring time was. When I do a fake commit and CI/CD runs it updates the code on BeanStalk everything is fresh so the JWT token will start working normally. I am not understanding what exactly is wrong in this thing is it caching if yes how?\r\n\r\nLet me just paste the JWT token code so you better get an idea of how token is generated\r\n\r\n```\r\n\r\n     package furscan.furscan.Utils;\r\n\r\nimport java.util.Collections;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport org.springframework.security.authentication.AuthenticationCredentialsNotFoundException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.stereotype.Component;\r\nimport furscan.furscan.Entity.MstUsers;\r\nimport furscan.furscan.Repository.AuthRepository;\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\nimport static furscan.furscan.Constants.JWT_TOKEN_START_INDEX;\r\n\r\n@RequiredArgsConstructor\r\n@Component\r\npublic class JwtUtil {\r\n\r\n     private final AuthRepository authRepository;\r\n     \r\n     Date now = new Date(System.currentTimeMillis());\r\n     Date validity = new Date(now.getTime() + 1000*60*60*24*2);\r\n     // System.out.println(now);\r\n     private static String secret = &quot;furscan&quot;;\r\n\r\n     public String generateToken(MstUsers user) {\r\n          Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n          return createToken(claims, user);\r\n     }\r\n     public String createToken(Map&lt;String, Object&gt; claims, MstUsers user) {\r\n          System.out.println(now);\r\n          System.out.println(validity);\r\n          claims.put(&quot;first_name&quot;, user.getFirst_name());\r\n          claims.put(&quot;last_name&quot;, user.getLast_name());\r\n          return Jwts.builder().setClaims(claims).setSubject(user.getEmail()).setIssuedAt(now).setExpiration(validity).signWith(SignatureAlgorithm.HS256, secret).compact();\r\n     }\r\n     \r\n          public boolean validateToken(String token){\r\n               try {\r\n                    Jwts.parser().setSigningKey(secret).parseClaimsJws(token);\r\n                    return true;\r\n               } catch (Exception e) {\r\n                    throw new AuthenticationCredentialsNotFoundException(&quot;Token has expired or incorrect&quot;);\r\n               }\r\n           }\r\n\r\n     public Authentication validateTokenStrongly(String token) {\r\n          MstUsers user = getUserByToken(token);\r\n          return new UsernamePasswordAuthenticationToken(user, null, Collections.emptyList());\r\n     }\r\n\r\n     public MstUsers getUserByToken(String token) {\r\n          Claims claim = Jwts.parser()\r\n                              .setSigningKey(secret)\r\n                              .parseClaimsJws(token)\r\n                              .getBody();\r\n\r\n          MstUsers user = authRepository.findOneByEmail(claim.getSubject());\r\n\r\n          if(user == null) {\r\n               return null;\r\n          }\r\n\r\n          return user;\r\n     }\r\n\r\n     public MstUsers getUser(HttpServletRequest request) {\r\n          String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n          String token = null;\r\n          token = authHeader.substring(JWT_TOKEN_START_INDEX);\r\n          MstUsers user = getUserByToken(token);\r\n          return user;\r\n     }\r\n}\r\n\r\n```\r\nThis is my JWT generation code looks like. But this is working in my local perfectly the issue I mentioned above is not happening in my local system it works perfectly.\r\n\r\nAlso I am giving the payload returned from the JWT token \r\n```\r\n{\r\n  &quot;sub&quot;: &quot;rh917388@dal.ca&quot;,\r\n  &quot;last_name&quot;: &quot;Goswami&quot;,\r\n  &quot;exp&quot;: 1700877865,\r\n  &quot;first_name&quot;: &quot;Rahul&quot;,\r\n  &quot;iat&quot;: 1700705065\r\n}\r\n```\r\nThis is the details of my JWT token if you look at the exp and iat if I login again the same time of iat and exp would be generated in my new JWT token so every other API gives me an error of 401 unauthorised\r\n","link":"https://stackoverflow.com/questions/77548670/jwt-token-setting-previous-expiry-date-after-once-expired-on-elastic-beanstalk","title":"JWT token setting previous expiry date after once expired on Elastic BeanStalk","body":"<p>Let me tell you the config I have my Spring Boot code on BeanStalk and my DB on RDS and my new updates are uploaded on BeanStalk through a CI/CD pipeline on Gitlab. So lets suppose I did a commit and my code is updated on BeanStalk I try to login JWT token is generated and is working fine for all URL's and expiration of my token is 2 days. Now after 2 days that token is expired and the expired time was let suppose 25-11-2023 10:10:10 so I try to login again so when the new JWT is generating it is taking the <code>setIssuedAt</code> as <code>25-11-2023 10:10:10</code> and the <code>setExpiresAt</code> as <code>25-11-2023 10:10:10</code> it is taking the same time of the last expired token expiring time was. When I do a fake commit and CI/CD runs it updates the code on BeanStalk everything is fresh so the JWT token will start working normally. I am not understanding what exactly is wrong in this thing is it caching if yes how?</p>\n<p>Let me just paste the JWT token code so you better get an idea of how token is generated</p>\n<pre><code>\n     package furscan.furscan.Utils;\n\nimport java.util.Collections;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.springframework.security.authentication.AuthenticationCredentialsNotFoundException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.stereotype.Component;\nimport furscan.furscan.Entity.MstUsers;\nimport furscan.furscan.Repository.AuthRepository;\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport jakarta.servlet.http.HttpServletRequest;\nimport lombok.RequiredArgsConstructor;\n\nimport static furscan.furscan.Constants.JWT_TOKEN_START_INDEX;\n\n@RequiredArgsConstructor\n@Component\npublic class JwtUtil {\n\n     private final AuthRepository authRepository;\n     \n     Date now = new Date(System.currentTimeMillis());\n     Date validity = new Date(now.getTime() + 1000*60*60*24*2);\n     // System.out.println(now);\n     private static String secret = &quot;furscan&quot;;\n\n     public String generateToken(MstUsers user) {\n          Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n          return createToken(claims, user);\n     }\n     public String createToken(Map&lt;String, Object&gt; claims, MstUsers user) {\n          System.out.println(now);\n          System.out.println(validity);\n          claims.put(&quot;first_name&quot;, user.getFirst_name());\n          claims.put(&quot;last_name&quot;, user.getLast_name());\n          return Jwts.builder().setClaims(claims).setSubject(user.getEmail()).setIssuedAt(now).setExpiration(validity).signWith(SignatureAlgorithm.HS256, secret).compact();\n     }\n     \n          public boolean validateToken(String token){\n               try {\n                    Jwts.parser().setSigningKey(secret).parseClaimsJws(token);\n                    return true;\n               } catch (Exception e) {\n                    throw new AuthenticationCredentialsNotFoundException(&quot;Token has expired or incorrect&quot;);\n               }\n           }\n\n     public Authentication validateTokenStrongly(String token) {\n          MstUsers user = getUserByToken(token);\n          return new UsernamePasswordAuthenticationToken(user, null, Collections.emptyList());\n     }\n\n     public MstUsers getUserByToken(String token) {\n          Claims claim = Jwts.parser()\n                              .setSigningKey(secret)\n                              .parseClaimsJws(token)\n                              .getBody();\n\n          MstUsers user = authRepository.findOneByEmail(claim.getSubject());\n\n          if(user == null) {\n               return null;\n          }\n\n          return user;\n     }\n\n     public MstUsers getUser(HttpServletRequest request) {\n          String authHeader = request.getHeader(&quot;Authorization&quot;);\n          String token = null;\n          token = authHeader.substring(JWT_TOKEN_START_INDEX);\n          MstUsers user = getUserByToken(token);\n          return user;\n     }\n}\n\n</code></pre>\n<p>This is my JWT generation code looks like. But this is working in my local perfectly the issue I mentioned above is not happening in my local system it works perfectly.</p>\n<p>Also I am giving the payload returned from the JWT token</p>\n<pre><code>{\n  &quot;sub&quot;: &quot;rh917388@dal.ca&quot;,\n  &quot;last_name&quot;: &quot;Goswami&quot;,\n  &quot;exp&quot;: 1700877865,\n  &quot;first_name&quot;: &quot;Rahul&quot;,\n  &quot;iat&quot;: 1700705065\n}\n</code></pre>\n<p>This is the details of my JWT token if you look at the exp and iat if I login again the same time of iat and exp would be generated in my new JWT token so every other API gives me an error of 401 unauthorised</p>\n"},{"tags":["java","linux"],"comments":[{"score":1,"post_type":"question","creation_date":1700938932,"post_id":77549228,"comment_id":136714361,"body_markdown":"The decorations of the frame are implemented by the frame of the underlying OS (not Swing). If you remove the decorations you lose the OS custom functionality.","link":"https://stackoverflow.com/questions/77549228/how-to-enable-desktop-effects-in-the-window-without-java-decoration#comment136714361_77549228","body":"The decorations of the frame are implemented by the frame of the underlying OS (not Swing). If you remove the decorations you lose the OS custom functionality."},{"score":0,"post_type":"question","creation_date":1701042403,"post_id":77549228,"comment_id":136722559,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","link":"https://stackoverflow.com/questions/77549228/how-to-enable-desktop-effects-in-the-window-without-java-decoration#comment136722559_77549228","body":"Please provide enough code so others can better understand or reproduce the problem."}],"comment_count":2,"is_answered":false,"view_count":29,"answer_count":0,"score":0,"last_activity_date":1700938779,"creation_date":1700938779,"question_id":77549228,"body_markdown":"When I create a jframe with decoration all the window effects are shown, but if I remove the decoration the window no longer shows anything and I would like to implement the wobbly window effect that kde plasma has, any ideas on how to do it? [enter image description here](https://i.stack.imgur.com/c2tx8.jpg)\r\n\r\nSorry for the English, I&#39;m translating with Google Translator.","link":"https://stackoverflow.com/questions/77549228/how-to-enable-desktop-effects-in-the-window-without-java-decoration","title":"how to enable desktop effects in the window without java decoration","body":"<p>When I create a jframe with decoration all the window effects are shown, but if I remove the decoration the window no longer shows anything and I would like to implement the wobbly window effect that kde plasma has, any ideas on how to do it? <a href=\"https://i.stack.imgur.com/c2tx8.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Sorry for the English, I'm translating with Google Translator.</p>\n"},{"tags":["java","version"],"comments":[{"score":0,"post_type":"question","creation_date":1700939240,"post_id":77549219,"comment_id":136714407,"body_markdown":"This looks like potential [XY problem](https://meta.stackexchange.com/q/66377). Maybe data you are looking for is already one of properties known by JVM. To see them you can execute code like `System.getProperties().forEach((k,v)-&gt; System.out.println(k+&quot; -&gt; &quot;+v ));`. To get value of single property simply use `System.getProperty(propertyName)`.","link":"https://stackoverflow.com/questions/77549219/general-form-of-version-string-of-java-command#comment136714407_77549219","body":"This looks like potential <a href=\"https://meta.stackexchange.com/q/66377\">XY problem</a>. Maybe data you are looking for is already one of properties known by JVM. To see them you can execute code like <code>System.getProperties().forEach((k,v)-&gt; System.out.println(k+&quot; -&gt; &quot;+v ));</code>. To get value of single property simply use <code>System.getProperty(propertyName)</code>."},{"score":0,"post_type":"question","creation_date":1700940555,"post_id":77549219,"comment_id":136714521,"body_markdown":"True, this is an alternative. \nOn the other hand,in the context i am, I must check versions for tools mostly not in java. \nSo your suggestion is not applicable. \nSo far I just process command line. \n\nThe problem is, that java is special in that there is openjdk and proprietary versions I dont have access to. I hoped that anyone can tell me.","link":"https://stackoverflow.com/questions/77549219/general-form-of-version-string-of-java-command#comment136714521_77549219","body":"True, this is an alternative.  On the other hand,in the context i am, I must check versions for tools mostly not in java.  So your suggestion is not applicable.  So far I just process command line.   The problem is, that java is special in that there is openjdk and proprietary versions I dont have access to. I hoped that anyone can tell me."},{"score":0,"post_type":"question","creation_date":1700943848,"post_id":77549219,"comment_id":136714805,"body_markdown":"Another alternative for those non-java tools would be letting them parse response of your own java class which internally would read/use those properties. For instance you can have `class MyJavaVersionInfo{ ... }` and in its `main` method you can print info you *want* (based on system properties) and in a *way* you want (which would make parsing easier). So *instead* of parsing response of `java -version` you could parse result of `java -cp path/to/package/containing MyJavaVersionInfo`.","link":"https://stackoverflow.com/questions/77549219/general-form-of-version-string-of-java-command#comment136714805_77549219","body":"Another alternative for those non-java tools would be letting them parse response of your own java class which internally would read/use those properties. For instance you can have <code>class MyJavaVersionInfo{ ... }</code> and in its <code>main</code> method you can print info you <i>want</i> (based on system properties) and in a <i>way</i> you want (which would make parsing easier). So <i>instead</i> of parsing response of <code>java -version</code> you could parse result of <code>java -cp path&#47;to&#47;package&#47;containing MyJavaVersionInfo</code>."},{"score":0,"post_type":"question","creation_date":1701097855,"post_id":77549219,"comment_id":136729510,"body_markdown":"I see, yes... i could write an application in java just writing version information. \nThe problem is, my application is a maven plugin.. difficult. ... \nMaybe I shell go back to your initial solution..","link":"https://stackoverflow.com/questions/77549219/general-form-of-version-string-of-java-command#comment136729510_77549219","body":"I see, yes... i could write an application in java just writing version information.  The problem is, my application is a maven plugin.. difficult. ...  Maybe I shell go back to your initial solution.."}],"comment_count":4,"is_answered":false,"view_count":34,"answer_count":0,"score":0,"last_activity_date":1700938664,"creation_date":1700938664,"question_id":77549219,"body_markdown":"I must parse the version string given by `java --version`. \r\nIn my environment the answer is \r\n\r\n```\r\nopenjdk 17.0.9 2023-10-17\r\nOpenJDK Runtime Environment (build 17.0.9+9-suse-105.12-x8664)\r\nOpenJDK 64-Bit Server VM (build 17.0.9+9-suse-105.12-x8664, mixed mode, sharing)\r\n```\r\n\r\nThe proper version seems to be `17.0.9` and the patch seems to be `0`. \r\nBut the second line suggests something different (patch 9?). \r\n\r\nAlso openjdk is for sure specific for open jdk. \r\nWhat else could there be? \r\nIs there always a build date? ","link":"https://stackoverflow.com/questions/77549219/general-form-of-version-string-of-java-command","title":"General form of version string of java command","body":"<p>I must parse the version string given by <code>java --version</code>.\nIn my environment the answer is</p>\n<pre><code>openjdk 17.0.9 2023-10-17\nOpenJDK Runtime Environment (build 17.0.9+9-suse-105.12-x8664)\nOpenJDK 64-Bit Server VM (build 17.0.9+9-suse-105.12-x8664, mixed mode, sharing)\n</code></pre>\n<p>The proper version seems to be <code>17.0.9</code> and the patch seems to be <code>0</code>.\nBut the second line suggests something different (patch 9?).</p>\n<p>Also openjdk is for sure specific for open jdk.\nWhat else could there be?\nIs there always a build date?</p>\n"},{"tags":["java","recursion","backtracking"],"comments":[{"score":0,"post_type":"question","creation_date":1700976015,"post_id":77549150,"comment_id":136716750,"body_markdown":"I suggest formatting your code into a single block, with correct indentation. Thanks.","link":"https://stackoverflow.com/questions/77549150/familytree-not-printing-descendats-and-ancestorsm-just-the-name-of-the-person#comment136716750_77549150","body":"I suggest formatting your code into a single block, with correct indentation. Thanks."}],"comment_count":1,"is_answered":false,"view_count":15,"answer_count":0,"score":0,"last_activity_date":1700937408,"creation_date":1700937408,"question_id":77549150,"body_markdown":"so I have to print descendants and Ancestor with indentation but when I run my code it only prints the name of the person.\r\n\r\nthis is my code so far.\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n```\r\n\r\n```\r\npublic class FamilyTree {\r\n\r\nprivate static final Map&lt;String, Set&lt;String&gt;&gt; relationships = new HashMap&lt;&gt;();\r\n\r\npublic static void main(String[] args) {\r\n    // get route to file &quot;tudor.dat&quot; using classLoader\r\n    String filename = &quot;tudor.dat&quot;;\r\n```\r\n\r\n```\r\nInputStream inputStream =   FamilyTree.class.getClassLoader().getResourceAsStream(filename);\r\n```\r\n\r\n```\r\n    // read file\r\n    readFile(inputStream);\r\n\r\n    // specify name of the person to look hierarchy\r\n    String personName = &quot;Margaret&quot;;\r\n\r\n    // find and print ancestor\r\n    System.out.println(personName);\r\n    System.out.println(&quot;    Ancestors:&quot;);\r\n    findAncestors(personName, 1);\r\n\r\n    //find and print descendants\r\n    System.out.println(&quot;\\n    Descendants:&quot;);\r\n    findDescendants(personName, 1);\r\n}\r\n\r\nprivate static void readFile(InputStream inputStream) {\r\n    try (BufferedReader br = new BufferedReader(new InputStreamReader(inputStream))) {\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n            String[] parts = line.split(&quot;-&gt;&quot;);\r\n            if (parts.length == 2) {\r\n                String parent = parts[0].trim();\r\n                String child = parts[1].trim();\r\n                relationships.computeIfAbsent(parent, k -&gt; new HashSet&lt;&gt;()).add(child);\r\n            }\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\nprivate static void findAncestors(String person, int indentation) {\r\n    printIndentation(indentation);\r\n    System.out.println(person);\r\n\r\n    if (relationships.containsKey(person)) {\r\n        for (String ancestor : relationships.get(person)) {\r\n            findAncestors(ancestor, indentation + 1);\r\n        }\r\n    }\r\n}\r\n\r\nprivate static void findDescendants(String person, int indentation) {\r\n    printIndentation(indentation);\r\n    System.out.println(person);\r\n\r\n    if (relationships.containsKey(person)) {\r\n        for (String descendant : relationships.get(person)) {\r\n            findDescendants(descendant, indentation + 1);\r\n        }\r\n    }\r\n}\r\n\r\nprivate static void printIndentation(int indentation) {\r\n    for (int i = 0; i &lt; indentation; i++) {\r\n        System.out.print(&quot;    &quot;);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n}\r\n```\r\n\r\nI had &quot;Familytree\\\\tudor.dat&quot; before and wasn&#39;t printing anything then I removed the FamilyTree part and it was just printing the name of the person. like this.\r\n\r\nC:\\\\Users\\\\Julim.jdks\\\\openjdk-21.0.1\\\\bin\\\\java.exe &quot;-javaagent:C:\\\\Program Files\\\\JetBrains\\\\IntelliJ IDEA 2023.2.5\\\\lib\\\\idea_rt.jar=52235:C:\\\\Program Files\\\\JetBrains\\\\IntelliJ IDEA 2023.2.5\\\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath &quot;C:\\\\Users\\\\Julim\\\\IdeaProjects\\\\assigment 4 recursion\\\\out\\\\production\\\\assigment 4 recursion&quot; FamilyTree\r\n\r\nMargaret\r\n\r\n    Ancestor:\r\n\r\n        Margaret\r\n\r\n    Descendants:    \r\n\r\n        Margaret\r\n\r\nProcess finished with exit code 0\r\n\r\nwhen it should look like this.\r\n\r\nMargaret     Ancestors:         Margaret             Elizabeth of York             Henry VII          Descendants:         Margaret             James V                 Mary, Queen of Scots                     James VI &amp; I         Margaret Stuart             Henry, Lord Darnley                 James VI &amp; I","link":"https://stackoverflow.com/questions/77549150/familytree-not-printing-descendats-and-ancestorsm-just-the-name-of-the-person","title":"FamilyTree not printing descendats and Ancestorsm, just the name of the person. how can I fix that?","body":"<p>so I have to print descendants and Ancestor with indentation but when I run my code it only prints the name of the person.</p>\n<p>this is my code so far.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\n</code></pre>\n<pre><code>public class FamilyTree {\n\nprivate static final Map&lt;String, Set&lt;String&gt;&gt; relationships = new HashMap&lt;&gt;();\n\npublic static void main(String[] args) {\n    // get route to file &quot;tudor.dat&quot; using classLoader\n    String filename = &quot;tudor.dat&quot;;\n</code></pre>\n<pre><code>InputStream inputStream =   FamilyTree.class.getClassLoader().getResourceAsStream(filename);\n</code></pre>\n<pre><code>    // read file\n    readFile(inputStream);\n\n    // specify name of the person to look hierarchy\n    String personName = &quot;Margaret&quot;;\n\n    // find and print ancestor\n    System.out.println(personName);\n    System.out.println(&quot;    Ancestors:&quot;);\n    findAncestors(personName, 1);\n\n    //find and print descendants\n    System.out.println(&quot;\\n    Descendants:&quot;);\n    findDescendants(personName, 1);\n}\n\nprivate static void readFile(InputStream inputStream) {\n    try (BufferedReader br = new BufferedReader(new InputStreamReader(inputStream))) {\n        String line;\n        while ((line = br.readLine()) != null) {\n            String[] parts = line.split(&quot;-&gt;&quot;);\n            if (parts.length == 2) {\n                String parent = parts[0].trim();\n                String child = parts[1].trim();\n                relationships.computeIfAbsent(parent, k -&gt; new HashSet&lt;&gt;()).add(child);\n            }\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate static void findAncestors(String person, int indentation) {\n    printIndentation(indentation);\n    System.out.println(person);\n\n    if (relationships.containsKey(person)) {\n        for (String ancestor : relationships.get(person)) {\n            findAncestors(ancestor, indentation + 1);\n        }\n    }\n}\n\nprivate static void findDescendants(String person, int indentation) {\n    printIndentation(indentation);\n    System.out.println(person);\n\n    if (relationships.containsKey(person)) {\n        for (String descendant : relationships.get(person)) {\n            findDescendants(descendant, indentation + 1);\n        }\n    }\n}\n\nprivate static void printIndentation(int indentation) {\n    for (int i = 0; i &lt; indentation; i++) {\n        System.out.print(&quot;    &quot;);\n    }\n}\n</code></pre>\n<pre><code>}\n</code></pre>\n<p>I had &quot;Familytree\\tudor.dat&quot; before and wasn't printing anything then I removed the FamilyTree part and it was just printing the name of the person. like this.</p>\n<p>C:\\Users\\Julim.jdks\\openjdk-21.0.1\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2.5\\lib\\idea_rt.jar=52235:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.2.5\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath &quot;C:\\Users\\Julim\\IdeaProjects\\assigment 4 recursion\\out\\production\\assigment 4 recursion&quot; FamilyTree</p>\n<p>Margaret</p>\n<pre><code>Ancestor:\n\n    Margaret\n\nDescendants:    \n\n    Margaret\n</code></pre>\n<p>Process finished with exit code 0</p>\n<p>when it should look like this.</p>\n<p>Margaret     Ancestors:         Margaret             Elizabeth of York             Henry VII          Descendants:         Margaret             James V                 Mary, Queen of Scots                     James VI &amp; I         Margaret Stuart             Henry, Lord Darnley                 James VI &amp; I</p>\n"},{"tags":["java","tomcat","server"],"comments":[{"score":0,"post_type":"question","creation_date":1700922721,"post_id":77547601,"comment_id":136712680,"body_markdown":"Is www.mycompany.com configured in the Virtual host section (i presume if you could ever access because that address would need to be port 80 not 8080) , nb the uat app would need to then be in that virtual host folder , so what is the configured docsbase=folder for that virtual host www.mycompany.com    Go into the virtual host manager in tomcat , not the standard manager interface page , there is a different page for applying the virtual host shares into a tomcat. Technically your server.xml would need to have some extra attributes in it to signify www.mycompany.com directly as the server.","link":"https://stackoverflow.com/questions/77547601/tomcat-giving-503-server-unavailable-while-accessing-context-path#comment136712680_77547601","body":"Is www.mycompany.com configured in the Virtual host section (i presume if you could ever access because that address would need to be port 80 not 8080) , nb the uat app would need to then be in that virtual host folder , so what is the configured docsbase=folder for that virtual host www.mycompany.com    Go into the virtual host manager in tomcat , not the standard manager interface page , there is a different page for applying the virtual host shares into a tomcat. Technically your server.xml would need to have some extra attributes in it to signify www.mycompany.com directly as the server."}],"comment_count":1,"is_answered":false,"view_count":23,"answer_count":0,"score":-1,"last_activity_date":1700937321,"creation_date":1700910524,"last_edit_date":1700937321,"question_id":77547601,"body_markdown":"I am new to Tomcat, my use case is setting two different environments in one server and accessing the environments by changing the URL path. \r\n\r\nUltimate goal:\r\n\r\n&gt; www.mycompany.com: Access the qa webapp \r\n\r\n&gt; www.mycompany.com/uat: Access the uat webapp\r\n\r\nWhat I have done till now?\r\n\r\nAdded the context in ```/tomcat/conf/Catalina/localhost```\r\n\r\n```\r\n[root@192 localhost]# ls\r\nuat.xml\r\n[root@192 localhost]# pwd\r\n/home/tomcat/conf/Catalina/localhost\r\n[root@192 localhost]# cat uat.xml\r\n&lt;Context docBase=&quot;/home/tomcat/uat&quot; /&gt;\r\n```\r\nI have the webapp checkout from git at ``` /home/tomcat/uat ``` location. \r\n\r\nMy ```server.xml``` config\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\r\n  &lt;Listener className=&quot;org.apache.catalina.startup.VersionLoggerListener&quot; /&gt;\r\n\r\n  &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;\r\n  &lt;!-- Prevent memory leaks due to use of particular java/javax APIs--&gt;\r\n  &lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; /&gt;\r\n  &lt;Listener className=&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot; /&gt;\r\n  &lt;Listener className=&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot; /&gt;\r\n\r\n  &lt;GlobalNamingResources&gt;\r\n\r\n    &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;\r\n              type=&quot;org.apache.catalina.UserDatabase&quot;\r\n              description=&quot;User database that can be updated and saved&quot;\r\n              factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;\r\n              pathname=&quot;conf/tomcat-users.xml&quot; /&gt;\r\n  &lt;/GlobalNamingResources&gt;\r\n\r\n  &lt;Service name=&quot;Catalina&quot;&gt;\r\n\r\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n               connectionTimeout=&quot;20000&quot;\r\n               redirectPort=&quot;8443&quot; /&gt;\r\n\r\n    &lt;!-- Define an AJP 1.3 Connector on port 8009 --&gt;\r\n    &lt;Connector port=&quot;8009&quot; protocol=&quot;AJP/1.3&quot; redirectPort=&quot;8443&quot; /&gt;\r\n\r\n\r\n    &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt;\r\n\r\n      &lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;\r\n\r\n        &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;\r\n               resourceName=&quot;UserDatabase&quot;/&gt;\r\n      &lt;/Realm&gt;\r\n\r\n      &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot;\r\n            unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\r\n\r\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\r\n               prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot;\r\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\r\n\r\n      &lt;/Host&gt;\r\n    &lt;/Engine&gt;\r\n  &lt;/Service&gt;\r\n&lt;/Server&gt;\r\n\r\n```\r\n\r\nWhen I access ```www.mycompany.com``` which is loading the webapps present in ```webapps``` directory, it is working fine and the app is loading in the browser but when I access ```www.mycompany.com/uat``` it keeps giving me 503 service unavailable\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8JLvN.png","link":"https://stackoverflow.com/questions/77547601/tomcat-giving-503-server-unavailable-while-accessing-context-path","title":"Tomcat giving 503 server unavailable while accessing Context path","body":"<p>I am new to Tomcat, my use case is setting two different environments in one server and accessing the environments by changing the URL path.</p>\n<p>Ultimate goal:</p>\n<blockquote>\n<p><a href=\"http://www.mycompany.com\" rel=\"nofollow noreferrer\">www.mycompany.com</a>: Access the qa webapp</p>\n</blockquote>\n<blockquote>\n<p><a href=\"http://www.mycompany.com/uat\" rel=\"nofollow noreferrer\">www.mycompany.com/uat</a>: Access the uat webapp</p>\n</blockquote>\n<p>What I have done till now?</p>\n<p>Added the context in <code>/tomcat/conf/Catalina/localhost</code></p>\n<pre><code>[root@192 localhost]# ls\nuat.xml\n[root@192 localhost]# pwd\n/home/tomcat/conf/Catalina/localhost\n[root@192 localhost]# cat uat.xml\n&lt;Context docBase=&quot;/home/tomcat/uat&quot; /&gt;\n</code></pre>\n<p>I have the webapp checkout from git at <code>/home/tomcat/uat</code> location.</p>\n<p>My <code>server.xml</code> config</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\n  &lt;Listener className=&quot;org.apache.catalina.startup.VersionLoggerListener&quot; /&gt;\n\n  &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;\n  &lt;!-- Prevent memory leaks due to use of particular java/javax APIs--&gt;\n  &lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; /&gt;\n  &lt;Listener className=&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot; /&gt;\n  &lt;Listener className=&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot; /&gt;\n\n  &lt;GlobalNamingResources&gt;\n\n    &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;\n              type=&quot;org.apache.catalina.UserDatabase&quot;\n              description=&quot;User database that can be updated and saved&quot;\n              factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;\n              pathname=&quot;conf/tomcat-users.xml&quot; /&gt;\n  &lt;/GlobalNamingResources&gt;\n\n  &lt;Service name=&quot;Catalina&quot;&gt;\n\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\n               connectionTimeout=&quot;20000&quot;\n               redirectPort=&quot;8443&quot; /&gt;\n\n    &lt;!-- Define an AJP 1.3 Connector on port 8009 --&gt;\n    &lt;Connector port=&quot;8009&quot; protocol=&quot;AJP/1.3&quot; redirectPort=&quot;8443&quot; /&gt;\n\n\n    &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt;\n\n      &lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;\n\n        &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;\n               resourceName=&quot;UserDatabase&quot;/&gt;\n      &lt;/Realm&gt;\n\n      &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot;\n            unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\n\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\n               prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot;\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\n\n      &lt;/Host&gt;\n    &lt;/Engine&gt;\n  &lt;/Service&gt;\n&lt;/Server&gt;\n\n</code></pre>\n<p>When I access <code>www.mycompany.com</code> which is loading the webapps present in <code>webapps</code> directory, it is working fine and the app is loading in the browser but when I access <code>www.mycompany.com/uat</code> it keeps giving me 503 service unavailable\n<a href=\"https://i.stack.imgur.com/8JLvN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8JLvN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","kotlin","maven","2009scape"],"comment_count":0,"is_answered":false,"view_count":24,"answer_count":0,"score":1,"last_activity_date":1700936600,"creation_date":1700936600,"question_id":77549085,"body_markdown":"I did a fresh clone of the latest 2009scape development server, but when trying to run the server exec task I get the following error:\r\n\r\n```\r\nThe parameters &#39;executable&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec are missing or invalid\r\n```\r\n\r\nI can see the [CICD pipelines](https://gitlab.com/2009scape/2009scape/-/pipelines) are running without issue, so it&#39;s not an issue with the pom.xml.","link":"https://stackoverflow.com/questions/77549085/the-parameters-executable-for-goal-org-codehaus-mojoexec-maven-plugin1-2-1e","title":"The parameters &#39;executable&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec are missing or invalid","body":"<p>I did a fresh clone of the latest 2009scape development server, but when trying to run the server exec task I get the following error:</p>\n<pre><code>The parameters 'executable' for goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec are missing or invalid\n</code></pre>\n<p>I can see the <a href=\"https://gitlab.com/2009scape/2009scape/-/pipelines\" rel=\"nofollow noreferrer\">CICD pipelines</a> are running without issue, so it's not an issue with the pom.xml.</p>\n"},{"tags":["java"],"comments":[{"score":0,"post_type":"question","creation_date":1700939098,"post_id":77549068,"comment_id":136714380,"body_markdown":"Looks like you&#39;re just missing some import statements? Your IDE should be able to suggest fixes for it, or you can manually write in the imports yourself. But to make a good question for this website, you need to [edit] to include text instead of an image.","link":"https://stackoverflow.com/questions/77549068/why-cant-i-import-zipfilemanager-and-consolehelper-these-classes-are-public-bu#comment136714380_77549068","body":"Looks like you&#39;re just missing some import statements? Your IDE should be able to suggest fixes for it, or you can manually write in the imports yourself. But to make a good question for this website, you need to <a href=\"https://stackoverflow.com/posts/77549068/edit\">edit</a> to include text instead of an image."},{"score":0,"post_type":"question","creation_date":1700940530,"post_id":77549068,"comment_id":136714517,"body_markdown":"@DanGetz my IDE doesn&#39;t suggest any fixes.\nHere is what happends when I write the imports myself:\nClass &#39;ZipFileManager&#39; is in the default package","link":"https://stackoverflow.com/questions/77549068/why-cant-i-import-zipfilemanager-and-consolehelper-these-classes-are-public-bu#comment136714517_77549068","body":"@DanGetz my IDE doesn&#39;t suggest any fixes. Here is what happends when I write the imports myself: Class &#39;ZipFileManager&#39; is in the default package"},{"score":0,"post_type":"question","creation_date":1700954277,"post_id":77549068,"comment_id":136715633,"body_markdown":"Oh OK, according to [this answer to another question](https://stackoverflow.com/a/2335228/3004881), it&#39;s not possible to import them if they&#39;re not in a named package. Your solution, then, would be to put them in a package first.","link":"https://stackoverflow.com/questions/77549068/why-cant-i-import-zipfilemanager-and-consolehelper-these-classes-are-public-bu#comment136715633_77549068","body":"Oh OK, according to <a href=\"https://stackoverflow.com/a/2335228/3004881\">this answer to another question</a>, it&#39;s not possible to import them if they&#39;re not in a named package. Your solution, then, would be to put them in a package first."}],"comment_count":3,"is_answered":false,"view_count":23,"answer_count":0,"score":0,"last_activity_date":1700936285,"creation_date":1700936285,"question_id":77549068,"body_markdown":"I am creating an archiver and have got the following problem:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/rxv8O.png)](https://i.stack.imgur.com/rxv8O.png)\r\n\r\ncan anybody explain please why do I have such a bug?\r\n\r\ntried to drag all files out of command pocket to java pocket and everything worked. but I need them to stay in the command pocket","link":"https://stackoverflow.com/questions/77549068/why-cant-i-import-zipfilemanager-and-consolehelper-these-classes-are-public-bu","title":"Why can&#39;t I import ZipFileManager and ConsoleHelper? These classes are public but in the other pocket","body":"<p>I am creating an archiver and have got the following problem:</p>\n<p><a href=\"https://i.stack.imgur.com/rxv8O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rxv8O.png\" alt=\"enter image description here\" /></a></p>\n<p>can anybody explain please why do I have such a bug?</p>\n<p>tried to drag all files out of command pocket to java pocket and everything worked. but I need them to stay in the command pocket</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"comments":[{"score":0,"post_type":"question","creation_date":1701001167,"post_id":77549018,"comment_id":136718549,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","link":"https://stackoverflow.com/questions/77549018/why-spring-config-server-cant-resolve-localhost#comment136718549_77549018","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"comment_count":1,"is_answered":false,"view_count":50,"answer_count":0,"score":0,"last_activity_date":1700935471,"creation_date":1700935471,"question_id":77549018,"body_markdown":"I set up a new Config Server for my project but it can&#39;t be setup locally. I just want to run it locally and make the other apps get configurations from it.\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableConfigServer\r\npublic class ConfigServerApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ConfigServerApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nconfig-server/resources/bootstrap.yml:\r\n\r\n```\r\nserver:\r\n  port: 8888\r\n\r\nspring:\r\n  application:\r\n    name: config-server\r\n\r\n  profiles:\r\n    active: native\r\n\r\n  cloud:\r\n    config:\r\n      #uri: http://localhost:8888\r\n      server:\r\n        bootstrap: true\r\n        git:\r\n          uri:\r\n        native:\r\n          search-locations: config\r\n```\r\n```\r\n\r\n\r\n2023-11-25T20:53:03.924+03:00  INFO 6340 --- [           main] c.d.c.ConfigServerApplication            : The following 1 profile is active: &quot;native&quot;\r\n2023-11-25T20:53:04.237+03:00  INFO 6340 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a1f3278e-547c-3c6c-8489-6b79cb735e9c\r\n2023-11-25T20:53:04.394+03:00  INFO 6340 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8888 (http)\r\n2023-11-25T20:53:04.401+03:00  INFO 6340 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-11-25T20:53:04.401+03:00  INFO 6340 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\r\n2023-11-25T20:53:04.473+03:00  INFO 6340 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-11-25T20:53:04.474+03:00  INFO 6340 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 541 ms\r\n2023-11-25T20:53:05.775+03:00  INFO 6340 --- [           main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname\r\n2023-11-25T20:53:05.861+03:00  INFO 6340 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8888 (http) with context path &#39;&#39;\r\n2023-11-25T20:53:06.903+03:00  INFO 6340 --- [           main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname\r\n2023-11-25T20:53:06.912+03:00  INFO 6340 --- [           main] c.d.c.ConfigServerApplication            : Started ConfigServerApplication in 5.908 seconds (process running for 6.345)\r\n\r\n\r\n```\r\n\r\n\r\n\r\nLocalhost returns &quot;Whitelabel Page&quot; or something so it the app doesn&#39;t run.\r\n\r\nconfig-server/pom.xml:\r\n\r\n```\r\n        &lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nparent-proejct/pom.xml:\r\n\r\n```\r\n&lt;modules&gt;\r\n        &lt;module&gt;user-management&lt;/module&gt;\r\n        &lt;module&gt;order-management&lt;/module&gt;\r\n        &lt;module&gt;service-discovery&lt;/module&gt;\r\n        &lt;module&gt;config-server&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n```","link":"https://stackoverflow.com/questions/77549018/why-spring-config-server-cant-resolve-localhost","title":"Why Spring Config Server can&#39;t resolve localhost?","body":"<p>I set up a new Config Server for my project but it can't be setup locally. I just want to run it locally and make the other apps get configurations from it.</p>\n<pre><code>@SpringBootApplication\n@EnableConfigServer\npublic class ConfigServerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ConfigServerApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>config-server/resources/bootstrap.yml:</p>\n<pre><code>server:\n  port: 8888\n\nspring:\n  application:\n    name: config-server\n\n  profiles:\n    active: native\n\n  cloud:\n    config:\n      #uri: http://localhost:8888\n      server:\n        bootstrap: true\n        git:\n          uri:\n        native:\n          search-locations: config\n</code></pre>\n<pre><code>\n\n2023-11-25T20:53:03.924+03:00  INFO 6340 --- [           main] c.d.c.ConfigServerApplication            : The following 1 profile is active: &quot;native&quot;\n2023-11-25T20:53:04.237+03:00  INFO 6340 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a1f3278e-547c-3c6c-8489-6b79cb735e9c\n2023-11-25T20:53:04.394+03:00  INFO 6340 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8888 (http)\n2023-11-25T20:53:04.401+03:00  INFO 6340 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-11-25T20:53:04.401+03:00  INFO 6340 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\n2023-11-25T20:53:04.473+03:00  INFO 6340 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-11-25T20:53:04.474+03:00  INFO 6340 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 541 ms\n2023-11-25T20:53:05.775+03:00  INFO 6340 --- [           main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname\n2023-11-25T20:53:05.861+03:00  INFO 6340 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8888 (http) with context path ''\n2023-11-25T20:53:06.903+03:00  INFO 6340 --- [           main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname\n2023-11-25T20:53:06.912+03:00  INFO 6340 --- [           main] c.d.c.ConfigServerApplication            : Started ConfigServerApplication in 5.908 seconds (process running for 6.345)\n\n\n</code></pre>\n<p>Localhost returns &quot;Whitelabel Page&quot; or something so it the app doesn't run.</p>\n<p>config-server/pom.xml:</p>\n<pre><code>        &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n            &lt;version&gt;4.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n            &lt;version&gt;4.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;4.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>parent-proejct/pom.xml:</p>\n<pre><code>&lt;modules&gt;\n        &lt;module&gt;user-management&lt;/module&gt;\n        &lt;module&gt;order-management&lt;/module&gt;\n        &lt;module&gt;service-discovery&lt;/module&gt;\n        &lt;module&gt;config-server&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","autowired"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1700900748,"creation_date":1700900748,"answer_id":77547152,"question_id":77546451,"body_markdown":"Umm.. The entity in the question appears to be duplicated. There is also no code for the Controller provided.\r\n\r\nThe root-level Bean, annotated with @SpringBootApplication, requires configuration to scan for repositories. For example, we need to include code like this\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableJpaRepositories(basePackages = {&quot;com.company.store.infrastructure.jpa.repository&quot;})\r\npublic class StoreJpaApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(StoreJpaApplication.class);\r\n    }\r\n}\r\n```\r\n\r\nCould you add this to the implementation?","link":"https://stackoverflow.com/questions/77546451/autowired-failing-to-inject-repostiory-into-controller-in-springboot-applicatio/77547152#77547152","title":"@Autowired Failing to inject Repostiory into Controller in Springboot application","body":"<p>Umm.. The entity in the question appears to be duplicated. There is also no code for the Controller provided.</p>\n<p>The root-level Bean, annotated with @SpringBootApplication, requires configuration to scan for repositories. For example, we need to include code like this</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(basePackages = {&quot;com.company.store.infrastructure.jpa.repository&quot;})\npublic class StoreJpaApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(StoreJpaApplication.class);\n    }\n}\n</code></pre>\n<p>Could you add this to the implementation?</p>\n"}],"comment_count":0,"is_answered":true,"view_count":46,"answer_count":1,"score":0,"last_activity_date":1700934256,"creation_date":1700879469,"last_edit_date":1700934256,"question_id":77546451,"body_markdown":"- Here I have a simple Springboot app using JpaRepository and I am failing to inject Repository into controller.\r\n- Domain: Amenity, Controller: AmenityController, Repository: AmenityRepository\r\n\r\n\r\n\r\n```\r\npackage com.example.demo.repository;\r\n\r\nimport com.example.demo.domain.Amenity;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.repository.NoRepositoryBean;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface AmenityRepository extends JpaRepository&lt;Amenity, Long&gt; {\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\npackage com.example.demo.domain;\r\n\r\nimport lombok.*;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Table(name = &quot;amenity_table&quot;)\r\n@Setter\r\npublic class Amenity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String name;\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.example.demo.domain;\r\n\r\nimport lombok.*;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Table(name = &quot;amenity_table&quot;)\r\n@Setter\r\npublic class Amenity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String name;\r\n}\r\n```\r\n\r\nThe error I&#39;m getting is:\r\n\r\n&gt; Error creating bean with name &#39;amenityController&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;amenityRepositoryChild&#39;\r\n\r\n\r\nI&#39;ve tried changing from field injection to constructor injection and it is still not working. I have also tried a lot of different methods but nothing seems to work.","link":"https://stackoverflow.com/questions/77546451/autowired-failing-to-inject-repostiory-into-controller-in-springboot-applicatio","title":"@Autowired Failing to inject Repostiory into Controller in Springboot application","body":"<ul>\n<li>Here I have a simple Springboot app using JpaRepository and I am failing to inject Repository into controller.</li>\n<li>Domain: Amenity, Controller: AmenityController, Repository: AmenityRepository</li>\n</ul>\n<pre><code>package com.example.demo.repository;\n\nimport com.example.demo.domain.Amenity;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.repository.NoRepositoryBean;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface AmenityRepository extends JpaRepository&lt;Amenity, Long&gt; {\n}\n</code></pre>\n<pre><code>package com.example.demo.domain;\n\nimport lombok.*;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Table(name = &quot;amenity_table&quot;)\n@Setter\npublic class Amenity {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String name;\n}\n</code></pre>\n<pre><code>package com.example.demo.domain;\n\nimport lombok.*;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Table(name = &quot;amenity_table&quot;)\n@Setter\npublic class Amenity {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String name;\n}\n</code></pre>\n<p>The error I'm getting is:</p>\n<blockquote>\n<p>Error creating bean with name 'amenityController': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'amenityRepositoryChild'</p>\n</blockquote>\n<p>I've tried changing from field injection to constructor injection and it is still not working. I have also tried a lot of different methods but nothing seems to work.</p>\n"},{"tags":["java"],"comments":[{"score":1,"post_type":"question","creation_date":1700933573,"post_id":77548889,"comment_id":136713793,"body_markdown":"Change both `int`s to `Integer` and see what happens.","link":"https://stackoverflow.com/questions/77548889/java-nullpointerexception-when-accessing-a-hashmap-in-a-multithreaded-environmen#comment136713793_77548889","body":"Change both <code>int</code>s to <code>Integer</code> and see what happens."}],"answers":[{"comment_count":0,"score":4,"last_activity_date":1700933713,"creation_date":1700933713,"answer_id":77548917,"question_id":77548889,"body_markdown":"HashMap&#39;s spec clearly states that if you access it from multiple threads, it is completely broken. NPEs is one of a billion things that could happen. The fix is __not__ to touch that hashmap from more than one thread.\r\n\r\n1. Stop using multiple threads. It&#39;s unlikely to help.\r\n2. Alternatively, use `synchronized` around blocks that should be atomic.\r\n3. Alternatively, wrap it in `Collections.synchronizedMap`. But this cannot do anything useful other than making _single_ calls atomic. It means code like `if (!map.containsKey(k)) map,put(k, v);` __is broken__ (you can&#39;t make 2 calls in a row and expect them to be consistent).\r\n4. Use `ConcurrentHashMap` instead.\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77548889/java-nullpointerexception-when-accessing-a-hashmap-in-a-multithreaded-environmen/77548917#77548917","title":"java NullPointerException when accessing a HashMap in a multithreaded environment","body":"<p>HashMap's spec clearly states that if you access it from multiple threads, it is completely broken. NPEs is one of a billion things that could happen. The fix is <strong>not</strong> to touch that hashmap from more than one thread.</p>\n<ol>\n<li>Stop using multiple threads. It's unlikely to help.</li>\n<li>Alternatively, use <code>synchronized</code> around blocks that should be atomic.</li>\n<li>Alternatively, wrap it in <code>Collections.synchronizedMap</code>. But this cannot do anything useful other than making <em>single</em> calls atomic. It means code like <code>if (!map.containsKey(k)) map,put(k, v);</code> <strong>is broken</strong> (you can't make 2 calls in a row and expect them to be consistent).</li>\n<li>Use <code>ConcurrentHashMap</code> instead.</li>\n</ol>\n"},{"comment_count":0,"score":1,"last_activity_date":1700933816,"creation_date":1700933816,"answer_id":77548923,"question_id":77548889,"body_markdown":"Thread 2 will be executed before Thread 1 (or before it finished the `Map::put` operation), the `Map::get` returns `null`, and the attempt to unbox that to an `int` causes the `NullPointerException`.\r\n\r\nBut as @rzwitserloot says in his answer: the whole concept is broken!\r\nDo not access bare `HashMap` instances concurrently. ","link":"https://stackoverflow.com/questions/77548889/java-nullpointerexception-when-accessing-a-hashmap-in-a-multithreaded-environmen/77548923#77548923","title":"java NullPointerException when accessing a HashMap in a multithreaded environment","body":"<p>Thread 2 will be executed before Thread 1 (or before it finished the <code>Map::put</code> operation), the <code>Map::get</code> returns <code>null</code>, and the attempt to unbox that to an <code>int</code> causes the <code>NullPointerException</code>.</p>\n<p>But as @rzwitserloot says in his answer: the whole concept is broken!\nDo not access bare <code>HashMap</code> instances concurrently.</p>\n"}],"comment_count":1,"is_answered":true,"view_count":32,"answer_count":2,"score":0,"last_activity_date":1700933816,"creation_date":1700933305,"last_edit_date":1700933703,"question_id":77548889,"body_markdown":"I&#39;m encountering a &#39;NullPointerException&#39; in my Java program when trying to access a &#39;HashMap&#39; in a multithreaded environment. I&#39;ve reviewed my code and am struggling to identify the issue. \r\n\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class MyMultithreadedProgram \r\n{\r\n  private Map&lt;String, Integer&gt; dataMap = new HashMap&lt;&gt;();\r\n\r\n  public void updateData( String key, int value ) \r\n  {\r\n    dataMap.put( key, value );\r\n  }\r\n\r\n  public int getData( String key ) \r\n  {\r\n    return dataMap.get( key ); // NullPointerException occurs here\r\n  }\r\n\r\n  public static void main( String[] args ) \r\n  {\r\n    final MyMultithreadedProgram program = new MyMultithreadedProgram();\r\n\r\n    // Assume some multithreading scenario here...\r\n    // Thread 1\r\n    new Thread( () -&gt; {\r\n      program.updateData( &quot;A&quot;, 42 );\r\n    } ).start();\r\n\r\n    // Thread 2\r\n    new Thread( () -&gt; {\r\n      int result = program.getData( &quot;A&quot; ); // NullPointerException happens here\r\n      System.out.println( &quot;Value for key A: &quot; + result );\r\n    } ).start();\r\n  }\r\n}\r\n```","link":"https://stackoverflow.com/questions/77548889/java-nullpointerexception-when-accessing-a-hashmap-in-a-multithreaded-environmen","title":"java NullPointerException when accessing a HashMap in a multithreaded environment","body":"<p>I'm encountering a 'NullPointerException' in my Java program when trying to access a 'HashMap' in a multithreaded environment. I've reviewed my code and am struggling to identify the issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class MyMultithreadedProgram \n{\n  private Map&lt;String, Integer&gt; dataMap = new HashMap&lt;&gt;();\n\n  public void updateData( String key, int value ) \n  {\n    dataMap.put( key, value );\n  }\n\n  public int getData( String key ) \n  {\n    return dataMap.get( key ); // NullPointerException occurs here\n  }\n\n  public static void main( String[] args ) \n  {\n    final MyMultithreadedProgram program = new MyMultithreadedProgram();\n\n    // Assume some multithreading scenario here...\n    // Thread 1\n    new Thread( () -&gt; {\n      program.updateData( &quot;A&quot;, 42 );\n    } ).start();\n\n    // Thread 2\n    new Thread( () -&gt; {\n      int result = program.getData( &quot;A&quot; ); // NullPointerException happens here\n      System.out.println( &quot;Value for key A: &quot; + result );\n    } ).start();\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1673166281,"post_id":75046324,"comment_id":132433778,"body_markdown":"the problem with this approach is that BeanProperties hasn&#39;t been created at the time BeanFactoryPostProcessor is run (since it runs before bean creation), so I can&#39;t get hold of the bean names. Do you know of a workaround for this?","link":"https://stackoverflow.com/questions/75046275/dynamically-register-spring-beans-based-on-properties/75046324#comment132433778_75046324","body":"the problem with this approach is that BeanProperties hasn&#39;t been created at the time BeanFactoryPostProcessor is run (since it runs before bean creation), so I can&#39;t get hold of the bean names. Do you know of a workaround for this?"},{"score":0,"post_type":"answer","creation_date":1673170479,"post_id":75046324,"comment_id":132434369,"body_markdown":"It must be possible to inject the properties into the factory bean (the instance of the FactoryBean). The BeanFactoryPostProcessor will be able to read the values. It works similar to the parsing of the Qualifier annotation in the references article.","link":"https://stackoverflow.com/questions/75046275/dynamically-register-spring-beans-based-on-properties/75046324#comment132434369_75046324","body":"It must be possible to inject the properties into the factory bean (the instance of the FactoryBean). The BeanFactoryPostProcessor will be able to read the values. It works similar to the parsing of the Qualifier annotation in the references article."}],"comment_count":2,"score":0,"last_activity_date":1673255053,"last_edit_date":1673255053,"creation_date":1673165353,"answer_id":75046324,"question_id":75046275,"body_markdown":"Here is a description of what you want (in a slightly simplified version):\r\n\r\nhttps://www.baeldung.com/spring-same-class-multiple-beans\r\n\r\nYou need to register you own Implementation of `BeanFactoryPostProcessor` adding the functionality you need. \r\n\r\n    @Configuration\r\n    public class MyAppConfig {\r\n        @Bean\r\n        public CustomBeanFactoryPostProcessor beanFactoryPostProcessor() {\r\n            return new CustomBeanFactoryPostProcessor();\r\n        }\r\n    }\r\n\r\nUsing your own implementation you will be able to register the beans manually using `ConfigurableListableBeanFactory` like this:\r\n\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n\r\n        ....\r\n        beanFactory.registerSingleton(name, bean);\r\n        ....\r\n\r\n    }\r\n\r\nAfter all you need to create a generic factory, which will be used by the processor to create the beans. See the referenced [baeldung article][1] for some more examples.\r\n\r\n  [1]: https://www.baeldung.com/spring-same-class-multiple-beans","link":"https://stackoverflow.com/questions/75046275/dynamically-register-spring-beans-based-on-properties/75046324#75046324","title":"Dynamically register Spring Beans based on properties","body":"<p>Here is a description of what you want (in a slightly simplified version):</p>\n<p><a href=\"https://www.baeldung.com/spring-same-class-multiple-beans\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-same-class-multiple-beans</a></p>\n<p>You need to register you own Implementation of <code>BeanFactoryPostProcessor</code> adding the functionality you need.</p>\n<pre><code>@Configuration\npublic class MyAppConfig {\n    @Bean\n    public CustomBeanFactoryPostProcessor beanFactoryPostProcessor() {\n        return new CustomBeanFactoryPostProcessor();\n    }\n}\n</code></pre>\n<p>Using your own implementation you will be able to register the beans manually using <code>ConfigurableListableBeanFactory</code> like this:</p>\n<pre><code>@Override\npublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n\n    ....\n    beanFactory.registerSingleton(name, bean);\n    ....\n\n}\n</code></pre>\n<p>After all you need to create a generic factory, which will be used by the processor to create the beans. See the referenced <a href=\"https://www.baeldung.com/spring-same-class-multiple-beans\" rel=\"nofollow noreferrer\">baeldung article</a> for some more examples.</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1673169074,"creation_date":1673169074,"answer_id":75046612,"question_id":75046275,"body_markdown":"[ImportBeanDefinitionRegistrar](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ImportBeanDefinitionRegistrar.html) seems to be what you actually need:\r\n\r\n```java\r\npublic class DynamicBeanRegistrar implements ImportBeanDefinitionRegistrar, BeanFactoryAware {\r\n\r\n    @Setter\r\n    private BeanFactory beanFactory;\r\n\r\n    @Override\r\n    public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry, BeanNameGenerator importBeanNameGenerator) {\r\n        BeanProperties properties = beanFactory.getBean(BeanProperties.class);\r\n\r\n        for (String beanName : properties.getBeans()) {\r\n            if (registry.containsBeanDefinition(beanName)) {\r\n                continue;\r\n            }\r\n\r\n            AbstractBeanDefinition beanDefinition = BeanDefinitionBuilder\r\n                    .genericBeanDefinition(BeanClass.class,\r\n                            () -&gt; new BeanClass(beanName))\r\n                    .getBeanDefinition();\r\n            registry.registerBeanDefinition(beanName, beanDefinition);\r\n        }\r\n    }\r\n\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties(BeanProperties.class)\r\n    static class BeanPropertiesConfiguration {\r\n        // spring parses nested classes first\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n@EnableConfigurationProperties(BeanProperties.class)\r\n// !!!\r\n@Import(DynamicBeanRegistrar.class)\r\n// !!!\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        final ConfigurableApplicationContext context = SpringApplication.run(DemoApplication.class, args);\r\n        final ServiceClass service = context.getBean(ServiceClass.class);\r\n        service.log();\r\n    }\r\n\r\n}\r\n\r\n```","link":"https://stackoverflow.com/questions/75046275/dynamically-register-spring-beans-based-on-properties/75046612#75046612","title":"Dynamically register Spring Beans based on properties","body":"<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ImportBeanDefinitionRegistrar.html\" rel=\"nofollow noreferrer\">ImportBeanDefinitionRegistrar</a> seems to be what you actually need:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DynamicBeanRegistrar implements ImportBeanDefinitionRegistrar, BeanFactoryAware {\n\n    @Setter\n    private BeanFactory beanFactory;\n\n    @Override\n    public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry, BeanNameGenerator importBeanNameGenerator) {\n        BeanProperties properties = beanFactory.getBean(BeanProperties.class);\n\n        for (String beanName : properties.getBeans()) {\n            if (registry.containsBeanDefinition(beanName)) {\n                continue;\n            }\n\n            AbstractBeanDefinition beanDefinition = BeanDefinitionBuilder\n                    .genericBeanDefinition(BeanClass.class,\n                            () -&gt; new BeanClass(beanName))\n                    .getBeanDefinition();\n            registry.registerBeanDefinition(beanName, beanDefinition);\n        }\n    }\n\n\n    @Configuration\n    @EnableConfigurationProperties(BeanProperties.class)\n    static class BeanPropertiesConfiguration {\n        // spring parses nested classes first\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableConfigurationProperties(BeanProperties.class)\n// !!!\n@Import(DynamicBeanRegistrar.class)\n// !!!\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        final ConfigurableApplicationContext context = SpringApplication.run(DemoApplication.class, args);\n        final ServiceClass service = context.getBean(ServiceClass.class);\n        service.log();\n    }\n\n}\n\n</code></pre>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1700138028,"post_id":75046618,"comment_id":136619203,"body_markdown":"Excellent answer!","link":"https://stackoverflow.com/questions/75046275/dynamically-register-spring-beans-based-on-properties/75046618#comment136619203_75046618","body":"Excellent answer!"}],"comment_count":1,"score":9,"last_activity_date":1700932104,"last_edit_date":1700932104,"creation_date":1673169165,"answer_id":75046618,"question_id":75046275,"body_markdown":"You can implement [`BeanDefinitionRegistryPostProcessor` interface][1] to register `BeanClass` beans&#39; definitions as follows:\r\n\r\n```java\r\npublic class DynamicBeanDefinitionRegistrar implements BeanDefinitionRegistryPostProcessor {\r\n\r\n  public static final String PROPERTIES_PREFIX = &quot;beans&quot;;\r\n  private final List&lt;String&gt; beanNames;\r\n\r\n  public DynamicBeanDefinitionRegistrar(Environment environment) {\r\n    beanNames =\r\n        Binder.get(environment)\r\n            .bind(PROPERTIES_PREFIX, Bindable.listOf(String.class))\r\n            .orElseThrow(IllegalStateException::new);\r\n  }\r\n\r\n  @Override\r\n  public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry)\r\n      throws BeansException {\r\n    beanNames.forEach(\r\n        beanName -&gt; {\r\n          GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\r\n          beanDefinition.setBeanClass(BeanClass.class);\r\n          beanDefinition.setInstanceSupplier(() -&gt; new BeanClass(beanName));\r\n          registry.registerBeanDefinition(beanName, beanDefinition);\r\n        });\r\n  }\r\n\r\n  @Override\r\n  public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory)\r\n      throws BeansException {}\r\n}\r\n```\r\nSince properties are needed before beans are instantiated, to register `BeanClass` beans&#39; definitions, `@ConfigurationProperties` are unsuitable for this case. Instead, [Binder API][2] is used to bind them programmatically.\r\n\r\nBecause `BeanFactoryPostProcessor` objects, in general, must be instantiated very early in the container lifecycle, `@Bean` methods should be marked as static in `@Configuration` classes to avoid lifecycle issues, according to [Spring documentation][3].\r\n```java\r\n@Configuration\r\npublic class DynamicBeanDefinitionRegistrarConfiguration {\r\n  @Bean\r\n  public static DynamicBeanDefinitionRegistrar beanDefinitionRegistrar(Environment environment) {\r\n    return new DynamicBeanDefinitionRegistrar(environment);\r\n  }\r\n}\r\n```\r\nAs a result, all beans you define in `application.yml`, are registered as `BeanClass` beans:\r\n```\r\nbeans: \r\n    - fooBean\r\n    - barBean\r\n```\r\n\r\nFor reference: [Create N number of beans with BeanDefinitionRegistryPostProcessor][4], [Spring Boot Dynamic Bean Creation From Properties File][5]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionRegistryPostProcessor.html\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes#configuration-property-binding\r\n  [3]: https://docs.spring.io/spring-framework/docs/5.0.x/javadoc-api/org/springframework/context/annotation/Bean.html\r\n  [4]: https://stackoverflow.com/questions/53462889/create-n-number-of-beans-with-beandefinitionregistrypostprocessor\r\n  [5]: https://stackoverflow.com/questions/48161636/spring-boot-dynamic-bean-creation-from-properties-file","link":"https://stackoverflow.com/questions/75046275/dynamically-register-spring-beans-based-on-properties/75046618#75046618","title":"Dynamically register Spring Beans based on properties","body":"<p>You can implement <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionRegistryPostProcessor.html\" rel=\"nofollow noreferrer\"><code>BeanDefinitionRegistryPostProcessor</code> interface</a> to register <code>BeanClass</code> beans' definitions as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DynamicBeanDefinitionRegistrar implements BeanDefinitionRegistryPostProcessor {\n\n  public static final String PROPERTIES_PREFIX = &quot;beans&quot;;\n  private final List&lt;String&gt; beanNames;\n\n  public DynamicBeanDefinitionRegistrar(Environment environment) {\n    beanNames =\n        Binder.get(environment)\n            .bind(PROPERTIES_PREFIX, Bindable.listOf(String.class))\n            .orElseThrow(IllegalStateException::new);\n  }\n\n  @Override\n  public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry)\n      throws BeansException {\n    beanNames.forEach(\n        beanName -&gt; {\n          GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\n          beanDefinition.setBeanClass(BeanClass.class);\n          beanDefinition.setInstanceSupplier(() -&gt; new BeanClass(beanName));\n          registry.registerBeanDefinition(beanName, beanDefinition);\n        });\n  }\n\n  @Override\n  public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory)\n      throws BeansException {}\n}\n</code></pre>\n<p>Since properties are needed before beans are instantiated, to register <code>BeanClass</code> beans' definitions, <code>@ConfigurationProperties</code> are unsuitable for this case. Instead, <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes#configuration-property-binding\" rel=\"nofollow noreferrer\">Binder API</a> is used to bind them programmatically.</p>\n<p>Because <code>BeanFactoryPostProcessor</code> objects, in general, must be instantiated very early in the container lifecycle, <code>@Bean</code> methods should be marked as static in <code>@Configuration</code> classes to avoid lifecycle issues, according to <a href=\"https://docs.spring.io/spring-framework/docs/5.0.x/javadoc-api/org/springframework/context/annotation/Bean.html\" rel=\"nofollow noreferrer\">Spring documentation</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class DynamicBeanDefinitionRegistrarConfiguration {\n  @Bean\n  public static DynamicBeanDefinitionRegistrar beanDefinitionRegistrar(Environment environment) {\n    return new DynamicBeanDefinitionRegistrar(environment);\n  }\n}\n</code></pre>\n<p>As a result, all beans you define in <code>application.yml</code>, are registered as <code>BeanClass</code> beans:</p>\n<pre><code>beans: \n    - fooBean\n    - barBean\n</code></pre>\n<p>For reference: <a href=\"https://stackoverflow.com/questions/53462889/create-n-number-of-beans-with-beandefinitionregistrypostprocessor\">Create N number of beans with BeanDefinitionRegistryPostProcessor</a>, <a href=\"https://stackoverflow.com/questions/48161636/spring-boot-dynamic-bean-creation-from-properties-file\">Spring Boot Dynamic Bean Creation From Properties File</a></p>\n"}],"comment_count":0,"is_answered":true,"view_count":3759,"answer_count":3,"score":7,"last_activity_date":1700932104,"creation_date":1673164813,"question_id":75046275,"body_markdown":"I&#39;m using the latest Spring Boot version and trying to dynamically create n number of beans based upon what is defined in the `application.yaml` file. I would then like to inject these beans into other classes based upon the bean name.\r\n\r\nThe code below is a much simplified example of what I am trying to achieve. The auto configuration would normally be part of a spring boot starter library so the number of beans needed to be registered is unknown.\r\n\r\n```\r\n@Slf4j\r\n@Value\r\npublic class BeanClass {\r\n\r\n    private final String name;\r\n\r\n    public void logName() {\r\n        log.info(&quot;Name: {}&quot;, name);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class ServiceClass {\r\n\r\n    private final BeanClass fooBean;\r\n    private final BeanClass barBean;\r\n\r\n    public void log() {\r\n        fooBean.logName();\r\n        barBean.logName();\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Value\r\n@ConfigurationProperties\r\npublic class BeanProperties {\r\n\r\n    private final List&lt;String&gt; beans;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class AutoConfiguration {\r\n\r\n    // Obviously not correct\r\n    @Bean\r\n    public List&lt;BeanClass&gt; beans(final BeanProperties beanProperties) {\r\n        return beanProperties.getBeans().stream()\r\n                .map(BeanClass::new)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@EnableConfigurationProperties(BeanProperties.class)\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfinal ConfigurableApplicationContext context = SpringApplication.run(DemoApplication.class, args);\r\n\t\tfinal ServiceClass service = context.getBean(ServiceClass.class);\r\n\t\tservice.log();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\nbeansToMake:\r\n  - fooBean\r\n  - barBean\r\n```\r\n\r\nI&#39;ve tried multiple suggestions on google but nothing works and seems outdated. I&#39;m hoping a new feature of Spring makes this straight forward.","link":"https://stackoverflow.com/questions/75046275/dynamically-register-spring-beans-based-on-properties","title":"Dynamically register Spring Beans based on properties","body":"<p>I'm using the latest Spring Boot version and trying to dynamically create n number of beans based upon what is defined in the <code>application.yaml</code> file. I would then like to inject these beans into other classes based upon the bean name.</p>\n<p>The code below is a much simplified example of what I am trying to achieve. The auto configuration would normally be part of a spring boot starter library so the number of beans needed to be registered is unknown.</p>\n<pre><code>@Slf4j\n@Value\npublic class BeanClass {\n\n    private final String name;\n\n    public void logName() {\n        log.info(&quot;Name: {}&quot;, name);\n    }\n\n}\n</code></pre>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class ServiceClass {\n\n    private final BeanClass fooBean;\n    private final BeanClass barBean;\n\n    public void log() {\n        fooBean.logName();\n        barBean.logName();\n    }\n\n}\n</code></pre>\n<pre><code>@Value\n@ConfigurationProperties\npublic class BeanProperties {\n\n    private final List&lt;String&gt; beans;\n\n}\n</code></pre>\n<pre><code>@Configuration\npublic class AutoConfiguration {\n\n    // Obviously not correct\n    @Bean\n    public List&lt;BeanClass&gt; beans(final BeanProperties beanProperties) {\n        return beanProperties.getBeans().stream()\n                .map(BeanClass::new)\n                .collect(Collectors.toList());\n    }\n\n}\n</code></pre>\n<pre><code>@EnableConfigurationProperties(BeanProperties.class)\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        final ConfigurableApplicationContext context = SpringApplication.run(DemoApplication.class, args);\n        final ServiceClass service = context.getBean(ServiceClass.class);\n        service.log();\n    }\n\n}\n</code></pre>\n<pre><code>beansToMake:\n  - fooBean\n  - barBean\n</code></pre>\n<p>I've tried multiple suggestions on google but nothing works and seems outdated. I'm hoping a new feature of Spring makes this straight forward.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1700930376,"post_id":77548516,"comment_id":136713429,"body_markdown":"can you look at my updated question and understand what i actually want? @Hanif Shaikh","link":"https://stackoverflow.com/questions/77548435/how-to-check-if-email-already-exists-in-real-time-database-of-firebase-in-androi/77548516#comment136713429_77548516","body":"can you look at my updated question and understand what i actually want? @Hanif Shaikh"}],"comment_count":1,"score":0,"last_activity_date":1700927248,"creation_date":1700927248,"answer_id":77548516,"question_id":77548435,"body_markdown":"  \r\n**email** user enter email and we get and put inside this object\r\n  \r\n                    databaseReference.child(&quot;users&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            if (snapshot.child(&quot;email&quot;).hasChild(email)){\r\n                                Toast.makeText(Register.this, &quot;email is Already registed&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n\r\n                            else {\r\n                          // do here what you want \r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });","link":"https://stackoverflow.com/questions/77548435/how-to-check-if-email-already-exists-in-real-time-database-of-firebase-in-androi/77548516#77548516","title":"How to check if email already exists in Real Time Database of Firebase in Android?","body":"<p><strong>email</strong> user enter email and we get and put inside this object</p>\n<pre><code>                databaseReference.child(&quot;users&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        if (snapshot.child(&quot;email&quot;).hasChild(email)){\n                            Toast.makeText(Register.this, &quot;email is Already registed&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        else {\n                      // do here what you want \n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n</code></pre>\n"},{"comment_count":0,"score":1,"last_activity_date":1700931832,"creation_date":1700931832,"answer_id":77548782,"question_id":77548435,"body_markdown":"The issue you&#39;re facing might be related to the asynchronous nature of Firebase database operations. The `ValueEventListener` runs asynchronously, so when you check for `list_of_emails.contains(email)` immediately after setting up the listener, the data might not have been fetched yet.\r\n\r\nTo solve this problem, you can move the validation logic inside the onDataChange method or use a callback to handle the asynchronous nature of Firebase. I&#39;ll provide you with an example using a callback:\r\n\r\n```\r\n\r\nprivate interface EmailValidationCallback {\r\n    void onResult(boolean isEmailValid);\r\n}\r\n\r\nprivate void validateEmail(final EmailValidationCallback callback) {\r\n    email = inp_email.getEditText().getText().toString();\r\n\r\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n\r\n    ref.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            ArrayList&lt;String&gt; list_of_emails = new ArrayList&lt;&gt;();\r\n\r\n            for (DataSnapshot user : snapshot.getChildren()) {\r\n                list_of_emails.add(user.child(&quot;email&quot;).getValue().toString());\r\n            }\r\n\r\n            boolean isEmailValid = !list_of_emails.contains(email) &amp;&amp; !email.isEmpty() &amp;&amp; email.contains(&quot;@gmail.com&quot;);\r\n            callback.onResult(isEmailValid);\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n            callback.onResult(false);\r\n        }\r\n    });\r\n}\r\n\r\n// Example usage\r\nprivate void yourValidationMethod() {\r\n    validateEmail(new EmailValidationCallback() {\r\n        @Override\r\n        public void onResult(boolean isEmailValid) {\r\n            if (!isEmailValid) {\r\n                inp_email.setError(&quot;Email already exists or is invalid!&quot;);\r\n            } else {\r\n                inp_email.setError(null);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n```\r\nThis way, the validateEmail method takes a callback as a parameter, and the validation result is handled inside the onResult method of the callback. This ensures that the validation happens after the data is fetched from the Firebase database.","link":"https://stackoverflow.com/questions/77548435/how-to-check-if-email-already-exists-in-real-time-database-of-firebase-in-androi/77548782#77548782","title":"How to check if email already exists in Real Time Database of Firebase in Android?","body":"<p>The issue you're facing might be related to the asynchronous nature of Firebase database operations. The <code>ValueEventListener</code> runs asynchronously, so when you check for <code>list_of_emails.contains(email)</code> immediately after setting up the listener, the data might not have been fetched yet.</p>\n<p>To solve this problem, you can move the validation logic inside the onDataChange method or use a callback to handle the asynchronous nature of Firebase. I'll provide you with an example using a callback:</p>\n<pre><code>\nprivate interface EmailValidationCallback {\n    void onResult(boolean isEmailValid);\n}\n\nprivate void validateEmail(final EmailValidationCallback callback) {\n    email = inp_email.getEditText().getText().toString();\n\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\n\n    ref.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            ArrayList&lt;String&gt; list_of_emails = new ArrayList&lt;&gt;();\n\n            for (DataSnapshot user : snapshot.getChildren()) {\n                list_of_emails.add(user.child(&quot;email&quot;).getValue().toString());\n            }\n\n            boolean isEmailValid = !list_of_emails.contains(email) &amp;&amp; !email.isEmpty() &amp;&amp; email.contains(&quot;@gmail.com&quot;);\n            callback.onResult(isEmailValid);\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            callback.onResult(false);\n        }\n    });\n}\n\n// Example usage\nprivate void yourValidationMethod() {\n    validateEmail(new EmailValidationCallback() {\n        @Override\n        public void onResult(boolean isEmailValid) {\n            if (!isEmailValid) {\n                inp_email.setError(&quot;Email already exists or is invalid!&quot;);\n            } else {\n                inp_email.setError(null);\n            }\n        }\n    });\n}\n\n</code></pre>\n<p>This way, the validateEmail method takes a callback as a parameter, and the validation result is handled inside the onResult method of the callback. This ensures that the validation happens after the data is fetched from the Firebase database.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":33,"answer_count":2,"score":1,"last_activity_date":1700931832,"creation_date":1700925825,"last_edit_date":1700929759,"question_id":77548435,"body_markdown":"[structure of my realtime database][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hFSKi.png&#39;\r\n\r\nThe root node is named users and its children are set with usernames.\r\nI want to check if an email already exists. I am trying something like: \r\n```\r\n private boolean validateEmail(){\r\n        email = inp_email.getEditText().getText().toString();\r\n\r\n        ArrayList&lt;String&gt; list_of_emails = new ArrayList&lt;&gt;();\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n\r\n        ref.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                for (DataSnapshot user: snapshot.getChildren()){\r\n                    list_of_emails.add(user.child(&quot;email&quot;).getValue().toString());\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        if (list_of_emails.contains(email)){\r\n            inp_email.setError(&quot;Email already exists!&quot;);\r\n            return false;\r\n        }\r\n if(email.isEmpty()){\r\n            inp_email.setError(&quot;Field cannot be empty&quot;);\r\n            return false;\r\n        } else if (!email.contains(&quot;@gmail.com&quot;)) {\r\n            inp_email.setError(&quot;Invalid Email&quot;);\r\n            return false;\r\n        }else {\r\n            inp_email.setError(null);\r\n            return true;\r\n        }\r\n}\r\n```\r\n\r\nI tried using add event listeners and tried setting a boolean value on which if email exists must turn to true, but that doesn&#39;t work and I don&#39;t know what are other ways to do it. thing is i want a boolean return value!!\r\n","link":"https://stackoverflow.com/questions/77548435/how-to-check-if-email-already-exists-in-real-time-database-of-firebase-in-androi","title":"How to check if email already exists in Real Time Database of Firebase in Android?","body":"<p><a href=\"https://i.stack.imgur.com/hFSKi.png%27\" rel=\"nofollow noreferrer\">structure of my realtime database</a></p>\n<p>The root node is named users and its children are set with usernames.\nI want to check if an email already exists. I am trying something like:</p>\n<pre><code> private boolean validateEmail(){\n        email = inp_email.getEditText().getText().toString();\n\n        ArrayList&lt;String&gt; list_of_emails = new ArrayList&lt;&gt;();\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\n\n        ref.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                for (DataSnapshot user: snapshot.getChildren()){\n                    list_of_emails.add(user.child(&quot;email&quot;).getValue().toString());\n                }\n            }\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n        if (list_of_emails.contains(email)){\n            inp_email.setError(&quot;Email already exists!&quot;);\n            return false;\n        }\n if(email.isEmpty()){\n            inp_email.setError(&quot;Field cannot be empty&quot;);\n            return false;\n        } else if (!email.contains(&quot;@gmail.com&quot;)) {\n            inp_email.setError(&quot;Invalid Email&quot;);\n            return false;\n        }else {\n            inp_email.setError(null);\n            return true;\n        }\n}\n</code></pre>\n<p>I tried using add event listeners and tried setting a boolean value on which if email exists must turn to true, but that doesn't work and I don't know what are other ways to do it. thing is i want a boolean return value!!</p>\n"},{"tags":["java","performance","events","minecraft"],"comment_count":0,"is_answered":false,"view_count":30,"answer_count":0,"score":-1,"last_activity_date":1700931325,"creation_date":1700931325,"question_id":77548748,"body_markdown":"I&#39;m developing a Minecraft server plugin that handles user authentication by restricting player movement until they&#39;re authenticated. Right now, I&#39;m using an onPlayerMove event listener for this purpose, which works if only Im active. However, I&#39;m concerned that if there were more players, this approach might become resource-intensive.\r\n\r\nIn simpler terms, the code checks the authentication status for every player whenever they move. While it works fine with a few players, it could potentially slow down the server with more users.\r\n\r\nI&#39;m looking for suggestions on how to improve this without completely getting rid of the onPlayerMove event. I want to make sure that the event listener only processes authentication checks for players who are actively trying to authenticate, rather than for every player on the server.\r\n\r\nAny ideas or tips on how to optimize this would be greatly appreciated! \r\n\r\n```\r\n    @EventHandler\r\n    public void onPlayerMove(PlayerMoveEvent event) {\r\n    \tPlayer player = event.getPlayer();\r\n        String playerName = player.getName();\r\n        //Checks against a map if the user has authentication enabled or not\r\n        if (plugin.playerAuthenticationStatus.get(playerName)) {\r\n            // Cancel player movement if authentication is enabled\r\n        \tevent.setCancelled(true);\r\n            event.getPlayer().teleport(event.getFrom());\r\n        }\r\n    }\r\n```","link":"https://stackoverflow.com/questions/77548748/dynamic-event-listener-plugin-minecraft","title":"Dynamic event listener - plugin minecraft","body":"<p>I'm developing a Minecraft server plugin that handles user authentication by restricting player movement until they're authenticated. Right now, I'm using an onPlayerMove event listener for this purpose, which works if only Im active. However, I'm concerned that if there were more players, this approach might become resource-intensive.</p>\n<p>In simpler terms, the code checks the authentication status for every player whenever they move. While it works fine with a few players, it could potentially slow down the server with more users.</p>\n<p>I'm looking for suggestions on how to improve this without completely getting rid of the onPlayerMove event. I want to make sure that the event listener only processes authentication checks for players who are actively trying to authenticate, rather than for every player on the server.</p>\n<p>Any ideas or tips on how to optimize this would be greatly appreciated!</p>\n<pre><code>    @EventHandler\n    public void onPlayerMove(PlayerMoveEvent event) {\n        Player player = event.getPlayer();\n        String playerName = player.getName();\n        //Checks against a map if the user has authentication enabled or not\n        if (plugin.playerAuthenticationStatus.get(playerName)) {\n            // Cancel player movement if authentication is enabled\n            event.setCancelled(true);\n            event.getPlayer().teleport(event.getFrom());\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot"],"comment_count":0,"is_answered":false,"view_count":23,"answer_count":0,"score":1,"last_activity_date":1700930795,"creation_date":1700930795,"question_id":77548720,"body_markdown":"Unable to process application url which contained multiple slashes, is there a way to allow this and reject request. We use Spring Boot 3.2.0\r\n\r\n    Rejecting request due to: The request was rejected because the URL contained a potentially malicious String &quot;//&quot;\r\n    org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String &quot;//&quot;\r\n            at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:535)\r\n            at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:505)\r\n            at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n            at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n            at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n            at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n            at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n            at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\r\n","link":"https://stackoverflow.com/questions/77548720/unable-to-process-spring-boot-application-url-which-contained-multiple-slashes","title":"Unable to process spring boot application url which contained multiple slashes","body":"<p>Unable to process application url which contained multiple slashes, is there a way to allow this and reject request. We use Spring Boot 3.2.0</p>\n<pre><code>Rejecting request due to: The request was rejected because the URL contained a potentially malicious String &quot;//&quot;\norg.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String &quot;//&quot;\n        at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlocklistedUrls(StrictHttpFirewall.java:535)\n        at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:505)\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n</code></pre>\n"},{"tags":["java"],"comments":[{"score":0,"post_type":"question","creation_date":1700924296,"post_id":77548307,"comment_id":136712801,"body_markdown":"Maybe a typo, but your classes don&#39;t implement the interface. And `public class Wall(String name){}` won&#39;t compile. Are you trying to use normal class or a record?","link":"https://stackoverflow.com/questions/77548307/initializing-objects-in-an-array-of-interfaces-based-on-object-name-in-java#comment136712801_77548307","body":"Maybe a typo, but your classes don&#39;t implement the interface. And <code>public class Wall(String name){}</code> won&#39;t compile. Are you trying to use normal class or a record?"},{"score":0,"post_type":"question","creation_date":1700924398,"post_id":77548307,"comment_id":136712809,"body_markdown":"Anyway you need either reflection, or a factory (since you mention efficiency, you most likely need to go with this approach).","link":"https://stackoverflow.com/questions/77548307/initializing-objects-in-an-array-of-interfaces-based-on-object-name-in-java#comment136712809_77548307","body":"Anyway you need either reflection, or a factory (since you mention efficiency, you most likely need to go with this approach)."},{"score":0,"post_type":"question","creation_date":1700924434,"post_id":77548307,"comment_id":136712814,"body_markdown":"@Chaosfire sorry about that, i just updated the code. So it depends on the string i give sometimes the object is a record that implements BackElements and sometims its a class.","link":"https://stackoverflow.com/questions/77548307/initializing-objects-in-an-array-of-interfaces-based-on-object-name-in-java#comment136712814_77548307","body":"@Chaosfire sorry about that, i just updated the code. So it depends on the string i give sometimes the object is a record that implements BackElements and sometims its a class."},{"score":0,"post_type":"question","creation_date":1700924552,"post_id":77548307,"comment_id":136712825,"body_markdown":"I think I would remove the interface and the class hierarchy, and just instantiate some type (maybe `Element`) with the properties it needs.  Until you can find a compelling reason to add the hierarchy back in, I think it&#39;s just design for the sake of design and seems to be getting in the way of the code you need to write.","link":"https://stackoverflow.com/questions/77548307/initializing-objects-in-an-array-of-interfaces-based-on-object-name-in-java#comment136712825_77548307","body":"I think I would remove the interface and the class hierarchy, and just instantiate some type (maybe <code>Element</code>) with the properties it needs.  Until you can find a compelling reason to add the hierarchy back in, I think it&#39;s just design for the sake of design and seems to be getting in the way of the code you need to write."},{"score":0,"post_type":"question","creation_date":1700924599,"post_id":77548307,"comment_id":136712830,"body_markdown":"@Chaosfire i know it wont compile i gave this classes just to give an idea of the issue i am facing","link":"https://stackoverflow.com/questions/77548307/initializing-objects-in-an-array-of-interfaces-based-on-object-name-in-java#comment136712830_77548307","body":"@Chaosfire i know it wont compile i gave this classes just to give an idea of the issue i am facing"},{"score":0,"post_type":"question","creation_date":1700924683,"post_id":77548307,"comment_id":136712839,"body_markdown":"@markspace i am creating a 2D game so having theses interfaces is issential to keep the project clean (the project is kinda big so i&#39;ll let u imagine) the reason i am creating theses is that all the Elements have something in commun but some of them have specific methods.","link":"https://stackoverflow.com/questions/77548307/initializing-objects-in-an-array-of-interfaces-based-on-object-name-in-java#comment136712839_77548307","body":"@markspace i am creating a 2D game so having theses interfaces is issential to keep the project clean (the project is kinda big so i&#39;ll let u imagine) the reason i am creating theses is that all the Elements have something in commun but some of them have specific methods."},{"score":0,"post_type":"question","creation_date":1700926367,"post_id":77548307,"comment_id":136712990,"body_markdown":"I know it might seem that your game is large, but it probably really isn&#39;t.  Designs have to be adapted to the problem at hand.  Look at Entity Component System, it may be closer to what you really want. https://en.wikipedia.org/wiki/Entity_component_system","link":"https://stackoverflow.com/questions/77548307/initializing-objects-in-an-array-of-interfaces-based-on-object-name-in-java#comment136712990_77548307","body":"I know it might seem that your game is large, but it probably really isn&#39;t.  Designs have to be adapted to the problem at hand.  Look at Entity Component System, it may be closer to what you really want. <a href=\"https://en.wikipedia.org/wiki/Entity_component_system\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Entity_component_system</a>"},{"score":0,"post_type":"question","creation_date":1700927357,"post_id":77548307,"comment_id":136713086,"body_markdown":"@markspace Thats exactly what i am trying to do, i am suprised i&#39;ve done it without knowing it existed, the only thing is the teachers (its a school project) banned us of inheriting a class which makes it a bit hard for me to do it otherwise. They said interfaces can inherit each other and classes implements these interfaces but we cant inherit a class do u have any idead how to do it without that ?","link":"https://stackoverflow.com/questions/77548307/initializing-objects-in-an-array-of-interfaces-based-on-object-name-in-java#comment136713086_77548307","body":"@markspace Thats exactly what i am trying to do, i am suprised i&#39;ve done it without knowing it existed, the only thing is the teachers (its a school project) banned us of inheriting a class which makes it a bit hard for me to do it otherwise. They said interfaces can inherit each other and classes implements these interfaces but we cant inherit a class do u have any idead how to do it without that ?"},{"score":0,"post_type":"question","creation_date":1700928821,"post_id":77548307,"comment_id":136713263,"body_markdown":"If this is a class project I would probably just instantiate (create) each type of object separately.  First create all the `Wall`s, then all the `Door`s, etc.  It&#39;s simpler and will get the job done.  An Entity Component System is rather sophisticated and used in large projects, it&#39;ll probably not meet your class work requirements for a hierarchical structure.","link":"https://stackoverflow.com/questions/77548307/initializing-objects-in-an-array-of-interfaces-based-on-object-name-in-java#comment136713263_77548307","body":"If this is a class project I would probably just instantiate (create) each type of object separately.  First create all the <code>Wall</code>s, then all the <code>Door</code>s, etc.  It&#39;s simpler and will get the job done.  An Entity Component System is rather sophisticated and used in large projects, it&#39;ll probably not meet your class work requirements for a hierarchical structure."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700930751,"creation_date":1700930751,"answer_id":77548716,"question_id":77548307,"body_markdown":"Provide _static methods_ from within the _BackElements_ _interface_.\r\n\r\n```java\r\ninterface Element {\r\n    String name();\r\n}\r\n\r\ninterface BackElements extends Element {\r\n    static Wall ofWall(String name) {\r\n        return new Wall(name);\r\n    }\r\n\r\n    static Door ofDoor(String name) {\r\n        return new Door(name);\r\n    }\r\n}\r\n\r\nrecord Wall(String name) implements BackElements {\r\n}\r\n\r\nrecord Door(String name) implements BackElements {\r\n}\r\n```\r\n\r\n```java\r\nElement[] a = new Element[2];\r\na[0] = BackElements.ofWall(&quot;abc&quot;);\r\na[1] = BackElements.ofDoor(&quot;xyz&quot;);\r\n```","link":"https://stackoverflow.com/questions/77548307/initializing-objects-in-an-array-of-interfaces-based-on-object-name-in-java/77548716#77548716","title":"Initializing objects in an array of interfaces based on object name in Java","body":"<p>Provide <em>static methods</em> from within the <em>BackElements</em> <em>interface</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Element {\n    String name();\n}\n\ninterface BackElements extends Element {\n    static Wall ofWall(String name) {\n        return new Wall(name);\n    }\n\n    static Door ofDoor(String name) {\n        return new Door(name);\n    }\n}\n\nrecord Wall(String name) implements BackElements {\n}\n\nrecord Door(String name) implements BackElements {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Element[] a = new Element[2];\na[0] = BackElements.ofWall(&quot;abc&quot;);\na[1] = BackElements.ofDoor(&quot;xyz&quot;);\n</code></pre>\n"}],"comment_count":9,"is_answered":true,"view_count":84,"answer_count":1,"score":-1,"last_activity_date":1700930751,"creation_date":1700923765,"last_edit_date":1700927298,"question_id":77548307,"body_markdown":"I&#39;m facing a challenge where I have an array of interfaces in Java, and I want to initialize the objects for these interfaces based on a specified name for each object. I&#39;ve explored different approaches, but I&#39;m looking for the most efficient way to solve this situation.\r\n\r\nHere&#39;s a simplified example of my structure:\r\n\r\n```\r\npublic interface Element{\r\n   String name();\r\n   //static method() to initialise object\r\n}\r\n\r\npublic interface BackElements extends Element{\r\n\r\n}\r\n\r\npublic class Wall(String name) implements BackElements{\r\n\r\n}\r\n\r\npublic class Door(String name) implements BackElements{\r\n\r\n}\r\n\r\nvoid main(){\r\n   Element element[] = new Element[2];\r\n   element[0] = methode(&quot;WALL&quot;);\r\n}\r\n```\r\nmethode = static method that creates element based on string, like if I give the method name = WALL as string, it creates a Wall(..) class/\r\n\r\nI was told to create this static method, but I don&#39;t know how. I am still new to Java.\r\n","link":"https://stackoverflow.com/questions/77548307/initializing-objects-in-an-array-of-interfaces-based-on-object-name-in-java","title":"Initializing objects in an array of interfaces based on object name in Java","body":"<p>I'm facing a challenge where I have an array of interfaces in Java, and I want to initialize the objects for these interfaces based on a specified name for each object. I've explored different approaches, but I'm looking for the most efficient way to solve this situation.</p>\n<p>Here's a simplified example of my structure:</p>\n<pre><code>public interface Element{\n   String name();\n   //static method() to initialise object\n}\n\npublic interface BackElements extends Element{\n\n}\n\npublic class Wall(String name) implements BackElements{\n\n}\n\npublic class Door(String name) implements BackElements{\n\n}\n\nvoid main(){\n   Element element[] = new Element[2];\n   element[0] = methode(&quot;WALL&quot;);\n}\n</code></pre>\n<p>methode = static method that creates element based on string, like if I give the method name = WALL as string, it creates a Wall(..) class/</p>\n<p>I was told to create this static method, but I don't know how. I am still new to Java.</p>\n"},{"tags":["java","operator-precedence"],"comments":[{"score":1,"post_type":"question","creation_date":1700927684,"post_id":77548536,"comment_id":136713134,"body_markdown":"Expression are evaluated left to right. The `text` on the left of the `+` is evaluated before the part on the right of `+`.","link":"https://stackoverflow.com/questions/77548536/why-the-bracket-is-not-evaluated-first-in-this-java-program#comment136713134_77548536","body":"Expression are evaluated left to right. The <code>text</code> on the left of the <code>+</code> is evaluated before the part on the right of <code>+</code>."},{"score":4,"post_type":"question","creation_date":1700927684,"post_id":77548536,"comment_id":136713135,"body_markdown":"&quot;According to operator precedence, the bracket should be evaluated first&quot; - no, that&#39;s not true. The LHS of the + operator is always evaluated before the RHS.","link":"https://stackoverflow.com/questions/77548536/why-the-bracket-is-not-evaluated-first-in-this-java-program#comment136713135_77548536","body":"&quot;According to operator precedence, the bracket should be evaluated first&quot; - no, that&#39;s not true. The LHS of the + operator is always evaluated before the RHS."},{"score":0,"post_type":"question","creation_date":1700946349,"post_id":77548536,"comment_id":136715074,"body_markdown":"The meaning of the operator precedence here is that the assignment happens before the +. Nothing to do with evaluation order of the operands.","link":"https://stackoverflow.com/questions/77548536/why-the-bracket-is-not-evaluated-first-in-this-java-program#comment136715074_77548536","body":"The meaning of the operator precedence here is that the assignment happens before the +. Nothing to do with evaluation order of the operands."}],"comment_count":3,"is_answered":false,"view_count":26,"answer_count":0,"score":0,"last_activity_date":1700929417,"creation_date":1700927562,"last_edit_date":1700929417,"question_id":77548536,"body_markdown":"```\r\npublic class Test {\r\n    public static void main(String [] args) {\r\n        String text = &quot;GOOD &quot;;\r\n        text = text + (text = &quot;LUCK &quot;);\r\n        System.out.println(text);\r\n    }\r\n}\r\n```\r\n\r\nAccording to operator precedence, the bracket should be evaluated first which would make the reference *text* to start pointing to the String &quot;LUCK&quot;. Further it would concatenate with the same reference *text* and finally it should have printed &quot;LUCK LUCK&quot;.\r\n\r\nBut it actually prints &quot;GOOD LUCK&quot;. Can someone please explain, why is it so? ","link":"https://stackoverflow.com/questions/77548536/why-the-bracket-is-not-evaluated-first-in-this-java-program","title":"Why the bracket is not evaluated first in this Java program?","body":"<pre><code>public class Test {\n    public static void main(String [] args) {\n        String text = &quot;GOOD &quot;;\n        text = text + (text = &quot;LUCK &quot;);\n        System.out.println(text);\n    }\n}\n</code></pre>\n<p>According to operator precedence, the bracket should be evaluated first which would make the reference <em>text</em> to start pointing to the String &quot;LUCK&quot;. Further it would concatenate with the same reference <em>text</em> and finally it should have printed &quot;LUCK LUCK&quot;.</p>\n<p>But it actually prints &quot;GOOD LUCK&quot;. Can someone please explain, why is it so?</p>\n"},{"tags":["java","printing","jvm","graphics2d"],"comments":[{"score":0,"post_type":"question","creation_date":1702305915,"post_id":76110553,"comment_id":136876692,"body_markdown":"It&#39;s tracked as [JDK-8307246](https://bugs.openjdk.org/browse/JDK-8307246): _Printing: banded raster path doesn&#39;t account for device offset values_.","link":"https://stackoverflow.com/questions/76110553/java-print-api-renders-on-paper-skewed-graphics#comment136876692_76110553","body":"It&#39;s tracked as <a href=\"https://bugs.openjdk.org/browse/JDK-8307246\" rel=\"nofollow noreferrer\">JDK-8307246</a>: <i>Printing: banded raster path doesn&#39;t account for device offset values</i>."}],"comment_count":1,"is_answered":false,"view_count":75,"answer_count":0,"score":1,"last_activity_date":1700929132,"creation_date":1682510860,"last_edit_date":1682569692,"question_id":76110553,"body_markdown":"There are 3 elements painted on imageable area in the same way. But Java Print Service draws them differently depends on whether some conditions are repected.\r\n\r\n2 conditions are respected when paint bug occurs:\r\n1. Page orientation is set to LANDSCAPE\r\n1. Alpha value in Color to fill any area is less than 255\r\n\r\nCode snippet to reproduce it:\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.print.*;\r\n\r\npublic class Printing implements Printable {\r\n    private static Paper paper;\r\n    @Override\r\n    public int print(Graphics graphics, PageFormat pageFormat, int pageIndex) throws PrinterException {\r\n        if (Thread.interrupted())\r\n        {\r\n            throw new PrinterException(&quot;Current thread interrupted.&quot;);\r\n        }\r\n\r\n        Stroke oldstroke = ((Graphics2D)graphics).getStroke();\r\n        ((Graphics2D)graphics).setStroke(new BasicStroke(10));\r\n        ((Graphics2D)graphics).translate(15, 0);\r\n        graphics.drawLine(0,0,0,300); //LEFT margin line\r\n        ((Graphics2D)graphics).translate(-15, 0);\r\n\r\n        ((Graphics2D)graphics).translate(0, -15);\r\n        graphics.drawLine(0,(int)paper.getImageableWidth(),300,(int)paper.getImageableWidth());//BOTTOM margin line\r\n        ((Graphics2D)graphics).translate(0, 15);\r\n        ((Graphics2D)graphics).setStroke(oldstroke);\r\n\r\n        ((Graphics2D)graphics).setPaint(new java.awt.Color(0,0,0,100));\r\n        ((Graphics2D)graphics).fill(new Rectangle(0,0,200,200));\r\n\r\n\r\n        return Printable.PAGE_EXISTS;\r\n    }\r\n\r\n    public static void main(String[] argv) {\r\n        Printing printer = new Printing();\r\n        PrinterJob printJob = PrinterJob.getPrinterJob();\r\n        PageFormat pageFormat = printJob.defaultPage();\r\n        paper = pageFormat.getPaper();\r\n        paper.setImageableArea(0,0,paper.getWidth(),paper.getHeight());\r\n        pageFormat.setOrientation(PageFormat.LANDSCAPE);\r\n        pageFormat.setPaper(paper);\r\n\r\n        Book book = new Book();\r\n        book.append(printer, pageFormat,1);\r\n        printJob.setPageable(book);\r\n        try {\r\n            printJob.print();\r\n        } catch (PrinterException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nWhen application runs without \r\n\r\n```\r\n        ((Graphics2D)graphics).setPaint(new java.awt.Color(0,0,0,100));\r\n        ((Graphics2D)graphics).fill(new Rectangle(0,0,200,200));\r\n```\r\nthen left and bottom lines are visible on the paper, otherwise the only rectangle is visible.\r\n\r\nIt seems that Java Print Service replaces origin point.\r\nIs it either the JVM trouble or I mistaked somewhere?","link":"https://stackoverflow.com/questions/76110553/java-print-api-renders-on-paper-skewed-graphics","title":"Java Print API renders on paper skewed graphics","body":"<p>There are 3 elements painted on imageable area in the same way. But Java Print Service draws them differently depends on whether some conditions are repected.</p>\n<p>2 conditions are respected when paint bug occurs:</p>\n<ol>\n<li>Page orientation is set to LANDSCAPE</li>\n<li>Alpha value in Color to fill any area is less than 255</li>\n</ol>\n<p>Code snippet to reproduce it:</p>\n<pre><code>import java.awt.*;\nimport java.awt.print.*;\n\npublic class Printing implements Printable {\n    private static Paper paper;\n    @Override\n    public int print(Graphics graphics, PageFormat pageFormat, int pageIndex) throws PrinterException {\n        if (Thread.interrupted())\n        {\n            throw new PrinterException(&quot;Current thread interrupted.&quot;);\n        }\n\n        Stroke oldstroke = ((Graphics2D)graphics).getStroke();\n        ((Graphics2D)graphics).setStroke(new BasicStroke(10));\n        ((Graphics2D)graphics).translate(15, 0);\n        graphics.drawLine(0,0,0,300); //LEFT margin line\n        ((Graphics2D)graphics).translate(-15, 0);\n\n        ((Graphics2D)graphics).translate(0, -15);\n        graphics.drawLine(0,(int)paper.getImageableWidth(),300,(int)paper.getImageableWidth());//BOTTOM margin line\n        ((Graphics2D)graphics).translate(0, 15);\n        ((Graphics2D)graphics).setStroke(oldstroke);\n\n        ((Graphics2D)graphics).setPaint(new java.awt.Color(0,0,0,100));\n        ((Graphics2D)graphics).fill(new Rectangle(0,0,200,200));\n\n\n        return Printable.PAGE_EXISTS;\n    }\n\n    public static void main(String[] argv) {\n        Printing printer = new Printing();\n        PrinterJob printJob = PrinterJob.getPrinterJob();\n        PageFormat pageFormat = printJob.defaultPage();\n        paper = pageFormat.getPaper();\n        paper.setImageableArea(0,0,paper.getWidth(),paper.getHeight());\n        pageFormat.setOrientation(PageFormat.LANDSCAPE);\n        pageFormat.setPaper(paper);\n\n        Book book = new Book();\n        book.append(printer, pageFormat,1);\n        printJob.setPageable(book);\n        try {\n            printJob.print();\n        } catch (PrinterException e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>When application runs without</p>\n<pre><code>        ((Graphics2D)graphics).setPaint(new java.awt.Color(0,0,0,100));\n        ((Graphics2D)graphics).fill(new Rectangle(0,0,200,200));\n</code></pre>\n<p>then left and bottom lines are visible on the paper, otherwise the only rectangle is visible.</p>\n<p>It seems that Java Print Service replaces origin point.\nIs it either the JVM trouble or I mistaked somewhere?</p>\n"},{"tags":["java","copy","clipboard"],"comment_count":0,"is_answered":false,"view_count":22,"answer_count":0,"score":-1,"last_activity_date":1700928002,"creation_date":1700928002,"question_id":77548557,"body_markdown":"Working with the Java clipboard, I’ve found that passing it a JavaFileList using setContents() can be extremely slow if the files are on a network volume. Under both Mac and Windows, setContents() appears to perform some kind of validation on each file - and when you’ve got hundreds of files, the time piles up. In my case, the checking is superfluous since I just got the file list from the OS.\r\n\r\nIs there any way around this File validation? Perhaps by overriding something in the clipboard object? Or the File objects? If so, how could I accomplish this?\r\n\r\nBelow is code that demonstrates this issue. Select a network folder with lots of files in it and see how much slower it is than a similar setContents() in a local volume.\r\n```\r\npackage clipboarddemo;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Rectangle;\r\nimport java.awt.Toolkit;\r\nimport java.awt.datatransfer.Clipboard;\r\nimport java.awt.datatransfer.DataFlavor;\r\nimport java.awt.datatransfer.Transferable;\r\nimport java.awt.datatransfer.UnsupportedFlavorException;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.time.Instant;\r\nimport java.time.ZoneId;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport javax.swing.DefaultListModel;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JList;\r\nimport javax.swing.JScrollPane;\r\n\r\npublic class ClipboardDemo {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        class FileList implements Transferable {\r\n\r\n            private final List&lt;File&gt; list;\r\n            DataFlavor[] dataFlavors = new DataFlavor[1];\r\n\r\n            public FileList(List&lt;File&gt; l) {\r\n                list = l;\r\n                dataFlavors[0] = DataFlavor.javaFileListFlavor;\r\n            }\r\n\r\n            @Override\r\n            public Object getTransferData(DataFlavor flavor) throws UnsupportedFlavorException, IOException {\r\n                if (DataFlavor.javaFileListFlavor.equals(flavor)) {\r\n                    return list;\r\n                }\r\n                return new UnsupportedFlavorException(flavor);\r\n            }\r\n\r\n            @Override\r\n            public DataFlavor[] getTransferDataFlavors() {\r\n                return dataFlavors;\r\n            }\r\n\r\n            @Override\r\n            public boolean isDataFlavorSupported(DataFlavor flavor) {\r\n                return DataFlavor.javaFileListFlavor.equals(flavor);\r\n            }\r\n        }\r\n\r\n        JFrame frame = new JFrame(&quot;Clipboard Demo&quot;);\r\n        frame.setBounds(new Rectangle(0, 0, 500, 300));\r\n        frame.setLocationRelativeTo(frame.getParent());\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        DefaultListModel lm = new DefaultListModel();\r\n        JList list = new JList(lm);\r\n        JScrollPane scrollPane = new JScrollPane(list);\r\n        JLabel label = new JLabel(&quot;Status: &quot;);\r\n        JButton button = new JButton(&quot;Choose Folder&quot;);\r\n        button.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                //Create a file chooser\r\n                final JFileChooser fc = new JFileChooser();\r\n                fc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\r\n                if (fc.showOpenDialog(frame) == JFileChooser.APPROVE_OPTION) {\r\n                    File file = fc.getSelectedFile();\r\n                    // Display selected files\r\n                    long start = System.currentTimeMillis();\r\n                    lm.clear();\r\n                    File files[] = file.listFiles();\r\n                    for (var f : files) {\r\n                        lm.addElement(f.getPath());\r\n                    }\r\n                    label.setText(&quot;Status: Acquired file list in &quot; + getElapsed(start) + &quot;, now copying...&quot;);\r\n                    javax.swing.SwingUtilities.invokeLater(() -&gt; {\r\n                        // Start up the wait cursor\r\n                        // Now add them to the clipboard\r\n                        List&lt;File&gt; file_list = Arrays.asList(files);\r\n                        FileList fl = new FileList(file_list);\r\n                        long clipstart = System.currentTimeMillis();\r\n                        Clipboard c = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n                        c.setContents(fl, null);\r\n                        frame.setCursor(null);\r\n                        label.setText(&quot;Status: Contents copied to clipboard in &quot; + getElapsed(clipstart));\r\n                    });\r\n                }\r\n            }\r\n        });\r\n\r\n        frame.getContentPane().add(button, BorderLayout.NORTH);\r\n        frame.getContentPane().add(label, BorderLayout.SOUTH);\r\n        frame.getContentPane().add(scrollPane, BorderLayout.CENTER);\r\n        frame.setVisible(true);\r\n\r\n    }\r\n\r\n    public static String getElapsed(long start) {\r\n        long elapsed = System.currentTimeMillis() - start;\r\n        return DateTimeFormatter.ofPattern(&quot;mm:ss.SSS&quot;)\r\n                .withZone(ZoneId.of(&quot;UTC&quot;))\r\n                .format(Instant.ofEpochMilli(elapsed));\r\n    }\r\n}\r\n\r\n","link":"https://stackoverflow.com/questions/77548557/java-clipboard-setcontents-slow","title":"Java clipboard setContents slow","body":"<p>Working with the Java clipboard, I’ve found that passing it a JavaFileList using setContents() can be extremely slow if the files are on a network volume. Under both Mac and Windows, setContents() appears to perform some kind of validation on each file - and when you’ve got hundreds of files, the time piles up. In my case, the checking is superfluous since I just got the file list from the OS.</p>\n<p>Is there any way around this File validation? Perhaps by overriding something in the clipboard object? Or the File objects? If so, how could I accomplish this?</p>\n<p>Below is code that demonstrates this issue. Select a network folder with lots of files in it and see how much slower it is than a similar setContents() in a local volume.</p>\n<pre><code>package clipboarddemo;\n\nimport java.awt.BorderLayout;\nimport java.awt.Rectangle;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.File;\nimport java.io.IOException;\nimport java.time.Instant;\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Arrays;\nimport java.util.List;\nimport javax.swing.DefaultListModel;\nimport javax.swing.JButton;\nimport javax.swing.JFileChooser;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JScrollPane;\n\npublic class ClipboardDemo {\n\n    public static void main(String[] args) {\n\n        class FileList implements Transferable {\n\n            private final List&lt;File&gt; list;\n            DataFlavor[] dataFlavors = new DataFlavor[1];\n\n            public FileList(List&lt;File&gt; l) {\n                list = l;\n                dataFlavors[0] = DataFlavor.javaFileListFlavor;\n            }\n\n            @Override\n            public Object getTransferData(DataFlavor flavor) throws UnsupportedFlavorException, IOException {\n                if (DataFlavor.javaFileListFlavor.equals(flavor)) {\n                    return list;\n                }\n                return new UnsupportedFlavorException(flavor);\n            }\n\n            @Override\n            public DataFlavor[] getTransferDataFlavors() {\n                return dataFlavors;\n            }\n\n            @Override\n            public boolean isDataFlavorSupported(DataFlavor flavor) {\n                return DataFlavor.javaFileListFlavor.equals(flavor);\n            }\n        }\n\n        JFrame frame = new JFrame(&quot;Clipboard Demo&quot;);\n        frame.setBounds(new Rectangle(0, 0, 500, 300));\n        frame.setLocationRelativeTo(frame.getParent());\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        DefaultListModel lm = new DefaultListModel();\n        JList list = new JList(lm);\n        JScrollPane scrollPane = new JScrollPane(list);\n        JLabel label = new JLabel(&quot;Status: &quot;);\n        JButton button = new JButton(&quot;Choose Folder&quot;);\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                //Create a file chooser\n                final JFileChooser fc = new JFileChooser();\n                fc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\n                if (fc.showOpenDialog(frame) == JFileChooser.APPROVE_OPTION) {\n                    File file = fc.getSelectedFile();\n                    // Display selected files\n                    long start = System.currentTimeMillis();\n                    lm.clear();\n                    File files[] = file.listFiles();\n                    for (var f : files) {\n                        lm.addElement(f.getPath());\n                    }\n                    label.setText(&quot;Status: Acquired file list in &quot; + getElapsed(start) + &quot;, now copying...&quot;);\n                    javax.swing.SwingUtilities.invokeLater(() -&gt; {\n                        // Start up the wait cursor\n                        // Now add them to the clipboard\n                        List&lt;File&gt; file_list = Arrays.asList(files);\n                        FileList fl = new FileList(file_list);\n                        long clipstart = System.currentTimeMillis();\n                        Clipboard c = Toolkit.getDefaultToolkit().getSystemClipboard();\n                        c.setContents(fl, null);\n                        frame.setCursor(null);\n                        label.setText(&quot;Status: Contents copied to clipboard in &quot; + getElapsed(clipstart));\n                    });\n                }\n            }\n        });\n\n        frame.getContentPane().add(button, BorderLayout.NORTH);\n        frame.getContentPane().add(label, BorderLayout.SOUTH);\n        frame.getContentPane().add(scrollPane, BorderLayout.CENTER);\n        frame.setVisible(true);\n\n    }\n\n    public static String getElapsed(long start) {\n        long elapsed = System.currentTimeMillis() - start;\n        return DateTimeFormatter.ofPattern(&quot;mm:ss.SSS&quot;)\n                .withZone(ZoneId.of(&quot;UTC&quot;))\n                .format(Instant.ofEpochMilli(elapsed));\n    }\n}\n\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"score":0,"post_type":"question","creation_date":1700905021,"post_id":77547298,"comment_id":136711300,"body_markdown":"No. You can&#39;t nest enums in Java.","link":"https://stackoverflow.com/questions/77547298/create-and-access-properties-in-enums#comment136711300_77547298","body":"No. You can&#39;t nest enums in Java."}],"comment_count":1,"is_answered":false,"view_count":41,"answer_count":0,"score":1,"last_activity_date":1700926754,"creation_date":1700904194,"last_edit_date":1700926754,"question_id":77547298,"body_markdown":"I have a situation with an enum in Java. I have created an enum as follows;\r\n\r\n    @Getter\r\n    public enum TransliterationKeys {\r\n         FULL_NAME(&quot;Full Name of the Applicant&quot;),\r\n\r\n         NAME_TO_BE_INCLUDE_IN_IC(&quot;Name to be included IC&quot;),\r\n\r\n         GENDER(&quot;Gender&quot;);\r\n\r\n         private final String transliterationKey;\r\n\r\n         TransliterationKeys(String transliterationKey) {\r\n               this.transliterationKey = transliterationKey;\r\n         }\r\n    }\r\n\r\nIn here I can access the value of any enum property as;\r\n\r\n    String name = TransliterationKeys.FULL_NAME.getTransliterationKey()\r\n\r\nI want to change that enum class to access it as this. I want to access another enum inside that enum.\r\n\r\n    int nameId = TransliterationKeys.FULL_NAME.ENGLISH\r\n    int nameId = TransliterationKeys.FULL_NAME.TAMIL\r\n\r\nIs there any way achieve this.\r\n\r\nSo as I want after modifying the enum, it will look like this as I think (note: my imagination)\r\n\r\n    @Getter\r\n    public enum TransliterationKeys {\r\n         FULL_NAME(ENLIGH(1), TAMIL(2)),\r\n\r\n         NAME_TO_BE_INCLUDE_IN_IC(ENLIGH(6), TAMIL(7)),\r\n\r\n         GENDER(ENLIGH(4), TAMIL(5));\r\n    }","link":"https://stackoverflow.com/questions/77547298/create-and-access-properties-in-enums","title":"Create and access properties in enums","body":"<p>I have a situation with an enum in Java. I have created an enum as follows;</p>\n<pre><code>@Getter\npublic enum TransliterationKeys {\n     FULL_NAME(&quot;Full Name of the Applicant&quot;),\n\n     NAME_TO_BE_INCLUDE_IN_IC(&quot;Name to be included IC&quot;),\n\n     GENDER(&quot;Gender&quot;);\n\n     private final String transliterationKey;\n\n     TransliterationKeys(String transliterationKey) {\n           this.transliterationKey = transliterationKey;\n     }\n}\n</code></pre>\n<p>In here I can access the value of any enum property as;</p>\n<pre><code>String name = TransliterationKeys.FULL_NAME.getTransliterationKey()\n</code></pre>\n<p>I want to change that enum class to access it as this. I want to access another enum inside that enum.</p>\n<pre><code>int nameId = TransliterationKeys.FULL_NAME.ENGLISH\nint nameId = TransliterationKeys.FULL_NAME.TAMIL\n</code></pre>\n<p>Is there any way achieve this.</p>\n<p>So as I want after modifying the enum, it will look like this as I think (note: my imagination)</p>\n<pre><code>@Getter\npublic enum TransliterationKeys {\n     FULL_NAME(ENLIGH(1), TAMIL(2)),\n\n     NAME_TO_BE_INCLUDE_IN_IC(ENLIGH(6), TAMIL(7)),\n\n     GENDER(ENLIGH(4), TAMIL(5));\n}\n</code></pre>\n"},{"tags":["java","spring-boot","azure","azure-application-insights","appinsights"],"comments":[{"score":0,"post_type":"question","creation_date":1682407179,"post_id":76073120,"comment_id":134205854,"body_markdown":"Hello, the dependency was the old way to use app insight; i suggest you to use the agent instead https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-upgrade-from-2x","link":"https://stackoverflow.com/questions/76073120/in-java-azure-applicationinsights-starter-dependency-not-compatible-with-spring#comment134205854_76073120","body":"Hello, the dependency was the old way to use app insight; i suggest you to use the agent instead <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-upgrade-from-2x\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/azure-monitor/app/&hellip;</a>"}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1682308561,"creation_date":1682308561,"answer_id":76088481,"question_id":76073120,"body_markdown":"*I have tried with the same dependency with spring boot 3.x.x version, and I got the same error:*\r\n\r\n![enter image description here](https://i.stack.imgur.com/BZHQ7.png)\r\n\r\n***Result:***\r\n\r\n*I was getting the same error as you mentioned above:*\r\n![enter image description here](https://i.stack.imgur.com/Svvdm.png)\r\n- After researching from my end, I found that there *is **no** compatible version* of *Azure application insights* with *spring boot* `3.x.x` yet. The latest compatible version is `2.7.x`.\r\n- The latest version of Azure Application insights is `3.0.0-beta.1` and it is compatible only with spring boot `2.x.x` version.\r\n- Hence, it is better to use `2.x.x` versions rather than using `3.x.x`.\r\n\r\n**References:**\r\n\r\nRefer to [github](https://github.com/microsoft/ApplicationInsights-Java/issues/1429) issue regarding the release of Application Insights SpringBoot Starter library.","link":"https://stackoverflow.com/questions/76073120/in-java-azure-applicationinsights-starter-dependency-not-compatible-with-spring/76088481#76088481","title":"In Java, Azure applicationinsights starter dependency not compatible with spring boot 3.x.x","body":"<p><em>I have tried with the same dependency with spring boot 3.x.x version, and I got the same error:</em></p>\n<p><img src=\"https://i.stack.imgur.com/BZHQ7.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Result:</strong></em></p>\n<p><em>I was getting the same error as you mentioned above:</em>\n<img src=\"https://i.stack.imgur.com/Svvdm.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>After researching from my end, I found that there <em>is <strong>no</strong> compatible version</em> of <em>Azure application insights</em> with <em>spring boot</em> <code>3.x.x</code> yet. The latest compatible version is <code>2.7.x</code>.</li>\n<li>The latest version of Azure Application insights is <code>3.0.0-beta.1</code> and it is compatible only with spring boot <code>2.x.x</code> version.</li>\n<li>Hence, it is better to use <code>2.x.x</code> versions rather than using <code>3.x.x</code>.</li>\n</ul>\n<p><strong>References:</strong></p>\n<p>Refer to <a href=\"https://github.com/microsoft/ApplicationInsights-Java/issues/1429\" rel=\"nofollow noreferrer\">github</a> issue regarding the release of Application Insights SpringBoot Starter library.</p>\n"},{"comment_count":0,"score":2,"last_activity_date":1682424333,"creation_date":1682424333,"answer_id":76100964,"question_id":76073120,"body_markdown":"This issue has been resolved in https://github.com/microsoft/ApplicationInsights-Java/issues/3016\r\n\r\nBelow dependency is compatible with spring boot 3.x:\r\n\r\n    api(&#39;com.microsoft.azure:applicationinsights-core:3.4.11&#39;);\r\n    // api &#39;com.microsoft.azure:applicationinsights-spring-boot-starter:2.6.4&#39; // not compatible with spring 3.x\r\n\r\nAfter that TelemetryClient Bean can be injected like:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class UserController {\r\n    \r\n        private final TelemetryClient telemetryClient = new TelemetryClient();\r\n    \r\n        @GetMapping(&quot;/greetings&quot;)\r\n        public String greetings() {\r\n            // send event\r\n            telemetryClient.trackEvent(&quot;URI /greeting is triggered&quot;);\r\n    \r\n            return &quot;Hello World!&quot;;\r\n        }\r\n    }","link":"https://stackoverflow.com/questions/76073120/in-java-azure-applicationinsights-starter-dependency-not-compatible-with-spring/76100964#76100964","title":"In Java, Azure applicationinsights starter dependency not compatible with spring boot 3.x.x","body":"<p>This issue has been resolved in <a href=\"https://github.com/microsoft/ApplicationInsights-Java/issues/3016\" rel=\"nofollow noreferrer\">https://github.com/microsoft/ApplicationInsights-Java/issues/3016</a></p>\n<p>Below dependency is compatible with spring boot 3.x:</p>\n<pre><code>api('com.microsoft.azure:applicationinsights-core:3.4.11');\n// api 'com.microsoft.azure:applicationinsights-spring-boot-starter:2.6.4' // not compatible with spring 3.x\n</code></pre>\n<p>After that TelemetryClient Bean can be injected like:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\npublic class UserController {\n\n    private final TelemetryClient telemetryClient = new TelemetryClient();\n\n    @GetMapping(&quot;/greetings&quot;)\n    public String greetings() {\n        // send event\n        telemetryClient.trackEvent(&quot;URI /greeting is triggered&quot;);\n\n        return &quot;Hello World!&quot;;\n    }\n}\n</code></pre>\n"},{"comment_count":0,"score":0,"last_activity_date":1700925363,"creation_date":1700925363,"answer_id":77548407,"question_id":76073120,"body_markdown":"this is  how it worked for me (creating custom event| tarce |request |metrix telemetry)\r\n\r\ni have added the following to the pom.xml :\r\n\r\n \r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;applicationinsights-logging-logback&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;applicationinsights-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nthen added the following (initiate the telemetryClient ): \r\n\r\n        private final TelemetryClient  telemetryClient = new TelemetryClient();\r\n\r\n\r\nthen you need set your set your InstrumentationKey : \r\n  telemetryClient.getContext().setInstrumentationKey(&quot;PUT YOUR Instrumentation Key&quot;);  --&gt; you can find it at your azure insight resource\r\n\r\nthen you can create : \r\n\r\n        Telemetry telemetry = new EventTelemetry(&quot;Test&quot; );\r\n        telemetry.getContext().getOperation().setParentId(&quot;ParentId&quot;);\r\n        telemetry.getContext().getOperation().setId(your OperationId&quot;);\r\n        telemetryClient.track(telemetry);\r\n\r\n        RemoteDependencyTelemetry dependencyTelemetry = new RemoteDependencyTelemetry();\r\n        dependencyTelemetry.getContext().getOperation().setId(&quot;your OperationId&quot;);\r\n        telemetryClient.trackDependency(dependencyTelemetry);\r\n\r\n        RequestTelemetry requestTelemetry = new RequestTelemetry();\r\n        requestTelemetry.getContext().getOperation().setId(&quot;your OperationId&quot;);\r\n        telemetryClient.trackRequest(requestTelemetry);\r\n\r\n        TraceTelemetry traceTelemetry = new TraceTelemetry();\r\n        traceTelemetry.getContext().getOperation().setId(&quot;your OperationId&quot;);\r\n        telemetryClient.trackTrace(traceTelemetry); \r\n\r\n\r\nhope it helped . \r\n\r\n","link":"https://stackoverflow.com/questions/76073120/in-java-azure-applicationinsights-starter-dependency-not-compatible-with-spring/77548407#77548407","title":"In Java, Azure applicationinsights starter dependency not compatible with spring boot 3.x.x","body":"<p>this is  how it worked for me (creating custom event| tarce |request |metrix telemetry)</p>\n<p>i have added the following to the pom.xml :</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;applicationinsights-logging-logback&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;applicationinsights-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>then added the following (initiate the telemetryClient ):</p>\n<pre><code>    private final TelemetryClient  telemetryClient = new TelemetryClient();\n</code></pre>\n<p>then you need set your set your InstrumentationKey :\ntelemetryClient.getContext().setInstrumentationKey(&quot;PUT YOUR Instrumentation Key&quot;);  --&gt; you can find it at your azure insight resource</p>\n<p>then you can create :</p>\n<pre><code>    Telemetry telemetry = new EventTelemetry(&quot;Test&quot; );\n    telemetry.getContext().getOperation().setParentId(&quot;ParentId&quot;);\n    telemetry.getContext().getOperation().setId(your OperationId&quot;);\n    telemetryClient.track(telemetry);\n\n    RemoteDependencyTelemetry dependencyTelemetry = new RemoteDependencyTelemetry();\n    dependencyTelemetry.getContext().getOperation().setId(&quot;your OperationId&quot;);\n    telemetryClient.trackDependency(dependencyTelemetry);\n\n    RequestTelemetry requestTelemetry = new RequestTelemetry();\n    requestTelemetry.getContext().getOperation().setId(&quot;your OperationId&quot;);\n    telemetryClient.trackRequest(requestTelemetry);\n\n    TraceTelemetry traceTelemetry = new TraceTelemetry();\n    traceTelemetry.getContext().getOperation().setId(&quot;your OperationId&quot;);\n    telemetryClient.trackTrace(traceTelemetry); \n</code></pre>\n<p>hope it helped .</p>\n"}],"comment_count":1,"is_answered":true,"view_count":1464,"answer_count":3,"score":1,"last_activity_date":1700925363,"creation_date":1682079719,"question_id":76073120,"body_markdown":"I wanted to integrate application insights into my spring boot application**(v3.x.x)** and for that I have used below dependency in my build.gradle.\r\n\r\n`implementation &#39;com.microsoft.azure:applicationinsights-spring-boot-starter:2.6.4&#39;`\r\n\r\nIn my controller, I have injected TelemetryClient bean like:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class UserController {\r\n        @Autowired\r\n        TelemetryClient telemetryClient;\r\n    \r\n        @GetMapping(&quot;/greetings&quot;)\r\n        public String greetings() {\r\n            // send event\r\n            telemetryClient.trackEvent(&quot;URI /greeting is triggered&quot;);\r\n    \r\n            return &quot;Hello World!&quot;;\r\n        }\r\n    }\r\n\r\nAnd, To connect to my azure app insights I used :\r\n\r\n    APPLICATIONINSIGHTS_CONNECTION_STRING=somevalue\r\n\r\nas Environment variable while running application in IntellijIdea.\r\n\r\nNow, Application runs and complains about:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field telemetryClient in com.example.demo.app.insights.UserController required a bean of type &#39;com.microsoft.applicationinsights.TelemetryClient&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.microsoft.applicationinsights.TelemetryClient&#39; in your configuration.\r\n\r\nBut, as soon as I downgrade my spring boot version from 3.x.x to 2.7.11, it works fine with the same piece of code and starts the application.\r\n\r\nHas anyone else also has experienced similar issue of appinsights with spring boot on 3.x.x ? or Any idea of its fix in latest spring boot version ?","link":"https://stackoverflow.com/questions/76073120/in-java-azure-applicationinsights-starter-dependency-not-compatible-with-spring","title":"In Java, Azure applicationinsights starter dependency not compatible with spring boot 3.x.x","body":"<p>I wanted to integrate application insights into my spring boot application**(v3.x.x)** and for that I have used below dependency in my build.gradle.</p>\n<p><code>implementation 'com.microsoft.azure:applicationinsights-spring-boot-starter:2.6.4'</code></p>\n<p>In my controller, I have injected TelemetryClient bean like:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\npublic class UserController {\n    @Autowired\n    TelemetryClient telemetryClient;\n\n    @GetMapping(&quot;/greetings&quot;)\n    public String greetings() {\n        // send event\n        telemetryClient.trackEvent(&quot;URI /greeting is triggered&quot;);\n\n        return &quot;Hello World!&quot;;\n    }\n}\n</code></pre>\n<p>And, To connect to my azure app insights I used :</p>\n<pre><code>APPLICATIONINSIGHTS_CONNECTION_STRING=somevalue\n</code></pre>\n<p>as Environment variable while running application in IntellijIdea.</p>\n<p>Now, Application runs and complains about:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField telemetryClient in com.example.demo.app.insights.UserController required a bean of type 'com.microsoft.applicationinsights.TelemetryClient' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.microsoft.applicationinsights.TelemetryClient' in your configuration.\n</code></pre>\n<p>But, as soon as I downgrade my spring boot version from 3.x.x to 2.7.11, it works fine with the same piece of code and starts the application.</p>\n<p>Has anyone else also has experienced similar issue of appinsights with spring boot on 3.x.x ? or Any idea of its fix in latest spring boot version ?</p>\n"},{"tags":["java","mysql","spring-boot","web","graphql"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700922674,"creation_date":1700922674,"answer_id":77548246,"question_id":75954106,"body_markdown":"You are not telling us what kind of GraphQL Library you are using. It seems to be graphql-java-kickstart. The package name com.coxautodev is deprecated by the way. \r\n\r\nI guess you missed the glue as you need to parse the schema to get started:\r\n\r\n    SchemaParser.newParser()\r\n        .schemaString(&quot;Query { }&quot;)\r\n\r\nSee https://www.graphql-java-kickstart.com/tools/schema-definition/\r\n\r\nBut you really should take a look into [Spring GraphQL][1] and the [tutorial for Spring GraphQL][2].\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-graphql\r\n  [2]: https://spring.io/guides/gs/graphql-server/","link":"https://stackoverflow.com/questions/75954106/spring-graphql-return-null/77548246#77548246","title":"Spring GraphQL return NULL","body":"<p>You are not telling us what kind of GraphQL Library you are using. It seems to be graphql-java-kickstart. The package name com.coxautodev is deprecated by the way.</p>\n<p>I guess you missed the glue as you need to parse the schema to get started:</p>\n<pre><code>SchemaParser.newParser()\n    .schemaString(&quot;Query { }&quot;)\n</code></pre>\n<p>See <a href=\"https://www.graphql-java-kickstart.com/tools/schema-definition/\" rel=\"nofollow noreferrer\">https://www.graphql-java-kickstart.com/tools/schema-definition/</a></p>\n<p>But you really should take a look into <a href=\"https://spring.io/projects/spring-graphql\" rel=\"nofollow noreferrer\">Spring GraphQL</a> and the <a href=\"https://spring.io/guides/gs/graphql-server/\" rel=\"nofollow noreferrer\">tutorial for Spring GraphQL</a>.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":152,"answer_count":1,"score":1,"last_activity_date":1700922674,"creation_date":1680818688,"last_edit_date":1680819968,"question_id":75954106,"body_markdown":"I want to create my own website in the form of a blog using Spring Boot and GraphQL API, but I don&#39;t understand how to connect the database to GraphQL. When making a request through /graphiql, it returns NULL. I would appreciate any help and advice. I am using PHPMAdmin as database interface. Leave a comment if any more information comes up.\r\n\r\n[GraphQL][1]\r\n\r\n    {\r\n      &quot;data&quot;: {\r\n        &quot;posts&quot;: null\r\n      }\r\n    }\r\n\r\n\r\n[Database][2]\r\n\r\n\r\n\r\n\r\n\r\n[PostQuery](https://i.stack.imgur.com/p0llv.png)\r\n\r\n# PostQuery:\r\n\r\n```\r\npackage com.example.demo.graphql;\r\n\r\nimport java.util.List;\r\n\r\nimport com.example.demo.models.Post;\r\nimport com.example.demo.service.PostService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.coxautodev.graphql.tools.GraphQLQueryResolver;\r\n\r\n@Component\r\npublic class PostQuery implements GraphQLQueryResolver {\r\n\r\n    @Autowired\r\n    private PostService service;\r\n\r\n    public List&lt;Post&gt; getPosts() {\r\n        return service.getAllPosts();\r\n    }\r\n\r\n    public Post getPost(long id) {\r\n        return service.getPost(id);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[Post](https://i.stack.imgur.com/fqere.png)\r\n\r\n# Post:\r\n\r\n```\r\npackage com.example.demo.models;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\n@Entity\r\npublic class Post {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private  Long id;\r\n    private  String title, anons, full_text;\r\n    public Long getId() { return id; }\r\n    public void setId(Long id) { this.id = id; }\r\n    public String getTitle() { return title; }\r\n    public void setTitle(String title) { this.title = title; }\r\n    public String getAnons() { return anons; }\r\n    public void setAnons(String anons) { this.anons = anons; }\r\n    public String getFull_text() { return full_text; }\r\n    public void setFull_text(String full_text) { this.full_text = full_text; }\r\n\r\n    public Post() { }\r\n\r\n    public Post(String title, String anons, String full_text) {\r\n        this.title = title;\r\n        this.anons = anons;\r\n        this.full_text = full_text;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[PostRepository](https://i.stack.imgur.com/gxghz.png)\r\n\r\n# PostRepository:\r\n\r\n```\r\npackage com.example.demo.repositorys;\r\n\r\nimport com.example.demo.models.Post;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface PostRepository extends JpaRepository&lt;Post, Long&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n[PostService](https://i.stack.imgur.com/03Ssr.png)\r\n\r\n# PostService:\r\n\r\n```\r\npackage com.example.demo.service;\r\n\r\nimport com.example.demo.models.Post;\r\n\r\nimport java.util.List;\r\n\r\n\r\npublic interface PostService {\r\n    public List&lt;Post&gt; getAllPosts();\r\n    public Post getPost(long id);\r\n    public Post createPost(String title, String anons, String full_text);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[PostServiceImpl](https://i.stack.imgur.com/J6dc9.png)\r\n\r\n# PostServiceImpl:\r\n\r\n```\r\npackage com.example.demo.service;\r\n\r\nimport java.util.List;\r\nimport com.example.demo.models.Post;\r\nimport com.example.demo.repositorys.PostRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class PostServiceImpl implements PostService{\r\n\r\n    @Autowired\r\n    PostRepository repository;\r\n\r\n    public List&lt;Post&gt; getAllPosts() {\r\n        return repository.findAll();\r\n    }\r\n\r\n    public Post getPost(long id) {\r\n        return repository.getById(id);\r\n    }\r\n\r\n    public Post createPost(String title, String anons, String full_text) {\r\n        final Post post = new Post();\r\n        post.setTitle(title);\r\n        post.setAnons(anons);\r\n        post.setFull_text(full_text);\r\n        return repository.save(post);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[schema.graphqls](https://i.stack.imgur.com/jDhnC.png)\r\n\r\n# schema.graphqls:\r\n\r\n```\r\ntype Query {\r\n    postById(id: ID): Post\r\n    posts: [Post]\r\n}\r\n\r\ntype Post {\r\n    id: ID,\r\n    title: String,\r\n    anons: String,\r\n    full_text: String\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nIf we go into more detail, my idea is to create a portfolio website with a list and description of projects using various programming languages. I want each project to be presented as a separate block with the project name, a brief description, and a more detailed explanation of the project. Initially, I planned to directly output the text from the database onto the webpage, but eventually decided to use an API. However, when I started to rework it, I wasn&#39;t sure how to connect the database itself and the GraphQL queries.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bmdTh.png\r\n  [2]: https://i.stack.imgur.com/KnGHK.png","link":"https://stackoverflow.com/questions/75954106/spring-graphql-return-null","title":"Spring GraphQL return NULL","body":"<p>I want to create my own website in the form of a blog using Spring Boot and GraphQL API, but I don't understand how to connect the database to GraphQL. When making a request through /graphiql, it returns NULL. I would appreciate any help and advice. I am using PHPMAdmin as database interface. Leave a comment if any more information comes up.</p>\n<p><a href=\"https://i.stack.imgur.com/bmdTh.png\" rel=\"nofollow noreferrer\">GraphQL</a></p>\n<pre><code>{\n  &quot;data&quot;: {\n    &quot;posts&quot;: null\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KnGHK.png\" rel=\"nofollow noreferrer\">Database</a></p>\n<p><a href=\"https://i.stack.imgur.com/p0llv.png\" rel=\"nofollow noreferrer\">PostQuery</a></p>\n<h1>PostQuery:</h1>\n<pre><code>package com.example.demo.graphql;\n\nimport java.util.List;\n\nimport com.example.demo.models.Post;\nimport com.example.demo.service.PostService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport com.coxautodev.graphql.tools.GraphQLQueryResolver;\n\n@Component\npublic class PostQuery implements GraphQLQueryResolver {\n\n    @Autowired\n    private PostService service;\n\n    public List&lt;Post&gt; getPosts() {\n        return service.getAllPosts();\n    }\n\n    public Post getPost(long id) {\n        return service.getPost(id);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fqere.png\" rel=\"nofollow noreferrer\">Post</a></p>\n<h1>Post:</h1>\n<pre><code>package com.example.demo.models;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class Post {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private  Long id;\n    private  String title, anons, full_text;\n    public Long getId() { return id; }\n    public void setId(Long id) { this.id = id; }\n    public String getTitle() { return title; }\n    public void setTitle(String title) { this.title = title; }\n    public String getAnons() { return anons; }\n    public void setAnons(String anons) { this.anons = anons; }\n    public String getFull_text() { return full_text; }\n    public void setFull_text(String full_text) { this.full_text = full_text; }\n\n    public Post() { }\n\n    public Post(String title, String anons, String full_text) {\n        this.title = title;\n        this.anons = anons;\n        this.full_text = full_text;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gxghz.png\" rel=\"nofollow noreferrer\">PostRepository</a></p>\n<h1>PostRepository:</h1>\n<pre><code>package com.example.demo.repositorys;\n\nimport com.example.demo.models.Post;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface PostRepository extends JpaRepository&lt;Post, Long&gt; {\n\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/03Ssr.png\" rel=\"nofollow noreferrer\">PostService</a></p>\n<h1>PostService:</h1>\n<pre><code>package com.example.demo.service;\n\nimport com.example.demo.models.Post;\n\nimport java.util.List;\n\n\npublic interface PostService {\n    public List&lt;Post&gt; getAllPosts();\n    public Post getPost(long id);\n    public Post createPost(String title, String anons, String full_text);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/J6dc9.png\" rel=\"nofollow noreferrer\">PostServiceImpl</a></p>\n<h1>PostServiceImpl:</h1>\n<pre><code>package com.example.demo.service;\n\nimport java.util.List;\nimport com.example.demo.models.Post;\nimport com.example.demo.repositorys.PostRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class PostServiceImpl implements PostService{\n\n    @Autowired\n    PostRepository repository;\n\n    public List&lt;Post&gt; getAllPosts() {\n        return repository.findAll();\n    }\n\n    public Post getPost(long id) {\n        return repository.getById(id);\n    }\n\n    public Post createPost(String title, String anons, String full_text) {\n        final Post post = new Post();\n        post.setTitle(title);\n        post.setAnons(anons);\n        post.setFull_text(full_text);\n        return repository.save(post);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jDhnC.png\" rel=\"nofollow noreferrer\">schema.graphqls</a></p>\n<h1>schema.graphqls:</h1>\n<pre><code>type Query {\n    postById(id: ID): Post\n    posts: [Post]\n}\n\ntype Post {\n    id: ID,\n    title: String,\n    anons: String,\n    full_text: String\n}\n\n</code></pre>\n<p>If we go into more detail, my idea is to create a portfolio website with a list and description of projects using various programming languages. I want each project to be presented as a separate block with the project name, a brief description, and a more detailed explanation of the project. Initially, I planned to directly output the text from the database onto the webpage, but eventually decided to use an API. However, when I started to rework it, I wasn't sure how to connect the database itself and the GraphQL queries.</p>\n"},{"tags":["java","mockito","spring-webflux","project-reactor","caffeine-cache"],"comments":[{"score":0,"post_type":"question","creation_date":1700853352,"post_id":77544852,"comment_id":136707622,"body_markdown":"I would suspect that the `Mono` uses instance equality in its `#equals(o)` implementation, like `CompletableFuture` does. In your `when` you might be telling Mockito to look for that exact instance and it is a mismatch. You might try `any(Mono.class)` instead, and if that works then try to narrow it if desired.","link":"https://stackoverflow.com/questions/77544852/java-reactor-caffeine-caching-mockito-strict-stubbing-argument-mismatch#comment136707622_77544852","body":"I would suspect that the <code>Mono</code> uses instance equality in its <code>#equals(o)</code> implementation, like <code>CompletableFuture</code> does. In your <code>when</code> you might be telling Mockito to look for that exact instance and it is a mismatch. You might try <code>any(Mono.class)</code> instead, and if that works then try to narrow it if desired."},{"score":0,"post_type":"question","creation_date":1700913147,"post_id":77544852,"comment_id":136711849,"body_markdown":"With any() it works. However,imagine I do this:\nwhen(cachingService.ofMono(eq(fileGuid), any(Mono.class))).thenReturn(Mono.just(expectedResource ));\nIt feels like I am not checking if the cachingService received the correct 2nd argument.","link":"https://stackoverflow.com/questions/77544852/java-reactor-caffeine-caching-mockito-strict-stubbing-argument-mismatch#comment136711849_77544852","body":"With any() it works. However,imagine I do this: when(cachingService.ofMono(eq(fileGuid), any(Mono.class))).thenReturn(Mono.just(expectedResource )); It feels like I am not checking if the cachingService received the correct 2nd argument."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700919595,"creation_date":1700919595,"answer_id":77548068,"question_id":77544852,"body_markdown":"I have found a workaround finally. By using ArgumentCaptor, I am still able to check if my method is called with correct parameters.\r\n\r\n```\r\n  private void verifyCachingService(final UUID fileGuid, final Resource resource) {\r\n    final ArgumentCaptor&lt;Mono&gt; acMono = ArgumentCaptor.forClass(Mono.class);\r\n    verify(cachingService).ofMono(eq(fileGuid), acMono.capture());\r\n    StepVerifier.create(acMono.getValue()).expectNext(resource).verifyComplete();\r\n  }\r\n```","link":"https://stackoverflow.com/questions/77544852/java-reactor-caffeine-caching-mockito-strict-stubbing-argument-mismatch/77548068#77548068","title":"Java Reactor + Caffeine Caching + Mockito = Strict stubbing argument mismatch","body":"<p>I have found a workaround finally. By using ArgumentCaptor, I am still able to check if my method is called with correct parameters.</p>\n<pre><code>  private void verifyCachingService(final UUID fileGuid, final Resource resource) {\n    final ArgumentCaptor&lt;Mono&gt; acMono = ArgumentCaptor.forClass(Mono.class);\n    verify(cachingService).ofMono(eq(fileGuid), acMono.capture());\n    StepVerifier.create(acMono.getValue()).expectNext(resource).verifyComplete();\n  }\n</code></pre>\n"}],"comment_count":2,"is_answered":true,"view_count":55,"answer_count":1,"score":0,"last_activity_date":1700920529,"creation_date":1700847857,"last_edit_date":1700920529,"question_id":77544852,"body_markdown":"I am using Java Reactor in a Spring-boot project, where I need to cache my data in one of the intermediate steps. It&#39;s on Spring Boot 3, Java 17, Junit5...\r\n\r\nMy caching service looks like this:\r\n```\r\n@Component\r\npublic class CachingService {\r\n  private static final int DURATION = 60;\r\n\r\n  public Mono&lt;Resource&gt; ofMono(final UUID guid, final Mono&lt;Resource&gt; mono) {\r\n    final String cachingKey = &quot;key&quot;;\r\n    final Function&lt;String, Mono&lt;Resource&gt;&gt; monoFn = ofMono(key -&gt; mono);\r\n    return Mono.defer(() -&gt; monoFn.apply(cachingKey));\r\n  }\r\n\r\n  private Function&lt;String, Mono&lt;Resource&gt;&gt; ofMono(final Function&lt;String, Mono&lt;Resource&gt;&gt; fn) {\r\n    final AsyncLoadingCache&lt;String, Resource&gt; cache =\r\n        Caffeine.newBuilder()\r\n            .expireAfterWrite(Duration.ofSeconds(DURATION).multipliedBy(2))\r\n            .refreshAfterWrite(Duration.ofSeconds(DURATION))\r\n            .buildAsync((k, e) -&gt; fn.apply(k).subscribeOn(Schedulers.fromExecutor(e)).toFuture());\r\n\r\n    return (k) -&gt; Mono.fromFuture(cache.get(k));\r\n  }\r\n}\r\n```\r\n\r\nSo my purpose is caching an instance of &#39;Resource&#39; record, which is published as Mono from another service, and will be consumed in another service again.\r\n\r\nI am injecting cachingService in another service and calling it&#39;s method:\r\n\r\n```\r\n  @Override\r\n  public Mono&lt;Resource&gt; getResourceWithAccess(final UUID guid) {\r\n    final Mono&lt;Boolean&gt; viewAccess = accessService.getViewAccess(guid);\r\n\r\n    return viewAccess\r\n        .flatMap(hasAccess -&gt; mapToResource(guid, hasAccess))\r\n        .flatMap(resource -&gt; cachingService.ofMono(guid, Mono.just(resource)));\r\n  }\r\n```\r\n\r\nThe accessService.getViewAccess and mapToResource used in the code:\r\n\r\n```\r\n  Mono&lt;Boolean&gt; accessService.getViewAccess(UUID fileGuid);\r\n\r\n  Mono&lt;Resource&gt; mapToResource(\r\n      final UUID guid, final Boolean hasAccess);\r\n```\r\n\r\nI have a Mockito test like this:\r\n\r\n```\r\n@Test\r\n  void test() {\r\n    // GIVEN\r\n    ...\r\n    private ResourceWithAccessService service\r\n    @Mock private CachingService cachingService;\r\n\r\n    Resource expectedResource = ...\r\n    when(cachingService.ofMono(fileGuid, Mono.just(expectedResource ))).thenReturn(Mono.just(expectedResource ));\r\n\r\n    // WHEN\r\n    final Mono&lt;Resource &gt; actualResource =\r\n        service.getResourceWithAccess(fileGuid);\r\n\r\n    // THEN\r\n    StepVerifier.create(actualResource).expectNext(expectedResource).verifyComplete();\r\n  }\r\n```\r\n\r\nUnfortunately, I am getting this error:\r\n```\r\njava.lang.AssertionError: expectation ....\r\nactual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: \r\nStrict stubbing argument mismatch. Please check:\r\n - this invocation of &#39;ofMono&#39; method:\r\n    cachingService.ofMono(\r\n    98f0b409-20b9-3674-a0e6-eb5048219f2c,\r\n    MonoJust\r\n);\r\n    -&gt; at com...lambda$getResourceWithAccess$1(ResourceWithAccessServiceImp.java:52)\r\n - has following stubbing(s) with different arguments:\r\n    1. cachingService.ofMono(\r\n    98f0b409-20b9-3674-a0e6-eb5048219f2c,\r\n    MonoJust\r\n);\r\n```","link":"https://stackoverflow.com/questions/77544852/java-reactor-caffeine-caching-mockito-strict-stubbing-argument-mismatch","title":"Java Reactor + Caffeine Caching + Mockito = Strict stubbing argument mismatch","body":"<p>I am using Java Reactor in a Spring-boot project, where I need to cache my data in one of the intermediate steps. It's on Spring Boot 3, Java 17, Junit5...</p>\n<p>My caching service looks like this:</p>\n<pre><code>@Component\npublic class CachingService {\n  private static final int DURATION = 60;\n\n  public Mono&lt;Resource&gt; ofMono(final UUID guid, final Mono&lt;Resource&gt; mono) {\n    final String cachingKey = &quot;key&quot;;\n    final Function&lt;String, Mono&lt;Resource&gt;&gt; monoFn = ofMono(key -&gt; mono);\n    return Mono.defer(() -&gt; monoFn.apply(cachingKey));\n  }\n\n  private Function&lt;String, Mono&lt;Resource&gt;&gt; ofMono(final Function&lt;String, Mono&lt;Resource&gt;&gt; fn) {\n    final AsyncLoadingCache&lt;String, Resource&gt; cache =\n        Caffeine.newBuilder()\n            .expireAfterWrite(Duration.ofSeconds(DURATION).multipliedBy(2))\n            .refreshAfterWrite(Duration.ofSeconds(DURATION))\n            .buildAsync((k, e) -&gt; fn.apply(k).subscribeOn(Schedulers.fromExecutor(e)).toFuture());\n\n    return (k) -&gt; Mono.fromFuture(cache.get(k));\n  }\n}\n</code></pre>\n<p>So my purpose is caching an instance of 'Resource' record, which is published as Mono from another service, and will be consumed in another service again.</p>\n<p>I am injecting cachingService in another service and calling it's method:</p>\n<pre><code>  @Override\n  public Mono&lt;Resource&gt; getResourceWithAccess(final UUID guid) {\n    final Mono&lt;Boolean&gt; viewAccess = accessService.getViewAccess(guid);\n\n    return viewAccess\n        .flatMap(hasAccess -&gt; mapToResource(guid, hasAccess))\n        .flatMap(resource -&gt; cachingService.ofMono(guid, Mono.just(resource)));\n  }\n</code></pre>\n<p>The accessService.getViewAccess and mapToResource used in the code:</p>\n<pre><code>  Mono&lt;Boolean&gt; accessService.getViewAccess(UUID fileGuid);\n\n  Mono&lt;Resource&gt; mapToResource(\n      final UUID guid, final Boolean hasAccess);\n</code></pre>\n<p>I have a Mockito test like this:</p>\n<pre><code>@Test\n  void test() {\n    // GIVEN\n    ...\n    private ResourceWithAccessService service\n    @Mock private CachingService cachingService;\n\n    Resource expectedResource = ...\n    when(cachingService.ofMono(fileGuid, Mono.just(expectedResource ))).thenReturn(Mono.just(expectedResource ));\n\n    // WHEN\n    final Mono&lt;Resource &gt; actualResource =\n        service.getResourceWithAccess(fileGuid);\n\n    // THEN\n    StepVerifier.create(actualResource).expectNext(expectedResource).verifyComplete();\n  }\n</code></pre>\n<p>Unfortunately, I am getting this error:</p>\n<pre><code>java.lang.AssertionError: expectation ....\nactual: onError(org.mockito.exceptions.misusing.PotentialStubbingProblem: \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'ofMono' method:\n    cachingService.ofMono(\n    98f0b409-20b9-3674-a0e6-eb5048219f2c,\n    MonoJust\n);\n    -&gt; at com...lambda$getResourceWithAccess$1(ResourceWithAccessServiceImp.java:52)\n - has following stubbing(s) with different arguments:\n    1. cachingService.ofMono(\n    98f0b409-20b9-3674-a0e6-eb5048219f2c,\n    MonoJust\n);\n</code></pre>\n"},{"tags":["java","robotics"],"comments":[{"score":0,"post_type":"question","creation_date":1676598941,"post_id":75479550,"comment_id":133174403,"body_markdown":"As someone with FRC experience, you’d have more luck posting on Chief Delphi. They’ll have more Roborio specific knowledge.","link":"https://stackoverflow.com/questions/75479550/dorg-gradle-java-home-c-users-public-wpilib-2022-jdk-terminated-with-exit-c#comment133174403_75479550","body":"As someone with FRC experience, you’d have more luck posting on Chief Delphi. They’ll have more Roborio specific knowledge."},{"score":0,"post_type":"question","creation_date":1676618275,"post_id":75479550,"comment_id":133177018,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","link":"https://stackoverflow.com/questions/75479550/dorg-gradle-java-home-c-users-public-wpilib-2022-jdk-terminated-with-exit-c#comment133177018_75479550","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"comment_count":2,"is_answered":false,"view_count":30,"answer_count":0,"score":0,"last_activity_date":1700920029,"creation_date":1676598546,"last_edit_date":1700920029,"question_id":75479550,"body_markdown":"Working on a script for a RoboRIO in relation to the FRC. I&#39;m unable to deploy the code. I&#39;m not sure what I can do in order to proceed in deploying the code.\r\n\r\nI attempted going into the properties json file and entering the team number manually into all the files. (I was expecting this to fix the issue, but unfortunately did not)\r\n\r\nI also attempted to resolve the issue by reformatting the RoboRIO (This did not fix the issue either)\r\n\r\nI can make a communication connection, and joystick connections, just no success with the Robot Code.","link":"https://stackoverflow.com/questions/75479550/dorg-gradle-java-home-c-users-public-wpilib-2022-jdk-terminated-with-exit-c","title":"-Dorg.gradle.java.home=&quot;C:\\Users\\Public\\wpilib\\2022\\jdk&quot;&quot; terminated with exit code: 1","body":"<p>Working on a script for a RoboRIO in relation to the FRC. I'm unable to deploy the code. I'm not sure what I can do in order to proceed in deploying the code.</p>\n<p>I attempted going into the properties json file and entering the team number manually into all the files. (I was expecting this to fix the issue, but unfortunately did not)</p>\n<p>I also attempted to resolve the issue by reformatting the RoboRIO (This did not fix the issue either)</p>\n<p>I can make a communication connection, and joystick connections, just no success with the Robot Code.</p>\n"},{"tags":["java","maven","javadoc","maven-javadoc-plugin","doclint"],"comments":[{"score":0,"post_type":"question","creation_date":1700919465,"post_id":77511739,"comment_id":136712418,"body_markdown":"I agree with the theme of this question, but I would doubt there is a flag for it - it feels like a very minor adjustment for which a flag might be harder to justify in maintenance terms. I&#39;d be inclined to suggest posting this question in the bug tracker for the linter project.","link":"https://stackoverflow.com/questions/77511739/suppressing-javadoc-21-doclint-warnings-specifically-for-no-main-description#comment136712418_77511739","body":"I agree with the theme of this question, but I would doubt there is a flag for it - it feels like a very minor adjustment for which a flag might be harder to justify in maintenance terms. I&#39;d be inclined to suggest posting this question in the bug tracker for the linter project."},{"score":0,"post_type":"question","creation_date":1700929960,"post_id":77511739,"comment_id":136713385,"body_markdown":"Yeah, that was the second part of the question: &quot;…  how best can I communicate to the Javadoc team …&quot;. Do you happen to know how the DocLint team communicates and what they use for the bug tracker? If no one knows I&#39;ll try to track that down (pun unintended) when I get a chance to circle back.","link":"https://stackoverflow.com/questions/77511739/suppressing-javadoc-21-doclint-warnings-specifically-for-no-main-description#comment136713385_77511739","body":"Yeah, that was the second part of the question: &quot;…  how best can I communicate to the Javadoc team …&quot;. Do you happen to know how the DocLint team communicates and what they use for the bug tracker? If no one knows I&#39;ll try to track that down (pun unintended) when I get a chance to circle back."},{"score":0,"post_type":"question","creation_date":1700930299,"post_id":77511739,"comment_id":136713421,"body_markdown":"Ah yes, sorry, I didn&#39;t see that part of the question. I assumed DocLint is open source, but I don&#39;t use it, so could be mistaken. I did a quick search myself, and surprisingly could not find anything. I can&#39;t see anything on GitHub either.","link":"https://stackoverflow.com/questions/77511739/suppressing-javadoc-21-doclint-warnings-specifically-for-no-main-description#comment136713421_77511739","body":"Ah yes, sorry, I didn&#39;t see that part of the question. I assumed DocLint is open source, but I don&#39;t use it, so could be mistaken. I did a quick search myself, and surprisingly could not find anything. I can&#39;t see anything on GitHub either."},{"score":0,"post_type":"question","creation_date":1700930398,"post_id":77511739,"comment_id":136713432,"body_markdown":"Oh, just a thought - can this linter output in XML or something machine readable? At a push you could just filter that output for cases you don&#39;t like.","link":"https://stackoverflow.com/questions/77511739/suppressing-javadoc-21-doclint-warnings-specifically-for-no-main-description#comment136713432_77511739","body":"Oh, just a thought - can this linter output in XML or something machine readable? At a push you could just filter that output for cases you don&#39;t like."},{"score":0,"post_type":"question","creation_date":1700930616,"post_id":77511739,"comment_id":136713458,"body_markdown":"This is regarding the console output of `mvn clean package`, so whatever files are generated separately won&#39;t have an impact. (The thought of creating a Maven wrapper and parsing out these inane warnings from `stdout`/`stderr` and discarding them crossed my mind, but that would be one crazy kludge.)","link":"https://stackoverflow.com/questions/77511739/suppressing-javadoc-21-doclint-warnings-specifically-for-no-main-description#comment136713458_77511739","body":"This is regarding the console output of <code>mvn clean package</code>, so whatever files are generated separately won&#39;t have an impact. (The thought of creating a Maven wrapper and parsing out these inane warnings from <code>stdout</code>/<code>stderr</code> and discarding them crossed my mind, but that would be one crazy kludge.)"},{"score":0,"post_type":"question","creation_date":1700931166,"post_id":77511739,"comment_id":136713514,"body_markdown":"I don&#39;t know Maven, but I assume you wouldn&#39;t need to interface with Maven _per se_ - just pipe the output through a filter command, in the style of `grep`. But I appreciate it might not be an elegant approach.","link":"https://stackoverflow.com/questions/77511739/suppressing-javadoc-21-doclint-warnings-specifically-for-no-main-description#comment136713514_77511739","body":"I don&#39;t know Maven, but I assume you wouldn&#39;t need to interface with Maven <i>per se</i> - just pipe the output through a filter command, in the style of <code>grep</code>. But I appreciate it might not be an elegant approach."}],"comment_count":6,"is_answered":false,"view_count":78,"answer_count":0,"score":2,"last_activity_date":1700918291,"creation_date":1700414466,"last_edit_date":1700918291,"question_id":77511739,"body_markdown":"I just upgraded my build from Java 17 to Java 21. In Maven I have Javadoc set to [DocLint][1] everything using the [Maven Compiler Plugin][2] `-Xlint:all` compiler option.\r\n\r\nAs is typical with Java classes, I have a plethora of getters in the following form:\r\n\r\n```java\r\n  /** @return foo. */\r\n  public Foo getFoo() {\r\n    return foo;\r\n  }\r\n```\r\n\r\nIn Java 17 that produced Javadocs just fine. Now in Java 21 I get the following warning (oodles of them!) throughout my large codebase:\r\n\r\n&gt; `warning: no main description`\r\n\r\nIt seems Javadoc now wants me to do this:\r\n\r\n```java\r\n  /**\r\n   * Returns foo.\r\n   * @return foo.\r\n   */\r\n  public Foo getFoo() {\r\n    return foo;\r\n  }\r\n```\r\n\r\nI struggle to understand the utility of this new warning. I would like to suppress this warning project-wide in the configuration.\r\n\r\nI believe I can disable the entire DocLint group by using `-Xdoclint all,-missing`, but this will suppress _all_ warnings related to missing Javadocs. I definitely want to be warned if I leave off the Javadoc altogether for a getter!\r\n\r\n**How can I suppress _only_ the Javadoc DocLint warning related to a missing &quot;main description&quot; if the `@return` is nevertheless present?** Alternatively, if this is not possible, how best can I communicate to the Javadoc team that adding more and more inane warnings that cannot be suppressed individually will at some point cause even those users (such as I) who like to keep our API documentation super tidy to abandon the user of the linter altogether?\r\n\r\nWhile I understand that someone people will just turn off the linter entirely, I&#39;d rather be more specific.\r\n\r\nSee also my separate (related) question https://stackoverflow.com/q/73693330.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/specs/man/javadoc.html#doclint\r\n  [2]: https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html","link":"https://stackoverflow.com/questions/77511739/suppressing-javadoc-21-doclint-warnings-specifically-for-no-main-description","title":"Suppressing Javadoc 21 DocLint warnings specifically for &quot;no main description&quot;","body":"<p>I just upgraded my build from Java 17 to Java 21. In Maven I have Javadoc set to <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/javadoc.html#doclint\" rel=\"nofollow noreferrer\">DocLint</a> everything using the <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html\" rel=\"nofollow noreferrer\">Maven Compiler Plugin</a> <code>-Xlint:all</code> compiler option.</p>\n<p>As is typical with Java classes, I have a plethora of getters in the following form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  /** @return foo. */\n  public Foo getFoo() {\n    return foo;\n  }\n</code></pre>\n<p>In Java 17 that produced Javadocs just fine. Now in Java 21 I get the following warning (oodles of them!) throughout my large codebase:</p>\n<blockquote>\n<p><code>warning: no main description</code></p>\n</blockquote>\n<p>It seems Javadoc now wants me to do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  /**\n   * Returns foo.\n   * @return foo.\n   */\n  public Foo getFoo() {\n    return foo;\n  }\n</code></pre>\n<p>I struggle to understand the utility of this new warning. I would like to suppress this warning project-wide in the configuration.</p>\n<p>I believe I can disable the entire DocLint group by using <code>-Xdoclint all,-missing</code>, but this will suppress <em>all</em> warnings related to missing Javadocs. I definitely want to be warned if I leave off the Javadoc altogether for a getter!</p>\n<p><strong>How can I suppress <em>only</em> the Javadoc DocLint warning related to a missing &quot;main description&quot; if the <code>@return</code> is nevertheless present?</strong> Alternatively, if this is not possible, how best can I communicate to the Javadoc team that adding more and more inane warnings that cannot be suppressed individually will at some point cause even those users (such as I) who like to keep our API documentation super tidy to abandon the user of the linter altogether?</p>\n<p>While I understand that someone people will just turn off the linter entirely, I'd rather be more specific.</p>\n<p>See also my separate (related) question <a href=\"https://stackoverflow.com/q/73693330\">Turn off Java 17 doclint missing comment warning only for enums in Maven Javadoc Plugin</a>.</p>\n"},{"tags":["java","android","android-studio","android-fragments","mobile"],"comments":[{"score":0,"post_type":"question","creation_date":1700839469,"post_id":77544172,"comment_id":136705773,"body_markdown":"&quot;How do I start the android application automatically when I turn on the TV?&quot; -- at best, your code is for running your app when the Android TV device boots. That may not be related to when you turn on your TV. Also note that you cannot start an activity from the background on modern versions of Android, such as from an on-boot `BroadcastReceiver`.","link":"https://stackoverflow.com/questions/77544172/how-do-i-start-an-android-application-automatically-when-i-turn-on-the-tv#comment136705773_77544172","body":"&quot;How do I start the android application automatically when I turn on the TV?&quot; -- at best, your code is for running your app when the Android TV device boots. That may not be related to when you turn on your TV. Also note that you cannot start an activity from the background on modern versions of Android, such as from an on-boot <code>BroadcastReceiver</code>."},{"score":0,"post_type":"question","creation_date":1700840155,"post_id":77544172,"comment_id":136705868,"body_markdown":"@CommonsWare so is there any way i can get this behavior?","link":"https://stackoverflow.com/questions/77544172/how-do-i-start-an-android-application-automatically-when-i-turn-on-the-tv#comment136705868_77544172","body":"@CommonsWare so is there any way i can get this behavior?"},{"score":0,"post_type":"question","creation_date":1700840715,"post_id":77544172,"comment_id":136705966,"body_markdown":"I do not know precisely what &quot;this behavior&quot; is or why users would want it. You might consider explaining in greater detail what the user experience is that you are trying to achieve. In the absence of those details, it sounds like you want to replace the Android TV launcher.","link":"https://stackoverflow.com/questions/77544172/how-do-i-start-an-android-application-automatically-when-i-turn-on-the-tv#comment136705966_77544172","body":"I do not know precisely what &quot;this behavior&quot; is or why users would want it. You might consider explaining in greater detail what the user experience is that you are trying to achieve. In the absence of those details, it sounds like you want to replace the Android TV launcher."},{"score":0,"post_type":"question","creation_date":1700840835,"post_id":77544172,"comment_id":136705989,"body_markdown":"@CommonsWare We want to prioritize that when a screen turns off/powered off etc...the TV when turned on goes directly into the app/wrapper.","link":"https://stackoverflow.com/questions/77544172/how-do-i-start-an-android-application-automatically-when-i-turn-on-the-tv#comment136705989_77544172","body":"@CommonsWare We want to prioritize that when a screen turns off/powered off etc...the TV when turned on goes directly into the app/wrapper."},{"score":0,"post_type":"question","creation_date":1700841503,"post_id":77544172,"comment_id":136706093,"body_markdown":"I do not know that an Android TV device necessarily knows when the TV is turned on or off. It *definitely* will require you to test with hardware, as the emulator does not emulate a TV plus an Android TV device. Since the behavior of the hardware may vary, I recommend that you obtain several Android TV devices from a range of manufacturers. Then, you can see if features like [this one](https://developer.android.com/training/tv/start/hardware#powerOff) will address your concerns.","link":"https://stackoverflow.com/questions/77544172/how-do-i-start-an-android-application-automatically-when-i-turn-on-the-tv#comment136706093_77544172","body":"I do not know that an Android TV device necessarily knows when the TV is turned on or off. It <i>definitely</i> will require you to test with hardware, as the emulator does not emulate a TV plus an Android TV device. Since the behavior of the hardware may vary, I recommend that you obtain several Android TV devices from a range of manufacturers. Then, you can see if features like <a href=\"https://developer.android.com/training/tv/start/hardware#powerOff\" rel=\"nofollow noreferrer\">this one</a> will address your concerns."},{"score":0,"post_type":"question","creation_date":1700841559,"post_id":77544172,"comment_id":136706098,"body_markdown":"As I guess you only want to test this functionality with emulator. Put one log inside `onReceive` method and when your emulator open/restart/reboot `onReceive` will trigger in `BroadcastReceiver`. Hope you find it helpful. Sometimes it takes some time to trigger `onReceive` after open/restart/reboot emulator. As @CommonsWare mentioned latest API devices cannot start activity from the background you need to take overlay permission for latest API devices.","link":"https://stackoverflow.com/questions/77544172/how-do-i-start-an-android-application-automatically-when-i-turn-on-the-tv#comment136706098_77544172","body":"As I guess you only want to test this functionality with emulator. Put one log inside <code>onReceive</code> method and when your emulator open/restart/reboot <code>onReceive</code> will trigger in <code>BroadcastReceiver</code>. Hope you find it helpful. Sometimes it takes some time to trigger <code>onReceive</code> after open/restart/reboot emulator. As @CommonsWare mentioned latest API devices cannot start activity from the background you need to take overlay permission for latest API devices."},{"score":1,"post_type":"question","creation_date":1700916596,"post_id":77544172,"comment_id":136712144,"body_markdown":"Yeah, similar problems have been faced and rectified by the following steps: Kindly ensure the boot receiver receives the onReceive method. If it receives first, add android.permission.SYSTEM_ALERT_WINDOW and get permission granted by the user or using the adb. If it&#39;s not working again, then add a foreground service and start the activity from the service. I will add the code in the answer section.","link":"https://stackoverflow.com/questions/77544172/how-do-i-start-an-android-application-automatically-when-i-turn-on-the-tv#comment136712144_77544172","body":"Yeah, similar problems have been faced and rectified by the following steps: Kindly ensure the boot receiver receives the onReceive method. If it receives first, add android.permission.SYSTEM_ALERT_WINDOW and get permission granted by the user or using the adb. If it&#39;s not working again, then add a foreground service and start the activity from the service. I will add the code in the answer section."}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1700917459,"creation_date":1700917459,"answer_id":77547975,"question_id":77544172,"body_markdown":"Step 1: Manifest code\r\n\r\n   Add permissions\r\n``` \r\n&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n```\r\n   Inside the application class\r\n```\r\n         &lt;receiver\r\n            android:name=&quot;.BootReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n                &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot; /&gt;  \r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n       &lt;service\r\n            android:name=&quot;.AppStartService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:stopWithTask=&quot;false&quot; /&gt;\r\n```\r\nStep 2: Get the Overlay permission granted by the user or \r\n```\r\nadb shell pm grant com.example.appstart android.permission.SYSTEM_ALERT_WINDOW\r\n```\r\n\r\nStep 3: BootReceiver\r\n```\r\nclass BootReceiver : BroadcastReceiver() {\r\n\r\n    override fun onReceive(context: Context, intent: Intent?) {\r\n        Log.i(TAG, &quot;onReceive: boot received ${intent?.action}&quot;)\r\n        val serviceIntent = Intent(context, AppStartService::class.java)\r\n        ContextCompat.startForegroundService(context, serviceIntent)\r\n    }\r\n\r\n    companion object {\r\n        private const val TAG = &quot;BootReceiver&quot;\r\n    }\r\n}\r\n```\r\nStep 4 : Service code\r\n\r\n```\r\nclass AppStartService: Service() {\r\n\r\n    override fun onBind(intent: Intent?): IBinder? {\r\n        return null\r\n    }\r\n\r\n    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\r\n        return START_STICKY\r\n    }\r\n\r\n    override fun onCreate() {\r\n        super.onCreate()\r\n\r\n        startForeground(1, createNotification())\r\n\r\n        GlobalScope.launch {\r\n            withContext(Dispatchers.Main) {\r\n                try {\r\n                    val intent = Intent(this@AppStartService, MainActivity::class.java)\r\n                    intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK\r\n                    startActivity(intent)\r\n                } catch (ex: Exception) {\r\n                    Log.e(TAG, &quot;onCreate: &quot;, ex)\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private fun createNotification(): Notification {\r\n        val serviceChannel = NotificationChannel(\r\n            CHANNEL_ID,\r\n            &quot;${getString(R.string.app_name)} Service&quot;,\r\n            NotificationManager.IMPORTANCE_DEFAULT\r\n        )\r\n        val manager = getSystemService(\r\n            NotificationManager::class.java\r\n        )\r\n        manager.createNotificationChannel(serviceChannel)\r\n\r\n        return NotificationCompat.Builder(this, CHANNEL_ID)\r\n            .setContentTitle(&quot;${getString(R.string.app_name)} Service&quot;)\r\n            .setSilent(true)\r\n            .setContentText(&quot;Please restart this device if this service is not running&quot;)\r\n            .setSmallIcon(R.mipmap.ic_launcher)\r\n            .build()\r\n    }\r\n\r\n\r\n    companion object {\r\n        private const val TAG = &quot;AppStartService&quot;\r\n        private const val CHANNEL_ID = &quot;app-start-service&quot;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn my case, BootReceiver class receives boot completed action. So, Working for me! Ensure boot complete action works on particular device.","link":"https://stackoverflow.com/questions/77544172/how-do-i-start-an-android-application-automatically-when-i-turn-on-the-tv/77547975#77547975","title":"How do I start an android application automatically when I turn on the TV?","body":"<p>Step 1: Manifest code</p>\n<p>Add permissions</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n</code></pre>\n<p>Inside the application class</p>\n<pre><code>         &lt;receiver\n            android:name=&quot;.BootReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n                &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot; /&gt;  \n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n       &lt;service\n            android:name=&quot;.AppStartService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;\n            android:stopWithTask=&quot;false&quot; /&gt;\n</code></pre>\n<p>Step 2: Get the Overlay permission granted by the user or</p>\n<pre><code>adb shell pm grant com.example.appstart android.permission.SYSTEM_ALERT_WINDOW\n</code></pre>\n<p>Step 3: BootReceiver</p>\n<pre><code>class BootReceiver : BroadcastReceiver() {\n\n    override fun onReceive(context: Context, intent: Intent?) {\n        Log.i(TAG, &quot;onReceive: boot received ${intent?.action}&quot;)\n        val serviceIntent = Intent(context, AppStartService::class.java)\n        ContextCompat.startForegroundService(context, serviceIntent)\n    }\n\n    companion object {\n        private const val TAG = &quot;BootReceiver&quot;\n    }\n}\n</code></pre>\n<p>Step 4 : Service code</p>\n<pre><code>class AppStartService: Service() {\n\n    override fun onBind(intent: Intent?): IBinder? {\n        return null\n    }\n\n    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n        return START_STICKY\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n\n        startForeground(1, createNotification())\n\n        GlobalScope.launch {\n            withContext(Dispatchers.Main) {\n                try {\n                    val intent = Intent(this@AppStartService, MainActivity::class.java)\n                    intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK\n                    startActivity(intent)\n                } catch (ex: Exception) {\n                    Log.e(TAG, &quot;onCreate: &quot;, ex)\n                }\n            }\n        }\n\n    }\n\n    private fun createNotification(): Notification {\n        val serviceChannel = NotificationChannel(\n            CHANNEL_ID,\n            &quot;${getString(R.string.app_name)} Service&quot;,\n            NotificationManager.IMPORTANCE_DEFAULT\n        )\n        val manager = getSystemService(\n            NotificationManager::class.java\n        )\n        manager.createNotificationChannel(serviceChannel)\n\n        return NotificationCompat.Builder(this, CHANNEL_ID)\n            .setContentTitle(&quot;${getString(R.string.app_name)} Service&quot;)\n            .setSilent(true)\n            .setContentText(&quot;Please restart this device if this service is not running&quot;)\n            .setSmallIcon(R.mipmap.ic_launcher)\n            .build()\n    }\n\n\n    companion object {\n        private const val TAG = &quot;AppStartService&quot;\n        private const val CHANNEL_ID = &quot;app-start-service&quot;\n    }\n\n}\n</code></pre>\n<p>In my case, BootReceiver class receives boot completed action. So, Working for me! Ensure boot complete action works on particular device.</p>\n"}],"comment_count":7,"is_answered":true,"view_count":109,"answer_count":1,"score":0,"last_activity_date":1700917459,"creation_date":1700839329,"last_edit_date":1700840553,"question_id":77544172,"body_markdown":"I added these permissions to the manifest \r\n\r\n    \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n\r\nand I added the **BootReceiver** to the Manifest:\r\n\r\n    &lt;receiver\r\n                android:name=&quot;com.portlmedia.streets.BootReceiver&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter android:directBootAware=&quot;true&quot;&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.REBOOT&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n\r\nAnd I created the  **BootReceiver** in my project:\r\n\r\n    public class BootReceiver extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())) {\r\n                Intent activityIntent = new Intent(context, MainActivity.class);\r\n                context.startActivity(activityIntent);\r\n            }\r\n        }\r\n    }\r\n\r\nMy question, if you can help me is how do I test this using the emulator in android studio? \r\n\r\nI put a breakpoint in the onReceive method, but when I start the application it doesn&#39;t hit it\r\nI tried also With Cold Reboot, but nothing, and I want to test if indeed works, or maybe is a problem in my code?","link":"https://stackoverflow.com/questions/77544172/how-do-i-start-an-android-application-automatically-when-i-turn-on-the-tv","title":"How do I start an android application automatically when I turn on the TV?","body":"<p>I added these permissions to the manifest</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n</code></pre>\n<p>and I added the <strong>BootReceiver</strong> to the Manifest:</p>\n<pre><code>&lt;receiver\n            android:name=&quot;com.portlmedia.streets.BootReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter android:directBootAware=&quot;true&quot;&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.REBOOT&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n</code></pre>\n<p>And I created the  <strong>BootReceiver</strong> in my project:</p>\n<pre><code>public class BootReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())) {\n            Intent activityIntent = new Intent(context, MainActivity.class);\n            context.startActivity(activityIntent);\n        }\n    }\n}\n</code></pre>\n<p>My question, if you can help me is how do I test this using the emulator in android studio?</p>\n<p>I put a breakpoint in the onReceive method, but when I start the application it doesn't hit it\nI tried also With Cold Reboot, but nothing, and I want to test if indeed works, or maybe is a problem in my code?</p>\n"},{"tags":["java","regex","regex-group","regex-greedy"],"comments":[{"score":0,"post_type":"question","creation_date":1700912794,"post_id":77547699,"comment_id":136711820,"body_markdown":"What exactly is the behaviour that you want?","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator#comment136711820_77547699","body":"What exactly is the behaviour that you want?"},{"score":0,"post_type":"question","creation_date":1700913897,"post_id":77547699,"comment_id":136711903,"body_markdown":"@anubhava as i said: &quot;If I understand the theory of regex right, then ? is greedy and so both, class and program must be matched in the version of the pattern above.&quot;","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator#comment136711903_77547699","body":"@anubhava as i said: &quot;If I understand the theory of regex right, then ? is greedy and so both, class and program must be matched in the version of the pattern above.&quot;"},{"score":1,"post_type":"question","creation_date":1700922817,"post_id":77547699,"comment_id":136712687,"body_markdown":"&quot;*I do matching with multiline flag.*&quot;: As in `Pattern.MULTILINE`? You don&#39;t have any `^` or `$` anchors in your regex, so that flag is unnecessary.","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator#comment136712687_77547699","body":"&quot;<i>I do matching with multiline flag.</i>&quot;: As in <code>Pattern.MULTILINE</code>? You don&#39;t have any <code>^</code> or <code>$</code> anchors in your regex, so that flag is unnecessary."},{"score":0,"post_type":"question","creation_date":1700924940,"post_id":77547699,"comment_id":136712860,"body_markdown":"@user2609605, you should add a _tex_, or _latex_, tag for this.","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator#comment136712860_77547699","body":"@user2609605, you should add a <i>tex</i>, or <i>latex</i>, tag for this."},{"score":0,"post_type":"question","creation_date":1701049870,"post_id":77547699,"comment_id":136723111,"body_markdown":"If you are just trying to avoid matching the empty string, add a `(?&lt;=[\\S\\s])` at the end of the Rx. `\\A(%\\s*!\\s*T[eE]X[ ]program=(?&lt;programMagic&gt;[^} ]+)\\R)?(\\\\(documentstyle|documentclass)\\s*(\\[[^]]*\\])?\\s*\\{(?&lt;docClass&gt;[^} ]+)\\})?(?&lt;=[\\S\\s])` https://regex101.com/r/ZACWuy/1 I must say that your top and bottom optional capture groups are misplaced. Meaning they are both optional and group 2 can be matched at the `\\A` if group 1 is absent. Group 1 seems to contain a hard coded header `%\\s*!\\s*T[eE]X` which should not be optional.","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator#comment136723111_77547699","body":"If you are just trying to avoid matching the empty string, add a <code>(?&lt;=[\\S\\s])</code> at the end of the Rx. <code>\\A(%\\s*!\\s*T[eE]X[ ]program=(?&lt;programMagic&gt;[^} ]+)\\R)?(\\\\(documentstyle|documentclass)\\s*(\\[[^]]*\\])?\\s*\\{(&zwnj;&#8203;?&lt;docClass&gt;[^} ]+)\\})?(?&lt;=[\\S\\s])</code> <a href=\"https://regex101.com/r/ZACWuy/1\" rel=\"nofollow noreferrer\">regex101.com/r/ZACWuy/1</a> I must say that your top and bottom optional capture groups are misplaced. Meaning they are both optional and group 2 can be matched at the <code>\\A</code> if group 1 is absent. Group 1 seems to contain a hard coded header <code>%\\s*!\\s*T[eE]X</code> which should not be optional."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1700914051,"post_id":77547735,"comment_id":136711915,"body_markdown":"No,first of all is my question why my pattern does not work, \nIt was not that I want another pattern. \n\nThen it shall be possible to have both matches. \nin fact, it is not only about matching of the expression but about matching of the groups.\nThe pattern I gave always matches, at worst the empty string. But the difference is which groups are matched. \nThe groups pull information out of the file.","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator/77547735#comment136711915_77547735","body":"No,first of all is my question why my pattern does not work,  It was not that I want another pattern.   Then it shall be possible to have both matches.  in fact, it is not only about matching of the expression but about matching of the groups. The pattern I gave always matches, at worst the empty string. But the difference is which groups are matched.  The groups pull information out of the file."},{"score":0,"post_type":"answer","creation_date":1700915642,"post_id":77547735,"comment_id":136712075,"body_markdown":"I know I said, i want to find out latex root files. this is not a lie but it is not the whole truth.","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator/77547735#comment136712075_77547735","body":"I know I said, i want to find out latex root files. this is not a lie but it is not the whole truth."},{"score":0,"post_type":"answer","creation_date":1700917994,"post_id":77547735,"comment_id":136712282,"body_markdown":"I think your pattern is not intuitive and elegant but above all not performant.","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator/77547735#comment136712282_77547735","body":"I think your pattern is not intuitive and elegant but above all not performant."},{"score":0,"post_type":"answer","creation_date":1700921758,"post_id":77547735,"comment_id":136712612,"body_markdown":"`why my pattern does not work`: It works how it is supposed to work. I think you didn&#39;t fully understand the intent of the question I asked below your question. You can see [here](https://regex101.com/r/kUvnDe/2) that both lines are being matched with `?`","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator/77547735#comment136712612_77547735","body":"<code>why my pattern does not work</code>: It works how it is supposed to work. I think you didn&#39;t fully understand the intent of the question I asked below your question. You can see <a href=\"https://regex101.com/r/kUvnDe/2\" rel=\"nofollow noreferrer\">here</a> that both lines are being matched with <code>?</code>"},{"score":0,"post_type":"answer","creation_date":1701098868,"post_id":77547735,"comment_id":136729784,"body_markdown":"Nono, your pattern does work. I know. I made another point.","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator/77547735#comment136729784_77547735","body":"Nono, your pattern does work. I know. I made another point."}],"comment_count":5,"score":1,"last_activity_date":1700913214,"creation_date":1700913214,"answer_id":77547735,"question_id":77547699,"body_markdown":"&gt; I want to identify root files when either a class or a program is given.\r\n\r\nYou may use this regex with alternation:\r\n\r\n```sh\r\n\\A(?:%\\s*!\\s*T[eE]X program=(?&lt;programMagic&gt;[^} ]+)\\R|(?:.*\\R)?\\\\(documentstyle|documentclass)\\s*\\[[^]]*]\\s*\\{(?&lt;docClass&gt;[^} ]+)})\r\n```\r\n\r\nNote that pretty much all of your regex pattern is used here but we are using it like:\r\n\r\n```sh\r\n\\A(?:patternLine1\\R|(?:\\R)?patternLine2)\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/kUvnDe/1","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator/77547735#77547735","title":"No maximum match although greedy optional-operator","body":"<blockquote>\n<p>I want to identify root files when either a class or a program is given.</p>\n</blockquote>\n<p>You may use this regex with alternation:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>\\A(?:%\\s*!\\s*T[eE]X program=(?&lt;programMagic&gt;[^} ]+)\\R|(?:.*\\R)?\\\\(documentstyle|documentclass)\\s*\\[[^]]*]\\s*\\{(?&lt;docClass&gt;[^} ]+)})\n</code></pre>\n<p>Note that pretty much all of your regex pattern is used here but we are using it like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>\\A(?:patternLine1\\R|(?:\\R)?patternLine2)\n</code></pre>\n<p><a href=\"https://regex101.com/r/kUvnDe/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1700917760,"post_id":77547949,"comment_id":136712256,"body_markdown":"Thank you for answering.. in fact, i made a mistake in transforming the pattern which i actually read in from an xml file. \nReally, regex is a pain with java string literals. I will correct using multi line string literals.\n\nI rethink what went wrong. \n\nWhich java version do you use??","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator/77547949#comment136712256_77547949","body":"Thank you for answering.. in fact, i made a mistake in transforming the pattern which i actually read in from an xml file.  Really, regex is a pain with java string literals. I will correct using multi line string literals.  I rethink what went wrong.   Which java version do you use??"},{"score":0,"post_type":"answer","creation_date":1700926085,"post_id":77547949,"comment_id":136712955,"body_markdown":"That was running on jdk21.","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator/77547949#comment136712955_77547949","body":"That was running on jdk21."},{"score":1,"post_type":"answer","creation_date":1701098715,"post_id":77547949,"comment_id":136729736,"body_markdown":"@all sorry for the noise!!! \nI found the problem: After all, I was reading from a file and (shame on me), \nprovided the matcher not with the full text at once. \nThis is the explanation. \n\nSorry for the noise!!!! \n\nI will in future always try to provide a small example to avoid like this.","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator/77547949#comment136729736_77547949","body":"@all sorry for the noise!!!  I found the problem: After all, I was reading from a file and (shame on me),  provided the matcher not with the full text at once.  This is the explanation.   Sorry for the noise!!!!   I will in future always try to provide a small example to avoid like this."}],"comment_count":3,"score":1,"last_activity_date":1700917001,"creation_date":1700917001,"answer_id":77547949,"question_id":77547699,"body_markdown":"&gt;```\r\n&gt; (?&amp;lt;programMagic&amp;gt;[^} ]+)\\R)\r\n&gt;```\r\n\r\nThis is.. bizarre. I assume something got lost in copy and pasting, and what you _meant_ to put there is `(?&lt;programMagic&gt;;[^} ]+)`.\r\n\r\nApplying that minor fix, I cannot reproduce your problem. Possibly your attempt to translate this stuff to java failed. Double escaping those backslashes can be a right pain. Here it is:\r\n\r\n```\r\nPattern p = Pattern.compile(\r\n&quot;\\\\A&quot; +\r\n&quot;(%\\\\s*!\\\\s*T[eE]X program=(?&lt;programMagic&gt;[^} ]+)\\\\R)?&quot; +\r\n&quot;(\\\\\\\\(documentstyle|documentclass)\\\\s*(\\\\[[^]]*\\\\])?\\\\s*\\\\{(?&lt;docClass&gt;[^} ]+)\\\\})?&quot;);\r\n\r\nString txt = &quot;% !TEX program=lualatex\\n&quot; +\r\n&quot;\\\\documentclass[a4paper,12pt]{book}&quot;;\r\n\r\nvar m = p.matcher(txt);\r\nSystem.out.println(m.matches());\r\nSystem.out.println(&quot;G1: &#39;&quot; + m.group(&quot;programMagic&quot;) + &quot;&#39;&quot;);\r\nSystem.out.println(&quot;G2: &#39;&quot; + m.group(&quot;docClass&quot;) + &quot;&#39;&quot;);\r\n\r\nString txt = &quot;% !TEX program=lualatex\\n&quot; +\r\n&quot;\\\\documentclass[a4paper,12pt]{book}&quot;;\r\n\r\nm = p.matcher(&quot;% !TEX program=lualatex\\n&quot;);\r\nSystem.out.println(m.matches());\r\nSystem.out.println(&quot;G1: &#39;&quot; + m.group(&quot;programMagic&quot;) + &quot;&#39;&quot;);\r\nSystem.out.println(&quot;G2: &#39;&quot; + m.group(&quot;docClass&quot;) + &quot;&#39;&quot;);\r\n\r\nm = p.matcher(&quot;\\\\documentclass[a4paper,12pt]{book}&quot;);\r\nSystem.out.println(m.matches());\r\nSystem.out.println(&quot;G1: &#39;&quot; + m.group(&quot;programMagic&quot;) + &quot;&#39;&quot;);\r\nSystem.out.println(&quot;G2: &#39;&quot; + m.group(&quot;docClass&quot;) + &quot;&#39;&quot;);\r\n\r\n```\r\n\r\nDoes as far as I can tell exactly what you wanted:\r\n\r\n```\r\ntrue\r\nG1: &#39;lualatex&#39;\r\nG2: &#39;book&#39;\r\ntrue\r\nG1: &#39;lualatex&#39;\r\nG2: &#39;null&#39;\r\ntrue\r\nG1: &#39;null&#39;\r\nG2: &#39;book&#39;\r\n```\r\n","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator/77547949#77547949","title":"No maximum match although greedy optional-operator","body":"<blockquote>\n<pre><code>(?&amp;lt;programMagic&amp;gt;[^} ]+)\\R)\n</code></pre>\n</blockquote>\n<p>This is.. bizarre. I assume something got lost in copy and pasting, and what you <em>meant</em> to put there is <code>(?&lt;programMagic&gt;;[^} ]+)</code>.</p>\n<p>Applying that minor fix, I cannot reproduce your problem. Possibly your attempt to translate this stuff to java failed. Double escaping those backslashes can be a right pain. Here it is:</p>\n<pre><code>Pattern p = Pattern.compile(\n&quot;\\\\A&quot; +\n&quot;(%\\\\s*!\\\\s*T[eE]X program=(?&lt;programMagic&gt;[^} ]+)\\\\R)?&quot; +\n&quot;(\\\\\\\\(documentstyle|documentclass)\\\\s*(\\\\[[^]]*\\\\])?\\\\s*\\\\{(?&lt;docClass&gt;[^} ]+)\\\\})?&quot;);\n\nString txt = &quot;% !TEX program=lualatex\\n&quot; +\n&quot;\\\\documentclass[a4paper,12pt]{book}&quot;;\n\nvar m = p.matcher(txt);\nSystem.out.println(m.matches());\nSystem.out.println(&quot;G1: '&quot; + m.group(&quot;programMagic&quot;) + &quot;'&quot;);\nSystem.out.println(&quot;G2: '&quot; + m.group(&quot;docClass&quot;) + &quot;'&quot;);\n\nString txt = &quot;% !TEX program=lualatex\\n&quot; +\n&quot;\\\\documentclass[a4paper,12pt]{book}&quot;;\n\nm = p.matcher(&quot;% !TEX program=lualatex\\n&quot;);\nSystem.out.println(m.matches());\nSystem.out.println(&quot;G1: '&quot; + m.group(&quot;programMagic&quot;) + &quot;'&quot;);\nSystem.out.println(&quot;G2: '&quot; + m.group(&quot;docClass&quot;) + &quot;'&quot;);\n\nm = p.matcher(&quot;\\\\documentclass[a4paper,12pt]{book}&quot;);\nSystem.out.println(m.matches());\nSystem.out.println(&quot;G1: '&quot; + m.group(&quot;programMagic&quot;) + &quot;'&quot;);\nSystem.out.println(&quot;G2: '&quot; + m.group(&quot;docClass&quot;) + &quot;'&quot;);\n\n</code></pre>\n<p>Does as far as I can tell exactly what you wanted:</p>\n<pre><code>true\nG1: 'lualatex'\nG2: 'book'\ntrue\nG1: 'lualatex'\nG2: 'null'\ntrue\nG1: 'null'\nG2: 'book'\n</code></pre>\n"}],"comment_count":5,"is_answered":true,"view_count":68,"answer_count":2,"score":0,"last_activity_date":1700917001,"creation_date":1700912389,"last_edit_date":1700915374,"question_id":77547699,"body_markdown":"I have a concrete pattern: \r\n\r\n```\r\n\\A\r\n(%\\s*!\\s*T[eE]X program=(?&lt;programMagic&gt;[^} ]+)\\R)?\r\n(\\\\(documentstyle|documentclass)\\s*(\\[[^]]*\\])?\\s*\\{(?&lt;docClass&gt;[^} ]+)\\})?\r\n```\r\n\r\nand i want to match the following string \r\n\r\n```\r\n% !TEX program=lualatex\r\n\\documentclass[a4paper,12pt]{book}\r\n```\r\n\r\nI do matching with multiline flag. \r\n\r\nAs one can see it is about matching the beginning of a latex root file \r\nand extracting the program and the document class. \r\n\r\nThe `\\A` is to restrict to the start of the file \r\nand the last two lines of the pattern are optional, yet greedy (operator `?`). \r\nThis is not the whole truth, but I want to identify root files \r\nwhen either a class or a program is given. \r\n\r\nIf I remove the two `?`, the given file is matched \r\nand both, program and class are identified correctly \r\nand show up in their respective named groups. \r\n\r\nIf I add both `?` as above, then only the second, the class is matched, \r\nor well, at least only the class shows up in the group. \r\nThe other group has value `null` indicating no match. \r\nIf I use only one `?` then only the other, non-optional part is matched, at least that is what shows up in the groups. \r\n\r\nIf I understand the theory of regex right, \r\nthen `?` is greedy and so both, class and program must be matched \r\nin the version of the pattern above. \r\n\r\nThis is not the case. \r\nIs this a bug or do I misunderstand something? \r\n\r\nReading my own question again, ... \r\nsince the first line of my string matches the second line of my pattern \r\nand the second line of my string matches the third line of my pattern, \r\nI think it is more likely that matching is ok, \r\nbut the matched texts don&#39;t show up in the correct groups. \r\nThis would be an indication of a bug in java&#39;s regex engine. \r\nAny other ideas?? ","link":"https://stackoverflow.com/questions/77547699/no-maximum-match-although-greedy-optional-operator","title":"No maximum match although greedy optional-operator","body":"<p>I have a concrete pattern:</p>\n<pre><code>\\A\n(%\\s*!\\s*T[eE]X program=(?&lt;programMagic&gt;[^} ]+)\\R)?\n(\\\\(documentstyle|documentclass)\\s*(\\[[^]]*\\])?\\s*\\{(?&lt;docClass&gt;[^} ]+)\\})?\n</code></pre>\n<p>and i want to match the following string</p>\n<pre><code>% !TEX program=lualatex\n\\documentclass[a4paper,12pt]{book}\n</code></pre>\n<p>I do matching with multiline flag.</p>\n<p>As one can see it is about matching the beginning of a latex root file\nand extracting the program and the document class.</p>\n<p>The <code>\\A</code> is to restrict to the start of the file\nand the last two lines of the pattern are optional, yet greedy (operator <code>?</code>).\nThis is not the whole truth, but I want to identify root files\nwhen either a class or a program is given.</p>\n<p>If I remove the two <code>?</code>, the given file is matched\nand both, program and class are identified correctly\nand show up in their respective named groups.</p>\n<p>If I add both <code>?</code> as above, then only the second, the class is matched,\nor well, at least only the class shows up in the group.\nThe other group has value <code>null</code> indicating no match.\nIf I use only one <code>?</code> then only the other, non-optional part is matched, at least that is what shows up in the groups.</p>\n<p>If I understand the theory of regex right,\nthen <code>?</code> is greedy and so both, class and program must be matched\nin the version of the pattern above.</p>\n<p>This is not the case.\nIs this a bug or do I misunderstand something?</p>\n<p>Reading my own question again, ...\nsince the first line of my string matches the second line of my pattern\nand the second line of my string matches the third line of my pattern,\nI think it is more likely that matching is ok,\nbut the matched texts don't show up in the correct groups.\nThis would be an indication of a bug in java's regex engine.\nAny other ideas??</p>\n"},{"tags":["java","android","httpurlconnection","mpchart"],"comment_count":0,"is_answered":false,"view_count":35,"answer_count":0,"score":0,"last_activity_date":1700916972,"creation_date":1700911948,"last_edit_date":1700916972,"question_id":77547686,"body_markdown":"I&#39;m using MPAndroidChart in my Android app to display a bar chart fetched from an API. However, I&#39;m facing a couple of issues:\r\n\r\n**Overlapping bars:**\r\nThe bars in my bar chart are overlapping, and I want to ensure they are properly spaced.\r\n\r\n**X-axis labels not showing correctly:**\r\nThe X-axis labels, representing months and years, are not showing correctly. Instead of displaying the actual labels, it shows numeric values (0.0, 1.0, 2.0, ...).\r\n\r\n**Dynamically setting Y-axis max value:**\r\nI want to set the maximum value on the Y-axis dynamically based on the maximum value I receive from the API.\r\n\r\nHere&#39;s a simplified version of my existing code:\r\n```\r\n// ... (existing imports)\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private BarChart barChart;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        barChart = findViewById(R.id.barChart);\r\n\r\n        new FetchDataTask().execute(&quot;http://sms1.ilmwasooli.com/dashboard/getcollechistorytest&quot;);\r\n    }\r\n\r\n    private void updateUI(String data) {\r\n        try {\r\n            // Parse JSON data\r\n            JSONObject jsonResponse = new JSONObject(data);\r\n            String status = jsonResponse.getString(&quot;status&quot;);\r\n\r\n            if (status.equals(&quot;success&quot;)) {\r\n                JSONArray dataArray = jsonResponse.getJSONArray(&quot;Data&quot;);\r\n\r\n                // Extract values for the bar chart\r\n                ArrayList&lt;BarEntry&gt; entriesReceived = new ArrayList&lt;&gt;();\r\n                ArrayList&lt;BarEntry&gt; entriesBalance = new ArrayList&lt;&gt;();\r\n                ArrayList&lt;String&gt; labels = new ArrayList&lt;&gt;();\r\n                float maxAmount = 0f;\r\n\r\n                for (int i = 0; i &lt; dataArray.length(); i++) {\r\n                    JSONObject monthData = dataArray.getJSONObject(i);\r\n                    String monthYear = monthData.getString(&quot;mnth&quot;) + &quot; &quot; + monthData.getString(&quot;year&quot;);\r\n\r\n                    float receivedValue = (float) monthData.getDouble(&quot;rcvd&quot;);\r\n                    float balanceValue = (float) monthData.getDouble(&quot;bal&quot;);\r\n\r\n                    maxAmount = Math.max(maxAmount, Math.max(receivedValue, balanceValue));\r\n\r\n                    entriesReceived.add(new BarEntry(i, receivedValue));\r\n                    entriesBalance.add(new BarEntry(i, balanceValue));\r\n                    labels.add(monthYear);\r\n                }\r\n\r\n                BarDataSet dataSetReceived = new BarDataSet(entriesReceived, &quot;Received Amount&quot;);\r\n                dataSetReceived.setColor(getResources().getColor(R.color.primary_color_light));\r\n\r\n                BarDataSet dataSetBalance = new BarDataSet(entriesBalance, &quot;Balance Amount&quot;);\r\n                dataSetBalance.setColor(getResources().getColor(R.color.primary_color_dark));\r\n\r\n                BarData barData = new BarData(dataSetReceived, dataSetBalance);\r\n\r\n                barChart.setData(barData);\r\n\r\n                XAxis xAxis = barChart.getXAxis();\r\n                xAxis.setValueFormatter(new MyXAxisValueFormatter(labels));\r\n                xAxis.setLabelRotationAngle(45f);\r\n\r\n                YAxis yAxis = barChart.getAxisLeft();\r\n                yAxis.setAxisMaximum(maxAmount);\r\n\r\n                barChart.invalidate();\r\n            } else {\r\n                Toast.makeText(MainActivity.this, &quot;Failed to fetch data&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // ... (existing classes and methods)\r\n}\r\n```\r\n[I am getting this output : ](https://i.stack.imgur.com/5AoC4.png)\r\n[I want something like this two bars and x-axis values as &quot;Nov 2023&quot;](https://i.stack.imgur.com/u9a2s.png)","link":"https://stackoverflow.com/questions/77547686/overlapping-bars-and-x-axis-labels-not-showing-correctly-also-need-to-set-y-axi","title":"Overlapping bars and X-axis labels not showing correctly, also need to set Y-axis max value dynamically","body":"<p>I'm using MPAndroidChart in my Android app to display a bar chart fetched from an API. However, I'm facing a couple of issues:</p>\n<p><strong>Overlapping bars:</strong>\nThe bars in my bar chart are overlapping, and I want to ensure they are properly spaced.</p>\n<p><strong>X-axis labels not showing correctly:</strong>\nThe X-axis labels, representing months and years, are not showing correctly. Instead of displaying the actual labels, it shows numeric values (0.0, 1.0, 2.0, ...).</p>\n<p><strong>Dynamically setting Y-axis max value:</strong>\nI want to set the maximum value on the Y-axis dynamically based on the maximum value I receive from the API.</p>\n<p>Here's a simplified version of my existing code:</p>\n<pre><code>// ... (existing imports)\n\npublic class MainActivity extends AppCompatActivity {\n    private BarChart barChart;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        barChart = findViewById(R.id.barChart);\n\n        new FetchDataTask().execute(&quot;http://sms1.ilmwasooli.com/dashboard/getcollechistorytest&quot;);\n    }\n\n    private void updateUI(String data) {\n        try {\n            // Parse JSON data\n            JSONObject jsonResponse = new JSONObject(data);\n            String status = jsonResponse.getString(&quot;status&quot;);\n\n            if (status.equals(&quot;success&quot;)) {\n                JSONArray dataArray = jsonResponse.getJSONArray(&quot;Data&quot;);\n\n                // Extract values for the bar chart\n                ArrayList&lt;BarEntry&gt; entriesReceived = new ArrayList&lt;&gt;();\n                ArrayList&lt;BarEntry&gt; entriesBalance = new ArrayList&lt;&gt;();\n                ArrayList&lt;String&gt; labels = new ArrayList&lt;&gt;();\n                float maxAmount = 0f;\n\n                for (int i = 0; i &lt; dataArray.length(); i++) {\n                    JSONObject monthData = dataArray.getJSONObject(i);\n                    String monthYear = monthData.getString(&quot;mnth&quot;) + &quot; &quot; + monthData.getString(&quot;year&quot;);\n\n                    float receivedValue = (float) monthData.getDouble(&quot;rcvd&quot;);\n                    float balanceValue = (float) monthData.getDouble(&quot;bal&quot;);\n\n                    maxAmount = Math.max(maxAmount, Math.max(receivedValue, balanceValue));\n\n                    entriesReceived.add(new BarEntry(i, receivedValue));\n                    entriesBalance.add(new BarEntry(i, balanceValue));\n                    labels.add(monthYear);\n                }\n\n                BarDataSet dataSetReceived = new BarDataSet(entriesReceived, &quot;Received Amount&quot;);\n                dataSetReceived.setColor(getResources().getColor(R.color.primary_color_light));\n\n                BarDataSet dataSetBalance = new BarDataSet(entriesBalance, &quot;Balance Amount&quot;);\n                dataSetBalance.setColor(getResources().getColor(R.color.primary_color_dark));\n\n                BarData barData = new BarData(dataSetReceived, dataSetBalance);\n\n                barChart.setData(barData);\n\n                XAxis xAxis = barChart.getXAxis();\n                xAxis.setValueFormatter(new MyXAxisValueFormatter(labels));\n                xAxis.setLabelRotationAngle(45f);\n\n                YAxis yAxis = barChart.getAxisLeft();\n                yAxis.setAxisMaximum(maxAmount);\n\n                barChart.invalidate();\n            } else {\n                Toast.makeText(MainActivity.this, &quot;Failed to fetch data&quot;, Toast.LENGTH_SHORT).show();\n            }\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n\n    // ... (existing classes and methods)\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5AoC4.png\" rel=\"nofollow noreferrer\">I am getting this output : </a>\n<a href=\"https://i.stack.imgur.com/u9a2s.png\" rel=\"nofollow noreferrer\">I want something like this two bars and x-axis values as &quot;Nov 2023&quot;</a></p>\n"},{"tags":["java","caching","grails","response-headers","grails-4"],"comments":[{"score":0,"post_type":"question","creation_date":1676907016,"post_id":75498531,"comment_id":133226890,"body_markdown":"Are you using`&quot;${resource(dir: &#39;images&#39;, file: &#39;logo.png&#39;)}&quot;` with asset pipeline?","link":"https://stackoverflow.com/questions/75498531/how-to-cache-image-read-from-database-in-grails#comment133226890_75498531","body":"Are you using<code>&quot;${resource(dir: &#39;images&#39;, file: &#39;logo.png&#39;)}&quot;</code> with asset pipeline?"},{"score":0,"post_type":"question","creation_date":1676943320,"post_id":75498531,"comment_id":133234748,"body_markdown":"@JeffScottBrown yes","link":"https://stackoverflow.com/questions/75498531/how-to-cache-image-read-from-database-in-grails#comment133234748_75498531","body":"@JeffScottBrown yes"},{"score":0,"post_type":"question","creation_date":1676989506,"post_id":75498531,"comment_id":133245290,"body_markdown":"&quot;yes&quot; - That is a little surprising.  Do you know if `&lt;asset:image src=&quot;images/logo.png&quot; width=&quot;200&quot; height=&quot;200&quot;/&gt;` yields the same results as `&lt;img src=&quot;${resource(dir: &#39;images&#39;, file: &#39;logo.png&#39;)}&quot; /&gt;`?","link":"https://stackoverflow.com/questions/75498531/how-to-cache-image-read-from-database-in-grails#comment133245290_75498531","body":"&quot;yes&quot; - That is a little surprising.  Do you know if <code>&lt;asset:image src=&quot;images&#47;logo.png&quot; width=&quot;200&quot; height=&quot;200&quot;&#47;&gt;</code> yields the same results as <code>&lt;img src=&quot;${resource(dir: &#39;images&#39;, file: &#39;logo.png&#39;)}&quot; &#47;&gt;</code>?"},{"score":0,"post_type":"question","creation_date":1677040134,"post_id":75498531,"comment_id":133257036,"body_markdown":"@JeffScottBrown thank you for correcting. i used the correct tag &lt;asset:image src=&quot;logo.png&quot; /&gt; and the result is the same. i wonder how the resource also did the same.","link":"https://stackoverflow.com/questions/75498531/how-to-cache-image-read-from-database-in-grails#comment133257036_75498531","body":"@JeffScottBrown thank you for correcting. i used the correct tag &lt;asset:image src=&quot;logo.png&quot; /&gt; and the result is the same. i wonder how the resource also did the same."},{"score":0,"post_type":"question","creation_date":1677092786,"post_id":75498531,"comment_id":133271365,"body_markdown":"Might be worth looking at the headers coming back on the response.   Set `Cache-Control` to public with some long max-age and I&#39;d guess that will work.","link":"https://stackoverflow.com/questions/75498531/how-to-cache-image-read-from-database-in-grails#comment133271365_75498531","body":"Might be worth looking at the headers coming back on the response.   Set <code>Cache-Control</code> to public with some long max-age and I&#39;d guess that will work."}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1677072383,"creation_date":1677072383,"answer_id":75533356,"question_id":75498531,"body_markdown":"Modern browser engines have made cache of base64 image representations too. I discovered it two days ago while trying to build a browser cache using *localStorage*.\r\n\r\nSo, you can try to convert your byte array to a base64 representation. Take a look here how you can do it:\r\n\r\nhttps://stackoverflow.com/questions/4188406/base64-encoding-in-java-groovy\r\n\r\nChrome&#39;s returning base64 image from cache:\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C5Luw.png","link":"https://stackoverflow.com/questions/75498531/how-to-cache-image-read-from-database-in-grails/75533356#75533356","title":"How to cache image read from database in Grails?","body":"<p>Modern browser engines have made cache of base64 image representations too. I discovered it two days ago while trying to build a browser cache using <em>localStorage</em>.</p>\n<p>So, you can try to convert your byte array to a base64 representation. Take a look here how you can do it:</p>\n<p><a href=\"https://stackoverflow.com/questions/4188406/base64-encoding-in-java-groovy\">Base64 encoding in Java / Groovy</a></p>\n<p>Chrome's returning base64 image from cache:</p>\n<p><a href=\"https://i.stack.imgur.com/C5Luw.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"comment_count":5,"is_answered":true,"view_count":109,"answer_count":1,"score":1,"last_activity_date":1700916930,"creation_date":1676790554,"last_edit_date":1700916930,"question_id":75498531,"body_markdown":"In our app there are two ways we serve images. \r\n\r\nThe first is through asset pipeline and second is fetching from database. \r\n\r\nFor the main company header logo we serve it from asset pipeline. \r\n\r\nThe gsp code looks like this:\r\n\r\n    &lt;img src=&quot;${resource(dir: &#39;images&#39;, file: &#39;logo.png&#39;)}&quot; /&gt;\r\n\r\nwhich renders in html to:\r\n\r\n    &lt;img src=&quot;/roadrace/assets/logo-addd262d2fffbdf8d868181896bf1698.png&quot;&gt;\r\n\r\nWhen the browser fetches this it is correctly memory cached as indicated in this request and marked by red box. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/lKtRK.png\r\n\r\nAt other place where we display event image, the code look likes this:\r\n\r\n    &lt;img src=&quot;https://.../roadrace/uploads/logos/h1FdUah7vXGqTkq.jpg?1676524906000&quot; id=&quot;logo&quot;&gt;\r\n\r\nThis makes get request to this controller action:\r\n\r\n    def uploads(String path) {\r\n    \tFileData imageData = FileData.findByPath(&quot;/${path}&quot;)\r\n    \tif (!imageData) {\r\n    \t\tresponse.sendError(404)\r\n    \t\treturn\r\n    \t}\r\n    \r\n    \tresponse.contentType = URLConnection.guessContentTypeFromName(path) ?: &#39;application/octet-stream&#39;\r\n    \tresponse.getOutputStream().withCloseable {out -&gt;\r\n    \t\tout.write(imageData.data)\r\n    \t\tout.flush()\r\n    \t}\r\n    }\r\n\r\nYou can see we are first fetching the image data using FileData domain which has data field which is of type byte[] which is written to response. \r\n\r\nFile data is defined as:\r\n\r\n    class FileData {\r\n        String path\r\n        byte[] data\r\n    \r\n        static constraints = {\r\n            path blank: false, unique: true\r\n            data nullable: false, maxSize: 16_777_215\r\n        }\r\n    }\r\n\r\nSo here how can we add response header so that this image is also browser cached?\r\n\r\nSince we are using images only in one place, it is best not to use cache plugins to keep the app lighter. \r\n","link":"https://stackoverflow.com/questions/75498531/how-to-cache-image-read-from-database-in-grails","title":"How to cache image read from database in Grails?","body":"<p>In our app there are two ways we serve images.</p>\n<p>The first is through asset pipeline and second is fetching from database.</p>\n<p>For the main company header logo we serve it from asset pipeline.</p>\n<p>The gsp code looks like this:</p>\n<pre><code>&lt;img src=&quot;${resource(dir: 'images', file: 'logo.png')}&quot; /&gt;\n</code></pre>\n<p>which renders in html to:</p>\n<pre><code>&lt;img src=&quot;/roadrace/assets/logo-addd262d2fffbdf8d868181896bf1698.png&quot;&gt;\n</code></pre>\n<p>When the browser fetches this it is correctly memory cached as indicated in this request and marked by red box.</p>\n<p><a href=\"https://i.stack.imgur.com/lKtRK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lKtRK.png\" alt=\"enter image description here\" /></a></p>\n<p>At other place where we display event image, the code look likes this:</p>\n<pre><code>&lt;img src=&quot;https://.../roadrace/uploads/logos/h1FdUah7vXGqTkq.jpg?1676524906000&quot; id=&quot;logo&quot;&gt;\n</code></pre>\n<p>This makes get request to this controller action:</p>\n<pre><code>def uploads(String path) {\n    FileData imageData = FileData.findByPath(&quot;/${path}&quot;)\n    if (!imageData) {\n        response.sendError(404)\n        return\n    }\n\n    response.contentType = URLConnection.guessContentTypeFromName(path) ?: 'application/octet-stream'\n    response.getOutputStream().withCloseable {out -&gt;\n        out.write(imageData.data)\n        out.flush()\n    }\n}\n</code></pre>\n<p>You can see we are first fetching the image data using FileData domain which has data field which is of type byte[] which is written to response.</p>\n<p>File data is defined as:</p>\n<pre><code>class FileData {\n    String path\n    byte[] data\n\n    static constraints = {\n        path blank: false, unique: true\n        data nullable: false, maxSize: 16_777_215\n    }\n}\n</code></pre>\n<p>So here how can we add response header so that this image is also browser cached?</p>\n<p>Since we are using images only in one place, it is best not to use cache plugins to keep the app lighter.</p>\n"},{"tags":["java","spring-boot","maven","dependency-management"],"comments":[{"score":2,"post_type":"question","creation_date":1700916021,"post_id":77547766,"comment_id":136712105,"body_markdown":"In the absence of the `&lt;parent&gt;`, this project uses `&lt;dependencyManagement&gt;` to import the Spring Boot BOM to set the versions of Spring Boot dependencies. Unless you want to manage all dependency versions on your own (and you really shouldn&#39;t want that), you need to use `&lt;dependencyManagement&gt;` here (or add a `&lt;parent&gt;` directly or indirectly managing the versions).","link":"https://stackoverflow.com/questions/77547766/should-i-use-dependencymanagement-tag-in-a-non-multi-module-spring-boot-projec#comment136712105_77547766","body":"In the absence of the <code>&lt;parent&gt;</code>, this project uses <code>&lt;dependencyManagement&gt;</code> to import the Spring Boot BOM to set the versions of Spring Boot dependencies. Unless you want to manage all dependency versions on your own (and you really shouldn&#39;t want that), you need to use <code>&lt;dependencyManagement&gt;</code> here (or add a <code>&lt;parent&gt;</code> directly or indirectly managing the versions)."},{"score":1,"post_type":"question","creation_date":1700916233,"post_id":77547766,"comment_id":136712121,"body_markdown":"And yes, having `spring-boot-starter-parent` as the parent is probably the better choice (because it configures a number of other things as well), but maybe the original author intentionally set it up this way to _not_ have those defaults.","link":"https://stackoverflow.com/questions/77547766/should-i-use-dependencymanagement-tag-in-a-non-multi-module-spring-boot-projec#comment136712121_77547766","body":"And yes, having <code>spring-boot-starter-parent</code> as the parent is probably the better choice (because it configures a number of other things as well), but maybe the original author intentionally set it up this way to <i>not</i> have those defaults."},{"score":0,"post_type":"question","creation_date":1700918513,"post_id":77547766,"comment_id":136712325,"body_markdown":"The first thing you should use a more recent version of spring boot because 2.4.X is out of date ...  https://spring.io/projects/spring-boot#support","link":"https://stackoverflow.com/questions/77547766/should-i-use-dependencymanagement-tag-in-a-non-multi-module-spring-boot-projec#comment136712325_77547766","body":"The first thing you should use a more recent version of spring boot because 2.4.X is out of date ...  <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a>"},{"score":0,"post_type":"question","creation_date":1700935193,"post_id":77547766,"comment_id":136713938,"body_markdown":"@MarkRotteveel What kind of defaults are configured with &lt;parent&gt; tag and aren&#39;t configured &lt;dependencyManagement&gt; tag?","link":"https://stackoverflow.com/questions/77547766/should-i-use-dependencymanagement-tag-in-a-non-multi-module-spring-boot-projec#comment136713938_77547766","body":"@MarkRotteveel What kind of defaults are configured with &lt;parent&gt; tag and aren&#39;t configured &lt;dependencyManagement&gt; tag?"},{"score":1,"post_type":"question","creation_date":1700992157,"post_id":77547766,"comment_id":136717777,"body_markdown":"The `spring-boot-starter-parent` amongst others also configures the Spring Boot Maven plugin and a number of other build config options and plugins. Just look at its [POM](https://central.sonatype.com/artifact/org.springframework.boot/spring-boot-starter-parent) (note the link goes to the latest version of the POM).","link":"https://stackoverflow.com/questions/77547766/should-i-use-dependencymanagement-tag-in-a-non-multi-module-spring-boot-projec#comment136717777_77547766","body":"The <code>spring-boot-starter-parent</code> amongst others also configures the Spring Boot Maven plugin and a number of other build config options and plugins. Just look at its <a href=\"https://central.sonatype.com/artifact/org.springframework.boot/spring-boot-starter-parent\" rel=\"nofollow noreferrer\">POM</a> (note the link goes to the latest version of the POM)."}],"comment_count":5,"is_answered":false,"view_count":38,"answer_count":0,"score":-1,"last_activity_date":1700916810,"creation_date":1700913704,"last_edit_date":1700916810,"question_id":77547766,"body_markdown":"I&#39;m learning about Spring Boot and I have a simple Spring Boot project with some problems, but the POM of this project looks different for me because it doesn&#39;t have `&lt;parent&gt;` tag, also it has the `&lt;dependencyManagement&gt;` tag, but it isn&#39;t a multi module project. \r\n\r\nI want to ask you for what should I use a `&lt;dependencyManagement&gt;` tag in a project that isn&#39;t multi module? Is that a mistake or there could be a reason for that? I know that a `&lt;dependencyManagement&gt;` is used for multi-module projects and you use it in the parent POM, but this isn&#39;t a multi-module project. The client said it&#39;s a Spring Boot project, but the `&lt;parent&gt;` tag with `spring-boot-starter-parent` dependency is missing. Isn&#39;t it mandatory to have this `&lt;parent&gt;` tag in a Spring Boot project? Anyway this project doesn&#39;t start with `mvn clean install`.\r\n\r\nThis is the pom:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;io.dgs&lt;/groupId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;artifactId&gt;spring-boot-project&lt;/artifactId&gt;\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.3&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        ...\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","link":"https://stackoverflow.com/questions/77547766/should-i-use-dependencymanagement-tag-in-a-non-multi-module-spring-boot-projec","title":"Should I use &lt;dependencyManagement&gt; tag in a non multi module Spring Boot project?","body":"<p>I'm learning about Spring Boot and I have a simple Spring Boot project with some problems, but the POM of this project looks different for me because it doesn't have <code>&lt;parent&gt;</code> tag, also it has the <code>&lt;dependencyManagement&gt;</code> tag, but it isn't a multi module project.</p>\n<p>I want to ask you for what should I use a <code>&lt;dependencyManagement&gt;</code> tag in a project that isn't multi module? Is that a mistake or there could be a reason for that? I know that a <code>&lt;dependencyManagement&gt;</code> is used for multi-module projects and you use it in the parent POM, but this isn't a multi-module project. The client said it's a Spring Boot project, but the <code>&lt;parent&gt;</code> tag with <code>spring-boot-starter-parent</code> dependency is missing. Isn't it mandatory to have this <code>&lt;parent&gt;</code> tag in a Spring Boot project? Anyway this project doesn't start with <code>mvn clean install</code>.</p>\n<p>This is the pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;io.dgs&lt;/groupId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;artifactId&gt;spring-boot-project&lt;/artifactId&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        ...\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","gradle"],"comment_count":0,"is_answered":false,"view_count":10,"answer_count":0,"score":-1,"last_activity_date":1700915966,"creation_date":1700915966,"question_id":77547894,"body_markdown":"I&#39;m using Android Studio 2020.3.1.22 but when i builded the app it showed the task Task :app:processDebugResources FAILED [Error](https://i.stack.imgur.com/J6gm7.png)\r\n\r\nTop Level build file\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.0&#39;\r\n        classpath &quot;com.google.gms:google-services:4.3.8&quot;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nApp level build file\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 34\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.nottanmayyy.quantumchat&quot;\r\n        minSdk 26\r\n        targetSdk 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    constraints {\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\r\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\r\n        }\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\r\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\r\n        }\r\n    }\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.7.5&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.7.5&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    //Scalable Size Unit Implementation for different screens\r\n\r\n    implementation &#39;com.intuit.sdp:sdp-android:1.0.6&#39;\r\n    implementation &#39;com.intuit.ssp:ssp-android:1.0.6&#39;\r\n\r\n    //Rounded ImageView\r\n\r\n    implementation &#39;com.makeramen:roundedimageview:2.3.0&#39;\r\n}\r\n```\r\n\r\nI ran through sevreal errors so i changed many of the things in the gradle files\r\n\r\nI was expecting that the build would be complete properly but it didnt Gradle Version :- 7.2 Android Gradle Plugin Version :- 7.0.0\r\n\r\nWhat should i do to solve (plz dont suggest to download the latest version of Android Studio as my project will break)\r\n\r\nThanks!\r\n\r\nHoping for the answer as fast as possible","link":"https://stackoverflow.com/questions/77547894/android-studio-task-appprocessdebugresources-failed-error","title":"Android Studio task :app:processDebugResources FAILED error","body":"<p>I'm using Android Studio 2020.3.1.22 but when i builded the app it showed the task Task :app:processDebugResources FAILED <a href=\"https://i.stack.imgur.com/J6gm7.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<p>Top Level build file</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.0'\n        classpath &quot;com.google.gms:google-services:4.3.8&quot;\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>App level build file</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    compileSdk 34\n\n    defaultConfig {\n        applicationId &quot;com.nottanmayyy.quantumchat&quot;\n        minSdk 26\n        targetSdk 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    constraints {\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n        }\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.navigation:navigation-fragment:2.7.5'\n    implementation 'androidx.navigation:navigation-ui:2.7.5'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    //Scalable Size Unit Implementation for different screens\n\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\n    implementation 'com.intuit.ssp:ssp-android:1.0.6'\n\n    //Rounded ImageView\n\n    implementation 'com.makeramen:roundedimageview:2.3.0'\n}\n</code></pre>\n<p>I ran through sevreal errors so i changed many of the things in the gradle files</p>\n<p>I was expecting that the build would be complete properly but it didnt Gradle Version :- 7.2 Android Gradle Plugin Version :- 7.0.0</p>\n<p>What should i do to solve (plz dont suggest to download the latest version of Android Studio as my project will break)</p>\n<p>Thanks!</p>\n<p>Hoping for the answer as fast as possible</p>\n"},{"tags":["java","android","android-edittext","alignment"],"comments":[{"score":0,"post_type":"question","creation_date":1699900563,"post_id":77476057,"comment_id":136586361,"body_markdown":"Not built in.  You could try putting a text watcher on it and changing the alignement based on whether the text is empty or not.  If that doesn&#39;t work, you could overlay the view with a textview, use the textview for the hint, and just no use the edit text&#39;s hint functionality.  The first of those would be much easier.","link":"https://stackoverflow.com/questions/77476057/android-studio-edittext-center-hint-and-left-align-input-text#comment136586361_77476057","body":"Not built in.  You could try putting a text watcher on it and changing the alignement based on whether the text is empty or not.  If that doesn&#39;t work, you could overlay the view with a textview, use the textview for the hint, and just no use the edit text&#39;s hint functionality.  The first of those would be much easier."},{"score":0,"post_type":"question","creation_date":1699905425,"post_id":77476057,"comment_id":136587072,"body_markdown":"@GabeSechan Thanks, I did it now with a Textwatcher and changed the android:gravity attribute depending on my defined bool.","link":"https://stackoverflow.com/questions/77476057/android-studio-edittext-center-hint-and-left-align-input-text#comment136587072_77476057","body":"@GabeSechan Thanks, I did it now with a Textwatcher and changed the android:gravity attribute depending on my defined bool."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700915655,"creation_date":1700915655,"answer_id":77547883,"question_id":77476057,"body_markdown":"Yes, you can achieve this in Android by using a combination of **android:gravity** and **android:padding** attributes. You can set the android:gravity attribute to center for the hint in the EditText to center it, and then set the android:gravity attribute to left for the input text to make it left-aligned. Additionally, you may need to adjust the **android:padding** attribute to ensure proper spacing.\r\n\r\nHere&#39;s an example:\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editText&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot; &lt;!-- Center the hint --&gt;\r\n        android:paddingStart=&quot;8dp&quot; &lt;!-- Adjust padding as needed --&gt;\r\n        android:paddingEnd=&quot;8dp&quot; &lt;!-- Adjust padding as needed --&gt;\r\n        android:hint=&quot;Enter text&quot;\r\n       /&gt;\r\n\r\n*This might help you if want to do this with edit text in xml.*","link":"https://stackoverflow.com/questions/77476057/android-studio-edittext-center-hint-and-left-align-input-text/77547883#77547883","title":"Android Studio EditText center hint and left-align input text","body":"<p>Yes, you can achieve this in Android by using a combination of <strong>android:gravity</strong> and <strong>android:padding</strong> attributes. You can set the android:gravity attribute to center for the hint in the EditText to center it, and then set the android:gravity attribute to left for the input text to make it left-aligned. Additionally, you may need to adjust the <strong>android:padding</strong> attribute to ensure proper spacing.</p>\n<p>Here's an example:</p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/editText&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;center&quot; &lt;!-- Center the hint --&gt;\n    android:paddingStart=&quot;8dp&quot; &lt;!-- Adjust padding as needed --&gt;\n    android:paddingEnd=&quot;8dp&quot; &lt;!-- Adjust padding as needed --&gt;\n    android:hint=&quot;Enter text&quot;\n   /&gt;\n</code></pre>\n<p><em>This might help you if want to do this with edit text in xml.</em></p>\n"}],"comment_count":2,"is_answered":false,"view_count":25,"answer_count":1,"score":0,"last_activity_date":1700915655,"creation_date":1699899932,"last_edit_date":1699954082,"question_id":77476057,"body_markdown":"I was wondering if it is possible in an `EditText` field to make the `android:hint` attribute centered, while the text the user types in would get left-aligned in the `EditText`.\r\n\r\nAny idea how to do this?","link":"https://stackoverflow.com/questions/77476057/android-studio-edittext-center-hint-and-left-align-input-text","title":"Android Studio EditText center hint and left-align input text","body":"<p>I was wondering if it is possible in an <code>EditText</code> field to make the <code>android:hint</code> attribute centered, while the text the user types in would get left-aligned in the <code>EditText</code>.</p>\n<p>Any idea how to do this?</p>\n"},{"tags":["java","android","android-deep-link"],"comments":[{"score":1,"post_type":"question","creation_date":1700849104,"post_id":77544805,"comment_id":136707100,"body_markdown":"&quot;the app open and crash immediately&quot; -- use Logcat to examine the stack trace associated with your crash: https://commonsware.com/Jetpack/pages/chap-debug-001.html","link":"https://stackoverflow.com/questions/77544805/cannot-instantiate-brosweractivity-in-android-app-for-handling-weblinks#comment136707100_77544805","body":"&quot;the app open and crash immediately&quot; -- use Logcat to examine the stack trace associated with your crash: <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">commonsware.com/Jetpack/pages/chap-debug-001.html</a>"},{"score":0,"post_type":"question","creation_date":1700890885,"post_id":77544805,"comment_id":136710360,"body_markdown":"@CommonsWare I&#39;ve added the exception.","link":"https://stackoverflow.com/questions/77544805/cannot-instantiate-brosweractivity-in-android-app-for-handling-weblinks#comment136710360_77544805","body":"@CommonsWare I&#39;ve added the exception."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700915586,"creation_date":1700915586,"answer_id":77547877,"question_id":77544805,"body_markdown":"Replace:\r\n\r\n```java\r\npublic abstract class BrowserActivity extends AppCompatActivity\r\n```\r\n\r\nwith:\r\n\r\n```java\r\npublic class BrowserActivity extends AppCompatActivity\r\n```\r\n\r\nYou are trying to actually use this class, which means it cannot be `abstract`. \r\n","link":"https://stackoverflow.com/questions/77544805/cannot-instantiate-brosweractivity-in-android-app-for-handling-weblinks/77547877#77547877","title":"Cannot instantiate BroswerActivity in android app for handling weblinks","body":"<p>Replace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BrowserActivity extends AppCompatActivity\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BrowserActivity extends AppCompatActivity\n</code></pre>\n<p>You are trying to actually use this class, which means it cannot be <code>abstract</code>.</p>\n"}],"comment_count":2,"is_answered":true,"view_count":30,"answer_count":1,"score":0,"last_activity_date":1700915586,"creation_date":1700847160,"last_edit_date":1700890864,"question_id":77544805,"body_markdown":"I am writing an android app that simply handles android app links. I am on Android 11.\r\nBasically when the user clicks on a weblink I want to receive that link in my app so that I can perform some action on the received URL.\r\nI&#39;ve tried following this guide but it didn&#39;t help me at all: https://developer.android.com/training/app-links\r\n\r\nIs there a thorough guide on how to achieve this? I am going blind here but from what I understand I basically need mainly three things:\r\n\r\n- Declaring in the manifest file an Activity with the intent filters for the the weblinks I want to open with my app.\r\n- Creating of course a layout for my activity with a WebView.\r\n- Creating the Activity, setting up the web view there and getting the URL there to perform the desired action. \r\n\r\nFor the simplicity of the task, let&#39;s just say I want to print the URL to console for now.\r\nThis is what I&#39;ve added in the Manifest:\r\n\r\n```\r\n&lt;activity android:label=&quot;test&quot; android:name=&quot;com.developer.app.main.BrowserActivity&quot;\r\n           android:exported=&quot;true&quot;&gt;\r\n           &lt;intent-filter&gt;\r\n               &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\r\n               &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n               &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\r\n               &lt;data android:scheme=&quot;http&quot; android:host=&quot;api.myserver.com&quot; android:pathPrefix=&quot;/discord/&quot;/&gt;\r\n           &lt;/intent-filter&gt;\r\n           &lt;intent-filter&gt;\r\n           &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\r\n               &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n               &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\r\n               &lt;data android:scheme=&quot;https&quot; android:host=&quot;maps.google.com&quot; android:pathPrefix=&quot;/maps&quot;/&gt;\r\n           &lt;/intent-filter&gt;\r\n           &lt;intent-filter&gt;\r\n               &lt;action android:name=&quot;android.intent.action.SEND&quot;/&gt;\r\n               &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n               &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\r\n               &lt;data android:mimeType=&quot;text/plain&quot;/&gt;\r\n           &lt;/intent-filter&gt;\r\n       &lt;/activity&gt;\r\n```\r\n\r\nThe layout of my activity:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:aapt=&quot;http://schemas.android.com/aapt&quot; android:orientation=&quot;vertical&quot; android:id=&quot;@+id/layout&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt;\r\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout android:id=&quot;@+id/swipeContainer&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;LinearLayout android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;TextView android:textAppearance=&quot;@style/TextAppearance.AppCompat.Display1&quot; android:gravity=&quot;center&quot; android:id=&quot;@+id/txtLoading&quot; android:visibility=&quot;visible&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:text=&quot;loading&quot; android:textAlignment=&quot;center&quot;/&gt;\r\n            &lt;com.developer.app.main.WebView android:id=&quot;@+id/webView&quot; android:visibility=&quot;gone&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;0dp&quot; android:layout_weight=&quot;1&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\nBrowserActivity:\r\n\r\n```\r\npublic abstract class BrowserActivity extends AppCompatActivity {\r\n    public static final String TAG = BrowserActivity.class.getSimpleName();\r\n    SwipeRefreshLayout swipeContainer;\r\n    TextView txtLoading;\r\n    WebView webView;\r\n\r\n    public BrowserActivity getActivity() {\r\n        return this;\r\n    }\r\n\r\n    public void onCreate(Bundle bundle) {\r\n        super.onCreate(bundle);\r\n        setContentView(R.layout.activity_browser);\r\n        //ButterKnife.bind((Activity) this);\r\n\r\n        this.swipeContainer = findViewById(R.id.swipeContainer);\r\n        this.txtLoading = findViewById(R.id.txtLoading);\r\n        this.webView = findViewById(R.id.webView);\r\n     \r\n        this.txtLoading.setVisibility(View.VISIBLE);\r\n        this.webView.setVisibility(View.GONE);\r\n        setupActionBar();\r\n        handleIntent(getIntent());\r\n\r\n    }\r\n    \r\n    \r\n    private void setupWebView(String str)\r\n    {\r\n       this.webView.getSettings().setJavaScriptEnabled(true);\r\n            this.webView.getSettings().setDomStorageEnabled(true);\r\n            this.txtLoading.setVisibility(View.GONE);\r\n            this.webView.setVisibility(View.VISIBLE);\r\n            this.webView.loadUrl(str);\r\n    }\r\n\r\n    public void handleIntent(Intent intent) {\r\n        String action = intent.getAction();\r\n        if (&quot;android.intent.action.VIEW&quot;.equals(action)) {\r\n            setupWebView(intent.getDataString());\r\n        } else if (!&quot;android.intent.action.SEND&quot;.equals(action)) {\r\n            String str = TAG;\r\n            Log.w(str, &quot;Received unknown action: &quot; + action);\r\n        } else if (intent.getClipData() == null || intent.getClipData().getItemCount() &lt;= 0) {\r\n            finish();\r\n        } else {\r\n            handleData(intent.getClipData().getItemAt(0).getText().toString());\r\n        }\r\n    }\r\n\r\n    private void handleData(String str)\r\n    {\r\n       System.out.println(str);\r\n    }\r\n}\r\n\r\n```\r\n\r\nHowever when I click on link, (the disambiguation dialog does not appear anymore since I&#39;ve set my app as default handler), the app open and crash immediately.\r\nWhat am I doing wrong?\r\n\r\nEdit with the exception:\r\n\r\n \r\n\r\n    FATAL EXCEPTION: main\r\n\t\t\t\t\tProcess: com.developer.app, PID: 11726\r\n\t\t\t\t\tjava.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.developer.app/com.developer.app.main.BrowserActivity}: java.lang.InstantiationException: java.lang.Class&lt;com.developer.app.main.BrowserActivity&gt; cannot be instantiated\r\n\t\t\t\t\t\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3742)\r\n\t\t\t\t\t\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4027)\r\n\t\t\t\t\t\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n\t\t\t\t\t\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n\t\t\t\t\t\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n\t\t\t\t\t\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\r\n\t\t\t\t\t\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\t\t\t\t\t\tat android.os.Looper.loop(Looper.java:247)\r\n\t\t\t\t\t\tat android.app.ActivityThread.main(ActivityThread.java:8676)\r\n\t\t\t\t\t\tat java.lang.reflect.Method.invoke(Native Method)\r\n\t\t\t\t\t\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n\t\t\t\t\t\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n\t\t\t\t\tCaused by: java.lang.InstantiationException: java.lang.Class&lt;com.developer.app.main.BrowserActivity&gt; cannot be instantiated\r\n\t\t\t\t\t\tat java.lang.Class.newInstance(Native Method)\r\n\t\t\t\t\t\tat android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n\t\t\t\t\t\tat androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n\t\t\t\t\t\tat android.app.Instrumentation.newActivity(Instrumentation.java:1253)\r\n\t\t\t\t\t\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3730)\r\n\t\t\t\t\t\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4027)&#160;\r\n\t\t\t\t\t\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n\t\t\t\t\t\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n\t\t\t\t\t\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n\t\t\t\t\t\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)&#160;\r\n\t\t\t\t\t\tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n\t\t\t\t\t\tat android.os.Looper.loop(Looper.java:247)&#160;\r\n\t\t\t\t\t\tat android.app.ActivityThread.main(ActivityThread.java:8676)&#160;\r\n\t\t\t\t\t\tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n\t\t\t\t\t\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)&#160;\r\n\t\t\t\t\t\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)&#160;","link":"https://stackoverflow.com/questions/77544805/cannot-instantiate-brosweractivity-in-android-app-for-handling-weblinks","title":"Cannot instantiate BroswerActivity in android app for handling weblinks","body":"<p>I am writing an android app that simply handles android app links. I am on Android 11.\nBasically when the user clicks on a weblink I want to receive that link in my app so that I can perform some action on the received URL.\nI've tried following this guide but it didn't help me at all: <a href=\"https://developer.android.com/training/app-links\" rel=\"nofollow noreferrer\">https://developer.android.com/training/app-links</a></p>\n<p>Is there a thorough guide on how to achieve this? I am going blind here but from what I understand I basically need mainly three things:</p>\n<ul>\n<li>Declaring in the manifest file an Activity with the intent filters for the the weblinks I want to open with my app.</li>\n<li>Creating of course a layout for my activity with a WebView.</li>\n<li>Creating the Activity, setting up the web view there and getting the URL there to perform the desired action.</li>\n</ul>\n<p>For the simplicity of the task, let's just say I want to print the URL to console for now.\nThis is what I've added in the Manifest:</p>\n<pre><code>&lt;activity android:label=&quot;test&quot; android:name=&quot;com.developer.app.main.BrowserActivity&quot;\n           android:exported=&quot;true&quot;&gt;\n           &lt;intent-filter&gt;\n               &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\n               &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n               &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\n               &lt;data android:scheme=&quot;http&quot; android:host=&quot;api.myserver.com&quot; android:pathPrefix=&quot;/discord/&quot;/&gt;\n           &lt;/intent-filter&gt;\n           &lt;intent-filter&gt;\n           &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\n               &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n               &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\n               &lt;data android:scheme=&quot;https&quot; android:host=&quot;maps.google.com&quot; android:pathPrefix=&quot;/maps&quot;/&gt;\n           &lt;/intent-filter&gt;\n           &lt;intent-filter&gt;\n               &lt;action android:name=&quot;android.intent.action.SEND&quot;/&gt;\n               &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n               &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\n               &lt;data android:mimeType=&quot;text/plain&quot;/&gt;\n           &lt;/intent-filter&gt;\n       &lt;/activity&gt;\n</code></pre>\n<p>The layout of my activity:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:aapt=&quot;http://schemas.android.com/aapt&quot; android:orientation=&quot;vertical&quot; android:id=&quot;@+id/layout&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout android:id=&quot;@+id/swipeContainer&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt;\n        &lt;LinearLayout android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt;\n            &lt;TextView android:textAppearance=&quot;@style/TextAppearance.AppCompat.Display1&quot; android:gravity=&quot;center&quot; android:id=&quot;@+id/txtLoading&quot; android:visibility=&quot;visible&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:text=&quot;loading&quot; android:textAlignment=&quot;center&quot;/&gt;\n            &lt;com.developer.app.main.WebView android:id=&quot;@+id/webView&quot; android:visibility=&quot;gone&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;0dp&quot; android:layout_weight=&quot;1&quot;/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>BrowserActivity:</p>\n<pre><code>public abstract class BrowserActivity extends AppCompatActivity {\n    public static final String TAG = BrowserActivity.class.getSimpleName();\n    SwipeRefreshLayout swipeContainer;\n    TextView txtLoading;\n    WebView webView;\n\n    public BrowserActivity getActivity() {\n        return this;\n    }\n\n    public void onCreate(Bundle bundle) {\n        super.onCreate(bundle);\n        setContentView(R.layout.activity_browser);\n        //ButterKnife.bind((Activity) this);\n\n        this.swipeContainer = findViewById(R.id.swipeContainer);\n        this.txtLoading = findViewById(R.id.txtLoading);\n        this.webView = findViewById(R.id.webView);\n     \n        this.txtLoading.setVisibility(View.VISIBLE);\n        this.webView.setVisibility(View.GONE);\n        setupActionBar();\n        handleIntent(getIntent());\n\n    }\n    \n    \n    private void setupWebView(String str)\n    {\n       this.webView.getSettings().setJavaScriptEnabled(true);\n            this.webView.getSettings().setDomStorageEnabled(true);\n            this.txtLoading.setVisibility(View.GONE);\n            this.webView.setVisibility(View.VISIBLE);\n            this.webView.loadUrl(str);\n    }\n\n    public void handleIntent(Intent intent) {\n        String action = intent.getAction();\n        if (&quot;android.intent.action.VIEW&quot;.equals(action)) {\n            setupWebView(intent.getDataString());\n        } else if (!&quot;android.intent.action.SEND&quot;.equals(action)) {\n            String str = TAG;\n            Log.w(str, &quot;Received unknown action: &quot; + action);\n        } else if (intent.getClipData() == null || intent.getClipData().getItemCount() &lt;= 0) {\n            finish();\n        } else {\n            handleData(intent.getClipData().getItemAt(0).getText().toString());\n        }\n    }\n\n    private void handleData(String str)\n    {\n       System.out.println(str);\n    }\n}\n\n</code></pre>\n<p>However when I click on link, (the disambiguation dialog does not appear anymore since I've set my app as default handler), the app open and crash immediately.\nWhat am I doing wrong?</p>\n<p>Edit with the exception:</p>\n<pre><code>FATAL EXCEPTION: main\n                Process: com.developer.app, PID: 11726\n                java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.developer.app/com.developer.app.main.BrowserActivity}: java.lang.InstantiationException: java.lang.Class&lt;com.developer.app.main.BrowserActivity&gt; cannot be instantiated\n                    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3742)\n                    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4027)\n                    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n                    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n                    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n                    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\n                    at android.os.Handler.dispatchMessage(Handler.java:106)\n                    at android.os.Looper.loop(Looper.java:247)\n                    at android.app.ActivityThread.main(ActivityThread.java:8676)\n                    at java.lang.reflect.Method.invoke(Native Method)\n                    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n                Caused by: java.lang.InstantiationException: java.lang.Class&lt;com.developer.app.main.BrowserActivity&gt; cannot be instantiated\n                    at java.lang.Class.newInstance(Native Method)\n                    at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\n                    at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\n                    at android.app.Instrumentation.newActivity(Instrumentation.java:1253)\n                    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3730)\n                    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4027) \n                    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n                    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n                    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n                    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336) \n                    at android.os.Handler.dispatchMessage(Handler.java:106) \n                    at android.os.Looper.loop(Looper.java:247) \n                    at android.app.ActivityThread.main(ActivityThread.java:8676) \n                    at java.lang.reflect.Method.invoke(Native Method) \n                    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602) \n                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130) \n</code></pre>\n"},{"tags":["java","macos","jar","dmg","jpackage"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1700778640,"post_id":77536815,"comment_id":136698685,"body_markdown":"Using --type pkg and the installer still produce a damaged application for me. I don&#39;t even intend to distribute this yet, simply to run it as an app. Could you provide more information on how you used .pkg?","link":"https://stackoverflow.com/questions/77536784/jpackage-creates-damaged-app-file-when-used-on-a-functioning-jar-file/77536815#comment136698685_77536815","body":"Using --type pkg and the installer still produce a damaged application for me. I don&#39;t even intend to distribute this yet, simply to run it as an app. Could you provide more information on how you used .pkg?"},{"score":0,"post_type":"answer","creation_date":1700872223,"post_id":77536815,"comment_id":136709304,"body_markdown":"I added some information.","link":"https://stackoverflow.com/questions/77536784/jpackage-creates-damaged-app-file-when-used-on-a-functioning-jar-file/77536815#comment136709304_77536815","body":"I added some information."}],"comment_count":2,"score":0,"last_activity_date":1700915529,"last_edit_date":1700915529,"creation_date":1700741946,"answer_id":77536815,"question_id":77536784,"body_markdown":"I perceived the same problem and concluded it is related to MacOS security settings and the fact my application was unsigned (according to Apple).\r\n\r\nMy solution was to drop .dmg and distribute as .pkg. See also https://stackoverflow.com/a/76633886/4222206\r\n\r\nIn practice I used commands to prepare the appimage and finish the pkg. Users have confirmed the pkg install works - I cannot test myself.\r\n\r\n        jpackage \\\r\n          --type app-image \\\r\n          --app-version &quot;1.0.0&quot; \\\r\n          --copyright Copyright \\\r\n          --description &quot;Product 1.0.0&quot; \\\r\n          --name &quot;Product&quot; --dest target/appimage \\\r\n          --temp target/product-tmp --vendor &quot;queeg&quot; --verbose \\\r\n          --icon product/src/main/resources/product_logo.png \\\r\n          --input Product-1.0.0/dist \\\r\n          --main-jar Product-1.0.0.jar \\\r\n          --main-class product.Main --mac-package-name &quot;Product&quot; \\\r\n          --resource-dir product/src/jpackage/resources-mac \\\r\n\r\n\r\n        jpackage \\\r\n          --type pkg \\\r\n          --verbose \\\r\n          --app-version &quot;1.0.0&quot; \\\r\n          --app-image target/appimage/Product.app \\\r\n          --name &quot;Product&quot; \\\r\n          --icon product/src/main/resources/product_logo.png \\\r\n          --dest target \\\r\n          --resource-dir product/src/jpackage/resources-mac \\\r\n          --vendor queeg\r\n\r\nAnd just to be precise, I used this Java distribution:\r\n\r\n    https://github.com/adoptium/temurin17-binaries/releases/download/jdk-17.0.9%2B9/OpenJDK17U-jdk_x64_mac_hotspot_17.0.9_9.tar.gz","link":"https://stackoverflow.com/questions/77536784/jpackage-creates-damaged-app-file-when-used-on-a-functioning-jar-file/77536815#77536815","title":"jpackage creates damaged .app file when used on a functioning .jar file","body":"<p>I perceived the same problem and concluded it is related to MacOS security settings and the fact my application was unsigned (according to Apple).</p>\n<p>My solution was to drop .dmg and distribute as .pkg. See also <a href=\"https://stackoverflow.com/a/76633886/4222206\">https://stackoverflow.com/a/76633886/4222206</a></p>\n<p>In practice I used commands to prepare the appimage and finish the pkg. Users have confirmed the pkg install works - I cannot test myself.</p>\n<pre><code>    jpackage \\\n      --type app-image \\\n      --app-version &quot;1.0.0&quot; \\\n      --copyright Copyright \\\n      --description &quot;Product 1.0.0&quot; \\\n      --name &quot;Product&quot; --dest target/appimage \\\n      --temp target/product-tmp --vendor &quot;queeg&quot; --verbose \\\n      --icon product/src/main/resources/product_logo.png \\\n      --input Product-1.0.0/dist \\\n      --main-jar Product-1.0.0.jar \\\n      --main-class product.Main --mac-package-name &quot;Product&quot; \\\n      --resource-dir product/src/jpackage/resources-mac \\\n\n\n    jpackage \\\n      --type pkg \\\n      --verbose \\\n      --app-version &quot;1.0.0&quot; \\\n      --app-image target/appimage/Product.app \\\n      --name &quot;Product&quot; \\\n      --icon product/src/main/resources/product_logo.png \\\n      --dest target \\\n      --resource-dir product/src/jpackage/resources-mac \\\n      --vendor queeg\n</code></pre>\n<p>And just to be precise, I used this Java distribution:</p>\n<pre><code>https://github.com/adoptium/temurin17-binaries/releases/download/jdk-17.0.9%2B9/OpenJDK17U-jdk_x64_mac_hotspot_17.0.9_9.tar.gz\n</code></pre>\n"}],"comment_count":0,"is_answered":false,"view_count":45,"answer_count":1,"score":0,"last_activity_date":1700915529,"creation_date":1700741664,"question_id":77536784,"body_markdown":"I have a functioning .jar file called Alphabet.jar. I take the correctly functioning .jar file, and place it in an empty directory, called test/. After running jpackage, I successfully get an Mac app. On running the app by double-clicking, I get the following message: \r\n\r\n“GravitySim” is damaged and can’t be opened. You should move it to the Trash.\r\n\r\nThe .jar file runs successfully alone, on use of:\r\n\r\n\r\n```\r\n... $ java -jar Alphabet.jar\r\nWarning: the fonts &quot;Times&quot; and &quot;Times&quot; are not available for the Java logical font &quot;Serif&quot;, which may have unexpected appearance or behavior. Re-enable the &quot;Times&quot; font to remove this warning.\r\n```\r\n\r\nA window/gui is then opened and the program runs within it. Great. I then cd into the parent directory of the test/ directory, and run jpackage:\r\n\r\n\r\n```\r\n... test/ $ jpackage \\                \r\n  --name GravitySim \\\r\n  --input test/ \\\r\n  --main-jar Alphabet.jar \\\r\n  --main-class Alphabet \\\r\n  --type dmg\r\n```\r\n\r\nThis creates a .dmg, I open it, move the .app into applications, and I run it. The &quot;GravitySim is damaged...&quot; error appears. If I use --type app-image instead, the same issue occurs. What could be causing this issue? \r\n\r\nI am using:\r\nopenjdk version &quot;16.0.2&quot; 2021-07-20\r\nOpenJDK Runtime Environment Microsoft-25298 (build 16.0.2+7)\r\nOpenJDK 64-Bit Server VM Microsoft-25298 (build 16.0.2+7, mixed mode)\r\n\r\nAnd am on M1 Macbook Air with macOS Sonoma 14.0. Any help would be greatly appreciated.\r\n","link":"https://stackoverflow.com/questions/77536784/jpackage-creates-damaged-app-file-when-used-on-a-functioning-jar-file","title":"jpackage creates damaged .app file when used on a functioning .jar file","body":"<p>I have a functioning .jar file called Alphabet.jar. I take the correctly functioning .jar file, and place it in an empty directory, called test/. After running jpackage, I successfully get an Mac app. On running the app by double-clicking, I get the following message:</p>\n<p>“GravitySim” is damaged and can’t be opened. You should move it to the Trash.</p>\n<p>The .jar file runs successfully alone, on use of:</p>\n<pre><code>... $ java -jar Alphabet.jar\nWarning: the fonts &quot;Times&quot; and &quot;Times&quot; are not available for the Java logical font &quot;Serif&quot;, which may have unexpected appearance or behavior. Re-enable the &quot;Times&quot; font to remove this warning.\n</code></pre>\n<p>A window/gui is then opened and the program runs within it. Great. I then cd into the parent directory of the test/ directory, and run jpackage:</p>\n<pre><code>... test/ $ jpackage \\                \n  --name GravitySim \\\n  --input test/ \\\n  --main-jar Alphabet.jar \\\n  --main-class Alphabet \\\n  --type dmg\n</code></pre>\n<p>This creates a .dmg, I open it, move the .app into applications, and I run it. The &quot;GravitySim is damaged...&quot; error appears. If I use --type app-image instead, the same issue occurs. What could be causing this issue?</p>\n<p>I am using:\nopenjdk version &quot;16.0.2&quot; 2021-07-20\nOpenJDK Runtime Environment Microsoft-25298 (build 16.0.2+7)\nOpenJDK 64-Bit Server VM Microsoft-25298 (build 16.0.2+7, mixed mode)</p>\n<p>And am on M1 Macbook Air with macOS Sonoma 14.0. Any help would be greatly appreciated.</p>\n"},{"tags":["java","awtrobot","jnativehook"],"comment_count":0,"is_answered":false,"view_count":60,"answer_count":0,"score":0,"last_activity_date":1700915323,"creation_date":1696254656,"last_edit_date":1700915323,"question_id":77216056,"body_markdown":"I&#39;m using jnativehook to capture the input of my mouse and keyboard, record them, and then use them to activate a loop using Robot to repeat the pattern.\r\n\r\nEverything works, the problem comes when i want to end the loop before its natural end, with the mouse moving around the screen due to Robot() ...pretty annoying\r\n\r\nThe goal was to add a way to still be able to receive keyboard input while the loop is in progress with a mouse-only Robot pattern....and it doesn&#39;t work. When the loop starts no key press is registered.\r\n\r\nHere&#39;s the code of the important parts\r\n\r\n\r\n```\r\n@SpringBootApplication\r\npublic class MousePointerApplication {\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MousePointerApplication.class, args);\r\n\t\ttry {\r\n\t\t\tGlobalScreen.registerNativeHook();\r\n\t\t}\r\n\t\tcatch (NativeHookException ex) {\r\n\t\t\tSystem.err.println(&quot;There was a problem registering the native hook.&quot;);\r\n\t\t\tSystem.err.println(ex.getMessage());\r\n\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.Pointer.mousePointer.core;\r\n\r\nimport com.Pointer.mousePointer.bean.Input;\r\nimport com.github.kwhat.jnativehook.GlobalScreen;\r\nimport com.github.kwhat.jnativehook.NativeHookException;\r\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyEvent;\r\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyListener;\r\nimport com.github.kwhat.jnativehook.mouse.NativeMouseEvent;\r\nimport com.github.kwhat.jnativehook.mouse.NativeMouseInputListener;\r\nimport com.github.kwhat.jnativehook.mouse.NativeMouseWheelListener;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.util.StopWatch;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport java.awt.*;\r\nimport java.awt.event.InputEvent;\r\nimport java.io.*;\r\nimport java.util.Calendar;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\n@Component\r\npublic class PatternCreator implements NativeMouseInputListener, NativeMouseWheelListener, NativeKeyListener {\r\n\r\n    StopWatch stopWatch = new StopWatch(&quot;unico&quot;);\r\n    private Map&lt;Long, Input&gt; mappaMouse = new HashMap&lt;&gt;();\r\n    Robot bot = new Robot();\r\n.....\r\npublic void nativeMousePressed(NativeMouseEvent e) {\r\n                System.out.println(&quot;Mouse Pressed: &quot; + e.getButton());\r\n                try {\r\n\r\n                    Long millis = 0L;\r\n                    if (stopWatch.isRunning()) {\r\n                        stopWatch.stop();\r\n                        millis = stopWatch.getLastTaskTimeMillis();\r\n                        System.out.println(&quot;time: &quot; + stopWatch.getLastTaskTimeMillis());\r\n                      \r\n                    }\r\n                     mappaMouse.put(millis, new Input((int)                   MouseInfo.getPointerInfo().getLocation().getX(), (int) MouseInfo.getPointerInfo().getLocation().getY(), &quot;LM&quot;));\r\n                    stopWatch.start();\r\n                    System.out.println(&quot;size &quot;+ mappaMouse.size()+ &quot;  mill0is &quot;+ millis);\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n\r\nSystem.out.println((int) MouseInfo.getPointerInfo().getLocation().getX() + &quot; &quot; + (int) MouseInfo.getPointerInfo().getLocation().getY());\r\n    }\r\n\r\npublic void nativeKeyPressed(NativeKeyEvent e) {\r\n        System.out.println(&quot;prova&quot;);\r\n        if (e.getKeyCode() == NativeKeyEvent.VC_ESCAPE) {\r\n          // the idea was to add a shut down method here\r\n        } else {\r\n            System.out.println(&quot;Key Pressed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\r\n            try {\r\n\r\n                patternExecutionProva(Integer.parseInt(NativeKeyEvent.getKeyText(e.getKeyCode())), mappaMouse);\r\n\r\n            } catch (AWTException | IOException ex ) {\r\n                ex.printStackTrace();\r\n            } catch (NativeHookException ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n    }\r\n\r\npublic void patternExecutionProva(int tries, Map&lt;Long, Input&gt; mappa) throws AWTException, IOException, NativeHookException {\r\n        \r\n\r\n        System.out.println(&quot;Tri00988880es &quot; + tries);\r\n        if (tries == 0) {\r\n            tries = 18000;\r\n        }\r\n            int finalTries = tries;\r\n                Set&lt;Long&gt; chiaviMappa = mappa.keySet();\r\n                try {\r\n                    bot = new Robot();\r\n                } catch (AWTException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n                for (int i = 0; i &lt; finalTries; i++) {\r\n                    for (Long millis : chiaviMappa) {\r\n                        switch (mappa.get(millis).getInputType()) {\r\n                            case &quot;LM&quot;:\r\n                                System.out.println(&quot;mouse&quot;);\r\n                                bot.mouseMove(mappa.get(millis).getLocX(), mappa.get(millis).getLocY());\r\n                                bot.delay(millis.intValue());\r\n                                leftClick(1);\r\n                                break;\r\n                            case &quot;KEY&quot;:\r\n                                break;\r\n                            default:\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n        } \r\n\r\n    public void leftClick(int times) {\r\n        for (int i = 0; i &lt; times; i++) {\r\n            bot.delay(1000);\r\n            bot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n            bot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI removed all instances of *GlobalScreen.unregisterNativeHook();*, so in theory when the loop starts it is still active, but nothing, no input get registered\r\n\r\n\r\nI tried adding the *GlobalScreen* inside the Component, or inside the main. No changes.\r\n\r\nI tried creating another thread using \r\n```\r\n\r\n        Thread loopThread = new Thread(() -&gt; {\r\n           .......\r\n        });\r\n\r\n        loopThread.start();\r\n\r\n        try {\r\n            loopThread.join();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nand nothing\r\n\r\nAny help/suggestion willbe appreciated\r\n","link":"https://stackoverflow.com/questions/77216056/jnativehook-not-working-in-a-loop-with-robot","title":"jnativehook not working in a loop with Robot","body":"<p>I'm using jnativehook to capture the input of my mouse and keyboard, record them, and then use them to activate a loop using Robot to repeat the pattern.</p>\n<p>Everything works, the problem comes when i want to end the loop before its natural end, with the mouse moving around the screen due to Robot() ...pretty annoying</p>\n<p>The goal was to add a way to still be able to receive keyboard input while the loop is in progress with a mouse-only Robot pattern....and it doesn't work. When the loop starts no key press is registered.</p>\n<p>Here's the code of the important parts</p>\n<pre><code>@SpringBootApplication\npublic class MousePointerApplication {\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(MousePointerApplication.class, args);\n        try {\n            GlobalScreen.registerNativeHook();\n        }\n        catch (NativeHookException ex) {\n            System.err.println(&quot;There was a problem registering the native hook.&quot;);\n            System.err.println(ex.getMessage());\n\n            System.exit(1);\n        }\n\n    }\n\n}\n</code></pre>\n<pre><code>package com.Pointer.mousePointer.core;\n\nimport com.Pointer.mousePointer.bean.Input;\nimport com.github.kwhat.jnativehook.GlobalScreen;\nimport com.github.kwhat.jnativehook.NativeHookException;\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyEvent;\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyListener;\nimport com.github.kwhat.jnativehook.mouse.NativeMouseEvent;\nimport com.github.kwhat.jnativehook.mouse.NativeMouseInputListener;\nimport com.github.kwhat.jnativehook.mouse.NativeMouseWheelListener;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.util.StopWatch;\n\nimport javax.annotation.PostConstruct;\nimport java.awt.*;\nimport java.awt.event.InputEvent;\nimport java.io.*;\nimport java.util.Calendar;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Set;\n\n@Component\npublic class PatternCreator implements NativeMouseInputListener, NativeMouseWheelListener, NativeKeyListener {\n\n    StopWatch stopWatch = new StopWatch(&quot;unico&quot;);\n    private Map&lt;Long, Input&gt; mappaMouse = new HashMap&lt;&gt;();\n    Robot bot = new Robot();\n.....\npublic void nativeMousePressed(NativeMouseEvent e) {\n                System.out.println(&quot;Mouse Pressed: &quot; + e.getButton());\n                try {\n\n                    Long millis = 0L;\n                    if (stopWatch.isRunning()) {\n                        stopWatch.stop();\n                        millis = stopWatch.getLastTaskTimeMillis();\n                        System.out.println(&quot;time: &quot; + stopWatch.getLastTaskTimeMillis());\n                      \n                    }\n                     mappaMouse.put(millis, new Input((int)                   MouseInfo.getPointerInfo().getLocation().getX(), (int) MouseInfo.getPointerInfo().getLocation().getY(), &quot;LM&quot;));\n                    stopWatch.start();\n                    System.out.println(&quot;size &quot;+ mappaMouse.size()+ &quot;  mill0is &quot;+ millis);\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                }\n\nSystem.out.println((int) MouseInfo.getPointerInfo().getLocation().getX() + &quot; &quot; + (int) MouseInfo.getPointerInfo().getLocation().getY());\n    }\n\npublic void nativeKeyPressed(NativeKeyEvent e) {\n        System.out.println(&quot;prova&quot;);\n        if (e.getKeyCode() == NativeKeyEvent.VC_ESCAPE) {\n          // the idea was to add a shut down method here\n        } else {\n            System.out.println(&quot;Key Pressed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\n            try {\n\n                patternExecutionProva(Integer.parseInt(NativeKeyEvent.getKeyText(e.getKeyCode())), mappaMouse);\n\n            } catch (AWTException | IOException ex ) {\n                ex.printStackTrace();\n            } catch (NativeHookException ex) {\n                throw new RuntimeException(ex);\n            }\n        }\n    }\n\npublic void patternExecutionProva(int tries, Map&lt;Long, Input&gt; mappa) throws AWTException, IOException, NativeHookException {\n        \n\n        System.out.println(&quot;Tri00988880es &quot; + tries);\n        if (tries == 0) {\n            tries = 18000;\n        }\n            int finalTries = tries;\n                Set&lt;Long&gt; chiaviMappa = mappa.keySet();\n                try {\n                    bot = new Robot();\n                } catch (AWTException e) {\n                    throw new RuntimeException(e);\n                }\n                for (int i = 0; i &lt; finalTries; i++) {\n                    for (Long millis : chiaviMappa) {\n                        switch (mappa.get(millis).getInputType()) {\n                            case &quot;LM&quot;:\n                                System.out.println(&quot;mouse&quot;);\n                                bot.mouseMove(mappa.get(millis).getLocX(), mappa.get(millis).getLocY());\n                                bot.delay(millis.intValue());\n                                leftClick(1);\n                                break;\n                            case &quot;KEY&quot;:\n                                break;\n                            default:\n                                break;\n                        }\n                    }\n                }\n        } \n\n    public void leftClick(int times) {\n        for (int i = 0; i &lt; times; i++) {\n            bot.delay(1000);\n            bot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n            bot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n        }\n    }\n</code></pre>\n<p>I removed all instances of <em>GlobalScreen.unregisterNativeHook();</em>, so in theory when the loop starts it is still active, but nothing, no input get registered</p>\n<p>I tried adding the <em>GlobalScreen</em> inside the Component, or inside the main. No changes.</p>\n<p>I tried creating another thread using</p>\n<pre><code>\n        Thread loopThread = new Thread(() -&gt; {\n           .......\n        });\n\n        loopThread.start();\n\n        try {\n            loopThread.join();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>and nothing</p>\n<p>Any help/suggestion willbe appreciated</p>\n"},{"tags":["java","angular","spring-boot","jwt","cors"],"comments":[{"score":0,"post_type":"question","creation_date":1700994767,"post_id":77547397,"comment_id":136717986,"body_markdown":"Have you tried [this solution](https://stackoverflow.com/a/35092082/17335001) ?","link":"https://stackoverflow.com/questions/77547397/blocked-by-cors-policy-response-to-preflight-request-doesnt-pass-access-contro#comment136717986_77547397","body":"Have you tried <a href=\"https://stackoverflow.com/a/35092082/17335001\">this solution</a> ?"},{"score":0,"post_type":"question","creation_date":1701063194,"post_id":77547397,"comment_id":136723930,"body_markdown":"@nquincampoix WebSecurityConfigurer is not available in Springboot 3 and Spring Security 6","link":"https://stackoverflow.com/questions/77547397/blocked-by-cors-policy-response-to-preflight-request-doesnt-pass-access-contro#comment136723930_77547397","body":"@nquincampoix WebSecurityConfigurer is not available in Springboot 3 and Spring Security 6"}],"comment_count":2,"is_answered":false,"view_count":247,"answer_count":0,"score":-2,"last_activity_date":1700915232,"creation_date":1700906444,"last_edit_date":1700907792,"question_id":77547397,"body_markdown":"I&#39;m scratching my head since 2 days in resolving the issue below. Almost tried all the answers on stackoverflow and other blogs but no luck.\r\n\r\n**Backend** - I&#39;m using **Springboot3** and **spring security 6 with JWT** authentication mechanism.\r\n\r\nHowever, it is working fine for GET requests and also all the requests are working fine from POSTMAN. but when I hit using **Angular** application, POST requests are not working. Below the error error.\r\n\r\n```\r\nAccess to XMLHttpRequest at &#39;https://destinationUrl.com/submitFeedbackQuery&#39; from origin &#39;https://www.sourceUrl.com&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n```\r\n\r\n**Here&#39;s my backend configurations**\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\t\r\n\t@Autowired\r\n\tprivate JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n\t@Autowired\r\n\tprivate JwtAuthenticationFilter jwtAuthenticationFilter;\r\n\t\r\n\t@Bean\r\n\tSecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n\t\thttpSecurity.csrf(csrf -&gt; csrf.disable()).cors(cors -&gt; cors.configurationSource(corsConfigurationSource()))\r\n\t\t\t\t.authorizeHttpRequests(authorize -&gt; authorize\r\n\t\t\t\t\t\t.requestMatchers(&quot;/createNewUser&quot;).permitAll()\r\n\t\t\t\t\t\t.requestMatchers(&quot;/loginAuthentication&quot;).permitAll()\r\n\t\t\t\t\t\t.requestMatchers(&quot;/submitFeedbackQuery&quot;).permitAll()\r\n\t\t\t\t\t\t.anyRequest().authenticated())\r\n\t\t\t\t.exceptionHandling(ex -&gt; ex.authenticationEntryPoint(jwtAuthenticationEntryPoint))\r\n\t\t\t\t.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n\t\t\r\n\t\thttpSecurity.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\t\treturn httpSecurity.build();\t\t\r\n\t}\r\n\t\r\n\t@Bean\r\n\tCorsConfigurationSource corsConfigurationSource() {\r\n\t\tCorsConfiguration corsConfiguration = new CorsConfiguration();\r\n\t\tcorsConfiguration.setAllowedOriginPatterns(Arrays.asList(&quot;*&quot;));\r\n\t\tcorsConfiguration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n\t\tcorsConfiguration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n\t\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t\tsource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n\t\treturn source;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**Here&#39;s my Angular UI call**\r\n\r\n```\r\npublic submitQueryForm(query : QueryForm){\r\n    return this.http.post&lt;any&gt;(this.serverUrl + &quot;submitFeedbackQuery&quot;, {\r\n      &quot;type&quot; : query.type,\r\n      &quot;name&quot; : query.name,\r\n      &quot;email&quot; : query.email,\r\n      &quot;message&quot; : query.message\r\n    },{\r\n      headers: new HttpHeaders().append(&#39;Content-Type&#39;, &#39;application/json&#39;)\r\n      .append(&#39;Accept&#39;, &#39;application/json&#39;),\r\n      responseType: &#39;json&#39;\r\n    })\r\n  }\r\n```\r\nTried all the solutions from stackoverflow answers and all the blogs but nothing is working.","link":"https://stackoverflow.com/questions/77547397/blocked-by-cors-policy-response-to-preflight-request-doesnt-pass-access-contro","title":"Blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present","body":"<p>I'm scratching my head since 2 days in resolving the issue below. Almost tried all the answers on stackoverflow and other blogs but no luck.</p>\n<p><strong>Backend</strong> - I'm using <strong>Springboot3</strong> and <strong>spring security 6 with JWT</strong> authentication mechanism.</p>\n<p>However, it is working fine for GET requests and also all the requests are working fine from POSTMAN. but when I hit using <strong>Angular</strong> application, POST requests are not working. Below the error error.</p>\n<pre><code>Access to XMLHttpRequest at 'https://destinationUrl.com/submitFeedbackQuery' from origin 'https://www.sourceUrl.com' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p><strong>Here's my backend configurations</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    \n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    @Autowired\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\n    \n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf(csrf -&gt; csrf.disable()).cors(cors -&gt; cors.configurationSource(corsConfigurationSource()))\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(&quot;/createNewUser&quot;).permitAll()\n                        .requestMatchers(&quot;/loginAuthentication&quot;).permitAll()\n                        .requestMatchers(&quot;/submitFeedbackQuery&quot;).permitAll()\n                        .anyRequest().authenticated())\n                .exceptionHandling(ex -&gt; ex.authenticationEntryPoint(jwtAuthenticationEntryPoint))\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n        \n        httpSecurity.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n        return httpSecurity.build();        \n    }\n    \n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\n        corsConfiguration.setAllowedOriginPatterns(Arrays.asList(&quot;*&quot;));\n        corsConfiguration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n        corsConfiguration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n        return source;\n    }\n}\n\n</code></pre>\n<p><strong>Here's my Angular UI call</strong></p>\n<pre><code>public submitQueryForm(query : QueryForm){\n    return this.http.post&lt;any&gt;(this.serverUrl + &quot;submitFeedbackQuery&quot;, {\n      &quot;type&quot; : query.type,\n      &quot;name&quot; : query.name,\n      &quot;email&quot; : query.email,\n      &quot;message&quot; : query.message\n    },{\n      headers: new HttpHeaders().append('Content-Type', 'application/json')\n      .append('Accept', 'application/json'),\n      responseType: 'json'\n    })\n  }\n</code></pre>\n<p>Tried all the solutions from stackoverflow answers and all the blogs but nothing is working.</p>\n"},{"tags":["java","gradle","minecraft","minecraft-fabric"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700913626,"creation_date":1700913626,"answer_id":77547760,"question_id":77547711,"body_markdown":"Building any Java project requires a JDK, different from JRE which is only capable of executing code.\r\n\r\nOpenJDK distributions are available from many sources. Here are downloads from Eclipse Adoptium (formerly AdoptOpenJDK):\r\n\r\n&lt;https://adoptium.net/temurin/releases/?os=mac&amp;package=jdk&amp;version=17&gt;\r\n\r\nYou should download the &amp;ldquo;AArch64&amp;rdquo; .pkg for Late 2020 and later Mac models, or the &amp;ldquo;x64&amp;rdquo; .pkg otherwise or if you don&#39;t know.","link":"https://stackoverflow.com/questions/77547711/failure-build-failed-with-an-exception-when-running-gradle-build/77547760#77547760","title":"FAILURE: Build failed with an exception when running gradle build","body":"<p>Building any Java project requires a JDK, different from JRE which is only capable of executing code.</p>\n<p>OpenJDK distributions are available from many sources. Here are downloads from Eclipse Adoptium (formerly AdoptOpenJDK):</p>\n<p><a href=\"https://adoptium.net/temurin/releases/?os=mac&amp;package=jdk&amp;version=17\" rel=\"nofollow noreferrer\">https://adoptium.net/temurin/releases/?os=mac&amp;package=jdk&amp;version=17</a></p>\n<p>You should download the “AArch64” .pkg for Late 2020 and later Mac models, or the “x64” .pkg otherwise or if you don't know.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":123,"answer_count":1,"score":0,"last_activity_date":1700913626,"creation_date":1700912622,"last_edit_date":1700912680,"question_id":77547711,"body_markdown":"I wanted to compile a Minecraft Mod from this Github Page: https://github.com/arm32x/command-block-ide\r\n\r\nSo I opened the folder in Visual Studio code and run in the Terminal: \r\n`\r\ngradle build\r\n`\r\nAfter that I got the following error:\r\n\r\n```\r\ncommand-block-ide % gradle build\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n\r\n&gt; Configure project :\r\nFabric Loom: 1.3.9\r\nFound existing cache lock file, rebuilding loom cache. This may have been caused by a failed or canceled build.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;command-block-ide&#39;.\r\n&gt; Could not resolve all dependencies for configuration &#39;:mappings&#39;.\r\n   &gt; Failed to calculate the value of task &#39;:compileJava&#39; property &#39;javaCompiler&#39;.\r\n      &gt; No matching toolchains found for requested specification: {languageVersion=17, vendor=any, implementation=vendor-specific} for MAC_OS on x86_64.\r\n         &gt; No locally installed toolchains match and toolchain download repositories have not been configured.\r\n\r\n* Try:\r\n&gt; Learn more about toolchain auto-detection at https://docs.gradle.org/8.4/userguide/toolchains.html#sec:auto_detection.\r\n&gt; Learn more about toolchain repositories at https://docs.gradle.org/8.4/userguide/toolchains.html#sub:download_repositories.\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nFor more on this, please refer to https://docs.gradle.org/8.4/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\r\n\r\nBUILD FAILED in 26s\r\n```\r\n\r\nAll what I wanted was the code to compile and get the .jar file out of it.\r\nThank you very much for your Help!\r\n\r\nI installed Gradel manually with home-brew on my MacBook an searched in the Internet. Badly, I couldn&#39;t find a solution to Fix the problem.","link":"https://stackoverflow.com/questions/77547711/failure-build-failed-with-an-exception-when-running-gradle-build","title":"FAILURE: Build failed with an exception when running gradle build","body":"<p>I wanted to compile a Minecraft Mod from this Github Page: <a href=\"https://github.com/arm32x/command-block-ide\" rel=\"nofollow noreferrer\">https://github.com/arm32x/command-block-ide</a></p>\n<p>So I opened the folder in Visual Studio code and run in the Terminal:\n<code>gradle build</code>\nAfter that I got the following error:</p>\n<pre><code>command-block-ide % gradle build\nStarting a Gradle Daemon (subsequent builds will be faster)\n\n&gt; Configure project :\nFabric Loom: 1.3.9\nFound existing cache lock file, rebuilding loom cache. This may have been caused by a failed or canceled build.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'command-block-ide'.\n&gt; Could not resolve all dependencies for configuration ':mappings'.\n   &gt; Failed to calculate the value of task ':compileJava' property 'javaCompiler'.\n      &gt; No matching toolchains found for requested specification: {languageVersion=17, vendor=any, implementation=vendor-specific} for MAC_OS on x86_64.\n         &gt; No locally installed toolchains match and toolchain download repositories have not been configured.\n\n* Try:\n&gt; Learn more about toolchain auto-detection at https://docs.gradle.org/8.4/userguide/toolchains.html#sec:auto_detection.\n&gt; Learn more about toolchain repositories at https://docs.gradle.org/8.4/userguide/toolchains.html#sub:download_repositories.\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nFor more on this, please refer to https://docs.gradle.org/8.4/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\n\nBUILD FAILED in 26s\n</code></pre>\n<p>All what I wanted was the code to compile and get the .jar file out of it.\nThank you very much for your Help!</p>\n<p>I installed Gradel manually with home-brew on my MacBook an searched in the Internet. Badly, I couldn't find a solution to Fix the problem.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"score":0,"post_type":"question","creation_date":1700911019,"post_id":77547609,"comment_id":136711708,"body_markdown":"Please show all text *as text*. It&#39;s really unhelpful to have to squint at grey-on-black screenshots.","link":"https://stackoverflow.com/questions/77547609/the-array-object-in-the-json-string-cannot-be-mapped-to-my-pojo-normally#comment136711708_77547609","body":"Please show all text <i>as text</i>. It&#39;s really unhelpful to have to squint at grey-on-black screenshots."},{"score":0,"post_type":"question","creation_date":1700911607,"post_id":77547609,"comment_id":136711750,"body_markdown":"@JonSkeet Uh! My text should be built-in by default, and the code style should be markdown. Is it a background problem? Because everything looks fine here","link":"https://stackoverflow.com/questions/77547609/the-array-object-in-the-json-string-cannot-be-mapped-to-my-pojo-normally#comment136711750_77547609","body":"@JonSkeet Uh! My text should be built-in by default, and the code style should be markdown. Is it a background problem? Because everything looks fine here"},{"score":0,"post_type":"question","creation_date":1700912496,"post_id":77547609,"comment_id":136711805,"body_markdown":"Look just after &quot;A problem occurred at this time. When I called to convert the json string into a pojo object, this appeared：&quot; - there&#39;s still a picture (and there were two other pictures before you edited it 15 minutes ago).","link":"https://stackoverflow.com/questions/77547609/the-array-object-in-the-json-string-cannot-be-mapped-to-my-pojo-normally#comment136711805_77547609","body":"Look just after &quot;A problem occurred at this time. When I called to convert the json string into a pojo object, this appeared：&quot; - there&#39;s still a picture (and there were two other pictures before you edited it 15 minutes ago)."},{"score":0,"post_type":"question","creation_date":1700913451,"post_id":77547609,"comment_id":136711870,"body_markdown":"@JonSkeet thanks for your guide！Modified, thank you.","link":"https://stackoverflow.com/questions/77547609/the-array-object-in-the-json-string-cannot-be-mapped-to-my-pojo-normally#comment136711870_77547609","body":"@JonSkeet thanks for your guide！Modified, thank you."},{"score":0,"post_type":"question","creation_date":1700938637,"post_id":77547609,"comment_id":136714321,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","link":"https://stackoverflow.com/questions/77547609/the-array-object-in-the-json-string-cannot-be-mapped-to-my-pojo-normally#comment136714321_77547609","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"comment_count":5,"is_answered":false,"view_count":38,"answer_count":0,"score":-1,"last_activity_date":1700913397,"creation_date":1700910619,"last_edit_date":1700913397,"question_id":77547609,"body_markdown":"I had some problems when writing my own yaml to\\*\\* json rules\\*\\*. I found that my array object would not successfully parse the object field I defined, but could not find the field, as shown below:\r\n\r\n```yaml\r\nname: selectBizChannel\r\nid: branch2\r\ntype: then\r\nrule:\r\n  - biz:\r\n      name: zs\r\n      id: biz1\r\n    type: biz\r\n```\r\n\r\nIt can be converted into a json string after being processed by my processor, as follows:\r\n\r\n```text\r\n{&quot;name&quot;:&quot;selectBizChannel&quot;,&quot;id&quot;:&quot;branch2&quot;,&quot;type&quot;:&quot;then&quot;,&quot;rule&quot;:[{&quot;type&quot;:&quot;biz&quot;}]}\r\n```\r\n\r\n```json\r\n{\r\n    &quot;name&quot;:&quot;selectBizChannel&quot;,\r\n    &quot;id&quot;:&quot;branch2&quot;,\r\n    &quot;type&quot;:&quot;then&quot;,\r\n    &quot;rule&quot;:[\r\n        {\r\n            &quot;biz&quot;:{\r\n                &quot;name&quot;:&quot;zs&quot;,\r\n                &quot;id&quot;:&quot;biz1&quot;\r\n            },\r\n            &quot;type&quot;:&quot;biz&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nA problem occurred at this time. When I called to convert the json string into a pojo object, this appeared，Error log:\r\n\r\n```text\r\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException:  \r\n Unrecognized field &quot;biz&quot; (class com.dogRule.struct.rule.BizRule), not  \r\n marked as ignorable (3 known properties: &quot;type&quot;, &quot;name&quot;, &quot;id&quot;])  \r\n at [Source: (String)&quot; \r\n {&quot;name&quot;:&quot;selectBizChannel&quot;,&quot;id&quot;:&quot;branch2&quot;,&quot;type&quot;:&quot;then&quot;,&quot;rule&quot;:[{&quot;biz&quot;: \r\n {&quot;name&quot;:&quot;zs&quot;,&quot;id&quot;:&quot;biz1&quot;},&quot;type&quot;:&quot;biz&quot;}]}&quot;; line: 1, column: 110] (through  \r\n reference chain: com.dogRule.struct.rule.Then[&quot;rule&quot;]- \r\n &gt;java.util.ArrayList[0]-&gt;com.dogRule.struct.rule.BizRule[&quot;biz&quot;])  \r\n```\r\n\r\nAt first, I thought my format was wrong, but this is my code. I have defined the types that need to be parsed in advance, and you will find that I can parse the top-level **then** type.\r\n\r\nSo after I removed the **biz **type parameters, I found that the parsing passed, so I don&#39;t understand why? Is it because in an array object, parameter information cannot be inserted into the parent class? Otherwise, how to explain the top-level **then **type? I still do this, but it can be parsed successfully, so I hope someone who knows Jackson can help me with the following. Thank you very much.  \r\nBelow is the second successful test and all my code：\r\n\r\n```yaml\r\nname: selectBizChannel\r\nid: branch2\r\ntype: then\r\nrule:\r\n  - biz:\r\n    type: biz\r\n```\r\n\r\nParsed json string：\r\n\r\n``` json\r\n{\r\n    &quot;name&quot;:&quot;selectBizChannel&quot;,\r\n    &quot;id&quot;:&quot;branch2&quot;,\r\n    &quot;type&quot;:&quot;then&quot;,\r\n    &quot;rule&quot;:[\r\n        {\r\n            &quot;type&quot;:&quot;biz&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nTest the results of **biz **without parameters：\r\n\r\n```text\r\n{&quot;name&quot;:&quot;selectBizChannel&quot;,&quot;id&quot;:&quot;branch2&quot;,&quot;type&quot;:&quot;then&quot;,&quot;rule&quot;:[{&quot;type&quot;:&quot;biz&quot;}]}\r\nThen(rule=[BizRule()])\r\n```\r\n\r\nThe following are my code dependencies：\r\n\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n            &lt;version&gt;1.29&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.alibaba/fastjson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.78&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\naction interface, also pojo interface：\r\n\r\n```java\r\npackage com.dogRule.struct.rule;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\n\r\n/**\r\n * @ClassName Action\r\n * @Description\r\n * @Author DaHuangGo\r\n * @Date 2023/11/25 16:23\r\n * @Version 0.0.1\r\n **/\r\n\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;,visible = true)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = BizRule.class, name = &quot;biz&quot;),\r\n        @JsonSubTypes.Type(value = SwitchRule.class, name = &quot;switch&quot;),\r\n        @JsonSubTypes.Type(value = Then.class, name = &quot;then&quot;),\r\n})\r\npublic interface Action {\r\n\r\n    //todo\r\n    void go();\r\n}\r\n```\r\n\r\npojo:  \r\n*Base.java*\r\n\r\n```java\r\npackage com.dogRule.struct.rule;\r\n\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n/**\r\n * @ClassName Base\r\n * @Description\r\n * @Author DaHuangGo\r\n * @Date 2023/11/25 16:20\r\n * @Version 0.0.1\r\n **/\r\n@Data\r\n@NoArgsConstructor\r\npublic class Base implements Action{\r\n    public String name;\r\n    public String id;\r\n    public String type;\r\n\r\n    @Override\r\n    public void go() {\r\n\r\n    }\r\n}\r\n```\r\n\r\n\\*BizRule.java  \\*\r\n\r\n```java\r\npackage com.dogRule.struct.rule;\r\n\r\nimport lombok.Data;\r\n\r\n/**\r\n * @ClassName BizRule\r\n * @Description\r\n * @Author DaHuangGo\r\n * @Date 2023/11/25 16:35\r\n * @Version 0.0.1\r\n **/\r\n@Data\r\npublic class BizRule extends Base{\r\n\r\n}\r\n```\r\n\r\n*SwitchRule.java*\r\n\r\n```java\r\npackage com.dogRule.struct.rule;\r\n\r\nimport lombok.Data;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * @ClassName SwitchRule\r\n * @Description\r\n * @Author DaHuangGo\r\n * @Date 2023/11/25 16:36\r\n * @Version 0.0.1\r\n **/\r\n@Data\r\npublic class SwitchRule extends Base{\r\n    Action condition;\r\n    private List&lt;Action&gt; to;\r\n\r\n\r\n}\r\n```\r\n\r\nThen.java\r\n\r\n```java\r\npackage com.dogRule.struct.rule;\r\n\r\nimport lombok.Data;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * @ClassName Then\r\n * @Description\r\n * @Author DaHuangGo\r\n * @Date 2023/11/25 16:22\r\n * @Version 0.0.1\r\n **/\r\n\r\n@Data\r\npublic class Then extends Base {\r\n    private List&lt;Action&gt; rule;\r\n}\r\n```\r\n\r\nThe \\*\\*Main \\*\\*Test:\r\n\r\n```java\r\npackage com.dogRule;\r\n\r\nimport com.alibaba.fastjson.JSON;\r\nimport com.dogRule.struct.rule.Then;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.yaml.snakeyaml.Yaml;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        Yaml yaml = new Yaml();\r\n        //load yaml file\r\n        ClassLoader classLoader = Main.class.getClassLoader();\r\n        FileInputStream inputStream = new FileInputStream(classLoader.getResource(&quot;easyRule.yaml&quot;).getFile());\r\n        Map&lt;String, Object&gt; object = yaml.load(inputStream);\r\n        String jsonStr = JSON.toJSONString(object);\r\n        System.out.println(jsonStr);\r\n        jsonToObject(jsonStr);\r\n    }\r\n\r\n\r\n\r\n    private static void jsonToObject(String jsonValue) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            Then then = mapper.readValue(jsonValue, Then.class);\r\n            System.out.println(then.toString());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo you will find that as long as the biz type sub-parameters in yaml are removed, there will be no problem, but I don&#39;t know why, because I need to pass in parameters to distinguish different types and ids. The above are all my doubts, thank you !\r\n\r\nAs I mentioned in the article, I tried running the code without parameters, and this passed. Because I am not familiar with this framework, it is difficult for me to understand what its operating mechanism is? I also tried to remove the annotations in the action, but this didn&#39;t work because the framework must specify the specific implementation of the interface, otherwise an error will be reported, so I hope someone who knows or understands it can answer my doubts and give me the correct solution. Way to go, thank you very much!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gQyOR.png","link":"https://stackoverflow.com/questions/77547609/the-array-object-in-the-json-string-cannot-be-mapped-to-my-pojo-normally","title":"The array object in the json string cannot be mapped to my pojo normally","body":"<p>I had some problems when writing my own yaml to** json rules**. I found that my array object would not successfully parse the object field I defined, but could not find the field, as shown below:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: selectBizChannel\nid: branch2\ntype: then\nrule:\n  - biz:\n      name: zs\n      id: biz1\n    type: biz\n</code></pre>\n<p>It can be converted into a json string after being processed by my processor, as follows:</p>\n<pre><code>{&quot;name&quot;:&quot;selectBizChannel&quot;,&quot;id&quot;:&quot;branch2&quot;,&quot;type&quot;:&quot;then&quot;,&quot;rule&quot;:[{&quot;type&quot;:&quot;biz&quot;}]}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;:&quot;selectBizChannel&quot;,\n    &quot;id&quot;:&quot;branch2&quot;,\n    &quot;type&quot;:&quot;then&quot;,\n    &quot;rule&quot;:[\n        {\n            &quot;biz&quot;:{\n                &quot;name&quot;:&quot;zs&quot;,\n                &quot;id&quot;:&quot;biz1&quot;\n            },\n            &quot;type&quot;:&quot;biz&quot;\n        }\n    ]\n}\n</code></pre>\n<p>A problem occurred at this time. When I called to convert the json string into a pojo object, this appeared，Error log:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException:  \n Unrecognized field &quot;biz&quot; (class com.dogRule.struct.rule.BizRule), not  \n marked as ignorable (3 known properties: &quot;type&quot;, &quot;name&quot;, &quot;id&quot;])  \n at [Source: (String)&quot; \n {&quot;name&quot;:&quot;selectBizChannel&quot;,&quot;id&quot;:&quot;branch2&quot;,&quot;type&quot;:&quot;then&quot;,&quot;rule&quot;:[{&quot;biz&quot;: \n {&quot;name&quot;:&quot;zs&quot;,&quot;id&quot;:&quot;biz1&quot;},&quot;type&quot;:&quot;biz&quot;}]}&quot;; line: 1, column: 110] (through  \n reference chain: com.dogRule.struct.rule.Then[&quot;rule&quot;]- \n &gt;java.util.ArrayList[0]-&gt;com.dogRule.struct.rule.BizRule[&quot;biz&quot;])  \n</code></pre>\n<p>At first, I thought my format was wrong, but this is my code. I have defined the types that need to be parsed in advance, and you will find that I can parse the top-level <strong>then</strong> type.</p>\n<p>So after I removed the **biz **type parameters, I found that the parsing passed, so I don't understand why? Is it because in an array object, parameter information cannot be inserted into the parent class? Otherwise, how to explain the top-level **then **type? I still do this, but it can be parsed successfully, so I hope someone who knows Jackson can help me with the following. Thank you very much.<br />\nBelow is the second successful test and all my code：</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: selectBizChannel\nid: branch2\ntype: then\nrule:\n  - biz:\n    type: biz\n</code></pre>\n<p>Parsed json string：</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;:&quot;selectBizChannel&quot;,\n    &quot;id&quot;:&quot;branch2&quot;,\n    &quot;type&quot;:&quot;then&quot;,\n    &quot;rule&quot;:[\n        {\n            &quot;type&quot;:&quot;biz&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Test the results of **biz **without parameters：</p>\n<pre><code>{&quot;name&quot;:&quot;selectBizChannel&quot;,&quot;id&quot;:&quot;branch2&quot;,&quot;type&quot;:&quot;then&quot;,&quot;rule&quot;:[{&quot;type&quot;:&quot;biz&quot;}]}\nThen(rule=[BizRule()])\n</code></pre>\n<p>The following are my code dependencies：</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n            &lt;version&gt;1.29&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.alibaba/fastjson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n            &lt;version&gt;1.2.78&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>action interface, also pojo interface：</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dogRule.struct.rule;\n\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\n\n/**\n * @ClassName Action\n * @Description\n * @Author DaHuangGo\n * @Date 2023/11/25 16:23\n * @Version 0.0.1\n **/\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;,visible = true)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = BizRule.class, name = &quot;biz&quot;),\n        @JsonSubTypes.Type(value = SwitchRule.class, name = &quot;switch&quot;),\n        @JsonSubTypes.Type(value = Then.class, name = &quot;then&quot;),\n})\npublic interface Action {\n\n    //todo\n    void go();\n}\n</code></pre>\n<p>pojo:<br />\n<em>Base.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dogRule.struct.rule;\n\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n/**\n * @ClassName Base\n * @Description\n * @Author DaHuangGo\n * @Date 2023/11/25 16:20\n * @Version 0.0.1\n **/\n@Data\n@NoArgsConstructor\npublic class Base implements Action{\n    public String name;\n    public String id;\n    public String type;\n\n    @Override\n    public void go() {\n\n    }\n}\n</code></pre>\n<p>*BizRule.java  *</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dogRule.struct.rule;\n\nimport lombok.Data;\n\n/**\n * @ClassName BizRule\n * @Description\n * @Author DaHuangGo\n * @Date 2023/11/25 16:35\n * @Version 0.0.1\n **/\n@Data\npublic class BizRule extends Base{\n\n}\n</code></pre>\n<p><em>SwitchRule.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dogRule.struct.rule;\n\nimport lombok.Data;\n\nimport java.util.List;\n\n/**\n * @ClassName SwitchRule\n * @Description\n * @Author DaHuangGo\n * @Date 2023/11/25 16:36\n * @Version 0.0.1\n **/\n@Data\npublic class SwitchRule extends Base{\n    Action condition;\n    private List&lt;Action&gt; to;\n\n\n}\n</code></pre>\n<p>Then.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dogRule.struct.rule;\n\nimport lombok.Data;\n\nimport java.util.List;\n\n/**\n * @ClassName Then\n * @Description\n * @Author DaHuangGo\n * @Date 2023/11/25 16:22\n * @Version 0.0.1\n **/\n\n@Data\npublic class Then extends Base {\n    private List&lt;Action&gt; rule;\n}\n</code></pre>\n<p>The **Main **Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dogRule;\n\nimport com.alibaba.fastjson.JSON;\nimport com.dogRule.struct.rule.Then;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.yaml.snakeyaml.Yaml;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.Map;\n\npublic class Main {\n    public static void main(String[] args) throws FileNotFoundException {\n        Yaml yaml = new Yaml();\n        //load yaml file\n        ClassLoader classLoader = Main.class.getClassLoader();\n        FileInputStream inputStream = new FileInputStream(classLoader.getResource(&quot;easyRule.yaml&quot;).getFile());\n        Map&lt;String, Object&gt; object = yaml.load(inputStream);\n        String jsonStr = JSON.toJSONString(object);\n        System.out.println(jsonStr);\n        jsonToObject(jsonStr);\n    }\n\n\n\n    private static void jsonToObject(String jsonValue) {\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            Then then = mapper.readValue(jsonValue, Then.class);\n            System.out.println(then.toString());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>So you will find that as long as the biz type sub-parameters in yaml are removed, there will be no problem, but I don't know why, because I need to pass in parameters to distinguish different types and ids. The above are all my doubts, thank you !</p>\n<p>As I mentioned in the article, I tried running the code without parameters, and this passed. Because I am not familiar with this framework, it is difficult for me to understand what its operating mechanism is? I also tried to remove the annotations in the action, but this didn't work because the framework must specify the specific implementation of the interface, otherwise an error will be reported, so I hope someone who knows or understands it can answer my doubts and give me the correct solution. Way to go, thank you very much!</p>\n"},{"tags":["java","instrumentation","java-platform-module-system"],"comments":[{"score":1,"post_type":"question","creation_date":1702042891,"post_id":77547416,"comment_id":136852302,"body_markdown":"The syntax is `-patch-module module=location` where “location” is a jar file or directory. Just think about it, what is “java.base=java.util” supposed to tell the JVM?","link":"https://stackoverflow.com/questions/77547416/compilation-failure-on-custom-class-with-package-java-util#comment136852302_77547416","body":"The syntax is <code>-patch-module module=location</code> where “location” is a jar file or directory. Just think about it, what is “java.base=java.util” supposed to tell the JVM?"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700907287,"creation_date":1700907287,"answer_id":77547453,"question_id":77547416,"body_markdown":"The error you&#39;re encountering suggests that you have a class in your codebase with a package name that conflicts with a package in the `java.base` module, which is part of the Java Standard Library. Specifically, `java.util` is a well-known package in `java.base` that contains various utility classes. Here&#39;s the thing I can suggest:\r\n\r\n- Avoid Conflicting Package Names\r\n- Use a Unique Package Name\r\n\r\nAfter making the necessary changes, recompile your code and test it again.","link":"https://stackoverflow.com/questions/77547416/compilation-failure-on-custom-class-with-package-java-util/77547453#77547453","title":"Compilation failure on custom class with package java.util","body":"<p>The error you're encountering suggests that you have a class in your codebase with a package name that conflicts with a package in the <code>java.base</code> module, which is part of the Java Standard Library. Specifically, <code>java.util</code> is a well-known package in <code>java.base</code> that contains various utility classes. Here's the thing I can suggest:</p>\n<ul>\n<li>Avoid Conflicting Package Names</li>\n<li>Use a Unique Package Name</li>\n</ul>\n<p>After making the necessary changes, recompile your code and test it again.</p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1700909122,"post_id":77547458,"comment_id":136711581,"body_markdown":"I need the class to be part of rt.jar (bootstrap). Before Java 9 it was correctly getting mapped to rt.jar. So, how can I achieve that?","link":"https://stackoverflow.com/questions/77547416/compilation-failure-on-custom-class-with-package-java-util/77547458#comment136711581_77547458","body":"I need the class to be part of rt.jar (bootstrap). Before Java 9 it was correctly getting mapped to rt.jar. So, how can I achieve that?"},{"score":1,"post_type":"answer","creation_date":1700910226,"post_id":77547458,"comment_id":136711650,"body_markdown":"@VidhyaR Basically, you can&#39;t and you shouldn&#39;t.","link":"https://stackoverflow.com/questions/77547416/compilation-failure-on-custom-class-with-package-java-util/77547458#comment136711650_77547458","body":"@VidhyaR Basically, you can&#39;t and you shouldn&#39;t."},{"score":1,"post_type":"answer","creation_date":1700914235,"post_id":77547458,"comment_id":136711936,"body_markdown":"`rt.jar` doesn&#39;t exist any more. What you are asking sounds like an XY problem.","link":"https://stackoverflow.com/questions/77547416/compilation-failure-on-custom-class-with-package-java-util/77547458#comment136711936_77547458","body":"<code>rt.jar</code> doesn&#39;t exist any more. What you are asking sounds like an XY problem."}],"comment_count":3,"score":1,"last_activity_date":1700907377,"creation_date":1700907377,"answer_id":77547458,"question_id":77547416,"body_markdown":"`java.util` is a package reserved for classes provided by the JDK. You should not put any classes in any package starting with `java`/`javax`/`jdk`/etc.\r\n\r\nThe only situation where this should be done is if you are contributing to the JDK in which case you woukd change the JDK itself and not run into that error.\r\n\r\nSince modules were introduces, you cannot have split packages (packages where the code is provided by different modules). The `java.util` package is provided by the `java.base` module and you shouldn&#39;t change that module, it is part of the JDK.\r\n\r\nSo, just put the class somewhere else. You would typically start your packages with something like `com.yourdomain.yourproject`.","link":"https://stackoverflow.com/questions/77547416/compilation-failure-on-custom-class-with-package-java-util/77547458#77547458","title":"Compilation failure on custom class with package java.util","body":"<p><code>java.util</code> is a package reserved for classes provided by the JDK. You should not put any classes in any package starting with <code>java</code>/<code>javax</code>/<code>jdk</code>/etc.</p>\n<p>The only situation where this should be done is if you are contributing to the JDK in which case you woukd change the JDK itself and not run into that error.</p>\n<p>Since modules were introduces, you cannot have split packages (packages where the code is provided by different modules). The <code>java.util</code> package is provided by the <code>java.base</code> module and you shouldn't change that module, it is part of the JDK.</p>\n<p>So, just put the class somewhere else. You would typically start your packages with something like <code>com.yourdomain.yourproject</code>.</p>\n"},{"comments":[{"score":1,"post_type":"answer","creation_date":1701079448,"post_id":77547674,"comment_id":136726138,"body_markdown":"jmod files serve as input to jlink. They are not used at runtime.","link":"https://stackoverflow.com/questions/77547416/compilation-failure-on-custom-class-with-package-java-util/77547674#comment136726138_77547674","body":"jmod files serve as input to jlink. They are not used at runtime."}],"comment_count":1,"score":0,"last_activity_date":1700911758,"creation_date":1700911758,"answer_id":77547674,"question_id":77547416,"body_markdown":"rt.jar ceased to exist in java9. When you say &quot;I need it to be part of rt.jar&quot;, that means there&#39;s only thing to do, which is, to stick to JDK8, where this problem doesn&#39;t exist.\r\n\r\nThere are ways (very hacky ways) to get a class into the base module (which is no longer `rt.jar` - rt.jar no longer exists, its `java.base.jmod` - this is where the usual classes in the java util package live (you can check this: `$JAVA_HOME/bin/jmod list $JAVA_HOME/jmods/java.base.jmod` will list a whole bunch of stuff, including `classes/java/util/ArrayList.class`.\r\n\r\nYou can use the `jmod` tool to inject your class into there, at which point you have a modified (i.e. forked) JDK distribution. You can also just straight up clone the openjdk project (its open source), make your change in a branch, and then compile all that, as you&#39;re effectively forking the JDK at this point.\r\n\r\nI don&#39;t think it&#39;s possible to ship your update as a separate, runtime-invokable patch. i.e. you can&#39;t invoke a stock `java` JDK9+ such that your code runs as if it was in the `java.base.jmod`.\r\n\r\nIf you insist on going down that right, what I&#39;d try next is to make an agent, at least, if what you&#39;re doing is _overwriting_ an existing java class. If you&#39;re trying to add a new one, I&#39;d just fix whatever tool expects your class to be in `rt.jar`  - that tool __must__ be updated anyway, given that `rt.jar` no longer exists. While you&#39;re at it, might as well fix it. And if its update now looks only in the jmods, well, if you&#39;re going to patch something, its probably a lot simpler to patch that project than the OpenJDK itself.\r\n","link":"https://stackoverflow.com/questions/77547416/compilation-failure-on-custom-class-with-package-java-util/77547674#77547674","title":"Compilation failure on custom class with package java.util","body":"<p>rt.jar ceased to exist in java9. When you say &quot;I need it to be part of rt.jar&quot;, that means there's only thing to do, which is, to stick to JDK8, where this problem doesn't exist.</p>\n<p>There are ways (very hacky ways) to get a class into the base module (which is no longer <code>rt.jar</code> - rt.jar no longer exists, its <code>java.base.jmod</code> - this is where the usual classes in the java util package live (you can check this: <code>$JAVA_HOME/bin/jmod list $JAVA_HOME/jmods/java.base.jmod</code> will list a whole bunch of stuff, including <code>classes/java/util/ArrayList.class</code>.</p>\n<p>You can use the <code>jmod</code> tool to inject your class into there, at which point you have a modified (i.e. forked) JDK distribution. You can also just straight up clone the openjdk project (its open source), make your change in a branch, and then compile all that, as you're effectively forking the JDK at this point.</p>\n<p>I don't think it's possible to ship your update as a separate, runtime-invokable patch. i.e. you can't invoke a stock <code>java</code> JDK9+ such that your code runs as if it was in the <code>java.base.jmod</code>.</p>\n<p>If you insist on going down that right, what I'd try next is to make an agent, at least, if what you're doing is <em>overwriting</em> an existing java class. If you're trying to add a new one, I'd just fix whatever tool expects your class to be in <code>rt.jar</code>  - that tool <strong>must</strong> be updated anyway, given that <code>rt.jar</code> no longer exists. While you're at it, might as well fix it. And if its update now looks only in the jmods, well, if you're going to patch something, its probably a lot simpler to patch that project than the OpenJDK itself.</p>\n"}],"comment_count":1,"is_answered":true,"view_count":80,"answer_count":3,"score":0,"last_activity_date":1700911758,"creation_date":1700906731,"last_edit_date":1700909232,"question_id":77547416,"body_markdown":"I have a custom class, whose package is given as java.util. The code was compiling fine before java version 9, but when I have changed java version to 11, I am facing **package exists in another module: java.base**. I need the class to get compiled with the same package java.util, so that it gets bootstraped as part of rt.jar.\r\nCan someone please help to rectify this issue. Thanks in advance.\r\n\r\nI have tried adding **--patch-module java.base=java.util** in **.mvn/jvm.config**, but that didn&#39;t fix the issue.","link":"https://stackoverflow.com/questions/77547416/compilation-failure-on-custom-class-with-package-java-util","title":"Compilation failure on custom class with package java.util","body":"<p>I have a custom class, whose package is given as java.util. The code was compiling fine before java version 9, but when I have changed java version to 11, I am facing <strong>package exists in another module: java.base</strong>. I need the class to get compiled with the same package java.util, so that it gets bootstraped as part of rt.jar.\nCan someone please help to rectify this issue. Thanks in advance.</p>\n<p>I have tried adding <strong>--patch-module java.base=java.util</strong> in <strong>.mvn/jvm.config</strong>, but that didn't fix the issue.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"score":0,"post_type":"question","creation_date":1700685049,"post_id":77530209,"comment_id":136686306,"body_markdown":"ChatGPT has returned this code to compare the 2 JSONNode objects using jackson. But this seems to be syntactically incorrect. Appreciate suggestions on how this should be changed to work.\n\nprivate static JsonNode findJsonNodeDifferences(JsonNode node1, JsonNode node2) {\n        // Use Jackson&#39;s JsonNode API to find the difference\n        return JsonNodeFactory.instance.objectNode()\n                .set(&quot;diff&quot;, JsonNodeFactory.instance.objectNode()\n                        .set(&quot;node1&quot;, node1)\n                        .set(&quot;node2&quot;, node2));\n    }","link":"https://stackoverflow.com/questions/77530209/how-to-find-the-difference-between-two-jsons-in-java#comment136686306_77530209","body":"ChatGPT has returned this code to compare the 2 JSONNode objects using jackson. But this seems to be syntactically incorrect. Appreciate suggestions on how this should be changed to work.  private static JsonNode findJsonNodeDifferences(JsonNode node1, JsonNode node2) {         // Use Jackson&#39;s JsonNode API to find the difference         return JsonNodeFactory.instance.objectNode()                 .set(&quot;diff&quot;, JsonNodeFactory.instance.objectNode()                         .set(&quot;node1&quot;, node1)                         .set(&quot;node2&quot;, node2));     }"},{"score":0,"post_type":"question","creation_date":1700686278,"post_id":77530209,"comment_id":136686461,"body_markdown":"Check out: https://www.baeldung.com/jackson-compare-two-json-objects","link":"https://stackoverflow.com/questions/77530209/how-to-find-the-difference-between-two-jsons-in-java#comment136686461_77530209","body":"Check out: <a href=\"https://www.baeldung.com/jackson-compare-two-json-objects\" rel=\"nofollow noreferrer\">baeldung.com/jackson-compare-two-json-objects</a>"},{"score":1,"post_type":"question","creation_date":1700694616,"post_id":77530209,"comment_id":136687541,"body_markdown":"Thanks for the reply. I would like to get the difference between 2 json objects, not just comparing if they are equal or not.","link":"https://stackoverflow.com/questions/77530209/how-to-find-the-difference-between-two-jsons-in-java#comment136687541_77530209","body":"Thanks for the reply. I would like to get the difference between 2 json objects, not just comparing if they are equal or not."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700911492,"creation_date":1700911492,"answer_id":77547654,"question_id":77530209,"body_markdown":"JSON library _Jossons &amp; Josson_ set operation on two datasets.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Jossons jossons = new Jossons();\r\n    jossons.putDataset(&quot;JSON1&quot;, Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;id\\&quot;: \\&quot;_6MrXgEx7Ee6GUol3yT5KIw\\&quot;,&quot; +\r\n        &quot;    \\&quot;name\\&quot;: \\&quot;test\\&quot;,&quot; +\r\n        &quot;    \\&quot;fullName\\&quot;: \\&quot;I_EXT_TEST\\&quot;,&quot; +\r\n        &quot;    \\&quot;members\\&quot;: [&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;mail\\&quot;: null,&quot; +\r\n        &quot;            \\&quot;roles\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                    \\&quot;id\\&quot;: null,&quot; +\r\n        &quot;                    \\&quot;name\\&quot;: \\&quot;Author\\&quot;&quot; +\r\n        &quot;                },&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                    \\&quot;id\\&quot;: null,&quot; +\r\n        &quot;                    \\&quot;name\\&quot;: \\&quot;Commenter\\&quot;&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;            ],&quot; +\r\n        &quot;            \\&quot;dng_ID\\&quot;: \\&quot;aa@yy.com\\&quot;,&quot; +\r\n        &quot;            \\&quot;ad_ID\\&quot;: \\&quot;CN=aaaaaaaaaa\\&quot;&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;mail\\&quot;: null,&quot; +\r\n        &quot;            \\&quot;roles\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                    \\&quot;id\\&quot;: null,&quot; +\r\n        &quot;                    \\&quot;name\\&quot;: \\&quot;Author\\&quot;&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;            ],&quot; +\r\n        &quot;            \\&quot;dng_ID\\&quot;: \\&quot;bb@yy.com\\&quot;,&quot; +\r\n        &quot;            \\&quot;ad_ID\\&quot;: \\&quot;CN=bbbbbbbbbbb\\&quot;&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;mail\\&quot;: null,&quot; +\r\n        &quot;            \\&quot;roles\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                    \\&quot;id\\&quot;: null,&quot; +\r\n        &quot;                    \\&quot;name\\&quot;: \\&quot;Commenter\\&quot;&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;            ],&quot; +\r\n        &quot;            \\&quot;dng_ID\\&quot;: \\&quot;cc@yy.com\\&quot;,&quot; +\r\n        &quot;            \\&quot;ad_ID\\&quot;: \\&quot;CN=ccccccc\\&quot;&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;mail\\&quot;: null,&quot; +\r\n        &quot;            \\&quot;roles\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                    \\&quot;id\\&quot;: null,&quot; +\r\n        &quot;                    \\&quot;name\\&quot;: \\&quot;Commenter\\&quot;&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;            ],&quot; +\r\n        &quot;            \\&quot;dng_ID\\&quot;: \\&quot;dd@yy.com\\&quot;,&quot; +\r\n        &quot;            \\&quot;ad_ID\\&quot;: \\&quot;CN=ddddddd\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;}&quot;));\r\n    jossons.putDataset(&quot;JSON2&quot;, Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;id\\&quot;: \\&quot;_6MrXgEx7Ee6GUol3yT5KIw\\&quot;,&quot; +\r\n        &quot;    \\&quot;name\\&quot;: \\&quot;test\\&quot;,&quot; +\r\n        &quot;    \\&quot;fullName\\&quot;: \\&quot;I_EXT_TEST\\&quot;,&quot; +\r\n        &quot;    \\&quot;members\\&quot;: [&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;mail\\&quot;: null,&quot; +\r\n        &quot;            \\&quot;roles\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                    \\&quot;id\\&quot;: null,&quot; +\r\n        &quot;                    \\&quot;name\\&quot;: \\&quot;Commenter\\&quot;&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;            ],&quot; +\r\n        &quot;            \\&quot;dng_ID\\&quot;: \\&quot;cc@yy.com\\&quot;,&quot; +\r\n        &quot;            \\&quot;ad_ID\\&quot;: \\&quot;CN=ccccccc\\&quot;&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;mail\\&quot;: null,&quot; +\r\n        &quot;            \\&quot;roles\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                    \\&quot;id\\&quot;: null,&quot; +\r\n        &quot;                    \\&quot;name\\&quot;: \\&quot;Commenter\\&quot;&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;            ],&quot; +\r\n        &quot;            \\&quot;dng_ID\\&quot;: \\&quot;dd@yy.com\\&quot;,&quot; +\r\n        &quot;            \\&quot;ad_ID\\&quot;: \\&quot;CN=ddddddd\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;}&quot;));\r\n\r\n__Subtract right from left__\r\n\r\n    JsonNode node = jossons.evaluateQuery(&quot;JSON1 &lt;-&lt; JSON2&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;members&quot; : [ {\r\n        &quot;mail&quot; : null,\r\n        &quot;roles&quot; : [ {\r\n          &quot;id&quot; : null,\r\n          &quot;name&quot; : &quot;Author&quot;\r\n        }, {\r\n          &quot;id&quot; : null,\r\n          &quot;name&quot; : &quot;Commenter&quot;\r\n        } ],\r\n        &quot;dng_ID&quot; : &quot;aa@yy.com&quot;,\r\n        &quot;ad_ID&quot; : &quot;CN=aaaaaaaaaa&quot;\r\n      }, {\r\n        &quot;mail&quot; : null,\r\n        &quot;roles&quot; : [ {\r\n          &quot;id&quot; : null,\r\n          &quot;name&quot; : &quot;Author&quot;\r\n        } ],\r\n        &quot;dng_ID&quot; : &quot;bb@yy.com&quot;,\r\n        &quot;ad_ID&quot; : &quot;CN=bbbbbbbbbbb&quot;\r\n      } ]\r\n    }\r\n","link":"https://stackoverflow.com/questions/77530209/how-to-find-the-difference-between-two-jsons-in-java/77547654#77547654","title":"How to find the difference between two JSONs in java?","body":"<p>JSON library <em>Jossons &amp; Josson</em> set operation on two datasets.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Jossons jossons = new Jossons();\njossons.putDataset(&quot;JSON1&quot;, Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;id\\&quot;: \\&quot;_6MrXgEx7Ee6GUol3yT5KIw\\&quot;,&quot; +\n    &quot;    \\&quot;name\\&quot;: \\&quot;test\\&quot;,&quot; +\n    &quot;    \\&quot;fullName\\&quot;: \\&quot;I_EXT_TEST\\&quot;,&quot; +\n    &quot;    \\&quot;members\\&quot;: [&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;mail\\&quot;: null,&quot; +\n    &quot;            \\&quot;roles\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                    \\&quot;id\\&quot;: null,&quot; +\n    &quot;                    \\&quot;name\\&quot;: \\&quot;Author\\&quot;&quot; +\n    &quot;                },&quot; +\n    &quot;                {&quot; +\n    &quot;                    \\&quot;id\\&quot;: null,&quot; +\n    &quot;                    \\&quot;name\\&quot;: \\&quot;Commenter\\&quot;&quot; +\n    &quot;                }&quot; +\n    &quot;            ],&quot; +\n    &quot;            \\&quot;dng_ID\\&quot;: \\&quot;aa@yy.com\\&quot;,&quot; +\n    &quot;            \\&quot;ad_ID\\&quot;: \\&quot;CN=aaaaaaaaaa\\&quot;&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;mail\\&quot;: null,&quot; +\n    &quot;            \\&quot;roles\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                    \\&quot;id\\&quot;: null,&quot; +\n    &quot;                    \\&quot;name\\&quot;: \\&quot;Author\\&quot;&quot; +\n    &quot;                }&quot; +\n    &quot;            ],&quot; +\n    &quot;            \\&quot;dng_ID\\&quot;: \\&quot;bb@yy.com\\&quot;,&quot; +\n    &quot;            \\&quot;ad_ID\\&quot;: \\&quot;CN=bbbbbbbbbbb\\&quot;&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;mail\\&quot;: null,&quot; +\n    &quot;            \\&quot;roles\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                    \\&quot;id\\&quot;: null,&quot; +\n    &quot;                    \\&quot;name\\&quot;: \\&quot;Commenter\\&quot;&quot; +\n    &quot;                }&quot; +\n    &quot;            ],&quot; +\n    &quot;            \\&quot;dng_ID\\&quot;: \\&quot;cc@yy.com\\&quot;,&quot; +\n    &quot;            \\&quot;ad_ID\\&quot;: \\&quot;CN=ccccccc\\&quot;&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;mail\\&quot;: null,&quot; +\n    &quot;            \\&quot;roles\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                    \\&quot;id\\&quot;: null,&quot; +\n    &quot;                    \\&quot;name\\&quot;: \\&quot;Commenter\\&quot;&quot; +\n    &quot;                }&quot; +\n    &quot;            ],&quot; +\n    &quot;            \\&quot;dng_ID\\&quot;: \\&quot;dd@yy.com\\&quot;,&quot; +\n    &quot;            \\&quot;ad_ID\\&quot;: \\&quot;CN=ddddddd\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;    ]&quot; +\n    &quot;}&quot;));\njossons.putDataset(&quot;JSON2&quot;, Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;id\\&quot;: \\&quot;_6MrXgEx7Ee6GUol3yT5KIw\\&quot;,&quot; +\n    &quot;    \\&quot;name\\&quot;: \\&quot;test\\&quot;,&quot; +\n    &quot;    \\&quot;fullName\\&quot;: \\&quot;I_EXT_TEST\\&quot;,&quot; +\n    &quot;    \\&quot;members\\&quot;: [&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;mail\\&quot;: null,&quot; +\n    &quot;            \\&quot;roles\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                    \\&quot;id\\&quot;: null,&quot; +\n    &quot;                    \\&quot;name\\&quot;: \\&quot;Commenter\\&quot;&quot; +\n    &quot;                }&quot; +\n    &quot;            ],&quot; +\n    &quot;            \\&quot;dng_ID\\&quot;: \\&quot;cc@yy.com\\&quot;,&quot; +\n    &quot;            \\&quot;ad_ID\\&quot;: \\&quot;CN=ccccccc\\&quot;&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;mail\\&quot;: null,&quot; +\n    &quot;            \\&quot;roles\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                    \\&quot;id\\&quot;: null,&quot; +\n    &quot;                    \\&quot;name\\&quot;: \\&quot;Commenter\\&quot;&quot; +\n    &quot;                }&quot; +\n    &quot;            ],&quot; +\n    &quot;            \\&quot;dng_ID\\&quot;: \\&quot;dd@yy.com\\&quot;,&quot; +\n    &quot;            \\&quot;ad_ID\\&quot;: \\&quot;CN=ddddddd\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;    ]&quot; +\n    &quot;}&quot;));\n</code></pre>\n<p><strong>Subtract right from left</strong></p>\n<pre><code>JsonNode node = jossons.evaluateQuery(&quot;JSON1 &lt;-&lt; JSON2&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;members&quot; : [ {\n    &quot;mail&quot; : null,\n    &quot;roles&quot; : [ {\n      &quot;id&quot; : null,\n      &quot;name&quot; : &quot;Author&quot;\n    }, {\n      &quot;id&quot; : null,\n      &quot;name&quot; : &quot;Commenter&quot;\n    } ],\n    &quot;dng_ID&quot; : &quot;aa@yy.com&quot;,\n    &quot;ad_ID&quot; : &quot;CN=aaaaaaaaaa&quot;\n  }, {\n    &quot;mail&quot; : null,\n    &quot;roles&quot; : [ {\n      &quot;id&quot; : null,\n      &quot;name&quot; : &quot;Author&quot;\n    } ],\n    &quot;dng_ID&quot; : &quot;bb@yy.com&quot;,\n    &quot;ad_ID&quot; : &quot;CN=bbbbbbbbbbb&quot;\n  } ]\n}\n</code></pre>\n"}],"comment_count":3,"is_answered":false,"view_count":49,"answer_count":1,"score":0,"last_activity_date":1700911492,"creation_date":1700658460,"last_edit_date":1700694928,"question_id":77530209,"body_markdown":"I have 2 large JSONs with nested elements and I need to find the difference of these jsons. Each Json represents the data from LDAP in different days. I was looking into Jackson&#39;s JsonNode class. Equals method of this class can compare 2 JsonNodes but it doesn&#39;t return the difference. \r\n\r\nAppreciate any input on what would be best approach to get the difference of 2 JSONs. It will be great if anyone has sample code for the same. Thanks.\r\n\r\nJSON1\r\n-----\r\n\r\n   \r\n\r\n     {\r\n    \t&quot;id&quot;: &quot;_6MrXgEx7Ee6GUol3yT5KIw&quot;,\r\n    \t&quot;name&quot;: &quot;test&quot;,\r\n    \t&quot;fullName&quot;: &quot;I_EXT_TEST&quot;,\r\n    \t&quot;members&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;mail&quot;: null,\r\n    \t\t\t&quot;roles&quot;: [\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;id&quot;: null,\r\n    \t\t\t\t\t&quot;name&quot;: &quot;Author&quot;\r\n    \t\t\t\t},\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;id&quot;: null,\r\n    \t\t\t\t\t&quot;name&quot;: &quot;Commenter&quot;\r\n    \t\t\t\t}\r\n    \t\t\t],\r\n    \t\t\t&quot;dng_ID&quot;: &quot;aa@yy.com&quot;,\r\n    \t\t\t&quot;ad_ID&quot;: &quot;CN=aaaaaaaaaa&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;mail&quot;: null,\r\n    \t\t\t&quot;roles&quot;: [\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;id&quot;: null,\r\n    \t\t\t\t\t&quot;name&quot;: &quot;Author&quot;\r\n    \t\t\t\t}\r\n    \t\t\t],\r\n    \t\t\t&quot;dng_ID&quot;: &quot;bb@yy.com&quot;,\r\n    \t\t\t&quot;ad_ID&quot;: &quot;CN=bbbbbbbbbbb&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;mail&quot;: null,\r\n    \t\t\t&quot;roles&quot;: [\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;id&quot;: null,\r\n    \t\t\t\t\t&quot;name&quot;: &quot;Commenter&quot;\r\n    \t\t\t\t}\r\n    \t\t\t],\r\n    \t\t\t&quot;dng_ID&quot;: &quot;cc@yy.com&quot;,\r\n    \t\t\t&quot;ad_ID&quot;: &quot;CN=ccccccc&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;mail&quot;: null,\r\n    \t\t\t&quot;roles&quot;: [\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;id&quot;: null,\r\n    \t\t\t\t\t&quot;name&quot;: &quot;Commenter&quot;\r\n    \t\t\t\t}\r\n    \t\t\t],\r\n    \t\t\t&quot;dng_ID&quot;: &quot;dd@yy.com&quot;,\r\n    \t\t\t&quot;ad_ID&quot;: &quot;CN=ddddddd&quot;\r\n    \t\t},\r\n    \t]\r\n    }\r\n\r\nJSON2\r\n-----\r\n\r\n    {\r\n    \t&quot;id&quot;: &quot;_6MrXgEx7Ee6GUol3yT5KIw&quot;,\r\n    \t&quot;name&quot;: &quot;test&quot;,\r\n    \t&quot;fullName&quot;: &quot;I_EXT_TEST&quot;,\r\n    \t&quot;members&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;mail&quot;: null,\r\n    \t\t\t&quot;roles&quot;: [\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;id&quot;: null,\r\n    \t\t\t\t\t&quot;name&quot;: &quot;Commenter&quot;\r\n    \t\t\t\t}\r\n    \t\t\t],\r\n    \t\t\t&quot;dng_ID&quot;: &quot;cc@yy.com&quot;,\r\n    \t\t\t&quot;ad_ID&quot;: &quot;CN=ccccccc&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;mail&quot;: null,\r\n    \t\t\t&quot;roles&quot;: [\r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;id&quot;: null,\r\n    \t\t\t\t\t&quot;name&quot;: &quot;Commenter&quot;\r\n    \t\t\t\t}\r\n    \t\t\t],\r\n    \t\t\t&quot;dng_ID&quot;: &quot;dd@yy.com&quot;,\r\n    \t\t\t&quot;ad_ID&quot;: &quot;CN=ddddddd&quot;\r\n    \t\t},\r\n    \t]\r\n    }\r\n\r\nExpected Output\r\n---------------\r\n\r\n    &quot;members&quot;: [\r\n        \t\t{\r\n        \t\t\t&quot;mail&quot;: null,\r\n        \t\t\t&quot;roles&quot;: [\r\n        \t\t\t\t{\r\n        \t\t\t\t\t&quot;id&quot;: null,\r\n        \t\t\t\t\t&quot;name&quot;: &quot;Author&quot;\r\n        \t\t\t\t},\r\n        \t\t\t\t{\r\n        \t\t\t\t\t&quot;id&quot;: null,\r\n        \t\t\t\t\t&quot;name&quot;: &quot;Commenter&quot;\r\n        \t\t\t\t}\r\n        \t\t\t],\r\n        \t\t\t&quot;dng_ID&quot;: &quot;aa@yy.com&quot;,\r\n        \t\t\t&quot;ad_ID&quot;: &quot;CN=aaaaaaaaaa&quot;\r\n        \t\t},\r\n        \t\t{\r\n        \t\t\t&quot;mail&quot;: null,\r\n        \t\t\t&quot;roles&quot;: [\r\n        \t\t\t\t{\r\n        \t\t\t\t\t&quot;id&quot;: null,\r\n        \t\t\t\t\t&quot;name&quot;: &quot;Author&quot;\r\n        \t\t\t\t}\r\n        \t\t\t],\r\n        \t\t\t&quot;dng_ID&quot;: &quot;bb@yy.com&quot;,\r\n        \t\t\t&quot;ad_ID&quot;: &quot;CN=bbbbbbbbbbb&quot;\r\n        \t\t}\r\n         ]\r\n    }\r\n\r\n","link":"https://stackoverflow.com/questions/77530209/how-to-find-the-difference-between-two-jsons-in-java","title":"How to find the difference between two JSONs in java?","body":"<p>I have 2 large JSONs with nested elements and I need to find the difference of these jsons. Each Json represents the data from LDAP in different days. I was looking into Jackson's JsonNode class. Equals method of this class can compare 2 JsonNodes but it doesn't return the difference.</p>\n<p>Appreciate any input on what would be best approach to get the difference of 2 JSONs. It will be great if anyone has sample code for the same. Thanks.</p>\n<h2>JSON1</h2>\n<pre><code> {\n    &quot;id&quot;: &quot;_6MrXgEx7Ee6GUol3yT5KIw&quot;,\n    &quot;name&quot;: &quot;test&quot;,\n    &quot;fullName&quot;: &quot;I_EXT_TEST&quot;,\n    &quot;members&quot;: [\n        {\n            &quot;mail&quot;: null,\n            &quot;roles&quot;: [\n                {\n                    &quot;id&quot;: null,\n                    &quot;name&quot;: &quot;Author&quot;\n                },\n                {\n                    &quot;id&quot;: null,\n                    &quot;name&quot;: &quot;Commenter&quot;\n                }\n            ],\n            &quot;dng_ID&quot;: &quot;aa@yy.com&quot;,\n            &quot;ad_ID&quot;: &quot;CN=aaaaaaaaaa&quot;\n        },\n        {\n            &quot;mail&quot;: null,\n            &quot;roles&quot;: [\n                {\n                    &quot;id&quot;: null,\n                    &quot;name&quot;: &quot;Author&quot;\n                }\n            ],\n            &quot;dng_ID&quot;: &quot;bb@yy.com&quot;,\n            &quot;ad_ID&quot;: &quot;CN=bbbbbbbbbbb&quot;\n        },\n        {\n            &quot;mail&quot;: null,\n            &quot;roles&quot;: [\n                {\n                    &quot;id&quot;: null,\n                    &quot;name&quot;: &quot;Commenter&quot;\n                }\n            ],\n            &quot;dng_ID&quot;: &quot;cc@yy.com&quot;,\n            &quot;ad_ID&quot;: &quot;CN=ccccccc&quot;\n        },\n        {\n            &quot;mail&quot;: null,\n            &quot;roles&quot;: [\n                {\n                    &quot;id&quot;: null,\n                    &quot;name&quot;: &quot;Commenter&quot;\n                }\n            ],\n            &quot;dng_ID&quot;: &quot;dd@yy.com&quot;,\n            &quot;ad_ID&quot;: &quot;CN=ddddddd&quot;\n        },\n    ]\n}\n</code></pre>\n<h2>JSON2</h2>\n<pre><code>{\n    &quot;id&quot;: &quot;_6MrXgEx7Ee6GUol3yT5KIw&quot;,\n    &quot;name&quot;: &quot;test&quot;,\n    &quot;fullName&quot;: &quot;I_EXT_TEST&quot;,\n    &quot;members&quot;: [\n        {\n            &quot;mail&quot;: null,\n            &quot;roles&quot;: [\n                {\n                    &quot;id&quot;: null,\n                    &quot;name&quot;: &quot;Commenter&quot;\n                }\n            ],\n            &quot;dng_ID&quot;: &quot;cc@yy.com&quot;,\n            &quot;ad_ID&quot;: &quot;CN=ccccccc&quot;\n        },\n        {\n            &quot;mail&quot;: null,\n            &quot;roles&quot;: [\n                {\n                    &quot;id&quot;: null,\n                    &quot;name&quot;: &quot;Commenter&quot;\n                }\n            ],\n            &quot;dng_ID&quot;: &quot;dd@yy.com&quot;,\n            &quot;ad_ID&quot;: &quot;CN=ddddddd&quot;\n        },\n    ]\n}\n</code></pre>\n<h2>Expected Output</h2>\n<pre><code>&quot;members&quot;: [\n            {\n                &quot;mail&quot;: null,\n                &quot;roles&quot;: [\n                    {\n                        &quot;id&quot;: null,\n                        &quot;name&quot;: &quot;Author&quot;\n                    },\n                    {\n                        &quot;id&quot;: null,\n                        &quot;name&quot;: &quot;Commenter&quot;\n                    }\n                ],\n                &quot;dng_ID&quot;: &quot;aa@yy.com&quot;,\n                &quot;ad_ID&quot;: &quot;CN=aaaaaaaaaa&quot;\n            },\n            {\n                &quot;mail&quot;: null,\n                &quot;roles&quot;: [\n                    {\n                        &quot;id&quot;: null,\n                        &quot;name&quot;: &quot;Author&quot;\n                    }\n                ],\n                &quot;dng_ID&quot;: &quot;bb@yy.com&quot;,\n                &quot;ad_ID&quot;: &quot;CN=bbbbbbbbbbb&quot;\n            }\n     ]\n}\n</code></pre>\n"},{"tags":["java","dynamic-memory-allocation"],"comments":[{"score":1,"post_type":"question","creation_date":1700835470,"post_id":77543735,"comment_id":136705125,"body_markdown":"dynamic == heap","link":"https://stackoverflow.com/questions/77543735/were-are-fields-of-an-object-allocated#comment136705125_77543735","body":"dynamic == heap"},{"score":2,"post_type":"question","creation_date":1700835515,"post_id":77543735,"comment_id":136705131,"body_markdown":"It&#39;s not stored anywhere, it&#39;s just a declaration. You need to do a `new` to allocate storage for the fields.","link":"https://stackoverflow.com/questions/77543735/were-are-fields-of-an-object-allocated#comment136705131_77543735","body":"It&#39;s not stored anywhere, it&#39;s just a declaration. You need to do a <code>new</code> to allocate storage for the fields."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1700835544,"post_id":77543788,"comment_id":136705139,"body_markdown":"Can you tell me more about heap?","link":"https://stackoverflow.com/questions/77543735/were-are-fields-of-an-object-allocated/77543788#comment136705139_77543788","body":"Can you tell me more about heap?"},{"score":2,"post_type":"answer","creation_date":1700839106,"post_id":77543788,"comment_id":136705718,"body_markdown":"@J.Porter As a beginner Java programmer, you don&#39;t really need to know too much about that. You should focus on the specification of what Java statements do, not where an implementation puts things. In your case, the important language details are the distinctions between class, instance, and variable. I don&#39;t mean to discourage your curiosity, just to point out the path.","link":"https://stackoverflow.com/questions/77543735/were-are-fields-of-an-object-allocated/77543788#comment136705718_77543788","body":"@J.Porter As a beginner Java programmer, you don&#39;t really need to know too much about that. You should focus on the specification of what Java statements do, not where an implementation puts things. In your case, the important language details are the distinctions between class, instance, and variable. I don&#39;t mean to discourage your curiosity, just to point out the path."},{"score":1,"post_type":"answer","creation_date":1700844639,"post_id":77543788,"comment_id":136706536,"body_markdown":"@J.Porter Wikipedia will satisfy your curiosity on these basic topics.","link":"https://stackoverflow.com/questions/77543735/were-are-fields-of-an-object-allocated/77543788#comment136706536_77543788","body":"@J.Porter Wikipedia will satisfy your curiosity on these basic topics."},{"score":1,"post_type":"answer","creation_date":1700900131,"post_id":77543788,"comment_id":136710951,"body_markdown":"This answer looks like ChatGPT","link":"https://stackoverflow.com/questions/77543735/were-are-fields-of-an-object-allocated/77543788#comment136710951_77543788","body":"This answer looks like ChatGPT"}],"comment_count":4,"score":3,"last_activity_date":1700844215,"last_edit_date":1700844215,"creation_date":1700835511,"answer_id":77543788,"question_id":77543735,"body_markdown":"In Java, when you declare a variable as an instance variable (also known as a member variable or attribute) in a class, it is associated with each instance of the class rather than with any specific method or instance of the class. \r\n\r\nThese variables are stored in the object&#39;s memory space when an object is created from the class. Let&#39;s break down the details:\r\n\r\n - When you declare an instance variable like int b = 17; in a class, it\r\n   becomes part of the object&#39;s state.\r\n - Every time you create an object using the new keyword, a separate\r\n   copy of the instance variables is created and associated with that\r\n   specific object.\r\n - The memory for these instance variables is allocated on the heap, and\r\n   it exists as long as the object exists.\r\n\r\n```\r\npublic class MyClass {\r\n    int b = 17; // This is an instance variable\r\n\r\n    public static void main(String[] args) {\r\n        MyClass obj1 = new MyClass();\r\n        MyClass obj2 = new MyClass();\r\n\r\n        // obj1 and obj2 have their own separate &#39;b&#39; variables\r\n        System.out.println(obj1.b); // prints 17\r\n        System.out.println(obj2.b); // prints 17\r\n\r\n        // You can modify the values independently\r\n        obj1.b = 20;\r\n        System.out.println(obj1.b); // prints 20\r\n        System.out.println(obj2.b); // prints 17\r\n    }\r\n}\r\n```\r\n\r\nIn summary, instance variables declared in a class are stored on the heap memory when objects are created, and each object has its own copy of these variables.","link":"https://stackoverflow.com/questions/77543735/were-are-fields-of-an-object-allocated/77543788#77543788","title":"Were are fields of an object allocated?","body":"<p>In Java, when you declare a variable as an instance variable (also known as a member variable or attribute) in a class, it is associated with each instance of the class rather than with any specific method or instance of the class.</p>\n<p>These variables are stored in the object's memory space when an object is created from the class. Let's break down the details:</p>\n<ul>\n<li>When you declare an instance variable like int b = 17; in a class, it\nbecomes part of the object's state.</li>\n<li>Every time you create an object using the new keyword, a separate\ncopy of the instance variables is created and associated with that\nspecific object.</li>\n<li>The memory for these instance variables is allocated on the heap, and\nit exists as long as the object exists.</li>\n</ul>\n<pre><code>public class MyClass {\n    int b = 17; // This is an instance variable\n\n    public static void main(String[] args) {\n        MyClass obj1 = new MyClass();\n        MyClass obj2 = new MyClass();\n\n        // obj1 and obj2 have their own separate 'b' variables\n        System.out.println(obj1.b); // prints 17\n        System.out.println(obj2.b); // prints 17\n\n        // You can modify the values independently\n        obj1.b = 20;\n        System.out.println(obj1.b); // prints 20\n        System.out.println(obj2.b); // prints 17\n    }\n}\n</code></pre>\n<p>In summary, instance variables declared in a class are stored on the heap memory when objects are created, and each object has its own copy of these variables.</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1700835958,"creation_date":1700835958,"answer_id":77543840,"question_id":77543735,"body_markdown":"Suppose you have a class that looks like this:\r\n\r\n    class Foo {\r\n       int a;\r\n       int b = 17;\r\n\r\n       Foo() {\r\n         this.a = 5;\r\n       }\r\n    }\r\n\r\nWhen you compile it, it will turn into something like this:\r\n\r\n    class Foo {\r\n       int a;\r\n       int b;\r\n\r\n       Foo() {\r\n         this.b = 17;\r\n         this.a = 5;\r\n       }\r\n    }\r\n\r\nSo as you can see from here, until you call the constructor, no initialisation is taking place, i.e. there&#39;s nothing to store.\r\n\r\nNow if your question is about how the constructor knows it needs to use the numbers `5` and `17` specifically, those are part of your compiled class file, loaded with the class.","link":"https://stackoverflow.com/questions/77543735/were-are-fields-of-an-object-allocated/77543840#77543840","title":"Were are fields of an object allocated?","body":"<p>Suppose you have a class that looks like this:</p>\n<pre><code>class Foo {\n   int a;\n   int b = 17;\n\n   Foo() {\n     this.a = 5;\n   }\n}\n</code></pre>\n<p>When you compile it, it will turn into something like this:</p>\n<pre><code>class Foo {\n   int a;\n   int b;\n\n   Foo() {\n     this.b = 17;\n     this.a = 5;\n   }\n}\n</code></pre>\n<p>So as you can see from here, until you call the constructor, no initialisation is taking place, i.e. there's nothing to store.</p>\n<p>Now if your question is about how the constructor knows it needs to use the numbers <code>5</code> and <code>17</code> specifically, those are part of your compiled class file, loaded with the class.</p>\n"}],"comment_count":2,"is_answered":true,"view_count":92,"answer_count":2,"score":-3,"last_activity_date":1700911177,"creation_date":1700834915,"last_edit_date":1700911177,"question_id":77543735,"body_markdown":"I am learning the Java language. The variable declared in the class for example int b=17 as an attribute; not in a particular method nor static without calling the new constructor to store it in heap. By default, it is stored where during the execution of the program?\r\n\r\n","link":"https://stackoverflow.com/questions/77543735/were-are-fields-of-an-object-allocated","title":"Were are fields of an object allocated?","body":"<p>I am learning the Java language. The variable declared in the class for example int b=17 as an attribute; not in a particular method nor static without calling the new constructor to store it in heap. By default, it is stored where during the execution of the program?</p>\n"},{"tags":["python","java","intellij-idea","bufferedreader"],"comments":[{"score":0,"post_type":"question","creation_date":1700857049,"post_id":77545454,"comment_id":136708043,"body_markdown":"Then why don&#39;t you implement the full application in Python? Mixing languages increases the complexity.","link":"https://stackoverflow.com/questions/77545454/runing-python-script-in-java-return-python-exit-code-9009-couldnt-lunch-python#comment136708043_77545454","body":"Then why don&#39;t you implement the full application in Python? Mixing languages increases the complexity."},{"score":0,"post_type":"question","creation_date":1700857601,"post_id":77545454,"comment_id":136708105,"body_markdown":"I know it makes the most sense however Im building on an application I have made a while a go. and on a side note I enjoy the complexity and problem solving it requires.","link":"https://stackoverflow.com/questions/77545454/runing-python-script-in-java-return-python-exit-code-9009-couldnt-lunch-python#comment136708105_77545454","body":"I know it makes the most sense however Im building on an application I have made a while a go. and on a side note I enjoy the complexity and problem solving it requires."},{"score":0,"post_type":"question","creation_date":1700875595,"post_id":77545454,"comment_id":136709513,"body_markdown":"Provide the complete path to the python executable.  What is the top-level code after `# Look for the specific device`?","link":"https://stackoverflow.com/questions/77545454/runing-python-script-in-java-return-python-exit-code-9009-couldnt-lunch-python#comment136709513_77545454","body":"Provide the complete path to the python executable.  What is the top-level code after <code># Look for the specific device</code>?"},{"score":0,"post_type":"question","creation_date":1700910227,"post_id":77545454,"comment_id":136711651,"body_markdown":"@JimGarrison It is the full code, the comment &quot;Path&quot; is just to indicate where the file is saved so I would have an easier time remembering what I have to do. Anyways I have edited the question attaching the relevant files","link":"https://stackoverflow.com/questions/77545454/runing-python-script-in-java-return-python-exit-code-9009-couldnt-lunch-python#comment136711651_77545454","body":"@JimGarrison It is the full code, the comment &quot;Path&quot; is just to indicate where the file is saved so I would have an easier time remembering what I have to do. Anyways I have edited the question attaching the relevant files"},{"score":0,"post_type":"question","creation_date":1700933802,"post_id":77545454,"comment_id":136713814,"body_markdown":"I meant in `String pythonScript = &quot;C:\\\\path\\\\to\\\\python\\\\executable\\\\python3&quot;; `","link":"https://stackoverflow.com/questions/77545454/runing-python-script-in-java-return-python-exit-code-9009-couldnt-lunch-python#comment136713814_77545454","body":"I meant in <code>String pythonScript = &quot;C:\\\\path\\\\to\\\\python\\\\executable\\\\python3&quot;; </code>"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700867271,"last_edit_date":1700867271,"creation_date":1700866927,"answer_id":77546008,"question_id":77545454,"body_markdown":"The error code 9009 is typically associated with an issue where the system cannot find the command or executable file.\r\n\r\n* Python not in the system path\r\n* Incorrect path to the specified Python script\r\n\r\nI recommend that you implement this functionality using Java only. Using Java to call Python is not a good idea.","link":"https://stackoverflow.com/questions/77545454/runing-python-script-in-java-return-python-exit-code-9009-couldnt-lunch-python/77546008#77546008","title":"Runing Python script in Java return python exit code 9009 (Couldn&#39;t lunch python)","body":"<p>The error code 9009 is typically associated with an issue where the system cannot find the command or executable file.</p>\n<ul>\n<li>Python not in the system path</li>\n<li>Incorrect path to the specified Python script</li>\n</ul>\n<p>I recommend that you implement this functionality using Java only. Using Java to call Python is not a good idea.</p>\n"}],"comment_count":5,"is_answered":false,"view_count":77,"answer_count":1,"score":0,"last_activity_date":1700910812,"creation_date":1700856452,"last_edit_date":1700910812,"question_id":77545454,"body_markdown":"**Problem&amp;&amp; what Im doing**\r\nI have written a Python script that checks the ports of the computer in search for a specific reader using it&#39;s Windows hardware ID and returns True or False accordingly. problem is when I run the script in my Java environment using BufferedReader and InputStreamReader the python exists with code 9009. \r\n\r\nThe python script was supposed to return a true or false value according to the state of the USB card reader connected to the computer. As mentioned the script works when its being run alone (both on IntelliJ, PyCharm and VS Code). When it tries to run on my java program it returns the following: \r\n\r\n*Python script exited with code: 9009*\r\n\r\n\r\n**Things I&#39;ve tried:**\r\n1.  checking the python interpreter/ version/ etc... | The code runs within my java IDE (IntelliJ)\r\n2.  Runing the code outside to check for errors | code runs fine everywhere else, just not on java.\r\n3.  Using different versions of the file path (both absolute and within the content root) | didn&#39;t work, the code added below uses absolute path. \r\n\r\n\r\n**Python script**\r\n\r\n```\r\nimport usbmonitor\r\nfrom usbmonitor.attributes import ID_MODEL, ID_MODEL_ID, ID_VENDOR_ID\r\n\r\n\r\nlookFor= &quot;USB\\\\VID_058F&amp;PID_9540\\\\5&amp;54725E2&amp;0&amp;2&quot;\r\ndef is_connected(lookFor):\r\n    # Create the USBMonitor instance\r\n    monitor = usbmonitor.USBMonitor()\r\n\r\n    # Get the current devices\r\n    devices_dict = monitor.get_available_devices()\r\n\r\n    # Check if the device is connected\r\n    for device_id, device_info in devices_dict.items():\r\n        if device_id.split(&#39;\\\\&#39;)[1] == lookFor.split(&#39;\\\\&#39;)[1]:\r\n            return True\r\n\r\n    return False\r\n\r\n\r\n# Look for the specific device\r\nif is_connected(&quot;USB\\\\VID_058F&amp;PID_9540\\\\5&amp;54725E2&amp;0&amp;2&quot;):\r\n    print(&quot;Found&quot;)\r\nelse:\r\n    print(&quot;Not Found&quot;)\r\n\r\n\r\nif __name__ == &quot;__main__&quot;:\r\n    print(&quot;hello world from python file at: src/java/findUSB.py&quot;)\r\n    print(is_connected(lookFor))\r\n\r\n# Path: src\\java\\findUSB.py\r\n```\r\n\r\n**Java Code**\r\n\r\n```\r\n          public boolean usbConnected() {\r\n\r\n        try {\r\n            String pythonScript = &quot;python3&quot;;  // Specify the Python interpreter to use (use &quot;python&quot; for Python 2)\r\n            String scriptPath = &quot;C:\\\\CS IA\\\\src\\\\java\\\\findUSB.py&quot;;  // Path to the Python script\r\n            ProcessBuilder processBuilder = new ProcessBuilder(pythonScript, scriptPath);\r\n            Process process = processBuilder.start();\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String line = null;\r\n\r\n\r\n            boolean isConnected = false;  // Initialize the boolean variable\r\n\r\n            while ((line = reader.readLine()) != null) {\r\n                // Process  output of  Python script and update the boolean variable\r\n                isConnected = Boolean.parseBoolean(line.trim());\r\n            }\r\n\r\n            int exitCode = process.waitFor();\r\n            System.out.println(&quot;Python script exited with code: &quot; + exitCode);\r\n\r\n            // Now you can use the &#39;isConnected&#39; variable to check the result\r\n            if (isConnected) {\r\n                System.out.println(&quot;The device is connected.&quot;);\r\n                return true;\r\n            } \r\n            else {\r\n                System.out.println(&quot;The device is not connected.&quot;);\r\n                return false;\r\n            }\r\n        } \r\n        catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n**information that might be useful:**\r\n\r\n*Absolute path of script*: C:\\CS IA\\src\\java\\findUSB.py\r\n*Root path*: src/java/findUSB.py\r\n*python version*: Python 3.11.4\r\n*Code Files*: https://drive.google.com/drive/folders/1wl5pSE24Bt6ToKm0Q-tNP-2F_05wlWPi?usp=sharing\r\n\r\n*Quick note: I know there&#39;s a simple way of doing this check using the dedicated java terminal package however I want to improve my python skills and therefore choose to use python*\r\n\r\n","link":"https://stackoverflow.com/questions/77545454/runing-python-script-in-java-return-python-exit-code-9009-couldnt-lunch-python","title":"Runing Python script in Java return python exit code 9009 (Couldn&#39;t lunch python)","body":"<p><strong>Problem&amp;&amp; what Im doing</strong>\nI have written a Python script that checks the ports of the computer in search for a specific reader using it's Windows hardware ID and returns True or False accordingly. problem is when I run the script in my Java environment using BufferedReader and InputStreamReader the python exists with code 9009.</p>\n<p>The python script was supposed to return a true or false value according to the state of the USB card reader connected to the computer. As mentioned the script works when its being run alone (both on IntelliJ, PyCharm and VS Code). When it tries to run on my java program it returns the following:</p>\n<p><em>Python script exited with code: 9009</em></p>\n<p><strong>Things I've tried:</strong></p>\n<ol>\n<li>checking the python interpreter/ version/ etc... | The code runs within my java IDE (IntelliJ)</li>\n<li>Runing the code outside to check for errors | code runs fine everywhere else, just not on java.</li>\n<li>Using different versions of the file path (both absolute and within the content root) | didn't work, the code added below uses absolute path.</li>\n</ol>\n<p><strong>Python script</strong></p>\n<pre><code>import usbmonitor\nfrom usbmonitor.attributes import ID_MODEL, ID_MODEL_ID, ID_VENDOR_ID\n\n\nlookFor= &quot;USB\\\\VID_058F&amp;PID_9540\\\\5&amp;54725E2&amp;0&amp;2&quot;\ndef is_connected(lookFor):\n    # Create the USBMonitor instance\n    monitor = usbmonitor.USBMonitor()\n\n    # Get the current devices\n    devices_dict = monitor.get_available_devices()\n\n    # Check if the device is connected\n    for device_id, device_info in devices_dict.items():\n        if device_id.split('\\\\')[1] == lookFor.split('\\\\')[1]:\n            return True\n\n    return False\n\n\n# Look for the specific device\nif is_connected(&quot;USB\\\\VID_058F&amp;PID_9540\\\\5&amp;54725E2&amp;0&amp;2&quot;):\n    print(&quot;Found&quot;)\nelse:\n    print(&quot;Not Found&quot;)\n\n\nif __name__ == &quot;__main__&quot;:\n    print(&quot;hello world from python file at: src/java/findUSB.py&quot;)\n    print(is_connected(lookFor))\n\n# Path: src\\java\\findUSB.py\n</code></pre>\n<p><strong>Java Code</strong></p>\n<pre><code>          public boolean usbConnected() {\n\n        try {\n            String pythonScript = &quot;python3&quot;;  // Specify the Python interpreter to use (use &quot;python&quot; for Python 2)\n            String scriptPath = &quot;C:\\\\CS IA\\\\src\\\\java\\\\findUSB.py&quot;;  // Path to the Python script\n            ProcessBuilder processBuilder = new ProcessBuilder(pythonScript, scriptPath);\n            Process process = processBuilder.start();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            String line = null;\n\n\n            boolean isConnected = false;  // Initialize the boolean variable\n\n            while ((line = reader.readLine()) != null) {\n                // Process  output of  Python script and update the boolean variable\n                isConnected = Boolean.parseBoolean(line.trim());\n            }\n\n            int exitCode = process.waitFor();\n            System.out.println(&quot;Python script exited with code: &quot; + exitCode);\n\n            // Now you can use the 'isConnected' variable to check the result\n            if (isConnected) {\n                System.out.println(&quot;The device is connected.&quot;);\n                return true;\n            } \n            else {\n                System.out.println(&quot;The device is not connected.&quot;);\n                return false;\n            }\n        } \n        catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n            return false;\n        }\n</code></pre>\n<p><strong>information that might be useful:</strong></p>\n<p><em>Absolute path of script</em>: C:\\CS IA\\src\\java\\findUSB.py\n<em>Root path</em>: src/java/findUSB.py\n<em>python version</em>: Python 3.11.4\n<em>Code Files</em>: <a href=\"https://drive.google.com/drive/folders/1wl5pSE24Bt6ToKm0Q-tNP-2F_05wlWPi?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/drive/folders/1wl5pSE24Bt6ToKm0Q-tNP-2F_05wlWPi?usp=sharing</a></p>\n<p><em>Quick note: I know there's a simple way of doing this check using the dedicated java terminal package however I want to improve my python skills and therefore choose to use python</em></p>\n"},{"tags":["java","android","sqlite","kotlin","android-room"],"comments":[{"score":0,"post_type":"question","creation_date":1700921469,"post_id":77547366,"comment_id":136712586,"body_markdown":"Well you obviously opened a different file in the second screenshot.","link":"https://stackoverflow.com/questions/77547366/my-application-cannot-see-my-table-list-is-returned-empty-in-kotlin-and-sqlite#comment136712586_77547366","body":"Well you obviously opened a different file in the second screenshot."},{"score":1,"post_type":"question","creation_date":1700921620,"post_id":77547366,"comment_id":136712602,"body_markdown":"Which file did you use in the second screenshot (SQLite Viewer)?","link":"https://stackoverflow.com/questions/77547366/my-application-cannot-see-my-table-list-is-returned-empty-in-kotlin-and-sqlite#comment136712602_77547366","body":"Which file did you use in the second screenshot (SQLite Viewer)?"},{"score":0,"post_type":"question","creation_date":1700981727,"post_id":77547366,"comment_id":136717051,"body_markdown":"it is same file which I used in my project.","link":"https://stackoverflow.com/questions/77547366/my-application-cannot-see-my-table-list-is-returned-empty-in-kotlin-and-sqlite#comment136717051_77547366","body":"it is same file which I used in my project."},{"score":0,"post_type":"question","creation_date":1700992818,"post_id":77547366,"comment_id":136717832,"body_markdown":"Yes but where does it come from. Did you pull it using ADB?","link":"https://stackoverflow.com/questions/77547366/my-application-cannot-see-my-table-list-is-returned-empty-in-kotlin-and-sqlite#comment136717832_77547366","body":"Yes but where does it come from. Did you pull it using ADB?"}],"comment_count":4,"is_answered":false,"view_count":44,"answer_count":0,"score":0,"last_activity_date":1700906821,"creation_date":1700905730,"last_edit_date":1700906821,"question_id":77547366,"body_markdown":"I have quiz application and I have created default 12 records for that app using sqlite. I can see my table when I execute Select query in Sqlite , but in my android app , list is coming empty. There is no problem in accessing database , code is correct since I can see my table . But problem is I can not access records. Viewmodel returns empty list. Using Inspector I can see that table exists but records are not as it is shown below in picture : [![enter image description here][1]][1]\r\n\r\n\r\nBut when I check my table from sqlite , I can see there is no any problem with records , they are inserted correctly . Here is query result in sqlite : [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2qtsT.png\r\n  [2]: https://i.stack.imgur.com/kCQEe.png\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nCode : \r\n\r\n\r\n    @Dao\r\n    interface QuizDao {\r\n    \r\n        @Query(&quot;SELECT * FROM quiz WHERE difficulty = :selectedDifficulty&quot;)\r\n        fun loadQuiz(selectedDifficulty : String) : List&lt;Quiz&gt;\r\n    }\r\n\r\n\r\nDatabase : \r\n\r\n    @Database(entities = [Quiz::class] , version = 1)\r\n    abstract class QuizDatabase : RoomDatabase(){\r\n        abstract fun getQuizDao() : QuizDao\r\n    }\r\n\r\n\r\nRepo : \r\n\r\n\r\n    class QuizRepository(var qdao: QuizDao) {\r\n         fun loadQuestions(difficulty: String): List&lt;Quiz&gt; = qdao.loadQuiz(difficulty)\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nViewmodel : \r\n\r\n    @HiltViewModel\r\n    class GameViewModel @Inject constructor(var quizRepository: QuizRepository) : ViewModel() {\r\n    \r\n        val quizList = MutableLiveData&lt;List&lt;Quiz&gt;&gt;()\r\n    \r\n    \r\n        init {\r\n            loadAllQuestion()\r\n        }\r\n    \r\n        private fun loadAllQuestion(){\r\n            CoroutineScope(Dispatchers.Main).launch {\r\n                quizList.value = quizRepository.loadQuestions(&quot;Easy&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nFragment : \r\n\r\n \r\n\r\n      viewModel.quizList.observe(viewLifecycleOwner) {\r\n                    if (it.isNotEmpty()){\r\n                    selectedQuestions = it.shuffled().take(10)\r\n                    displayCurrentQuestion()}\r\n                    else{\r\n                        Log.e(&quot;tag&quot;,&quot;Empty&quot;)\r\n                    }\r\n                }\r\n\r\n\r\nI get tag empty .\r\n","link":"https://stackoverflow.com/questions/77547366/my-application-cannot-see-my-table-list-is-returned-empty-in-kotlin-and-sqlite","title":"My application cannot see my table (list is returned empty) in Kotlin and Sqlite","body":"<p>I have quiz application and I have created default 12 records for that app using sqlite. I can see my table when I execute Select query in Sqlite , but in my android app , list is coming empty. There is no problem in accessing database , code is correct since I can see my table . But problem is I can not access records. Viewmodel returns empty list. Using Inspector I can see that table exists but records are not as it is shown below in picture : <a href=\"https://i.stack.imgur.com/2qtsT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2qtsT.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I check my table from sqlite , I can see there is no any problem with records , they are inserted correctly . Here is query result in sqlite : <a href=\"https://i.stack.imgur.com/kCQEe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kCQEe.png\" alt=\"enter image description here\" /></a></p>\n<p>Code :</p>\n<pre><code>@Dao\ninterface QuizDao {\n\n    @Query(&quot;SELECT * FROM quiz WHERE difficulty = :selectedDifficulty&quot;)\n    fun loadQuiz(selectedDifficulty : String) : List&lt;Quiz&gt;\n}\n</code></pre>\n<p>Database :</p>\n<pre><code>@Database(entities = [Quiz::class] , version = 1)\nabstract class QuizDatabase : RoomDatabase(){\n    abstract fun getQuizDao() : QuizDao\n}\n</code></pre>\n<p>Repo :</p>\n<pre><code>class QuizRepository(var qdao: QuizDao) {\n     fun loadQuestions(difficulty: String): List&lt;Quiz&gt; = qdao.loadQuiz(difficulty)\n}\n</code></pre>\n<p>Viewmodel :</p>\n<pre><code>@HiltViewModel\nclass GameViewModel @Inject constructor(var quizRepository: QuizRepository) : ViewModel() {\n\n    val quizList = MutableLiveData&lt;List&lt;Quiz&gt;&gt;()\n\n\n    init {\n        loadAllQuestion()\n    }\n\n    private fun loadAllQuestion(){\n        CoroutineScope(Dispatchers.Main).launch {\n            quizList.value = quizRepository.loadQuestions(&quot;Easy&quot;)\n        }\n    }\n}\n</code></pre>\n<p>Fragment :</p>\n<pre><code>  viewModel.quizList.observe(viewLifecycleOwner) {\n                if (it.isNotEmpty()){\n                selectedQuestions = it.shuffled().take(10)\n                displayCurrentQuestion()}\n                else{\n                    Log.e(&quot;tag&quot;,&quot;Empty&quot;)\n                }\n            }\n</code></pre>\n<p>I get tag empty .</p>\n"},{"tags":["java","javassist","javaagents","fastjson"],"comment_count":0,"is_answered":false,"view_count":25,"answer_count":0,"score":0,"last_activity_date":1700905547,"creation_date":1700905547,"question_id":77547355,"body_markdown":"In the Java-agent I implemented, after introducing the following dependencies:\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.83&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n &lt;/dependency&gt;\r\n```\r\nIt affects the normal serialization of the application, but not all, leading to some scenarios where the serialization result is `{&quot;empty&quot;:false}`.\r\n\r\nTo simplify and further pinpoint the issue:\r\n\r\n1.First, I commented out all the places in the agent where fastjson was originally used, and retried deploying with and without the agent. The aforementioned problem was reproduced, i.e., without adding this dependency, the business application is normal when the agent is started. Therefore, it can be confirmed that the problem is caused by introducing this dependency in the java-agent.\r\n\r\n2.For easy troubleshooting, I built a reproduction case and found that this problem occurs when serializing `ArraylistMultimap` objects. Below is a simple test case:：\r\n\r\n```\r\n        Person person = new Person();\r\n        List&lt;Student&gt; students = new ArrayList&lt;Student&gt;(){\r\n            {\r\n                add(new Student(&quot;Tom&quot;,11));\r\n                add(new Student(&quot;Lisa&quot;,11));\r\n                add(new Student(&quot;Tom&quot;,12));\r\n            }\r\n        };\r\n        person.setStudents(students);\r\n        var itemMap = person.getStudents().stream()\r\n                .collect(toMultimap(Student::getName, v -&gt; v, ArrayListMultimap::create));\r\n        Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\r\n        data.put(&quot;item&quot;,itemMap);\r\n\r\n        String jsonStr = JSON.toJSONString(data);\r\n```\r\nHere are the declarations of Person and Student:\r\n\r\n```\r\n@Data\r\n@Accessors(chain = true)\r\npublic class Person {\r\n    public List&lt;Student&gt; students;\r\n\r\n    @Data\r\n    @Accessors(chain = true)\r\n    @AllArgsConstructor\r\n    public static class Student {\r\n\r\n        private String name;\r\n\r\n        private Integer age;\r\n    }\r\n}\r\n```\r\nWhen the agent introduces the fast-json dependency,\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.83&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n &lt;/dependency&gt;\r\n```\r\nthe value of the above jsonStr is `{&quot;item&quot;:{&quot;empty&quot;:false}}`.\r\nIf this dependency is removed, the serialized value is as expected.\r\n`{&quot;item&quot;:{&quot;Lisa&quot;:[{&quot;age&quot;:11,&quot;name&quot;:&quot;Lisa&quot;}],&quot;Tom&quot;:[{&quot;age&quot;:11,&quot;name&quot;:&quot;Tom&quot;},{&quot;age&quot;:12,&quot;name&quot;:&quot;Tom&quot;}]}}`\r\n\r\nThe version of fast-json used in the business is also fastjson-1.2.83. \r\n\r\n3.I tried to debug and compare the two situations, but when the code enters the ASM part, the breakpoint information is no longer visible. When the breakpoint returns, the above result is obtained.\r\n\r\n4.My personal understanding is that it should be related to ClassLoader loading. I have customized the classLoader in the java-agent, but I did not change the action of the thread&#39;s context loader, nor did I make global configurations for fastjson.\r\n\r\nI would appreciate any suggestions or feedback. Tanks!!!\r\n\r\n","link":"https://stackoverflow.com/questions/77547355/including-fast-json-in-the-java-agent-has-affected-the-normal-serialization-proc","title":"Including fast-json in the Java agent has affected the normal serialization process of the application using fast-json","body":"<p>In the Java-agent I implemented, after introducing the following dependencies:</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n            &lt;version&gt;1.2.83&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>It affects the normal serialization of the application, but not all, leading to some scenarios where the serialization result is <code>{&quot;empty&quot;:false}</code>.</p>\n<p>To simplify and further pinpoint the issue:</p>\n<p>1.First, I commented out all the places in the agent where fastjson was originally used, and retried deploying with and without the agent. The aforementioned problem was reproduced, i.e., without adding this dependency, the business application is normal when the agent is started. Therefore, it can be confirmed that the problem is caused by introducing this dependency in the java-agent.</p>\n<p>2.For easy troubleshooting, I built a reproduction case and found that this problem occurs when serializing <code>ArraylistMultimap</code> objects. Below is a simple test case:：</p>\n<pre><code>        Person person = new Person();\n        List&lt;Student&gt; students = new ArrayList&lt;Student&gt;(){\n            {\n                add(new Student(&quot;Tom&quot;,11));\n                add(new Student(&quot;Lisa&quot;,11));\n                add(new Student(&quot;Tom&quot;,12));\n            }\n        };\n        person.setStudents(students);\n        var itemMap = person.getStudents().stream()\n                .collect(toMultimap(Student::getName, v -&gt; v, ArrayListMultimap::create));\n        Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\n        data.put(&quot;item&quot;,itemMap);\n\n        String jsonStr = JSON.toJSONString(data);\n</code></pre>\n<p>Here are the declarations of Person and Student:</p>\n<pre><code>@Data\n@Accessors(chain = true)\npublic class Person {\n    public List&lt;Student&gt; students;\n\n    @Data\n    @Accessors(chain = true)\n    @AllArgsConstructor\n    public static class Student {\n\n        private String name;\n\n        private Integer age;\n    }\n}\n</code></pre>\n<p>When the agent introduces the fast-json dependency,</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n            &lt;version&gt;1.2.83&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>the value of the above jsonStr is <code>{&quot;item&quot;:{&quot;empty&quot;:false}}</code>.\nIf this dependency is removed, the serialized value is as expected.\n<code>{&quot;item&quot;:{&quot;Lisa&quot;:[{&quot;age&quot;:11,&quot;name&quot;:&quot;Lisa&quot;}],&quot;Tom&quot;:[{&quot;age&quot;:11,&quot;name&quot;:&quot;Tom&quot;},{&quot;age&quot;:12,&quot;name&quot;:&quot;Tom&quot;}]}}</code></p>\n<p>The version of fast-json used in the business is also fastjson-1.2.83.</p>\n<p>3.I tried to debug and compare the two situations, but when the code enters the ASM part, the breakpoint information is no longer visible. When the breakpoint returns, the above result is obtained.</p>\n<p>4.My personal understanding is that it should be related to ClassLoader loading. I have customized the classLoader in the java-agent, but I did not change the action of the thread's context loader, nor did I make global configurations for fastjson.</p>\n<p>I would appreciate any suggestions or feedback. Tanks!!!</p>\n"},{"tags":["java","jpf"],"comments":[{"score":0,"post_type":"question","creation_date":1700911460,"post_id":77547321,"comment_id":136711740,"body_markdown":"*classpath=C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example* is not a valid classpath. `classpath=C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes` would be","link":"https://stackoverflow.com/questions/77547321/classpath-issue-while-using-jpfjava-path-finder#comment136711740_77547321","body":"<i>classpath=C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\tar&zwnj;&#8203;get\\classes\\org\\exam&zwnj;&#8203;ple</i> is not a valid classpath. <code>classpath=C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\tar&zwnj;&#8203;get\\classes</code> would be"}],"comment_count":1,"is_answered":false,"view_count":23,"answer_count":0,"score":-1,"last_activity_date":1700904673,"creation_date":1700904673,"question_id":77547321,"body_markdown":"I started working on JPF. Till now I have cloned the JPF from github repository and build the project also added site.properties file in jpf-core folder. I created another project in IntellijIdea using Maven for my code that need to test using JPF. I the class directory I have added .jpf file with target and classpath.\r\nWhen I tried to run .jpf file on cmd I am getting error.\r\n\r\nsite.properties file\r\n\r\n    jpf-core = $C:\\Users\\shish\\OneDrive\\Desktop\\jpf-core\r\n    extensions=${jpf-core}\r\n\r\n[![Screenshot of directory of jpf and class file][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0bouG.png\r\n\r\nHelloUniverse.jpf file content\r\n\r\n    target=HelloUniverse\r\n    classpath=C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example\r\n\r\nError I am getting while running .jpf on cmd\r\n\r\n&gt; C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example&gt;C:\\Users\\shish\\OneDrive\\Desktop\\jpf-core\\bin\\jpf.bat\r\n&gt; HelloUniverse.jpf\r\n&gt; \r\n&gt; C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example&gt;REM\r\n&gt; \r\n&gt; C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example&gt;REM\r\n&gt; overly simplified batch file to start JPF from a command prompt\r\n&gt; \r\n&gt; C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example&gt;REM\r\n&gt; [WARNING] unknown classpath element:\r\n&gt; \r\n&gt; C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example\\C;UsersshishOneDriveDesktopProjectCIS6614\r\n&gt; \r\n&gt; argetclassesorgexample [SEVERE] cannot load application class\r\n&gt; HelloUniverse\r\n&gt; C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example&gt;\r\n\r\nWhen I change the name as HelloWorld instead of HelloUniverse everywhere, it worked fine. Even after compiling again after rename I am gettinbg this above error.\r\nPlease let me know what I have done wrong.","link":"https://stackoverflow.com/questions/77547321/classpath-issue-while-using-jpfjava-path-finder","title":"Classpath issue while using JPF(Java Path Finder)","body":"<p>I started working on JPF. Till now I have cloned the JPF from github repository and build the project also added site.properties file in jpf-core folder. I created another project in IntellijIdea using Maven for my code that need to test using JPF. I the class directory I have added .jpf file with target and classpath.\nWhen I tried to run .jpf file on cmd I am getting error.</p>\n<p>site.properties file</p>\n<pre><code>jpf-core = $C:\\Users\\shish\\OneDrive\\Desktop\\jpf-core\nextensions=${jpf-core}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0bouG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0bouG.png\" alt=\"Screenshot of directory of jpf and class file\" /></a></p>\n<p>HelloUniverse.jpf file content</p>\n<pre><code>target=HelloUniverse\nclasspath=C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example\n</code></pre>\n<p>Error I am getting while running .jpf on cmd</p>\n<blockquote>\n<p>C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example&gt;C:\\Users\\shish\\OneDrive\\Desktop\\jpf-core\\bin\\jpf.bat\nHelloUniverse.jpf</p>\n<p>C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example&gt;REM</p>\n<p>C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example&gt;REM\noverly simplified batch file to start JPF from a command prompt</p>\n<p>C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example&gt;REM\n[WARNING] unknown classpath element:</p>\n<p>C:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example\\C;UsersshishOneDriveDesktopProjectCIS6614</p>\n<p>argetclassesorgexample [SEVERE] cannot load application class\nHelloUniverse\nC:\\Users\\shish\\OneDrive\\Desktop\\ProjectCIS6614\\target\\classes\\org\\example&gt;</p>\n</blockquote>\n<p>When I change the name as HelloWorld instead of HelloUniverse everywhere, it worked fine. Even after compiling again after rename I am gettinbg this above error.\nPlease let me know what I have done wrong.</p>\n"},{"tags":["java","testng","testng.xml","testng-annotation-test"],"comments":[{"score":0,"post_type":"question","creation_date":1701402686,"post_id":77547294,"comment_id":136774066,"body_markdown":"Can you please upload your sample project to github and share the link here? That way its easier to execute the code and see what is happening. I don&#39;t think TestNG honours classes from multiple modules. TestNG will be executed by the build tool (Gradle or Maven) for each of the modules. But I would like to see the sample project to confirm this theory","link":"https://stackoverflow.com/questions/77547294/testng-xml-not-taking-effect-when-running-from-command-line#comment136774066_77547294","body":"Can you please upload your sample project to github and share the link here? That way its easier to execute the code and see what is happening. I don&#39;t think TestNG honours classes from multiple modules. TestNG will be executed by the build tool (Gradle or Maven) for each of the modules. But I would like to see the sample project to confirm this theory"}],"comment_count":1,"is_answered":false,"view_count":24,"answer_count":0,"score":-1,"last_activity_date":1700904090,"creation_date":1700904090,"question_id":77547294,"body_markdown":"I have a simple java project which has 3 modules. In my testng.xml I have added packages of some of those modules as I want them to run along with my build. The first 2 modules contain tests and 3rd module contains a class that is supposed to contain the beforesuite method. The xml is as follows.\r\n\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Module1Cases&quot; verbose=&quot;2&quot; parallel=&quot;false&quot; thread-count=&quot;1&quot;&gt;\r\n        &lt;test name=&quot;SomeName&quot; parallel=&quot;false&quot;&gt;\r\n            &lt;packages&gt;\r\n                &lt;package name=&quot;com.module1.test&quot;/&gt;\r\n                &lt;package name=&quot;com.module2.test&quot;/&gt;\r\n                &lt;package name=&quot;com.module3.test&quot;/&gt;\r\n            &lt;/packages&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nWhen I run the xml from IDE, it takes effect properly(beforesuite method runs). However, when I run the build from the command line, I notice that testng.xml is not taking effect i.e. the beforesuite method does not run. Another such example, is when I comment the 3rd package in xml, in IDE the test cases from those modules do not run, but it still runs from the command line. Following is my root build.gradle file.\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;org.example&#39;\r\n    version = &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    subprojects {\r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;jacoco&#39;\r\n        jacoco {\r\n            toolVersion = &quot;0.8.5&quot;\r\n            reportsDir = file(&quot;$buildDir/reports/jacoco&quot;)\r\n        }\r\n    \r\n        jacocoTestReport {\r\n            def coverageSourceDirs = [&#39;src/main/java/&#39;]\r\n            reports {\r\n                xml.enabled false\r\n                csv.enabled false\r\n                html.enabled true\r\n            }\r\n        }\r\n    \r\n    \r\n        // Define common configurations or dependencies for all subprojects if needed\r\n    \r\n        group = &#39;com.example&#39;  // Set the group for all subprojects\r\n        version = &#39;1.0&#39;        // Set the version for all subprojects\r\n    \r\n        test {\r\n            testLogging.showStandardStreams = true\r\n            testLogging.exceptionFormat = &#39;full&#39;\r\n            testLogging {\r\n                events &quot;standardOut&quot;, &quot;started&quot;, &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n            }\r\n            useTestNG(){\r\n                def testNgXmlFile = file(&#39;../testng.xml&#39;).absolutePath\r\n                println &quot;Using TestNG XML file: $testNgXmlFile&quot;\r\n                suites testNgXmlFile\r\n            }\r\n            finalizedBy jacocoTestReport\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation &#39;org.testng:testng:7.4.0&#39; // TestNG dependency\r\n    }\r\n\r\nWhile running the build from command line, I am also printing the resolved path of testng xml and that is correct.\r\n\r\n    Using TestNG XML file: C:\\CODE\\testng1\\testng.xml\r\n    Using TestNG XML file: C:\\CODE\\testng1\\testng.xml\r\n    Using TestNG XML file: C:\\CODE\\testng1\\testng.xml\r\n\r\nPlease let me know what I am missing here.","link":"https://stackoverflow.com/questions/77547294/testng-xml-not-taking-effect-when-running-from-command-line","title":"Testng XML not taking effect when running from command line?","body":"<p>I have a simple java project which has 3 modules. In my testng.xml I have added packages of some of those modules as I want them to run along with my build. The first 2 modules contain tests and 3rd module contains a class that is supposed to contain the beforesuite method. The xml is as follows.</p>\n<pre><code>&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Module1Cases&quot; verbose=&quot;2&quot; parallel=&quot;false&quot; thread-count=&quot;1&quot;&gt;\n    &lt;test name=&quot;SomeName&quot; parallel=&quot;false&quot;&gt;\n        &lt;packages&gt;\n            &lt;package name=&quot;com.module1.test&quot;/&gt;\n            &lt;package name=&quot;com.module2.test&quot;/&gt;\n            &lt;package name=&quot;com.module3.test&quot;/&gt;\n        &lt;/packages&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>When I run the xml from IDE, it takes effect properly(beforesuite method runs). However, when I run the build from the command line, I notice that testng.xml is not taking effect i.e. the beforesuite method does not run. Another such example, is when I comment the 3rd package in xml, in IDE the test cases from those modules do not run, but it still runs from the command line. Following is my root build.gradle file.</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup = 'org.example'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\nsubprojects {\n    apply plugin: 'java'\n    apply plugin: 'jacoco'\n    jacoco {\n        toolVersion = &quot;0.8.5&quot;\n        reportsDir = file(&quot;$buildDir/reports/jacoco&quot;)\n    }\n\n    jacocoTestReport {\n        def coverageSourceDirs = ['src/main/java/']\n        reports {\n            xml.enabled false\n            csv.enabled false\n            html.enabled true\n        }\n    }\n\n\n    // Define common configurations or dependencies for all subprojects if needed\n\n    group = 'com.example'  // Set the group for all subprojects\n    version = '1.0'        // Set the version for all subprojects\n\n    test {\n        testLogging.showStandardStreams = true\n        testLogging.exceptionFormat = 'full'\n        testLogging {\n            events &quot;standardOut&quot;, &quot;started&quot;, &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n        }\n        useTestNG(){\n            def testNgXmlFile = file('../testng.xml').absolutePath\n            println &quot;Using TestNG XML file: $testNgXmlFile&quot;\n            suites testNgXmlFile\n        }\n        finalizedBy jacocoTestReport\n    }\n}\n\ndependencies {\n    testImplementation 'org.testng:testng:7.4.0' // TestNG dependency\n}\n</code></pre>\n<p>While running the build from command line, I am also printing the resolved path of testng xml and that is correct.</p>\n<pre><code>Using TestNG XML file: C:\\CODE\\testng1\\testng.xml\nUsing TestNG XML file: C:\\CODE\\testng1\\testng.xml\nUsing TestNG XML file: C:\\CODE\\testng1\\testng.xml\n</code></pre>\n<p>Please let me know what I am missing here.</p>\n"},{"tags":["java","udp","udpclient"],"comments":[{"score":0,"post_type":"question","creation_date":1700911841,"post_id":77547277,"comment_id":136711764,"body_markdown":"I would encourage you to try the concept with known working network tools first. For one thing, your network might not allow multicast","link":"https://stackoverflow.com/questions/77547277/connect-to-a-multicast-address-in-java#comment136711764_77547277","body":"I would encourage you to try the concept with known working network tools first. For one thing, your network might not allow multicast"},{"score":0,"post_type":"question","creation_date":1700929204,"post_id":77547277,"comment_id":136713304,"body_markdown":"Why are you using a reserved multicast address? Try another.","link":"https://stackoverflow.com/questions/77547277/connect-to-a-multicast-address-in-java#comment136713304_77547277","body":"Why are you using a reserved multicast address? Try another."}],"comment_count":2,"is_answered":false,"view_count":18,"answer_count":0,"score":-1,"last_activity_date":1700903837,"creation_date":1700903837,"question_id":77547277,"body_markdown":"I was trying to make a connection between two computers on the same network using UDP protcole.\r\n\r\nThe multicast is working with 2 terminals in the same computer but I can&#39;t access it from another computer in the same network .\r\n\r\nI sent the code to my friend which was sitting next to me , and he didn&#39;t receive the message from the multicast server. \r\n\r\nMy instructor told me that there is some trick to do for that kind of addresses (Multicast reserved ones) to be able to use it via another pc .\r\n\r\nThis is some of the code I&#39;m using but I&#39;m sure it&#39;s doing the job .\r\nIs there something to do in my machine or some lines of code to add ? \r\n\r\n    private static final String MULTICAST_ADDRESS = &quot;239.255.255.254&quot;;\r\n    private static final int MULTICAST_PORT = 9877;\r\n\r\n     // Multicast setup\r\n    multicastSocket = new MulticastSocket(MULTICAST_PORT);\r\n    InetAddress multicastGroup = InetAddress.getByName(MULTICAST_ADDRESS);\r\n    multicastSocket.joinGroup(multicastGroup);\r\n\r\n\r\n        private void sendMessage(String message) {\r\n        try {\r\n            // Unicast message to the selected user\r\n            int selectedIndex = connectedUsersList.getSelectedIndex();\r\n            if (selectedIndex != -1) {\r\n                String selectedUser = connectedUsersModel.getElementAt(selectedIndex);\r\n                String[] userInfo = selectedUser.split(&quot;:&quot;);\r\n                InetAddress selectedUserAddress = InetAddress.getByName(userInfo[0]);\r\n                int selectedUserPort = Integer.parseInt(userInfo[1]);\r\n\r\n                byte[] buffer = message.getBytes();\r\n                DatagramPacket packet = new DatagramPacket(buffer, buffer.length,\r\n                        selectedUserAddress, selectedUserPort);\r\n                socket.send(packet);\r\n\r\n                // Write the message in the box\r\n                appendMessage(message);\r\n            } else {\r\n                // Multicast message to the group\r\n                byte[] buffer = message.getBytes();\r\n                DatagramPacket packet = new DatagramPacket(buffer, buffer.length,\r\n                        serverAddress, SERVER_PORT);\r\n                socket.send(packet);\r\n\r\n                // Write the message in the box\r\n                appendMessage(message);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n   \r\n\r\n     private void receiveMulticastMessages() {\r\n        try {\r\n            byte[] receiveBuffer = new byte[1024];\r\n            while (true) {\r\n                DatagramPacket receivePacket = new DatagramPacket(receiveBuffer, receiveBuffer.length);\r\n                multicastSocket.receive(receivePacket);\r\n                String receivedMessage = new String(receivePacket.getData(), 0, receivePacket.getLength());\r\n                appendMessage(receivedMessage);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","link":"https://stackoverflow.com/questions/77547277/connect-to-a-multicast-address-in-java","title":"Connect to a Multicast Address in Java","body":"<p>I was trying to make a connection between two computers on the same network using UDP protcole.</p>\n<p>The multicast is working with 2 terminals in the same computer but I can't access it from another computer in the same network .</p>\n<p>I sent the code to my friend which was sitting next to me , and he didn't receive the message from the multicast server.</p>\n<p>My instructor told me that there is some trick to do for that kind of addresses (Multicast reserved ones) to be able to use it via another pc .</p>\n<p>This is some of the code I'm using but I'm sure it's doing the job .\nIs there something to do in my machine or some lines of code to add ?</p>\n<pre><code>private static final String MULTICAST_ADDRESS = &quot;239.255.255.254&quot;;\nprivate static final int MULTICAST_PORT = 9877;\n\n // Multicast setup\nmulticastSocket = new MulticastSocket(MULTICAST_PORT);\nInetAddress multicastGroup = InetAddress.getByName(MULTICAST_ADDRESS);\nmulticastSocket.joinGroup(multicastGroup);\n\n\n    private void sendMessage(String message) {\n    try {\n        // Unicast message to the selected user\n        int selectedIndex = connectedUsersList.getSelectedIndex();\n        if (selectedIndex != -1) {\n            String selectedUser = connectedUsersModel.getElementAt(selectedIndex);\n            String[] userInfo = selectedUser.split(&quot;:&quot;);\n            InetAddress selectedUserAddress = InetAddress.getByName(userInfo[0]);\n            int selectedUserPort = Integer.parseInt(userInfo[1]);\n\n            byte[] buffer = message.getBytes();\n            DatagramPacket packet = new DatagramPacket(buffer, buffer.length,\n                    selectedUserAddress, selectedUserPort);\n            socket.send(packet);\n\n            // Write the message in the box\n            appendMessage(message);\n        } else {\n            // Multicast message to the group\n            byte[] buffer = message.getBytes();\n            DatagramPacket packet = new DatagramPacket(buffer, buffer.length,\n                    serverAddress, SERVER_PORT);\n            socket.send(packet);\n\n            // Write the message in the box\n            appendMessage(message);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n\n\n private void receiveMulticastMessages() {\n    try {\n        byte[] receiveBuffer = new byte[1024];\n        while (true) {\n            DatagramPacket receivePacket = new DatagramPacket(receiveBuffer, receiveBuffer.length);\n            multicastSocket.receive(receivePacket);\n            String receivedMessage = new String(receivePacket.getData(), 0, receivePacket.getLength());\n            appendMessage(receivedMessage);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-service","alarmmanager"],"comments":[{"score":0,"post_type":"question","creation_date":1700339755,"post_id":77508484,"comment_id":136643386,"body_markdown":"Sorry I didn&#39;t read the whole thing, but only top few lines and I have a question - why you are starting a foreground service ? if you are using alarm try to move the code from service to an alarm receiver, or just use WorkManager for periodic work","link":"https://stackoverflow.com/questions/77508484/foreground-service-scheduling-issue-alarmmanager-fails-to-start-foreground-serv#comment136643386_77508484","body":"Sorry I didn&#39;t read the whole thing, but only top few lines and I have a question - why you are starting a foreground service ? if you are using alarm try to move the code from service to an alarm receiver, or just use WorkManager for periodic work"},{"score":0,"post_type":"question","creation_date":1700393570,"post_id":77508484,"comment_id":136646743,"body_markdown":"the app is all about that foreground service and we need a way to schedule that service for a range of time, even when the app is not in the background.\nis there any other way to schedule a foreground service for like 2 AM to 4 AM (example time) ?","link":"https://stackoverflow.com/questions/77508484/foreground-service-scheduling-issue-alarmmanager-fails-to-start-foreground-serv#comment136646743_77508484","body":"the app is all about that foreground service and we need a way to schedule that service for a range of time, even when the app is not in the background. is there any other way to schedule a foreground service for like 2 AM to 4 AM (example time) ?"},{"score":0,"post_type":"question","creation_date":1700572249,"post_id":77508484,"comment_id":136668949,"body_markdown":"Have you tried using an exact alarm instead of an inexact alarm? [The documentation specifically calls that out as an exemption from the background start restriction](https://developer.android.com/guide/components/foreground-services?hl=en#background-start-restriction-exemptions).","link":"https://stackoverflow.com/questions/77508484/foreground-service-scheduling-issue-alarmmanager-fails-to-start-foreground-serv#comment136668949_77508484","body":"Have you tried using an exact alarm instead of an inexact alarm? <a href=\"https://developer.android.com/guide/components/foreground-services?hl=en#background-start-restriction-exemptions\" rel=\"nofollow noreferrer\">The documentation specifically calls that out as an exemption from the background start restriction</a>."},{"score":0,"post_type":"question","creation_date":1701063483,"post_id":77508484,"comment_id":136723965,"body_markdown":"@CommonsWare, Tried Schedule_exact_alarm, works well on some devices, initiates foreground service even when the app isn&#39;t in the background. However, not functioning on my physical device vivo1915 (API 31).","link":"https://stackoverflow.com/questions/77508484/foreground-service-scheduling-issue-alarmmanager-fails-to-start-foreground-serv#comment136723965_77508484","body":"@CommonsWare, Tried Schedule_exact_alarm, works well on some devices, initiates foreground service even when the app isn&#39;t in the background. However, not functioning on my physical device vivo1915 (API 31)."}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1700570402,"creation_date":1700570402,"answer_id":77522894,"question_id":77508484,"body_markdown":"Your implementation of `AlarmManager` to schedule a foreground service is experiencing issues when the app is not actively running in the background. That is a common challenge in Android development due to various system restrictions, especially on newer Android versions.\r\n\r\nYou have:\r\n\r\n```bash\r\n+---------------------+      +---------------------------+      +---------------------------+\r\n| SettingActivity     |      | TimeBasedScheduler        |      | SocketManagerService      |\r\n| - setupForeground-  |      | - onReceive()             |      | - Foregrnd Service Logic  |\r\n|   ServiceAlarms()   |-----&gt;|   * START_SERVICE Action  |-----&gt;|                           |\r\n|                     |      |   * STOP_SERVICE Action   |      |                           |\r\n+---------------------+      +---------------------------+      +---------------------------+\r\n        |                                  |                            |\r\n        | Sets Alarms                      | Starts/Stops Foreground    |\r\n        | for START/STOP                   | Service based on           |\r\n        |                                  | received action            |\r\n        +----------------------------------+----------------------------+\r\n```\r\n\r\nI read in [Android / Background Work Overview](https://developer.android.com/guide/background)\r\n\r\n&gt; Alarms are a special use case that are not a part of background work. You should execute background work through the two solutions outlined above, coroutines and [`WorkManager`](https://developer.android.com/guide/background/persistent/configuration/custom-configuration).\r\n&gt;\r\n&gt; You should only use `AlarmManager` only for scheduling exact alarms such as alarm clocks or calendar events. When using `AlarmManager` to schedule background work, it wakes the device from Doze mode and its use can therefore have a negative impact on battery life and overall system health. Your app is responsible for such impacts.\r\n\r\nSee also &quot;[`WorkManager` vs `AlarmManager`, what to use depending on the case?](https://stackoverflow.com/q/56074384/6309)&quot;.\r\n\r\n\r\nSince [`WorkManager`](https://developer.android.com/topic/libraries/architecture/workmanager) is designed to be compatible with Doze mode and App Standby limitations, you could use [`OneTimeWorkRequest`](https://developer.android.com/reference/androidx/work/OneTimeWorkRequest) with [`setInitialDelay`](https://developer.android.com/reference/androidx/work/WorkRequest.Builder#setInitialDelay(java.time.Duration)) for scheduling.\r\n\r\n```java\r\npublic class TimeBasedScheduler extends Worker {\r\n\r\n    public TimeBasedScheduler(@NonNull Context context, @NonNull WorkerParameters workerParams) {\r\n        super(context, workerParams);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Result doWork() {\r\n        // Your service logic here\r\n        return Result.success();\r\n    }\r\n}\r\n```\r\n\r\nAnd to schedule this in your `SettingActivity`:\r\n\r\n```java\r\nprivate void scheduleWork() {\r\n    // Define constraints like network type, charging status, etc.\r\n    Constraints constraints = new Constraints.Builder()\r\n            .build();\r\n\r\n    // Schedule your work\r\n    OneTimeWorkRequest workRequest = new OneTimeWorkRequest.Builder(TimeBasedScheduler.class)\r\n            .setInitialDelay(1, TimeUnit.HOURS) // Set the delay as per your requirement\r\n            .setConstraints(constraints)\r\n            .build();\r\n\r\n    WorkManager.getInstance(this).enqueue(workRequest);\r\n}\r\n```\r\n\r\nNote: for API level 21 and above, [`JobScheduler`](https://developer.android.com/reference/android/app/job/JobScheduler) is an effective way to schedule jobs. Jobs can be set to persist across reboots and respect device idle states.","link":"https://stackoverflow.com/questions/77508484/foreground-service-scheduling-issue-alarmmanager-fails-to-start-foreground-serv/77522894#77522894","title":"Foreground Service Scheduling Issue: AlarmManager Fails to start Foreground Service When App is Not in the Background","body":"<p>Your implementation of <code>AlarmManager</code> to schedule a foreground service is experiencing issues when the app is not actively running in the background. That is a common challenge in Android development due to various system restrictions, especially on newer Android versions.</p>\n<p>You have:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>+---------------------+      +---------------------------+      +---------------------------+\n| SettingActivity     |      | TimeBasedScheduler        |      | SocketManagerService      |\n| - setupForeground-  |      | - onReceive()             |      | - Foregrnd Service Logic  |\n|   ServiceAlarms()   |-----&gt;|   * START_SERVICE Action  |-----&gt;|                           |\n|                     |      |   * STOP_SERVICE Action   |      |                           |\n+---------------------+      +---------------------------+      +---------------------------+\n        |                                  |                            |\n        | Sets Alarms                      | Starts/Stops Foreground    |\n        | for START/STOP                   | Service based on           |\n        |                                  | received action            |\n        +----------------------------------+----------------------------+\n</code></pre>\n<p>I read in <a href=\"https://developer.android.com/guide/background\" rel=\"nofollow noreferrer\">Android / Background Work Overview</a></p>\n<blockquote>\n<p>Alarms are a special use case that are not a part of background work. You should execute background work through the two solutions outlined above, coroutines and <a href=\"https://developer.android.com/guide/background/persistent/configuration/custom-configuration\" rel=\"nofollow noreferrer\"><code>WorkManager</code></a>.</p>\n<p>You should only use <code>AlarmManager</code> only for scheduling exact alarms such as alarm clocks or calendar events. When using <code>AlarmManager</code> to schedule background work, it wakes the device from Doze mode and its use can therefore have a negative impact on battery life and overall system health. Your app is responsible for such impacts.</p>\n</blockquote>\n<p>See also &quot;<a href=\"https://stackoverflow.com/q/56074384/6309\"><code>WorkManager</code> vs <code>AlarmManager</code>, what to use depending on the case?</a>&quot;.</p>\n<p>Since <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\"><code>WorkManager</code></a> is designed to be compatible with Doze mode and App Standby limitations, you could use <a href=\"https://developer.android.com/reference/androidx/work/OneTimeWorkRequest\" rel=\"nofollow noreferrer\"><code>OneTimeWorkRequest</code></a> with <a href=\"https://developer.android.com/reference/androidx/work/WorkRequest.Builder#setInitialDelay(java.time.Duration)\" rel=\"nofollow noreferrer\"><code>setInitialDelay</code></a> for scheduling.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TimeBasedScheduler extends Worker {\n\n    public TimeBasedScheduler(@NonNull Context context, @NonNull WorkerParameters workerParams) {\n        super(context, workerParams);\n    }\n\n    @NonNull\n    @Override\n    public Result doWork() {\n        // Your service logic here\n        return Result.success();\n    }\n}\n</code></pre>\n<p>And to schedule this in your <code>SettingActivity</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void scheduleWork() {\n    // Define constraints like network type, charging status, etc.\n    Constraints constraints = new Constraints.Builder()\n            .build();\n\n    // Schedule your work\n    OneTimeWorkRequest workRequest = new OneTimeWorkRequest.Builder(TimeBasedScheduler.class)\n            .setInitialDelay(1, TimeUnit.HOURS) // Set the delay as per your requirement\n            .setConstraints(constraints)\n            .build();\n\n    WorkManager.getInstance(this).enqueue(workRequest);\n}\n</code></pre>\n<p>Note: for API level 21 and above, <a href=\"https://developer.android.com/reference/android/app/job/JobScheduler\" rel=\"nofollow noreferrer\"><code>JobScheduler</code></a> is an effective way to schedule jobs. Jobs can be set to persist across reboots and respect device idle states.</p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1701063573,"post_id":77547227,"comment_id":136723974,"body_markdown":"Great Solution, will try this,\n@Ehsan how will workManager help me to schedule foreground service for specific times of the day?","link":"https://stackoverflow.com/questions/77508484/foreground-service-scheduling-issue-alarmmanager-fails-to-start-foreground-serv/77547227#comment136723974_77547227","body":"Great Solution, will try this, @Ehsan how will workManager help me to schedule foreground service for specific times of the day?"}],"comment_count":1,"score":1,"last_activity_date":1700902753,"creation_date":1700902753,"answer_id":77547227,"question_id":77508484,"body_markdown":"    try\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n        alarmManager.setExactAndAllowWhileIdle(\r\n            AlarmManager.RTC_WAKEUP,\r\n            startCalendar.timeInMillis,\r\n            startPendingIntent\r\n        )\r\n    \r\n        alarmManager.setExactAndAllowWhileIdle(\r\n            AlarmManager.RTC_WAKEUP,\r\n            endCalendar.timeInMillis,\r\n            endPendingIntent\r\n        )\r\n    } else {\r\n        // For versions below M, use setExact\r\n        alarmManager.setExact(\r\n            AlarmManager.RTC_WAKEUP,\r\n            startCalendar.timeInMillis,\r\n            startPendingIntent\r\n        )\r\n    \r\n        alarmManager.setExact(\r\n            AlarmManager.RTC_WAKEUP,\r\n            endCalendar.timeInMillis,\r\n            endPendingIntent\r\n        )\r\n    }\r\n\r\n\r\nand use alarm manager with workmanager for intervals lower than 15 min for greater than 15 min use just workmanager and set your interval and start foreground service\r\n\r\n","link":"https://stackoverflow.com/questions/77508484/foreground-service-scheduling-issue-alarmmanager-fails-to-start-foreground-serv/77547227#77547227","title":"Foreground Service Scheduling Issue: AlarmManager Fails to start Foreground Service When App is Not in the Background","body":"<pre><code>try\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n    alarmManager.setExactAndAllowWhileIdle(\n        AlarmManager.RTC_WAKEUP,\n        startCalendar.timeInMillis,\n        startPendingIntent\n    )\n\n    alarmManager.setExactAndAllowWhileIdle(\n        AlarmManager.RTC_WAKEUP,\n        endCalendar.timeInMillis,\n        endPendingIntent\n    )\n} else {\n    // For versions below M, use setExact\n    alarmManager.setExact(\n        AlarmManager.RTC_WAKEUP,\n        startCalendar.timeInMillis,\n        startPendingIntent\n    )\n\n    alarmManager.setExact(\n        AlarmManager.RTC_WAKEUP,\n        endCalendar.timeInMillis,\n        endPendingIntent\n    )\n}\n</code></pre>\n<p>and use alarm manager with workmanager for intervals lower than 15 min for greater than 15 min use just workmanager and set your interval and start foreground service</p>\n"}],"comment_count":4,"is_answered":true,"view_count":162,"answer_count":2,"score":3,"last_activity_date":1700902753,"creation_date":1700337085,"last_edit_date":1700568935,"question_id":77508484,"body_markdown":"I&#39;m encountering an issue with scheduling a foreground service using AlarmManager in my Android application. Despite setting up the code to trigger a foreground service at specific times using alarms, the alarms are unable to start foreground Service when the app is not in the background\r\n(it works fine when the app is in the foreground or in the background).\r\n\r\nI have a requirement in my app to execute a foreground service at a specific time range of the day. To achieve this, I&#39;m using AlarmManager to schedule the service to start and stop at the desired intervals.\r\n\r\n**and what are the different ways other than alarmManager, to schedule a foreground service**.\r\n\r\nTimeBasedScheduler Class:\r\n\r\n```\r\nclass TimeBasedScheduler : BroadcastReceiver() {\r\n    private val TAG = &quot;TimeBasedScheduler&quot;\r\n\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        val action = intent.action\r\n        Log.d(TAG, &quot;Received action: $action&quot;)\r\n\r\n        if (action != null) {\r\n            when (action) {\r\n                &quot;START_SERVICE&quot; -&gt; {\r\n                    Log.d(TAG, &quot;Initializing socket for START_SERVICE&quot;)\r\n                    initializeSocket(context)\r\n                    // Now execution is started and resumed\r\n                    LocalPrefrenceUtils.insertDataInBoolean(context, AppConstants.BACKGROUND_WORK_ALLOWED_KEY_FOR_LOCAL_PREFERENCE, true)\r\n                    LocalPrefrenceUtils.insertDataInBoolean(context, AppConstants.BACKGROUND_WORK_TEMPORARILY_PAUSED_KEY_FOR_LOCAL_PREFERENCE, false\r\n                    )\r\n                }\r\n                &quot;STOP_SERVICE&quot; -&gt; {\r\n                    Log.d(TAG, &quot;Stopping service for STOP_SERVICE&quot;)\r\n                    LocalPrefrenceUtils.insertDataInBoolean(\r\n                        context,\r\n                        AppConstants.BACKGROUND_WORK_TEMPORARILY_PAUSED_KEY_FOR_LOCAL_PREFERENCE,\r\n                        true\r\n                    )\r\n                    val stopIntent = Intent(context, SocketManagerService::class.java)\r\n                    context.stopService(stopIntent)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun initializeSocket(context: Context?) {\r\n        Log.d(TAG, &quot;Initializing socket&quot;)\r\n            val intent = Intent(context, SocketManagerService::class.java)\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                Log.d(TAG, &quot;Starting foreground service&quot;)\r\n                context?.startForegroundService(intent)\r\n            } else {\r\n                Log.d(TAG, &quot;Starting service&quot;)\r\n                context?.startService(intent)\r\n            }\r\n\r\n    }\r\n}\r\n```\r\n\r\nSettingActivity Class:\r\n\r\n```\r\nprivate fun setupForegroundServiceAlarms() {\r\n        val TAG = &quot;TaskBasedScheduler&quot;\r\n        // Get the start and end times from preferences\r\n        val startTime = LocalPrefrenceUtils.getStartTime(this)\r\n        val endTime = LocalPrefrenceUtils.getEndTime(this)\r\n\r\n        Log.d(TAG, &quot;Start Time: $startTime&quot;)\r\n        Log.d(TAG, &quot;End Time: $endTime&quot;)\r\n\r\n        // Calculate start and end times based on step sizes and special cases for value 48\r\n        val startHour = 7 // Starting hour (7:00 am)\r\n        val stepSizeMinutes = 30 // Step size in minutes\r\n\r\n        val startHourForAlarms = startHour + (stepSizeMinutes * startTime) / 60\r\n        val endHourForAlarms = if (endTime == 48) startHour + (stepSizeMinutes * endTime) / 60 - 1 else startHour + (stepSizeMinutes * endTime) / 60\r\n\r\n        val startMinute = (stepSizeMinutes * startTime) % 60\r\n        val endMinute = if (endTime == 48) ((stepSizeMinutes * endTime) % 60) - 1 else ((stepSizeMinutes * endTime) % 60)\r\n\r\n        // Set the Calendar instances for start and end times\r\n        val startCalendar = Calendar.getInstance().apply {\r\n            timeInMillis = System.currentTimeMillis()\r\n            set(Calendar.HOUR_OF_DAY, startHourForAlarms)\r\n            set(Calendar.MINUTE, startMinute)\r\n            set(Calendar.SECOND, 0)\r\n        }\r\n\r\n        val endCalendar = Calendar.getInstance().apply {\r\n            timeInMillis = System.currentTimeMillis()\r\n            set(Calendar.HOUR_OF_DAY, endHourForAlarms)\r\n            set(Calendar.MINUTE, endMinute)\r\n            set(Calendar.SECOND, 0)\r\n        }\r\n\r\n        Log.d(TAG, &quot;Start Calendar Time: ${startCalendar.time}&quot;)\r\n        Log.d(TAG, &quot;End Calendar Time: ${endCalendar.time}&quot;)\r\n\r\n        // Cancel previously set alarms\r\n        alarmManager.cancel(startPendingIntent)\r\n        alarmManager.cancel(endPendingIntent)\r\n\r\n        Log.d(TAG, &quot;Canceled previous alarms&quot;)\r\n\r\n        // Create intents for starting and stopping the service\r\n        val startIntent = Intent(this, TimeBasedScheduler::class.java).apply {\r\n            action = &quot;START_SERVICE&quot;\r\n        }\r\n        val endIntent = Intent(this, TimeBasedScheduler::class.java).apply {\r\n            action = &quot;STOP_SERVICE&quot;\r\n        }\r\n\r\n        // Create pending intents for start and end actions\r\n        startPendingIntent = PendingIntent.getBroadcast(this, 0, startIntent, PendingIntent.FLAG_IMMUTABLE)\r\n        endPendingIntent = PendingIntent.getBroadcast(this, 1, endIntent, PendingIntent.FLAG_IMMUTABLE)\r\n\r\n        Log.d(TAG, &quot;Created pending intents&quot;)\r\n\r\n        // Set alarms using AlarmManager for daily repetition\r\n        alarmManager.setInexactRepeating(\r\n            AlarmManager.RTC_WAKEUP,\r\n            startCalendar.timeInMillis,\r\n            AlarmManager.INTERVAL_DAY,\r\n            startPendingIntent\r\n        )\r\n\r\n        alarmManager.setInexactRepeating(\r\n            AlarmManager.RTC_WAKEUP,\r\n            endCalendar.timeInMillis,\r\n            AlarmManager.INTERVAL_DAY,\r\n            endPendingIntent\r\n        )\r\n\r\n        Log.d(TAG, &quot;Alarms set for start: ${startCalendar.time}, end: ${endCalendar.time}&quot;)\r\n    }\r\n\r\n```\r\n\r\nand manifest related code:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\r\n\r\n&lt;receiver android:name=&quot;.schedulers.TimeBasedScheduler&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;START_SERVICE&quot; /&gt;\r\n                &lt;action android:name=&quot;STOP_SERVICE&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n```\r\n**works perfectly fine when the app is in the foreground or background:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Receiver when the app is in the foreground or background:**\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;ve checked the logs using Logcat, and it doesn&#39;t show any error messages related to alarms or the foreground service not starting.\r\n\r\n\r\nI&#39;m seeking guidance on why the alarms are not triggering the foreground service as expected. I&#39;d appreciate any insights, suggestions, or potential solutions to resolve this issue.\r\n\r\nThank you for your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Ekis.png\r\n  [2]: https://i.stack.imgur.com/J0lzC.png","link":"https://stackoverflow.com/questions/77508484/foreground-service-scheduling-issue-alarmmanager-fails-to-start-foreground-serv","title":"Foreground Service Scheduling Issue: AlarmManager Fails to start Foreground Service When App is Not in the Background","body":"<p>I'm encountering an issue with scheduling a foreground service using AlarmManager in my Android application. Despite setting up the code to trigger a foreground service at specific times using alarms, the alarms are unable to start foreground Service when the app is not in the background\n(it works fine when the app is in the foreground or in the background).</p>\n<p>I have a requirement in my app to execute a foreground service at a specific time range of the day. To achieve this, I'm using AlarmManager to schedule the service to start and stop at the desired intervals.</p>\n<p><strong>and what are the different ways other than alarmManager, to schedule a foreground service</strong>.</p>\n<p>TimeBasedScheduler Class:</p>\n<pre><code>class TimeBasedScheduler : BroadcastReceiver() {\n    private val TAG = &quot;TimeBasedScheduler&quot;\n\n    override fun onReceive(context: Context, intent: Intent) {\n        val action = intent.action\n        Log.d(TAG, &quot;Received action: $action&quot;)\n\n        if (action != null) {\n            when (action) {\n                &quot;START_SERVICE&quot; -&gt; {\n                    Log.d(TAG, &quot;Initializing socket for START_SERVICE&quot;)\n                    initializeSocket(context)\n                    // Now execution is started and resumed\n                    LocalPrefrenceUtils.insertDataInBoolean(context, AppConstants.BACKGROUND_WORK_ALLOWED_KEY_FOR_LOCAL_PREFERENCE, true)\n                    LocalPrefrenceUtils.insertDataInBoolean(context, AppConstants.BACKGROUND_WORK_TEMPORARILY_PAUSED_KEY_FOR_LOCAL_PREFERENCE, false\n                    )\n                }\n                &quot;STOP_SERVICE&quot; -&gt; {\n                    Log.d(TAG, &quot;Stopping service for STOP_SERVICE&quot;)\n                    LocalPrefrenceUtils.insertDataInBoolean(\n                        context,\n                        AppConstants.BACKGROUND_WORK_TEMPORARILY_PAUSED_KEY_FOR_LOCAL_PREFERENCE,\n                        true\n                    )\n                    val stopIntent = Intent(context, SocketManagerService::class.java)\n                    context.stopService(stopIntent)\n                }\n            }\n        }\n    }\n\n    private fun initializeSocket(context: Context?) {\n        Log.d(TAG, &quot;Initializing socket&quot;)\n            val intent = Intent(context, SocketManagerService::class.java)\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                Log.d(TAG, &quot;Starting foreground service&quot;)\n                context?.startForegroundService(intent)\n            } else {\n                Log.d(TAG, &quot;Starting service&quot;)\n                context?.startService(intent)\n            }\n\n    }\n}\n</code></pre>\n<p>SettingActivity Class:</p>\n<pre><code>private fun setupForegroundServiceAlarms() {\n        val TAG = &quot;TaskBasedScheduler&quot;\n        // Get the start and end times from preferences\n        val startTime = LocalPrefrenceUtils.getStartTime(this)\n        val endTime = LocalPrefrenceUtils.getEndTime(this)\n\n        Log.d(TAG, &quot;Start Time: $startTime&quot;)\n        Log.d(TAG, &quot;End Time: $endTime&quot;)\n\n        // Calculate start and end times based on step sizes and special cases for value 48\n        val startHour = 7 // Starting hour (7:00 am)\n        val stepSizeMinutes = 30 // Step size in minutes\n\n        val startHourForAlarms = startHour + (stepSizeMinutes * startTime) / 60\n        val endHourForAlarms = if (endTime == 48) startHour + (stepSizeMinutes * endTime) / 60 - 1 else startHour + (stepSizeMinutes * endTime) / 60\n\n        val startMinute = (stepSizeMinutes * startTime) % 60\n        val endMinute = if (endTime == 48) ((stepSizeMinutes * endTime) % 60) - 1 else ((stepSizeMinutes * endTime) % 60)\n\n        // Set the Calendar instances for start and end times\n        val startCalendar = Calendar.getInstance().apply {\n            timeInMillis = System.currentTimeMillis()\n            set(Calendar.HOUR_OF_DAY, startHourForAlarms)\n            set(Calendar.MINUTE, startMinute)\n            set(Calendar.SECOND, 0)\n        }\n\n        val endCalendar = Calendar.getInstance().apply {\n            timeInMillis = System.currentTimeMillis()\n            set(Calendar.HOUR_OF_DAY, endHourForAlarms)\n            set(Calendar.MINUTE, endMinute)\n            set(Calendar.SECOND, 0)\n        }\n\n        Log.d(TAG, &quot;Start Calendar Time: ${startCalendar.time}&quot;)\n        Log.d(TAG, &quot;End Calendar Time: ${endCalendar.time}&quot;)\n\n        // Cancel previously set alarms\n        alarmManager.cancel(startPendingIntent)\n        alarmManager.cancel(endPendingIntent)\n\n        Log.d(TAG, &quot;Canceled previous alarms&quot;)\n\n        // Create intents for starting and stopping the service\n        val startIntent = Intent(this, TimeBasedScheduler::class.java).apply {\n            action = &quot;START_SERVICE&quot;\n        }\n        val endIntent = Intent(this, TimeBasedScheduler::class.java).apply {\n            action = &quot;STOP_SERVICE&quot;\n        }\n\n        // Create pending intents for start and end actions\n        startPendingIntent = PendingIntent.getBroadcast(this, 0, startIntent, PendingIntent.FLAG_IMMUTABLE)\n        endPendingIntent = PendingIntent.getBroadcast(this, 1, endIntent, PendingIntent.FLAG_IMMUTABLE)\n\n        Log.d(TAG, &quot;Created pending intents&quot;)\n\n        // Set alarms using AlarmManager for daily repetition\n        alarmManager.setInexactRepeating(\n            AlarmManager.RTC_WAKEUP,\n            startCalendar.timeInMillis,\n            AlarmManager.INTERVAL_DAY,\n            startPendingIntent\n        )\n\n        alarmManager.setInexactRepeating(\n            AlarmManager.RTC_WAKEUP,\n            endCalendar.timeInMillis,\n            AlarmManager.INTERVAL_DAY,\n            endPendingIntent\n        )\n\n        Log.d(TAG, &quot;Alarms set for start: ${startCalendar.time}, end: ${endCalendar.time}&quot;)\n    }\n\n</code></pre>\n<p>and manifest related code:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\n\n&lt;receiver android:name=&quot;.schedulers.TimeBasedScheduler&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;START_SERVICE&quot; /&gt;\n                &lt;action android:name=&quot;STOP_SERVICE&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n</code></pre>\n<p><strong>works perfectly fine when the app is in the foreground or background:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/9Ekis.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Ekis.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Receiver when the app is in the foreground or background:</strong>\n<a href=\"https://i.stack.imgur.com/J0lzC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J0lzC.png\" alt=\"enter image description here\" /></a></p>\n<p>I've checked the logs using Logcat, and it doesn't show any error messages related to alarms or the foreground service not starting.</p>\n<p>I'm seeking guidance on why the alarms are not triggering the foreground service as expected. I'd appreciate any insights, suggestions, or potential solutions to resolve this issue.</p>\n<p>Thank you for your help.</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0"],"comment_count":0,"is_answered":false,"view_count":25,"answer_count":0,"score":-1,"last_activity_date":1700902073,"creation_date":1700902073,"question_id":77547202,"body_markdown":"I use spring boot oauth2-client. after i get response from server with AuthorizationGrantType.PASSWORD, expireAt field is null in\r\nOAuth2AuthorizedClient.OAuth2RefreshToken, despite the fact that I have debugged the code and refresh_expires_in is in the additionalParameters of the OAuth2AccessTokenResponse but I can&#39;t see OAuth2AccessTokenResponse.\r\nhow do I get expireAt of refresh token?","link":"https://stackoverflow.com/questions/77547202/expireat-of-oauth2refreshtoken-is-null-when-use-spring-boot-oauth2-client","title":"expireAt of OAuth2RefreshToken is null when use spring boot oauth2-client","body":"<p>I use spring boot oauth2-client. after i get response from server with AuthorizationGrantType.PASSWORD, expireAt field is null in\nOAuth2AuthorizedClient.OAuth2RefreshToken, despite the fact that I have debugged the code and refresh_expires_in is in the additionalParameters of the OAuth2AccessTokenResponse but I can't see OAuth2AccessTokenResponse.\nhow do I get expireAt of refresh token?</p>\n"},{"tags":["java","spring-boot","docker","graalvm"],"comments":[{"score":1,"post_type":"question","creation_date":1700902795,"post_id":77547201,"comment_id":136711159,"body_markdown":"&quot;The error Exec format error means that the binary being executed is made for a different architecture than the environment currently booted.&quot;. You generally can&#39;t just copy an executable from the host into an image. Architectures have to match and any libraries it depends on have to be present.","link":"https://stackoverflow.com/questions/77547201/unable-to-run-graalvm-image-on-docker#comment136711159_77547201","body":"&quot;The error Exec format error means that the binary being executed is made for a different architecture than the environment currently booted.&quot;. You generally can&#39;t just copy an executable from the host into an image. Architectures have to match and any libraries it depends on have to be present."},{"score":0,"post_type":"question","creation_date":1700903919,"post_id":77547201,"comment_id":136711234,"body_markdown":"Well that makes sense. Let me find out how can i build the image in the same place.","link":"https://stackoverflow.com/questions/77547201/unable-to-run-graalvm-image-on-docker#comment136711234_77547201","body":"Well that makes sense. Let me find out how can i build the image in the same place."}],"comment_count":2,"is_answered":false,"view_count":28,"answer_count":0,"score":0,"last_activity_date":1700902024,"creation_date":1700902024,"question_id":77547201,"body_markdown":"I am unable to run GraalVM image on Docker,\r\n\r\nI am getting error:\r\n```\r\nexec ./legacy-server: exec format error\r\n```\r\n\r\n\r\nHere is the Dockerfile:\r\n```\r\nFROM alpine:latest\r\nCOPY target/legacy-server legacy-server\r\nENTRYPOINT [&quot;./legacy-server&quot;]\r\n```\r\n\r\nwhen I run locally via `./target/legacy-server` it works perfectly fine.\r\n\r\nHere is the PR with the changes: https://github.com/quiz-roulette/legacy-service/pull/1","link":"https://stackoverflow.com/questions/77547201/unable-to-run-graalvm-image-on-docker","title":"Unable to Run GraalVM image on Docker","body":"<p>I am unable to run GraalVM image on Docker,</p>\n<p>I am getting error:</p>\n<pre><code>exec ./legacy-server: exec format error\n</code></pre>\n<p>Here is the Dockerfile:</p>\n<pre><code>FROM alpine:latest\nCOPY target/legacy-server legacy-server\nENTRYPOINT [&quot;./legacy-server&quot;]\n</code></pre>\n<p>when I run locally via <code>./target/legacy-server</code> it works perfectly fine.</p>\n<p>Here is the PR with the changes: <a href=\"https://github.com/quiz-roulette/legacy-service/pull/1\" rel=\"nofollow noreferrer\">https://github.com/quiz-roulette/legacy-service/pull/1</a></p>\n"},{"tags":["java"],"comments":[{"score":0,"post_type":"question","creation_date":1700900557,"post_id":77547124,"comment_id":136710986,"body_markdown":"`Settings -&gt; Apps -&gt; Default apps`. Then type `.java` in the text field under &quot;Set a default for a file type or link type&quot;. Finally, click on &quot;Choose a default&quot; (will be replaced by an app name if there is already a default app) and choose the app you would like to associate with `*.java` files.","link":"https://stackoverflow.com/questions/77547124/how-to-set-default-way-of-opening-java-file-in-win11#comment136710986_77547124","body":"<code>Settings -&gt; Apps -&gt; Default apps</code>. Then type <code>.java</code> in the text field under &quot;Set a default for a file type or link type&quot;. Finally, click on &quot;Choose a default&quot; (will be replaced by an app name if there is already a default app) and choose the app you would like to associate with <code>*.java</code> files."},{"score":0,"post_type":"question","creation_date":1700900621,"post_id":77547124,"comment_id":136710990,"body_markdown":"This is a general OS question, not specific to Java and thus not about programming and therefor off-topic on this site. In any case, in Explorer, right-click on a .java-file, &quot;Open With&quot;, select &quot;Choose another app&quot; select the desired app or browse to it with the &quot;Choose an app on your PC&quot; and after doing so, click on button &quot;Always&quot;.","link":"https://stackoverflow.com/questions/77547124/how-to-set-default-way-of-opening-java-file-in-win11#comment136710990_77547124","body":"This is a general OS question, not specific to Java and thus not about programming and therefor off-topic on this site. In any case, in Explorer, right-click on a .java-file, &quot;Open With&quot;, select &quot;Choose another app&quot; select the desired app or browse to it with the &quot;Choose an app on your PC&quot; and after doing so, click on button &quot;Always&quot;."}],"comment_count":2,"is_answered":false,"view_count":17,"answer_count":0,"score":0,"last_activity_date":1700900601,"creation_date":1700900229,"last_edit_date":1700900601,"question_id":77547124,"body_markdown":"It seems that we can&#39;t set default way of opening *.java file in the latest Windows 11 \r\n\r\nIn options of &quot;opening files&quot;, I can&#39;t see &quot;default&quot; option. I have also tried to change regedit table according to this note, but I can&#39;t find the directory https://blog.csdn.net/weixin_34379040/article/details/114218801\r\n\r\n","link":"https://stackoverflow.com/questions/77547124/how-to-set-default-way-of-opening-java-file-in-win11","title":"how to set default way of opening *.java file in win11","body":"<p>It seems that we can't set default way of opening *.java file in the latest Windows 11</p>\n<p>In options of &quot;opening files&quot;, I can't see &quot;default&quot; option. I have also tried to change regedit table according to this note, but I can't find the directory <a href=\"https://blog.csdn.net/weixin_34379040/article/details/114218801\" rel=\"nofollow noreferrer\">https://blog.csdn.net/weixin_34379040/article/details/114218801</a></p>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1700654136,"last_edit_date":1700654136,"creation_date":1700654101,"answer_id":77529739,"question_id":77527020,"body_markdown":"Both `doOnComplete()` and the third argument of `subscribe()` are used to perform actions when a Flux or Mono completes, but there are some differences in their use cases.\r\n\r\n1. `doOnComplete()`:\r\ndoOnComplete() is an operator that allows you to perform a side effect (an action) when the sequence is completed successfully (i.e., without errors).\r\nIt doesn&#39;t affect the termination signal itself; it&#39;s purely for side effects.\r\nIt is often used for logging, resource cleanup, or any other action you want to take when the Flux or Mono completes successfully.\r\n\r\n2. Subscribe Callback (third argument of `subscribe()`):\r\nThe third argument of the subscribe() method is a callback that is invoked when the sequence is completed, **whether it completes with data or with an error.**\r\nIt is called after onNext() and onError() callbacks.\r\nIt is suitable for actions that need to be taken after the whole sequence is completed, regardless of whether it completed with data or with an error.\r\n\r\nIn your example, both `doOnComplete()` and the third argument of subscribe() are logging messages when the stream is completed. If you want to perform an action specifically when the sequence completes successfully, you can use `doOnComplete()`. If you want an action to be taken regardless of success or error, you can use the third argument of `subscribe()`.","link":"https://stackoverflow.com/questions/77527020/difference-between-dooncomplete-and-the-third-argument-of-subscribe-in-proje/77529739#77529739","title":"Difference between doOnComplete() and the third argument of subscribe() in Project Reactor","body":"<p>Both <code>doOnComplete()</code> and the third argument of <code>subscribe()</code> are used to perform actions when a Flux or Mono completes, but there are some differences in their use cases.</p>\n<ol>\n<li><p><code>doOnComplete()</code>:\ndoOnComplete() is an operator that allows you to perform a side effect (an action) when the sequence is completed successfully (i.e., without errors).\nIt doesn't affect the termination signal itself; it's purely for side effects.\nIt is often used for logging, resource cleanup, or any other action you want to take when the Flux or Mono completes successfully.</p>\n</li>\n<li><p>Subscribe Callback (third argument of <code>subscribe()</code>):\nThe third argument of the subscribe() method is a callback that is invoked when the sequence is completed, <strong>whether it completes with data or with an error.</strong>\nIt is called after onNext() and onError() callbacks.\nIt is suitable for actions that need to be taken after the whole sequence is completed, regardless of whether it completed with data or with an error.</p>\n</li>\n</ol>\n<p>In your example, both <code>doOnComplete()</code> and the third argument of subscribe() are logging messages when the stream is completed. If you want to perform an action specifically when the sequence completes successfully, you can use <code>doOnComplete()</code>. If you want an action to be taken regardless of success or error, you can use the third argument of <code>subscribe()</code>.</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1700899842,"creation_date":1700899842,"answer_id":77547107,"question_id":77527020,"body_markdown":"As per my understanding, doOnComplete should be invoked upon successful completion, while the Subscribe Callback should be triggered regardless of whether the sequence completes with an error or successfully.\r\n\r\nHowever, when I ran the following example:\r\n```java\r\nFlux.just(1, 3, 0)\r\n    .map(data -&gt; data / 0)\r\n    .doOnComplete(() -&gt; log.info(&quot;[DoOnComplete!]&quot;))\r\n    .subscribe(\r\n        data -&gt; log.info(&quot;[data] : {}&quot;, data),\r\n        error -&gt; log.info(&quot;[Error] error - {} &quot;, error.getMessage()),\r\n        () -&gt; log.info(&quot;[Complete]&quot;)\r\n    );\r\n```\r\nI observed that if an error occurs (e.g., division by zero), the Subscribe Callback is not invoked. This seems to contradict my understanding.\r\n\r\nCould someone please clarify why the Subscribe Callback (third argument of subscribe) is not being called in the case of an error, and how this behavior aligns with the expected behavior of Reactor operators?\r\n\r\nThank you.","link":"https://stackoverflow.com/questions/77527020/difference-between-dooncomplete-and-the-third-argument-of-subscribe-in-proje/77547107#77547107","title":"Difference between doOnComplete() and the third argument of subscribe() in Project Reactor","body":"<p>As per my understanding, doOnComplete should be invoked upon successful completion, while the Subscribe Callback should be triggered regardless of whether the sequence completes with an error or successfully.</p>\n<p>However, when I ran the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.just(1, 3, 0)\n    .map(data -&gt; data / 0)\n    .doOnComplete(() -&gt; log.info(&quot;[DoOnComplete!]&quot;))\n    .subscribe(\n        data -&gt; log.info(&quot;[data] : {}&quot;, data),\n        error -&gt; log.info(&quot;[Error] error - {} &quot;, error.getMessage()),\n        () -&gt; log.info(&quot;[Complete]&quot;)\n    );\n</code></pre>\n<p>I observed that if an error occurs (e.g., division by zero), the Subscribe Callback is not invoked. This seems to contradict my understanding.</p>\n<p>Could someone please clarify why the Subscribe Callback (third argument of subscribe) is not being called in the case of an error, and how this behavior aligns with the expected behavior of Reactor operators?</p>\n<p>Thank you.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":73,"answer_count":2,"score":1,"last_activity_date":1700899842,"creation_date":1700620021,"last_edit_date":1700641388,"question_id":77527020,"body_markdown":"I’m currently working with Project Reactor and I’ve come across a scenario where I’m not sure whether to use doOnComplete() or the third argument of subscribe(). Both seem to be called when the Publisher emits a completion signal, but I suspect there are some differences between them.\r\n\r\nHere’s a sample of the code I’m working with:\r\n\r\n```java\r\nFlux.range(1, 10)\r\n    .doOnComplete(() -&gt; log.info(&quot;[Complete]&quot;))\r\n    .subscribe(\r\n        data -&gt; log.info(&quot;[data] : {}&quot;, data),\r\n        error -&gt; log.info(&quot;[error] : {}&quot;, error.getMessage()),\r\n        () -&gt; log.info(&quot;[Subscribe Complete]&quot;)\r\n    );\r\n```\r\n\r\nIn this code, both doOnComplete() and the third argument of subscribe() are logging a message when the stream is completed. However, I’m not sure when to use one over the other.\r\n\r\nThank you in advance for your help!","link":"https://stackoverflow.com/questions/77527020/difference-between-dooncomplete-and-the-third-argument-of-subscribe-in-proje","title":"Difference between doOnComplete() and the third argument of subscribe() in Project Reactor","body":"<p>I’m currently working with Project Reactor and I’ve come across a scenario where I’m not sure whether to use doOnComplete() or the third argument of subscribe(). Both seem to be called when the Publisher emits a completion signal, but I suspect there are some differences between them.</p>\n<p>Here’s a sample of the code I’m working with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.range(1, 10)\n    .doOnComplete(() -&gt; log.info(&quot;[Complete]&quot;))\n    .subscribe(\n        data -&gt; log.info(&quot;[data] : {}&quot;, data),\n        error -&gt; log.info(&quot;[error] : {}&quot;, error.getMessage()),\n        () -&gt; log.info(&quot;[Subscribe Complete]&quot;)\n    );\n</code></pre>\n<p>In this code, both doOnComplete() and the third argument of subscribe() are logging a message when the stream is completed. However, I’m not sure when to use one over the other.</p>\n<p>Thank you in advance for your help!</p>\n"},{"tags":["java","arrays","function"],"comments":[{"score":0,"post_type":"question","creation_date":1700899704,"post_id":77546941,"comment_id":136710914,"body_markdown":"Do not tag this as `dsa`.  The `dsa` tag is for `Digital Signature Algorithm`.","link":"https://stackoverflow.com/questions/77546941/merging-2-arrays-in-ascending-order-leetcode#comment136710914_77546941","body":"Do not tag this as <code>dsa</code>.  The <code>dsa</code> tag is for <code>Digital Signature Algorithm</code>."},{"score":1,"post_type":"question","creation_date":1700929027,"post_id":77546941,"comment_id":136713280,"body_markdown":"From _leetcode_, &quot;... The final sorted array should not be returned by the function, but instead be stored inside the array nums1. To accommodate this, nums1 has a length of m + n ...&quot;.","link":"https://stackoverflow.com/questions/77546941/merging-2-arrays-in-ascending-order-leetcode#comment136713280_77546941","body":"From <i>leetcode</i>, &quot;... The final sorted array should not be returned by the function, but instead be stored inside the array nums1. To accommodate this, nums1 has a length of m + n ...&quot;."},{"score":0,"post_type":"question","creation_date":1700931298,"post_id":77546941,"comment_id":136713532,"body_markdown":"You failed to let us know about a requirement: The result of the merge *must* be in `nums1`. See https://leetcode.com/problems/merge-sorted-array/","link":"https://stackoverflow.com/questions/77546941/merging-2-arrays-in-ascending-order-leetcode#comment136713532_77546941","body":"You failed to let us know about a requirement: The result of the merge <i>must</i> be in <code>nums1</code>. See <a href=\"https://leetcode.com/problems/merge-sorted-array/\" rel=\"nofollow noreferrer\">leetcode.com/problems/merge-sorted-array</a>"},{"score":0,"post_type":"question","creation_date":1700931690,"post_id":77546941,"comment_id":136713583,"body_markdown":"Using an intermediate array to hold the results of the merge and then copying the intermediate to `nums1` is the easiest way to meet the requirement that the result is to be in the `nums1` argument. `nums1 = result;` won&#39;t work because Java is pass by value : `nums1` is a *local* reference variable. In the `Solution.merge` method, changing the Object it points to will not change what the reference that was used as an argument in the calling program points to.","link":"https://stackoverflow.com/questions/77546941/merging-2-arrays-in-ascending-order-leetcode#comment136713583_77546941","body":"Using an intermediate array to hold the results of the merge and then copying the intermediate to <code>nums1</code> is the easiest way to meet the requirement that the result is to be in the <code>nums1</code> argument. <code>nums1 = result;</code> won&#39;t work because Java is pass by value : <code>nums1</code> is a <i>local</i> reference variable. In the <code>Solution.merge</code> method, changing the Object it points to will not change what the reference that was used as an argument in the calling program points to."},{"score":0,"post_type":"question","creation_date":1700932484,"post_id":77546941,"comment_id":136713673,"body_markdown":"I don&#39;t  understand this part of your question:  *&quot;I tried to print the result array directly but its not working it is showing time exceeded&quot;*.   If you are asking for help in that area, *&quot;it is not working&quot;* doesn&#39;t tell us anything. And, we need context for *&quot;it is showing time exceeded&quot;*.","link":"https://stackoverflow.com/questions/77546941/merging-2-arrays-in-ascending-order-leetcode#comment136713673_77546941","body":"I don&#39;t  understand this part of your question:  <i>&quot;I tried to print the result array directly but its not working it is showing time exceeded&quot;</i>.   If you are asking for help in that area, <i>&quot;it is not working&quot;</i> doesn&#39;t tell us anything. And, we need context for <i>&quot;it is showing time exceeded&quot;</i>."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1700931098,"post_id":77546951,"comment_id":136713505,"body_markdown":"This doesn&#39;t actually meet the O/P&#39;s requirements. The misunderstanding is the result of the O/P failing to make it clear the merged array result must be placed in the elements of the `nums1` argument.","link":"https://stackoverflow.com/questions/77546941/merging-2-arrays-in-ascending-order-leetcode/77546951#comment136713505_77546951","body":"This doesn&#39;t actually meet the O/P&#39;s requirements. The misunderstanding is the result of the O/P failing to make it clear the merged array result must be placed in the elements of the <code>nums1</code> argument."}],"comment_count":1,"score":0,"last_activity_date":1700895981,"creation_date":1700895981,"answer_id":77546951,"question_id":77546941,"body_markdown":"Refer the below code :\r\n\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n            int[] array1 = {1, 3, 5, 7};\r\n            int[] array2 = {2, 4, 6, 8, 10};\r\n    \r\n            int[] mergedArray = mergeArrays(array1, array2);\r\n    \r\n            // Print the merged array\r\n            for (int element : mergedArray) {\r\n                System.out.print(element + &quot; &quot;);\r\n            }\t\r\n    \t}\r\n    \t\r\n    \tpublic static int[] mergeArrays(int[] array1, int[] array2) {\r\n            int size1 = array1.length;\r\n            int size2 = array2.length;\r\n            int[] mergedArray = new int[size1 + size2];\r\n    \r\n            int i = 0, j = 0, k = 0;\r\n    \r\n            // Merge arrays while elements are present in both arrays\r\n            while (i &lt; size1 &amp;&amp; j &lt; size2) {\r\n                if (array1[i] &lt; array2[j]) {\r\n                    mergedArray[k++] = array1[i++];\r\n                } else {\r\n                    mergedArray[k++] = array2[j++];\r\n                }\r\n            }\r\n    \r\n            // If there are remaining elements in array1, add them to the result array\r\n            while (i &lt; size1) {\r\n                mergedArray[k++] = array1[i++];\r\n            }\r\n    \r\n            // If there are remaining elements in array2, add them to the result array\r\n            while (j &lt; size2) {\r\n                mergedArray[k++] = array2[j++];\r\n            }\r\n    \r\n            return mergedArray;\r\n        }\r\n    }\r\n\r\n\r\n&gt; Refer the working sample [here][1]\r\n\r\n\r\n  [1]: https://onlinegdb.com/O2HAPFN6M","link":"https://stackoverflow.com/questions/77546941/merging-2-arrays-in-ascending-order-leetcode/77546951#77546951","title":"merging 2 arrays in ascending order (leetcode)","body":"<p>Refer the below code :</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        int[] array1 = {1, 3, 5, 7};\n        int[] array2 = {2, 4, 6, 8, 10};\n\n        int[] mergedArray = mergeArrays(array1, array2);\n\n        // Print the merged array\n        for (int element : mergedArray) {\n            System.out.print(element + &quot; &quot;);\n        }   \n    }\n    \n    public static int[] mergeArrays(int[] array1, int[] array2) {\n        int size1 = array1.length;\n        int size2 = array2.length;\n        int[] mergedArray = new int[size1 + size2];\n\n        int i = 0, j = 0, k = 0;\n\n        // Merge arrays while elements are present in both arrays\n        while (i &lt; size1 &amp;&amp; j &lt; size2) {\n            if (array1[i] &lt; array2[j]) {\n                mergedArray[k++] = array1[i++];\n            } else {\n                mergedArray[k++] = array2[j++];\n            }\n        }\n\n        // If there are remaining elements in array1, add them to the result array\n        while (i &lt; size1) {\n            mergedArray[k++] = array1[i++];\n        }\n\n        // If there are remaining elements in array2, add them to the result array\n        while (j &lt; size2) {\n            mergedArray[k++] = array2[j++];\n        }\n\n        return mergedArray;\n    }\n}\n</code></pre>\n<blockquote>\n<p>Refer the working sample <a href=\"https://onlinegdb.com/O2HAPFN6M\" rel=\"nofollow noreferrer\">here</a></p>\n</blockquote>\n"}],"comment_count":5,"is_answered":false,"view_count":48,"answer_count":1,"score":0,"last_activity_date":1700899709,"creation_date":1700895641,"last_edit_date":1700899709,"question_id":77546941,"body_markdown":"```\r\nclass Solution{\r\npublic static void merge(int[] nums1, int m, int[] nums2, int n) {\r\n    int[] result = new int[m + n];\r\n    int i = 0, j = 0, k = 0;\r\n    while (i &lt; m &amp;&amp; j &lt; n) {\r\n        if (nums1[i] &lt; nums2[j]) {\r\n            result[k++] = nums1[i++];\r\n        } else {\r\n            result[k++] = nums2[j++];\r\n        }\r\n    }\r\n    while (i &lt; m) {\r\n        result[k++] = nums1[i++];\r\n    }\r\n    while (j &lt; n) {\r\n        result[k++] = nums2[j++];\r\n    }\r\n    System.arraycopy(result, 0, nums1, 0, m + n);\r\n  }\r\n}\r\n```\r\n\r\nwhy do i have to copy the result array in nums1 ?\r\nAnd is there any better alternative for this ?\r\n\r\nI tried to print the result array directly but its not working it is showing time exceeded.\r\n","link":"https://stackoverflow.com/questions/77546941/merging-2-arrays-in-ascending-order-leetcode","title":"merging 2 arrays in ascending order (leetcode)","body":"<pre><code>class Solution{\npublic static void merge(int[] nums1, int m, int[] nums2, int n) {\n    int[] result = new int[m + n];\n    int i = 0, j = 0, k = 0;\n    while (i &lt; m &amp;&amp; j &lt; n) {\n        if (nums1[i] &lt; nums2[j]) {\n            result[k++] = nums1[i++];\n        } else {\n            result[k++] = nums2[j++];\n        }\n    }\n    while (i &lt; m) {\n        result[k++] = nums1[i++];\n    }\n    while (j &lt; n) {\n        result[k++] = nums2[j++];\n    }\n    System.arraycopy(result, 0, nums1, 0, m + n);\n  }\n}\n</code></pre>\n<p>why do i have to copy the result array in nums1 ?\nAnd is there any better alternative for this ?</p>\n<p>I tried to print the result array directly but its not working it is showing time exceeded.</p>\n"},{"tags":["java","sqlite","date","prepared-statement","between"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1700817413,"post_id":77541913,"comment_id":136702127,"body_markdown":"You are right about julianday, and I feel i made the same mistake with date() and the rest when I started looking for answers and used functions. The first issue I had was `SELECT * FROM &#39;produccion&#39; WHERE dia BETWEEN &#39;2023-11-01&#39; AND &#39;2023-11-30&#39;` was not working either. And yes, I have my dates in YYYY-MM-DD format.","link":"https://stackoverflow.com/questions/77541578/cannot-get-results-between-dates-in-sqlite-using-java-preparedstatement/77541913#comment136702127_77541913","body":"You are right about julianday, and I feel i made the same mistake with date() and the rest when I started looking for answers and used functions. The first issue I had was <code>SELECT * FROM &#39;produccion&#39; WHERE dia BETWEEN &#39;2023-11-01&#39; AND &#39;2023-11-30&#39;</code> was not working either. And yes, I have my dates in YYYY-MM-DD format."},{"score":0,"post_type":"answer","creation_date":1700817573,"post_id":77541913,"comment_id":136702154,"body_markdown":"@PabloIglesias if `SELECT * FROM &#39;produccion&#39; WHERE dia BETWEEN &#39;2023-11-01&#39; AND &#39;2023-11-30&#39;` does not return any data this means that there are no data between these dates.","link":"https://stackoverflow.com/questions/77541578/cannot-get-results-between-dates-in-sqlite-using-java-preparedstatement/77541913#comment136702154_77541913","body":"@PabloIglesias if <code>SELECT * FROM &#39;produccion&#39; WHERE dia BETWEEN &#39;2023-11-01&#39; AND &#39;2023-11-30&#39;</code> does not return any data this means that there are no data between these dates."},{"score":0,"post_type":"answer","creation_date":1700818059,"post_id":77541913,"comment_id":136702229,"body_markdown":"And here lies my problem, there is data, I confirmed it by several sources, but the query returns nothing.","link":"https://stackoverflow.com/questions/77541578/cannot-get-results-between-dates-in-sqlite-using-java-preparedstatement/77541913#comment136702229_77541913","body":"And here lies my problem, there is data, I confirmed it by several sources, but the query returns nothing."},{"score":0,"post_type":"answer","creation_date":1700828584,"post_id":77541913,"comment_id":136703920,"body_markdown":"@PabloIglesias then you are oing something wrong.","link":"https://stackoverflow.com/questions/77541578/cannot-get-results-between-dates-in-sqlite-using-java-preparedstatement/77541913#comment136703920_77541913","body":"@PabloIglesias then you are oing something wrong."},{"score":0,"post_type":"answer","creation_date":1700828857,"post_id":77541913,"comment_id":136703964,"body_markdown":"That something is wrong is clear to me, as I should be getting data but I have no idea why I am not getting it.","link":"https://stackoverflow.com/questions/77541578/cannot-get-results-between-dates-in-sqlite-using-java-preparedstatement/77541913#comment136703964_77541913","body":"That something is wrong is clear to me, as I should be getting data but I have no idea why I am not getting it."},{"score":0,"post_type":"answer","creation_date":1700829493,"post_id":77541913,"comment_id":136704070,"body_markdown":"Found the problem. Thanks to you I checked again and again the input of data, as I was sending the julianday() inside the putSring and feared something similar could happen.  And indeed the problem is similar, but not the same. The data input should be: \n\n` pedirDatos(new String[] {&quot;*&quot;}, &quot;produccion&quot;,null,new String[] {&quot;julianday(dia)&quot;},new String[] {&quot;2023-11-01&quot;,&quot;2023-11-31&quot;},&quot;AND&quot;,null); `\n\nTo be more clear, the problem is sending to putString `&quot;&#39;2023-11-01&#39;&quot;` when it should be `&quot;2023-11-01&quot;`, no &#39; in the data","link":"https://stackoverflow.com/questions/77541578/cannot-get-results-between-dates-in-sqlite-using-java-preparedstatement/77541913#comment136704070_77541913","body":"Found the problem. Thanks to you I checked again and again the input of data, as I was sending the julianday() inside the putSring and feared something similar could happen.  And indeed the problem is similar, but not the same. The data input should be:   ` pedirDatos(new String[] {&quot;*&quot;}, &quot;produccion&quot;,null,new String[] {&quot;julianday(dia)&quot;},new String[] {&quot;2023-11-01&quot;,&quot;2023-11-31&quot;},&quot;AND&quot;,null); `  To be more clear, the problem is sending to putString <code>&quot;&#39;2023-11-01&#39;&quot;</code> when it should be <code>&quot;2023-11-01&quot;</code>, no &#39; in the data"}],"comment_count":6,"score":0,"last_activity_date":1700843646,"last_edit_date":1700843646,"creation_date":1700816813,"answer_id":77541913,"question_id":77541578,"body_markdown":"The `?` placeholders in your query are replaced by the parameters `julianday(&#39;2023-11-01&#39;)` and `julianday(&#39;2023-11-31&#39;)` like this:\r\n\r\n    SELECT * FROM produccion \r\n    WHERE julianday(dia) BETWEEN &#39;julianday(&#39;2023-11-01&#39;)&#39; AND &#39;julianday(&#39;2023-11-31&#39;)&#39;;\r\n\r\n(with the single quotes properly escaped) because you pass them as strings.&lt;br/&gt;\r\n\r\nInstead you should write the query:\r\n\r\n    SELECT * FROM produccion \r\n    WHERE julianday(dia) BETWEEN julianday(?) AND julianday(?);\r\n\r\nand pass the parameters `&#39;2023-11-01&#39;` and `&#39;2023-11-30&#39;` (not `&#39;2023-11-31&#39;` because there are only 30 days in November).&lt;br/&gt;\r\n\r\nBut, why do you use `julianday()` in your query?&lt;br/&gt;\r\nIf your dates are properly formated as `YYYY-MM-DD` it is simpler to write the query like this:\r\n\r\n    SELECT * FROM produccion \r\n    WHERE dia BETWEEN ? AND ?;\r\n\r\nEdit by @PabloIglesias: I will clarify here as the coment with the solution is not visible by default and this leads to solution but can be missunderstood.\r\n\r\nIn order to pass a SQL parameter as `&#39;2023-11-01&#39;` when using putString, we should use `putString(&quot;2023-11-01&quot;)` and not `putString(&quot;&#39;2023-11-01&#39;&quot;)` as the method automatically includes the &#39;, and was the original mistake made.","link":"https://stackoverflow.com/questions/77541578/cannot-get-results-between-dates-in-sqlite-using-java-preparedstatement/77541913#77541913","title":"Cannot get results Between dates in SQLite using Java PreparedStatement","body":"<p>The <code>?</code> placeholders in your query are replaced by the parameters <code>julianday('2023-11-01')</code> and <code>julianday('2023-11-31')</code> like this:</p>\n<pre><code>SELECT * FROM produccion \nWHERE julianday(dia) BETWEEN 'julianday('2023-11-01')' AND 'julianday('2023-11-31')';\n</code></pre>\n<p>(with the single quotes properly escaped) because you pass them as strings.<br/></p>\n<p>Instead you should write the query:</p>\n<pre><code>SELECT * FROM produccion \nWHERE julianday(dia) BETWEEN julianday(?) AND julianday(?);\n</code></pre>\n<p>and pass the parameters <code>'2023-11-01'</code> and <code>'2023-11-30'</code> (not <code>'2023-11-31'</code> because there are only 30 days in November).<br/></p>\n<p>But, why do you use <code>julianday()</code> in your query?<br/>\nIf your dates are properly formated as <code>YYYY-MM-DD</code> it is simpler to write the query like this:</p>\n<pre><code>SELECT * FROM produccion \nWHERE dia BETWEEN ? AND ?;\n</code></pre>\n<p>Edit by @PabloIglesias: I will clarify here as the coment with the solution is not visible by default and this leads to solution but can be missunderstood.</p>\n<p>In order to pass a SQL parameter as <code>'2023-11-01'</code> when using putString, we should use <code>putString(&quot;2023-11-01&quot;)</code> and not <code>putString(&quot;'2023-11-01'&quot;)</code> as the method automatically includes the ', and was the original mistake made.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":52,"answer_count":1,"score":1,"last_activity_date":1700898365,"creation_date":1700813616,"last_edit_date":1700898365,"question_id":77541578,"body_markdown":"I have been trying to get data from a table &#39;produccion&#39; that has a date field called &#39;dia&#39; using a between statement.\r\n\r\nThe SQL sentence I was aimig for is:\r\n\r\n`SELECT * FROM produccion WHERE julianday(dia) BETWEEN julianday(&#39;2023-11-01&#39;) AND julianday(&#39;2023-11-31&#39;);`\r\n\r\nThe java code is quite hard to read, as I tried making the code valid for everything. I have enforced foreign keys on, but I am not going outside of the table so it should not matter.\r\n\r\n```\r\n\tprivate ResultSet resultado;\r\n\tprivate PreparedStatement prepSentencia;\r\n\r\n\tpublic ResultSet pedirDatos (String[] campos, String tabla, String[][] join, String[] condicionColumna, Object[] condicionValor, String operador, String orden) throws SQLException {\r\n\r\n\t\tString select = &quot;SELECT &quot;;\r\n\t\tresultado=null;\r\n\r\n\t\tif (campos != null &amp;&amp; tabla !=null) {\r\n\t\t\tfor (int x=0; x&lt;campos.length;x++) {\r\n\t\t\t\tselect = select + campos[x];\r\n\t\t\t\tif (x+1&lt;campos.length)\r\n\t\t\t\t\tselect = select + &quot;, &quot;;\r\n\t\t\t}\r\n\t\t\tselect = select + &quot; FROM &quot;+tabla;\r\n\t\t\tif (join != null) {\r\n\t\t\t\tfor (int tupla=0; tupla&lt;join.length; tupla++) {\r\n\t\t\t\t\tselect = select + &quot; INNER JOIN &quot; + join[tupla][0] + &quot; ON &quot;+ tabla + &quot;.&quot; + join[tupla][1] + &quot; = &quot; + join[tupla][0] + &quot;.&quot; + join[tupla][2];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// This is the where part\r\n\t\t\tif (condicionColumna!=null) {\r\n\t\t\t\tselect = select + &quot; WHERE &quot; ;\r\n\t\t\t\tfor (int i =0; i&lt;condicionColumna.length;i++) {\r\n\t\t\t\t\t// Usual where\r\n\t\t\t\t\tif (condicionColumna[i] != &quot;&quot; &amp;&amp; condicionColumna.length==condicionValor.length)\r\n\t\t\t\t\t\tselect = select + condicionColumna[i]+&quot; = ? &quot;;\r\n\t\t\t\t\t// Between code goes trough here\r\n\t\t\t\t\telse if (condicionColumna[i] != &quot;&quot; &amp;&amp; condicionColumna.length==1 &amp;&amp; condicionValor.length==2)\r\n\t\t\t\t\t\tselect = select+ condicionColumna[i]+&quot; BETWEEN julianday(?) AND julianday(?) &quot;;\r\n\t\t\t\t\t// Verifico si hay m&#225;s rotaciones y a&#241;ado el and o el OR\r\n\t\t\t\t\tif (((i+1)&lt;condicionColumna.length))\r\n\t\t\t\t\t\tselect = select + &quot; &quot;+operador+&quot; &quot;;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Checks for orders\r\n\t\t\tif (!(orden==null || orden==&quot;&quot;))\r\n\t\t\t\tselect = select + &quot; ORDER BY ? &quot;;\r\n\t\t\t// Create the sentence\r\n\t\t\tprepSentencia = conexion.prepareStatement(select+&quot;;&quot;, PreparedStatement.RETURN_GENERATED_KEYS);\r\n\t\t\t\r\n\t\t\t// Fill the data\r\n\t\t\tif (condicionValor!=null ) {\r\n\t\t\t\tfor (int i =0; i&lt;condicionValor.length;i++) {\r\n\t\t\t\t\tif (condicionValor[i] != &quot;&quot;)\r\n\t\t\t\t\t\tprepSentencia.setObject((i+1),condicionValor[i]);\r\n\t\t\t\t\tif (((i+1)==condicionValor.length) &amp;&amp; !(orden==null || orden==&quot;&quot;))\r\n\t\t\t\t\t\tprepSentencia.setString(i+2,orden);\r\n\t\t\t\t}\r\n\t\t\t} else if (!(orden==null || orden==&quot;&quot;))\r\n\t\t\t\tprepSentencia.setString(1,orden);\r\n\t\t\tresultado = prepSentencia.executeQuery();\r\n\t\t}\r\n\t\telse\r\n\t\t\tthrow new SQLException (&quot;I need input data&quot;);\r\n\t\treturn resultado;\r\n\t}\r\n```\r\n\r\nData input:\r\n\r\n`pedirDatos(new String[] {&quot;*&quot;}, &quot;produccion&quot;,null,new String[] {&quot;julianday(dia)&quot;},new String[] {&quot;&#39;2023-11-01&#39;&quot;,&quot;&#39;2023-11-31&#39;&quot;},&quot;AND&quot;,null); `\r\n\r\nThe table is formed before with a statement as:\r\n\r\n```\r\nregularstatement.execute(&quot;CREATE TABLE IF NOT EXISTS produccion(\\n&quot;\r\n\t\t+ &quot;\tid_produccion INTEGER PRIMARY KEY,\\n&quot;\r\n\t\t+ &quot;\tdia TEXT NOT NULL,\\n&quot;\r\n\t\t+ &quot;\thora TEXT NOT NULL,\\n&quot;\r\n\t\t+ &quot;\tcantidad REAL NOT NULL,\\n&quot;\r\n\t\t+ &quot;\tnum_animales INTEGER NOT NULL,\\n&quot;\r\n\t\t+ &quot;\tmedia_por_animal INTEGER,\\n&quot;\r\n\t\t+ &quot;\tincidencias TEXT \\n&quot;\r\n\t\t+ &quot;);&quot;);\r\n```\r\n\r\nI know there is date field in SQLite, so i made it text.\r\n\r\nI was debugging and I found that the program goes properly trough all the code, and debugging the resultset contains the stmt part with this info:\r\n\r\nSELECT * FROM produccion WHERE julianday(dia, &#39;utc&#39;) BETWEEN julianday(?) AND julianday(?) ; \r\nparameters=[&#39;2023-11-01&#39;, &#39;2023-11-31&#39;]\r\n\r\nI have verified that i have two rows in the table with the date 2023-11-17\r\n\r\nSo it seems that I am inyecting the data properly in the prepared statement, and I feel like the sentence is correct. I have no idea why i am not getting results as I have been using this with success in the rest of the program.\r\n\r\nI have also tried using julianday(data,&#39;utc&#39;), strftime(), date() and using direclty the dates. I looked at https://sqlite.org/lang_datefunc.html and could not make it work.\r\n\r\nWhat kills me, is that using an online viewer (https://inloop.github.io/sqlite-viewer/) i can make the SQL work, but when running java it returns no data when it should.\r\n\r\nEdit: to clarify, I started having this problem when I tried `SELECT * FROM &#39;produccion&#39; WHERE dia BETWEEN &#39;2023-11-01&#39; AND &#39;2023-11-30&#39;` and did not work. \r\n\r\nEdit2: corrected julianday as forpas commented. Still no data returned.\r\nAdded proof that there is data in the database file \r\n[link to image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Us31d.png","link":"https://stackoverflow.com/questions/77541578/cannot-get-results-between-dates-in-sqlite-using-java-preparedstatement","title":"Cannot get results Between dates in SQLite using Java PreparedStatement","body":"<p>I have been trying to get data from a table 'produccion' that has a date field called 'dia' using a between statement.</p>\n<p>The SQL sentence I was aimig for is:</p>\n<p><code>SELECT * FROM produccion WHERE julianday(dia) BETWEEN julianday('2023-11-01') AND julianday('2023-11-31');</code></p>\n<p>The java code is quite hard to read, as I tried making the code valid for everything. I have enforced foreign keys on, but I am not going outside of the table so it should not matter.</p>\n<pre><code>    private ResultSet resultado;\n    private PreparedStatement prepSentencia;\n\n    public ResultSet pedirDatos (String[] campos, String tabla, String[][] join, String[] condicionColumna, Object[] condicionValor, String operador, String orden) throws SQLException {\n\n        String select = &quot;SELECT &quot;;\n        resultado=null;\n\n        if (campos != null &amp;&amp; tabla !=null) {\n            for (int x=0; x&lt;campos.length;x++) {\n                select = select + campos[x];\n                if (x+1&lt;campos.length)\n                    select = select + &quot;, &quot;;\n            }\n            select = select + &quot; FROM &quot;+tabla;\n            if (join != null) {\n                for (int tupla=0; tupla&lt;join.length; tupla++) {\n                    select = select + &quot; INNER JOIN &quot; + join[tupla][0] + &quot; ON &quot;+ tabla + &quot;.&quot; + join[tupla][1] + &quot; = &quot; + join[tupla][0] + &quot;.&quot; + join[tupla][2];\n                }\n            }\n            // This is the where part\n            if (condicionColumna!=null) {\n                select = select + &quot; WHERE &quot; ;\n                for (int i =0; i&lt;condicionColumna.length;i++) {\n                    // Usual where\n                    if (condicionColumna[i] != &quot;&quot; &amp;&amp; condicionColumna.length==condicionValor.length)\n                        select = select + condicionColumna[i]+&quot; = ? &quot;;\n                    // Between code goes trough here\n                    else if (condicionColumna[i] != &quot;&quot; &amp;&amp; condicionColumna.length==1 &amp;&amp; condicionValor.length==2)\n                        select = select+ condicionColumna[i]+&quot; BETWEEN julianday(?) AND julianday(?) &quot;;\n                    // Verifico si hay más rotaciones y añado el and o el OR\n                    if (((i+1)&lt;condicionColumna.length))\n                        select = select + &quot; &quot;+operador+&quot; &quot;;\n                }\n            }\n\n            // Checks for orders\n            if (!(orden==null || orden==&quot;&quot;))\n                select = select + &quot; ORDER BY ? &quot;;\n            // Create the sentence\n            prepSentencia = conexion.prepareStatement(select+&quot;;&quot;, PreparedStatement.RETURN_GENERATED_KEYS);\n            \n            // Fill the data\n            if (condicionValor!=null ) {\n                for (int i =0; i&lt;condicionValor.length;i++) {\n                    if (condicionValor[i] != &quot;&quot;)\n                        prepSentencia.setObject((i+1),condicionValor[i]);\n                    if (((i+1)==condicionValor.length) &amp;&amp; !(orden==null || orden==&quot;&quot;))\n                        prepSentencia.setString(i+2,orden);\n                }\n            } else if (!(orden==null || orden==&quot;&quot;))\n                prepSentencia.setString(1,orden);\n            resultado = prepSentencia.executeQuery();\n        }\n        else\n            throw new SQLException (&quot;I need input data&quot;);\n        return resultado;\n    }\n</code></pre>\n<p>Data input:</p>\n<p><code>pedirDatos(new String[] {&quot;*&quot;}, &quot;produccion&quot;,null,new String[] {&quot;julianday(dia)&quot;},new String[] {&quot;'2023-11-01'&quot;,&quot;'2023-11-31'&quot;},&quot;AND&quot;,null); </code></p>\n<p>The table is formed before with a statement as:</p>\n<pre><code>regularstatement.execute(&quot;CREATE TABLE IF NOT EXISTS produccion(\\n&quot;\n        + &quot; id_produccion INTEGER PRIMARY KEY,\\n&quot;\n        + &quot; dia TEXT NOT NULL,\\n&quot;\n        + &quot; hora TEXT NOT NULL,\\n&quot;\n        + &quot; cantidad REAL NOT NULL,\\n&quot;\n        + &quot; num_animales INTEGER NOT NULL,\\n&quot;\n        + &quot; media_por_animal INTEGER,\\n&quot;\n        + &quot; incidencias TEXT \\n&quot;\n        + &quot;);&quot;);\n</code></pre>\n<p>I know there is date field in SQLite, so i made it text.</p>\n<p>I was debugging and I found that the program goes properly trough all the code, and debugging the resultset contains the stmt part with this info:</p>\n<p>SELECT * FROM produccion WHERE julianday(dia, 'utc') BETWEEN julianday(?) AND julianday(?) ;\nparameters=['2023-11-01', '2023-11-31']</p>\n<p>I have verified that i have two rows in the table with the date 2023-11-17</p>\n<p>So it seems that I am inyecting the data properly in the prepared statement, and I feel like the sentence is correct. I have no idea why i am not getting results as I have been using this with success in the rest of the program.</p>\n<p>I have also tried using julianday(data,'utc'), strftime(), date() and using direclty the dates. I looked at <a href=\"https://sqlite.org/lang_datefunc.html\" rel=\"nofollow noreferrer\">https://sqlite.org/lang_datefunc.html</a> and could not make it work.</p>\n<p>What kills me, is that using an online viewer (<a href=\"https://inloop.github.io/sqlite-viewer/\" rel=\"nofollow noreferrer\">https://inloop.github.io/sqlite-viewer/</a>) i can make the SQL work, but when running java it returns no data when it should.</p>\n<p>Edit: to clarify, I started having this problem when I tried <code>SELECT * FROM 'produccion' WHERE dia BETWEEN '2023-11-01' AND '2023-11-30'</code> and did not work.</p>\n<p>Edit2: corrected julianday as forpas commented. Still no data returned.\nAdded proof that there is data in the database file\n<a href=\"https://i.stack.imgur.com/Us31d.png\" rel=\"nofollow noreferrer\">link to image</a></p>\n"},{"tags":["java","spring-boot"],"comment_count":0,"is_answered":false,"view_count":43,"answer_count":0,"score":0,"last_activity_date":1700896387,"creation_date":1700896387,"question_id":77546960,"body_markdown":"I&#39;m currently using Java&#39;s record keyword for creating Data Transfer Objects (DTOs) in my application, specifically for handling POST request data.\r\n\r\nI&#39;ve chosen to use record for its conciseness and immutability, but I&#39;m curious to learn more about the other benefits it may offer. Additionally, I&#39;d like to know if using record in this context (as a Request DTO for POST data) is appropriate and effective.\r\n\r\nFurthermore, are there any other use cases or scenarios where leveraging the record keyword would be particularly advantageous? I&#39;m interested in exploring different ways to effectively utilize this feature in Java.\r\n\r\n\r\n```\r\npublic record BookRegistrationRequest(\r\n        String title,\r\n        String author\r\n) {\r\n\r\n    public Book toDomain() {\r\n        return new Book(title, author);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@PostMapping\r\npublic ResponseDto&lt;Void&gt; registerBook(\r\n        @RequestBody final BookRegistrationRequest bookRegistrationRequest) {\r\n    bookFacade.registerBook(bookRegistrationRequest);\r\n    return ResponseDto.ok();\r\n}\r\n```\r\n\r\nI implemented a BookRegistrationRequest record as a DTO for handling POST requests. My expectation was that this implementation would simplify the code and provide a clear structure for data transfer.\r\n\r\nThank you for your insights!","link":"https://stackoverflow.com/questions/77546960/what-are-the-advantages-of-using-the-record-keyword-in-java-especially-for-dtos","title":"What are the advantages of using the record keyword in Java, especially for DTOs like BookRegistrationRequest? ( main text example )","body":"<p>I'm currently using Java's record keyword for creating Data Transfer Objects (DTOs) in my application, specifically for handling POST request data.</p>\n<p>I've chosen to use record for its conciseness and immutability, but I'm curious to learn more about the other benefits it may offer. Additionally, I'd like to know if using record in this context (as a Request DTO for POST data) is appropriate and effective.</p>\n<p>Furthermore, are there any other use cases or scenarios where leveraging the record keyword would be particularly advantageous? I'm interested in exploring different ways to effectively utilize this feature in Java.</p>\n<pre><code>public record BookRegistrationRequest(\n        String title,\n        String author\n) {\n\n    public Book toDomain() {\n        return new Book(title, author);\n    }\n}\n</code></pre>\n<pre><code>@PostMapping\npublic ResponseDto&lt;Void&gt; registerBook(\n        @RequestBody final BookRegistrationRequest bookRegistrationRequest) {\n    bookFacade.registerBook(bookRegistrationRequest);\n    return ResponseDto.ok();\n}\n</code></pre>\n<p>I implemented a BookRegistrationRequest record as a DTO for handling POST requests. My expectation was that this implementation would simplify the code and provide a clear structure for data transfer.</p>\n<p>Thank you for your insights!</p>\n"},{"tags":["java","windows","visual-studio-2017","vtk"],"comment_count":0,"is_answered":false,"view_count":40,"answer_count":0,"score":0,"last_activity_date":1700894746,"creation_date":1700887136,"last_edit_date":1700894746,"question_id":77546668,"body_markdown":"I am building VTK 7.1.1 on a Windows machine using cmake and Visual Studio 15 (2017) for use in a java project. The java version I am using is jdk_12.0.2.\r\n\r\nI follow this procedure: https://gitlab.kitware.com/vtk/vtk/-/blob/master/Documentation/dev/build_windows_vs.md\r\n\r\nI use cmake-gui (version 3.23.2) to configure and generate the Visual Studio solution to build VTK. Since I want to build the java libraries (vtk*.jar and the dlls, including various vtk*java.dlls), I turn on the following flags: Module_vtkWrappingJava, VTK_WRAP_JAVA. In addition, I also turn on VTK_USE_CXX11_FEATURES.\r\n\r\nBoth the ALL_BUILD and INSTALL builds are reported as successful by Visual Studio, with all successes and no failed builds for any of the items.\r\n\r\nThe vtk 7.1.1 source code has some java examples, including a few to display a cone and manipulate. When I try to compile and run, for the example, Examples\\Tutorial\\Step1\\Java\\Cone.java from the examples packaged with vtk 7.1.1, it fails due to some missing dlls. Cone.java loads the following dlls in the static block:\r\n    \r\n```\r\nSystem.loadLibrary(&quot;vtkCommonJava&quot;);\r\nSystem.loadLibrary(&quot;vtkFilteringJava&quot;);\r\nSystem.loadLibrary(&quot;vtkIOJava&quot;);\r\nSystem.loadLibrary(&quot;vtkImagingJava&quot;);\r\nSystem.loadLibrary(&quot;vtkGraphicsJava&quot;);\r\nSystem.loadLibrary(&quot;vtkRenderingJava&quot;);\r\n```\r\n\r\nI see all of these dlls are missing in the build or the installation folder. Under the installation folder, I see vtk-7.1.jar and vtk-7.1-natives-Windows-AMD64.jar. There is also a natives-Windows-AMD64 folder that contains nearly 200 dlls, including msvcp140*.dll and a lot of vtk*.dlls. But i do not see vtkCommonJava.dll, vtkFilteringJava.dll, vtkIOJava.dll, vtkImagingJava.dll, vtkGraphicsJava.dll and vtkRenderingJava.dll, which are required by the example Cona.java packed with the vtk7.1.1 source code. I also see a bin and a lib folder but both these folders only contain a vtkLocalExample.lib and a vtkLocalExampleJava.lib. \r\n\r\nAre these missing dlls supposed to be built by the building process in Visual Studio?. If so, are there any flags I should turn on in cmake-gui (to generate the Visual Studio project) that I am not turning on?\r\n\r\nOr are these dlls supposed to come from somewhere else I need to download?\r\n\r\nOr is this not the procedure to build vtk with java wrapping?.\r\n\r\nI searched online including on stackoverflow, but couldn&#39;t find anything related to these missing dlls. If this is covered in a previous thread here, can you point me to it?\r\n\r\nWhen configuring the Visual Studio project for building vtk 7.1.1. using cmake-gui, these are the flags I turned on iteratively until I saw a cmake Window without any red items. Then I clicked on Generate to create the vtk project and then used Visual Studio 15 (2017) community edition to build.\r\n\r\nBUILD_EXAMPLES, \r\nBUILD_TESTING, \r\nCMAKE_CXX_MP_FLAG, \r\nModule_vtkWrappingJava, \r\nVTK_USE_CXX11_FEATURES, \r\nVTK_WRAP_JAVA, \r\nVTK_USE_LARGE_DATA, \r\nVTK_JAVA_INSTALL, \r\nVTK_JAVA_SOURCE_VERSION: 1.8, \r\nVTK_JAVA_TARGET_VERSION: 1.8 \r\n\r\nAt the end of the successful build process, I expected to find vtk*.jar and the dlls to use vtk in java projects. I couldn&#39;t run all the packaged java examples and so I am wondering where I went wrong in the build process.\r\n\r\nThanks!","link":"https://stackoverflow.com/questions/77546668/missing-dlls-after-building-vtk-on-windows","title":"Missing dlls after building VTK on Windows","body":"<p>I am building VTK 7.1.1 on a Windows machine using cmake and Visual Studio 15 (2017) for use in a java project. The java version I am using is jdk_12.0.2.</p>\n<p>I follow this procedure: <a href=\"https://gitlab.kitware.com/vtk/vtk/-/blob/master/Documentation/dev/build_windows_vs.md\" rel=\"nofollow noreferrer\">https://gitlab.kitware.com/vtk/vtk/-/blob/master/Documentation/dev/build_windows_vs.md</a></p>\n<p>I use cmake-gui (version 3.23.2) to configure and generate the Visual Studio solution to build VTK. Since I want to build the java libraries (vtk*.jar and the dlls, including various vtk*java.dlls), I turn on the following flags: Module_vtkWrappingJava, VTK_WRAP_JAVA. In addition, I also turn on VTK_USE_CXX11_FEATURES.</p>\n<p>Both the ALL_BUILD and INSTALL builds are reported as successful by Visual Studio, with all successes and no failed builds for any of the items.</p>\n<p>The vtk 7.1.1 source code has some java examples, including a few to display a cone and manipulate. When I try to compile and run, for the example, Examples\\Tutorial\\Step1\\Java\\Cone.java from the examples packaged with vtk 7.1.1, it fails due to some missing dlls. Cone.java loads the following dlls in the static block:</p>\n<pre><code>System.loadLibrary(&quot;vtkCommonJava&quot;);\nSystem.loadLibrary(&quot;vtkFilteringJava&quot;);\nSystem.loadLibrary(&quot;vtkIOJava&quot;);\nSystem.loadLibrary(&quot;vtkImagingJava&quot;);\nSystem.loadLibrary(&quot;vtkGraphicsJava&quot;);\nSystem.loadLibrary(&quot;vtkRenderingJava&quot;);\n</code></pre>\n<p>I see all of these dlls are missing in the build or the installation folder. Under the installation folder, I see vtk-7.1.jar and vtk-7.1-natives-Windows-AMD64.jar. There is also a natives-Windows-AMD64 folder that contains nearly 200 dlls, including msvcp140*.dll and a lot of vtk*.dlls. But i do not see vtkCommonJava.dll, vtkFilteringJava.dll, vtkIOJava.dll, vtkImagingJava.dll, vtkGraphicsJava.dll and vtkRenderingJava.dll, which are required by the example Cona.java packed with the vtk7.1.1 source code. I also see a bin and a lib folder but both these folders only contain a vtkLocalExample.lib and a vtkLocalExampleJava.lib.</p>\n<p>Are these missing dlls supposed to be built by the building process in Visual Studio?. If so, are there any flags I should turn on in cmake-gui (to generate the Visual Studio project) that I am not turning on?</p>\n<p>Or are these dlls supposed to come from somewhere else I need to download?</p>\n<p>Or is this not the procedure to build vtk with java wrapping?.</p>\n<p>I searched online including on stackoverflow, but couldn't find anything related to these missing dlls. If this is covered in a previous thread here, can you point me to it?</p>\n<p>When configuring the Visual Studio project for building vtk 7.1.1. using cmake-gui, these are the flags I turned on iteratively until I saw a cmake Window without any red items. Then I clicked on Generate to create the vtk project and then used Visual Studio 15 (2017) community edition to build.</p>\n<p>BUILD_EXAMPLES,\nBUILD_TESTING,\nCMAKE_CXX_MP_FLAG,\nModule_vtkWrappingJava,\nVTK_USE_CXX11_FEATURES,\nVTK_WRAP_JAVA,\nVTK_USE_LARGE_DATA,\nVTK_JAVA_INSTALL,\nVTK_JAVA_SOURCE_VERSION: 1.8,\nVTK_JAVA_TARGET_VERSION: 1.8</p>\n<p>At the end of the successful build process, I expected to find vtk*.jar and the dlls to use vtk in java projects. I couldn't run all the packaged java examples and so I am wondering where I went wrong in the build process.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-webflux","project-reactor","flux","buffering"],"comments":[{"score":0,"post_type":"question","creation_date":1700902209,"post_id":77545642,"comment_id":136711119,"body_markdown":"The behaviour in the first case is &quot;accidental&quot;. flatMap launches concurrently tasks, and break guarantee of ordering. It may very well have displayed 1 or 3 elements before failing, instead of 0. From your question, I think what you want is a **Transaction**. But Reactor itself does not offer any transaction operator. You will have to look at how your database driver (jdbc, r2dbc, jpa, jooq, etc.) manage transactions.","link":"https://stackoverflow.com/questions/77545642/how-to-validate-flux-elements-that-are-later-buffered#comment136711119_77545642","body":"The behaviour in the first case is &quot;accidental&quot;. flatMap launches concurrently tasks, and break guarantee of ordering. It may very well have displayed 1 or 3 elements before failing, instead of 0. From your question, I think what you want is a <b>Transaction</b>. But Reactor itself does not offer any transaction operator. You will have to look at how your database driver (jdbc, r2dbc, jpa, jooq, etc.) manage transactions."},{"score":0,"post_type":"question","creation_date":1700919324,"post_id":77545642,"comment_id":136712402,"body_markdown":"My db is DynamoDB and it has no transaction support in the way as relational databases have. TransactWriteItems is not an option in my case.","link":"https://stackoverflow.com/questions/77545642/how-to-validate-flux-elements-that-are-later-buffered#comment136712402_77545642","body":"My db is DynamoDB and it has no transaction support in the way as relational databases have. TransactWriteItems is not an option in my case."},{"score":1,"post_type":"question","creation_date":1700926209,"post_id":77545642,"comment_id":136712968,"body_markdown":"In the first case _buffer_ is the whole flux, and it stops with an error because the flux fails to complete. The second with two element buffer, it emits the first part, then it stops with the same error too. To me, both behave the same way, you just define a different number of elements until it stops.","link":"https://stackoverflow.com/questions/77545642/how-to-validate-flux-elements-that-are-later-buffered#comment136712968_77545642","body":"In the first case <i>buffer</i> is the whole flux, and it stops with an error because the flux fails to complete. The second with two element buffer, it emits the first part, then it stops with the same error too. To me, both behave the same way, you just define a different number of elements until it stops."}],"comment_count":3,"is_answered":false,"view_count":64,"answer_count":0,"score":0,"last_activity_date":1700893505,"creation_date":1700859642,"last_edit_date":1700893505,"question_id":77545642,"body_markdown":"I have the following code which throws error and no flux elements is &quot;processed&quot; so printed on the screen:\r\n```\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;Z&quot;, &quot;D&quot;)\r\n                .flatMap(Test::validate)\r\n                .collectList()\r\n                .subscribe(System.out::println);\r\n    }\r\n\r\n    private static Mono&lt;String&gt; validate(String s) {\r\n        return &quot;Z&quot;.equals(s) ? Mono.error(new RuntimeException(&quot;It&#39;s Z!&quot;)) : Mono.just(s);\r\n    }\r\n}\r\n```\r\nBut let&#39;s say I want to improve performance with buffering and change main method to:\r\n```\r\n    public static void main(String[] args) {\r\n        Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;Z&quot;, &quot;D&quot;)\r\n                .flatMap(Test::validate)\r\n                .buffer(2)\r\n                .subscribe(System.out::println);\r\n    }\r\n```\r\nThis time error is thrown as well but 2 first elements belonging to first buffer are &quot;processed&quot; and displayed on the screen. **How to make program behaving like in the first case \r\n where no flux elements is processed and keep buffering?** This is ilustration of much more complex problem of mine. Introducing buffering gives big performance boost but if one element in the flux fails to validate, some elements are saved to the database while nothing should be saved.","link":"https://stackoverflow.com/questions/77545642/how-to-validate-flux-elements-that-are-later-buffered","title":"How to validate flux elements that are later buffered?","body":"<p>I have the following code which throws error and no flux elements is &quot;processed&quot; so printed on the screen:</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;Z&quot;, &quot;D&quot;)\n                .flatMap(Test::validate)\n                .collectList()\n                .subscribe(System.out::println);\n    }\n\n    private static Mono&lt;String&gt; validate(String s) {\n        return &quot;Z&quot;.equals(s) ? Mono.error(new RuntimeException(&quot;It's Z!&quot;)) : Mono.just(s);\n    }\n}\n</code></pre>\n<p>But let's say I want to improve performance with buffering and change main method to:</p>\n<pre><code>    public static void main(String[] args) {\n        Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;Z&quot;, &quot;D&quot;)\n                .flatMap(Test::validate)\n                .buffer(2)\n                .subscribe(System.out::println);\n    }\n</code></pre>\n<p>This time error is thrown as well but 2 first elements belonging to first buffer are &quot;processed&quot; and displayed on the screen. <strong>How to make program behaving like in the first case\nwhere no flux elements is processed and keep buffering?</strong> This is ilustration of much more complex problem of mine. Introducing buffering gives big performance boost but if one element in the flux fails to validate, some elements are saved to the database while nothing should be saved.</p>\n"},{"tags":["java","react-native","kotlin","gradle","react-native-safe-area-view"],"comment_count":0,"is_answered":false,"view_count":63,"answer_count":0,"score":1,"last_activity_date":1700893411,"creation_date":1700893411,"question_id":77546863,"body_markdown":"I am attempting to assemble a react native project for android, and am repeatedly running into this issue:\r\n\r\n\r\n```\r\nWhat went wrong:\r\nExecution failed for task &#39;:react-native-safe-area-context:compileDebugKotlin&#39;.\r\n&gt; Inconsistent JVM-target compatibility detected for tasks &#39;compileDebugJavaWithJavac&#39; (1.8) and &#39;compileDebugKotlin&#39; (17).\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:react-native-safe-area-context:compileDebugKotlin&#39;.\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\r\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)        \r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)        \r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:338)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:325)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:318)      \r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:304)      \r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:116)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:136)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:121)\r\n        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:35)\r\n        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:51)\r\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:54)\r\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:43)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)        \r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)        \r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:40)\r\n        at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$executeTasks$7(DefaultBuildLifecycleController.java:172)\r\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\r\n        at org.gradle.internal.model.StateTransitionController.lambda$tryTransition$8(StateTransitionController.java:185)\r\n        at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n        at org.gradle.internal.model.StateTransitionController.tryTransition(StateTransitionController.java:185)\r\n        at org.gradle.internal.build.DefaultBuildLifecycleController.executeTasks(DefaultBuildLifecycleController.java:172)\r\n        at org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.runWork(DefaultBuildWorkGraphController.java:209)\r\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n        at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n        at org.gradle.composite.internal.DefaultBuildController.doRun(DefaultBuildController.java:172)\r\n        at org.gradle.composite.internal.DefaultBuildController.access$000(DefaultBuildController.java:47)\r\n        at org.gradle.composite.internal.DefaultBuildController$BuildOpRunnable.run(DefaultBuildController.java:191)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\nCaused by: org.gradle.api.InvalidUserCodeException: Inconsistent JVM-target compatibility detected for tasks &#39;compileDebugJavaWithJavac&#39; (1.8) and &#39;compileDebugKotlin&#39; (17).\r\n```\r\n\r\nI was previously having this issue with other React Native packages prior to setting my kotlin version from 1.8 to 1.9.20. I believe this fixed the issue for other packages, but not this one. I do not understand why this package is still using kotlin gradle plugin 1.8 instead of 1.9.20. I am using Gradle 8.0.1 and jdk 17. Here is my android/build.gradle file:\r\n\r\n\r\n```\r\nbuildscript {\r\n    ext {\r\n        buildToolsVersion = &quot;30.0.3&quot;\r\n        minSdkVersion = 21\r\n        compileSdkVersion = 31\r\n        targetSdkVersion = 31\r\n        kotlinVersion = &quot;1.9.20&quot;\r\n    }\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven { url &#39;https://mvnrepository.com/artifact/com.android.tools.build/gradle&#39; }\r\n        maven { url &quot;https://maven.google.com&quot; }\r\n    }\r\n    dependencies {\r\n        classpath(&quot;com.android.tools.build:gradle:8.0.1&quot;)\r\n        classpath &#39;org.jetbrains.kotlin:kotlin-gradle-plugin:1.9.20&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        mavenLocal()\r\n        maven {\r\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n            url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;react-native/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../android&quot;))\r\n        }\r\n        maven {\r\n            // Android JSC is installed from npm\r\n            url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;jsc-android/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../dist&quot;))\r\n        }\r\n        google()\r\n        mavenCentral()\r\n        jcenter()\r\n        maven { url &#39;https://www.jitpack.io&#39; }\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nconfigurations.all {\r\n    resolutionStrategy {\r\n        force &#39;androidx.core:core-ktx:1.6.0&#39;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have added the kotlin-android plugin to my app/build.gradle file\r\n\r\n```\r\nplugins {\r\n    id &quot;com.android.application&quot;\r\n    id &quot;kotlin-android&quot;\r\n}\r\n```\r\nset source and target compatibility to Java version 17, set jvm toolchain to 17 for kotlin, and set the jvm target to 17 for kotlinOptions in the android block\r\n\r\n```\r\nandroid {\r\n    compileSdkVersion rootProject.ext.compileSdkVersion\r\n    compileSdkVersion 31\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n\r\n    kotlin {\r\n        jvmToolchain(17)\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = JavaVersion.VERSION_17\r\n    }\r\n    //...\r\n}\r\n```\r\nhoping to resolve this error, but unfortunately it is still occurring. I have tried looking into the other results that come up when I search this issue, but have not had any luck with them either. Any help would be much appreciated.\r\n\r\n","link":"https://stackoverflow.com/questions/77546863/jvm-target-compatibility-issues-for-react-native-safe-area-context","title":"JVM target compatibility issues for react-native-safe-area-context","body":"<p>I am attempting to assemble a react native project for android, and am repeatedly running into this issue:</p>\n<pre><code>What went wrong:\nExecution failed for task ':react-native-safe-area-context:compileDebugKotlin'.\n&gt; Inconsistent JVM-target compatibility detected for tasks 'compileDebugJavaWithJavac' (1.8) and 'compileDebugKotlin' (17).\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':react-native-safe-area-context:compileDebugKotlin'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)        \n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)        \n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:338)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:325)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:318)      \n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:304)      \n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\n        at org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:116)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:136)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:121)\n        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:35)\n        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:51)\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:54)\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:43)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)        \n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)        \n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:40)\n        at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$executeTasks$7(DefaultBuildLifecycleController.java:172)\n        at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\n        at org.gradle.internal.model.StateTransitionController.lambda$tryTransition$8(StateTransitionController.java:185)\n        at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n        at org.gradle.internal.model.StateTransitionController.tryTransition(StateTransitionController.java:185)\n        at org.gradle.internal.build.DefaultBuildLifecycleController.executeTasks(DefaultBuildLifecycleController.java:172)\n        at org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.runWork(DefaultBuildWorkGraphController.java:209)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n        at org.gradle.composite.internal.DefaultBuildController.doRun(DefaultBuildController.java:172)\n        at org.gradle.composite.internal.DefaultBuildController.access$000(DefaultBuildController.java:47)\n        at org.gradle.composite.internal.DefaultBuildController$BuildOpRunnable.run(DefaultBuildController.java:191)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\nCaused by: org.gradle.api.InvalidUserCodeException: Inconsistent JVM-target compatibility detected for tasks 'compileDebugJavaWithJavac' (1.8) and 'compileDebugKotlin' (17).\n</code></pre>\n<p>I was previously having this issue with other React Native packages prior to setting my kotlin version from 1.8 to 1.9.20. I believe this fixed the issue for other packages, but not this one. I do not understand why this package is still using kotlin gradle plugin 1.8 instead of 1.9.20. I am using Gradle 8.0.1 and jdk 17. Here is my android/build.gradle file:</p>\n<pre><code>buildscript {\n    ext {\n        buildToolsVersion = &quot;30.0.3&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 31\n        targetSdkVersion = 31\n        kotlinVersion = &quot;1.9.20&quot;\n    }\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://mvnrepository.com/artifact/com.android.tools.build/gradle' }\n        maven { url &quot;https://maven.google.com&quot; }\n    }\n    dependencies {\n        classpath(&quot;com.android.tools.build:gradle:8.0.1&quot;)\n        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.9.20'\n    }\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('react-native/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../android&quot;))\n        }\n        maven {\n            // Android JSC is installed from npm\n            url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('jsc-android/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../dist&quot;))\n        }\n        google()\n        mavenCentral()\n        jcenter()\n        maven { url 'https://www.jitpack.io' }\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\nconfigurations.all {\n    resolutionStrategy {\n        force 'androidx.core:core-ktx:1.6.0'\n    }\n}\n</code></pre>\n<p>I have added the kotlin-android plugin to my app/build.gradle file</p>\n<pre><code>plugins {\n    id &quot;com.android.application&quot;\n    id &quot;kotlin-android&quot;\n}\n</code></pre>\n<p>set source and target compatibility to Java version 17, set jvm toolchain to 17 for kotlin, and set the jvm target to 17 for kotlinOptions in the android block</p>\n<pre><code>android {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n    compileSdkVersion 31\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n\n    kotlin {\n        jvmToolchain(17)\n    }\n\n    kotlinOptions {\n        jvmTarget = JavaVersion.VERSION_17\n    }\n    //...\n}\n</code></pre>\n<p>hoping to resolve this error, but unfortunately it is still occurring. I have tried looking into the other results that come up when I search this issue, but have not had any luck with them either. Any help would be much appreciated.</p>\n"},{"tags":["java","spring-boot","oracle11g","xml-parsing","spring-jdbc"],"comments":[{"score":0,"post_type":"question","creation_date":1700898886,"post_id":77546058,"comment_id":136710832,"body_markdown":"What Java version are you using?","link":"https://stackoverflow.com/questions/77546058/getting-issue-unable-to-load-cache-item-while-upgrading-java-8-to-java17-with-sp#comment136710832_77546058","body":"What Java version are you using?"},{"score":0,"post_type":"question","creation_date":1700898942,"post_id":77546058,"comment_id":136710834,"body_markdown":"You have different versions in the title and the question itself, which one is it? 3.1.2 or 3.2.1?","link":"https://stackoverflow.com/questions/77546058/getting-issue-unable-to-load-cache-item-while-upgrading-java-8-to-java17-with-sp#comment136710834_77546058","body":"You have different versions in the title and the question itself, which one is it? 3.1.2 or 3.2.1?"}],"comment_count":2,"is_answered":false,"view_count":38,"answer_count":0,"score":0,"last_activity_date":1700893161,"creation_date":1700868138,"last_edit_date":1700893161,"question_id":77546058,"body_markdown":"I am upgrading from java 8 to spring boot 3.1.2, java 17. I am able to build the application, but run time getting this error. what are the clues.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:121)\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150)\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)\r\n        at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\r\n        at com.jpmc.cib.payments.psfxEmailNotification.processor.EmailNotificationJob.&lt;clinit&gt;(EmailNotificationJob.java:25)\r\nCaused by: java.lang.IllegalStateException: Unable to load cache item\r\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79)\r\n        at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:105)\r\n        at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:278)\r\n        at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\n        at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\n        at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\n        at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n        ... 10 more\r\nCaused by: java.lang.NoSuchMethodError: &#39;void org.springframework.asm.Item.set(int, java.lang.String, java.lang.String, java.lang.String)&#39;\r\n        at org.springframework.asm.ClassWriter.newClassItem(ClassWriter.java:1110)\r\n        at org.springframework.asm.ClassWriter.newClass(ClassWriter.java:1131)\r\n        at org.springframework.asm.ClassWriter.visit(ClassWriter.java:669)\r\n        at org.springframework.asm.ClassVisitor.visit(ClassVisitor.java:121)\r\n        at org.springframework.cglib.core.DebuggingClassWriter.visit(DebuggingClassWriter.java:60)\r\n        at org.springframework.cglib.core.ClassEmitter.begin_class(ClassEmitter.java:83)\r\n        at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:249)\r\n        at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n        at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:312)\r\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:85)\r\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:83)\r\n        at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n        ... 17 more\r\n```\r\n\r\ndependency\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.springframework.asm&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ao9Xn.png","link":"https://stackoverflow.com/questions/77546058/getting-issue-unable-to-load-cache-item-while-upgrading-java-8-to-java17-with-sp","title":"getting issue unable to load cache item while upgrading java 8 to java17 with spring boot 3.2.1","body":"<p>I am upgrading from java 8 to spring boot 3.1.2, java 17. I am able to build the application, but run time getting this error. what are the clues.</p>\n<p><a href=\"https://i.stack.imgur.com/ao9Xn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ao9Xn.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:121)\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150)\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)\n        at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\n        at com.jpmc.cib.payments.psfxEmailNotification.processor.EmailNotificationJob.&lt;clinit&gt;(EmailNotificationJob.java:25)\nCaused by: java.lang.IllegalStateException: Unable to load cache item\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79)\n        at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:105)\n        at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:278)\n        at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\n        at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\n        at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\n        at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n        ... 10 more\nCaused by: java.lang.NoSuchMethodError: 'void org.springframework.asm.Item.set(int, java.lang.String, java.lang.String, java.lang.String)'\n        at org.springframework.asm.ClassWriter.newClassItem(ClassWriter.java:1110)\n        at org.springframework.asm.ClassWriter.newClass(ClassWriter.java:1131)\n        at org.springframework.asm.ClassWriter.visit(ClassWriter.java:669)\n        at org.springframework.asm.ClassVisitor.visit(ClassVisitor.java:121)\n        at org.springframework.cglib.core.DebuggingClassWriter.visit(DebuggingClassWriter.java:60)\n        at org.springframework.cglib.core.ClassEmitter.begin_class(ClassEmitter.java:83)\n        at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:249)\n        at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n        at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:312)\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:85)\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:83)\n        at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n        ... 17 more\n</code></pre>\n<p>dependency</p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;org.springframework.asm&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","collections","java-8","max"],"comments":[{"score":0,"post_type":"question","creation_date":1700892957,"post_id":77101839,"comment_id":136710462,"body_markdown":"Your Question is not completely clear about wanting to examine subgroups of objects that share the same value in the `name` field.  Rewrite to be more explicit.","link":"https://stackoverflow.com/questions/77101839/how-to-get-all-the-different-elements-with-max-quantity-from-a-list-of-objects-i#comment136710462_77101839","body":"Your Question is not completely clear about wanting to examine subgroups of objects that share the same value in the <code>name</code> field.  Rewrite to be more explicit."}],"answers":[{"comments":[{"score":2,"post_type":"answer","creation_date":1694679156,"post_id":77101901,"comment_id":135923548,"body_markdown":"An established convention is do keep the first element in case of a tie, i.e., to use `&gt;=` instead of `&gt;`. That’s what you also get when using `BinaryOperator.maxBy(Comparator.comparingInt( Item::getQuantity))` as merge function.","link":"https://stackoverflow.com/questions/77101839/how-to-get-all-the-different-elements-with-max-quantity-from-a-list-of-objects-i/77101901#comment135923548_77101901","body":"An established convention is do keep the first element in case of a tie, i.e., to use <code>&gt;=</code> instead of <code>&gt;</code>. That’s what you also get when using <code>BinaryOperator.maxBy(Comparator.comparingInt( Item::getQuantity))</code> as merge function."}],"comment_count":1,"score":2,"last_activity_date":1700891660,"last_edit_date":1700891660,"creation_date":1694667740,"answer_id":77101901,"question_id":77101839,"body_markdown":"You want to collect your items into a Map, which will automatically resolve conflicts and provide a lambda function to reduce the values into your requirements: here, the highest quantity. The code should look like this:\r\n\r\n    List&lt;Item&gt; maxItems = itemList.stream()\r\n        .collect(Collectors.toMap(\r\n            Item::getName,\r\n            Function.identity(),\r\n            (item1, item2) -&gt; item1.getQuantity() &gt;= item2.getQuantity() ? item1 : item2\r\n        )).values();\r\n\r\nThe `.values()` extracts the List (from the Map) for all highest quantity items.","link":"https://stackoverflow.com/questions/77101839/how-to-get-all-the-different-elements-with-max-quantity-from-a-list-of-objects-i/77101901#77101901","title":"how to get all the different elements with max quantity from a list of objects in java 8","body":"<p>You want to collect your items into a Map, which will automatically resolve conflicts and provide a lambda function to reduce the values into your requirements: here, the highest quantity. The code should look like this:</p>\n<pre><code>List&lt;Item&gt; maxItems = itemList.stream()\n    .collect(Collectors.toMap(\n        Item::getName,\n        Function.identity(),\n        (item1, item2) -&gt; item1.getQuantity() &gt;= item2.getQuantity() ? item1 : item2\n    )).values();\n</code></pre>\n<p>The <code>.values()</code> extracts the List (from the Map) for all highest quantity items.</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1694668045,"creation_date":1694668045,"answer_id":77101929,"question_id":77101839,"body_markdown":"Your approach filter items that have a quantity equal to the global maximum. But you want the maximum quantity for each item name right? So you should do something like the following. \r\n\r\n```\r\nList&lt;Item&gt; maxQuantityItems = itemList.stream()\r\n                .collect(Collectors.groupingBy(Item::getName))\r\n                .values()\r\n                .stream()\r\n                .map(items -&gt; items.stream().max(Comparator.comparingInt(Item::getQuantity)).orElse(null))\r\n                .collect(Collectors.toList());\r\n```\r\n\r\n","link":"https://stackoverflow.com/questions/77101839/how-to-get-all-the-different-elements-with-max-quantity-from-a-list-of-objects-i/77101929#77101929","title":"how to get all the different elements with max quantity from a list of objects in java 8","body":"<p>Your approach filter items that have a quantity equal to the global maximum. But you want the maximum quantity for each item name right? So you should do something like the following.</p>\n<pre><code>List&lt;Item&gt; maxQuantityItems = itemList.stream()\n                .collect(Collectors.groupingBy(Item::getName))\n                .values()\n                .stream()\n                .map(items -&gt; items.stream().max(Comparator.comparingInt(Item::getQuantity)).orElse(null))\n                .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1700892904,"post_id":77102459,"comment_id":136710458,"body_markdown":"The Question is not clear, but seems to want to subgroup the objects first by duplicates of the `name` field. Then get an object with the maximum value of `quantity` field from that subgroup.","link":"https://stackoverflow.com/questions/77101839/how-to-get-all-the-different-elements-with-max-quantity-from-a-list-of-objects-i/77102459#comment136710458_77102459","body":"The Question is not clear, but seems to want to subgroup the objects first by duplicates of the <code>name</code> field. Then get an object with the maximum value of <code>quantity</code> field from that subgroup."}],"comment_count":1,"score":1,"last_activity_date":1700892596,"last_edit_date":1700892596,"creation_date":1694674462,"answer_id":77102459,"question_id":77101839,"body_markdown":"[`PriorityQueue`][1] is your friend:\r\n```java\r\npublic static Iterator&lt;Item&gt; sortByQuantityDesc(List&lt;Item&gt; items) {\r\n    Queue&lt;Item&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingInt(Item::getQuantity).reversed());\r\n    queue.addAll(items);\r\n    return queue.iterator();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/PriorityQueue.html","link":"https://stackoverflow.com/questions/77101839/how-to-get-all-the-different-elements-with-max-quantity-from-a-list-of-objects-i/77102459#77102459","title":"how to get all the different elements with max quantity from a list of objects in java 8","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\"><code>PriorityQueue</code></a> is your friend:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Iterator&lt;Item&gt; sortByQuantityDesc(List&lt;Item&gt; items) {\n    Queue&lt;Item&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingInt(Item::getQuantity).reversed());\n    queue.addAll(items);\n    return queue.iterator();\n}\n</code></pre>\n"}],"comment_count":1,"is_answered":true,"view_count":51,"answer_count":3,"score":2,"last_activity_date":1700892596,"creation_date":1694666678,"last_edit_date":1694695627,"question_id":77101839,"body_markdown":"I have a list of item. \r\n\r\n    class Item {\r\n      private String name;\r\n      private int quantity;\r\n\r\n    }\r\nThe List contains items like \r\n\r\n    List&lt;Item&gt; itemList = new ArrayList&lt;&gt;();\r\n    itemList.add(new Item(&quot;Item1&quot;, 5));\r\n    itemList.add(new Item(&quot;Item2&quot;, 10));\r\n    itemList.add(new Item(&quot;Item3&quot;, 10));\r\n    itemList.add(new Item(&quot;Item4&quot;, 7));\r\n    itemList.add(new Item(&quot;Item1&quot;, 15));\r\n    itemList.add(new Item(&quot;Item2&quot;, 16));\r\nThe output will be a list of items with max quantity like list of Item(&quot;Item1&quot;, 15), Item(&quot;Item2&quot;, 16), Item(&quot;Item3&quot;, 10), Item(&quot;Item4&quot;, 7).\r\n\r\nI tried but not getting the exact result.\r\n\r\n    List&lt;Item&gt; maxQuantityItems = itemList.stream()\r\n                .filter(item -&gt; item.getQuantity() == maxQuantity)\r\n                .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(Comparator.comparing(Item::getName))));\r\n\r\n\r\n ","link":"https://stackoverflow.com/questions/77101839/how-to-get-all-the-different-elements-with-max-quantity-from-a-list-of-objects-i","title":"how to get all the different elements with max quantity from a list of objects in java 8","body":"<p>I have a list of item.</p>\n<pre><code>class Item {\n  private String name;\n  private int quantity;\n\n}\n</code></pre>\n<p>The List contains items like</p>\n<pre><code>List&lt;Item&gt; itemList = new ArrayList&lt;&gt;();\nitemList.add(new Item(&quot;Item1&quot;, 5));\nitemList.add(new Item(&quot;Item2&quot;, 10));\nitemList.add(new Item(&quot;Item3&quot;, 10));\nitemList.add(new Item(&quot;Item4&quot;, 7));\nitemList.add(new Item(&quot;Item1&quot;, 15));\nitemList.add(new Item(&quot;Item2&quot;, 16));\n</code></pre>\n<p>The output will be a list of items with max quantity like list of Item(&quot;Item1&quot;, 15), Item(&quot;Item2&quot;, 16), Item(&quot;Item3&quot;, 10), Item(&quot;Item4&quot;, 7).</p>\n<p>I tried but not getting the exact result.</p>\n<pre><code>List&lt;Item&gt; maxQuantityItems = itemList.stream()\n            .filter(item -&gt; item.getQuantity() == maxQuantity)\n            .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(Comparator.comparing(Item::getName))));\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"comment_count":0,"is_answered":false,"view_count":29,"answer_count":0,"score":0,"last_activity_date":1700888438,"creation_date":1700888438,"question_id":77546700,"body_markdown":"Gradle is not pulling the java files from sourcesets while running the build.Gradle it gets import statement errors in few classjava files that few import statements are referring to the classjava packages in moduleEJB and some symbol missing errors and few data type depreciation errors\r\n\r\nIt is a multi-module web application project \r\nMy project structure looks like this\r\n    Main project \r\n     |\r\n     |—-moduleEar\r\n     |    ’build.gradle’ \r\n     |—-moduleEJB\r\n     |    ‘build.gradle’\r\n     |—-moduleWeb \r\n     |     ‘build.gradle‘\r\n     |\r\n     &#39;setting.Gradle&#39;\r\n\r\nmodule web looks like \r\n     `moduleWeb\r\n      | \r\n      |-src\r\n      |   ‘at/com\r\n      |         ‘lea/web/cntrlls..\r\n      |         ‘new/app/rest/..\r\n      |          Like this so many folders\r\n      |-lib         \r\n       |-build.gradle\r\n\r\nBut in eclipse the moduleWeb looks like when imported it\r\n    `Java Resources \r\n     |          \r\n       src\r\n          ‘at.com.lea.web.cntrlls’\r\n          ‘at.com.lea.web.printers.cntrls’\r\n              . . . . .  .\r\n          ‘at.com.new.app.rest…’\r\n          ‘at.com.new.app.rest…’\r\n              . . . . . . . . .\r\n          Like this so many packages `\r\n\r\nI think few of the classes are  have some dependency on moduleEJB\r\n\r\n\r\n  \r\n\r\n\r\n\r\n\r\nI tried  in many ways\r\n     `sourceSets {\r\n      main{ \r\n        java{ \r\n          src = [‘src’] \r\n          include ‘**/*.java’\r\n        }\r\n      resources {\r\n          src = [‘src’] \r\n          include ‘**/*.properties’\r\n      }\r\n   }\r\n  }\r\nresources are pulling from Gradle but the java files are not able to pull\r\n\r\nAnd Also tried adding a dependency in dependencies block \r\nimplementation project(‘:moduleEJB’)\r\n\r\nAnd add moduleEJB in the moduleWeb-&gt;build path-&gt;project-&gt;add\r\n\r\nAnd add dependency like implementation(dir: &quot;moduleEJB/ejbModule/at/com/&quot;, include: &quot;**/*.java&quot;)\r\n\r\n\r\nBut still getting the same errors\r\n","link":"https://stackoverflow.com/questions/77546700/build-gradle-gradle-is-not-able-to-pull-the-java-files-from-source","title":"build.gradle - Gradle is not able to pull the java files from source","body":"<p>Gradle is not pulling the java files from sourcesets while running the build.Gradle it gets import statement errors in few classjava files that few import statements are referring to the classjava packages in moduleEJB and some symbol missing errors and few data type depreciation errors</p>\n<p>It is a multi-module web application project\nMy project structure looks like this\nMain project\n|\n|—-moduleEar\n|    ’build.gradle’\n|—-moduleEJB\n|    ‘build.gradle’\n|—-moduleWeb\n|     ‘build.gradle‘\n|\n'setting.Gradle'</p>\n<p>module web looks like\n`moduleWeb\n|\n|-src\n|   ‘at/com\n|         ‘lea/web/cntrlls..\n|         ‘new/app/rest/..\n|          Like this so many folders\n|-lib<br />\n|-build.gradle</p>\n<p>But in eclipse the moduleWeb looks like when imported it\n<code>Java Resources  |           src ‘at.com.lea.web.cntrlls’ ‘at.com.lea.web.printers.cntrls’ . . . . .  . ‘at.com.new.app.rest…’ ‘at.com.new.app.rest…’ . . . . . . . . . Like this so many packages </code></p>\n<p>I think few of the classes are  have some dependency on moduleEJB</p>\n<p>I tried  in many ways\n`sourceSets {\nmain{\njava{\nsrc = [‘src’]\ninclude ‘<strong>/*.java’\n}\nresources {\nsrc = [‘src’]\ninclude ‘</strong>/*.properties’\n}\n}\n}\nresources are pulling from Gradle but the java files are not able to pull</p>\n<p>And Also tried adding a dependency in dependencies block\nimplementation project(‘:moduleEJB’)</p>\n<p>And add moduleEJB in the moduleWeb-&gt;build path-&gt;project-&gt;add</p>\n<p>And add dependency like implementation(dir: &quot;moduleEJB/ejbModule/at/com/&quot;, include: &quot;**/*.java&quot;)</p>\n<p>But still getting the same errors</p>\n"},{"tags":["java","spring","gradle"],"comments":[{"score":1,"post_type":"question","creation_date":1700891020,"post_id":77546638,"comment_id":136710369,"body_markdown":"Do you mean a multi-module project?","link":"https://stackoverflow.com/questions/77546638/error-when-compiling-project-in-intellij-idea#comment136710369_77546638","body":"Do you mean a multi-module project?"}],"comment_count":1,"is_answered":false,"view_count":26,"answer_count":0,"score":0,"last_activity_date":1700886265,"creation_date":1700886265,"question_id":77546638,"body_markdown":"I have this error when compiling a Multi project in gradle in the intellij editor, in Linux it works normally but in windows I have this error\r\n\r\n`Cannot locate tasks that match &#39;:maintenance-service:MaintenanceServiceApplication.main()&#39; as project &#39;maintenance-service&#39; not found in root project &#39;maintenance-service&#39;.\r\n\r\n* Try:\r\n&gt; Run gradle projects to get a list of available projects.\r\n&gt; For more on name expansion, please refer to https://docs.gradle.org/8.2/userguide/command_line_interface.html#sec:name_abbreviation in the Gradle documentation.\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\nBUILD FAILED in 943ms\r\n\r\n`\r\n\r\nI have tested it on a Linux operating system and it works normally but on Windows it gives me an error.","link":"https://stackoverflow.com/questions/77546638/error-when-compiling-project-in-intellij-idea","title":"Error when compiling project in Intellij Idea","body":"<p>I have this error when compiling a Multi project in gradle in the intellij editor, in Linux it works normally but in windows I have this error</p>\n<p>`Cannot locate tasks that match ':maintenance-service:MaintenanceServiceApplication.main()' as project 'maintenance-service' not found in root project 'maintenance-service'.</p>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run gradle projects to get a list of available projects.\nFor more on name expansion, please refer to <a href=\"https://docs.gradle.org/8.2/userguide/command_line_interface.html#sec:name_abbreviation\" rel=\"nofollow noreferrer\">https://docs.gradle.org/8.2/userguide/command_line_interface.html#sec:name_abbreviation</a> in the Gradle documentation.\nRun with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\nGet more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a>.\nBUILD FAILED in 943ms</p>\n</blockquote>\n<p>`</p>\n<p>I have tested it on a Linux operating system and it works normally but on Windows it gives me an error.</p>\n"},{"tags":["java","javafx","version"],"comments":[{"score":1,"post_type":"question","creation_date":1700883518,"post_id":77546542,"comment_id":136709977,"body_markdown":"*&quot;How would I change it from 61&quot;*  - recompile it using a Java 11 compiler.  *&quot;Why would it be that in the first place?&quot;* - because you compiled it using a Java 17 compiler!!  (If you are using an IDE ... make sure that you have Java 11 installed and that your IDE knows to use it for this project.  Details will be IDE specific ... and easily discoverable via the duplink or a a Google search.)","link":"https://stackoverflow.com/questions/77546542/error-continues-to-pop-up-when-trying-to-run-a-file-with-javafx-on-command-promp#comment136709977_77546542","body":"<i>&quot;How would I change it from 61&quot;</i>  - recompile it using a Java 11 compiler.  <i>&quot;Why would it be that in the first place?&quot;</i> - because you compiled it using a Java 17 compiler!!  (If you are using an IDE ... make sure that you have Java 11 installed and that your IDE knows to use it for this project.  Details will be IDE specific ... and easily discoverable via the duplink or a a Google search.)"},{"score":3,"post_type":"question","creation_date":1700889594,"post_id":77546542,"comment_id":136710284,"body_markdown":"You didn&#39;t compile the code which isn&#39;t working in your environment. It isn&#39;t your code - it is the JavaFX SDK, so you don&#39;t need to compile it, but you do need to run it in the correct environment.  You are using JavaFX 21.  See the [openjfx.io](https://openjfx.io/openjfx-docs/#introduction) site for how to use it.  Including [&quot;Installing Java&quot;](https://openjfx.io/openjfx-docs/#install-java) -&gt; &quot;JavaFX 21 needs at least JDK 17.&quot; and [&quot;Run HelloWorld using JavaFX SDK&quot;](https://openjfx.io/openjfx-docs/#install-javafx), which provides an example of running a JavaFX app from the command line.","link":"https://stackoverflow.com/questions/77546542/error-continues-to-pop-up-when-trying-to-run-a-file-with-javafx-on-command-promp#comment136710284_77546542","body":"You didn&#39;t compile the code which isn&#39;t working in your environment. It isn&#39;t your code - it is the JavaFX SDK, so you don&#39;t need to compile it, but you do need to run it in the correct environment.  You are using JavaFX 21.  See the <a href=\"https://openjfx.io/openjfx-docs/#introduction\" rel=\"nofollow noreferrer\">openjfx.io</a> site for how to use it.  Including <a href=\"https://openjfx.io/openjfx-docs/#install-java\" rel=\"nofollow noreferrer\">&quot;Installing Java&quot;</a> -&gt; &quot;JavaFX 21 needs at least JDK 17.&quot; and <a href=\"https://openjfx.io/openjfx-docs/#install-javafx\" rel=\"nofollow noreferrer\">&quot;Run HelloWorld using JavaFX SDK&quot;</a>, which provides an example of running a JavaFX app from the command line."},{"score":2,"post_type":"question","creation_date":1700890231,"post_id":77546542,"comment_id":136710321,"body_markdown":"Also `.java` is a source file.  You don&#39;t run source files in Java, (unless in the very rare case it is a [single file source code program](https://openjdk.org/jeps/330).  Instead you run class files.  To do that, you don&#39;t provide any extension to the name of the class you are trying to run.  Again, the openjfx documentation referenced provides an example: `java --module-path $PATH_TO_FX --add-modules javafx.controls HelloFX`.","link":"https://stackoverflow.com/questions/77546542/error-continues-to-pop-up-when-trying-to-run-a-file-with-javafx-on-command-promp#comment136710321_77546542","body":"Also <code>.java</code> is a source file.  You don&#39;t run source files in Java, (unless in the very rare case it is a <a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\">single file source code program</a>.  Instead you run class files.  To do that, you don&#39;t provide any extension to the name of the class you are trying to run.  Again, the openjfx documentation referenced provides an example: <code>java --module-path $PATH_TO_FX --add-modules javafx.controls HelloFX</code>."}],"comment_count":3,"is_answered":false,"view_count":26,"answer_count":0,"score":0,"last_activity_date":1700882878,"creation_date":1700882878,"question_id":77546542,"body_markdown":"So I have been following this [post](https://stackoverflow.com/questions/62129569/how-to-run-javafx-application-from-command-line) to try and run a java file on command prompt. However, this error keeps coming up \r\n\r\n\r\n&gt;C:\\Users\\blued\\OneDrive\\Documents&gt;javac --module-path &quot;C:\\javafx-sdk-21.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml HangmanGUI.java\r\nerror: cannot access module-info\r\n  bad class file: C:\\javafx-sdk-21.0.1\\lib\\javafx.fxml.jar(/module-info.class)\r\n    class file has wrong version 61.0, should be 55.0\r\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\r\nerror: cannot access module-info\r\n  bad class file: C:\\javafx-sdk-21.0.1\\lib\\javafx.controls.jar(/module-info.class)\r\n    class file has wrong version 61.0, should be 55.0\r\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n2 errors\r\n\r\n&gt;C:\\Users\\blued\\OneDrive\\Documents&gt;java  --module-path &quot;C:\\javafx-sdk-21.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml HangmanGUI.java\r\nUnrecognized option: --module-path\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\n[![image of error if that is more clear][1]][1]\r\n\r\n\r\nI&#39;ve never heard of a class file version before but I looked it up and saw this [post](https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers)\r\n\r\nso apparently I should have class file version 55.0 because I have java 11 installed. That is what comes up when I check the version on command prompt. How would I change it from 61 and why would it be that in the first place? Thank you in advance. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GrL0z.png","link":"https://stackoverflow.com/questions/77546542/error-continues-to-pop-up-when-trying-to-run-a-file-with-javafx-on-command-promp","title":"Error continues to pop up when trying to run a file with Javafx on command prompt about class file version?","body":"<p>So I have been following this <a href=\"https://stackoverflow.com/questions/62129569/how-to-run-javafx-application-from-command-line\">post</a> to try and run a java file on command prompt. However, this error keeps coming up</p>\n<blockquote>\n<p>C:\\Users\\blued\\OneDrive\\Documents&gt;javac --module-path &quot;C:\\javafx-sdk-21.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml HangmanGUI.java\nerror: cannot access module-info\nbad class file: C:\\javafx-sdk-21.0.1\\lib\\javafx.fxml.jar(/module-info.class)\nclass file has wrong version 61.0, should be 55.0\nPlease remove or make sure it appears in the correct subdirectory of the classpath.\nerror: cannot access module-info\nbad class file: C:\\javafx-sdk-21.0.1\\lib\\javafx.controls.jar(/module-info.class)\nclass file has wrong version 61.0, should be 55.0\nPlease remove or make sure it appears in the correct subdirectory of the classpath.\n2 errors</p>\n</blockquote>\n<blockquote>\n<p>C:\\Users\\blued\\OneDrive\\Documents&gt;java  --module-path &quot;C:\\javafx-sdk-21.0.1\\lib&quot; --add-modules=javafx.controls,javafx.fxml HangmanGUI.java\nUnrecognized option: --module-path\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/GrL0z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GrL0z.png\" alt=\"image of error if that is more clear\" /></a></p>\n<p>I've never heard of a class file version before but I looked it up and saw this <a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">post</a></p>\n<p>so apparently I should have class file version 55.0 because I have java 11 installed. That is what comes up when I check the version on command prompt. How would I change it from 61 and why would it be that in the first place? Thank you in advance.</p>\n"},{"tags":["java","sql","database","sqlite","android-studio"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700876573,"creation_date":1700876573,"answer_id":77546364,"question_id":77534377,"body_markdown":"To get this to work I changed the query, keeping the `LEFT JOIN` but removing the `CASE` as that seemed to be causing the problems.  I am now evaluating the join in the `do while` loop to determine whether there is a connection between the two tables and if there is I am setting the `isConnected` flag to &#39;true&#39; and if there is not setting to &#39;false&#39;.  From here I add it into the `bandList` class object.\r\n\r\nHere is the adjusted query which now returns everything from the `bands` table and sets the flag `isConnected` when the `band_id` also exists within the `songs_bands` table for the `song_id` being investigated:\r\n```\r\npublic List&lt;BandInfo&gt; getAllBandsWithConnectionStatus(int songId) {\r\n    removeDuplicateSongBandPairs();\r\n    List&lt;BandInfo&gt; bandList = new ArrayList&lt;&gt;();\r\n    SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n\r\n    // Query to retrieve all bands with connection status for a specific song\r\n    String[] columns = {&quot;bands._id&quot;, &quot;bands.band_name&quot;, &quot;songs_bands.band_id AS isConnected&quot;};\r\n    String selection = null;  // No need for a WHERE clause\r\n    String[] selectionArgs = {String.valueOf(songId)};\r\n\r\n    Cursor cursor = db.query(\r\n            &quot;bands LEFT JOIN songs_bands ON bands._id = songs_bands.band_id AND songs_bands.song_id = ?&quot;,\r\n            columns,\r\n            selection,\r\n            selectionArgs,\r\n            null,\r\n            null,\r\n            null\r\n    );\r\n\r\n    if (cursor.moveToFirst()) {\r\n        int idColumnIndex = cursor.getColumnIndex(&quot;_id&quot;);\r\n        int nameColumnIndex = cursor.getColumnIndex(&quot;band_name&quot;);\r\n        int isConnectedColumnIndex = cursor.getColumnIndex(&quot;isConnected&quot;);\r\n\r\n        do {\r\n            int bandId = cursor.getInt(idColumnIndex);\r\n            String bandName = cursor.getString(nameColumnIndex);\r\n            int isConnected = 0;\r\n            Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) line #564 - cursor.getString(isConnectedColumnIndex)&quot; + cursor.getString(isConnectedColumnIndex));\r\n            if (!cursor.isNull(isConnectedColumnIndex)) {\r\n                if (isConnectedColumnIndex &gt; 0) {\r\n                    isConnected = 1;\r\n                }\r\n                else {\r\n                    isConnected = 0;\r\n                }\r\n                Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) line #567 - cursor.getInt(isConnectedColumnIndex): &quot; + cursor.getInt(isConnectedColumnIndex));\r\n            }\r\n            BandInfo bandInfo = new BandInfo(bandId, bandName, isConnected == 1);\r\n            bandList.add(bandInfo);\r\n\r\n            // Log the band information\r\n            Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) line #574 - BandInfo in list: &quot; + bandInfo.toString());\r\n        } while (cursor.moveToNext());\r\n    }\r\n    cursor.close();\r\n    return bandList;\r\n}\r\n```","link":"https://stackoverflow.com/questions/77534377/retrieving-all-records-with-connection-status-using-sqlite-and-java/77546364#77546364","title":"Retrieving all records with &#39;connection status&#39; using SQLite and Java","body":"<p>To get this to work I changed the query, keeping the <code>LEFT JOIN</code> but removing the <code>CASE</code> as that seemed to be causing the problems.  I am now evaluating the join in the <code>do while</code> loop to determine whether there is a connection between the two tables and if there is I am setting the <code>isConnected</code> flag to 'true' and if there is not setting to 'false'.  From here I add it into the <code>bandList</code> class object.</p>\n<p>Here is the adjusted query which now returns everything from the <code>bands</code> table and sets the flag <code>isConnected</code> when the <code>band_id</code> also exists within the <code>songs_bands</code> table for the <code>song_id</code> being investigated:</p>\n<pre><code>public List&lt;BandInfo&gt; getAllBandsWithConnectionStatus(int songId) {\n    removeDuplicateSongBandPairs();\n    List&lt;BandInfo&gt; bandList = new ArrayList&lt;&gt;();\n    SQLiteDatabase db = this.getReadableDatabase();\n\n\n    // Query to retrieve all bands with connection status for a specific song\n    String[] columns = {&quot;bands._id&quot;, &quot;bands.band_name&quot;, &quot;songs_bands.band_id AS isConnected&quot;};\n    String selection = null;  // No need for a WHERE clause\n    String[] selectionArgs = {String.valueOf(songId)};\n\n    Cursor cursor = db.query(\n            &quot;bands LEFT JOIN songs_bands ON bands._id = songs_bands.band_id AND songs_bands.song_id = ?&quot;,\n            columns,\n            selection,\n            selectionArgs,\n            null,\n            null,\n            null\n    );\n\n    if (cursor.moveToFirst()) {\n        int idColumnIndex = cursor.getColumnIndex(&quot;_id&quot;);\n        int nameColumnIndex = cursor.getColumnIndex(&quot;band_name&quot;);\n        int isConnectedColumnIndex = cursor.getColumnIndex(&quot;isConnected&quot;);\n\n        do {\n            int bandId = cursor.getInt(idColumnIndex);\n            String bandName = cursor.getString(nameColumnIndex);\n            int isConnected = 0;\n            Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) line #564 - cursor.getString(isConnectedColumnIndex)&quot; + cursor.getString(isConnectedColumnIndex));\n            if (!cursor.isNull(isConnectedColumnIndex)) {\n                if (isConnectedColumnIndex &gt; 0) {\n                    isConnected = 1;\n                }\n                else {\n                    isConnected = 0;\n                }\n                Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) line #567 - cursor.getInt(isConnectedColumnIndex): &quot; + cursor.getInt(isConnectedColumnIndex));\n            }\n            BandInfo bandInfo = new BandInfo(bandId, bandName, isConnected == 1);\n            bandList.add(bandInfo);\n\n            // Log the band information\n            Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) line #574 - BandInfo in list: &quot; + bandInfo.toString());\n        } while (cursor.moveToNext());\n    }\n    cursor.close();\n    return bandList;\n}\n</code></pre>\n"}],"comment_count":0,"is_answered":true,"view_count":44,"answer_count":1,"score":0,"last_activity_date":1700876573,"creation_date":1700714220,"last_edit_date":1700715429,"question_id":77534377,"body_markdown":"I&#39;m working on an Android application that utilizes a SQLite database to store and manage music data. I&#39;ve encountered an issue with a method in my `DatabaseHelper` class that aims to retrieve all bands associated with a specific song, along with their connection status.  So all band names (`band_name`) from the `bands` table should be returned and when the `band_id` is contained in the `songs_bands` table the boolean `isConnected` should be set to 1, otherwise the `isConnected` will be 0.  \r\n\r\nThe method receives an `int` value for the `songId` parameter and is expected to return a `List` of `BandInfo` objects. Each `BandInfo` object should contain the band&#39;s ID, name, and a boolean value indicating whether the band is connected to the specified song (`isConnected`).\r\n\r\nHere is the method from `DatabaseHelper`:\r\n```\r\n    public List&lt;BandInfo&gt; getAllBandsWithConnectionStatus(int songId) {\r\n        List&lt;BandInfo&gt; bandList = new ArrayList&lt;&gt;();\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n        // Query to retrieve all bands with connection status for a specific song\r\n        String[] columns = {&quot;bands._id&quot;, &quot;bands.band_name&quot;, &quot;CASE WHEN songs_bands.band_id IS NULL THEN 0 ELSE 1 END AS is_connected&quot;};\r\n        String selection = &quot;songs_bands.song_id = ?&quot;;\r\n        String[] selectionArgs = {String.valueOf(songId)};\r\n\r\n        Cursor cursor = db.query(\r\n                &quot;bands LEFT JOIN songs_bands ON bands._id = songs_bands.band_id&quot;,\r\n                columns,\r\n                selection,\r\n                selectionArgs,\r\n                null,\r\n                null,\r\n                null\r\n        );\r\n\r\n        if (cursor.moveToFirst()) {\r\n            int idColumnIndex = cursor.getColumnIndex(&quot;_id&quot;);\r\n            int nameColumnIndex = cursor.getColumnIndex(&quot;band_name&quot;);\r\n            int isConnectedColumnIndex = cursor.getColumnIndex(&quot;is_connected&quot;);\r\n\r\n            do {\r\n                int bandId = cursor.getInt(idColumnIndex);\r\n                String bandName = cursor.getString(nameColumnIndex);\r\n                int isConnected = cursor.getInt(isConnectedColumnIndex);\r\n\r\n                BandInfo bandInfo = new BandInfo(bandId, bandName, isConnected == 1);\r\n                bandList.add(bandInfo);\r\n            } while (cursor.moveToNext());\r\n        }\r\n\r\n        cursor.close();\r\n        // Print the list of BandInfo objects before returning\r\n        for (BandInfo bandInfo : bandList) {\r\n            Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) BandInfo in list: &quot; + bandInfo.toString());\r\n        }\r\n        return bandList;\r\n    }\r\n```\r\n\r\nThe problem arises when I execute this method. Instead of returning a complete List of `BandInfo` objects, the `bandList` only contains the connected bands. The non-connected bands are not included in the list.\r\n\r\nI&#39;ve tried modifying the query and checking for any potential errors in the code, but I haven&#39;t been able to resolve the issue. I&#39;m hoping to get some insights on how to correctly retrieve all bands, including those not connected to the specified song, and set their `isConnected` boolean accordingly.\r\n\r\nHere are the two tables used within this query - first the `bands`:\r\n```\r\n    private static final String SQL_CREATE_BANDS_TABLE =\r\n            &quot;CREATE TABLE &quot; + DatabaseContract.Bands.TABLE_NAME + &quot; (&quot; +\r\n                    DatabaseContract.Bands._ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                    DatabaseContract.Bands.COLUMN_BAND_NAME + &quot; TEXT NOT NULL, &quot; +\r\n                    DatabaseContract.Bands.COLUMN_BAND_DESCRIPTION + &quot; TEXT)&quot;;\r\n```\r\nand the `user_bands`:\r\n```\r\n    private static final String SQL_CREATE_USER_BANDS_TABLE =\r\n            &quot;CREATE TABLE &quot; + DatabaseContract.UserBands.TABLE_NAME + &quot; (&quot; +\r\n                    DatabaseContract.UserBands._ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                    DatabaseContract.UserBands.COLUMN_USER_ID + &quot; INTEGER, &quot; +\r\n                    DatabaseContract.UserBands.COLUMN_BAND_ID + &quot; INTEGER, &quot; +\r\n                    &quot;FOREIGN KEY (&quot; + DatabaseContract.UserBands.COLUMN_USER_ID + &quot;) REFERENCES &quot; +\r\n                    DatabaseContract.Users.TABLE_NAME + &quot;(&quot; + DatabaseContract.Users._ID + &quot;), &quot; +\r\n                    &quot;FOREIGN KEY (&quot; + DatabaseContract.UserBands.COLUMN_BAND_ID + &quot;) REFERENCES &quot; +\r\n                    DatabaseContract.Bands.TABLE_NAME + &quot;(&quot; + DatabaseContract.Bands._ID + &quot;))&quot;;\r\n```\r\nAny assistance would be greatly appreciated.","link":"https://stackoverflow.com/questions/77534377/retrieving-all-records-with-connection-status-using-sqlite-and-java","title":"Retrieving all records with &#39;connection status&#39; using SQLite and Java","body":"<p>I'm working on an Android application that utilizes a SQLite database to store and manage music data. I've encountered an issue with a method in my <code>DatabaseHelper</code> class that aims to retrieve all bands associated with a specific song, along with their connection status.  So all band names (<code>band_name</code>) from the <code>bands</code> table should be returned and when the <code>band_id</code> is contained in the <code>songs_bands</code> table the boolean <code>isConnected</code> should be set to 1, otherwise the <code>isConnected</code> will be 0.</p>\n<p>The method receives an <code>int</code> value for the <code>songId</code> parameter and is expected to return a <code>List</code> of <code>BandInfo</code> objects. Each <code>BandInfo</code> object should contain the band's ID, name, and a boolean value indicating whether the band is connected to the specified song (<code>isConnected</code>).</p>\n<p>Here is the method from <code>DatabaseHelper</code>:</p>\n<pre><code>    public List&lt;BandInfo&gt; getAllBandsWithConnectionStatus(int songId) {\n        List&lt;BandInfo&gt; bandList = new ArrayList&lt;&gt;();\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        // Query to retrieve all bands with connection status for a specific song\n        String[] columns = {&quot;bands._id&quot;, &quot;bands.band_name&quot;, &quot;CASE WHEN songs_bands.band_id IS NULL THEN 0 ELSE 1 END AS is_connected&quot;};\n        String selection = &quot;songs_bands.song_id = ?&quot;;\n        String[] selectionArgs = {String.valueOf(songId)};\n\n        Cursor cursor = db.query(\n                &quot;bands LEFT JOIN songs_bands ON bands._id = songs_bands.band_id&quot;,\n                columns,\n                selection,\n                selectionArgs,\n                null,\n                null,\n                null\n        );\n\n        if (cursor.moveToFirst()) {\n            int idColumnIndex = cursor.getColumnIndex(&quot;_id&quot;);\n            int nameColumnIndex = cursor.getColumnIndex(&quot;band_name&quot;);\n            int isConnectedColumnIndex = cursor.getColumnIndex(&quot;is_connected&quot;);\n\n            do {\n                int bandId = cursor.getInt(idColumnIndex);\n                String bandName = cursor.getString(nameColumnIndex);\n                int isConnected = cursor.getInt(isConnectedColumnIndex);\n\n                BandInfo bandInfo = new BandInfo(bandId, bandName, isConnected == 1);\n                bandList.add(bandInfo);\n            } while (cursor.moveToNext());\n        }\n\n        cursor.close();\n        // Print the list of BandInfo objects before returning\n        for (BandInfo bandInfo : bandList) {\n            Log.d(&quot;SplashActivityZZ&quot;, &quot;(DatabaseHelper) BandInfo in list: &quot; + bandInfo.toString());\n        }\n        return bandList;\n    }\n</code></pre>\n<p>The problem arises when I execute this method. Instead of returning a complete List of <code>BandInfo</code> objects, the <code>bandList</code> only contains the connected bands. The non-connected bands are not included in the list.</p>\n<p>I've tried modifying the query and checking for any potential errors in the code, but I haven't been able to resolve the issue. I'm hoping to get some insights on how to correctly retrieve all bands, including those not connected to the specified song, and set their <code>isConnected</code> boolean accordingly.</p>\n<p>Here are the two tables used within this query - first the <code>bands</code>:</p>\n<pre><code>    private static final String SQL_CREATE_BANDS_TABLE =\n            &quot;CREATE TABLE &quot; + DatabaseContract.Bands.TABLE_NAME + &quot; (&quot; +\n                    DatabaseContract.Bands._ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                    DatabaseContract.Bands.COLUMN_BAND_NAME + &quot; TEXT NOT NULL, &quot; +\n                    DatabaseContract.Bands.COLUMN_BAND_DESCRIPTION + &quot; TEXT)&quot;;\n</code></pre>\n<p>and the <code>user_bands</code>:</p>\n<pre><code>    private static final String SQL_CREATE_USER_BANDS_TABLE =\n            &quot;CREATE TABLE &quot; + DatabaseContract.UserBands.TABLE_NAME + &quot; (&quot; +\n                    DatabaseContract.UserBands._ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                    DatabaseContract.UserBands.COLUMN_USER_ID + &quot; INTEGER, &quot; +\n                    DatabaseContract.UserBands.COLUMN_BAND_ID + &quot; INTEGER, &quot; +\n                    &quot;FOREIGN KEY (&quot; + DatabaseContract.UserBands.COLUMN_USER_ID + &quot;) REFERENCES &quot; +\n                    DatabaseContract.Users.TABLE_NAME + &quot;(&quot; + DatabaseContract.Users._ID + &quot;), &quot; +\n                    &quot;FOREIGN KEY (&quot; + DatabaseContract.UserBands.COLUMN_BAND_ID + &quot;) REFERENCES &quot; +\n                    DatabaseContract.Bands.TABLE_NAME + &quot;(&quot; + DatabaseContract.Bands._ID + &quot;))&quot;;\n</code></pre>\n<p>Any assistance would be greatly appreciated.</p>\n"},{"tags":["java","maven","mojo"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1700875097,"creation_date":1700875097,"answer_id":77546326,"question_id":77546310,"body_markdown":"The field can be initialized with an empty string to avoid a null value at runtime, while still allowing the user to override it:\r\n\r\n```java\r\n    @Parameter\r\n    public String myParam = &quot;&quot;;\r\n```\r\n\r\nThe only caveat appears to be that this will not appear in documentation generated by the site plugin as a default value","link":"https://stackoverflow.com/questions/77546310/how-to-make-a-maven-plugin-mojo-parameters-default-value-an-empty-string/77546326#77546326","title":"How to make a Maven plugin Mojo parameter&#39;s default value an empty string?","body":"<p>The field can be initialized with an empty string to avoid a null value at runtime, while still allowing the user to override it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Parameter\n    public String myParam = &quot;&quot;;\n</code></pre>\n<p>The only caveat appears to be that this will not appear in documentation generated by the site plugin as a default value</p>\n"}],"comment_count":0,"is_answered":true,"view_count":25,"answer_count":1,"score":1,"last_activity_date":1700875097,"creation_date":1700874516,"question_id":77546310,"body_markdown":"How can a Maven plugin Mojo parameter be configured so that the default value is an empty String?\r\n\r\nThe `defaultValue` property of the `Parameter` annotation already defaults to `&quot;&quot;`, so configuring the parameter like `@Parameter(defaultValue = &quot;&quot;)` is equivalent to not configuring it at all.\r\n\r\nThis does not work and produces a null value at runtime:\r\n```java\r\n    @Parameter(defaultValue = &quot;&quot;)\r\n    public String myParam;\r\n```","link":"https://stackoverflow.com/questions/77546310/how-to-make-a-maven-plugin-mojo-parameters-default-value-an-empty-string","title":"How to make a Maven plugin Mojo parameter&#39;s default value an empty string?","body":"<p>How can a Maven plugin Mojo parameter be configured so that the default value is an empty String?</p>\n<p>The <code>defaultValue</code> property of the <code>Parameter</code> annotation already defaults to <code>&quot;&quot;</code>, so configuring the parameter like <code>@Parameter(defaultValue = &quot;&quot;)</code> is equivalent to not configuring it at all.</p>\n<p>This does not work and produces a null value at runtime:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Parameter(defaultValue = &quot;&quot;)\n    public String myParam;\n</code></pre>\n"},{"tags":["java","influxdb","flux-influxdb"],"comment_count":0,"is_answered":false,"view_count":14,"answer_count":0,"score":0,"last_activity_date":1700874989,"creation_date":1700874989,"question_id":77546322,"body_markdown":"I am trying to figure out how influx is calculating the times returned from a flux query with an aggregateWindow.\r\n\r\nFor example: I am doing a pretty basic aggregateWindow(every: 300d, fn: mean). If I use a range with start 2019-03-30T14:35:34.932Z the first entry in the returned data has a time of 2019-04-14T00:00:00Z\r\n\r\nIt doesn&#39;t depend on the data. Even if I change to a year where there is no data in the first period it still return the same time (in that year, i.e. 2022-04-14).\r\n\r\nI can&#39;t find anything in the docs about this apart from a hint regarding using weeks &quot;Flux increments weeks from the Unix epoch, which was a Thursday.&quot;. Does this apply to all values &quot;every&quot;? I.e. are all windows being aligned to the epoch?\r\n\r\nHow would I go about implementing something similar in Java? ","link":"https://stackoverflow.com/questions/77546322/influx-flux-aggregatewindow-returned-window-times","title":"Influx - Flux aggregateWindow returned window times","body":"<p>I am trying to figure out how influx is calculating the times returned from a flux query with an aggregateWindow.</p>\n<p>For example: I am doing a pretty basic aggregateWindow(every: 300d, fn: mean). If I use a range with start 2019-03-30T14:35:34.932Z the first entry in the returned data has a time of 2019-04-14T00:00:00Z</p>\n<p>It doesn't depend on the data. Even if I change to a year where there is no data in the first period it still return the same time (in that year, i.e. 2022-04-14).</p>\n<p>I can't find anything in the docs about this apart from a hint regarding using weeks &quot;Flux increments weeks from the Unix epoch, which was a Thursday.&quot;. Does this apply to all values &quot;every&quot;? I.e. are all windows being aligned to the epoch?</p>\n<p>How would I go about implementing something similar in Java?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-asynctask"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700874283,"last_edit_date":1700874283,"creation_date":1700873935,"answer_id":77546293,"question_id":77546277,"body_markdown":"Data is loaded from Firebase (and most modern cloud APIs) asynchronously, as it may take time before it&#39;s available. While the data is being loaded, your main code continues - to ensure the user can continue to use the app. Then when the data is loaded, your `onComplete` is called with that data. \r\n\r\nWhat this means in practice is that your `Base64.decode(foto.getBytes()...` gets called before `foto = snapshot1.child(&quot;profile&quot;).getValue(String.class);` ever runs. If you add some logging or set breakpoints and run in the debugger, you can most easily see this.\r\n\r\n---\r\n\r\nLet&#39;s add some logging to your code and see the result:\r\n\r\n    databaseReference = FirebaseDatabase.getInstance().getReference(&quot;chismesinfo&quot;);\r\n    Log.i(&quot;Firebase&quot;, &quot;Before calling addOnCompleteListener&quot;);\r\n    databaseReference.child(idLocation).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n            Log.i(&quot;Firebase&quot;, &quot;Inside onComplete&quot;);\r\n        }\r\n    });\r\n    Log.i(&quot;Firebase&quot;, &quot;After calling addOnCompleteListener&quot;);\r\n\r\nWhen you run the above code, you&#39;ll get this output:\r\n\r\n&gt; Before calling addOnCompleteListener\\\r\n&gt; After calling addOnCompleteListener\\\r\n&gt; Inside onComplete\r\n\r\nThis is probably not the output you expected, but it explains perfectly why your code doesn&#39;t work: by the time your `Base64.decode(foto.getBytes()` runs, the `foto` variable doesn&#39;t have any value yet.\r\n\r\n---\r\n\r\nTo avoid this problem, any code that needs the data from the database has to be inside the `onComplete`, be called from there, or be otherwise synchronized. For examples of how to do this (and much more information), see:\r\n\r\n* https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\r\n* https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\r\n\r\nThis also means that you can&#39;t return a view based on the data from the database from the `getInfoWindow` function; by the time the `` runs, the `return infoView;` runs the data from the database hasn&#39;t been loaded yet. If the caller must get the window, you&#39;ll need to pass in a custom callback, similar to the `OnCompleteListener` that you pass to Firebase. The first link in the list above has a good example of that too.","link":"https://stackoverflow.com/questions/77546277/change-value-in-a-textview-after-requests-to-firebase-java-android-studio/77546293#77546293","title":"Change value in a TextView after requests to firebase - Java Android studio","body":"<p>Data is loaded from Firebase (and most modern cloud APIs) asynchronously, as it may take time before it's available. While the data is being loaded, your main code continues - to ensure the user can continue to use the app. Then when the data is loaded, your <code>onComplete</code> is called with that data.</p>\n<p>What this means in practice is that your <code>Base64.decode(foto.getBytes()...</code> gets called before <code>foto = snapshot1.child(&quot;profile&quot;).getValue(String.class);</code> ever runs. If you add some logging or set breakpoints and run in the debugger, you can most easily see this.</p>\n<hr />\n<p>Let's add some logging to your code and see the result:</p>\n<pre><code>databaseReference = FirebaseDatabase.getInstance().getReference(&quot;chismesinfo&quot;);\nLog.i(&quot;Firebase&quot;, &quot;Before calling addOnCompleteListener&quot;);\ndatabaseReference.child(idLocation).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        Log.i(&quot;Firebase&quot;, &quot;Inside onComplete&quot;);\n    }\n});\nLog.i(&quot;Firebase&quot;, &quot;After calling addOnCompleteListener&quot;);\n</code></pre>\n<p>When you run the above code, you'll get this output:</p>\n<blockquote>\n<p>Before calling addOnCompleteListener<br />\nAfter calling addOnCompleteListener<br />\nInside onComplete</p>\n</blockquote>\n<p>This is probably not the output you expected, but it explains perfectly why your code doesn't work: by the time your <code>Base64.decode(foto.getBytes()</code> runs, the <code>foto</code> variable doesn't have any value yet.</p>\n<hr />\n<p>To avoid this problem, any code that needs the data from the database has to be inside the <code>onComplete</code>, be called from there, or be otherwise synchronized. For examples of how to do this (and much more information), see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\">getContactsFromFirebase() method return an empty list</a></li>\n<li><a href=\"https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\">Setting Singleton property value in Firebase Listener</a></li>\n</ul>\n<p>This also means that you can't return a view based on the data from the database from the <code>getInfoWindow</code> function; by the time the `` runs, the <code>return infoView;</code> runs the data from the database hasn't been loaded yet. If the caller must get the window, you'll need to pass in a custom callback, similar to the <code>OnCompleteListener</code> that you pass to Firebase. The first link in the list above has a good example of that too.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":28,"answer_count":1,"score":0,"last_activity_date":1700874283,"creation_date":1700873385,"last_edit_date":1700874149,"question_id":77546277,"body_markdown":"I make two requests to the Firebase database, and then load the data into the XML. But it doesn&#39;t load them and just leaves the default, I suspect it&#39;s because I&#39;m not handling asynchronous requests properly in the fragment that Im working (GoogleMap.InfoWindowAdapter). Can anybody help me?\r\n\r\n\r\n```\r\npublic class MyInfoWindowAdapter implements GoogleMap.InfoWindowAdapter  {\r\n\r\n    Context context;\r\n    static String user, descripcion, username, foto;\r\n    DatabaseReference databaseReference, usersReference;\r\n    TextView title_mod,snipp_mod;\r\n    ImageView imagen_mod;\r\n\r\n    public MyInfoWindowAdapter(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n        @Override\r\n        public View getInfoWindow(@NonNull Marker marker) {\r\n            if (!marker.getTitle().toString().equals(&quot;Este es mi perfil&quot;)) {\r\n                View infoView = LayoutInflater.from(context).inflate(R.layout.custom_info, null);\r\n                title_mod = infoView.findViewById(R.id.title_mod);\r\n                snipp_mod = infoView.findViewById(R.id.snipp_mod);\r\n                imagen_mod = infoView.findViewById(R.id.imagen_mod);\r\n\r\n                LatLng posicionMarker = marker.getPosition();\r\n                String idLocation = String.valueOf(posicionMarker.latitude).replace(&quot;.&quot;, &quot;&quot;) + &quot;_&quot; + String.valueOf(posicionMarker.longitude).replace(&quot;.&quot;, &quot;&quot;);\r\n\r\n                databaseReference = FirebaseDatabase.getInstance().getReference(&quot;chismesinfo&quot;);\r\n                databaseReference.child(idLocation).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            DataSnapshot snapshot = task.getResult();\r\n                            descripcion = snapshot.child(&quot;descripcion&quot;).getValue(String.class);\r\n                            user = snapshot.child(&quot;user&quot;).getValue(String.class);\r\n\r\n                            usersReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n                            usersReference.child(user).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                                    if (task.isSuccessful()) {\r\n                                        DataSnapshot snapshot1 = task.getResult();\r\n                                        username = snapshot1.child(&quot;name&quot;).getValue(String.class);\r\n                                        if (snapshot1.hasChild(&quot;profile&quot;)) {\r\n                                            foto = snapshot1.child(&quot;profile&quot;).getValue(String.class);\r\n                                        } else {\r\n                                            foto = null;\r\n                                        }\r\n\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n\r\n                byte[] imageAsByte = Base64.decode(foto.getBytes(), Base64.DEFAULT);\r\n                Bitmap bitmap = BitmapFactory.decodeByteArray(imageAsByte, 0, imageAsByte.length);\r\n                imagen_mod.setImageBitmap(bitmap);\r\n\r\n                snipp_mod.setText(descripcion);\r\n                return infoView;\r\n            }\r\n}\r\n}\r\n```\r\n\r\n\r\nI was expecting the data to be loaded directly to the interface, but instead I just get the text by default. However, the second time I trigger the event, it does load the data.","link":"https://stackoverflow.com/questions/77546277/change-value-in-a-textview-after-requests-to-firebase-java-android-studio","title":"Change value in a TextView after requests to firebase - Java Android studio","body":"<p>I make two requests to the Firebase database, and then load the data into the XML. But it doesn't load them and just leaves the default, I suspect it's because I'm not handling asynchronous requests properly in the fragment that Im working (GoogleMap.InfoWindowAdapter). Can anybody help me?</p>\n<pre><code>public class MyInfoWindowAdapter implements GoogleMap.InfoWindowAdapter  {\n\n    Context context;\n    static String user, descripcion, username, foto;\n    DatabaseReference databaseReference, usersReference;\n    TextView title_mod,snipp_mod;\n    ImageView imagen_mod;\n\n    public MyInfoWindowAdapter(Context context) {\n        this.context = context;\n    }\n\n        @Override\n        public View getInfoWindow(@NonNull Marker marker) {\n            if (!marker.getTitle().toString().equals(&quot;Este es mi perfil&quot;)) {\n                View infoView = LayoutInflater.from(context).inflate(R.layout.custom_info, null);\n                title_mod = infoView.findViewById(R.id.title_mod);\n                snipp_mod = infoView.findViewById(R.id.snipp_mod);\n                imagen_mod = infoView.findViewById(R.id.imagen_mod);\n\n                LatLng posicionMarker = marker.getPosition();\n                String idLocation = String.valueOf(posicionMarker.latitude).replace(&quot;.&quot;, &quot;&quot;) + &quot;_&quot; + String.valueOf(posicionMarker.longitude).replace(&quot;.&quot;, &quot;&quot;);\n\n                databaseReference = FirebaseDatabase.getInstance().getReference(&quot;chismesinfo&quot;);\n                databaseReference.child(idLocation).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n                        if (task.isSuccessful()) {\n                            DataSnapshot snapshot = task.getResult();\n                            descripcion = snapshot.child(&quot;descripcion&quot;).getValue(String.class);\n                            user = snapshot.child(&quot;user&quot;).getValue(String.class);\n\n                            usersReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n                            usersReference.child(user).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n                                    if (task.isSuccessful()) {\n                                        DataSnapshot snapshot1 = task.getResult();\n                                        username = snapshot1.child(&quot;name&quot;).getValue(String.class);\n                                        if (snapshot1.hasChild(&quot;profile&quot;)) {\n                                            foto = snapshot1.child(&quot;profile&quot;).getValue(String.class);\n                                        } else {\n                                            foto = null;\n                                        }\n\n                                    }\n                                }\n                            });\n                        }\n                    }\n                });\n\n                byte[] imageAsByte = Base64.decode(foto.getBytes(), Base64.DEFAULT);\n                Bitmap bitmap = BitmapFactory.decodeByteArray(imageAsByte, 0, imageAsByte.length);\n                imagen_mod.setImageBitmap(bitmap);\n\n                snipp_mod.setText(descripcion);\n                return infoView;\n            }\n}\n}\n</code></pre>\n<p>I was expecting the data to be loaded directly to the interface, but instead I just get the text by default. However, the second time I trigger the event, it does load the data.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","oracle-sqldeveloper"],"comments":[{"score":0,"post_type":"question","creation_date":1700863389,"post_id":77545823,"comment_id":136708688,"body_markdown":"Please don&#39;t post screenshots of your source code, cf. [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors).","link":"https://stackoverflow.com/questions/77545823/query-annotation-not-working-in-spring-boot-with-oracle-database#comment136708688_77545823","body":"Please don&#39;t post screenshots of your source code, cf. <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">Why should I not upload images of code/data/errors?</a>."},{"score":0,"post_type":"question","creation_date":1700864633,"post_id":77545823,"comment_id":136708788,"body_markdown":"I have added the source code, can you please check now?","link":"https://stackoverflow.com/questions/77545823/query-annotation-not-working-in-spring-boot-with-oracle-database#comment136708788_77545823","body":"I have added the source code, can you please check now?"},{"score":0,"post_type":"question","creation_date":1700869135,"post_id":77545823,"comment_id":136709077,"body_markdown":"I suggest you use the `.save()` method - https://www.baeldung.com/spring-data-crud-repository-save","link":"https://stackoverflow.com/questions/77545823/query-annotation-not-working-in-spring-boot-with-oracle-database#comment136709077_77545823","body":"I suggest you use the <code>.save()</code> method - <a href=\"https://www.baeldung.com/spring-data-crud-repository-save\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-crud-repository-save</a>"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700873591,"creation_date":1700873591,"answer_id":77546286,"question_id":77545823,"body_markdown":"There is already a save() method in JpaRepository. You can make use of that in your service class.\r\n\r\n```\r\npublic class EmployeeServiceImpl implements EmployeeService{\r\n    \r\n    @Autowired\r\n    public EmployeeRepository employeeRepository;\r\n    \r\n    @Override\r\n    public Employee addEmployee(Employee emp) {\r\n        return employeeRepository.save(emp);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAlso, in your entity class, when you are using lombok, you just need to add @Data. This will include @Getters and @Setters, so you don&#39;t need to add the separately. So it would look like this:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;Employee&quot;)\r\npublic class Employee\r\n```\r\n\r\nAlso you should use @Controller and @Service instead of @Component. It specifies which layer the code is supposed to be in. ","link":"https://stackoverflow.com/questions/77545823/query-annotation-not-working-in-spring-boot-with-oracle-database/77546286#77546286","title":"@Query annotation not working in Spring boot with Oracle database","body":"<p>There is already a save() method in JpaRepository. You can make use of that in your service class.</p>\n<pre><code>public class EmployeeServiceImpl implements EmployeeService{\n    \n    @Autowired\n    public EmployeeRepository employeeRepository;\n    \n    @Override\n    public Employee addEmployee(Employee emp) {\n        return employeeRepository.save(emp);\n    }\n}\n\n</code></pre>\n<p>Also, in your entity class, when you are using lombok, you just need to add @Data. This will include @Getters and @Setters, so you don't need to add the separately. So it would look like this:</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;Employee&quot;)\npublic class Employee\n</code></pre>\n<p>Also you should use @Controller and @Service instead of @Component. It specifies which layer the code is supposed to be in.</p>\n"}],"comment_count":3,"is_answered":false,"view_count":53,"answer_count":1,"score":0,"last_activity_date":1700873591,"creation_date":1700863131,"last_edit_date":1700864107,"question_id":77545823,"body_markdown":"I am trying to execute an Insert statement but unfortunately, I am not able to save the data into the data base.\r\nMay be the @Query annotation here is not working correctly.\r\n\r\nbelow are my classes.\r\nController:\r\n\r\n    @Component\r\n    //@RequestMapping(&quot;/api/v1&quot;)\r\n    public class EmployeeControllerImpl implements EmployeeController{\r\n    \t@Autowired\r\n    \tpublic EmployeeService employeeService;\r\n    \t\r\n    \t@Override\r\n    \t@PostMapping(&quot;/addEmployee&quot;)\r\n    \tpublic Employee addEmployee(@RequestBody Employee emp) {\r\n    \t\treturn employeeService.addEmployee(emp);\r\n    \t\t}\r\n    \r\n    }\r\n\r\nService:\r\n\r\n    @Component\r\n    public class EmployeeServiceImpl implements EmployeeService{\r\n    \t\r\n    \t@Autowired\r\n    \tpublic EmployeeRepository employeeRepository;\r\n    \t\r\n    \t@Override\r\n    \tpublic Employee addEmployee(Employee emp) {\r\n    \t\r\n    \t\treturn employeeRepository.addEmployee(emp);\r\n    \t}\r\n    }\r\n\r\n\r\nRepository Interface:\r\n\r\n    @Repository\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, Integer &gt; {\r\n    \r\n    \t@Query(value = &quot;insert into employee (fname, lname, gender, age, contactNumber, empEmail, empPass) &quot;\r\n    \t\t\t+ &quot;VALUES (:fname, :lname, :gender, :age, :contactNumber, :empEmail, :empPass)&quot;, nativeQuery = true)\r\n    \tEmployee addEmployee(Employee emp );\r\n    }\r\n\r\n\r\n\r\nEmployee.java:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name=&quot;Employee&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Employee {\r\n    \r\n    \t@Id\r\n        @Column(name = &quot;employee_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int empId;\r\n    \t@Column\r\n        private String fname;\r\n    \t@Column\r\n        private String lname;\r\n    \t@Column\r\n        private String gender;\r\n    \t@Column\r\n        private int age;\r\n    \t@Column\r\n        private String contactNumber;\r\n    \t@Column\r\n        private String empEmail;\r\n    \t@Column\r\n        private String empPass;\r\n    }\r\n\r\n\r\napplication.properties:\r\n\r\n    server.port:8082\r\n    \r\n    spring.datasource.url=jdbc:oracle:thin:@localhost:1521/orcl\r\n    spring.datasource.username=system\r\n    spring.datasource.password=oracle\r\n    spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\r\n    \r\n    spring.jpa.database-platform=org.hibernate.dialect.OracleDialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\n\r\nProject structure:\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wiwfz.png\r\n  [2]: https://i.stack.imgur.com/7ozzE.png\r\n  [3]: https://i.stack.imgur.com/M7vSt.png\r\n  [4]: https://i.stack.imgur.com/d9MHG.png\r\n  [5]: https://i.stack.imgur.com/38bX3.png\r\n  [6]: https://i.stack.imgur.com/I3qVg.png\r\n","link":"https://stackoverflow.com/questions/77545823/query-annotation-not-working-in-spring-boot-with-oracle-database","title":"@Query annotation not working in Spring boot with Oracle database","body":"<p>I am trying to execute an Insert statement but unfortunately, I am not able to save the data into the data base.\nMay be the @Query annotation here is not working correctly.</p>\n<p>below are my classes.\nController:</p>\n<pre><code>@Component\n//@RequestMapping(&quot;/api/v1&quot;)\npublic class EmployeeControllerImpl implements EmployeeController{\n    @Autowired\n    public EmployeeService employeeService;\n    \n    @Override\n    @PostMapping(&quot;/addEmployee&quot;)\n    public Employee addEmployee(@RequestBody Employee emp) {\n        return employeeService.addEmployee(emp);\n        }\n\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Component\npublic class EmployeeServiceImpl implements EmployeeService{\n    \n    @Autowired\n    public EmployeeRepository employeeRepository;\n    \n    @Override\n    public Employee addEmployee(Employee emp) {\n    \n        return employeeRepository.addEmployee(emp);\n    }\n}\n</code></pre>\n<p>Repository Interface:</p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Integer &gt; {\n\n    @Query(value = &quot;insert into employee (fname, lname, gender, age, contactNumber, empEmail, empPass) &quot;\n            + &quot;VALUES (:fname, :lname, :gender, :age, :contactNumber, :empEmail, :empPass)&quot;, nativeQuery = true)\n    Employee addEmployee(Employee emp );\n}\n</code></pre>\n<p>Employee.java:</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;Employee&quot;)\n@Getter\n@Setter\npublic class Employee {\n\n    @Id\n    @Column(name = &quot;employee_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int empId;\n    @Column\n    private String fname;\n    @Column\n    private String lname;\n    @Column\n    private String gender;\n    @Column\n    private int age;\n    @Column\n    private String contactNumber;\n    @Column\n    private String empEmail;\n    @Column\n    private String empPass;\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>server.port:8082\n\nspring.datasource.url=jdbc:oracle:thin:@localhost:1521/orcl\nspring.datasource.username=system\nspring.datasource.password=oracle\nspring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\n\nspring.jpa.database-platform=org.hibernate.dialect.OracleDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.generate-ddl=true\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>Project structure:\n<a href=\"https://i.stack.imgur.com/I3qVg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I3qVg.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java.util.scanner","user-input"],"answers":[{"comment_count":0,"score":2,"last_activity_date":1700868893,"creation_date":1700868893,"answer_id":77546093,"question_id":77546055,"body_markdown":"Add a prompt method that returns a string\r\n\r\nCreate a `Scanner` as a field in the class\r\n\r\n    Scanner keyboard = new Scanner(System.in);\r\n\r\nCreate a method to display a prompt and return a string from the `Scanner`. You might need to add `static`.\r\n\r\n    public String prompt(String message) {\r\n        System.out.print(message + &quot;\\n&gt;&quot;);\r\n        return keyboard.nextLine();\r\n    }\r\n\r\nCall the method \r\n\r\n    String name = prompt(&quot;Enter your name&quot;);","link":"https://stackoverflow.com/questions/77546055/how-do-i-add-where-i-want-the-user-to-input-text-java/77546093#77546093","title":"How do I add &quot;&gt;&quot; where I want the user to input text? (Java)","body":"<p>Add a prompt method that returns a string</p>\n<p>Create a <code>Scanner</code> as a field in the class</p>\n<pre><code>Scanner keyboard = new Scanner(System.in);\n</code></pre>\n<p>Create a method to display a prompt and return a string from the <code>Scanner</code>. You might need to add <code>static</code>.</p>\n<pre><code>public String prompt(String message) {\n    System.out.print(message + &quot;\\n&gt;&quot;);\n    return keyboard.nextLine();\n}\n</code></pre>\n<p>Call the method</p>\n<pre><code>String name = prompt(&quot;Enter your name&quot;);\n</code></pre>\n"},{"comment_count":0,"score":0,"last_activity_date":1700872168,"creation_date":1700872168,"answer_id":77546235,"question_id":77546055,"body_markdown":"Delegate the process with a _[class](https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html)_.\r\n\r\n```java\r\nclass UI {\r\n    Scanner is;\r\n    PrintStream os;\r\n\r\n    UI(InputStream is, PrintStream os) {\r\n        this.is = new Scanner(is);\r\n        this.os = os;\r\n    }\r\n\r\n    String input(String s) {\r\n        os.printf(&quot;%s%n&gt; &quot;, s);\r\n        return is.nextLine();\r\n    }\r\n}\r\n```\r\n\r\nHere is an example usage.\r\n\r\n```java\r\nUI ui = new UI(System.in, System.out);\r\nString s = ui.input(&quot;what&#39;s your name&quot;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nwhat&#39;s your name\r\n&gt; abc\r\n```","link":"https://stackoverflow.com/questions/77546055/how-do-i-add-where-i-want-the-user-to-input-text-java/77546235#77546235","title":"How do I add &quot;&gt;&quot; where I want the user to input text? (Java)","body":"<p>Delegate the process with a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html\" rel=\"nofollow noreferrer\">class</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class UI {\n    Scanner is;\n    PrintStream os;\n\n    UI(InputStream is, PrintStream os) {\n        this.is = new Scanner(is);\n        this.os = os;\n    }\n\n    String input(String s) {\n        os.printf(&quot;%s%n&gt; &quot;, s);\n        return is.nextLine();\n    }\n}\n</code></pre>\n<p>Here is an example usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>UI ui = new UI(System.in, System.out);\nString s = ui.input(&quot;what's your name&quot;);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>what's your name\n&gt; abc\n</code></pre>\n"}],"comment_count":0,"is_answered":true,"view_count":41,"answer_count":2,"score":0,"last_activity_date":1700872168,"creation_date":1700868041,"question_id":77546055,"body_markdown":"If I have a System.out.println(&quot;what&#39;s your name&quot;), I want the next line to say &quot;&gt;&quot; so it makes it more obvious that it&#39;s the users turn to type something. \r\n\r\nSo far I&#39;ve just put &quot;\\n &gt; &quot; at the end of my question, and it works fine, but then I&#39;d have to do this every single time.","link":"https://stackoverflow.com/questions/77546055/how-do-i-add-where-i-want-the-user-to-input-text-java","title":"How do I add &quot;&gt;&quot; where I want the user to input text? (Java)","body":"<p>If I have a System.out.println(&quot;what's your name&quot;), I want the next line to say &quot;&gt;&quot; so it makes it more obvious that it's the users turn to type something.</p>\n<p>So far I've just put &quot;\\n &gt; &quot; at the end of my question, and it works fine, but then I'd have to do this every single time.</p>\n"},{"tags":["java","xml","parsing","dom"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1700872155,"creation_date":1700872155,"answer_id":77546233,"question_id":77546077,"body_markdown":"You are assigning the variable &quot;item&quot; to each item in turn in your loop, and its value on exit is therefore the last `item` element encountered.\r\n\r\nYou&#39;re not alone in using Java and DOM for this kind of application; it&#39;s a popular combination. But it&#39;s approaching 25 years old, and there are many better choices available. Even if it has to be Java, there are other APIs such as JDOM2 and XOM that are much friendlier to use. \r\n\r\nSaxon&#39;s tree navigation API (inspired by LINQ in the C# world) would look something like this:\r\n\r\n    XdmNode channel = document.getOutermostElement();\r\n    String title = channel.select(child(&quot;title&quot;)).asString();\r\n    System.out.println(title);\r\n    channel.select(child(&quot;item&quot;)).forEach(item -&gt; {\r\n       String subtitle = item.select(&quot;title&quot;).asString();\r\n       System.out.println(subtitle);\r\n    }\r\n\r\nwhich is a fraction of the length of the equivalent DOM code.\r\n\r\n[Disclaimer: Saxon is my company&#39;s product]\r\n\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77546077/getting-data-from-an-xml-document-using-dom-in-java/77546233#77546233","title":"Getting data from an XML document using DOM in Java","body":"<p>You are assigning the variable &quot;item&quot; to each item in turn in your loop, and its value on exit is therefore the last <code>item</code> element encountered.</p>\n<p>You're not alone in using Java and DOM for this kind of application; it's a popular combination. But it's approaching 25 years old, and there are many better choices available. Even if it has to be Java, there are other APIs such as JDOM2 and XOM that are much friendlier to use.</p>\n<p>Saxon's tree navigation API (inspired by LINQ in the C# world) would look something like this:</p>\n<pre><code>XdmNode channel = document.getOutermostElement();\nString title = channel.select(child(&quot;title&quot;)).asString();\nSystem.out.println(title);\nchannel.select(child(&quot;item&quot;)).forEach(item -&gt; {\n   String subtitle = item.select(&quot;title&quot;).asString();\n   System.out.println(subtitle);\n}\n</code></pre>\n<p>which is a fraction of the length of the equivalent DOM code.</p>\n<p>[Disclaimer: Saxon is my company's product]</p>\n"}],"comment_count":0,"is_answered":true,"view_count":31,"answer_count":1,"score":0,"last_activity_date":1700872155,"creation_date":1700868520,"question_id":77546077,"body_markdown":"I&#39;m trying to parse an XML file using DOM, but at the end only the last entry is output several times (in a loop). Tell me, please, what is the problem? (I&#39;m a beginner in Java)\r\n\r\nXML with approximately the following content:\r\n\r\n    &lt;channel&gt;\r\n    \t&lt;title&gt;www.google.com&lt;/title&gt;\r\n    \t&lt;item&gt;\r\n    \t\t&lt;title&gt;www.youtube.com&lt;/title&gt;\r\n    \t&lt;/item&gt;\r\n    \t&lt;item&gt;\r\n    \t\t&lt;title&gt;play.google.com&lt;/title&gt;\r\n    \t&lt;/item&gt;\r\n    \t...\r\n    &lt;/channel&gt;\r\n\r\nJava Code:\r\n\r\n        Node item = null;\r\n        NodeList channelList = document.getElementsByTagName(&quot;channel&quot;);\r\n        for (int i = 0; i &lt; channelList.getLength(); i++){\r\n\r\n            if (channelList.item(i).getNodeType() == Node.ELEMENT_NODE){\r\n                \r\n                NodeList channelListChild = channelList.item(i).getChildNodes();\r\n                for (int j = 0; j &lt; channelListChild.getLength(); j++){\r\n                    if (channelListChild.item(j).getNodeType() == Node.ELEMENT_NODE){\r\n\r\n                        switch (channelListChild.item(j).getNodeName()){\r\n                            case &quot;title&quot;:{\r\n                                String title = channelListChild.item(j).getTextContent();\r\n                                System.out.println(title);\r\n                                break;\r\n                            }\r\n                            case &quot;item&quot;:{\r\n                                item = channelListChild.item(j);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (item == null){\r\n            return;\r\n        }\r\n\r\n        String title = null;\r\n        NodeList itemList = item.getChildNodes();\r\n\r\n        for (int i = 0; i &lt; itemList.getLength(); i++){\r\n            if (itemList.item(i).getNodeType() == Node.ELEMENT_NODE){\r\n\r\n                switch (itemList.item(i).getNodeName()){\r\n                    case &quot;title&quot;:{\r\n                        title = itemList.item(i).getTextContent();\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(title);\r\n        }\r\n        ","link":"https://stackoverflow.com/questions/77546077/getting-data-from-an-xml-document-using-dom-in-java","title":"Getting data from an XML document using DOM in Java","body":"<p>I'm trying to parse an XML file using DOM, but at the end only the last entry is output several times (in a loop). Tell me, please, what is the problem? (I'm a beginner in Java)</p>\n<p>XML with approximately the following content:</p>\n<pre><code>&lt;channel&gt;\n    &lt;title&gt;www.google.com&lt;/title&gt;\n    &lt;item&gt;\n        &lt;title&gt;www.youtube.com&lt;/title&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;title&gt;play.google.com&lt;/title&gt;\n    &lt;/item&gt;\n    ...\n&lt;/channel&gt;\n</code></pre>\n<p>Java Code:</p>\n<pre><code>    Node item = null;\n    NodeList channelList = document.getElementsByTagName(&quot;channel&quot;);\n    for (int i = 0; i &lt; channelList.getLength(); i++){\n\n        if (channelList.item(i).getNodeType() == Node.ELEMENT_NODE){\n            \n            NodeList channelListChild = channelList.item(i).getChildNodes();\n            for (int j = 0; j &lt; channelListChild.getLength(); j++){\n                if (channelListChild.item(j).getNodeType() == Node.ELEMENT_NODE){\n\n                    switch (channelListChild.item(j).getNodeName()){\n                        case &quot;title&quot;:{\n                            String title = channelListChild.item(j).getTextContent();\n                            System.out.println(title);\n                            break;\n                        }\n                        case &quot;item&quot;:{\n                            item = channelListChild.item(j);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    if (item == null){\n        return;\n    }\n\n    String title = null;\n    NodeList itemList = item.getChildNodes();\n\n    for (int i = 0; i &lt; itemList.getLength(); i++){\n        if (itemList.item(i).getNodeType() == Node.ELEMENT_NODE){\n\n            switch (itemList.item(i).getNodeName()){\n                case &quot;title&quot;:{\n                    title = itemList.item(i).getTextContent();\n                    break;\n                }\n            }\n        }\n        System.out.println(title);\n    }\n    \n</code></pre>\n"},{"tags":["java","android","android-studio","maven"],"comments":[{"score":0,"post_type":"question","creation_date":1700854595,"post_id":77545120,"comment_id":136707757,"body_markdown":"How have you configured the Java version to be used?","link":"https://stackoverflow.com/questions/77545120/error-while-trying-to-publish-to-mavenlocal-fixed#comment136707757_77545120","body":"How have you configured the Java version to be used?"},{"score":0,"post_type":"question","creation_date":1700855170,"post_id":77545120,"comment_id":136707821,"body_markdown":"File &gt; Settings &gt; Build ... &gt; Build tools &gt; gradle &gt; gradle jdk\nIs that what you mean?","link":"https://stackoverflow.com/questions/77545120/error-while-trying-to-publish-to-mavenlocal-fixed#comment136707821_77545120","body":"File &gt; Settings &gt; Build ... &gt; Build tools &gt; gradle &gt; gradle jdk Is that what you mean?"},{"score":0,"post_type":"question","creation_date":1700855378,"post_id":77545120,"comment_id":136707843,"body_markdown":"And in which terminal do you execute the Gradle command? The one inside Android Studio or a common terminal of your OS? Because the settings you make in Android Studio can only affect builds triggered by Android Studio.","link":"https://stackoverflow.com/questions/77545120/error-while-trying-to-publish-to-mavenlocal-fixed#comment136707843_77545120","body":"And in which terminal do you execute the Gradle command? The one inside Android Studio or a common terminal of your OS? Because the settings you make in Android Studio can only affect builds triggered by Android Studio."},{"score":0,"post_type":"question","creation_date":1700855497,"post_id":77545120,"comment_id":136707863,"body_markdown":"android studio teminal","link":"https://stackoverflow.com/questions/77545120/error-while-trying-to-publish-to-mavenlocal-fixed#comment136707863_77545120","body":"android studio teminal"},{"score":0,"post_type":"question","creation_date":1700855715,"post_id":77545120,"comment_id":136707890,"body_markdown":"I am not 100% sure but I would assume the JDK setting for Gradle should be effective for the terminal inside AS. Because the error should disappear when you use JDK 17. But you can make sure the configured JDK is used by executing the Gradle command by Ctrl+Return instead of just Return key. Then AS will execute it as run config and not the terminal.","link":"https://stackoverflow.com/questions/77545120/error-while-trying-to-publish-to-mavenlocal-fixed#comment136707890_77545120","body":"I am not 100% sure but I would assume the JDK setting for Gradle should be effective for the terminal inside AS. Because the error should disappear when you use JDK 17. But you can make sure the configured JDK is used by executing the Gradle command by Ctrl+Return instead of just Return key. Then AS will execute it as run config and not the terminal."},{"score":0,"post_type":"question","creation_date":1700856117,"post_id":77545120,"comment_id":136707925,"body_markdown":"Crtl + return generates only the .pom","link":"https://stackoverflow.com/questions/77545120/error-while-trying-to-publish-to-mavenlocal-fixed#comment136707925_77545120","body":"Crtl + return generates only the .pom"},{"score":0,"post_type":"question","creation_date":1700867810,"post_id":77545120,"comment_id":136709000,"body_markdown":"Please do not include the answer into your question. If you found the solution you can answer your own question, but please create a separate answer.","link":"https://stackoverflow.com/questions/77545120/error-while-trying-to-publish-to-mavenlocal-fixed#comment136709000_77545120","body":"Please do not include the answer into your question. If you found the solution you can answer your own question, but please create a separate answer."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700869339,"creation_date":1700869339,"answer_id":77546111,"question_id":77545120,"body_markdown":"**FIXED**\r\n\r\nAfter some extra research I found out that I needed to add the following code to my build.gradle inside android tag:\r\n\r\n    publishing {\r\n        singleVariant(&quot;release&quot;) {\r\n            withSourcesJar()\r\n            withJavadocJar()\r\n        }\r\n    }","link":"https://stackoverflow.com/questions/77545120/error-while-trying-to-publish-to-mavenlocal-fixed/77546111#77546111","title":"Error while trying to publish to MavenLocal - Fixed","body":"<p><strong>FIXED</strong></p>\n<p>After some extra research I found out that I needed to add the following code to my build.gradle inside android tag:</p>\n<pre><code>publishing {\n    singleVariant(&quot;release&quot;) {\n        withSourcesJar()\n        withJavadocJar()\n    }\n}\n</code></pre>\n"}],"comment_count":7,"is_answered":false,"view_count":36,"answer_count":1,"score":0,"last_activity_date":1700869339,"creation_date":1700851175,"last_edit_date":1700867594,"question_id":77545120,"body_markdown":"I&#39;m developing a library and I want to publish it to Maven Local for testing purposes...\r\n\r\nWhile running the command in the terminal:\r\n\r\n    ./gradlew publishToMavenLocal\r\nI get this error:\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;wfe&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:8.1.2.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:8.1.2\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:8.1.2\r\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally\r\n, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.0&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:8.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1s\r\n\r\n```\r\n\r\nWhen trying to publish using tasks, it builds but only generates the .pom\r\n\r\n    Gradle &gt; wfe &gt; Tasks &gt; publishing &gt; publishToMavenLocal\r\n\r\nI&#39;ve searched and trying to set the JDK to 17 and 11 but didnt work... I&#39;m pretty newbie in this field of publishing to maven, so no idea what is happening...\r\n\r\nAnyway, thanks!\r\n\r\n**UPDATE - FIXED**\r\n\r\nAfter some extra research I found out that I needed to add the following code to my build.gradle inside android tag:\r\n```\r\npublishing {\r\n    singleVariant(&quot;release&quot;) {\r\n        withSourcesJar()\r\n        withJavadocJar()\r\n    }\r\n}\r\n```","link":"https://stackoverflow.com/questions/77545120/error-while-trying-to-publish-to-mavenlocal-fixed","title":"Error while trying to publish to MavenLocal - Fixed","body":"<p>I'm developing a library and I want to publish it to Maven Local for testing purposes...</p>\n<p>While running the command in the terminal:</p>\n<pre><code>./gradlew publishToMavenLocal\n</code></pre>\n<p>I get this error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'wfe'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:8.1.2.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:8.1.2\n         project : &gt; com.android.library:com.android.library.gradle.plugin:8.1.2\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally\n, as well as attribute 'org.gradle.plugin.api-version' with value '8.0' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:8.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:8.1.2 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:8.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:8.1.2 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n\n</code></pre>\n<p>When trying to publish using tasks, it builds but only generates the .pom</p>\n<pre><code>Gradle &gt; wfe &gt; Tasks &gt; publishing &gt; publishToMavenLocal\n</code></pre>\n<p>I've searched and trying to set the JDK to 17 and 11 but didnt work... I'm pretty newbie in this field of publishing to maven, so no idea what is happening...</p>\n<p>Anyway, thanks!</p>\n<p><strong>UPDATE - FIXED</strong></p>\n<p>After some extra research I found out that I needed to add the following code to my build.gradle inside android tag:</p>\n<pre><code>publishing {\n    singleVariant(&quot;release&quot;) {\n        withSourcesJar()\n        withJavadocJar()\n    }\n}\n</code></pre>\n"},{"tags":["java","client-server"],"comments":[{"score":0,"post_type":"question","creation_date":1700869195,"post_id":77545237,"comment_id":136709087,"body_markdown":"The issue here is clearly just the order of input/output operations on both the client and the server side. @Progman&#39;s answer contains good tips.","link":"https://stackoverflow.com/questions/77545237/debugging-a-simple-client-and-server-program#comment136709087_77545237","body":"The issue here is clearly just the order of input/output operations on both the client and the server side. @Progman&#39;s answer contains good tips."},{"score":0,"post_type":"question","creation_date":1700990428,"post_id":77545237,"comment_id":136717631,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","link":"https://stackoverflow.com/questions/77545237/debugging-a-simple-client-and-server-program#comment136717631_77545237","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700867701,"creation_date":1700867701,"answer_id":77546042,"question_id":77545237,"body_markdown":"You should check the chronological order of events at the server and client and when they read or write data. When a client is connected to the server, the server will send the string &quot;Would you like to play?&quot; via\r\n\r\n    output.println(&quot;Would you like to play?&quot;);    /* server */\r\n\r\nto the client. After that it will wait with\r\n\r\n    playing = input.readLine();                   /* server */\r\n\r\nfor any response from the client. On the client side it will read and print a message from the server with the line\r\n\r\n    System.out.println(input.readLine());        /* client */\r\n\r\nThe client will read and print the initial &quot;Would you like to play?&quot; message from the server. But after that, inside the `while()` loop, it will read for any *additional* data from the server with\r\n\r\n    System.out.println(input.readLine());       /* client */\r\n\r\nagain. Since the server is waiting for input from the client and not sending any data and the client is waiting for input from the server and not sending any data, both participants are waiting for input from the other side, but none of them are sending anything. This results in a deadlock.\r\n\r\nYou might want to add additional info/debug lines to check what the client and server are doing at which point in time. As an example you could write\r\n\r\n    System.out.println(&quot;[debug] Going to read data from the server&quot;);\r\n    System.out.println(input.readLine());\r\n    System.out.println(&quot;[debug] Read of data complete&quot;);\r\n\r\nand\r\n\r\n    System.out.println(&quot;[debug] Going to send the data &#39;&quot;+playing+&quot;&#39; to the server&quot;);\r\n    output.println(playing);\r\n    System.out.println(&quot;[debug] Send of data complete&quot;);\r\n\r\nThe solution to your problem might be as easy as removing the line \r\n\r\n    System.out.println(input.readLine());\r\n\r\nfrom above the `while` loop since you already read data inside the `while` loop","link":"https://stackoverflow.com/questions/77545237/debugging-a-simple-client-and-server-program/77546042#77546042","title":"Debugging a simple client and server program","body":"<p>You should check the chronological order of events at the server and client and when they read or write data. When a client is connected to the server, the server will send the string &quot;Would you like to play?&quot; via</p>\n<pre><code>output.println(&quot;Would you like to play?&quot;);    /* server */\n</code></pre>\n<p>to the client. After that it will wait with</p>\n<pre><code>playing = input.readLine();                   /* server */\n</code></pre>\n<p>for any response from the client. On the client side it will read and print a message from the server with the line</p>\n<pre><code>System.out.println(input.readLine());        /* client */\n</code></pre>\n<p>The client will read and print the initial &quot;Would you like to play?&quot; message from the server. But after that, inside the <code>while()</code> loop, it will read for any <em>additional</em> data from the server with</p>\n<pre><code>System.out.println(input.readLine());       /* client */\n</code></pre>\n<p>again. Since the server is waiting for input from the client and not sending any data and the client is waiting for input from the server and not sending any data, both participants are waiting for input from the other side, but none of them are sending anything. This results in a deadlock.</p>\n<p>You might want to add additional info/debug lines to check what the client and server are doing at which point in time. As an example you could write</p>\n<pre><code>System.out.println(&quot;[debug] Going to read data from the server&quot;);\nSystem.out.println(input.readLine());\nSystem.out.println(&quot;[debug] Read of data complete&quot;);\n</code></pre>\n<p>and</p>\n<pre><code>System.out.println(&quot;[debug] Going to send the data '&quot;+playing+&quot;' to the server&quot;);\noutput.println(playing);\nSystem.out.println(&quot;[debug] Send of data complete&quot;);\n</code></pre>\n<p>The solution to your problem might be as easy as removing the line</p>\n<pre><code>System.out.println(input.readLine());\n</code></pre>\n<p>from above the <code>while</code> loop since you already read data inside the <code>while</code> loop</p>\n"}],"comment_count":2,"is_answered":false,"view_count":51,"answer_count":1,"score":-1,"last_activity_date":1700868936,"creation_date":1700852944,"last_edit_date":1700868936,"question_id":77545237,"body_markdown":"in the following code, i am implementing a basic server client dice game. however, the client scanner does not seem to be reading anything\r\n\r\nServerClass:\r\n\r\n    public class ServerClass {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            ServerSocket server = new ServerSocket(3300);\r\n            System.out.println(&quot;Server started on port &quot; + server.getLocalPort() + &quot; and &quot; + server.getInetAddress());\r\n    \r\n            while (true) {\r\n                Socket client = server.accept();\r\n    \r\n                ClientHandler clientHandle = new ClientHandler(client);\r\n                Thread thread = new Thread(clientHandle);\r\n                thread.start();\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\nClient class:\r\n\r\n    public class Client {\r\n    \r\n        public static void main(String[] args) throws UnknownHostException, IOException {\r\n    \r\n            Socket server = new Socket(&quot;localhost&quot;, 3300);\r\n            Scanner scanner = new Scanner(System.in);\r\n            BufferedReader input;\r\n            PrintWriter output;\r\n            int clientDice;\r\n            int serverDice;\r\n    \r\n            try {\r\n                input = new BufferedReader(new InputStreamReader(server.getInputStream()));\r\n                output = new PrintWriter(server.getOutputStream(), true);\r\n    \r\n                System.out.println(input.readLine());\r\n    \r\n                String playing = &quot;play&quot;;\r\n                while (&quot;play&quot;.equals(playing)) {\r\n                    System.out.println(input.readLine());\r\n                    playing = scanner.nextLine();\r\n                    output.println(playing);\r\n                    if (&quot;play&quot;.equals(playing)) {\r\n                        serverDice = Integer.parseInt(input.readLine());\r\n                        clientDice = new Random().nextInt(6);\r\n                        System.out.println(&quot;Client rolled &quot; + clientDice + &quot;. Server rolled &quot; + serverDice);\r\n                    } else {\r\n                        playing = &quot;exit&quot;;\r\n                    }\r\n                }\r\n                server.close();\r\n    \r\n            } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nClientHandler class:\r\n    \r\n    public class ClientHandler implements Runnable {\r\n        public Socket client;\r\n    \r\n        public ClientHandler(Socket client) {\r\n            this.client = client;\r\n        }\r\n    \r\n        public void run() {\r\n            Scanner scanner = new Scanner(System.in);\r\n            BufferedReader input;\r\n            PrintWriter output;\r\n            int serverDice;\r\n    \r\n            try {\r\n                input = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n                output = new PrintWriter(client.getOutputStream(), true);\r\n    \r\n                System.out.println(&quot;New client connected&quot;);\r\n                System.out.println(&quot;Server is ready to play&quot;);\r\n    \r\n                String playing = &quot;play&quot;;\r\n                while (&quot;play&quot;.equals(playing)) {\r\n                    output.println(&quot;Would you like to play?&quot;);\r\n                    playing = input.readLine();\r\n                    if (&quot;play&quot;.equals(playing)) {\r\n                        output.println(new Random().nextInt(6));\r\n                    }\r\n                }\r\n                client.close();\r\n    \r\n            } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\ni entered &quot;play&quot; nothing happened, it doesnt even recogonize the input","link":"https://stackoverflow.com/questions/77545237/debugging-a-simple-client-and-server-program","title":"Debugging a simple client and server program","body":"<p>in the following code, i am implementing a basic server client dice game. however, the client scanner does not seem to be reading anything</p>\n<p>ServerClass:</p>\n<pre><code>public class ServerClass {\n\n    public static void main(String[] args) throws IOException {\n\n        ServerSocket server = new ServerSocket(3300);\n        System.out.println(&quot;Server started on port &quot; + server.getLocalPort() + &quot; and &quot; + server.getInetAddress());\n\n        while (true) {\n            Socket client = server.accept();\n\n            ClientHandler clientHandle = new ClientHandler(client);\n            Thread thread = new Thread(clientHandle);\n            thread.start();\n        }\n    }\n}\n</code></pre>\n<p>Client class:</p>\n<pre><code>public class Client {\n\n    public static void main(String[] args) throws UnknownHostException, IOException {\n\n        Socket server = new Socket(&quot;localhost&quot;, 3300);\n        Scanner scanner = new Scanner(System.in);\n        BufferedReader input;\n        PrintWriter output;\n        int clientDice;\n        int serverDice;\n\n        try {\n            input = new BufferedReader(new InputStreamReader(server.getInputStream()));\n            output = new PrintWriter(server.getOutputStream(), true);\n\n            System.out.println(input.readLine());\n\n            String playing = &quot;play&quot;;\n            while (&quot;play&quot;.equals(playing)) {\n                System.out.println(input.readLine());\n                playing = scanner.nextLine();\n                output.println(playing);\n                if (&quot;play&quot;.equals(playing)) {\n                    serverDice = Integer.parseInt(input.readLine());\n                    clientDice = new Random().nextInt(6);\n                    System.out.println(&quot;Client rolled &quot; + clientDice + &quot;. Server rolled &quot; + serverDice);\n                } else {\n                    playing = &quot;exit&quot;;\n                }\n            }\n            server.close();\n\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>ClientHandler class:</p>\n<pre><code>public class ClientHandler implements Runnable {\n    public Socket client;\n\n    public ClientHandler(Socket client) {\n        this.client = client;\n    }\n\n    public void run() {\n        Scanner scanner = new Scanner(System.in);\n        BufferedReader input;\n        PrintWriter output;\n        int serverDice;\n\n        try {\n            input = new BufferedReader(new InputStreamReader(client.getInputStream()));\n            output = new PrintWriter(client.getOutputStream(), true);\n\n            System.out.println(&quot;New client connected&quot;);\n            System.out.println(&quot;Server is ready to play&quot;);\n\n            String playing = &quot;play&quot;;\n            while (&quot;play&quot;.equals(playing)) {\n                output.println(&quot;Would you like to play?&quot;);\n                playing = input.readLine();\n                if (&quot;play&quot;.equals(playing)) {\n                    output.println(new Random().nextInt(6));\n                }\n            }\n            client.close();\n\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>i entered &quot;play&quot; nothing happened, it doesnt even recogonize the input</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700868178,"creation_date":1700868178,"answer_id":77546059,"question_id":77545605,"body_markdown":"1. Department deletion and employee status change\r\n\r\n   In my opinion, you should perform these operations in a single transaction \r\n   using @Transactional. That is, as you suggested.  When an error arises when \r\n   deleting a deparment, the transaction should be rolled back. \r\n\r\n2. Removing company branch and departments \r\n\r\n   I don&#39;t think so that @PreRemove is the best option. \r\n   I would simply in one transaction remove the company branch, all departments \r\n  from company branch and change the employee status using Repository and \r\n  Spring Data. I think this is a more readable solution.","link":"https://stackoverflow.com/questions/77545605/how-to-add-some-logic-before-removing-entity-without-preremove/77546059#77546059","title":"How to add some logic before removing entity without @PreRemove?","body":"<ol>\n<li><p>Department deletion and employee status change</p>\n<p>In my opinion, you should perform these operations in a single transaction\nusing @Transactional. That is, as you suggested.  When an error arises when\ndeleting a deparment, the transaction should be rolled back.</p>\n</li>\n<li><p>Removing company branch and departments</p>\n<p>I don't think so that @PreRemove is the best option.\nI would simply in one transaction remove the company branch, all departments\nfrom company branch and change the employee status using Repository and\nSpring Data. I think this is a more readable solution.</p>\n</li>\n</ol>\n"}],"comment_count":0,"is_answered":true,"view_count":32,"answer_count":1,"score":0,"last_activity_date":1700868178,"creation_date":1700858906,"question_id":77545605,"body_markdown":"I found a problem in my project. A have those three entities: CompanyBranch, Department, Employee. Relationship between CompanyBranch and Departmen is One-To-Many, same with Department and Employee. Here my entity classes:\r\n\r\n    \r\n    @Entity\r\n    @Table(name = &quot;COMPANY_BRANCH&quot;, uniqueConstraints = {\r\n            @UniqueConstraint(name = &quot;AddressUniqueConstraint&quot;, columnNames = {&quot;COMPANY_BRANCH_CITY&quot;,\r\n                    &quot;COMPANY_BRANCH_ZIP_CODE&quot;, &quot;COMPANY_BRANCH_STREET&quot;, &quot;COMPANY_BRANCH_COUNTRY&quot;})\r\n    })\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class CompanyBranch {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        @Convert(\r\n                converter = MoneyConverter.class\r\n        )\r\n        @Column(name = &quot;COMPANY_BRANCH_BUDGET&quot;, length = 63)\r\n        private Money budget;\r\n    \r\n        @Embedded\r\n        @NotNull\r\n        @AttributeOverrides({\r\n                @AttributeOverride(name = &quot;city&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_CITY&quot;)),\r\n                @AttributeOverride(name = &quot;zipCode&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_ZIP_CODE&quot;)),\r\n                @AttributeOverride(name = &quot;street&quot;,\r\n                    column = @Column(name = &quot;COMPANY_BRANCH_STREET&quot;)),\r\n                @AttributeOverride(name = &quot;country&quot;,\r\n                column = @Column(name = &quot;COMPANY_BRANCH_COUNTRY&quot;))\r\n        })\r\n        private Address companyBranchAddress;\r\n    \r\n        @NotNull\r\n        @NotBlank(message = &quot;Номер телефона не должен быть пустым&quot;)\r\n        @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\r\n                message = &quot;Неверный формат номера!&quot;)\r\n        @Column(name = &quot;COMPANY_BRANCH_PHONE_NUMBER&quot;, unique = true)\r\n        private String phoneNumber;\r\n    }\r\n\r\nDepartment:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;DEPARTMENT&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Department {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        @NotBlank(message = &quot;Название отдела не может быть пустым!&quot;)\r\n        @Column(name = &quot;DEPARTMENT_NAME&quot;)\r\n        private String departmentName;\r\n    \r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        @Column(name = &quot;LAST_MODIFIED&quot;)\r\n        private Date lastModified;\r\n    \r\n        @NotNull\r\n        @NotBlank(message = &quot;Номер телефона не должен быть пустым&quot;)\r\n        @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\r\n                message = &quot;Неверный формат номера!&quot;)\r\n        @Column(name = &quot;DEPARTMENT_PHONE_NUMBER&quot;, unique = true)\r\n        private String phoneNumber;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;COMPANY_BRANCH_ID&quot;, nullable = false)\r\n        private CompanyBranch companyBranch;\r\n    \r\n        @PrePersist\r\n        @PreUpdate\r\n        protected void setDefaultLastModified(){\r\n            lastModified = new Date();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nEmployee:\r\n\r\n\r\n    \r\n    @Entity\r\n    @Table(name = &quot;EMPLOYEE&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Employee {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Embedded\r\n        private Name name;\r\n    \r\n        @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\r\n                 message = &quot;Неверный формат номера!&quot;)\r\n        @NotNull\r\n        @NotBlank(message = &quot;Телефон не может быть пустым!&quot;)\r\n        @Column(unique = true, name = &quot;PHONE_NUMBER&quot;)\r\n        private String phoneNumber;\r\n    \r\n        @Embedded\r\n        @AttributeOverrides({\r\n                @AttributeOverride(name = &quot;city&quot;,\r\n                    column = @Column(name = &quot;HOME_CITY&quot;)),\r\n                @AttributeOverride(name = &quot;zipCode&quot;,\r\n                    column = @Column(name = &quot;HOME_ZIP_CODE&quot;)),\r\n                @AttributeOverride(name = &quot;street&quot;,\r\n                    column = @Column(name = &quot;HOME_STREET&quot;)),\r\n                @AttributeOverride(name = &quot;country&quot;,\r\n                    column = @Column(name = &quot;HOME_COUNTRY&quot;))\r\n        })\r\n        private Address homeAddress;\r\n    \r\n        @Email(message = &quot;Неверный формат почты!&quot;)\r\n        @NotNull\r\n        @Column(unique = true, name = &quot;EMAIL&quot;)\r\n        private String email;\r\n    \r\n        @Temporal(value = TemporalType.DATE)\r\n        @Column(name = &quot;EMPLOYMENT_DATE&quot;, updatable = false)\r\n        @CreationTimestamp\r\n        private Date employmentDate;\r\n    \r\n        @BatchSize(size = 4)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;EMPLOYEE_STATUS_ID&quot;)\r\n        private EmployeeStatus employeeStatus;\r\n    \r\n        @NotNull\r\n        @Convert(\r\n                converter = MoneyConverter.class\r\n        )\r\n        @Column(name = &quot;SALARY&quot;, length = 63)\r\n        private Money salary;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;DEPARTMENT_ID&quot;)\r\n        private Department department;\r\n    }\r\n\r\nWhen i am removing department, i want to also change status of each employee in this department, i wanted to do this with `@PreRemove` annotation, but I think it is not the best way to do so since EmployeeStatus is an entity class, so I need to inject spring logic inside the entity class. So this is the way I managed the problem:\r\n\r\n    @Modifying(clearAutomatically = true, flushAutomatically = true)\r\n        @Query(value = &quot;UPDATE Employee e SET e.employeeStatus = &quot; +\r\n                &quot;(SELECT es FROM EmployeeStatus es WHERE es.employeeStatus = &#39;FIRED&#39;), &quot; +\r\n                &quot;e.department = null &quot; +\r\n                &quot;WHERE e.department = :department&quot;)\r\n        void updateEmployeesStatusToFiredOnDelete(Department department);\r\n\r\nAnd here is method in Department service:\r\n\r\n    @Transactional\r\n        public void deleteDepartment(Department department) {\r\n            if (department == null)\r\n                throw new IllegalArgumentException(&quot;Illegal department for removal!&quot;);\r\n    \r\n            departmentRepository.updateEmployeesStatusToFiredOnDelete(department);\r\n            departmentRepository.delete(department);\r\n        }\r\n\r\nBut when I am removing company branch, I want also remove all departments inside it and employees statuses should be changed. As I already said, I dont think that `@PreRemove` can help me with this. I am thinking about creating a new `@Query` for company branch repository, but I think it is too inconvinient. Maybe there are some other solutions for solving this problem? Maybe I still can use `@PreRemove` here somehow?","link":"https://stackoverflow.com/questions/77545605/how-to-add-some-logic-before-removing-entity-without-preremove","title":"How to add some logic before removing entity without @PreRemove?","body":"<p>I found a problem in my project. A have those three entities: CompanyBranch, Department, Employee. Relationship between CompanyBranch and Departmen is One-To-Many, same with Department and Employee. Here my entity classes:</p>\n<pre><code>@Entity\n@Table(name = &quot;COMPANY_BRANCH&quot;, uniqueConstraints = {\n        @UniqueConstraint(name = &quot;AddressUniqueConstraint&quot;, columnNames = {&quot;COMPANY_BRANCH_CITY&quot;,\n                &quot;COMPANY_BRANCH_ZIP_CODE&quot;, &quot;COMPANY_BRANCH_STREET&quot;, &quot;COMPANY_BRANCH_COUNTRY&quot;})\n})\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CompanyBranch {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @Convert(\n            converter = MoneyConverter.class\n    )\n    @Column(name = &quot;COMPANY_BRANCH_BUDGET&quot;, length = 63)\n    private Money budget;\n\n    @Embedded\n    @NotNull\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;city&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_CITY&quot;)),\n            @AttributeOverride(name = &quot;zipCode&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_ZIP_CODE&quot;)),\n            @AttributeOverride(name = &quot;street&quot;,\n                column = @Column(name = &quot;COMPANY_BRANCH_STREET&quot;)),\n            @AttributeOverride(name = &quot;country&quot;,\n            column = @Column(name = &quot;COMPANY_BRANCH_COUNTRY&quot;))\n    })\n    private Address companyBranchAddress;\n\n    @NotNull\n    @NotBlank(message = &quot;Номер телефона не должен быть пустым&quot;)\n    @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\n            message = &quot;Неверный формат номера!&quot;)\n    @Column(name = &quot;COMPANY_BRANCH_PHONE_NUMBER&quot;, unique = true)\n    private String phoneNumber;\n}\n</code></pre>\n<p>Department:</p>\n<pre><code>@Entity\n@Table(name = &quot;DEPARTMENT&quot;)\n@Getter\n@Setter\npublic class Department {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @NotBlank(message = &quot;Название отдела не может быть пустым!&quot;)\n    @Column(name = &quot;DEPARTMENT_NAME&quot;)\n    private String departmentName;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;LAST_MODIFIED&quot;)\n    private Date lastModified;\n\n    @NotNull\n    @NotBlank(message = &quot;Номер телефона не должен быть пустым&quot;)\n    @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\n            message = &quot;Неверный формат номера!&quot;)\n    @Column(name = &quot;DEPARTMENT_PHONE_NUMBER&quot;, unique = true)\n    private String phoneNumber;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;COMPANY_BRANCH_ID&quot;, nullable = false)\n    private CompanyBranch companyBranch;\n\n    @PrePersist\n    @PreUpdate\n    protected void setDefaultLastModified(){\n        lastModified = new Date();\n    }\n\n}\n</code></pre>\n<p>Employee:</p>\n<pre><code>@Entity\n@Table(name = &quot;EMPLOYEE&quot;)\n@Getter\n@Setter\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Embedded\n    private Name name;\n\n    @Pattern(regexp = &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;,\n             message = &quot;Неверный формат номера!&quot;)\n    @NotNull\n    @NotBlank(message = &quot;Телефон не может быть пустым!&quot;)\n    @Column(unique = true, name = &quot;PHONE_NUMBER&quot;)\n    private String phoneNumber;\n\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;city&quot;,\n                column = @Column(name = &quot;HOME_CITY&quot;)),\n            @AttributeOverride(name = &quot;zipCode&quot;,\n                column = @Column(name = &quot;HOME_ZIP_CODE&quot;)),\n            @AttributeOverride(name = &quot;street&quot;,\n                column = @Column(name = &quot;HOME_STREET&quot;)),\n            @AttributeOverride(name = &quot;country&quot;,\n                column = @Column(name = &quot;HOME_COUNTRY&quot;))\n    })\n    private Address homeAddress;\n\n    @Email(message = &quot;Неверный формат почты!&quot;)\n    @NotNull\n    @Column(unique = true, name = &quot;EMAIL&quot;)\n    private String email;\n\n    @Temporal(value = TemporalType.DATE)\n    @Column(name = &quot;EMPLOYMENT_DATE&quot;, updatable = false)\n    @CreationTimestamp\n    private Date employmentDate;\n\n    @BatchSize(size = 4)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;EMPLOYEE_STATUS_ID&quot;)\n    private EmployeeStatus employeeStatus;\n\n    @NotNull\n    @Convert(\n            converter = MoneyConverter.class\n    )\n    @Column(name = &quot;SALARY&quot;, length = 63)\n    private Money salary;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;DEPARTMENT_ID&quot;)\n    private Department department;\n}\n</code></pre>\n<p>When i am removing department, i want to also change status of each employee in this department, i wanted to do this with <code>@PreRemove</code> annotation, but I think it is not the best way to do so since EmployeeStatus is an entity class, so I need to inject spring logic inside the entity class. So this is the way I managed the problem:</p>\n<pre><code>@Modifying(clearAutomatically = true, flushAutomatically = true)\n    @Query(value = &quot;UPDATE Employee e SET e.employeeStatus = &quot; +\n            &quot;(SELECT es FROM EmployeeStatus es WHERE es.employeeStatus = 'FIRED'), &quot; +\n            &quot;e.department = null &quot; +\n            &quot;WHERE e.department = :department&quot;)\n    void updateEmployeesStatusToFiredOnDelete(Department department);\n</code></pre>\n<p>And here is method in Department service:</p>\n<pre><code>@Transactional\n    public void deleteDepartment(Department department) {\n        if (department == null)\n            throw new IllegalArgumentException(&quot;Illegal department for removal!&quot;);\n\n        departmentRepository.updateEmployeesStatusToFiredOnDelete(department);\n        departmentRepository.delete(department);\n    }\n</code></pre>\n<p>But when I am removing company branch, I want also remove all departments inside it and employees statuses should be changed. As I already said, I dont think that <code>@PreRemove</code> can help me with this. I am thinking about creating a new <code>@Query</code> for company branch repository, but I think it is too inconvinient. Maybe there are some other solutions for solving this problem? Maybe I still can use <code>@PreRemove</code> here somehow?</p>\n"}],"has_more":true,"quota_max":300,"quota_remaining":282}