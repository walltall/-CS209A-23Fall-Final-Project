{"items":[{"tags":["java","microcontroller"],"comments":[{"score":0,"post_type":"question","creation_date":1701346672,"post_id":77578308,"comment_id":136765653,"body_markdown":"You need to test this stuff. If your theory is &#39;it is due to the thread ending&#39; then sleep the thread (`Thread.sleep`). There is no need to make a busy-loop. If that helps - great, apply it. If that does nothing - great, you have disproved your theory.","link":"https://stackoverflow.com/questions/77578308/a-buzzer-system-using-java-clip-wont-play#comment136765653_77578308","body":"You need to test this stuff. If your theory is &#39;it is due to the thread ending&#39; then sleep the thread (<code>Thread.sleep</code>). There is no need to make a busy-loop. If that helps - great, apply it. If that does nothing - great, you have disproved your theory."},{"score":1,"post_type":"question","creation_date":1701346675,"post_id":77578308,"comment_id":136765655,"body_markdown":"Depending on how exactly you wired up your key you might actually run into a &quot;bouncing&quot; issue and need to add a debouncer (either physical/electronical or in software). That means that the switch goes from &quot;pressed&quot; to &quot;unpressed&quot; back to &quot;pressed&quot; real quickly, so to your software it might look like many independent key presses one after another.","link":"https://stackoverflow.com/questions/77578308/a-buzzer-system-using-java-clip-wont-play#comment136765655_77578308","body":"Depending on how exactly you wired up your key you might actually run into a &quot;bouncing&quot; issue and need to add a debouncer (either physical/electronical or in software). That means that the switch goes from &quot;pressed&quot; to &quot;unpressed&quot; back to &quot;pressed&quot; real quickly, so to your software it might look like many independent key presses one after another."},{"score":0,"post_type":"question","creation_date":1701346728,"post_id":77578308,"comment_id":136765667,"body_markdown":"Here&#39;s one [Stack Overflow answer](https://stackoverflow.com/questions/2416935/how-to-play-wav-files-with-java/74965929#74965929) that plays a WAV file.","link":"https://stackoverflow.com/questions/77578308/a-buzzer-system-using-java-clip-wont-play#comment136765667_77578308","body":"Here&#39;s one <a href=\"https://stackoverflow.com/questions/2416935/how-to-play-wav-files-with-java/74965929#74965929\">Stack Overflow answer</a> that plays a WAV file."},{"score":1,"post_type":"question","creation_date":1701346760,"post_id":77578308,"comment_id":136765676,"body_markdown":"In general, write it so that you can plug the &#39;button&#39; - replace it real easy with just hitting enter on the keyboard. This in passing also tests GenerousBadger&#39;s debouncing theory (quite a plausible one) - if it doesn&#39;t happen when you just press enter you know the problem lies with input processing (such as needing to debounce it), not with turning &#39;yes, button pressed!&#39; into audio.","link":"https://stackoverflow.com/questions/77578308/a-buzzer-system-using-java-clip-wont-play#comment136765676_77578308","body":"In general, write it so that you can plug the &#39;button&#39; - replace it real easy with just hitting enter on the keyboard. This in passing also tests GenerousBadger&#39;s debouncing theory (quite a plausible one) - if it doesn&#39;t happen when you just press enter you know the problem lies with input processing (such as needing to debounce it), not with turning &#39;yes, button pressed!&#39; into audio."}],"comment_count":4,"is_answered":false,"view_count":29,"answer_count":0,"score":1,"last_activity_date":1701346061,"creation_date":1701346061,"question_id":77578308,"body_markdown":"So im trying to make a buzzer system for my club at school (Sciencebowl) because an actual one costs like 500 dollars.\r\nEverything else seems to work but when I run the code what I think is happening is that the clip will play over and over restarting each time and the thread that it is in stops before it can actually play.\r\nIm using a button externally that ive hooked up to a micro controller\r\n\r\nthis is code that grabs those 1s and 0s from a microcontroller\r\n```\r\nimport com.fazecast.jSerialComm.*;\r\npublic class Microreader {\r\n\r\n\r\n    private SerialPort port;\r\n    int i = 2;\r\n\r\n    public Microreader() { \r\n        SerialPort[] ports = SerialPort.getCommPorts();\r\n        port = ports[1]; // Modify this to select the correct port\r\n        System.out.println(port);\r\n        //grabs the port and store it in port\r\n         \r\n    }\r\n\r\n    public SerialPort getSerialPort() { \r\n        return port;\r\n//this allows me to use the port\r\n    }\r\n    \r\n    public void openPort(SerialPort tport) { \r\n        if (tport.openPort()) {\r\n            System.out.println(&quot;Port opened.&quot;);\r\n            int baudRate = 115200;\r\n            tport.setBaudRate(baudRate);\r\n            tport.setComPortTimeouts(SerialPort.TIMEOUT_READ_SEMI_BLOCKING, 100, 0);\r\n//opening up the port (its COM5 btw im using an arduino)\r\n    }\r\n    \r\n\r\n}\r\npublic char readPortValues() {\r\n    \r\n        byte[] readBuffer = new byte[1]; // 40% of this part is stole nbut from trial and error I\r\n                                         // dont think the error is here\r\n        int numRead = port.readBytes(readBuffer, readBuffer.length); // Read data into buffer\r\n\r\n        if (numRead &gt; 0) { //just to make sure it isnt some weird negatve voodoo\r\n            char receivedChar = (char) readBuffer[0];\r\n            \r\n            if (receivedChar == &#39;1&#39; || receivedChar == &#39;0&#39;) { //prettu sure theres no point in this \r\n                                                              //conditional ill probably get rid of \r\n                                                              //it\r\n                System.out.println(receivedChar); //I print out 1s and 0s a little redundantly\r\n                                                  //they say redundancy is good but... not here\r\n                                                  //.....probably\r\n                return receivedChar;\r\n            } else {\r\n                System.out.println(&quot;Received an unexpected character: &quot; + receivedChar);\r\n                return receivedChar;\r\n                \r\n            }\r\n        }\r\n        else { \r\n            System.out.println(&quot;no valid value&quot;);\r\n            return &#39;x&#39;;\r\n        }\r\n    \r\n}\r\n}\r\n\r\n\r\n\r\n```\r\nThe code that plays the sound\r\n\r\n```\r\nimport java.io.File; \r\nimport java.io.IOException; \r\n\r\n  \r\nimport javax.sound.sampled.AudioInputStream; \r\nimport javax.sound.sampled.AudioSystem; \r\nimport javax.sound.sampled.Clip; \r\nimport javax.sound.sampled.LineUnavailableException; \r\nimport javax.sound.sampled.UnsupportedAudioFileException; \r\n  \r\npublic class soundplayer \r\n{ \r\n  \r\n    // to store current position \r\n    Long currentFrame; \r\n    Clip clip; \r\n      \r\n    // current status of clip \r\n    String status; \r\n      \r\n    AudioInputStream audioInputStream; \r\n    static String filePath; \r\n  \r\n    // constructor to initialize streams and clip \r\n    public soundplayer(String filePath) \r\n        throws UnsupportedAudioFileException, \r\n        IOException, LineUnavailableException  \r\n    { \r\n        soundplayer.filePath = filePath;\r\n        // create AudioInputStream object \r\n        audioInputStream =  \r\n                AudioSystem.getAudioInputStream(new File(filePath).getAbsoluteFile()); \r\n          \r\n        // create clip reference \r\n        clip = AudioSystem.getClip(); \r\n          \r\n        // open audioInputStream to the clip \r\n        clip.open(audioInputStream); \r\n        \r\n    } \r\n  \r\n\r\n      \r\n    // Work as the user enters his choice \r\n      \r\n\r\n      \r\n    // Method to play the audio \r\n    public void play()  \r\n    { \r\n        //start the clip \r\n        clip.start(); \r\n          \r\n        status = &quot;play&quot;; \r\n    } \r\n     // Method to stop the audio \r\n     public void stop() throws UnsupportedAudioFileException, \r\n     IOException, LineUnavailableException  \r\n     { \r\n         currentFrame = 0L; \r\n         clip.stop(); \r\n         clip.close(); \r\n     } \r\n}\r\n```\r\nputting it all together \r\n\r\n```\r\nimport javax.sound.sampled.LineUnavailableException; \r\nimport javax.sound.sampled.UnsupportedAudioFileException; \r\nimport java.io.IOException; \r\nimport com.fazecast.jSerialComm.*;\r\n\r\n\r\npublic class App {\r\n    public static void main(String[] args) throws \r\n    UnsupportedAudioFileException, \r\n        IOException, LineUnavailableException {\r\n        int i = 0;\r\n        int g = 0;\r\n        int k = 0;\r\n        soundplayer clip = new soundplayer(&quot;D:\\\\Working Zone\\\\RPReplay_Final1701075140.wav&quot;); //the clip vkia a file path on my computer\r\n        Microreader value = new Microreader(); //this just rmakes the microreader object\r\n        SerialPort tport = value.getSerialPort(); //this gets the port back\r\n        value.openPort(tport);\r\n        //clip.play(); I tested the clip here on its own and added my for loop delay stretegy\r\n                      // it worked as intended\r\n        while(g == 0) { \r\n\r\n        \r\n        char tvalue = value.readPortValues();\r\n\r\n        if (tvalue == &#39;1&#39;) {  // plays the sound if a 1 is read\r\n            if (i == 0) {  //prevents the sound from playing over and over I just want it to play  \r\n                           //once\r\n                System.out.println(&quot;1&quot;);\r\n            }\r\n            else{\r\n            \r\n            clip.play(); //right here the clip im pretty sure plays but is ended due to the \r\n                         //&quot;thread&quot; ending ( I think) \r\n                         //I only want the clip to play once per button press, ( i have a button set                   \r\n                         //up externally) i dont want two cleips to play at the same time \r\n                         //but I dont want the program to run jus tonce  iwant to to run\r\n                         //until I manually shut it off\r\n            \r\n            \r\n            i = 0;\r\n            \r\n            \r\n            \r\n\r\n        }\r\n    }\r\n        else if (tvalue == 0) { \r\n            if (i == 1) { \r\n                System.out.println(&quot;0&quot;); //stops the sound if a 0 is read unless it has already                \r\n                                         //stopped\r\n            }\r\n            else{\r\n            clip.stop();\r\n            \r\n            i = 1;\r\n            }\r\n\r\n        }\r\n    }\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI tried using a for to loop to delay it but thatt just printed out some humongous google plex level number \r\n \r\n```\r\n if (tvalue == &#39;1&#39;) { \r\n            if (i == 0) { \r\n                System.out.println(&quot;1&quot;);\r\n            }\r\n            else{\r\n            \r\n            clip.play();\r\n            \r\n            \r\n            i = 0;\r\n            for (k = 0; k &lt; 20000; k++) { \r\n                System.out.println();\r\n            }\r\n```\r\n\r\n            \r\nive also tried making a new thread like \r\n\r\n```\r\nThread playThread = new Thread(() -&gt; {\r\n                clip.play();\r\n            });\r\n            playThread.start();\r\n\r\n            // should pause this bit while concurrently alloweing the clip to play\r\n            try {\r\n                Thread.sleep(5000); // Delay for 5 seconds (adjust as needed)\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n```\r\n\r\nbut it still doesnt play, Im not a great programmer, evidently, but I also dont want to spend 500 dollars on a box that makes a noise..... also just wanted an excuse to make something. help would be greatly appreciated!\r\n","link":"https://stackoverflow.com/questions/77578308/a-buzzer-system-using-java-clip-wont-play","title":"A buzzer system using java, clip wont play","body":"<p>So im trying to make a buzzer system for my club at school (Sciencebowl) because an actual one costs like 500 dollars.\nEverything else seems to work but when I run the code what I think is happening is that the clip will play over and over restarting each time and the thread that it is in stops before it can actually play.\nIm using a button externally that ive hooked up to a micro controller</p>\n<p>this is code that grabs those 1s and 0s from a microcontroller</p>\n<pre><code>import com.fazecast.jSerialComm.*;\npublic class Microreader {\n\n\n    private SerialPort port;\n    int i = 2;\n\n    public Microreader() { \n        SerialPort[] ports = SerialPort.getCommPorts();\n        port = ports[1]; // Modify this to select the correct port\n        System.out.println(port);\n        //grabs the port and store it in port\n         \n    }\n\n    public SerialPort getSerialPort() { \n        return port;\n//this allows me to use the port\n    }\n    \n    public void openPort(SerialPort tport) { \n        if (tport.openPort()) {\n            System.out.println(&quot;Port opened.&quot;);\n            int baudRate = 115200;\n            tport.setBaudRate(baudRate);\n            tport.setComPortTimeouts(SerialPort.TIMEOUT_READ_SEMI_BLOCKING, 100, 0);\n//opening up the port (its COM5 btw im using an arduino)\n    }\n    \n\n}\npublic char readPortValues() {\n    \n        byte[] readBuffer = new byte[1]; // 40% of this part is stole nbut from trial and error I\n                                         // dont think the error is here\n        int numRead = port.readBytes(readBuffer, readBuffer.length); // Read data into buffer\n\n        if (numRead &gt; 0) { //just to make sure it isnt some weird negatve voodoo\n            char receivedChar = (char) readBuffer[0];\n            \n            if (receivedChar == '1' || receivedChar == '0') { //prettu sure theres no point in this \n                                                              //conditional ill probably get rid of \n                                                              //it\n                System.out.println(receivedChar); //I print out 1s and 0s a little redundantly\n                                                  //they say redundancy is good but... not here\n                                                  //.....probably\n                return receivedChar;\n            } else {\n                System.out.println(&quot;Received an unexpected character: &quot; + receivedChar);\n                return receivedChar;\n                \n            }\n        }\n        else { \n            System.out.println(&quot;no valid value&quot;);\n            return 'x';\n        }\n    \n}\n}\n\n\n\n</code></pre>\n<p>The code that plays the sound</p>\n<pre><code>import java.io.File; \nimport java.io.IOException; \n\n  \nimport javax.sound.sampled.AudioInputStream; \nimport javax.sound.sampled.AudioSystem; \nimport javax.sound.sampled.Clip; \nimport javax.sound.sampled.LineUnavailableException; \nimport javax.sound.sampled.UnsupportedAudioFileException; \n  \npublic class soundplayer \n{ \n  \n    // to store current position \n    Long currentFrame; \n    Clip clip; \n      \n    // current status of clip \n    String status; \n      \n    AudioInputStream audioInputStream; \n    static String filePath; \n  \n    // constructor to initialize streams and clip \n    public soundplayer(String filePath) \n        throws UnsupportedAudioFileException, \n        IOException, LineUnavailableException  \n    { \n        soundplayer.filePath = filePath;\n        // create AudioInputStream object \n        audioInputStream =  \n                AudioSystem.getAudioInputStream(new File(filePath).getAbsoluteFile()); \n          \n        // create clip reference \n        clip = AudioSystem.getClip(); \n          \n        // open audioInputStream to the clip \n        clip.open(audioInputStream); \n        \n    } \n  \n\n      \n    // Work as the user enters his choice \n      \n\n      \n    // Method to play the audio \n    public void play()  \n    { \n        //start the clip \n        clip.start(); \n          \n        status = &quot;play&quot;; \n    } \n     // Method to stop the audio \n     public void stop() throws UnsupportedAudioFileException, \n     IOException, LineUnavailableException  \n     { \n         currentFrame = 0L; \n         clip.stop(); \n         clip.close(); \n     } \n}\n</code></pre>\n<p>putting it all together</p>\n<pre><code>import javax.sound.sampled.LineUnavailableException; \nimport javax.sound.sampled.UnsupportedAudioFileException; \nimport java.io.IOException; \nimport com.fazecast.jSerialComm.*;\n\n\npublic class App {\n    public static void main(String[] args) throws \n    UnsupportedAudioFileException, \n        IOException, LineUnavailableException {\n        int i = 0;\n        int g = 0;\n        int k = 0;\n        soundplayer clip = new soundplayer(&quot;D:\\\\Working Zone\\\\RPReplay_Final1701075140.wav&quot;); //the clip vkia a file path on my computer\n        Microreader value = new Microreader(); //this just rmakes the microreader object\n        SerialPort tport = value.getSerialPort(); //this gets the port back\n        value.openPort(tport);\n        //clip.play(); I tested the clip here on its own and added my for loop delay stretegy\n                      // it worked as intended\n        while(g == 0) { \n\n        \n        char tvalue = value.readPortValues();\n\n        if (tvalue == '1') {  // plays the sound if a 1 is read\n            if (i == 0) {  //prevents the sound from playing over and over I just want it to play  \n                           //once\n                System.out.println(&quot;1&quot;);\n            }\n            else{\n            \n            clip.play(); //right here the clip im pretty sure plays but is ended due to the \n                         //&quot;thread&quot; ending ( I think) \n                         //I only want the clip to play once per button press, ( i have a button set                   \n                         //up externally) i dont want two cleips to play at the same time \n                         //but I dont want the program to run jus tonce  iwant to to run\n                         //until I manually shut it off\n            \n            \n            i = 0;\n            \n            \n            \n\n        }\n    }\n        else if (tvalue == 0) { \n            if (i == 1) { \n                System.out.println(&quot;0&quot;); //stops the sound if a 0 is read unless it has already                \n                                         //stopped\n            }\n            else{\n            clip.stop();\n            \n            i = 1;\n            }\n\n        }\n    }\n    }\n}\n\n\n\n</code></pre>\n<p>I tried using a for to loop to delay it but thatt just printed out some humongous google plex level number</p>\n<pre><code> if (tvalue == '1') { \n            if (i == 0) { \n                System.out.println(&quot;1&quot;);\n            }\n            else{\n            \n            clip.play();\n            \n            \n            i = 0;\n            for (k = 0; k &lt; 20000; k++) { \n                System.out.println();\n            }\n</code></pre>\n<p>ive also tried making a new thread like</p>\n<pre><code>Thread playThread = new Thread(() -&gt; {\n                clip.play();\n            });\n            playThread.start();\n\n            // should pause this bit while concurrently alloweing the clip to play\n            try {\n                Thread.sleep(5000); // Delay for 5 seconds (adjust as needed)\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n</code></pre>\n<p>but it still doesnt play, Im not a great programmer, evidently, but I also dont want to spend 500 dollars on a box that makes a noise..... also just wanted an excuse to make something. help would be greatly appreciated!</p>\n"},{"tags":["java"],"comments":[{"score":0,"post_type":"question","creation_date":1701349000,"post_id":77578295,"comment_id":136766111,"body_markdown":"Please copy the text into the question - don&#39;t link or post screenshots.","link":"https://stackoverflow.com/questions/77578295/when-i-try-to-create-hibernate-cfg-xml-file-i-am-getting-this-error-shown-in-scr#comment136766111_77578295","body":"Please copy the text into the question - don&#39;t link or post screenshots."}],"comment_count":1,"is_answered":false,"view_count":23,"answer_count":0,"score":0,"last_activity_date":1701345947,"creation_date":1701345947,"question_id":77578295,"body_markdown":"[hibernate.cfg.xml file in eclipse](https://i.stack.imgur.com/FQqdU.jpg)\r\n\r\nUpon careful examination of the error messages, it became evident that certain essential elements—namely, &#39;hibernate configuration,&#39; &#39;property,&#39; and &#39;session factory&#39;—are required within the Hibernate configuration file (hibernate.cfg.xml). Despite referencing tutorials on platforms such as YouTube, replicating the process proved challenging, and I encountered difficulty in generating this configuration file seamlessly. I am actively seeking guidance and solutions to rectify this issue and ensure the accurate creation of the hibernate.cfg.xml file in alignment with established best practices.","link":"https://stackoverflow.com/questions/77578295/when-i-try-to-create-hibernate-cfg-xml-file-i-am-getting-this-error-shown-in-scr","title":"When I try to create Hibernate.cfg.xml file I am getting this error shown in screenshot, kindly help me solve this","body":"<p><a href=\"https://i.stack.imgur.com/FQqdU.jpg\" rel=\"nofollow noreferrer\">hibernate.cfg.xml file in eclipse</a></p>\n<p>Upon careful examination of the error messages, it became evident that certain essential elements—namely, 'hibernate configuration,' 'property,' and 'session factory'—are required within the Hibernate configuration file (hibernate.cfg.xml). Despite referencing tutorials on platforms such as YouTube, replicating the process proved challenging, and I encountered difficulty in generating this configuration file seamlessly. I am actively seeking guidance and solutions to rectify this issue and ensure the accurate creation of the hibernate.cfg.xml file in alignment with established best practices.</p>\n"},{"tags":["java","bash","javap"],"comments":[{"score":0,"post_type":"question","creation_date":1701346200,"post_id":77578059,"comment_id":136765562,"body_markdown":"A &quot;jar file containing ... jar files&quot;?","link":"https://stackoverflow.com/questions/77578059/is-there-a-way-within-a-bash-script-to-determine-the-minimum-java-version-requir#comment136765562_77578059","body":"A &quot;jar file containing ... jar files&quot;?"},{"score":0,"post_type":"question","creation_date":1701354271,"post_id":77578059,"comment_id":136767214,"body_markdown":"You can scan the class file or jar with [THIS](https://technojeeves.com/index.php/aliasjava1/105-determine-java-class-file-version) to avoid having to extract anything","link":"https://stackoverflow.com/questions/77578059/is-there-a-way-within-a-bash-script-to-determine-the-minimum-java-version-requir#comment136767214_77578059","body":"You can scan the class file or jar with <a href=\"https://technojeeves.com/index.php/aliasjava1/105-determine-java-class-file-version\" rel=\"nofollow noreferrer\">THIS</a> to avoid having to extract anything"}],"answers":[{"comment_count":0,"score":2,"last_activity_date":1701345377,"last_edit_date":1701345377,"creation_date":1701345063,"answer_id":77578210,"question_id":77578059,"body_markdown":"A JAR file is just a collection of files. It&#39;s not guaranteed that every `.class` file in the JAR was compiled with the same JDK version - although I believe that the chances of encountering such a JAR file are very slim. Nonetheless, the Java class [major] version number is **always** the seventh and eighth bytes in a `.class` file.\r\n\r\nAssuming that all `.class` files in the JAR have the same version, you can use the [jar][1] command to extract a `.class` file from the JAR and read the bytes that contain the Java version.\r\n\r\nRefer to https://en.wikipedia.org/wiki/Java_class_file for details of the Java `.class` file format.\r\n\r\nRefer to [SO question] [How to get only the first ten bytes of a binary file][2] for how to read the first bytes of the `.class` file.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/specs/man/jar.html\r\n  [2]: https://stackoverflow.com/questions/4411014/how-to-get-only-the-first-ten-bytes-of-a-binary-file","link":"https://stackoverflow.com/questions/77578059/is-there-a-way-within-a-bash-script-to-determine-the-minimum-java-version-requir/77578210#77578210","title":"Is there a way within a bash script to determine the minimum java version required by a jar file containing class files and jar files?","body":"<p>A JAR file is just a collection of files. It's not guaranteed that every <code>.class</code> file in the JAR was compiled with the same JDK version - although I believe that the chances of encountering such a JAR file are very slim. Nonetheless, the Java class [major] version number is <strong>always</strong> the seventh and eighth bytes in a <code>.class</code> file.</p>\n<p>Assuming that all <code>.class</code> files in the JAR have the same version, you can use the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/jar.html\" rel=\"nofollow noreferrer\">jar</a> command to extract a <code>.class</code> file from the JAR and read the bytes that contain the Java version.</p>\n<p>Refer to <a href=\"https://en.wikipedia.org/wiki/Java_class_file\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Java_class_file</a> for details of the Java <code>.class</code> file format.</p>\n<p>Refer to [SO question] <a href=\"https://stackoverflow.com/questions/4411014/how-to-get-only-the-first-ten-bytes-of-a-binary-file\">How to get only the first ten bytes of a binary file</a> for how to read the first bytes of the <code>.class</code> file.</p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1701418236,"post_id":77578245,"comment_id":136775539,"body_markdown":"Note that the headers are not mandatory so it is not guaranteed that the JAR&#39;s MANIFEST file will contain _Created-By_ or _Build-Jdk_. Refer to the [JAR] [specification](https://docs.oracle.com/en/java/javase/21/docs/specs/jar/jar.html).","link":"https://stackoverflow.com/questions/77578059/is-there-a-way-within-a-bash-script-to-determine-the-minimum-java-version-requir/77578245#comment136775539_77578245","body":"Note that the headers are not mandatory so it is not guaranteed that the JAR&#39;s MANIFEST file will contain <i>Created-By</i> or <i>Build-Jdk</i>. Refer to the [JAR] <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/jar/jar.html\" rel=\"nofollow noreferrer\">specification</a>."}],"comment_count":1,"score":2,"last_activity_date":1701345706,"last_edit_date":1701345706,"creation_date":1701345449,"answer_id":77578245,"question_id":77578059,"body_markdown":"You can extract the JAR file and check the ***MANIFEST.MF*** file, which contains information about the JDK used to build the JAR. The &quot;Created-By&quot; or &quot;Build-Jdk&quot; header in the ***MANIFEST.MF*** file stores the JDK version used to create the JAR\r\n\r\nreplace JarName.jar with your jar\r\n\r\nhere is the bash script to find the jdk version:\r\n\r\n    #!/bin/bash\r\n    jdk_version=$(unzip -p JarName.jar META-INF/MANIFEST.MF | grep &quot;Created-By\\|Build-Jdk&quot;)\r\n    echo $jdk_version\r\n\r\n\r\n  \r\n","link":"https://stackoverflow.com/questions/77578059/is-there-a-way-within-a-bash-script-to-determine-the-minimum-java-version-requir/77578245#77578245","title":"Is there a way within a bash script to determine the minimum java version required by a jar file containing class files and jar files?","body":"<p>You can extract the JAR file and check the <em><strong>MANIFEST.MF</strong></em> file, which contains information about the JDK used to build the JAR. The &quot;Created-By&quot; or &quot;Build-Jdk&quot; header in the <em><strong>MANIFEST.MF</strong></em> file stores the JDK version used to create the JAR</p>\n<p>replace JarName.jar with your jar</p>\n<p>here is the bash script to find the jdk version:</p>\n<pre><code>#!/bin/bash\njdk_version=$(unzip -p JarName.jar META-INF/MANIFEST.MF | grep &quot;Created-By\\|Build-Jdk&quot;)\necho $jdk_version\n</code></pre>\n"}],"comment_count":2,"is_answered":true,"view_count":56,"answer_count":2,"score":0,"last_activity_date":1701345706,"creation_date":1701343641,"question_id":77578059,"body_markdown":"For a single class - we can work out the version of Java used to compile it:\r\n\r\n    javap -verbose className\r\n\r\nI have a scenario where I need to scale this up to a jar file containing many classes and jar files.  \r\n\r\nMy question is: **Is there a way within a bash script to determine the java version required by a jar file containing class files and jar files?**","link":"https://stackoverflow.com/questions/77578059/is-there-a-way-within-a-bash-script-to-determine-the-minimum-java-version-requir","title":"Is there a way within a bash script to determine the minimum java version required by a jar file containing class files and jar files?","body":"<p>For a single class - we can work out the version of Java used to compile it:</p>\n<pre><code>javap -verbose className\n</code></pre>\n<p>I have a scenario where I need to scale this up to a jar file containing many classes and jar files.</p>\n<p>My question is: <strong>Is there a way within a bash script to determine the java version required by a jar file containing class files and jar files?</strong></p>\n"},{"tags":["java"],"comments":[{"score":1,"post_type":"question","creation_date":1701283505,"post_id":77573698,"comment_id":136757759,"body_markdown":"there is something like that - https://stackoverflow.com/a/1414896/8312604. But I suppose it isn&#39;t gonna be helpful in your case.","link":"https://stackoverflow.com/questions/77573698/is-it-possible-to-use-interfaces-to-extend-enum-to-give-the-enum-the-ability-to#comment136757759_77573698","body":"there is something like that - <a href=\"https://stackoverflow.com/a/1414896/8312604\">stackoverflow.com/a/1414896/8312604</a>. But I suppose it isn&#39;t gonna be helpful in your case."},{"score":0,"post_type":"question","creation_date":1701345173,"post_id":77573698,"comment_id":136765381,"body_markdown":"You cannot do this with enums. You&#39;ll need to use an alternative approach, e.g. with interfaces, maybe an SPI or similar to detect the available options at runtime, etc.","link":"https://stackoverflow.com/questions/77573698/is-it-possible-to-use-interfaces-to-extend-enum-to-give-the-enum-the-ability-to#comment136765381_77573698","body":"You cannot do this with enums. You&#39;ll need to use an alternative approach, e.g. with interfaces, maybe an SPI or similar to detect the available options at runtime, etc."},{"score":0,"post_type":"question","creation_date":1701346756,"post_id":77573698,"comment_id":136765675,"body_markdown":"Maybe you could rewrite your question to show how you are currently using an Enum and why you need an Enum. Then the question would be how to replace it with something extensible. One idea is to create an Interface, then have your own implementations that correspond to the  values provided. That way it is pretty clear what a user would have to do.","link":"https://stackoverflow.com/questions/77573698/is-it-possible-to-use-interfaces-to-extend-enum-to-give-the-enum-the-ability-to#comment136765675_77573698","body":"Maybe you could rewrite your question to show how you are currently using an Enum and why you need an Enum. Then the question would be how to replace it with something extensible. One idea is to create an Interface, then have your own implementations that correspond to the  values provided. That way it is pretty clear what a user would have to do."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701285021,"post_id":77573770,"comment_id":136758008,"body_markdown":"I mean using Interfaces. Read the Question.","link":"https://stackoverflow.com/questions/77573698/is-it-possible-to-use-interfaces-to-extend-enum-to-give-the-enum-the-ability-to/77573770#comment136758008_77573770","body":"I mean using Interfaces. Read the Question."},{"score":0,"post_type":"answer","creation_date":1701287643,"post_id":77573770,"comment_id":136758420,"body_markdown":"@CuteKitsuneForever I did and attached a link to the approach with inerfaces as a comment to your question. But, as I said, probably it isn&#39;t gonna be helpful in your case.","link":"https://stackoverflow.com/questions/77573698/is-it-possible-to-use-interfaces-to-extend-enum-to-give-the-enum-the-ability-to/77573770#comment136758420_77573770","body":"@CuteKitsuneForever I did and attached a link to the approach with inerfaces as a comment to your question. But, as I said, probably it isn&#39;t gonna be helpful in your case."},{"score":0,"post_type":"answer","creation_date":1701345238,"post_id":77573770,"comment_id":136765392,"body_markdown":"@CuteKitsuneForever Nowhere does your question mention interfaces, you only mention enums. And enums are *not* extensible.","link":"https://stackoverflow.com/questions/77573698/is-it-possible-to-use-interfaces-to-extend-enum-to-give-the-enum-the-ability-to/77573770#comment136765392_77573770","body":"@CuteKitsuneForever Nowhere does your question mention interfaces, you only mention enums. And enums are <i>not</i> extensible."}],"comment_count":3,"score":-1,"last_activity_date":1701345192,"last_edit_date":1701345192,"creation_date":1701283383,"answer_id":77573770,"question_id":77573698,"body_markdown":" Inheritance is not allowed for enums.","link":"https://stackoverflow.com/questions/77573698/is-it-possible-to-use-interfaces-to-extend-enum-to-give-the-enum-the-ability-to/77573770#77573770","title":"Is it possible to use Interfaces to extend Enum to give the Enum the Ability to extend the Options?","body":"<p>Inheritance is not allowed for enums.</p>\n"}],"comment_count":3,"is_answered":false,"view_count":49,"answer_count":1,"score":1,"last_activity_date":1701345192,"creation_date":1701282731,"last_edit_date":1701345126,"question_id":77573698,"body_markdown":"I have an enum class with these options:\r\n\r\n- BOOLEAN\r\n- DATE\r\n- DOUBLE\r\n- FLOAT\r\n- INTEGER\r\n- LOCAL_DATE\r\n\r\nI want to allow other mod developers (I&#39;m making currently an API mod for Minecraft Forge) to add new options to that enum. How can I do that?","link":"https://stackoverflow.com/questions/77573698/is-it-possible-to-use-interfaces-to-extend-enum-to-give-the-enum-the-ability-to","title":"Is it possible to use Interfaces to extend Enum to give the Enum the Ability to extend the Options?","body":"<p>I have an enum class with these options:</p>\n<ul>\n<li>BOOLEAN</li>\n<li>DATE</li>\n<li>DOUBLE</li>\n<li>FLOAT</li>\n<li>INTEGER</li>\n<li>LOCAL_DATE</li>\n</ul>\n<p>I want to allow other mod developers (I'm making currently an API mod for Minecraft Forge) to add new options to that enum. How can I do that?</p>\n"},{"tags":["java","classloader","java-11","urlclassloader"],"comments":[{"score":5,"post_type":"question","creation_date":1701269163,"post_id":77571828,"comment_id":136754922,"body_markdown":"The class path is available via `System.getProperty(&quot;java.class.path&quot;)` since day one. So to check whether it contains a particular entry, you can use, e.g. `Arrays.asList(System.getProperty(&quot;java.class.path&quot;).split(File.pathSeparator)) .contains(&quot;your directory&quot;)` As a side note, don’t write expressions like `(clRootDirectory.isDirectory() == true) &amp;&amp; (clRootDirectory.exists() == true)` when you can simply write `clRootDirectory.isDirectory() &amp;&amp; clRootDirectory.exists()` or even simpler `clRootDirectory.isDirectory()` as being a directory implies its existence.","link":"https://stackoverflow.com/questions/77571828/how-to-check-if-a-directory-is-in-the-classpath-after-java-11#comment136754922_77571828","body":"The class path is available via <code>System.getProperty(&quot;java.class.path&quot;)</code> since day one. So to check whether it contains a particular entry, you can use, e.g. <code>Arrays.asList(System.getProperty(&quot;java.class.path&quot;).split(Fi&zwnj;&#8203;le.pathSeparator)) .contains(&quot;your directory&quot;)</code> As a side note, don’t write expressions like <code>(clRootDirectory.isDirectory() == true) &amp;&amp; (clRootDirectory.exists() == true)</code> when you can simply write <code>clRootDirectory.isDirectory() &amp;&amp; clRootDirectory.exists()</code> or even simpler <code>clRootDirectory.isDirectory()</code> as being a directory implies its existence."},{"score":0,"post_type":"question","creation_date":1701273073,"post_id":77571828,"comment_id":136755826,"body_markdown":"The code I previously posted is some 15 year old relic from a person probably dead. I will eventually adapt it, but I simply don&#39;t have the time to check the code style for all 200.000 lines of code I have to endure in this project. Anyways, your solution works. If you convert it into an answer, I can close this issue for all who might be interested in the future :)","link":"https://stackoverflow.com/questions/77571828/how-to-check-if-a-directory-is-in-the-classpath-after-java-11#comment136755826_77571828","body":"The code I previously posted is some 15 year old relic from a person probably dead. I will eventually adapt it, but I simply don&#39;t have the time to check the code style for all 200.000 lines of code I have to endure in this project. Anyways, your solution works. If you convert it into an answer, I can close this issue for all who might be interested in the future :)"}],"answers":[{"comment_count":0,"score":2,"last_activity_date":1701343485,"creation_date":1701343485,"answer_id":77578036,"question_id":77571828,"body_markdown":"The class path is available through `System.getProperty(&quot;java.class.path&quot;)`. So you can use, e.g.\r\n\r\n```java\r\nprivate static boolean isInClasspath(File file) {\r\n    List&lt;String&gt; classPath =\r\n        Arrays.asList(System.getProperty(&quot;java.class.path&quot;)\r\n              .split(File.pathSeparator));\r\n    return classPath.contains(file.toString());\r\n}\r\n```\r\n\r\nThis checks for a literal match only. If you want to check whether a path element refers to the same directory after resolving relative paths like `..`  and links and/or perform a case insensitive match when the filesystem is case insensitive, you may use\r\n\r\n```java\r\nprivate static boolean isInClasspath(File file) {\r\n    List&lt;String&gt; classPath =\r\n        Arrays.asList(System.getProperty(&quot;java.class.path&quot;)\r\n              .split(Pattern.quote(File.pathSeparator)));\r\n    if(classPath.contains(file.toString()))\r\n        return true;\r\n\r\n    Path path = check(file.toPath());\r\n    for(String s: classPath) {\r\n        if(check(Paths.get(s)).equals(path))\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nprivate static Path check(Path path) {\r\n    try {\r\n        return path.toRealPath();\r\n    } catch(IOException ex) {\r\n        return path.toAbsolutePath();\r\n    }\r\n}\r\n```","link":"https://stackoverflow.com/questions/77571828/how-to-check-if-a-directory-is-in-the-classpath-after-java-11/77578036#77578036","title":"How to check if a directory is in the classpath after java 11?","body":"<p>The class path is available through <code>System.getProperty(&quot;java.class.path&quot;)</code>. So you can use, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isInClasspath(File file) {\n    List&lt;String&gt; classPath =\n        Arrays.asList(System.getProperty(&quot;java.class.path&quot;)\n              .split(File.pathSeparator));\n    return classPath.contains(file.toString());\n}\n</code></pre>\n<p>This checks for a literal match only. If you want to check whether a path element refers to the same directory after resolving relative paths like <code>..</code>  and links and/or perform a case insensitive match when the filesystem is case insensitive, you may use</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isInClasspath(File file) {\n    List&lt;String&gt; classPath =\n        Arrays.asList(System.getProperty(&quot;java.class.path&quot;)\n              .split(Pattern.quote(File.pathSeparator)));\n    if(classPath.contains(file.toString()))\n        return true;\n\n    Path path = check(file.toPath());\n    for(String s: classPath) {\n        if(check(Paths.get(s)).equals(path))\n            return true;\n    }\n    return false;\n}\n\nprivate static Path check(Path path) {\n    try {\n        return path.toRealPath();\n    } catch(IOException ex) {\n        return path.toAbsolutePath();\n    }\n}\n</code></pre>\n"}],"comment_count":2,"is_answered":true,"view_count":59,"answer_count":1,"score":0,"last_activity_date":1701343485,"creation_date":1701266647,"question_id":77571828,"body_markdown":"tl;dr: Is there a direct way to check if a directory is in the classpath in Java 11?\r\n\r\nI have the situation that I want to migrate a project from Java 8 to Java 11. I have Code that performs a check to see if a certain directory is in the classpath, as this is required in the program at a later stage.\r\n\r\nThis is how it looks:\r\n\r\n```java\r\n // Step 002.1: Ensuring that runtime directory exists or at least can be created.\r\n\r\n    File clRootDirectory = new File(m_strRootDirectory);\r\n    clRootDirectory.mkdirs();\r\n\r\n    // Step 002.2: Checking if ROOT directory is in ClassPath\r\n\r\n    if ((clRootDirectory.isDirectory() == true) &amp;&amp; (clRootDirectory.exists() == true))\r\n    {\r\n\r\n      URL[] clClassPathURLs = ((URLClassLoader) ClassLoader.getSystemClassLoader()).getURLs();\r\n\r\n      boolean bFoundRootInClassPath = false;\r\n      for (URL clCurrentPathElement : clClassPathURLs)\r\n      {\r\n        try\r\n        {\r\n          if (java.net.URLDecoder.decode(clCurrentPathElement.getFile(), StandardCharsets.UTF_8.name()).endsWith(m_strRootDirectory) == true)     // endsWith seems a bit odd. But this way it works on Mac OS X as well.\r\n          {                                                                                                                 // URLDecode.decode is necessary if there is a space on our classpath - as URLs use stuff like &quot;%20&quot; instead of &quot; &quot;.\r\n            bFoundRootInClassPath = true;\r\n          }\r\n        }\r\n        catch (UnsupportedEncodingException e)\r\n        {\r\n          // STATUS: Doesn&#39;t matter\r\n        }\r\n\r\n      }\r\n\r\n      if (bFoundRootInClassPath == false)\r\n      {\r\n        exitByFatalError(&quot;ROOT Directory is NOT in ClassPath. ROOT Directory is &#39;&quot;+m_strRootDirectory+&quot;&#39;.&quot;,SANITY_CHECK_ERROR_SYSTEM_ROOT_NOT_IN_CLASSPATH);\r\n      }\r\n\r\n    }\r\n    else\r\n    {\r\n\r\n      exitByFatalError(&quot;RootDirectory (&quot;+m_strRootDirectory+&quot;) is not a valid Directory.&quot;, SANITY_CHECK_ERROR_SYSTEM_ROOT_NOT_A_DIRECTORY);\r\n    }\r\n```\r\n\r\nThis seems pretty straightforward to me, and it works. However, The ClassLoader no longer has URLClassLoader as a base class. This makes the code completely unusable, since it heavily relies on this function. I have tried to replace the code with this:\r\n\r\n```java\r\nprivate static boolean isInClasspath(File file) {\r\n    ClassLoader classLoader = ClassLoader.getSystemClassLoader();\r\n    String directoryPath = file.getAbsolutePath();\r\n    String normalizedPath = directoryPath.endsWith(&quot;/&quot;) ? directoryPath : directoryPath + &quot;/&quot;;\r\n\r\n    try {\r\n      Enumeration&lt;URL&gt; resources = classLoader.getResources(normalizedPath);\r\n      while (resources.hasMoreElements()) {\r\n        URL url = resources.nextElement();\r\n        System.out.println(&quot;url = &quot; + url);\r\n        String resourcePath = url.getPath();\r\n        if (resourcePath.startsWith(normalizedPath)) {\r\n          return true;\r\n        }\r\n      }\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n    return false;\r\n  }\r\n```\r\n\r\nHowever, this simply doesn&#39;t work. My resources enumeration is always empty, and I explicitly add my directory to the classpath in my run config. I haven&#39;t changed that, and with Java 8 the run config does its job. \r\n\r\nI know that there are a number of ways to check if a certain file is in the classpath, but I want to know about an entire directory.  I&#39;d rather not implement a completely custom class loader...","link":"https://stackoverflow.com/questions/77571828/how-to-check-if-a-directory-is-in-the-classpath-after-java-11","title":"How to check if a directory is in the classpath after java 11?","body":"<p>tl;dr: Is there a direct way to check if a directory is in the classpath in Java 11?</p>\n<p>I have the situation that I want to migrate a project from Java 8 to Java 11. I have Code that performs a check to see if a certain directory is in the classpath, as this is required in the program at a later stage.</p>\n<p>This is how it looks:</p>\n<pre class=\"lang-java prettyprint-override\"><code> // Step 002.1: Ensuring that runtime directory exists or at least can be created.\n\n    File clRootDirectory = new File(m_strRootDirectory);\n    clRootDirectory.mkdirs();\n\n    // Step 002.2: Checking if ROOT directory is in ClassPath\n\n    if ((clRootDirectory.isDirectory() == true) &amp;&amp; (clRootDirectory.exists() == true))\n    {\n\n      URL[] clClassPathURLs = ((URLClassLoader) ClassLoader.getSystemClassLoader()).getURLs();\n\n      boolean bFoundRootInClassPath = false;\n      for (URL clCurrentPathElement : clClassPathURLs)\n      {\n        try\n        {\n          if (java.net.URLDecoder.decode(clCurrentPathElement.getFile(), StandardCharsets.UTF_8.name()).endsWith(m_strRootDirectory) == true)     // endsWith seems a bit odd. But this way it works on Mac OS X as well.\n          {                                                                                                                 // URLDecode.decode is necessary if there is a space on our classpath - as URLs use stuff like &quot;%20&quot; instead of &quot; &quot;.\n            bFoundRootInClassPath = true;\n          }\n        }\n        catch (UnsupportedEncodingException e)\n        {\n          // STATUS: Doesn't matter\n        }\n\n      }\n\n      if (bFoundRootInClassPath == false)\n      {\n        exitByFatalError(&quot;ROOT Directory is NOT in ClassPath. ROOT Directory is '&quot;+m_strRootDirectory+&quot;'.&quot;,SANITY_CHECK_ERROR_SYSTEM_ROOT_NOT_IN_CLASSPATH);\n      }\n\n    }\n    else\n    {\n\n      exitByFatalError(&quot;RootDirectory (&quot;+m_strRootDirectory+&quot;) is not a valid Directory.&quot;, SANITY_CHECK_ERROR_SYSTEM_ROOT_NOT_A_DIRECTORY);\n    }\n</code></pre>\n<p>This seems pretty straightforward to me, and it works. However, The ClassLoader no longer has URLClassLoader as a base class. This makes the code completely unusable, since it heavily relies on this function. I have tried to replace the code with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isInClasspath(File file) {\n    ClassLoader classLoader = ClassLoader.getSystemClassLoader();\n    String directoryPath = file.getAbsolutePath();\n    String normalizedPath = directoryPath.endsWith(&quot;/&quot;) ? directoryPath : directoryPath + &quot;/&quot;;\n\n    try {\n      Enumeration&lt;URL&gt; resources = classLoader.getResources(normalizedPath);\n      while (resources.hasMoreElements()) {\n        URL url = resources.nextElement();\n        System.out.println(&quot;url = &quot; + url);\n        String resourcePath = url.getPath();\n        if (resourcePath.startsWith(normalizedPath)) {\n          return true;\n        }\n      }\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    return false;\n  }\n</code></pre>\n<p>However, this simply doesn't work. My resources enumeration is always empty, and I explicitly add my directory to the classpath in my run config. I haven't changed that, and with Java 8 the run config does its job.</p>\n<p>I know that there are a number of ways to check if a certain file is in the classpath, but I want to know about an entire directory.  I'd rather not implement a completely custom class loader...</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701415142,"post_id":77578007,"comment_id":136775123,"body_markdown":"It is the problem as native queries aren&#39;t effective against @Where in this case how to get the results?","link":"https://stackoverflow.com/questions/77577813/retrieve-data-using-a-jpa-statement-when-a-global-where-clause-is-set-for-all-fi/77578007#comment136775123_77578007","body":"It is the problem as native queries aren&#39;t effective against @Where in this case how to get the results?"},{"score":0,"post_type":"answer","creation_date":1701430859,"post_id":77578007,"comment_id":136777569,"body_markdown":"There is no solution to this problem that I know of. If you&#39;re using NativeQuery you need to add `is_pooled=false` to every query. By the way, did the solution I suggested above solve the problem?","link":"https://stackoverflow.com/questions/77577813/retrieve-data-using-a-jpa-statement-when-a-global-where-clause-is-set-for-all-fi/77578007#comment136777569_77578007","body":"There is no solution to this problem that I know of. If you&#39;re using NativeQuery you need to add <code>is_pooled=false</code> to every query. By the way, did the solution I suggested above solve the problem?"},{"score":0,"post_type":"answer","creation_date":1701458802,"post_id":77578007,"comment_id":136782531,"body_markdown":"it is not viable as there are more than 30 JPA statements","link":"https://stackoverflow.com/questions/77577813/retrieve-data-using-a-jpa-statement-when-a-global-where-clause-is-set-for-all-fi/77578007#comment136782531_77578007","body":"it is not viable as there are more than 30 JPA statements"},{"score":0,"post_type":"answer","creation_date":1701462966,"post_id":77578007,"comment_id":136783099,"body_markdown":"You asked that &quot;there is an exceptional case where I need to retrieve data with is_pooled value set as true in the database. How can I achieve this?&quot;. if you try the above query you will see it works correctly. If there is any other problem, please write in detail.","link":"https://stackoverflow.com/questions/77577813/retrieve-data-using-a-jpa-statement-when-a-global-where-clause-is-set-for-all-fi/77578007#comment136783099_77578007","body":"You asked that &quot;there is an exceptional case where I need to retrieve data with is_pooled value set as true in the database. How can I achieve this?&quot;. if you try the above query you will see it works correctly. If there is any other problem, please write in detail."}],"comment_count":4,"score":-1,"last_activity_date":1701343265,"creation_date":1701343265,"answer_id":77578007,"question_id":77577813,"body_markdown":"The example below will probably be useful. @Where annotation does not work in native queries\r\n\r\n        @Query(value = &quot;SELECT i.* FROM bbser_inventory i WHERE i.inventory_id IN (:inventoryIds) and i.is_pooled = true&quot;, nativeQuery = true)\r\n    List&lt;InventoryEntity&gt; findInventoryByIdAndIsPooled(Collection&lt;Long&gt; inventoryIds);","link":"https://stackoverflow.com/questions/77577813/retrieve-data-using-a-jpa-statement-when-a-global-where-clause-is-set-for-all-fi/77578007#77578007","title":"Retrieve data using a JPA statement when a global WHERE clause is set for all find methods in a Table Entity","body":"<p>The example below will probably be useful. @Where annotation does not work in native queries</p>\n<pre><code>    @Query(value = &quot;SELECT i.* FROM bbser_inventory i WHERE i.inventory_id IN (:inventoryIds) and i.is_pooled = true&quot;, nativeQuery = true)\nList&lt;InventoryEntity&gt; findInventoryByIdAndIsPooled(Collection&lt;Long&gt; inventoryIds);\n</code></pre>\n"}],"comment_count":0,"is_answered":false,"view_count":79,"answer_count":1,"score":0,"last_activity_date":1701343265,"creation_date":1701341443,"question_id":77577813,"body_markdown":"I am using the following code in my table entity to filter out all the records with is_pooled = true. (`@Where(clause = &quot;is_pooled = false&quot;)`)\r\n\r\n    @Entity\r\n    @Table(name = &quot;bbser_inventory&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Where(clause = &quot;is_pooled = false&quot;)\r\n    public class InventoryEntity extends BaseEntity {\r\n\r\nBut there is an exceptional case where I need to retrieve data with is_pooled value set as true in the database. How can I achieve this?\r\n\r\nI already tried writing as following solutions but do not retrieve data\r\n\r\n**Method 1**\r\n\r\n    List&lt;InventoryEntity&gt; findAllByInventoryIdInAndIsPooledTrue(List&lt;Long&gt; inventoryIdList);\r\n\r\n **Method 2**\r\n\r\n    @Query(&quot;SELECT i FROM InventoryEntity i WHERE i.inventoryId IN (?1) AND i.isPooled = true&quot;)\r\n    List&lt;InventoryEntity&gt; findInventoryByIdAndIsPooled(Collection&lt;Long&gt; inventoryIds, Boolean ispooled);\r\n\r\nFollowing is my serviceImpl method I am trying to retrieve this data\r\n\r\n    @Override\r\n        public ResponseEntity&lt;?&gt; getPooledParentInfo(Long inventoryId) {\r\n            PooledBloodInventoryEntity pooledBloodInventoryEntity = pooledInventoryRepository.findDistinctFirstByInventoryId(inventoryId);\r\n            List&lt;Long&gt; pooledInventoryIdList = pooledBloodInventoryEntity.getParentInventoryIds();\r\n            List&lt;InventoryEntity&gt; inventoryEntityList = inventoryRepository.findInventoryByIdAndIsPooled(pooledInventoryIdList, true);\r\n    \r\n            return new ResponseEntity&lt;&gt;(inventoryEntityList, new HttpHeaders(), HttpStatus.OK);\r\n        }","link":"https://stackoverflow.com/questions/77577813/retrieve-data-using-a-jpa-statement-when-a-global-where-clause-is-set-for-all-fi","title":"Retrieve data using a JPA statement when a global WHERE clause is set for all find methods in a Table Entity","body":"<p>I am using the following code in my table entity to filter out all the records with is_pooled = true. (<code>@Where(clause = &quot;is_pooled = false&quot;)</code>)</p>\n<pre><code>@Entity\n@Table(name = &quot;bbser_inventory&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@Where(clause = &quot;is_pooled = false&quot;)\npublic class InventoryEntity extends BaseEntity {\n</code></pre>\n<p>But there is an exceptional case where I need to retrieve data with is_pooled value set as true in the database. How can I achieve this?</p>\n<p>I already tried writing as following solutions but do not retrieve data</p>\n<p><strong>Method 1</strong></p>\n<pre><code>List&lt;InventoryEntity&gt; findAllByInventoryIdInAndIsPooledTrue(List&lt;Long&gt; inventoryIdList);\n</code></pre>\n<p><strong>Method 2</strong></p>\n<pre><code>@Query(&quot;SELECT i FROM InventoryEntity i WHERE i.inventoryId IN (?1) AND i.isPooled = true&quot;)\nList&lt;InventoryEntity&gt; findInventoryByIdAndIsPooled(Collection&lt;Long&gt; inventoryIds, Boolean ispooled);\n</code></pre>\n<p>Following is my serviceImpl method I am trying to retrieve this data</p>\n<pre><code>@Override\n    public ResponseEntity&lt;?&gt; getPooledParentInfo(Long inventoryId) {\n        PooledBloodInventoryEntity pooledBloodInventoryEntity = pooledInventoryRepository.findDistinctFirstByInventoryId(inventoryId);\n        List&lt;Long&gt; pooledInventoryIdList = pooledBloodInventoryEntity.getParentInventoryIds();\n        List&lt;InventoryEntity&gt; inventoryEntityList = inventoryRepository.findInventoryByIdAndIsPooled(pooledInventoryIdList, true);\n\n        return new ResponseEntity&lt;&gt;(inventoryEntityList, new HttpHeaders(), HttpStatus.OK);\n    }\n</code></pre>\n"},{"tags":["java","postgresql","jsp"],"comment_count":0,"is_answered":false,"view_count":29,"answer_count":0,"score":0,"last_activity_date":1701342638,"creation_date":1701334137,"last_edit_date":1701342578,"question_id":77577033,"body_markdown":"Which resource have for learning jsp and database.I want insert data from jsp to database(postgres) and i watched video in youtube not work.I did code how that video but not successfully.I take an error :**com.postgres.Driver**, but i have driver.","link":"https://stackoverflow.com/questions/77577033/insert-data-from-jsp-to-database","title":"Insert data from jsp to database","body":"<p>Which resource have for learning jsp and database.I want insert data from jsp to database(postgres) and i watched video in youtube not work.I did code how that video but not successfully.I take an error :<strong>com.postgres.Driver</strong>, but i have driver.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","google-cloud-platform"],"comment_count":0,"is_answered":false,"view_count":26,"answer_count":0,"score":0,"last_activity_date":1701342092,"creation_date":1701342092,"question_id":77577888,"body_markdown":"I am trying to connect to GCP Postgres DB using IAM Auth from a Springboot application.\r\n\r\nBelow is the code that I use to connect to Postgres DB\r\n\r\n```\r\n@Component\r\npublic class DbTest {\r\n\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    @Scheduled(fixedRate = 300000)\r\n    public void checkDbConnectivityEveryFiveMinutes() {\r\n        try {\r\n            System.out.println(&quot;Testing DB connectivity @ --- --- &quot; + new Date());\r\n\r\n            Query query = entityManager.createNativeQuery(&quot;SELECT 1&quot;);\r\n            query.getSingleResult();\r\n\r\n            System.out.println(&quot;DB connectivity test successful @ &quot; + new Date());\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;DB connectivity test failed @ &quot; + new Date() + &quot; - &quot; + e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe application is deployed into GCP Cloud Run, The GCP environment is inside a VPN, so I have provided Proxy configurations to the Cloud Run configurations, the application is working fine without any issues continuously for some days together. However, there is suddenly an exception happening like below,\r\n\r\n```\r\norg.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-1 - Connection is not available, request timed out after 30001ms.] [n/a]\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:51)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:91)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:177)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:76)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.lambda$list$0(JdbcSelectExecutorStandardImpl.java:102)\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:226)\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\r\n\tat org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getMetaData(AbstractResultSetAccess.java:36)\r\n\tat org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getColumnCount(AbstractResultSetAccess.java:52)\r\n\tat org.hibernate.query.results.ResultSetMappingImpl.resolve(ResultSetMappingImpl.java:193)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:477)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:267)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\r\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\r\n\tat org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.performList(NativeSelectQueryPlanImpl.java:97)\r\n\tat org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:621)\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:473)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor76.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy245.getSingleResult(Unknown Source)\r\n\tat com.test.DbTest.checkDbConnectivityEveryFiveMinutes(DbTest.java:25)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor75.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(Unknown Source)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.\r\n\tat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)\r\n\tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)\r\n\tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n\tat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)\r\n\t... 37 more\r\nCaused by: org.postgresql.util.PSQLException: Something unusual has occurred to cause the driver to fail. Please report this exception.\r\n\tat org.postgresql.Driver.connect(Driver.java:320)\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\r\n\tat com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)\r\n\tat com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)\r\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n\t... 3 more\r\nCaused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.RuntimeException: [XXXXXXXXX] Failed to create ephemeral certificate for the Cloud SQL instance.\r\n\tat com.google.cloud.sql.core.CloudSqlInstance.getInstanceData(CloudSqlInstance.java:165)\r\n\tat com.google.cloud.sql.core.CloudSqlInstance.createSslSocket(CloudSqlInstance.java:174)\r\n\tat com.google.cloud.sql.core.CoreSocketFactory.createSslSocket(CoreSocketFactory.java:329)\r\n\tat com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:199)\r\n\tat com.google.cloud.sql.postgres.SocketFactory.createSocket(SocketFactory.java:77)\r\n\tat org.postgresql.core.PGStream.createSocket(PGStream.java:231)\r\n\tat org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:443)\r\n\tat org.postgresql.Driver.connect(Driver.java:297)\r\n\t... 10 more\r\nCaused by: java.util.concurrent.ExecutionException: java.lang.RuntimeException: [XXXXXXXXX] Failed to create ephemeral certificate for the Cloud SQL instance.\r\n\tat com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:592)\r\n\tat com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:571)\r\n\tat com.google.common.util.concurrent.AbstractFuture$TrustedFuture.get(AbstractFuture.java:111)\r\n\tat com.google.cloud.sql.core.SqlAdminApiFetcher.getInstanceData(SqlAdminApiFetcher.java:158)\r\n\tat com.google.cloud.sql.core.CloudSqlInstance.performRefresh(CloudSqlInstance.java:237)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:131)\r\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:75)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:82)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\r\n\t... 3 more\r\nCaused by: java.lang.RuntimeException: [XXXXXXXXX] Failed to create ephemeral certificate for the Cloud SQL instance.\r\n\tat com.google.cloud.sql.core.SqlAdminApiFetcher.addExceptionContext(SqlAdminApiFetcher.java:426)\r\n\tat com.google.cloud.sql.core.SqlAdminApiFetcher.fetchEphemeralCertificate(SqlAdminApiFetcher.java:271)\r\n\tat com.google.cloud.sql.core.SqlAdminApiFetcher.lambda$getInstanceData$1(SqlAdminApiFetcher.java:114)\r\n\tat com.google.common.util.concurrent.CombinedFuture$CallableInterruptibleTask.runInterruptibly(CombinedFuture.java:196)\r\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:75)\r\n\t... 6 more\r\nCaused by: java.net.SocketException: Unexpected end of file from server\r\n\tat java.base/sun.net.www.http.HttpClient.parseHTTPHeader(Unknown Source)\r\n\tat java.base/sun.net.www.http.HttpClient.parseHTTP(Unknown Source)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n\tat java.base/java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\r\n\tat com.google.api.client.http.javanet.NetHttpResponse.&lt;init&gt;(NetHttpResponse.java:36)\r\n\tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:152)\r\n\tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84)\r\n\tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:552)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:493)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:603)\r\n\tat com.google.cloud.sql.core.SqlAdminApiFetcher.fetchEphemeralCertificate(SqlAdminApiFetcher.java:269)\r\n\t... 9 more\r\n```\r\n\r\nOnce the error occurs, the application fails and we have to redeploy the application to recover from this error. We are not sure what could suddenly cause this error.\r\n\r\nBelow is my Datasource configurations,\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql:///mydb?socketFactory=com.google.cloud.sql.postgres.SocketFactory&amp;cloudSqlInstance=XXXXXXXXX\r\nspring.datasource.username=&lt;&lt;my service account&gt;&gt;\r\nspring.datasource.password=Using_IAM\r\n\r\nspring.cloud.gcp.sql.enabled=true\r\nspring.cloud.gcp.sql.enable-iam-auth=true\r\nspring.cloud.gcp.sql.ip-types=PRIVATE\r\nspring.cloud.gcp.sql.database-name=mydb\r\nspring.cloud.gcp.sql.instance-connection-name=XXXXXXXXX\r\nspring.flyway.fail-on-missing-locations = false\r\nspring.jpa.properties.hibernate.default_schema=&lt;&lt;myschema&gt;&gt;\r\n\r\nspring.datasource.hikari.connection-test-query=SELECT 1\r\nspring.datasource.hikari.leak-detection-threshold=60000\r\nspring.datasource.hikari.minimum-idle=5\r\nspring.datasource.hikari.maximum-pool-size=20\r\nspring.datasource.hikari.connection-timeout=30000\r\nspring.datasource.hikari.idle-timeout=600000\r\nspring.datasource.hikari.max-lifetime=1800000\r\n```\r\n\r\nI have a similar application deployed and running in GCP Cloud Run, which is running fine without any issues, no such error there.\r\n\r\nAny thoughts on what could be the issue here with this application?","link":"https://stackoverflow.com/questions/77577888/spring-boot-with-gcp-postgres-iam-auth-connection-failures","title":"Spring Boot with GCP Postgres (IAM Auth) - Connection Failures","body":"<p>I am trying to connect to GCP Postgres DB using IAM Auth from a Springboot application.</p>\n<p>Below is the code that I use to connect to Postgres DB</p>\n<pre><code>@Component\npublic class DbTest {\n\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Scheduled(fixedRate = 300000)\n    public void checkDbConnectivityEveryFiveMinutes() {\n        try {\n            System.out.println(&quot;Testing DB connectivity @ --- --- &quot; + new Date());\n\n            Query query = entityManager.createNativeQuery(&quot;SELECT 1&quot;);\n            query.getSingleResult();\n\n            System.out.println(&quot;DB connectivity test successful @ &quot; + new Date());\n        } catch (Exception e) {\n            System.err.println(&quot;DB connectivity test failed @ &quot; + new Date() + &quot; - &quot; + e.getMessage());\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>The application is deployed into GCP Cloud Run, The GCP environment is inside a VPN, so I have provided Proxy configurations to the Cloud Run configurations, the application is working fine without any issues continuously for some days together. However, there is suddenly an exception happening like below,</p>\n<pre><code>org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-1 - Connection is not available, request timed out after 30001ms.] [n/a]\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:51)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:91)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:177)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:76)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.lambda$list$0(JdbcSelectExecutorStandardImpl.java:102)\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:226)\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n    at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getMetaData(AbstractResultSetAccess.java:36)\n    at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getColumnCount(AbstractResultSetAccess.java:52)\n    at org.hibernate.query.results.ResultSetMappingImpl.resolve(ResultSetMappingImpl.java:193)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:477)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:267)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n    at org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.performList(NativeSelectQueryPlanImpl.java:97)\n    at org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:621)\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n    at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:473)\n    at jdk.internal.reflect.GeneratedMethodAccessor76.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n    at jdk.proxy2/jdk.proxy2.$Proxy245.getSingleResult(Unknown Source)\n    at com.test.DbTest.checkDbConnectivityEveryFiveMinutes(DbTest.java:25)\n    at jdk.internal.reflect.GeneratedMethodAccessor75.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(Unknown Source)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30001ms.\n    at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n    at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)\n    ... 37 more\nCaused by: org.postgresql.util.PSQLException: Something unusual has occurred to cause the driver to fail. Please report this exception.\n    at org.postgresql.Driver.connect(Driver.java:320)\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    ... 3 more\nCaused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.RuntimeException: [XXXXXXXXX] Failed to create ephemeral certificate for the Cloud SQL instance.\n    at com.google.cloud.sql.core.CloudSqlInstance.getInstanceData(CloudSqlInstance.java:165)\n    at com.google.cloud.sql.core.CloudSqlInstance.createSslSocket(CloudSqlInstance.java:174)\n    at com.google.cloud.sql.core.CoreSocketFactory.createSslSocket(CoreSocketFactory.java:329)\n    at com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:199)\n    at com.google.cloud.sql.postgres.SocketFactory.createSocket(SocketFactory.java:77)\n    at org.postgresql.core.PGStream.createSocket(PGStream.java:231)\n    at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\n    at org.postgresql.Driver.makeConnection(Driver.java:443)\n    at org.postgresql.Driver.connect(Driver.java:297)\n    ... 10 more\nCaused by: java.util.concurrent.ExecutionException: java.lang.RuntimeException: [XXXXXXXXX] Failed to create ephemeral certificate for the Cloud SQL instance.\n    at com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:592)\n    at com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:571)\n    at com.google.common.util.concurrent.AbstractFuture$TrustedFuture.get(AbstractFuture.java:111)\n    at com.google.cloud.sql.core.SqlAdminApiFetcher.getInstanceData(SqlAdminApiFetcher.java:158)\n    at com.google.cloud.sql.core.CloudSqlInstance.performRefresh(CloudSqlInstance.java:237)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:131)\n    at com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:75)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:82)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n    ... 3 more\nCaused by: java.lang.RuntimeException: [XXXXXXXXX] Failed to create ephemeral certificate for the Cloud SQL instance.\n    at com.google.cloud.sql.core.SqlAdminApiFetcher.addExceptionContext(SqlAdminApiFetcher.java:426)\n    at com.google.cloud.sql.core.SqlAdminApiFetcher.fetchEphemeralCertificate(SqlAdminApiFetcher.java:271)\n    at com.google.cloud.sql.core.SqlAdminApiFetcher.lambda$getInstanceData$1(SqlAdminApiFetcher.java:114)\n    at com.google.common.util.concurrent.CombinedFuture$CallableInterruptibleTask.runInterruptibly(CombinedFuture.java:196)\n    at com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:75)\n    ... 6 more\nCaused by: java.net.SocketException: Unexpected end of file from server\n    at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(Unknown Source)\n    at java.base/sun.net.www.http.HttpClient.parseHTTP(Unknown Source)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n    at java.base/java.net.HttpURLConnection.getResponseCode(Unknown Source)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\n    at com.google.api.client.http.javanet.NetHttpResponse.&lt;init&gt;(NetHttpResponse.java:36)\n    at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:152)\n    at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84)\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:552)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:493)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:603)\n    at com.google.cloud.sql.core.SqlAdminApiFetcher.fetchEphemeralCertificate(SqlAdminApiFetcher.java:269)\n    ... 9 more\n</code></pre>\n<p>Once the error occurs, the application fails and we have to redeploy the application to recover from this error. We are not sure what could suddenly cause this error.</p>\n<p>Below is my Datasource configurations,</p>\n<pre><code>spring.datasource.url=jdbc:postgresql:///mydb?socketFactory=com.google.cloud.sql.postgres.SocketFactory&amp;cloudSqlInstance=XXXXXXXXX\nspring.datasource.username=&lt;&lt;my service account&gt;&gt;\nspring.datasource.password=Using_IAM\n\nspring.cloud.gcp.sql.enabled=true\nspring.cloud.gcp.sql.enable-iam-auth=true\nspring.cloud.gcp.sql.ip-types=PRIVATE\nspring.cloud.gcp.sql.database-name=mydb\nspring.cloud.gcp.sql.instance-connection-name=XXXXXXXXX\nspring.flyway.fail-on-missing-locations = false\nspring.jpa.properties.hibernate.default_schema=&lt;&lt;myschema&gt;&gt;\n\nspring.datasource.hikari.connection-test-query=SELECT 1\nspring.datasource.hikari.leak-detection-threshold=60000\nspring.datasource.hikari.minimum-idle=5\nspring.datasource.hikari.maximum-pool-size=20\nspring.datasource.hikari.connection-timeout=30000\nspring.datasource.hikari.idle-timeout=600000\nspring.datasource.hikari.max-lifetime=1800000\n</code></pre>\n<p>I have a similar application deployed and running in GCP Cloud Run, which is running fine without any issues, no such error there.</p>\n<p>Any thoughts on what could be the issue here with this application?</p>\n"},{"tags":["java","methods","object-construction"],"comments":[{"score":1,"post_type":"question","creation_date":1701336502,"post_id":77577154,"comment_id":136763829,"body_markdown":"It is noteworthy that variable naming at runtime, specifically employing the identif approach, is not supported. However, a viable alternative involves utilizing a HashMap, where the user input serves as the key for dynamic variable association.","link":"https://stackoverflow.com/questions/77577154/using-a-method-to-create-objects#comment136763829_77577154","body":"It is noteworthy that variable naming at runtime, specifically employing the identif approach, is not supported. However, a viable alternative involves utilizing a HashMap, where the user input serves as the key for dynamic variable association."},{"score":0,"post_type":"question","creation_date":1701337049,"post_id":77577154,"comment_id":136763940,"body_markdown":"@malz, thank you. Not extensively familiar with HashMaps yet but I will be sure to take a look.","link":"https://stackoverflow.com/questions/77577154/using-a-method-to-create-objects#comment136763940_77577154","body":"@malz, thank you. Not extensively familiar with HashMaps yet but I will be sure to take a look."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701339172,"creation_date":1701339172,"answer_id":77577566,"question_id":77577154,"body_markdown":"Here is a method with HashMap, where the input name serves as the designated key for the HashMap.\r\n\r\n#### Code\r\n`Student.java`\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.InputMismatchException;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\n\r\n/**\r\n * Represents a student with a name, age, and average test score.\r\n */\r\npublic class Student {\r\n\tprivate static Map&lt;String, Student&gt; students = new HashMap&lt;&gt;();\r\n\r\n\tprivate String name;\r\n\tprivate int age;\r\n\tprivate double avgTestScore;\r\n\r\n\t/**\r\n\t * Constructs a new Student object with the specified name, age, and average\r\n\t * test score.\r\n\t *\r\n\t * @param name         the name of the student\r\n\t * @param age          the age of the student\r\n\t * @param avgTestScore the average test score of the student\r\n\t */\r\n\tpublic Student(String name, int age, double avgTestScore) {\r\n\t\tthis.name = name;\r\n\t\tthis.age = age;\r\n\t\tthis.avgTestScore = avgTestScore;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Student [name=&quot; + name + &quot;, age=&quot; + age + &quot;, avgTestScore=&quot; + avgTestScore + &quot;]&quot;;\r\n\t}\r\n\r\n\t/**\r\n\t * Creates a new Student object by taking input from the user.\r\n\t *\r\n\t * @return a new Student object created based on user input\r\n\t */\r\n\tpublic static Student create() {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\r\n\t\tSystem.out.println(&quot;Please enter the student name:&quot;);\r\n\t\tString studentName = scanner.next();\r\n\r\n\t\tint studentAge = 0;\r\n\t\tboolean validAgeInput = false;\r\n\t\twhile (!validAgeInput) {\r\n\t\t\ttry {\r\n\t\t\t\tSystem.out.println(&quot;Please enter the student age:&quot;);\r\n\t\t\t\tstudentAge = scanner.nextInt();\r\n\t\t\t\tvalidAgeInput = true;\r\n\t\t\t} catch (InputMismatchException e) {\r\n\t\t\t\tSystem.out.println(&quot;Invalid input. Please enter a valid integer for age.&quot;);\r\n\t\t\t\tscanner.next();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdouble studentScore = 0.0;\r\n\t\tboolean validScoreInput = false;\r\n\t\twhile (!validScoreInput) {\r\n\t\t\ttry {\r\n\t\t\t\tSystem.out.println(&quot;Please enter the student score average (delimeter : &#39;,&#39;):&quot;);\r\n\t\t\t\tstudentScore = scanner.nextDouble();\r\n\t\t\t\tvalidScoreInput = true;\r\n\t\t\t} catch (InputMismatchException e) {\r\n\t\t\t\tSystem.out.println(&quot;Invalid input. Please enter a valid double for score.&quot;);\r\n\t\t\t\tscanner.next();\r\n\t\t\t}\r\n\t\t}\r\n\t\tscanner.close();\r\n\t\tStudent student = new Student(studentName, studentAge, studentScore);\r\n\r\n\t\treturn student;\r\n\t}\r\n\r\n\tpublic static Map&lt;String, Student&gt; getStudents() {\r\n\t\treturn students;\r\n\t}\r\n\r\n\t/**\r\n\t * Prints the details of the given student and adds it to the map of students.\r\n\t *\r\n\t * @param student the student to be added\r\n\t */\r\n\tpublic static void putStudent(Student student) {\r\n\t\tSystem.out.println(&quot;Name: &quot; + student.getName());\r\n\t\tSystem.out.println(&quot;Age: &quot; + student.getAge());\r\n\t\tSystem.out.println(&quot;Score: &quot; + student.getAvgTestScore());\r\n\r\n\t\tstudents.put(student.getName(), student);\r\n\t}\r\n\r\n\t/**\r\n\t * Retrieves a student from the map based on the given key.\r\n\t *\r\n\t * @param key the key to retrieve the student\r\n\t * @return the student associated with the given key\r\n\t */\r\n\tpublic static Student getStudent(String key) {\r\n\t\treturn students.get(key);\r\n\t}\r\n\r\n\tpublic static void setStudents(Map&lt;String, Student&gt; students) {\r\n\t\tStudent.students = students;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic int getAge() {\r\n\t\treturn age;\r\n\t}\r\n\r\n\tpublic void setAge(int age) {\r\n\t\tthis.age = age;\r\n\t}\r\n\r\n\tpublic double getAvgTestScore() {\r\n\t\treturn avgTestScore;\r\n\t}\r\n\r\n\tpublic void setAvgTestScore(double avgTestScore) {\r\n\t\tthis.avgTestScore = avgTestScore;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n`Main.java`\r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tStudent student = Student.create();\r\n\t\tStudent.putStudent(student);\r\n\t\t\r\n\t\tSystem.out.println(Student.getStudent(&quot;Max&quot;));\r\n\t}\r\n}\r\n```\r\n\r\n#### Input / Output\r\n```\r\nPlease enter the student name:\r\nMax\r\nPlease enter the student age:\r\n24\r\nPlease enter the student score average (delimeter : &#39;,&#39;):\r\n1,2\r\nName: Max\r\nAge: 24\r\nScore: 1.2\r\nStudent [name=Max, age=24, avgTestScore=1.2]\r\n```","link":"https://stackoverflow.com/questions/77577154/using-a-method-to-create-objects/77577566#77577566","title":"Using a method to create objects","body":"<p>Here is a method with HashMap, where the input name serves as the designated key for the HashMap.</p>\n<h4>Code</h4>\n<p><code>Student.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.InputMismatchException;\nimport java.util.Map;\nimport java.util.Scanner;\n\n/**\n * Represents a student with a name, age, and average test score.\n */\npublic class Student {\n    private static Map&lt;String, Student&gt; students = new HashMap&lt;&gt;();\n\n    private String name;\n    private int age;\n    private double avgTestScore;\n\n    /**\n     * Constructs a new Student object with the specified name, age, and average\n     * test score.\n     *\n     * @param name         the name of the student\n     * @param age          the age of the student\n     * @param avgTestScore the average test score of the student\n     */\n    public Student(String name, int age, double avgTestScore) {\n        this.name = name;\n        this.age = age;\n        this.avgTestScore = avgTestScore;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student [name=&quot; + name + &quot;, age=&quot; + age + &quot;, avgTestScore=&quot; + avgTestScore + &quot;]&quot;;\n    }\n\n    /**\n     * Creates a new Student object by taking input from the user.\n     *\n     * @return a new Student object created based on user input\n     */\n    public static Student create() {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.println(&quot;Please enter the student name:&quot;);\n        String studentName = scanner.next();\n\n        int studentAge = 0;\n        boolean validAgeInput = false;\n        while (!validAgeInput) {\n            try {\n                System.out.println(&quot;Please enter the student age:&quot;);\n                studentAge = scanner.nextInt();\n                validAgeInput = true;\n            } catch (InputMismatchException e) {\n                System.out.println(&quot;Invalid input. Please enter a valid integer for age.&quot;);\n                scanner.next();\n            }\n        }\n\n        double studentScore = 0.0;\n        boolean validScoreInput = false;\n        while (!validScoreInput) {\n            try {\n                System.out.println(&quot;Please enter the student score average (delimeter : ','):&quot;);\n                studentScore = scanner.nextDouble();\n                validScoreInput = true;\n            } catch (InputMismatchException e) {\n                System.out.println(&quot;Invalid input. Please enter a valid double for score.&quot;);\n                scanner.next();\n            }\n        }\n        scanner.close();\n        Student student = new Student(studentName, studentAge, studentScore);\n\n        return student;\n    }\n\n    public static Map&lt;String, Student&gt; getStudents() {\n        return students;\n    }\n\n    /**\n     * Prints the details of the given student and adds it to the map of students.\n     *\n     * @param student the student to be added\n     */\n    public static void putStudent(Student student) {\n        System.out.println(&quot;Name: &quot; + student.getName());\n        System.out.println(&quot;Age: &quot; + student.getAge());\n        System.out.println(&quot;Score: &quot; + student.getAvgTestScore());\n\n        students.put(student.getName(), student);\n    }\n\n    /**\n     * Retrieves a student from the map based on the given key.\n     *\n     * @param key the key to retrieve the student\n     * @return the student associated with the given key\n     */\n    public static Student getStudent(String key) {\n        return students.get(key);\n    }\n\n    public static void setStudents(Map&lt;String, Student&gt; students) {\n        Student.students = students;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public double getAvgTestScore() {\n        return avgTestScore;\n    }\n\n    public void setAvgTestScore(double avgTestScore) {\n        this.avgTestScore = avgTestScore;\n    }\n}\n\n</code></pre>\n<p><code>Main.java</code></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Student student = Student.create();\n        Student.putStudent(student);\n        \n        System.out.println(Student.getStudent(&quot;Max&quot;));\n    }\n}\n</code></pre>\n<h4>Input / Output</h4>\n<pre><code>Please enter the student name:\nMax\nPlease enter the student age:\n24\nPlease enter the student score average (delimeter : ','):\n1,2\nName: Max\nAge: 24\nScore: 1.2\nStudent [name=Max, age=24, avgTestScore=1.2]\n</code></pre>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1701347715,"post_id":77577598,"comment_id":136765850,"body_markdown":"Thanks for those answers @Reveson. I will start using the right tools for the job!","link":"https://stackoverflow.com/questions/77577154/using-a-method-to-create-objects/77577598#comment136765850_77577598","body":"Thanks for those answers @Reveson. I will start using the right tools for the job!"}],"comment_count":1,"score":2,"last_activity_date":1701339385,"creation_date":1701339385,"answer_id":77577598,"question_id":77577154,"body_markdown":"To clarify your query, it seems you are referring to &quot;variable name&quot; when mentioning &quot;object name&quot;.\r\nIn java you cannot create a dynamically calculated variable name. The question is why would you want to do so? If you need to store multiple objects and be able to access them by some value (let&#39;s say a string), then you may use a `Map&lt;&gt;`, like @Malz pointed out. For example:\r\n```java\r\nint identifier = 0;\r\nfinal String keyPrefix = &quot;Student&quot;;\r\n\r\nMap&lt;String, Student&gt; studentMap = new HashMap&lt;&gt;();\r\n\r\nstudentMap.put(keyPrefix + identifier++, createStudent());\r\n```\r\n\r\nThen, you can access the object by calling:\r\n```java\r\nstudentMap.get(&quot;Student0&quot;);\r\n```\r\n\r\nOf course if you don&#39;t need to use `String` as a key, then it is better to use just Integers to avoid string concatenation.\r\n\r\nNow, answering your questions directly:\r\n&gt; When a student object is created in my programme, what would the object name be?\r\n\r\nIf you don&#39;t override the `toString()` method, the object name would be `className@randomHash` if the Student is an outer class. So, for example, this is a sample string that would be printed if you used the `toString()` method on Student, or if you pass a student object to `System.out.println()` method (the `toString()` method is then called implicitely): `Student@378fd1ac`.\r\n\r\n&gt; If I create consecutive students using the method, does each previous student object get overwritten?\r\n\r\nYes, if you create a single variable, let&#39;s say `Student student`, and then assign different objects to it, then the previous object gets overwritten. If you don&#39;t have any pointer to that object (i.e., you cannot access it from any other variable), then the object will get automatically garbage collected after some time.\r\n```java\r\nStudent student = createStudent();\r\nstudent = createStudent(); //the first student object is not accessible anymore, so it is going to be garbage collected.\r\n```\r\n\r\n&gt; How do I allow the user to choose the name of the object.\r\n\r\nLet&#39;s clarify the terminology:\r\n```\r\nStudent student = new Student()\r\n/\\                    /\\\r\n||                    ||\r\nvariable              object\r\n```\r\n\r\nYou may have a single variable pointing to different objects over time. The variable has its name and it cannot be changed. The object, on the other hand, may have a name, as you call it. It is just a String that is returned by the `toString()` method. The method is called implicitly when you try to print the object to the console, concatenate a string to it etc. For example having such class:\r\n```java\r\nclass Student {\r\n    private final String name;\r\n\r\n    Student(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Student &quot; + name;\r\n    }\r\n}\r\n```\r\n\r\nThe `System.out.println(new Student(&quot;Mark&quot;))` would yield `Student mark`\r\n","link":"https://stackoverflow.com/questions/77577154/using-a-method-to-create-objects/77577598#77577598","title":"Using a method to create objects","body":"<p>To clarify your query, it seems you are referring to &quot;variable name&quot; when mentioning &quot;object name&quot;.\nIn java you cannot create a dynamically calculated variable name. The question is why would you want to do so? If you need to store multiple objects and be able to access them by some value (let's say a string), then you may use a <code>Map&lt;&gt;</code>, like @Malz pointed out. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int identifier = 0;\nfinal String keyPrefix = &quot;Student&quot;;\n\nMap&lt;String, Student&gt; studentMap = new HashMap&lt;&gt;();\n\nstudentMap.put(keyPrefix + identifier++, createStudent());\n</code></pre>\n<p>Then, you can access the object by calling:</p>\n<pre class=\"lang-java prettyprint-override\"><code>studentMap.get(&quot;Student0&quot;);\n</code></pre>\n<p>Of course if you don't need to use <code>String</code> as a key, then it is better to use just Integers to avoid string concatenation.</p>\n<p>Now, answering your questions directly:</p>\n<blockquote>\n<p>When a student object is created in my programme, what would the object name be?</p>\n</blockquote>\n<p>If you don't override the <code>toString()</code> method, the object name would be <code>className@randomHash</code> if the Student is an outer class. So, for example, this is a sample string that would be printed if you used the <code>toString()</code> method on Student, or if you pass a student object to <code>System.out.println()</code> method (the <code>toString()</code> method is then called implicitely): <code>Student@378fd1ac</code>.</p>\n<blockquote>\n<p>If I create consecutive students using the method, does each previous student object get overwritten?</p>\n</blockquote>\n<p>Yes, if you create a single variable, let's say <code>Student student</code>, and then assign different objects to it, then the previous object gets overwritten. If you don't have any pointer to that object (i.e., you cannot access it from any other variable), then the object will get automatically garbage collected after some time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Student student = createStudent();\nstudent = createStudent(); //the first student object is not accessible anymore, so it is going to be garbage collected.\n</code></pre>\n<blockquote>\n<p>How do I allow the user to choose the name of the object.</p>\n</blockquote>\n<p>Let's clarify the terminology:</p>\n<pre><code>Student student = new Student()\n/\\                    /\\\n||                    ||\nvariable              object\n</code></pre>\n<p>You may have a single variable pointing to different objects over time. The variable has its name and it cannot be changed. The object, on the other hand, may have a name, as you call it. It is just a String that is returned by the <code>toString()</code> method. The method is called implicitly when you try to print the object to the console, concatenate a string to it etc. For example having such class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Student {\n    private final String name;\n\n    Student(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student &quot; + name;\n    }\n}\n</code></pre>\n<p>The <code>System.out.println(new Student(&quot;Mark&quot;))</code> would yield <code>Student mark</code></p>\n"}],"comment_count":2,"is_answered":true,"view_count":47,"answer_count":2,"score":1,"last_activity_date":1701341996,"creation_date":1701335357,"last_edit_date":1701341996,"question_id":77577154,"body_markdown":"I have a question regarding creating object using a method, please see my code below:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Student {\r\n    private String name;\r\n    private int age;\r\n    private double avgTestScore;\r\n\r\n    // Getters\r\n    public String getName(){ return this.name; }\r\n    public int getAge(){ return this.age; }\r\n    public double getAvgTestScore(){ return this.avgTestScore; }\r\n\r\n    // Setters\r\n    public void setName(){ this.name = &quot; &quot;; }\r\n    public void setAge(){ this.age = 0; }\r\n    public void setAvgTestScore(){ this.avgTestScore = 0.0; }\r\n\r\n    //Constructor\r\n    public Student(String name, int age, double score){\r\n        this.name = name;\r\n        this.age = age;\r\n        this.avgTestScore = score;\r\n    }\r\n\r\n    public static Student createStudent(){\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Please enter the student name&quot;);\r\n        String studentName = scanner.next();\r\n\r\n        System.out.println(&quot;Please enter the student age&quot;);\r\n        int studentAge = scanner.nextInt();\r\n\r\n        System.out.println(&quot;Please enter the student score average&quot;);\r\n        double studentScore = scanner.nextDouble();\r\n        \r\n        Student student = new Student(studentName, studentAge, studentScore);\r\n        return student;\r\n    }\r\n\r\n    public static void addStudent(ArrayList&lt;Student&gt; list, Student student){\r\n        list.add(student);\r\n        for (Student i : list){\r\n            System.out.println(i.name);\r\n            System.out.println(i.age);\r\n            System.out.println(i.avgTestScore);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        ArrayList&lt;Student&gt; studentArrayList = new ArrayList&lt;&gt;();\r\n        Student.addStudent(studentArrayList, createStudent());\r\n        Student.addStudent(studentArrayList, createStudent());\r\n\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nI tried to create an int variable that would increase everytime the method is called and use that as part of the object name, for example: \r\n\r\n```java\r\npublic static Student createStudent(){\r\n        **int identif = 0;**\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Please enter the student name&quot;);\r\n        String studentName = scanner.next();\r\n\r\n        System.out.println(&quot;Please enter the student age&quot;);\r\n        int studentAge = scanner.nextInt();\r\n\r\n        System.out.println(&quot;Please enter the student score average&quot;);\r\n        double studentScore = scanner.nextDouble();\r\n        \r\n        Student student+**identif** = new Student(studentName, studentAge, studentScore);\r\n        identif++;\r\n        return student;\r\n    }\r\n```\r\n\r\nAfter I tried this I realised how stupid I was being. After, I tried to allow the user input a String using the scanner and use that as object name, also didn&#39;t work.\r\n\r\nMy questions: \r\n- When a student object is created in my programme, what would the object name be?\r\n- If I create consecutive students using the method, does each previous student object get overwritten?\r\n- How do I allow the user to choose the name of the object.\r\n\r\n\r\nTIA &#128522;","link":"https://stackoverflow.com/questions/77577154/using-a-method-to-create-objects","title":"Using a method to create objects","body":"<p>I have a question regarding creating object using a method, please see my code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Student {\n    private String name;\n    private int age;\n    private double avgTestScore;\n\n    // Getters\n    public String getName(){ return this.name; }\n    public int getAge(){ return this.age; }\n    public double getAvgTestScore(){ return this.avgTestScore; }\n\n    // Setters\n    public void setName(){ this.name = &quot; &quot;; }\n    public void setAge(){ this.age = 0; }\n    public void setAvgTestScore(){ this.avgTestScore = 0.0; }\n\n    //Constructor\n    public Student(String name, int age, double score){\n        this.name = name;\n        this.age = age;\n        this.avgTestScore = score;\n    }\n\n    public static Student createStudent(){\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.println(&quot;Please enter the student name&quot;);\n        String studentName = scanner.next();\n\n        System.out.println(&quot;Please enter the student age&quot;);\n        int studentAge = scanner.nextInt();\n\n        System.out.println(&quot;Please enter the student score average&quot;);\n        double studentScore = scanner.nextDouble();\n        \n        Student student = new Student(studentName, studentAge, studentScore);\n        return student;\n    }\n\n    public static void addStudent(ArrayList&lt;Student&gt; list, Student student){\n        list.add(student);\n        for (Student i : list){\n            System.out.println(i.name);\n            System.out.println(i.age);\n            System.out.println(i.avgTestScore);\n        }\n    }\n\n    public static void main(String[] args){\n        ArrayList&lt;Student&gt; studentArrayList = new ArrayList&lt;&gt;();\n        Student.addStudent(studentArrayList, createStudent());\n        Student.addStudent(studentArrayList, createStudent());\n\n\n\n    }\n}\n</code></pre>\n<p>I tried to create an int variable that would increase everytime the method is called and use that as part of the object name, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Student createStudent(){\n        **int identif = 0;**\n\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.println(&quot;Please enter the student name&quot;);\n        String studentName = scanner.next();\n\n        System.out.println(&quot;Please enter the student age&quot;);\n        int studentAge = scanner.nextInt();\n\n        System.out.println(&quot;Please enter the student score average&quot;);\n        double studentScore = scanner.nextDouble();\n        \n        Student student+**identif** = new Student(studentName, studentAge, studentScore);\n        identif++;\n        return student;\n    }\n</code></pre>\n<p>After I tried this I realised how stupid I was being. After, I tried to allow the user input a String using the scanner and use that as object name, also didn't work.</p>\n<p>My questions:</p>\n<ul>\n<li>When a student object is created in my programme, what would the object name be?</li>\n<li>If I create consecutive students using the method, does each previous student object get overwritten?</li>\n<li>How do I allow the user to choose the name of the object.</li>\n</ul>\n<p>TIA 😊</p>\n"},{"tags":["java","angular","spring","spring-boot","cors"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701341574,"last_edit_date":1701341574,"creation_date":1701339771,"answer_id":77577633,"question_id":77574822,"body_markdown":"There is a problem in the code.\r\n\r\nconfiguration.setAllowedOriginPatterns(List.of(&quot;*&quot;));\r\n\r\nHere, you need to specify the url to give instruction to CORS.\r\n\r\nconfiguration.setAllowedOriginPatterns(List.of(&quot;http://localhost:4200*&quot;));\r\n\r\nI hope this resolves your problem.","link":"https://stackoverflow.com/questions/77574822/cant-resolve-cors-error-in-spring-boot-angular-app/77577633#77577633","title":"Can&#39;t resolve CORS Error in Spring Boot/Angular app","body":"<p>There is a problem in the code.</p>\n<p>configuration.setAllowedOriginPatterns(List.of(&quot;*&quot;));</p>\n<p>Here, you need to specify the url to give instruction to CORS.</p>\n<p>configuration.setAllowedOriginPatterns(List.of(&quot;http://localhost:4200*&quot;));</p>\n<p>I hope this resolves your problem.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":47,"answer_count":1,"score":0,"last_activity_date":1701341574,"creation_date":1701296970,"last_edit_date":1701298212,"question_id":77574822,"body_markdown":"Error message:\r\n\r\n[![error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/50emd.png\r\n\r\n\r\nSecurity Config has @CrossOrigin \r\n\r\n`http.cors(cors-&gt;cors.configurationSource(apiConfigurationSource()))`\r\n\r\n```\r\n    @Bean\r\n    CorsConfigurationSource apiConfigurationSource() {\r\n        CorsConfiguration configuration=new CorsConfiguration();\r\n          configuration.setAllowedOriginPatterns(List.of(&quot;*&quot;));\r\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;,&quot;POST&quot;,&quot;PUT&quot;,&quot;DELETE&quot;,&quot;HEADER&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n```","link":"https://stackoverflow.com/questions/77574822/cant-resolve-cors-error-in-spring-boot-angular-app","title":"Can&#39;t resolve CORS Error in Spring Boot/Angular app","body":"<p>Error message:</p>\n<p><a href=\"https://i.stack.imgur.com/50emd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/50emd.png\" alt=\"error\" /></a></p>\n<p>Security Config has @CrossOrigin</p>\n<p><code>http.cors(cors-&gt;cors.configurationSource(apiConfigurationSource()))</code></p>\n<pre><code>    @Bean\n    CorsConfigurationSource apiConfigurationSource() {\n        CorsConfiguration configuration=new CorsConfiguration();\n          configuration.setAllowedOriginPatterns(List.of(&quot;*&quot;));\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;,&quot;POST&quot;,&quot;PUT&quot;,&quot;DELETE&quot;,&quot;HEADER&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n</code></pre>\n"},{"tags":["java","java-time","datetimeformatter"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701341701,"post_id":77577830,"comment_id":136764752,"body_markdown":"As you said I have already made a formatter and also as you I am using it. What&#39;s your solution for my problem I don&#39;t get it?","link":"https://stackoverflow.com/questions/77577779/string-to-localdatetime-doesnt-retunr-seconds-00/77577830#comment136764752_77577830","body":"As you said I have already made a formatter and also as you I am using it. What&#39;s your solution for my problem I don&#39;t get it?"},{"score":0,"post_type":"answer","creation_date":1701341957,"post_id":77577830,"comment_id":136764807,"body_markdown":"ldt.format(formatter) return String, my ArrayList&lt;LocalDateTime&gt; values.","link":"https://stackoverflow.com/questions/77577779/string-to-localdatetime-doesnt-retunr-seconds-00/77577830#comment136764807_77577830","body":"ldt.format(formatter) return String, my ArrayList&lt;LocalDateTime&gt; values."},{"score":1,"post_type":"answer","creation_date":1701342568,"post_id":77577830,"comment_id":136764901,"body_markdown":"@ChrisDamianidis: A `LocalDateTime` value doesn&#39;t have any notion of a formatter as part of its state, any more than an `int` knows whether it was parsed from hex or decimal for example. The value is just the value. You appear to be looking at a string representation of that value and expecting it to be in a particular format - if you want a particular format, you need to call `format` on the `LocalDateTime` and pass in that formatter. To put it another way: the values in your `ArrayList` are fine. You&#39;re just misinterpreting whatever is displaying them to you.","link":"https://stackoverflow.com/questions/77577779/string-to-localdatetime-doesnt-retunr-seconds-00/77577830#comment136764901_77577830","body":"@ChrisDamianidis: A <code>LocalDateTime</code> value doesn&#39;t have any notion of a formatter as part of its state, any more than an <code>int</code> knows whether it was parsed from hex or decimal for example. The value is just the value. You appear to be looking at a string representation of that value and expecting it to be in a particular format - if you want a particular format, you need to call <code>format</code> on the <code>LocalDateTime</code> and pass in that formatter. To put it another way: the values in your <code>ArrayList</code> are fine. You&#39;re just misinterpreting whatever is displaying them to you."},{"score":0,"post_type":"answer","creation_date":1701342669,"post_id":77577830,"comment_id":136764919,"body_markdown":"@ChrisDamianidis: If you wrote `ArrayList&lt;Integer&gt; integers = new ArrayList&lt;&gt;(); integers.add(0x10);` and then displayed the `ArrayList` and saw the value 16, would you be confused? Because that&#39;s *exactly* equivalent to what&#39;s happening here.","link":"https://stackoverflow.com/questions/77577779/string-to-localdatetime-doesnt-retunr-seconds-00/77577830#comment136764919_77577830","body":"@ChrisDamianidis: If you wrote <code>ArrayList&lt;Integer&gt; integers = new ArrayList&lt;&gt;(); integers.add(0x10);</code> and then displayed the <code>ArrayList</code> and saw the value 16, would you be confused? Because that&#39;s <i>exactly</i> equivalent to what&#39;s happening here."},{"score":2,"post_type":"answer","creation_date":1701342956,"post_id":77577830,"comment_id":136764962,"body_markdown":"@ChrisDamianidis: No, I&#39;ve read your question carefully. I think you need to read my *answer and comments* more carefully. Nothing is going wrong in your parsing code. The seconds *aren&#39;t* being &quot;lost&quot; - you&#39;re just misinterpreting however you&#39;re displaying the results in the list. What you&#39;re seeing (and you haven&#39;t told us how you&#39;re displaying the list at all - in the debugger? in an app?) is the result of converting those LocalDateTime values *back* into strings, and I suspect that&#39;s using the default format, which *won&#39;t format a seconds value of 0*.","link":"https://stackoverflow.com/questions/77577779/string-to-localdatetime-doesnt-retunr-seconds-00/77577830#comment136764962_77577830","body":"@ChrisDamianidis: No, I&#39;ve read your question carefully. I think you need to read my <i>answer and comments</i> more carefully. Nothing is going wrong in your parsing code. The seconds <i>aren&#39;t</i> being &quot;lost&quot; - you&#39;re just misinterpreting however you&#39;re displaying the results in the list. What you&#39;re seeing (and you haven&#39;t told us how you&#39;re displaying the list at all - in the debugger? in an app?) is the result of converting those LocalDateTime values <i>back</i> into strings, and I suspect that&#39;s using the default format, which <i>won&#39;t format a seconds value of 0</i>."},{"score":0,"post_type":"answer","creation_date":1701343089,"post_id":77577830,"comment_id":136764988,"body_markdown":"@ChrisDamianidis: If you think the problem is in the parsing, then look at the sample code I&#39;ve written, or even change your own code to hard-code the LocalDateTime creation, so that there&#39;s no parsing involved at all. You&#39;ll still get the same result, because *the problem isn&#39;t in the parsing*. The problem is in your expectations of however you&#39;re displaying the values in the list.","link":"https://stackoverflow.com/questions/77577779/string-to-localdatetime-doesnt-retunr-seconds-00/77577830#comment136764988_77577830","body":"@ChrisDamianidis: If you think the problem is in the parsing, then look at the sample code I&#39;ve written, or even change your own code to hard-code the LocalDateTime creation, so that there&#39;s no parsing involved at all. You&#39;ll still get the same result, because <i>the problem isn&#39;t in the parsing</i>. The problem is in your expectations of however you&#39;re displaying the values in the list."},{"score":0,"post_type":"answer","creation_date":1701344338,"post_id":77577830,"comment_id":136765212,"body_markdown":"@ChrisDamianidis: I&#39;m afraid I have no idea what you mean by &quot;I use the ArrayList later to setTime of an object so I have then to parse the given value by String with the correct formatter&quot; - but it sounds like you missed a lot of context from your question. Please read https://jonskeet.uk/links/stack-hints for next time. (I&#39;m not sure whether you meant that *my* answer here could be simpler, or whether some change you needed to make in your code could be simpler...)","link":"https://stackoverflow.com/questions/77577779/string-to-localdatetime-doesnt-retunr-seconds-00/77577830#comment136765212_77577830","body":"@ChrisDamianidis: I&#39;m afraid I have no idea what you mean by &quot;I use the ArrayList later to setTime of an object so I have then to parse the given value by String with the correct formatter&quot; - but it sounds like you missed a lot of context from your question. Please read <a href=\"https://jonskeet.uk/links/stack-hints\" rel=\"nofollow noreferrer\">jonskeet.uk/links/stack-hints</a> for next time. (I&#39;m not sure whether you meant that <i>my</i> answer here could be simpler, or whether some change you needed to make in your code could be simpler...)"}],"comment_count":7,"score":3,"last_activity_date":1701341544,"creation_date":1701341544,"answer_id":77577830,"question_id":77577779,"body_markdown":"&gt; The problem is that when the values are converted from String to LocalDateTime the seconds doesnt appear in the format like this : 2023-09-14T13:00 .&quot;\r\n\r\nThat&#39;s talking about a conversion back to string, which would use `LocalDateTime.toString()` by default - and that omits the seconds when the value is 0, [as documented](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html#toString()). In other words, you can see the same behavior with\r\n\r\n```java\r\nLocalDateTime ldt = LocalDateTime.of(2023, 9, 14, 13, 0, 0);\r\nSystem.out.println(ldt); // Prints 2023-09-14T13:00\r\n```\r\n\r\nIn other words, nothing is going wrong - you&#39;re just misinterpreting however you&#39;re looking at the values in the list. If you need the values to be formatted in a specific way, you&#39;ll need to specify a `DateTimeFormatter` (such as the one you&#39;ve already created) and call `ldt.format(formatter)`.","link":"https://stackoverflow.com/questions/77577779/string-to-localdatetime-doesnt-retunr-seconds-00/77577830#77577830","title":"String to localdatetime doesnt retunr seconds &quot;00&quot;","body":"<blockquote>\n<p>The problem is that when the values are converted from String to LocalDateTime the seconds doesnt appear in the format like this : 2023-09-14T13:00 .&quot;</p>\n</blockquote>\n<p>That's talking about a conversion back to string, which would use <code>LocalDateTime.toString()</code> by default - and that omits the seconds when the value is 0, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html#toString()\" rel=\"nofollow noreferrer\">as documented</a>. In other words, you can see the same behavior with</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime ldt = LocalDateTime.of(2023, 9, 14, 13, 0, 0);\nSystem.out.println(ldt); // Prints 2023-09-14T13:00\n</code></pre>\n<p>In other words, nothing is going wrong - you're just misinterpreting however you're looking at the values in the list. If you need the values to be formatted in a specific way, you'll need to specify a <code>DateTimeFormatter</code> (such as the one you've already created) and call <code>ldt.format(formatter)</code>.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":96,"answer_count":1,"score":0,"last_activity_date":1701341544,"creation_date":1701341132,"question_id":77577779,"body_markdown":"I have a method that I take a startTime String and a endTime String convert to LocalDateTime and compare the hours difference between and generate the values in a ArrayList&lt;LocalDateTime&gt;. For example if I have startTime: &quot;2023-09-14T12:00:00&quot;,\r\n\t\t\tendTime: &quot;2023-09-14T14:00:00&quot;, the method will find the value 2023-09-14T13:00:00 and it will add it in the ArrayList. The problem is that when the values are converted from String to LocalDateTime the seconds doesnt appear in the format like this : 2023-09-14T13:00 .\r\n\r\n   \r\n\r\n     public static ArrayList&lt;LocalDateTime&gt; calculateHours(String startTime, tring endTime) {\r\n            \r\n    \r\n            // Parse the combined strings to LocalDateTime\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n            LocalDateTime startDateTime = LocalDateTime.parse(startTime,formatter);\r\n            LocalDateTime endDateTime = LocalDateTime.parse(endTime,formatter);\r\n    \r\n            // Calculate the difference in hours\r\n            long hoursDifference = java.time.Duration.between(startDateTime, endDateTime).toHours();\r\n    \r\n            // Create an ArrayList to store LocalDateTime objects\r\n            ArrayList&lt;LocalDateTime&gt; hoursList = new ArrayList&lt;&gt;();\r\n    \r\n            // Add each hour to the ArrayList with seconds included\r\n            for (long i = 0; i &lt; hoursDifference; i++) {\r\n                LocalDateTime currentHour = startDateTime.plusHours(i);\r\n                hoursList.add(currentHour);\r\n            }\r\n            return hoursList;\r\n        }","link":"https://stackoverflow.com/questions/77577779/string-to-localdatetime-doesnt-retunr-seconds-00","title":"String to localdatetime doesnt retunr seconds &quot;00&quot;","body":"<p>I have a method that I take a startTime String and a endTime String convert to LocalDateTime and compare the hours difference between and generate the values in a ArrayList. For example if I have startTime: &quot;2023-09-14T12:00:00&quot;,\nendTime: &quot;2023-09-14T14:00:00&quot;, the method will find the value 2023-09-14T13:00:00 and it will add it in the ArrayList. The problem is that when the values are converted from String to LocalDateTime the seconds doesnt appear in the format like this : 2023-09-14T13:00 .</p>\n<pre><code> public static ArrayList&lt;LocalDateTime&gt; calculateHours(String startTime, tring endTime) {\n        \n\n        // Parse the combined strings to LocalDateTime\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n        LocalDateTime startDateTime = LocalDateTime.parse(startTime,formatter);\n        LocalDateTime endDateTime = LocalDateTime.parse(endTime,formatter);\n\n        // Calculate the difference in hours\n        long hoursDifference = java.time.Duration.between(startDateTime, endDateTime).toHours();\n\n        // Create an ArrayList to store LocalDateTime objects\n        ArrayList&lt;LocalDateTime&gt; hoursList = new ArrayList&lt;&gt;();\n\n        // Add each hour to the ArrayList with seconds included\n        for (long i = 0; i &lt; hoursDifference; i++) {\n            LocalDateTime currentHour = startDateTime.plusHours(i);\n            hoursList.add(currentHour);\n        }\n        return hoursList;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","asynchronous","file-upload"],"comment_count":0,"is_answered":false,"view_count":44,"answer_count":0,"score":0,"last_activity_date":1701341464,"creation_date":1701272044,"last_edit_date":1701341464,"question_id":77572541,"body_markdown":"this is my first ever post on StackOverflow, so I hope I&#39;m doing it correctly. Thanks in advance!\r\n\r\nI&#39;m refactoring a file uploading function to an Async file uploading function. \r\nI am able to create a traileroffer,then with another POST request I can upload images to it. If I restart the application everything is uploading successfully 100% of the time. After any type of request, the image uploading fails, sometimes a couple will go through successfully. \r\n\r\nThe main issue is, it seems that the files which are uploaded are empty / the file size is &lt;= 0. I&#39;m not sure what&#39;s going wrong but before I refactor my entire (working) function I&#39;d like to check if this may be a project based thing or if it&#39;s more complicated than that.\r\n\r\nThe reason I think my post differentiates others is that my function/code is probably fine, but it may be something in my project setup instead. I hope someone experienced something similar like me and knows what may be the cause. Though, it may be my code/function because before I refactored to Asynchronous, it did work fine.\r\n```\r\n @PostMapping(path = &quot;/{trailerId}/images&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public ResponseEntity&lt;Void&gt; addTrailerImages(@PathVariable UUID trailerId, @Valid @ModelAttribute SaveImagesDTO saveImagesDTO) {\r\n        TrailerOffer trailer = trailerOfferService.getTrailerOffer(trailerId);\r\n MultipartFile[] coverImages = saveImagesDTO.getCoverImage();\r\n        MultipartFile[] images = saveImagesDTO.getImages();\r\n\r\n        MultipartFile[] combinedImagesArray = new MultipartFile[coverImages.length + images.length];\r\n\r\n        System.arraycopy(coverImages, 0, combinedImagesArray, 0, coverImages.length);\r\n        System.arraycopy(images, 0, combinedImagesArray, coverImages.length, images.length);\r\n\r\n        CompletableFuture&lt;ImageUploadResult&gt; imagesFuture = imageService.uploadImagesAsync(combinedImagesArray,&quot;trailer&quot;, trailer);\r\n\r\n        imagesFuture.handle((result, ex) -&gt; {\r\n            if (ex != null) {\r\n                System.out.println(&quot;Exception in CompletableFuture: &quot; +ex);\r\n            } else {\r\n                Image coverImage = result.getCoverImage();\r\n                List&lt;Image&gt; addedImages = result.getAddedImages();\r\n\r\n                trailer.setCoverImage(coverImage);\r\n                trailerOfferService.saveTrailerOffer(trailer);\r\n            }\r\n\r\n            return result;\r\n        });\r\n\r\n        return ResponseEntity.accepted().build();\r\n    }\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class SaveImagesDTO {\r\n    private MultipartFile[] coverImage;\r\n    private MultipartFile[] images;\r\n}\r\n\r\n```\r\n```\r\n @Async\r\n    public CompletableFuture&lt;ImageUploadResult&gt; uploadImagesAsync(MultipartFile[] files, String directory, TrailerOffer trailer) {\r\n        try {\r\n            if (files == null || files.length == 0) {\r\n                System.out.println(&quot;No files received for trailer ID: &quot; + trailer.getId());\r\n                return CompletableFuture.failedFuture(new IllegalArgumentException(&quot;No files received&quot;));\r\n            }\r\n\r\n            for(MultipartFile file : files){\r\n                if(file.isEmpty() || file.getSize() &lt;= 0){\r\n                    System.out.println(&quot;IMAGESERVICE - FAILED files are empty.&quot;);\r\n                }\r\n            }\r\n\r\n            System.out.println(&quot;Received: &quot; + files.length + &quot; images &quot; + &quot; for trailer id: &quot; + trailer.getId());\r\n\r\n            List&lt;Image&gt; images = uploadImages(files, directory, trailer);\r\n            log.debug(&quot;Successfully processed {} images for trailer ID: {}&quot;, images.size(), trailer.getId());\r\n\r\n            ImageUploadResult result = new ImageUploadResult();\r\n            result.setCoverImage(images.get(0));\r\n            result.setAddedImages(images.subList(1, images.size()));\r\n            return CompletableFuture.completedFuture(result);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error processing images for trailer ID: {}&quot;, trailer.getId(), e);\r\n            return CompletableFuture.failedFuture(e);\r\n        }\r\n    }\r\n```\r\n```\r\n public List&lt;Image&gt; uploadImages(MultipartFile[] files, String directory, TrailerOffer trailer) throws NotAnImageException, GCPFileUploadException, BadRequestException, FileWriteException {\r\n        List&lt;Image&gt; images = new ArrayList&lt;&gt;();\r\n\r\n        Arrays.asList(files).forEach(file -&gt; {\r\n            String originalFileName = file.getOriginalFilename();\r\n\r\n            if (originalFileName == null) {\r\n                throw new BadOriginalFileNameException();\r\n            }\r\n\r\n            System.out.println(&quot;Adding new image to trailer: &quot; + originalFileName);\r\n            images.add(new Image(originalFileName, trailer));\r\n        });\r\n\r\n        imageRepository.saveAll(images);\r\n\r\n        for (int i = 0; i &lt; images.size(); i++) {\r\n            MultipartFile file = Arrays.asList(files).get(i);\r\n            System.out.println(&quot;NU TEST: &quot; + file.getSize());\r\n            Image image = images.get(i);\r\n            System.out.println(&quot;Uploading image(&quot; + i + &quot;): &quot; + images.get(i).getOriginalFileName());\r\n            dataBucketUtil.uploadFile(file, image.getId(), directory);\r\n        }\r\n\r\n        for (Image image : images) {\r\n            image.setPublicUrl(getPublicUrl(image, directory));\r\n            imageRepository.save(image);\r\n        }\r\n\r\n        return images;\r\n    }\r\n```\r\n```\r\n    @Async\r\n    public void uploadFile(MultipartFile multipartFile, UUID id, String directory) throws GCPFileUploadException, NotAnImageException, BadRequestException, FileWriteException {\r\n        String fileName = multipartFile.getOriginalFilename();\r\n        System.out.println(&quot;Start file uploading process on GCS for fileName: &quot; + multipartFile.getOriginalFilename() + &quot; id: &quot; + id);\r\n\r\n        try {\r\n            String fileExtension = checkFileExtension(fileName);\r\n            String contentType = getContentType(fileName);\r\n            System.out.println(fileName + &quot;: File extension: &quot; + fileExtension);\r\n            System.out.println(fileName + &quot;: Content type: &quot; + contentType);\r\n\r\n            if (multipartFile.isEmpty() || multipartFile.getSize() == 0) {\r\n              //  throw new GCPFileUploadException(&quot;[FAILED] Uploaded file is empty or size is 0&quot;);\r\n                System.out.println(&quot;[FAILED] Uploaded file is empty or size is 0&quot;);\r\n            }\r\n\r\n            System.out.println(fileName+&quot;: Size: &quot; + multipartFile.getSize());\r\n\r\n            if (!multipartFile.isEmpty() &amp;&amp; multipartFile.getSize() &gt; 0) {\r\n                byte[] fileData = multipartFile.getBytes();\r\n                Bucket bucket = getBucket();\r\n                bucket.create(DIR_NAME + &quot;/&quot; + directory + &quot;/&quot; + id + fileExtension, fileData, contentType);\r\n                System.out.println(fileName+&quot;: SUCCESS uploaded successfully&quot;);\r\n            } else {\r\n                System.out.println(fileName+&quot;: [FAILED] File size is 0 or file is empty.&quot;);\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            log.error(&quot;An error occurred while uploading data. Exception: &quot;, e);\r\n            throw new GCPFileUploadException(&quot;An error occurred while storing data to GCS: &quot; + e);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nSuccessfull logs:\r\n```\r\nReceived: 4 images  for trailer id: 752c5347-8f69-4d63-a119-a4d370e0c5cb\r\nAdding new image to trailer: Achterkant.jpg\r\nAdding new image to trailer: Klein.png\r\nAdding new image to trailer: Zijkant.jpg\r\nAdding new image to trailer: Hoofdfoto.jpg\r\nNU TEST: 9456\r\nUploading image(0): Achterkant.jpg\r\nNU TEST: 125435\r\nUploading image(1): Klein.png\r\nNU TEST: 10599\r\nUploading image(2): Zijkant.jpg\r\nNU TEST: 46161\r\nUploading image(3): Hoofdfoto.jpg\r\nStart file uploading process on GCS for fileName: Achterkant.jpg id: 18ef6ca2-297b-449e-b61b-6e04447a9f54\r\nStart file uploading process on GCS for fileName: Klein.png id: 13673f73-0d6c-463e-a1b6-d7ac593a4749\r\nStart file uploading process on GCS for fileName: Hoofdfoto.jpg id: c0bba919-5838-46e8-8a18-d3ceb0e813e1\r\nStart file uploading process on GCS for fileName: Zijkant.jpg id: ff14cbdf-a844-4f94-91aa-b6225506724e\r\nAchterkant.jpg: File extension: .jpg\r\nKlein.png: File extension: .png\r\nHoofdfoto.jpg: File extension: .jpg\r\nZijkant.jpg: File extension: .jpg\r\nAchterkant.jpg: Content type: image/jpeg\r\nZijkant.jpg: Content type: image/jpeg\r\nHoofdfoto.jpg: Content type: image/jpeg\r\nKlein.png: Content type: image/png\r\nZijkant.jpg: Size: 10599\r\nKlein.png: Size: 125435\r\nHoofdfoto.jpg: Size: 46161\r\nAchterkant.jpg: Size: 9456\r\nAchterkant.jpg: SUCCESS uploaded successfully\r\nZijkant.jpg: SUCCESS uploaded successfully\r\nHoofdfoto.jpg: SUCCESS uploaded successfully\r\nKlein.png: SUCCESS uploaded successfullyReceived: 4 images  for trailer id: 752c5347-8f69-4d63-a119-a4d370e0c5cb\r\nAdding new image to trailer: Achterkant.jpg\r\nAdding new image to trailer: Klein.png\r\nAdding new image to trailer: Zijkant.jpg\r\nAdding new image to trailer: Hoofdfoto.jpg\r\nNU TEST: 9456\r\nUploading image(0): Achterkant.jpg\r\nNU TEST: 125435\r\nUploading image(1): Klein.png\r\nNU TEST: 10599\r\nUploading image(2): Zijkant.jpg\r\nNU TEST: 46161\r\nUploading image(3): Hoofdfoto.jpg\r\nStart file uploading process on GCS for fileName: Achterkant.jpg id: 18ef6ca2-297b-449e-b61b-6e04447a9f54\r\nStart file uploading process on GCS for fileName: Klein.png id: 13673f73-0d6c-463e-a1b6-d7ac593a4749\r\nStart file uploading process on GCS for fileName: Hoofdfoto.jpg id: c0bba919-5838-46e8-8a18-d3ceb0e813e1\r\nStart file uploading process on GCS for fileName: Zijkant.jpg id: ff14cbdf-a844-4f94-91aa-b6225506724e\r\nAchterkant.jpg: File extension: .jpg\r\nKlein.png: File extension: .png\r\nHoofdfoto.jpg: File extension: .jpg\r\nZijkant.jpg: File extension: .jpg\r\nAchterkant.jpg: Content type: image/jpeg\r\nZijkant.jpg: Content type: image/jpeg\r\nHoofdfoto.jpg: Content type: image/jpeg\r\nKlein.png: Content type: image/png\r\nZijkant.jpg: Size: 10599\r\nKlein.png: Size: 125435\r\nHoofdfoto.jpg: Size: 46161\r\nAchterkant.jpg: Size: 9456\r\nAchterkant.jpg: SUCCESS uploaded successfully\r\nZijkant.jpg: SUCCESS uploaded successfully\r\nHoofdfoto.jpg: SUCCESS uploaded successfully\r\nKlein.png: SUCCESS uploaded successfully\r\n```\r\n\r\nError logs:\r\n```\r\nIMAGESERVICE - FAILED files are empty.\r\nReceived: 4 images  for trailer id: 752c5347-8f69-4d63-a119-a4d370e0c5cb\r\nAdding new image to trailer: Achterkant.jpg\r\nAdding new image to trailer: Klein.png\r\nAdding new image to trailer: Zijkant.jpg\r\nAdding new image to trailer: Hoofdfoto.jpg\r\nNU TEST: 0\r\nUploading image(0): Achterkant.jpg\r\nNU TEST: 0\r\nUploading image(1): Klein.png\r\nStart file uploading process on GCS for fileName: Achterkant.jpg id: ead6e44a-57d5-467f-b191-7ce590f94d7b\r\nNU TEST: 0\r\nUploading image(2): Zijkant.jpg\r\nStart file uploading process on GCS for fileName: Klein.png id: 3113e5dd-eff7-4620-9f61-65792bd556ed\r\nAchterkant.jpg: File extension: .jpg\r\nAchterkant.jpg: Content type: image/jpeg\r\nNU TEST: 0\r\nUploading image(3): Hoofdfoto.jpg\r\n[FAILED] Uploaded file is empty or size is 0\r\nKlein.png: File extension: .png\r\nKlein.png: Content type: image/png\r\nAchterkant.jpg: Size: 0\r\nStart file uploading process on GCS for fileName: Zijkant.jpg id: 32df15b2-3ebe-4f3c-a040-11d8c1afe50f\r\n[FAILED] Uploaded file is empty or size is 0\r\nKlein.png: Size: 0\r\nZijkant.jpg: File extension: .jpg\r\nZijkant.jpg: Content type: image/jpeg\r\nStart file uploading process on GCS for fileName: Hoofdfoto.jpg id: fb6b6992-7750-4ac2-af84-271885dc5f88\r\n[FAILED] Uploaded file is empty or size is 0\r\nZijkant.jpg: Size: 0\r\nHoofdfoto.jpg: File extension: .jpg\r\nHoofdfoto.jpg: Content type: image/jpeg\r\n[FAILED] Uploaded file is empty or size is 0\r\nHoofdfoto.jpg: Size: 0\r\n2023-11-29 16:24:08.834 ERROR 5752 --- [ileUploader - 7] c.b.api.images.util.DataBucketUtil       : An error occurred while uploading data. Exception: \r\napi.images.exception.GCPFileUploadException: An error occurred while storing data to GCS: java.io.FileNotFoundException: C:\\Users\\NAME\\AppData\\Local\\Temp\\tomcat.8000.8273688474402663459\\work\\Tomcat\\localhost\\api#v1\\upload_65639dd4_178c_4f5f_8ffe_bc24d1b8cb4c_00000006.tmp (The system cannot find the file specified)\r\n\tat com.projectname.api.images.util.DataBucketUtil.uploadFile(DataBucketUtil.java:72) ~[classes/:na]\r\n\tat com.projectname.api.images.util.DataBucketUtil$$FastClassBySpringCGLIB$$905c2d1f.invoke(&lt;generated&gt;) ~[classes/:na]\r\n```\r\n\r\nTo summarize. We&#39;re uploading the images to google cloud services, then saving that into our database. Not everything&#39;s perfect but it&#39;s doing the job for now and if I do a successfull upload it also shows in our front end as it should.\r\n\r\nI hope you can give me some possible solutions!\r\n\r\nI tried to find out where the multipart file went empty/size 0. Which is the moment we enter the uploadImagesAsync function. I don&#39;t know how, or why. But I expected it to go wrong at the postman request part.\r\n\r\nWhat weirded me out is that the when I tried several times, sometimes 1 out of 4 images would successfully upload but the others would not. And that, if I restart the project it actually works quite well.\r\n\r\nMy postman setup is quite simple. It&#39;s a form-data with &quot;coverImage&quot; with 1 picture and &quot;images&quot; with 3 pictures.","link":"https://stackoverflow.com/questions/77572541/async-file-image-uploading-failure-after-first-requests-in-java-sprint-boot","title":"Async file/image uploading failure after first requests in Java Sprint Boot","body":"<p>this is my first ever post on StackOverflow, so I hope I'm doing it correctly. Thanks in advance!</p>\n<p>I'm refactoring a file uploading function to an Async file uploading function.\nI am able to create a traileroffer,then with another POST request I can upload images to it. If I restart the application everything is uploading successfully 100% of the time. After any type of request, the image uploading fails, sometimes a couple will go through successfully.</p>\n<p>The main issue is, it seems that the files which are uploaded are empty / the file size is &lt;= 0. I'm not sure what's going wrong but before I refactor my entire (working) function I'd like to check if this may be a project based thing or if it's more complicated than that.</p>\n<p>The reason I think my post differentiates others is that my function/code is probably fine, but it may be something in my project setup instead. I hope someone experienced something similar like me and knows what may be the cause. Though, it may be my code/function because before I refactored to Asynchronous, it did work fine.</p>\n<pre><code> @PostMapping(path = &quot;/{trailerId}/images&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    public ResponseEntity&lt;Void&gt; addTrailerImages(@PathVariable UUID trailerId, @Valid @ModelAttribute SaveImagesDTO saveImagesDTO) {\n        TrailerOffer trailer = trailerOfferService.getTrailerOffer(trailerId);\n MultipartFile[] coverImages = saveImagesDTO.getCoverImage();\n        MultipartFile[] images = saveImagesDTO.getImages();\n\n        MultipartFile[] combinedImagesArray = new MultipartFile[coverImages.length + images.length];\n\n        System.arraycopy(coverImages, 0, combinedImagesArray, 0, coverImages.length);\n        System.arraycopy(images, 0, combinedImagesArray, coverImages.length, images.length);\n\n        CompletableFuture&lt;ImageUploadResult&gt; imagesFuture = imageService.uploadImagesAsync(combinedImagesArray,&quot;trailer&quot;, trailer);\n\n        imagesFuture.handle((result, ex) -&gt; {\n            if (ex != null) {\n                System.out.println(&quot;Exception in CompletableFuture: &quot; +ex);\n            } else {\n                Image coverImage = result.getCoverImage();\n                List&lt;Image&gt; addedImages = result.getAddedImages();\n\n                trailer.setCoverImage(coverImage);\n                trailerOfferService.saveTrailerOffer(trailer);\n            }\n\n            return result;\n        });\n\n        return ResponseEntity.accepted().build();\n    }\n</code></pre>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SaveImagesDTO {\n    private MultipartFile[] coverImage;\n    private MultipartFile[] images;\n}\n\n</code></pre>\n<pre><code> @Async\n    public CompletableFuture&lt;ImageUploadResult&gt; uploadImagesAsync(MultipartFile[] files, String directory, TrailerOffer trailer) {\n        try {\n            if (files == null || files.length == 0) {\n                System.out.println(&quot;No files received for trailer ID: &quot; + trailer.getId());\n                return CompletableFuture.failedFuture(new IllegalArgumentException(&quot;No files received&quot;));\n            }\n\n            for(MultipartFile file : files){\n                if(file.isEmpty() || file.getSize() &lt;= 0){\n                    System.out.println(&quot;IMAGESERVICE - FAILED files are empty.&quot;);\n                }\n            }\n\n            System.out.println(&quot;Received: &quot; + files.length + &quot; images &quot; + &quot; for trailer id: &quot; + trailer.getId());\n\n            List&lt;Image&gt; images = uploadImages(files, directory, trailer);\n            log.debug(&quot;Successfully processed {} images for trailer ID: {}&quot;, images.size(), trailer.getId());\n\n            ImageUploadResult result = new ImageUploadResult();\n            result.setCoverImage(images.get(0));\n            result.setAddedImages(images.subList(1, images.size()));\n            return CompletableFuture.completedFuture(result);\n        } catch (Exception e) {\n            log.error(&quot;Error processing images for trailer ID: {}&quot;, trailer.getId(), e);\n            return CompletableFuture.failedFuture(e);\n        }\n    }\n</code></pre>\n<pre><code> public List&lt;Image&gt; uploadImages(MultipartFile[] files, String directory, TrailerOffer trailer) throws NotAnImageException, GCPFileUploadException, BadRequestException, FileWriteException {\n        List&lt;Image&gt; images = new ArrayList&lt;&gt;();\n\n        Arrays.asList(files).forEach(file -&gt; {\n            String originalFileName = file.getOriginalFilename();\n\n            if (originalFileName == null) {\n                throw new BadOriginalFileNameException();\n            }\n\n            System.out.println(&quot;Adding new image to trailer: &quot; + originalFileName);\n            images.add(new Image(originalFileName, trailer));\n        });\n\n        imageRepository.saveAll(images);\n\n        for (int i = 0; i &lt; images.size(); i++) {\n            MultipartFile file = Arrays.asList(files).get(i);\n            System.out.println(&quot;NU TEST: &quot; + file.getSize());\n            Image image = images.get(i);\n            System.out.println(&quot;Uploading image(&quot; + i + &quot;): &quot; + images.get(i).getOriginalFileName());\n            dataBucketUtil.uploadFile(file, image.getId(), directory);\n        }\n\n        for (Image image : images) {\n            image.setPublicUrl(getPublicUrl(image, directory));\n            imageRepository.save(image);\n        }\n\n        return images;\n    }\n</code></pre>\n<pre><code>    @Async\n    public void uploadFile(MultipartFile multipartFile, UUID id, String directory) throws GCPFileUploadException, NotAnImageException, BadRequestException, FileWriteException {\n        String fileName = multipartFile.getOriginalFilename();\n        System.out.println(&quot;Start file uploading process on GCS for fileName: &quot; + multipartFile.getOriginalFilename() + &quot; id: &quot; + id);\n\n        try {\n            String fileExtension = checkFileExtension(fileName);\n            String contentType = getContentType(fileName);\n            System.out.println(fileName + &quot;: File extension: &quot; + fileExtension);\n            System.out.println(fileName + &quot;: Content type: &quot; + contentType);\n\n            if (multipartFile.isEmpty() || multipartFile.getSize() == 0) {\n              //  throw new GCPFileUploadException(&quot;[FAILED] Uploaded file is empty or size is 0&quot;);\n                System.out.println(&quot;[FAILED] Uploaded file is empty or size is 0&quot;);\n            }\n\n            System.out.println(fileName+&quot;: Size: &quot; + multipartFile.getSize());\n\n            if (!multipartFile.isEmpty() &amp;&amp; multipartFile.getSize() &gt; 0) {\n                byte[] fileData = multipartFile.getBytes();\n                Bucket bucket = getBucket();\n                bucket.create(DIR_NAME + &quot;/&quot; + directory + &quot;/&quot; + id + fileExtension, fileData, contentType);\n                System.out.println(fileName+&quot;: SUCCESS uploaded successfully&quot;);\n            } else {\n                System.out.println(fileName+&quot;: [FAILED] File size is 0 or file is empty.&quot;);\n            }\n\n        } catch (IOException e) {\n            log.error(&quot;An error occurred while uploading data. Exception: &quot;, e);\n            throw new GCPFileUploadException(&quot;An error occurred while storing data to GCS: &quot; + e);\n        }\n    }\n</code></pre>\n<p>Successfull logs:</p>\n<pre><code>Received: 4 images  for trailer id: 752c5347-8f69-4d63-a119-a4d370e0c5cb\nAdding new image to trailer: Achterkant.jpg\nAdding new image to trailer: Klein.png\nAdding new image to trailer: Zijkant.jpg\nAdding new image to trailer: Hoofdfoto.jpg\nNU TEST: 9456\nUploading image(0): Achterkant.jpg\nNU TEST: 125435\nUploading image(1): Klein.png\nNU TEST: 10599\nUploading image(2): Zijkant.jpg\nNU TEST: 46161\nUploading image(3): Hoofdfoto.jpg\nStart file uploading process on GCS for fileName: Achterkant.jpg id: 18ef6ca2-297b-449e-b61b-6e04447a9f54\nStart file uploading process on GCS for fileName: Klein.png id: 13673f73-0d6c-463e-a1b6-d7ac593a4749\nStart file uploading process on GCS for fileName: Hoofdfoto.jpg id: c0bba919-5838-46e8-8a18-d3ceb0e813e1\nStart file uploading process on GCS for fileName: Zijkant.jpg id: ff14cbdf-a844-4f94-91aa-b6225506724e\nAchterkant.jpg: File extension: .jpg\nKlein.png: File extension: .png\nHoofdfoto.jpg: File extension: .jpg\nZijkant.jpg: File extension: .jpg\nAchterkant.jpg: Content type: image/jpeg\nZijkant.jpg: Content type: image/jpeg\nHoofdfoto.jpg: Content type: image/jpeg\nKlein.png: Content type: image/png\nZijkant.jpg: Size: 10599\nKlein.png: Size: 125435\nHoofdfoto.jpg: Size: 46161\nAchterkant.jpg: Size: 9456\nAchterkant.jpg: SUCCESS uploaded successfully\nZijkant.jpg: SUCCESS uploaded successfully\nHoofdfoto.jpg: SUCCESS uploaded successfully\nKlein.png: SUCCESS uploaded successfullyReceived: 4 images  for trailer id: 752c5347-8f69-4d63-a119-a4d370e0c5cb\nAdding new image to trailer: Achterkant.jpg\nAdding new image to trailer: Klein.png\nAdding new image to trailer: Zijkant.jpg\nAdding new image to trailer: Hoofdfoto.jpg\nNU TEST: 9456\nUploading image(0): Achterkant.jpg\nNU TEST: 125435\nUploading image(1): Klein.png\nNU TEST: 10599\nUploading image(2): Zijkant.jpg\nNU TEST: 46161\nUploading image(3): Hoofdfoto.jpg\nStart file uploading process on GCS for fileName: Achterkant.jpg id: 18ef6ca2-297b-449e-b61b-6e04447a9f54\nStart file uploading process on GCS for fileName: Klein.png id: 13673f73-0d6c-463e-a1b6-d7ac593a4749\nStart file uploading process on GCS for fileName: Hoofdfoto.jpg id: c0bba919-5838-46e8-8a18-d3ceb0e813e1\nStart file uploading process on GCS for fileName: Zijkant.jpg id: ff14cbdf-a844-4f94-91aa-b6225506724e\nAchterkant.jpg: File extension: .jpg\nKlein.png: File extension: .png\nHoofdfoto.jpg: File extension: .jpg\nZijkant.jpg: File extension: .jpg\nAchterkant.jpg: Content type: image/jpeg\nZijkant.jpg: Content type: image/jpeg\nHoofdfoto.jpg: Content type: image/jpeg\nKlein.png: Content type: image/png\nZijkant.jpg: Size: 10599\nKlein.png: Size: 125435\nHoofdfoto.jpg: Size: 46161\nAchterkant.jpg: Size: 9456\nAchterkant.jpg: SUCCESS uploaded successfully\nZijkant.jpg: SUCCESS uploaded successfully\nHoofdfoto.jpg: SUCCESS uploaded successfully\nKlein.png: SUCCESS uploaded successfully\n</code></pre>\n<p>Error logs:</p>\n<pre><code>IMAGESERVICE - FAILED files are empty.\nReceived: 4 images  for trailer id: 752c5347-8f69-4d63-a119-a4d370e0c5cb\nAdding new image to trailer: Achterkant.jpg\nAdding new image to trailer: Klein.png\nAdding new image to trailer: Zijkant.jpg\nAdding new image to trailer: Hoofdfoto.jpg\nNU TEST: 0\nUploading image(0): Achterkant.jpg\nNU TEST: 0\nUploading image(1): Klein.png\nStart file uploading process on GCS for fileName: Achterkant.jpg id: ead6e44a-57d5-467f-b191-7ce590f94d7b\nNU TEST: 0\nUploading image(2): Zijkant.jpg\nStart file uploading process on GCS for fileName: Klein.png id: 3113e5dd-eff7-4620-9f61-65792bd556ed\nAchterkant.jpg: File extension: .jpg\nAchterkant.jpg: Content type: image/jpeg\nNU TEST: 0\nUploading image(3): Hoofdfoto.jpg\n[FAILED] Uploaded file is empty or size is 0\nKlein.png: File extension: .png\nKlein.png: Content type: image/png\nAchterkant.jpg: Size: 0\nStart file uploading process on GCS for fileName: Zijkant.jpg id: 32df15b2-3ebe-4f3c-a040-11d8c1afe50f\n[FAILED] Uploaded file is empty or size is 0\nKlein.png: Size: 0\nZijkant.jpg: File extension: .jpg\nZijkant.jpg: Content type: image/jpeg\nStart file uploading process on GCS for fileName: Hoofdfoto.jpg id: fb6b6992-7750-4ac2-af84-271885dc5f88\n[FAILED] Uploaded file is empty or size is 0\nZijkant.jpg: Size: 0\nHoofdfoto.jpg: File extension: .jpg\nHoofdfoto.jpg: Content type: image/jpeg\n[FAILED] Uploaded file is empty or size is 0\nHoofdfoto.jpg: Size: 0\n2023-11-29 16:24:08.834 ERROR 5752 --- [ileUploader - 7] c.b.api.images.util.DataBucketUtil       : An error occurred while uploading data. Exception: \napi.images.exception.GCPFileUploadException: An error occurred while storing data to GCS: java.io.FileNotFoundException: C:\\Users\\NAME\\AppData\\Local\\Temp\\tomcat.8000.8273688474402663459\\work\\Tomcat\\localhost\\api#v1\\upload_65639dd4_178c_4f5f_8ffe_bc24d1b8cb4c_00000006.tmp (The system cannot find the file specified)\n    at com.projectname.api.images.util.DataBucketUtil.uploadFile(DataBucketUtil.java:72) ~[classes/:na]\n    at com.projectname.api.images.util.DataBucketUtil$$FastClassBySpringCGLIB$$905c2d1f.invoke(&lt;generated&gt;) ~[classes/:na]\n</code></pre>\n<p>To summarize. We're uploading the images to google cloud services, then saving that into our database. Not everything's perfect but it's doing the job for now and if I do a successfull upload it also shows in our front end as it should.</p>\n<p>I hope you can give me some possible solutions!</p>\n<p>I tried to find out where the multipart file went empty/size 0. Which is the moment we enter the uploadImagesAsync function. I don't know how, or why. But I expected it to go wrong at the postman request part.</p>\n<p>What weirded me out is that the when I tried several times, sometimes 1 out of 4 images would successfully upload but the others would not. And that, if I restart the project it actually works quite well.</p>\n<p>My postman setup is quite simple. It's a form-data with &quot;coverImage&quot; with 1 picture and &quot;images&quot; with 3 pictures.</p>\n"},{"tags":["java","data-structures","interface","stack"],"comments":[{"score":0,"post_type":"question","creation_date":1701276937,"post_id":77572832,"comment_id":136756674,"body_markdown":"Here is the _JavaDoc_ entry, for _[The Collections Framework (Java SE 21 &amp; JDK 21)](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/doc-files/coll-index.html#the-collections-framework-heading)_.  And, here is the _Java_ tutorial, regarding,   _[Trail: Collections (The Java™ Tutorials)](https://docs.oracle.com/javase/tutorial/collections/index.html)_.","link":"https://stackoverflow.com/questions/77572832/java-interface-for-stack-operations#comment136756674_77572832","body":"Here is the <i>JavaDoc</i> entry, for <i><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/doc-files/coll-index.html#the-collections-framework-heading\" rel=\"nofollow noreferrer\">The Collections Framework (Java SE 21 &amp; JDK 21)</a></i>.  And, here is the <i>Java</i> tutorial, regarding,   <i><a href=\"https://docs.oracle.com/javase/tutorial/collections/index.html\" rel=\"nofollow noreferrer\">Trail: Collections (The Java™ Tutorials)</a></i>."},{"score":2,"post_type":"question","creation_date":1701296368,"post_id":77572832,"comment_id":136759718,"body_markdown":"Tip: [*Eclipse Collections*](https://eclipse.dev/collections/) offers interfaces and implementations for stacks, including methods for `push`, `pop`, and `peek`. See [`MutableStack`](https://eclipse.dev/collections/javadoc/11.1.0/org/eclipse/collections/api/stack/MutableStack.html). Perhaps *Google Guava* has something similar.","link":"https://stackoverflow.com/questions/77572832/java-interface-for-stack-operations#comment136759718_77572832","body":"Tip: <a href=\"https://eclipse.dev/collections/\" rel=\"nofollow noreferrer\"><i>Eclipse Collections</i></a> offers interfaces and implementations for stacks, including methods for <code>push</code>, <code>pop</code>, and <code>peek</code>. See <a href=\"https://eclipse.dev/collections/javadoc/11.1.0/org/eclipse/collections/api/stack/MutableStack.html\" rel=\"nofollow noreferrer\"><code>MutableStack</code></a>. Perhaps <i>Google Guava</i> has something similar."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701274754,"post_id":77572857,"comment_id":136756190,"body_markdown":"Thanks, but that would prevent me from using an `ArrayList` for a concrete type, which is a pity as `ArrayList` already supports efficient operations to add to the end and remove from the end (the stack operations).","link":"https://stackoverflow.com/questions/77572832/java-interface-for-stack-operations/77572857#comment136756190_77572857","body":"Thanks, but that would prevent me from using an <code>ArrayList</code> for a concrete type, which is a pity as <code>ArrayList</code> already supports efficient operations to add to the end and remove from the end (the stack operations)."},{"score":1,"post_type":"answer","creation_date":1701276767,"post_id":77572857,"comment_id":136756642,"body_markdown":"&quot;without imposing unwanted demands on the concrete type&quot; That statement is wrong. Deque has way more methods than needed for a stack.","link":"https://stackoverflow.com/questions/77572832/java-interface-for-stack-operations/77572857#comment136756642_77572857","body":"&quot;without imposing unwanted demands on the concrete type&quot; That statement is wrong. Deque has way more methods than needed for a stack."},{"score":0,"post_type":"answer","creation_date":1701277364,"post_id":77572857,"comment_id":136756749,"body_markdown":"np bro \ni think rzwitserloot posted the correct thing","link":"https://stackoverflow.com/questions/77572832/java-interface-for-stack-operations/77572857#comment136756749_77572857","body":"np bro  i think rzwitserloot posted the correct thing"}],"comment_count":3,"score":0,"last_activity_date":1701274626,"creation_date":1701274626,"answer_id":77572857,"question_id":77572832,"body_markdown":"    public void foo(Deque&lt;String&gt; stack) {\r\n        stack.push(bar());\r\n        // ...;\r\n        String xyz = stack.pop();\r\n    }\r\n\r\n\r\nusing Deque, you have the necessary stack operations without imposing unwanted demands on the concrete type. This interface is part of the Java Collections Framework and doesn&#39;t require synchronization overhead as with the legacy Stack class.","link":"https://stackoverflow.com/questions/77572832/java-interface-for-stack-operations/77572857#77572857","title":"Java interface for stack operations","body":"<pre><code>public void foo(Deque&lt;String&gt; stack) {\n    stack.push(bar());\n    // ...;\n    String xyz = stack.pop();\n}\n</code></pre>\n<p>using Deque, you have the necessary stack operations without imposing unwanted demands on the concrete type. This interface is part of the Java Collections Framework and doesn't require synchronization overhead as with the legacy Stack class.</p>\n"},{"comment_count":0,"score":3,"last_activity_date":1701302111,"last_edit_date":1701302111,"creation_date":1701275162,"answer_id":77572929,"question_id":77572832,"body_markdown":"[`SequencedCollection`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html) probably steers closest to what you&#39;re looking for; it has the obvious downside of not existing prior to JDK21, at which point `Deque` is probably the closest you want, but, as you found, it adds a little too much.\r\n\r\nCrucially for you, `ArrayList` __does__ implement `SequencedCollection`.\r\n\r\nFailing all these things, there really is no option. You&#39;re presumably looking for some type that both `ArrayDeque` as well as `ArrayList` implement, as 2 somewhat arbitrarily chosen types that can trivially support fast &#39;add at end&#39; and &#39;remove last&#39; operations which is all you really need. The only one that is halfway relevant is `Collection`, but it does not offer &#39;remove from end&#39;, thus, cannot be used here.\r\n\r\nHence, if requiring JDK21 isn&#39;t an option, then you&#39;re either stuck making multiple methods (one that takes any `Deque`, one that takes an `ArrayList` for example), making wrappers (make your own interface, then write methods that wrap types well known to support it into an object that implements this interface):\r\n\r\n```\r\npublic interface Stackish&lt;E&gt; {\r\n  void push(E elem);\r\n  E pop() throws NoSuchElementException;\r\n\r\n  public static &lt;E&gt; Stackish&lt;E&gt; of(ArrayList&lt;E&gt; list) {\r\n    return new Stackish&lt;E&gt;() {\r\n      @Override public void push(E elem) {\r\n        list.add(elem);\r\n      }\r\n\r\n      @Override public E pop() throws NoSuchElementException {\r\n        try {\r\n          return list.remove(list.size() - 1);\r\n        } catch (IndexOutOfBoundsException e) {\r\n          throw new NoSuchElementException();\r\n        }\r\n    };\r\n  }\r\n}\r\n```\r\n\r\nThis would have the rather obvious annoying factor that users of your library need to wrap their collections.","link":"https://stackoverflow.com/questions/77572832/java-interface-for-stack-operations/77572929#77572929","title":"Java interface for stack operations","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a> probably steers closest to what you're looking for; it has the obvious downside of not existing prior to JDK21, at which point <code>Deque</code> is probably the closest you want, but, as you found, it adds a little too much.</p>\n<p>Crucially for you, <code>ArrayList</code> <strong>does</strong> implement <code>SequencedCollection</code>.</p>\n<p>Failing all these things, there really is no option. You're presumably looking for some type that both <code>ArrayDeque</code> as well as <code>ArrayList</code> implement, as 2 somewhat arbitrarily chosen types that can trivially support fast 'add at end' and 'remove last' operations which is all you really need. The only one that is halfway relevant is <code>Collection</code>, but it does not offer 'remove from end', thus, cannot be used here.</p>\n<p>Hence, if requiring JDK21 isn't an option, then you're either stuck making multiple methods (one that takes any <code>Deque</code>, one that takes an <code>ArrayList</code> for example), making wrappers (make your own interface, then write methods that wrap types well known to support it into an object that implements this interface):</p>\n<pre><code>public interface Stackish&lt;E&gt; {\n  void push(E elem);\n  E pop() throws NoSuchElementException;\n\n  public static &lt;E&gt; Stackish&lt;E&gt; of(ArrayList&lt;E&gt; list) {\n    return new Stackish&lt;E&gt;() {\n      @Override public void push(E elem) {\n        list.add(elem);\n      }\n\n      @Override public E pop() throws NoSuchElementException {\n        try {\n          return list.remove(list.size() - 1);\n        } catch (IndexOutOfBoundsException e) {\n          throw new NoSuchElementException();\n        }\n    };\n  }\n}\n</code></pre>\n<p>This would have the rather obvious annoying factor that users of your library need to wrap their collections.</p>\n"},{"comment_count":0,"score":1,"last_activity_date":1701340172,"last_edit_date":1701340172,"creation_date":1701303567,"answer_id":77575205,"question_id":77572832,"body_markdown":"As explained in [Answer by rzwitserloot][1], the [`SequencedCollection`][2] interface implemented by `List` and [`ArrayList`][3] in Java 21+ makes creating your own `Stack` class a bit easier. \r\n\r\nHere is some rough initial code as a proof-of-concept. Caveat: I am not an expert on [Java Generics][4]. \r\n\r\nFirst the interface.\r\n\r\n```java\r\npublic interface Stack &lt; T &gt;\r\n{\r\n    public void push ( T element );\r\n\r\n    public T pop ( );\r\n\r\n    public T peek ( );\r\n}\r\n```\r\n\r\nAnd an implementation. Not thread-safe. Not thoroughly tested.\r\n\r\n```java\r\nimport java.util.ArrayList;\r\n\r\n// Initial implementation of a stack.\r\n// Not thread-safe.\r\n// Uses `SequencedCollection` methods in Java 21+.\r\npublic class StackArray &lt; T &gt; implements Stack &lt; T &gt;\r\n{\r\n    private final ArrayList &lt; T &gt; list = new ArrayList &lt;&gt; ( );\r\n\r\n    @Override\r\n    public void push ( final T element )\r\n    {\r\n        this.list.add ( element );\r\n    }\r\n\r\n    public T peek ( )\r\n    {\r\n        if ( this.list.isEmpty ( ) ) return null;\r\n        return this.list.getLast ( );\r\n    }\r\n\r\n    @Override\r\n    public T pop ( )\r\n    {\r\n        if ( this.list.isEmpty ( ) ) return null;\r\n        return this.list.removeLast ( );\r\n    }\r\n\r\n    // `Object` overrides.\r\n\r\n    @Override\r\n    public String toString ( )\r\n    {\r\n        return &quot;StackArray{&quot; + list + &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n        Stack &lt; String &gt; stack = new StackArray &lt;&gt; ( );\r\n        String nothing = stack.peek ( );\r\n        System.out.println ( &quot;nothing = &quot; + nothing );\r\n\r\n        stack.push ( &quot;Alice&quot; );\r\n        stack.push ( &quot;Bob&quot; );\r\n        String bob = stack.peek ( );\r\n        System.out.println ( &quot;bob = &quot; + bob );\r\n\r\n        stack.push ( &quot;Carol&quot; );\r\n        System.out.println ( &quot;stack = &quot; + stack );\r\n\r\n        String carol = stack.pop ( );\r\n        System.out.println ( &quot;carol = &quot; + carol );\r\n        System.out.println ( &quot;stack = &quot; + stack );\r\n\r\n        String bob2 = stack.pop ( );\r\n        System.out.println ( &quot;bob2 = &quot; + bob2 );\r\n\r\n        System.out.println ( &quot;stack = &quot; + stack );\r\n\r\nWhen run:\r\n\r\n```none\r\nnothing = null\r\nbob = Bob\r\nstack = StackArray{[Alice, Bob, Carol]}\r\ncarol = Carol\r\nstack = StackArray{[Alice, Bob]}\r\nbob2 = Bob\r\nstack = StackArray{[Alice]}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77572929/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html\r\n  [4]: https://en.wikipedia.org/wiki/Generics_in_Java","link":"https://stackoverflow.com/questions/77572832/java-interface-for-stack-operations/77575205#77575205","title":"Java interface for stack operations","body":"<p>As explained in <a href=\"https://stackoverflow.com/a/77572929/642706\">Answer by rzwitserloot</a>, the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a> interface implemented by <code>List</code> and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a> in Java 21+ makes creating your own <code>Stack</code> class a bit easier.</p>\n<p>Here is some rough initial code as a proof-of-concept. Caveat: I am not an expert on <a href=\"https://en.wikipedia.org/wiki/Generics_in_Java\" rel=\"nofollow noreferrer\">Java Generics</a>.</p>\n<p>First the interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Stack &lt; T &gt;\n{\n    public void push ( T element );\n\n    public T pop ( );\n\n    public T peek ( );\n}\n</code></pre>\n<p>And an implementation. Not thread-safe. Not thoroughly tested.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\n\n// Initial implementation of a stack.\n// Not thread-safe.\n// Uses `SequencedCollection` methods in Java 21+.\npublic class StackArray &lt; T &gt; implements Stack &lt; T &gt;\n{\n    private final ArrayList &lt; T &gt; list = new ArrayList &lt;&gt; ( );\n\n    @Override\n    public void push ( final T element )\n    {\n        this.list.add ( element );\n    }\n\n    public T peek ( )\n    {\n        if ( this.list.isEmpty ( ) ) return null;\n        return this.list.getLast ( );\n    }\n\n    @Override\n    public T pop ( )\n    {\n        if ( this.list.isEmpty ( ) ) return null;\n        return this.list.removeLast ( );\n    }\n\n    // `Object` overrides.\n\n    @Override\n    public String toString ( )\n    {\n        return &quot;StackArray{&quot; + list + '}';\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>    Stack &lt; String &gt; stack = new StackArray &lt;&gt; ( );\n    String nothing = stack.peek ( );\n    System.out.println ( &quot;nothing = &quot; + nothing );\n\n    stack.push ( &quot;Alice&quot; );\n    stack.push ( &quot;Bob&quot; );\n    String bob = stack.peek ( );\n    System.out.println ( &quot;bob = &quot; + bob );\n\n    stack.push ( &quot;Carol&quot; );\n    System.out.println ( &quot;stack = &quot; + stack );\n\n    String carol = stack.pop ( );\n    System.out.println ( &quot;carol = &quot; + carol );\n    System.out.println ( &quot;stack = &quot; + stack );\n\n    String bob2 = stack.pop ( );\n    System.out.println ( &quot;bob2 = &quot; + bob2 );\n\n    System.out.println ( &quot;stack = &quot; + stack );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>nothing = null\nbob = Bob\nstack = StackArray{[Alice, Bob, Carol]}\ncarol = Carol\nstack = StackArray{[Alice, Bob]}\nbob2 = Bob\nstack = StackArray{[Alice]}\n</code></pre>\n"}],"comment_count":2,"is_answered":true,"view_count":86,"answer_count":3,"score":0,"last_activity_date":1701340172,"creation_date":1701274438,"question_id":77572832,"body_markdown":"I have in mind a method that takes as an argument a collection that supports just the stack operations `push` and `pop`. What is the most appropriate interface for this?\r\n\r\n    public void foo(WhatShouldThisTypeBe&lt;String&gt; stack) {\r\n        stack.push(bar());\r\n        ...;\r\n        String xyz = stack.pop();\r\n    }\r\n        \r\n\r\nMy thoughts are:\r\n\r\n1. I could make my method take a `java.util.Stack` but that is a legacy class, with unwanted synchronization overhead, and shouldn&#39;t be used in 2023.\r\n\r\n2. I could make it take a `List` (which supports the equivalent operations `addLast()` and `removeLast()`) but that would put unnecessary demands on the concrete type, such as the ability to take the nth element.\r\n\r\n3. I could make it take a `Deque` but again that would put unnecessary demands on the concrete type, such as support for the Queue operations `add` and `remove` which are not required.\r\n\r\nIs there a Java interface that suits stack operations more precisely than any of the above?","link":"https://stackoverflow.com/questions/77572832/java-interface-for-stack-operations","title":"Java interface for stack operations","body":"<p>I have in mind a method that takes as an argument a collection that supports just the stack operations <code>push</code> and <code>pop</code>. What is the most appropriate interface for this?</p>\n<pre><code>public void foo(WhatShouldThisTypeBe&lt;String&gt; stack) {\n    stack.push(bar());\n    ...;\n    String xyz = stack.pop();\n}\n    \n</code></pre>\n<p>My thoughts are:</p>\n<ol>\n<li><p>I could make my method take a <code>java.util.Stack</code> but that is a legacy class, with unwanted synchronization overhead, and shouldn't be used in 2023.</p>\n</li>\n<li><p>I could make it take a <code>List</code> (which supports the equivalent operations <code>addLast()</code> and <code>removeLast()</code>) but that would put unnecessary demands on the concrete type, such as the ability to take the nth element.</p>\n</li>\n<li><p>I could make it take a <code>Deque</code> but again that would put unnecessary demands on the concrete type, such as support for the Queue operations <code>add</code> and <code>remove</code> which are not required.</p>\n</li>\n</ol>\n<p>Is there a Java interface that suits stack operations more precisely than any of the above?</p>\n"},{"tags":["java","spring-webflux","spring-oauth2","spring-authorization-server","spring-resource-server"],"comments":[{"score":0,"post_type":"question","creation_date":1701359420,"post_id":77575850,"comment_id":136768268,"body_markdown":"You say that you&#39;re using WebFlux, but your config classes and logs indicate you are not because `SecurityFilterChain` and `JwtDecoder` are for servlet-based applications. Please see [OAuth2 WebFlux](https://docs.spring.io/spring-security/reference/reactive/oauth2/index.html) docs, specifically the [JWT configuration example](https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/jwt.html#webflux-oauth2resourceserver-jwt-sansboot). Without more details, I&#39;m unable to determine the cause but it seems you have one or more configuration problems.","link":"https://stackoverflow.com/questions/77575850/an-error-occurs-when-spring-resource-server-tries-to-parse-a-valid-jwt-invalid#comment136768268_77575850","body":"You say that you&#39;re using WebFlux, but your config classes and logs indicate you are not because <code>SecurityFilterChain</code> and <code>JwtDecoder</code> are for servlet-based applications. Please see <a href=\"https://docs.spring.io/spring-security/reference/reactive/oauth2/index.html\" rel=\"nofollow noreferrer\">OAuth2 WebFlux</a> docs, specifically the <a href=\"https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/jwt.html#webflux-oauth2resourceserver-jwt-sansboot\" rel=\"nofollow noreferrer\">JWT configuration example</a>. Without more details, I&#39;m unable to determine the cause but it seems you have one or more configuration problems."},{"score":0,"post_type":"question","creation_date":1701359520,"post_id":77575850,"comment_id":136768285,"body_markdown":"See [WebFlux Resource Server Sample](https://github.com/spring-projects/spring-security-samples/tree/main/reactive/webflux/java/oauth2/resource-server) and the readme for a concrete working example, or the demo-client sample in the [Spring Authorization Server Samples](https://github.com/spring-projects/spring-authorization-server/tree/main/samples) (which is not a WebFlux application).","link":"https://stackoverflow.com/questions/77575850/an-error-occurs-when-spring-resource-server-tries-to-parse-a-valid-jwt-invalid#comment136768285_77575850","body":"See <a href=\"https://github.com/spring-projects/spring-security-samples/tree/main/reactive/webflux/java/oauth2/resource-server\" rel=\"nofollow noreferrer\">WebFlux Resource Server Sample</a> and the readme for a concrete working example, or the demo-client sample in the <a href=\"https://github.com/spring-projects/spring-authorization-server/tree/main/samples\" rel=\"nofollow noreferrer\">Spring Authorization Server Samples</a> (which is not a WebFlux application)."},{"score":0,"post_type":"question","creation_date":1701403822,"post_id":77575850,"comment_id":136774143,"body_markdown":"@SteveRiesenberg I used Webflux only for HTTP request, It could not to produce exceptions in this way. But, I rewrote SecurityConfig in Resource server like it was in [WebFlux Resource Server Sample](https://github.com/spring-projects/spring-security-samples/tree/main/reactive/webflux/java/oauth2/resource-server) and I had same error.","link":"https://stackoverflow.com/questions/77575850/an-error-occurs-when-spring-resource-server-tries-to-parse-a-valid-jwt-invalid#comment136774143_77575850","body":"@SteveRiesenberg I used Webflux only for HTTP request, It could not to produce exceptions in this way. But, I rewrote SecurityConfig in Resource server like it was in <a href=\"https://github.com/spring-projects/spring-security-samples/tree/main/reactive/webflux/java/oauth2/resource-server\" rel=\"nofollow noreferrer\">WebFlux Resource Server Sample</a> and I had same error."},{"score":0,"post_type":"question","creation_date":1701404476,"post_id":77575850,"comment_id":136774196,"body_markdown":"After that I saw, that I had made a mistake in `WebClientConfig`, and my `WelcomeClient` sends `accsess_token` value in auth header, not `id_token` value. I will search how to resolve it and after that I will write an answer. But knowing the problem is already an advantage.","link":"https://stackoverflow.com/questions/77575850/an-error-occurs-when-spring-resource-server-tries-to-parse-a-valid-jwt-invalid#comment136774196_77575850","body":"After that I saw, that I had made a mistake in <code>WebClientConfig</code>, and my <code>WelcomeClient</code> sends <code>accsess_token</code> value in auth header, not <code>id_token</code> value. I will search how to resolve it and after that I will write an answer. But knowing the problem is already an advantage."}],"comment_count":4,"is_answered":false,"view_count":52,"answer_count":0,"score":0,"last_activity_date":1701338931,"creation_date":1701317605,"last_edit_date":1701338931,"question_id":77575850,"body_markdown":"I am trying to achieve content on resource server with WebFlux.\r\nI am sure, that my oauth2 authorization server works correctly and returns valid token.\r\n\r\nRequest, that my resource server achieves:\r\n\r\n```\r\n2023-11-30T04:51:01.070+01:00 DEBUG 13480 --- [nio-8090-exec-1] o.a.coyote.http11.Http11InputBuffer      : Received \r\n[GET / HTTP/1.1\r\naccept-encoding: gzip\r\nuser-agent: ReactorNetty/1.1.12\r\nhost: localhost:8090\r\naccept: */*\r\nAuthorization: Bearer ya29.valid-token-that-i-removed\r\n\r\n]\r\n```\r\n\r\nAfter that spring starts to validate request:\r\n\r\n```\r\n2023-11-30T04:51:01.102+01:00 DEBUG 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /\r\n2023-11-30T04:51:01.103+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\r\n2023-11-30T04:51:01.103+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\r\n2023-11-30T04:51:01.104+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\r\n2023-11-30T04:51:01.105+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\r\n2023-11-30T04:51:01.106+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/12)\r\n2023-11-30T04:51:01.107+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@158b5fff]]]\r\n2023-11-30T04:51:01.108+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/12)\r\n2023-11-30T04:51:01.108+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern=&#39;/logout&#39;, POST]\r\n2023-11-30T04:51:01.108+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/12)\r\n2023-11-30T04:51:01.108+01:00 DEBUG 13480 --- [nio-8090-exec-1] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\r\n2023-11-30T04:51:01.109+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)\r\n2023-11-30T04:51:01.110+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.s.oauth2.jwt.NimbusJwtDecoder        : Failed to parse token\r\n\r\njava.text.ParseException: Invalid unsecured/JWS/JWE header: Invalid JSON: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\r\n\tat com.nimbusds.jwt.JWTParser.parse(JWTParser.java:71) ~[nimbus-jose-jwt-9.24.4.jar:9.24.4]\r\n\tat org.springframework.security.oauth2.jwt.NimbusJwtDecoder.parse(NimbusJwtDecoder.java:144) ~[spring-security-oauth2-jose-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:133) ~[spring-security-oauth2-jose-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat net.maslyna.oauth2.resource.filter.LogFilter.doFilter(LogFilter.java:31) ~[classes/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\r\n\r\n2023-11-30T04:51:01.112+01:00 DEBUG 13480 --- [nio-8090-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Failed to authenticate since the JWT was invalid\r\n2023-11-30T04:51:01.113+01:00 TRACE 13480 --- [nio-8090-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Failed to process authentication request\r\n\r\norg.springframework.security.oauth2.server.resource.InvalidBearerTokenException: An error occurred while attempting to decode the Jwt: Invalid unsecured/JWS/JWE header: Invalid JSON: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\r\n\tat org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:103) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat net.maslyna.oauth2.resource.filter.LogFilter.doFilter(LogFilter.java:31) ~[classes/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\r\nCaused by: org.springframework.security.oauth2.jwt.BadJwtException: An error occurred while attempting to decode the Jwt: Invalid unsecured/JWS/JWE header: Invalid JSON: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\r\n\tat org.springframework.security.oauth2.jwt.NimbusJwtDecoder.parse(NimbusJwtDecoder.java:148) ~[spring-security-oauth2-jose-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:133) ~[spring-security-oauth2-jose-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\r\n\t... 61 common frames omitted\r\nCaused by: java.text.ParseException: Invalid unsecured/JWS/JWE header: Invalid JSON: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\r\n\tat com.nimbusds.jwt.JWTParser.parse(JWTParser.java:71) ~[nimbus-jose-jwt-9.24.4.jar:9.24.4]\r\n\tat org.springframework.security.oauth2.jwt.NimbusJwtDecoder.parse(NimbusJwtDecoder.java:144) ~[spring-security-oauth2-jose-6.1.5.jar:6.1.5]\r\n\t... 63 common frames omitted\r\n\r\n```\r\n\r\n\r\n\r\nController on client service:\r\n\r\n```java\r\n\r\n@RequiredArgsConstructor\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/auth/users&quot;)\r\npublic class UserController {\r\n    private final WelcomeClient welcomeClient;\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String welcome() {\r\n        return welcomeClient.getWelcome();\r\n    }\r\n}\r\n```\r\n\r\nSecurityConfig on client service:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http)\r\n            throws Exception {\r\n        http\r\n                .authorizeHttpRequests(authorize -&gt; {\r\n                    authorize.anyRequest().authenticated();\r\n                })\r\n                .oauth2Login(oauth2Login -&gt; oauth2Login.loginPage(&quot;/oauth2/authorization/google&quot;))\r\n                .oauth2Client(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n\r\nWebFluxClient on client service:\r\n\r\n```java\r\n\r\n@HttpExchange(url = &quot;http://localhost:8090&quot;)\r\npublic interface WelcomeClient {\r\n    @GetExchange(&quot;/&quot;)\r\n    String getWelcome();\r\n}\r\n```\r\n\r\nWebClientConfig on client service:\r\n\r\n```\r\n@Configuration\r\npublic class WebClientConfig {\r\n\r\n    @Bean\r\n    public WelcomeClient welcomeClient(OAuth2AuthorizedClientManager authorizedClientManager) {\r\n        return httpServiceProxyFactory(authorizedClientManager).createClient(WelcomeClient.class);\r\n    }\r\n\r\n    private HttpServiceProxyFactory httpServiceProxyFactory(OAuth2AuthorizedClientManager authorizedClientManager) {\r\n        ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2Client =\r\n                new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n\r\n//        oauth2Client.setDefaultClientRegistrationId(&quot;google&quot;);\r\n        oauth2Client.setDefaultOAuth2AuthorizedClient(true);\r\n        WebClient webClient = WebClient.builder()\r\n                .apply(oauth2Client.oauth2Configuration())\r\n                .build();\r\n        WebClientAdapter client = WebClientAdapter.forClient(webClient);\r\n        return HttpServiceProxyFactory.builder(client).build();\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2AuthorizedClientManager authorizedClientManager(\r\n            ClientRegistrationRepository clientRegistrationRepository,\r\n            OAuth2AuthorizedClientRepository authorizedClientRepository) {\r\n\r\n        OAuth2AuthorizedClientProvider authorizedClientProvider =\r\n                OAuth2AuthorizedClientProviderBuilder.builder()\r\n                        .authorizationCode()\r\n                        .refreshToken()\r\n                        .build();\r\n\r\n        DefaultOAuth2AuthorizedClientManager authorizedClientManager =\r\n                new DefaultOAuth2AuthorizedClientManager(\r\n                        clientRegistrationRepository, authorizedClientRepository);\r\n\r\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\r\n\r\n        return authorizedClientManager;\r\n    }\r\n}\r\n```\r\n\r\nResource server config:\r\n\r\n```java\r\n@Configuration\r\npublic class SecurityConfig {\r\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\r\n    private String jwtIssuerUri;\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(auth -&gt; auth.anyRequest().authenticated())\r\n                .oauth2ResourceServer(oauth2 -&gt; oauth2\r\n                        .jwt(jwt -&gt; jwt.decoder(jwtDecoder())));\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        return JwtDecoders.fromIssuerLocation(jwtIssuerUri);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI think, that I must send only token value in JSON, without headers etc. or something else.\r\nI don&#39;t have much expirience on spring reactive, and webflux with oauth2 I am trying for 1st time. I am trying to do simple oauth2 client allready for few weeks, and don&#39;t have any progress.","link":"https://stackoverflow.com/questions/77575850/an-error-occurs-when-spring-resource-server-tries-to-parse-a-valid-jwt-invalid","title":"An error occurs when Spring Resource Server tries to parse a valid JWT. Invalid JSON: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $","body":"<p>I am trying to achieve content on resource server with WebFlux.\nI am sure, that my oauth2 authorization server works correctly and returns valid token.</p>\n<p>Request, that my resource server achieves:</p>\n<pre><code>2023-11-30T04:51:01.070+01:00 DEBUG 13480 --- [nio-8090-exec-1] o.a.coyote.http11.Http11InputBuffer      : Received \n[GET / HTTP/1.1\naccept-encoding: gzip\nuser-agent: ReactorNetty/1.1.12\nhost: localhost:8090\naccept: */*\nAuthorization: Bearer ya29.valid-token-that-i-removed\n\n]\n</code></pre>\n<p>After that spring starts to validate request:</p>\n<pre><code>2023-11-30T04:51:01.102+01:00 DEBUG 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /\n2023-11-30T04:51:01.103+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\n2023-11-30T04:51:01.103+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\n2023-11-30T04:51:01.104+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\n2023-11-30T04:51:01.105+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\n2023-11-30T04:51:01.106+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/12)\n2023-11-30T04:51:01.107+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@158b5fff]]]\n2023-11-30T04:51:01.108+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/12)\n2023-11-30T04:51:01.108+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]\n2023-11-30T04:51:01.108+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (7/12)\n2023-11-30T04:51:01.108+01:00 DEBUG 13480 --- [nio-8090-exec-1] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\n2023-11-30T04:51:01.109+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/2)\n2023-11-30T04:51:01.110+01:00 TRACE 13480 --- [nio-8090-exec-1] o.s.s.oauth2.jwt.NimbusJwtDecoder        : Failed to parse token\n\njava.text.ParseException: Invalid unsecured/JWS/JWE header: Invalid JSON: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\n    at com.nimbusds.jwt.JWTParser.parse(JWTParser.java:71) ~[nimbus-jose-jwt-9.24.4.jar:9.24.4]\n    at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.parse(NimbusJwtDecoder.java:144) ~[spring-security-oauth2-jose-6.1.5.jar:6.1.5]\n    at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:133) ~[spring-security-oauth2-jose-6.1.5.jar:6.1.5]\n    at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\n    at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.1.5.jar:6.1.5]\n    at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at net.maslyna.oauth2.resource.filter.LogFilter.doFilter(LogFilter.java:31) ~[classes/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\n\n2023-11-30T04:51:01.112+01:00 DEBUG 13480 --- [nio-8090-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Failed to authenticate since the JWT was invalid\n2023-11-30T04:51:01.113+01:00 TRACE 13480 --- [nio-8090-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Failed to process authentication request\n\norg.springframework.security.oauth2.server.resource.InvalidBearerTokenException: An error occurred while attempting to decode the Jwt: Invalid unsecured/JWS/JWE header: Invalid JSON: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\n    at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:103) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\n    at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.1.5.jar:6.1.5]\n    at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at net.maslyna.oauth2.resource.filter.LogFilter.doFilter(LogFilter.java:31) ~[classes/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]\nCaused by: org.springframework.security.oauth2.jwt.BadJwtException: An error occurred while attempting to decode the Jwt: Invalid unsecured/JWS/JWE header: Invalid JSON: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\n    at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.parse(NimbusJwtDecoder.java:148) ~[spring-security-oauth2-jose-6.1.5.jar:6.1.5]\n    at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:133) ~[spring-security-oauth2-jose-6.1.5.jar:6.1.5]\n    at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.1.5.jar:6.1.5]\n    ... 61 common frames omitted\nCaused by: java.text.ParseException: Invalid unsecured/JWS/JWE header: Invalid JSON: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\n    at com.nimbusds.jwt.JWTParser.parse(JWTParser.java:71) ~[nimbus-jose-jwt-9.24.4.jar:9.24.4]\n    at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.parse(NimbusJwtDecoder.java:144) ~[spring-security-oauth2-jose-6.1.5.jar:6.1.5]\n    ... 63 common frames omitted\n\n</code></pre>\n<p>Controller on client service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RequiredArgsConstructor\n@RestController\n@RequestMapping(&quot;/api/v1/auth/users&quot;)\npublic class UserController {\n    private final WelcomeClient welcomeClient;\n\n    @GetMapping(&quot;/&quot;)\n    public String welcome() {\n        return welcomeClient.getWelcome();\n    }\n}\n</code></pre>\n<p>SecurityConfig on client service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http)\n            throws Exception {\n        http\n                .authorizeHttpRequests(authorize -&gt; {\n                    authorize.anyRequest().authenticated();\n                })\n                .oauth2Login(oauth2Login -&gt; oauth2Login.loginPage(&quot;/oauth2/authorization/google&quot;))\n                .oauth2Client(Customizer.withDefaults());\n        return http.build();\n    }\n}\n</code></pre>\n<p>WebFluxClient on client service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@HttpExchange(url = &quot;http://localhost:8090&quot;)\npublic interface WelcomeClient {\n    @GetExchange(&quot;/&quot;)\n    String getWelcome();\n}\n</code></pre>\n<p>WebClientConfig on client service:</p>\n<pre><code>@Configuration\npublic class WebClientConfig {\n\n    @Bean\n    public WelcomeClient welcomeClient(OAuth2AuthorizedClientManager authorizedClientManager) {\n        return httpServiceProxyFactory(authorizedClientManager).createClient(WelcomeClient.class);\n    }\n\n    private HttpServiceProxyFactory httpServiceProxyFactory(OAuth2AuthorizedClientManager authorizedClientManager) {\n        ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2Client =\n                new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n\n//        oauth2Client.setDefaultClientRegistrationId(&quot;google&quot;);\n        oauth2Client.setDefaultOAuth2AuthorizedClient(true);\n        WebClient webClient = WebClient.builder()\n                .apply(oauth2Client.oauth2Configuration())\n                .build();\n        WebClientAdapter client = WebClientAdapter.forClient(webClient);\n        return HttpServiceProxyFactory.builder(client).build();\n    }\n\n    @Bean\n    public OAuth2AuthorizedClientManager authorizedClientManager(\n            ClientRegistrationRepository clientRegistrationRepository,\n            OAuth2AuthorizedClientRepository authorizedClientRepository) {\n\n        OAuth2AuthorizedClientProvider authorizedClientProvider =\n                OAuth2AuthorizedClientProviderBuilder.builder()\n                        .authorizationCode()\n                        .refreshToken()\n                        .build();\n\n        DefaultOAuth2AuthorizedClientManager authorizedClientManager =\n                new DefaultOAuth2AuthorizedClientManager(\n                        clientRegistrationRepository, authorizedClientRepository);\n\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\n\n        return authorizedClientManager;\n    }\n}\n</code></pre>\n<p>Resource server config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfig {\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\n    private String jwtIssuerUri;\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(auth -&gt; auth.anyRequest().authenticated())\n                .oauth2ResourceServer(oauth2 -&gt; oauth2\n                        .jwt(jwt -&gt; jwt.decoder(jwtDecoder())));\n\n        return http.build();\n    }\n\n    @Bean\n    public JwtDecoder jwtDecoder() {\n        return JwtDecoders.fromIssuerLocation(jwtIssuerUri);\n    }\n}\n</code></pre>\n<p>I think, that I must send only token value in JSON, without headers etc. or something else.\nI don't have much expirience on spring reactive, and webflux with oauth2 I am trying for 1st time. I am trying to do simple oauth2 client allready for few weeks, and don't have any progress.</p>\n"},{"tags":["java","android","sms"],"comments":[{"score":0,"post_type":"question","creation_date":1701338408,"post_id":77577455,"comment_id":136764175,"body_markdown":"I know, it sounds like &quot;something went wrong, please help me&quot;, but the client sends me screenshots like this, and I can&#39;t reproduce the issue with my phone. Maybe someone have met the same problem.","link":"https://stackoverflow.com/questions/77577455/android-double-quotes-and-n-in-the-sms-body-while-trying-to-use-default-sms#comment136764175_77577455","body":"I know, it sounds like &quot;something went wrong, please help me&quot;, but the client sends me screenshots like this, and I can&#39;t reproduce the issue with my phone. Maybe someone have met the same problem."}],"comment_count":1,"is_answered":false,"view_count":16,"answer_count":0,"score":0,"last_activity_date":1701338149,"creation_date":1701338149,"question_id":77577455,"body_markdown":"I am constructing Uri like `Uri.parse(&quot;smsto:&quot; + phoneNumbers)` and then using it to create an intent to send SMS like this:\r\n\r\n        Intent intent = new Intent(Intent.ACTION_SENDTO, uri);\r\n        intent.putExtra(&quot;sms_body&quot;, body);\r\n        startActivity(Intent.createChooser(intent, &quot;Complete action using&quot;));\r\n\r\nSo, in some SMS apps, a double quotes appears (see screenshot) and the newline symbol is printed as &quot;\\n&quot;, while in the other apps, everything looks OK. Does anyone know how to handle this problem?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IWPvJ.jpg","link":"https://stackoverflow.com/questions/77577455/android-double-quotes-and-n-in-the-sms-body-while-trying-to-use-default-sms","title":"Android: Double quotes and &quot;\\n&quot; in the SMS body while trying to use default SMS app","body":"<p>I am constructing Uri like <code>Uri.parse(&quot;smsto:&quot; + phoneNumbers)</code> and then using it to create an intent to send SMS like this:</p>\n<pre><code>    Intent intent = new Intent(Intent.ACTION_SENDTO, uri);\n    intent.putExtra(&quot;sms_body&quot;, body);\n    startActivity(Intent.createChooser(intent, &quot;Complete action using&quot;));\n</code></pre>\n<p>So, in some SMS apps, a double quotes appears (see screenshot) and the newline symbol is printed as &quot;\\n&quot;, while in the other apps, everything looks OK. Does anyone know how to handle this problem?</p>\n<p><a href=\"https://i.stack.imgur.com/IWPvJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IWPvJ.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","graphics","lottie"],"comments":[{"score":0,"post_type":"question","creation_date":1673777636,"post_id":75123569,"comment_id":132569933,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","link":"https://stackoverflow.com/questions/75123569/lottiedrawable-is-not-playing-the-animation-in-graphicoverlay-graphic#comment132569933_75123569","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701337186,"creation_date":1701337186,"answer_id":77577353,"question_id":75123569,"body_markdown":"set bounds:\r\n\r\n    mLottieDrawable.setBounds(\r\n                        leftBound,\r\n                        topBound,\r\n                        rightBound,\r\n                        bottomBound)","link":"https://stackoverflow.com/questions/75123569/lottiedrawable-is-not-playing-the-animation-in-graphicoverlay-graphic/77577353#77577353","title":"LottieDrawable is not playing the animation in GraphicOverlay.Graphic","body":"<p>set bounds:</p>\n<pre><code>mLottieDrawable.setBounds(\n                    leftBound,\n                    topBound,\n                    rightBound,\n                    bottomBound)\n</code></pre>\n"}],"comment_count":1,"is_answered":false,"view_count":95,"answer_count":1,"score":2,"last_activity_date":1701337186,"creation_date":1673767770,"last_edit_date":1673904044,"question_id":75123569,"body_markdown":"I am trying to use `LottieDrawable` to draw a simple animation. But the animation is not played.\r\n\r\nI saw in old issues that you need to call `mLottieDrawable.setCallBack(this)`\r\nbut since I am extending `GraphicOverlay.Graphic`, I don&#39;t know what should I use inside `setcallBack()`\r\n\r\n\r\n\r\nBelow is the code I have used -&gt;\r\n\r\n```\r\npublic class PoseGraphic extends GraphicOverlay.Graphic {\r\n    LottieDrawable mLottieDrawable;\r\n\r\n    public PoseGraphic() {\r\n        mLottieDrawable = new LottieDrawable();\r\n        mLottieDrawable.enableMergePathsForKitKatAndAbove(true);\r\n        LottieResult&lt;LottieComposition&gt; result = LottieCompositionFactory.fromRawResSync(context, R.raw.heart);\r\n        mLottieDrawable.setComposition(result.getValue());\r\n        mLottieDrawable.setRepeatCount(LottieDrawable.INFINITE);\r\n        mLottieDrawable.start();\r\n    }\r\n\r\n    @Override\r\n    public void draw(Canvas canvas) {\r\n        mLottieDrawable.draw(canvas);\r\n    }\r\n```\r\n\r\nVersion of Lottie -\r\n5.2.0\r\n\r\nVersion of Android -\r\nAndroid 12","link":"https://stackoverflow.com/questions/75123569/lottiedrawable-is-not-playing-the-animation-in-graphicoverlay-graphic","title":"LottieDrawable is not playing the animation in GraphicOverlay.Graphic","body":"<p>I am trying to use <code>LottieDrawable</code> to draw a simple animation. But the animation is not played.</p>\n<p>I saw in old issues that you need to call <code>mLottieDrawable.setCallBack(this)</code>\nbut since I am extending <code>GraphicOverlay.Graphic</code>, I don't know what should I use inside <code>setcallBack()</code></p>\n<p>Below is the code I have used -&gt;</p>\n<pre><code>public class PoseGraphic extends GraphicOverlay.Graphic {\n    LottieDrawable mLottieDrawable;\n\n    public PoseGraphic() {\n        mLottieDrawable = new LottieDrawable();\n        mLottieDrawable.enableMergePathsForKitKatAndAbove(true);\n        LottieResult&lt;LottieComposition&gt; result = LottieCompositionFactory.fromRawResSync(context, R.raw.heart);\n        mLottieDrawable.setComposition(result.getValue());\n        mLottieDrawable.setRepeatCount(LottieDrawable.INFINITE);\n        mLottieDrawable.start();\n    }\n\n    @Override\n    public void draw(Canvas canvas) {\n        mLottieDrawable.draw(canvas);\n    }\n</code></pre>\n<p>Version of Lottie -\n5.2.0</p>\n<p>Version of Android -\nAndroid 12</p>\n"},{"tags":["java","selenium-webdriver","web-scraping","tor"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1679139515,"creation_date":1679139515,"answer_id":75775618,"question_id":75774708,"body_markdown":"Ok, I don&#39;t know why, but I figured out what to do to make it work... The code is ok and it&#39;s working perfectly. What makes the problem is closing the TOR browser. When I click x on TOR, it closes and IntelliJ stops running the project. But then, when you start again, it will stuck. I assume that problem is somewhere in TOR and profiles?\r\nTo make it work you must stop the project in IntelliJ and then it will close TOR properly. ","link":"https://stackoverflow.com/questions/75774708/java-selenium-stuck-after-opening-tor-browser/75775618#75775618","title":"Java,Selenium - stuck after opening TOR browser","body":"<p>Ok, I don't know why, but I figured out what to do to make it work... The code is ok and it's working perfectly. What makes the problem is closing the TOR browser. When I click x on TOR, it closes and IntelliJ stops running the project. But then, when you start again, it will stuck. I assume that problem is somewhere in TOR and profiles?\nTo make it work you must stop the project in IntelliJ and then it will close TOR properly.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":82,"answer_count":1,"score":0,"last_activity_date":1701336977,"creation_date":1679128711,"question_id":75774708,"body_markdown":"I&#39;m working on webscraping hobby project. Stack is Java, Selenium, TOR, IntelliJ IDEA and Kali Linux. After few days of searching on google I managed to start TOR with Selenim but for this problem I didn&#39;t find answer on google. After I start project, TOR opens, makes connection, but than stops (no input of web address). IntelliJ is running all time, but nothing happening... \r\n\r\nMy code\r\n\r\n    WebDriverManager.firefoxdriver().setup();\r\n    String torPath = &quot;/home/username/Downloads/tor-browser/Browser/start-tor-browser&quot;;\r\n    String profilePath=&quot;/home/username/Downloads/tor-browser/Browser/TorBrowser/Data/Browser/profile.default&quot;;\r\n    FirefoxProfile profile = new FirefoxProfile(new File(profilePath));\r\n    FirefoxBinary binary = new FirefoxBinary(new File(torPath));\r\n    System.out.println(&quot;1&quot;);\r\n    FirefoxOptions options = new FirefoxOptions();\r\n    options.setBinary(binary);\r\n    options.setProfile(profile);\r\n    System.out.println(&quot;2&quot;);\r\n    options.setCapability(FirefoxOptions.FIREFOX_OPTIONS,options);\r\n    FirefoxDriver driver = new FirefoxDriver(options);\r\n    System.out.println(&quot;3&quot;);\r\n    Constants.sleep(2000);\r\n    System.out.printf(&quot;4&quot;);\r\n    driver.get(&quot;https://www.google.com/&quot;);\r\n\r\nAfter running this code, I get messages &quot;1&quot; and &quot;2&quot;, TOR opens, makes connection and that&#39;s it. IntelliJ running project (I must click stop button), but no errors or any other message...","link":"https://stackoverflow.com/questions/75774708/java-selenium-stuck-after-opening-tor-browser","title":"Java,Selenium - stuck after opening TOR browser","body":"<p>I'm working on webscraping hobby project. Stack is Java, Selenium, TOR, IntelliJ IDEA and Kali Linux. After few days of searching on google I managed to start TOR with Selenim but for this problem I didn't find answer on google. After I start project, TOR opens, makes connection, but than stops (no input of web address). IntelliJ is running all time, but nothing happening...</p>\n<p>My code</p>\n<pre><code>WebDriverManager.firefoxdriver().setup();\nString torPath = &quot;/home/username/Downloads/tor-browser/Browser/start-tor-browser&quot;;\nString profilePath=&quot;/home/username/Downloads/tor-browser/Browser/TorBrowser/Data/Browser/profile.default&quot;;\nFirefoxProfile profile = new FirefoxProfile(new File(profilePath));\nFirefoxBinary binary = new FirefoxBinary(new File(torPath));\nSystem.out.println(&quot;1&quot;);\nFirefoxOptions options = new FirefoxOptions();\noptions.setBinary(binary);\noptions.setProfile(profile);\nSystem.out.println(&quot;2&quot;);\noptions.setCapability(FirefoxOptions.FIREFOX_OPTIONS,options);\nFirefoxDriver driver = new FirefoxDriver(options);\nSystem.out.println(&quot;3&quot;);\nConstants.sleep(2000);\nSystem.out.printf(&quot;4&quot;);\ndriver.get(&quot;https://www.google.com/&quot;);\n</code></pre>\n<p>After running this code, I get messages &quot;1&quot; and &quot;2&quot;, TOR opens, makes connection and that's it. IntelliJ running project (I must click stop button), but no errors or any other message...</p>\n"},{"tags":["java","spring-boot"],"comments":[{"score":0,"post_type":"question","creation_date":1701085179,"post_id":77556470,"comment_id":136727051,"body_markdown":"Does it write some message on mouseover? Can you share the POM files ? it might be helpful. What is it your maven version?","link":"https://stackoverflow.com/questions/77556470/how-to-list-updated-projects-on-multi-module-configuration#comment136727051_77556470","body":"Does it write some message on mouseover? Can you share the POM files ? it might be helpful. What is it your maven version?"},{"score":0,"post_type":"question","creation_date":1701090609,"post_id":77556470,"comment_id":136728006,"body_markdown":"the post is updated with the pom.xml","link":"https://stackoverflow.com/questions/77556470/how-to-list-updated-projects-on-multi-module-configuration#comment136728006_77556470","body":"the post is updated with the pom.xml"},{"score":0,"post_type":"question","creation_date":1701091278,"post_id":77556470,"comment_id":136728128,"body_markdown":"Can you add the parent as well ?","link":"https://stackoverflow.com/questions/77556470/how-to-list-updated-projects-on-multi-module-configuration#comment136728128_77556470","body":"Can you add the parent as well ?"},{"score":0,"post_type":"question","creation_date":1701337021,"post_id":77556470,"comment_id":136763937,"body_markdown":"the post is updated with the parent pom.xml","link":"https://stackoverflow.com/questions/77556470/how-to-list-updated-projects-on-multi-module-configuration#comment136763937_77556470","body":"the post is updated with the parent pom.xml"}],"comment_count":4,"is_answered":false,"view_count":42,"answer_count":0,"score":0,"last_activity_date":1701336949,"creation_date":1701083884,"last_edit_date":1701336949,"question_id":77556470,"body_markdown":"I need your help because in my module I have several projects, see: \r\n\r\n[![enter image description here](https://i.stack.imgur.com/VTvrv.png)](https://i.stack.imgur.com/VTvrv.png)\r\n\r\nI&#39;m looking for a way to have a document that list the projects updated during the sprint (the last 2 weeks) in order to know which project I need to redeploy. \r\n\r\nDo you have an idea about how I can do this?\r\n\r\nWe have to check the history of each subproject manually.\r\n\r\nWe are on Spring Boot, Java 20, Maven we use GitHub Actions and Kubernetes.\r\n\r\nThis is one of the pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.bootcamp.test&lt;/groupId&gt;\r\n        &lt;artifactId&gt;BootCampProject&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.bootcam&lt;/groupId&gt;\r\n    &lt;artifactId&gt;bootCampApi&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;bootCampApi&lt;/name&gt;\r\n    &lt;description&gt;bootCampApi&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nParent pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.bootcamp.test&lt;/groupId&gt;\r\n    &lt;artifactId&gt;BootCampProject&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.5&lt;/version&gt;\r\n        &lt;relativePath&gt;&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n\r\n&lt;/project&gt;\r\n```","link":"https://stackoverflow.com/questions/77556470/how-to-list-updated-projects-on-multi-module-configuration","title":"How to list updated projects on multi module configuration","body":"<p>I need your help because in my module I have several projects, see:</p>\n<p><a href=\"https://i.stack.imgur.com/VTvrv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VTvrv.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm looking for a way to have a document that list the projects updated during the sprint (the last 2 weeks) in order to know which project I need to redeploy.</p>\n<p>Do you have an idea about how I can do this?</p>\n<p>We have to check the history of each subproject manually.</p>\n<p>We are on Spring Boot, Java 20, Maven we use GitHub Actions and Kubernetes.</p>\n<p>This is one of the pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.bootcamp.test&lt;/groupId&gt;\n        &lt;artifactId&gt;BootCampProject&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.bootcam&lt;/groupId&gt;\n    &lt;artifactId&gt;bootCampApi&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;bootCampApi&lt;/name&gt;\n    &lt;description&gt;bootCampApi&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n                &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.4.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Parent pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.bootcamp.test&lt;/groupId&gt;\n    &lt;artifactId&gt;BootCampProject&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;relativePath&gt;&lt;/relativePath&gt;\n    &lt;/parent&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","event-listener"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701328703,"post_id":77572883,"comment_id":136762675,"body_markdown":"Thank you @Karim for the quick and thorough response. I will update the actual Question shortly with more details. \nThe main purpose is to find the best way in terms of reliability and performance, therefore I am searching for the best configuration of lazy/eager loading. Or maybe a completely diffent aproach instead of event-listeners if there is one.","link":"https://stackoverflow.com/questions/77572295/update-related-entity-from-event-listener-callback/77572883#comment136762675_77572883","body":"Thank you @Karim for the quick and thorough response. I will update the actual Question shortly with more details.  The main purpose is to find the best way in terms of reliability and performance, therefore I am searching for the best configuration of lazy/eager loading. Or maybe a completely diffent aproach instead of event-listeners if there is one."}],"comment_count":1,"score":1,"last_activity_date":1701274902,"creation_date":1701274902,"answer_id":77572883,"question_id":77572295,"body_markdown":"The difference in behavior between findById and findByName when accessing child entities in your Spring Data JPA repository could be related to the way these methods interact with the database and handle the loading of associated entities (children).\r\n\r\nHere are some possible reasons for the observed difference:\r\n\r\n 1. Lazy Loading: By default, JPA associations are lazy-loaded, which means that related entities are not loaded from the database until they are explicitly accessed. When you call findById, the associated children collection might not be loaded, especially if it is marked as LAZY. However, when you subsequently access the children collection (e.g., by invoking a method on it), it triggers a database query to fetch the related child entities.\r\n  - In the case of findByName, if Hibernate needs to fetch the parent entity and the associated children collection during the query (e.g., due to fetch join or eager loading settings), the child entities are loaded along with the parent entity, and you might not observe the same issue.\r\n\r\n 2. Fetch Mode: The @Fetch annotation can influence how associations are fetched. Your matrix indicates that the @Fetch annotation has different effects based on the combination of fetch types (JOIN, SELECT, or SUBSELECT) and whether you access the children collection within the same transaction.\r\n\r\n   - For example, with JOIN or SUBSELECT, using findById might load the child entities because the associated collection is explicitly fetched in the initial query. However, with SELECT, the child entities might not be loaded until you access the children collection explicitly.\r\n\r\n3.  Transaction Boundaries: If you are working with detached entities and there is a transaction boundary between fetching the parent entity and accessing its children collection, lazy loading might not work as expected. In the case of findByName, if you access the children collection within the same transaction, it could lead to different results compared to findById.\r\n\r\nTo further investigate and ensure consistent behavior, you might consider:\r\n\r\n - Using fetch joins in your queries (JOIN FETCH) to ensure that child entities are loaded eagerly when needed.\r\n\r\n  - Checking the generated SQL queries in your logs to understand how Hibernate is fetching the entities.\r\n\r\n  - Ensuring that transactions are managed appropriately, and entities are not detached when you expect them to be managed.\r\n\r\nIf you provide more details about how you&#39;re using these methods in your code and the exact configurations for lazy/eager loading, it might be possible to provide a more specific explanation.","link":"https://stackoverflow.com/questions/77572295/update-related-entity-from-event-listener-callback/77572883#77572883","title":"Update related entity from event-listener callback","body":"<p>The difference in behavior between findById and findByName when accessing child entities in your Spring Data JPA repository could be related to the way these methods interact with the database and handle the loading of associated entities (children).</p>\n<p>Here are some possible reasons for the observed difference:</p>\n<ol>\n<li>Lazy Loading: By default, JPA associations are lazy-loaded, which means that related entities are not loaded from the database until they are explicitly accessed. When you call findById, the associated children collection might not be loaded, especially if it is marked as LAZY. However, when you subsequently access the children collection (e.g., by invoking a method on it), it triggers a database query to fetch the related child entities.</li>\n</ol>\n<ul>\n<li>In the case of findByName, if Hibernate needs to fetch the parent entity and the associated children collection during the query (e.g., due to fetch join or eager loading settings), the child entities are loaded along with the parent entity, and you might not observe the same issue.</li>\n</ul>\n<ol start=\"2\">\n<li>Fetch Mode: The @Fetch annotation can influence how associations are fetched. Your matrix indicates that the @Fetch annotation has different effects based on the combination of fetch types (JOIN, SELECT, or SUBSELECT) and whether you access the children collection within the same transaction.</li>\n</ol>\n<ul>\n<li>For example, with JOIN or SUBSELECT, using findById might load the child entities because the associated collection is explicitly fetched in the initial query. However, with SELECT, the child entities might not be loaded until you access the children collection explicitly.</li>\n</ul>\n<ol start=\"3\">\n<li>Transaction Boundaries: If you are working with detached entities and there is a transaction boundary between fetching the parent entity and accessing its children collection, lazy loading might not work as expected. In the case of findByName, if you access the children collection within the same transaction, it could lead to different results compared to findById.</li>\n</ol>\n<p>To further investigate and ensure consistent behavior, you might consider:</p>\n<ul>\n<li><p>Using fetch joins in your queries (JOIN FETCH) to ensure that child entities are loaded eagerly when needed.</p>\n</li>\n<li><p>Checking the generated SQL queries in your logs to understand how Hibernate is fetching the entities.</p>\n</li>\n<li><p>Ensuring that transactions are managed appropriately, and entities are not detached when you expect them to be managed.</p>\n</li>\n</ul>\n<p>If you provide more details about how you're using these methods in your code and the exact configurations for lazy/eager loading, it might be possible to provide a more specific explanation.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":57,"answer_count":1,"score":1,"last_activity_date":1701336168,"creation_date":1701270147,"last_edit_date":1701336168,"question_id":77572295,"body_markdown":"## General Problem\r\n\r\nWe have two entities, Parent and Child with a one-to-many relationship between them. When updating the Parent we want to update some entries in all related children automatically.\r\n\r\nFor sake of simplicity we are storing the changed property (value) in the child-entity as well.\r\n\r\nThe actual problem involves changing different properties and calculating a new property in the related children based on those changes.\r\n\r\nGetter/Setter ToString... are omitted for simplicity.\r\n\r\n    @Entity\r\n    public class ParentEntity {\r\n      @Id\r\n      @GeneratedValue\r\n      private UUID id;\r\n      private String name;\r\n      private String value;\r\n    \r\n      @OneToMany(mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL)\r\n      private List&lt;ChildEntity&gt; children;\r\n    }\r\n    \r\n    @Entity\r\n    public class ChildEntity {\r\n      \r\n      @Id\r\n      @GeneratedValue\r\n      private UUID id;\r\n    \r\n      @ManyToOne\r\n      @JoinColumn(name=&quot;parent_id&quot;)\r\n      private ParentEntity parent;\r\n    \r\n      private String value;\r\n    }\r\n\r\n## Used Approach - Event-Listener\r\n\r\nSince the changes are done from different services and methods we are looking for a centralized solution, so we decided to use Event-Listeners in the Parent that triggers the update process in all its children.\r\n\r\nOnly additional methods are shown\r\n\r\n    public class ParentEntity {\r\n    \r\n      @PrePersist\r\n      @PreUpdate\r\n      void onUpdate() {\r\n        if (children != null) {\r\n          this.children.forEach(ChildEntity::update)\r\n        }\r\n      }\r\n    }\r\n    \r\n    public class ChildEntity {\r\n      void update() {\r\n        if (parent != null) {\r\n          this.value = parent.getValue();\r\n        }\r\n      }\r\n    }\r\n\r\n## Problem\r\n\r\nThis approach does not always update the child-entity when changing the parent-entity value.\r\n\r\nWe identified multiple factors that influence the outcome\r\n\r\n- @OneToMany annotation on ParentEntity#children with fetch eager/lazy\r\n- Hibernate-Specific annotation @Fetch on ParentEntity#children with JOIN/SELECT/SUBSELECT\r\n- Accessing the children list within the same transaction as the update\r\n- spring specific: use repository findById or custom findByName\r\n\r\nWe also tried @EntityGraph annotations but discarded the approach\r\nsince it would be to access-dependent which negates the &quot;one method&quot; approach.\r\n\r\ncalling the repository-save method within the transaction does not have any effect.\r\n\r\nThis results in the following success/failed matrix&#39;s\r\n\r\nResults success: + failed: -\r\n\r\nChildren list annotated with@OneToMan fetch **LAZY** and @Fetch mode\r\n\r\n|                   | no-annotation | JOIN | SELECT or SUBSELECT |\r\n|-------------------------|---------------|------|-----------------|\r\n| find by id              | -             | +    | -               |\r\n| find by id and access   | +             | +    | +               |\r\n\r\n|                   | no-annotation | JOIN | SELECT or SUBSELECT |\r\n|-------------------------|---------------|------|-----------------|\r\n| find by name            | -             | +    | -                   |\r\n| find by name and access | +             | +    | +                   |\r\n\r\nChildren list annotated with @OneToMan fetch **EAGER** and @Fetch mode\r\n\r\n|                         | no-annotation | JOIN | SELECT or SUBSELECT |\r\n|-------------------------|---------------|------|---------------------|\r\n| find by id              | -             | -    | -                   |\r\n| find by id and access   | -             | -    | +                   \r\n\r\n|                         | no-annotation | JOIN | SELECT or SUBSELECT |\r\n|-------------------------|---------------|------|---------------------|\r\n| find by name            | +             | +    | -                   |\r\n| find by name and access | +             | +    | +                   |\r\n\r\n*Small note: I could not post find by id and find by name as one table - stackoverflow would not permit it*\r\n\r\n## Updating the Parent to trigger the Child update\r\n\r\nIn this small example Program I generate a Fixed set of Parent/Child Entities to reduce overhead.\r\nThe actual Updates are done by calling @Transaction annotated update methods in Spring @Service Beans.\r\n\r\n    public interface ParentRepository extends JpaRepository&lt;ParentEntity, UUID&gt; {\r\n        Optional&lt;ParentEntity&gt; findByName(UUID name);\r\n    }\r\n\r\n    @Service\r\n    @lombok.RequiredArgsConstructor\r\n    public class ParentService {\r\n        private final ParentRepository repository;\r\n\r\n        @Transactional\r\n        public void updateById(UUID id, String value) {\r\n            ParentEntity parent = repository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Unknown Parent&quot;));\r\n            parent.setValue(value);\r\n        }\r\n\r\n        @Transactional\r\n        public long updateByIdAndAccess(UUID id, String value) {\r\n            ParentEntity parent = repository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Unknown Parent&quot;));\r\n            parent.setValue(value);\r\n            return parent.getChildren().size();\r\n        }\r\n\r\n\r\n        @Transactional\r\n        public void updateByName(String name, String value) {\r\n            ParentEntity parent = repository.findByName(name).orElseThrow(() -&gt; new RuntimeException(&quot;Unknown Parent&quot;));\r\n            parent.setValue(value);\r\n        }\r\n\r\n        @Transactional\r\n        public long updateByNameAndAccess(String name, String value) {\r\n            ParentEntity parent = repository.findByName(name).orElseThrow(() -&gt; new RuntimeException(&quot;Unknown Parent&quot;));\r\n            parent.setValue(value);\r\n            return parent.getChildren().size();\r\n        }\r\n    }\r\n\r\n## Real-World Relation\r\n\r\nThe Real-World Application that triggered this Post is a Web-Application with a purchase and support operations for\r\nLicense Entities (the Children) that are handled in Packages (the Parent). The child update mechanism is to calculate \r\nthe as status of the Child (active, expired, canceled ... ) based on properties from the Parent. \r\nThe Parent Entity can be loaded and modified from multiple Services based on different Properties. \r\n\r\nAdditional to custom repository methods, like the example findByName we use the JpaSpecificationExecutor Repository\r\nwith concatenated Specification objects to find the Parent Entities.\r\n\r\nThis method extends the possibilities of the children list being accessed prior to the PostUpdate event. \r\n\r\n\r\n# Open Questions\r\n\r\n- Why do repository calls by findById and findByName have different results?\r\n- Use which combination of Annotations?\r\n- Is there an entirely different approach?\r\n\r\nThe Source-Code and some SpringBootTests with additional log-output can be found at [GitHub](https://github.com/kaihenkel/spring-boot-data-eventlistener-update-problem)","link":"https://stackoverflow.com/questions/77572295/update-related-entity-from-event-listener-callback","title":"Update related entity from event-listener callback","body":"<h2>General Problem</h2>\n<p>We have two entities, Parent and Child with a one-to-many relationship between them. When updating the Parent we want to update some entries in all related children automatically.</p>\n<p>For sake of simplicity we are storing the changed property (value) in the child-entity as well.</p>\n<p>The actual problem involves changing different properties and calculating a new property in the related children based on those changes.</p>\n<p>Getter/Setter ToString... are omitted for simplicity.</p>\n<pre><code>@Entity\npublic class ParentEntity {\n  @Id\n  @GeneratedValue\n  private UUID id;\n  private String name;\n  private String value;\n\n  @OneToMany(mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL)\n  private List&lt;ChildEntity&gt; children;\n}\n\n@Entity\npublic class ChildEntity {\n  \n  @Id\n  @GeneratedValue\n  private UUID id;\n\n  @ManyToOne\n  @JoinColumn(name=&quot;parent_id&quot;)\n  private ParentEntity parent;\n\n  private String value;\n}\n</code></pre>\n<h2>Used Approach - Event-Listener</h2>\n<p>Since the changes are done from different services and methods we are looking for a centralized solution, so we decided to use Event-Listeners in the Parent that triggers the update process in all its children.</p>\n<p>Only additional methods are shown</p>\n<pre><code>public class ParentEntity {\n\n  @PrePersist\n  @PreUpdate\n  void onUpdate() {\n    if (children != null) {\n      this.children.forEach(ChildEntity::update)\n    }\n  }\n}\n\npublic class ChildEntity {\n  void update() {\n    if (parent != null) {\n      this.value = parent.getValue();\n    }\n  }\n}\n</code></pre>\n<h2>Problem</h2>\n<p>This approach does not always update the child-entity when changing the parent-entity value.</p>\n<p>We identified multiple factors that influence the outcome</p>\n<ul>\n<li>@OneToMany annotation on ParentEntity#children with fetch eager/lazy</li>\n<li>Hibernate-Specific annotation @Fetch on ParentEntity#children with JOIN/SELECT/SUBSELECT</li>\n<li>Accessing the children list within the same transaction as the update</li>\n<li>spring specific: use repository findById or custom findByName</li>\n</ul>\n<p>We also tried @EntityGraph annotations but discarded the approach\nsince it would be to access-dependent which negates the &quot;one method&quot; approach.</p>\n<p>calling the repository-save method within the transaction does not have any effect.</p>\n<p>This results in the following success/failed matrix's</p>\n<p>Results success: + failed: -</p>\n<p>Children list annotated with@OneToMan fetch <strong>LAZY</strong> and @Fetch mode</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th>no-annotation</th>\n<th>JOIN</th>\n<th>SELECT or SUBSELECT</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>find by id</td>\n<td>-</td>\n<td>+</td>\n<td>-</td>\n</tr>\n<tr>\n<td>find by id and access</td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n</tr>\n</tbody>\n</table>\n</div><div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th>no-annotation</th>\n<th>JOIN</th>\n<th>SELECT or SUBSELECT</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>find by name</td>\n<td>-</td>\n<td>+</td>\n<td>-</td>\n</tr>\n<tr>\n<td>find by name and access</td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Children list annotated with @OneToMan fetch <strong>EAGER</strong> and @Fetch mode</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th>no-annotation</th>\n<th>JOIN</th>\n<th>SELECT or SUBSELECT</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>find by id</td>\n<td>-</td>\n<td>-</td>\n<td>-</td>\n</tr>\n<tr>\n<td>find by id and access</td>\n<td>-</td>\n<td>-</td>\n<td>+</td>\n</tr>\n</tbody>\n</table>\n</div><div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th>no-annotation</th>\n<th>JOIN</th>\n<th>SELECT or SUBSELECT</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>find by name</td>\n<td>+</td>\n<td>+</td>\n<td>-</td>\n</tr>\n<tr>\n<td>find by name and access</td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><em>Small note: I could not post find by id and find by name as one table - stackoverflow would not permit it</em></p>\n<h2>Updating the Parent to trigger the Child update</h2>\n<p>In this small example Program I generate a Fixed set of Parent/Child Entities to reduce overhead.\nThe actual Updates are done by calling @Transaction annotated update methods in Spring @Service Beans.</p>\n<pre><code>public interface ParentRepository extends JpaRepository&lt;ParentEntity, UUID&gt; {\n    Optional&lt;ParentEntity&gt; findByName(UUID name);\n}\n\n@Service\n@lombok.RequiredArgsConstructor\npublic class ParentService {\n    private final ParentRepository repository;\n\n    @Transactional\n    public void updateById(UUID id, String value) {\n        ParentEntity parent = repository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Unknown Parent&quot;));\n        parent.setValue(value);\n    }\n\n    @Transactional\n    public long updateByIdAndAccess(UUID id, String value) {\n        ParentEntity parent = repository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Unknown Parent&quot;));\n        parent.setValue(value);\n        return parent.getChildren().size();\n    }\n\n\n    @Transactional\n    public void updateByName(String name, String value) {\n        ParentEntity parent = repository.findByName(name).orElseThrow(() -&gt; new RuntimeException(&quot;Unknown Parent&quot;));\n        parent.setValue(value);\n    }\n\n    @Transactional\n    public long updateByNameAndAccess(String name, String value) {\n        ParentEntity parent = repository.findByName(name).orElseThrow(() -&gt; new RuntimeException(&quot;Unknown Parent&quot;));\n        parent.setValue(value);\n        return parent.getChildren().size();\n    }\n}\n</code></pre>\n<h2>Real-World Relation</h2>\n<p>The Real-World Application that triggered this Post is a Web-Application with a purchase and support operations for\nLicense Entities (the Children) that are handled in Packages (the Parent). The child update mechanism is to calculate\nthe as status of the Child (active, expired, canceled ... ) based on properties from the Parent.\nThe Parent Entity can be loaded and modified from multiple Services based on different Properties.</p>\n<p>Additional to custom repository methods, like the example findByName we use the JpaSpecificationExecutor Repository\nwith concatenated Specification objects to find the Parent Entities.</p>\n<p>This method extends the possibilities of the children list being accessed prior to the PostUpdate event.</p>\n<h1>Open Questions</h1>\n<ul>\n<li>Why do repository calls by findById and findByName have different results?</li>\n<li>Use which combination of Annotations?</li>\n<li>Is there an entirely different approach?</li>\n</ul>\n<p>The Source-Code and some SpringBootTests with additional log-output can be found at <a href=\"https://github.com/kaihenkel/spring-boot-data-eventlistener-update-problem\" rel=\"nofollow noreferrer\">GitHub</a></p>\n"},{"tags":["java","android","kotlin","android-permissions","application-lifecycle"],"comments":[{"score":0,"post_type":"question","creation_date":1701336140,"post_id":77577213,"comment_id":136763757,"body_markdown":"Changing permissions for an app will kill/restart it. Why do you want to detect when this happens?","link":"https://stackoverflow.com/questions/77577213/application-is-reboot-when-revoking-application-permissions#comment136763757_77577213","body":"Changing permissions for an app will kill/restart it. Why do you want to detect when this happens?"},{"score":0,"post_type":"question","creation_date":1701336832,"post_id":77577213,"comment_id":136763890,"body_markdown":"i have a few config in Splash screen but when Application restart It doesn&#39;t run into splash screen, it runs into activity, it opens settings. I want to know that event to reopen the Splash screen.","link":"https://stackoverflow.com/questions/77577213/application-is-reboot-when-revoking-application-permissions#comment136763890_77577213","body":"i have a few config in Splash screen but when Application restart It doesn&#39;t run into splash screen, it runs into activity, it opens settings. I want to know that event to reopen the Splash screen."},{"score":0,"post_type":"question","creation_date":1701424464,"post_id":77577213,"comment_id":136776543,"body_markdown":"I see. Does this answer your question? [Force application to restart from first Activity (when a permission is denied)](https://stackoverflow.com/questions/39204052/force-application-to-restart-from-first-activity-when-a-permission-is-denied)","link":"https://stackoverflow.com/questions/77577213/application-is-reboot-when-revoking-application-permissions#comment136776543_77577213","body":"I see. Does this answer your question? <a href=\"https://stackoverflow.com/questions/39204052/force-application-to-restart-from-first-activity-when-a-permission-is-denied\">Force application to restart from first Activity (when a permission is denied)</a>"}],"comment_count":3,"is_answered":false,"view_count":32,"answer_count":0,"score":0,"last_activity_date":1701335891,"creation_date":1701335891,"question_id":77577213,"body_markdown":"When I open settings from within the app and then cancel permission, the app reboots. How can I detect when the app is rebooted?","link":"https://stackoverflow.com/questions/77577213/application-is-reboot-when-revoking-application-permissions","title":"Application is reboot when revoking application permissions","body":"<p>When I open settings from within the app and then cancel permission, the app reboots. How can I detect when the app is rebooted?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"score":1,"post_type":"question","creation_date":1701340025,"post_id":77577202,"comment_id":136764463,"body_markdown":"Your filter breaks proper flow. You should call `filterChain.doFilter(request, response)` else processing will stop. Also you sholdn&#39;t be writing to the response just continue processing. This doesn&#39;t look like Spring Security 3 either rather Spring Security 6 which is used by Spring Boot 3.x.","link":"https://stackoverflow.com/questions/77577202/gateway-module-my-security-config-not-working-spring-security#comment136764463_77577202","body":"Your filter breaks proper flow. You should call <code>filterChain.doFilter(request, response)</code> else processing will stop. Also you sholdn&#39;t be writing to the response just continue processing. This doesn&#39;t look like Spring Security 3 either rather Spring Security 6 which is used by Spring Boot 3.x."},{"score":0,"post_type":"question","creation_date":1701403747,"post_id":77577202,"comment_id":136774135,"body_markdown":"My addFilterAfter returned 403 Forbidden error is authenticated","link":"https://stackoverflow.com/questions/77577202/gateway-module-my-security-config-not-working-spring-security#comment136774135_77577202","body":"My addFilterAfter returned 403 Forbidden error is authenticated"},{"score":0,"post_type":"question","creation_date":1701434218,"post_id":77577202,"comment_id":136778073,"body_markdown":"Yes or destroy the flow by doing nothing. There is no else/default behavior so it will stop processing.","link":"https://stackoverflow.com/questions/77577202/gateway-module-my-security-config-not-working-spring-security#comment136778073_77577202","body":"Yes or destroy the flow by doing nothing. There is no else/default behavior so it will stop processing."}],"comment_count":3,"is_answered":false,"view_count":23,"answer_count":0,"score":-2,"last_activity_date":1701335775,"creation_date":1701335775,"question_id":77577202,"body_markdown":"Hi everyone my code block problems Spring security 3.0 \r\n\r\nSpring Secuirty Config class\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity\r\n    public class GatewaySecurityConfig {\r\n    \r\n        private final AuthenticationService authenticationService;\r\n    \r\n        public GatewaySecurityConfig(AuthenticationService authenticationService) {\r\n            this.authenticationService = authenticationService;\r\n        }\r\n    \r\n        private static final String[] WHITE_LIST_URL = {\r\n                &quot;/auth/**&quot;,\r\n                &quot;/v2/api-docs&quot;,\r\n                &quot;/v3/api-docs&quot;,\r\n                &quot;/v3/api-docs/**&quot;,\r\n                &quot;/swagger-resources&quot;,\r\n                &quot;/swagger-resources/**&quot;,\r\n                &quot;/configuration/ui&quot;,\r\n                &quot;/configuration/security&quot;,\r\n                &quot;/swagger-ui/**&quot;,\r\n                &quot;/webjars/**&quot;,\r\n                &quot;/swagger-ui.html&quot;};\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf(AbstractHttpConfigurer::disable)\r\n                    .authorizeHttpRequests(req -&gt;\r\n                            req.requestMatchers(WHITE_LIST_URL)\r\n                                    .permitAll()\r\n                                    .requestMatchers(GET, &quot;/restaurant/**&quot;,&quot;/filter/**&quot;, &quot;/cuisine/**&quot;, &quot;/feature/**&quot;)\r\n                                    .permitAll()\r\n                                    .anyRequest()\r\n                                    .authenticated()\r\n                    )\r\n                    .addFilterAfter(new CustomAuthenticationFilter(authenticationService), BasicAuthenticationFilter.class);\r\n            return http.build();\r\n        }\r\n    }\r\n\r\n\r\nThis class call my aunthenticated url check authorize and call other module and returned message \r\n\r\n    public class CustomAuthenticationFilter extends OncePerRequestFilter {\r\n    \r\n        private final AuthenticationService authenticationService;\r\n    \r\n        public CustomAuthenticationFilter(AuthenticationService authenticationService) {\r\n            this.authenticationService = authenticationService;\r\n        }\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            String token = extractToken(request);\r\n            if (token != null) {\r\n                AuthorizeResponseDto authorizeResponseDto = authenticationService.validateAccess(token);\r\n                response.setStatus(authorizeResponseDto.getIsAuthorize() ? HttpServletResponse.SC_ACCEPTED : HttpServletResponse.SC_UNAUTHORIZED);\r\n                response.getWriter().println(authorizeResponseDto.getIsAuthorize());\r\n            }\r\n        }\r\n    \r\n        private String extractToken(HttpServletRequest request) {\r\n            final String authorizationHeader = request.getHeader(&quot;Authorization&quot;);\r\n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n                return authorizationHeader.substring(7);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n**I have set permitAll to my white list. But when I send request to the url in white list it gives me 403 forbidden. What can be the reason?**","link":"https://stackoverflow.com/questions/77577202/gateway-module-my-security-config-not-working-spring-security","title":"Gateway Module my security config not working spring security","body":"<p>Hi everyone my code block problems Spring security 3.0</p>\n<p>Spring Secuirty Config class</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class GatewaySecurityConfig {\n\n    private final AuthenticationService authenticationService;\n\n    public GatewaySecurityConfig(AuthenticationService authenticationService) {\n        this.authenticationService = authenticationService;\n    }\n\n    private static final String[] WHITE_LIST_URL = {\n            &quot;/auth/**&quot;,\n            &quot;/v2/api-docs&quot;,\n            &quot;/v3/api-docs&quot;,\n            &quot;/v3/api-docs/**&quot;,\n            &quot;/swagger-resources&quot;,\n            &quot;/swagger-resources/**&quot;,\n            &quot;/configuration/ui&quot;,\n            &quot;/configuration/security&quot;,\n            &quot;/swagger-ui/**&quot;,\n            &quot;/webjars/**&quot;,\n            &quot;/swagger-ui.html&quot;};\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(req -&gt;\n                        req.requestMatchers(WHITE_LIST_URL)\n                                .permitAll()\n                                .requestMatchers(GET, &quot;/restaurant/**&quot;,&quot;/filter/**&quot;, &quot;/cuisine/**&quot;, &quot;/feature/**&quot;)\n                                .permitAll()\n                                .anyRequest()\n                                .authenticated()\n                )\n                .addFilterAfter(new CustomAuthenticationFilter(authenticationService), BasicAuthenticationFilter.class);\n        return http.build();\n    }\n}\n</code></pre>\n<p>This class call my aunthenticated url check authorize and call other module and returned message</p>\n<pre><code>public class CustomAuthenticationFilter extends OncePerRequestFilter {\n\n    private final AuthenticationService authenticationService;\n\n    public CustomAuthenticationFilter(AuthenticationService authenticationService) {\n        this.authenticationService = authenticationService;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String token = extractToken(request);\n        if (token != null) {\n            AuthorizeResponseDto authorizeResponseDto = authenticationService.validateAccess(token);\n            response.setStatus(authorizeResponseDto.getIsAuthorize() ? HttpServletResponse.SC_ACCEPTED : HttpServletResponse.SC_UNAUTHORIZED);\n            response.getWriter().println(authorizeResponseDto.getIsAuthorize());\n        }\n    }\n\n    private String extractToken(HttpServletRequest request) {\n        final String authorizationHeader = request.getHeader(&quot;Authorization&quot;);\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n            return authorizationHeader.substring(7);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p><strong>I have set permitAll to my white list. But when I send request to the url in white list it gives me 403 forbidden. What can be the reason?</strong></p>\n"},{"tags":["java","spring-boot"],"comments":[{"score":2,"post_type":"question","creation_date":1701328431,"post_id":77576121,"comment_id":136762646,"body_markdown":"Your (infinite) &quot;Consumer Loop&quot; is not doing anything useful, because you are not doing anything with what&#39;s returned from `buffer.get()`. The rest I didn&#39;t check. Please reduce your code down to the absolute minimum required to demonstrate the problem. ie don&#39;t give us all your code, just the few lines that don&#39;t work.","link":"https://stackoverflow.com/questions/77576121/how-to-get-data-from-the-consumer-loop-to-another-class-in-java#comment136762646_77576121","body":"Your (infinite) &quot;Consumer Loop&quot; is not doing anything useful, because you are not doing anything with what&#39;s returned from <code>buffer.get()</code>. The rest I didn&#39;t check. Please reduce your code down to the absolute minimum required to demonstrate the problem. ie don&#39;t give us all your code, just the few lines that don&#39;t work."},{"score":0,"post_type":"question","creation_date":1701335351,"post_id":77576121,"comment_id":136763598,"body_markdown":"@Bohemian the data which is retuned from &#39;buffer.get()&#39; is supposed to go to the &#39;EmailServices&#39; class and I need help in doing so (i&#39;m new to spring boot) \nI added the code to make it easy for the readers to understand the problem.","link":"https://stackoverflow.com/questions/77576121/how-to-get-data-from-the-consumer-loop-to-another-class-in-java#comment136763598_77576121","body":"@Bohemian the data which is retuned from &#39;buffer.get()&#39; is supposed to go to the &#39;EmailServices&#39; class and I need help in doing so (i&#39;m new to spring boot)  I added the code to make it easy for the readers to understand the problem."}],"comment_count":2,"is_answered":false,"view_count":63,"answer_count":0,"score":0,"last_activity_date":1701335371,"creation_date":1701322554,"last_edit_date":1701335371,"question_id":77576121,"body_markdown":"I am creating a microservice for sending bulk emails. I am getting the user name, email id of the user, the subject and the body of the email, etc through an API. I am using producer &amp; consumer loops and also validating the contents of the API. I need help in getting the verified data from the EmailBuffer class to the EmailServices class where i am sending the email.\r\n\r\nEmailConsumer class\r\n\r\n\r\n```\r\npackage com.webservices.worker;\r\n\r\nimport com.webservices.buffer.EmailBuffer;\r\n\r\npublic class EmailConsumer implements Runnable {\r\n\tprivate EmailBuffer buffer;\r\n\r\n\tpublic EmailConsumer(EmailBuffer buffer) {\r\n\t\tthis.buffer = buffer;\r\n\t}\r\n\t\r\n\t//Consumer Loop\r\n\t@Override\r\n\tpublic void run() {\r\n\t\twhile (true) {\r\n\t\t\ttry {\r\n\t\t\t\tbuffer.get();\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nEmailBuffer class\r\n\r\n```\r\npackage com.webservices.buffer;\r\n\r\nimport java.util.concurrent.LinkedBlockingQueue;\r\nimport com.webservices.model.EmailModel;\r\n\r\n//Shared class used by threads\r\npublic class EmailBuffer&lt;EmailModel&gt; {\r\n\t// LinkedBlockingQueue\r\n\tprivate LinkedBlockingQueue&lt;EmailModel&gt; emailLinkedBlockingQueue = new LinkedBlockingQueue&lt;EmailModel&gt;(1);\r\n\r\n\tpublic void get() {\r\n\t\t// retrieve from LinkedBlockingQueue (take elements from the head of the queue)\r\n\t\t//called by consumer\r\n\t\ttry {\r\n\t\t\tEmailModel emailData = emailLinkedBlockingQueue.take();\r\n\t\t\tSystem.out.println(&quot;Consumer received - &quot; + emailData);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void put(EmailModel user) {\r\n\t\ttry {\r\n\t\t\t//called by producer\r\n\t\t\t// putting in LinkedBlockingQueue (add elements at the tail of the queue)\r\n\t\t\temailLinkedBlockingQueue.put(user);\r\n\t\t\tSystem.out.println(&quot;Producer produced - &quot; + user);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\nEmailServices Class\r\n\r\n```\r\npackage com.webservices.services;\r\n\r\nimport java.util.Properties;\r\nimport java.util.concurrent.LinkedBlockingQueue;\r\nimport java.util.concurrent.ThreadPoolExecutor;\r\nimport java.util.concurrent.TimeUnit;\r\nimport javax.mail.Message;\r\nimport javax.mail.PasswordAuthentication;\r\nimport javax.mail.Session;\r\nimport javax.mail.Transport;\r\nimport javax.mail.internet.InternetAddress;\r\nimport javax.mail.internet.MimeMessage;\r\n\r\n//blueprint for creating thread\r\npublic class EmailServices implements Runnable {\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tSystem.out.println(&quot;Preparing to send the email&quot;);\r\n\t\tString recipient = &quot;abc@gmail&quot;;\r\n\t\tString subject = &quot;Welcome message&quot;;\r\n\t\tString message = &quot;Hello,\\nThis email has been sent using JavaMail Api. \\nRegards \\nBackend.&quot;;\r\n\t\t\r\n\t\tsendEmail(recipient,subject,message);\r\n\t}\r\n\t\r\n\tpublic static void sendEmail(String recipient, String subject, String message) {\r\n\t\t\r\n\t     //email ID of  Sender\r\n\t     String sender = &quot;xyz@gmail.com&quot;; \r\n\r\n\t     //using host as localhost\r\n\t     String smtpHost = &quot;127.0.0.0&quot;;\r\n\t     int smtpPort = 587; \r\n\t\t\r\n\t     //Getting system properties \r\n\t     Properties properties = System.getProperties(); \r\n\t     System.out.println(&quot;Properties:&quot; + properties);\r\n\t  \r\n\t     //Setting up mail server \r\n\t     properties.put(&quot;mail.smtp.host&quot;, smtpHost); \r\n\t     properties.put(&quot;mail.smtp.port&quot;, smtpPort); \r\n\t     properties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\t     properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\t     properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t     properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\t  \r\n\t     //creating session object to get properties \r\n\t     Session session = Session.getInstance(properties,\r\n\t   \t\t  new javax.mail.Authenticator() {\r\n\t    \t @Override\r\n\t          protected PasswordAuthentication getPasswordAuthentication()\r\n\t          {\r\n\t              return new PasswordAuthentication(sender,&quot;*****&quot;);\r\n\t          }\r\n\t      });\r\n\t      \r\n\t      session.setDebug(true);\r\n\t      \r\n\t      try {\r\n\t    \t  \r\n\t    \t  //Compose the message\r\n\t\t      MimeMessage msg = new MimeMessage(session);\r\n\t\t      \r\n\t    \t  //from message\r\n\t    \t  msg.setFrom(new InternetAddress(recipient));\r\n\t    \t  \r\n\t    \t  //adding recipient to the message\r\n\t    \t  msg.addRecipient(Message.RecipientType.TO, new InternetAddress(recipient)); \r\n\t    \t  \r\n\t    \t  //adding subject\r\n\t    \t  msg.setSubject(subject);\r\n\t    \t  \r\n\t    \t  //adding text to message\r\n\t    \t  msg.setText(message);\r\n\t    \t  \r\n\t    \t  //sending the message\r\n\t    \t  Transport.send(msg);\r\n\t    \t  \r\n\t    \t  System.out.println(&quot;Email sent successfully&quot;); \r\n\t    \t  \r\n\t      } catch(Exception e) {\r\n\t    \t  e.printStackTrace();\r\n\t      }\r\n\t}\r\n\t\r\n\tpublic static void main(String args []) {\r\n\t\t//create object of Email class\r\n\t\tEmailServices em = new EmailServices();\r\n\t\t//Create object of helper class and pass the reference for our thread class Email inside it\r\n\t\tThread th = new Thread(em);\r\n\t\t//start the thread with the help of helper class Thread\r\n\t\tth.start();\r\n\t\t\r\n\t\tLinkedBlockingQueue&lt;Runnable&gt; lbq = new LinkedBlockingQueue&lt;Runnable&gt;();\r\n\t\tThreadPoolExecutor executor = new ThreadPoolExecutor(10, 20, 5, TimeUnit.SECONDS, lbq, new ThreadPoolExecutor.AbortPolicy());\r\n\t\t\r\n        // Let start all core threads initially\r\n        executor.prestartAllCoreThreads();\r\n        executor.submit(new EmailServices());\r\n        executor.shutdown();\r\n\t    }\r\n}\r\n\r\n\r\n```\r\n\r\nI want to retrieve emailData in get() method of EmailBuffer class in EmailServices class so that i can use the verified values (email id, subject, body) to send mails. If there is another better way of implementing this then please let me know. Thank you!","link":"https://stackoverflow.com/questions/77576121/how-to-get-data-from-the-consumer-loop-to-another-class-in-java","title":"How to get data from the consumer loop to another class in Java","body":"<p>I am creating a microservice for sending bulk emails. I am getting the user name, email id of the user, the subject and the body of the email, etc through an API. I am using producer &amp; consumer loops and also validating the contents of the API. I need help in getting the verified data from the EmailBuffer class to the EmailServices class where i am sending the email.</p>\n<p>EmailConsumer class</p>\n<pre><code>package com.webservices.worker;\n\nimport com.webservices.buffer.EmailBuffer;\n\npublic class EmailConsumer implements Runnable {\n    private EmailBuffer buffer;\n\n    public EmailConsumer(EmailBuffer buffer) {\n        this.buffer = buffer;\n    }\n    \n    //Consumer Loop\n    @Override\n    public void run() {\n        while (true) {\n            try {\n                buffer.get();\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>EmailBuffer class</p>\n<pre><code>package com.webservices.buffer;\n\nimport java.util.concurrent.LinkedBlockingQueue;\nimport com.webservices.model.EmailModel;\n\n//Shared class used by threads\npublic class EmailBuffer&lt;EmailModel&gt; {\n    // LinkedBlockingQueue\n    private LinkedBlockingQueue&lt;EmailModel&gt; emailLinkedBlockingQueue = new LinkedBlockingQueue&lt;EmailModel&gt;(1);\n\n    public void get() {\n        // retrieve from LinkedBlockingQueue (take elements from the head of the queue)\n        //called by consumer\n        try {\n            EmailModel emailData = emailLinkedBlockingQueue.take();\n            System.out.println(&quot;Consumer received - &quot; + emailData);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void put(EmailModel user) {\n        try {\n            //called by producer\n            // putting in LinkedBlockingQueue (add elements at the tail of the queue)\n            emailLinkedBlockingQueue.put(user);\n            System.out.println(&quot;Producer produced - &quot; + user);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>EmailServices Class</p>\n<pre><code>package com.webservices.services;\n\nimport java.util.Properties;\nimport java.util.concurrent.LinkedBlockingQueue;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\nimport javax.mail.Message;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\n//blueprint for creating thread\npublic class EmailServices implements Runnable {\n    @Override\n    public void run() {\n        System.out.println(&quot;Preparing to send the email&quot;);\n        String recipient = &quot;abc@gmail&quot;;\n        String subject = &quot;Welcome message&quot;;\n        String message = &quot;Hello,\\nThis email has been sent using JavaMail Api. \\nRegards \\nBackend.&quot;;\n        \n        sendEmail(recipient,subject,message);\n    }\n    \n    public static void sendEmail(String recipient, String subject, String message) {\n        \n         //email ID of  Sender\n         String sender = &quot;xyz@gmail.com&quot;; \n\n         //using host as localhost\n         String smtpHost = &quot;127.0.0.0&quot;;\n         int smtpPort = 587; \n        \n         //Getting system properties \n         Properties properties = System.getProperties(); \n         System.out.println(&quot;Properties:&quot; + properties);\n      \n         //Setting up mail server \n         properties.put(&quot;mail.smtp.host&quot;, smtpHost); \n         properties.put(&quot;mail.smtp.port&quot;, smtpPort); \n         properties.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n         properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n         properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n         properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\n      \n         //creating session object to get properties \n         Session session = Session.getInstance(properties,\n              new javax.mail.Authenticator() {\n             @Override\n              protected PasswordAuthentication getPasswordAuthentication()\n              {\n                  return new PasswordAuthentication(sender,&quot;*****&quot;);\n              }\n          });\n          \n          session.setDebug(true);\n          \n          try {\n              \n              //Compose the message\n              MimeMessage msg = new MimeMessage(session);\n              \n              //from message\n              msg.setFrom(new InternetAddress(recipient));\n              \n              //adding recipient to the message\n              msg.addRecipient(Message.RecipientType.TO, new InternetAddress(recipient)); \n              \n              //adding subject\n              msg.setSubject(subject);\n              \n              //adding text to message\n              msg.setText(message);\n              \n              //sending the message\n              Transport.send(msg);\n              \n              System.out.println(&quot;Email sent successfully&quot;); \n              \n          } catch(Exception e) {\n              e.printStackTrace();\n          }\n    }\n    \n    public static void main(String args []) {\n        //create object of Email class\n        EmailServices em = new EmailServices();\n        //Create object of helper class and pass the reference for our thread class Email inside it\n        Thread th = new Thread(em);\n        //start the thread with the help of helper class Thread\n        th.start();\n        \n        LinkedBlockingQueue&lt;Runnable&gt; lbq = new LinkedBlockingQueue&lt;Runnable&gt;();\n        ThreadPoolExecutor executor = new ThreadPoolExecutor(10, 20, 5, TimeUnit.SECONDS, lbq, new ThreadPoolExecutor.AbortPolicy());\n        \n        // Let start all core threads initially\n        executor.prestartAllCoreThreads();\n        executor.submit(new EmailServices());\n        executor.shutdown();\n        }\n}\n\n\n</code></pre>\n<p>I want to retrieve emailData in get() method of EmailBuffer class in EmailServices class so that i can use the verified values (email id, subject, body) to send mails. If there is another better way of implementing this then please let me know. Thank you!</p>\n"},{"tags":["java","spring","rest"],"comments":[{"score":0,"post_type":"question","creation_date":1701336632,"post_id":77577097,"comment_id":136763853,"body_markdown":"DOn&#39;t. Just put it in the method. If for some reason the wrong setup is used you endup using some one elses request instead of the actual one.","link":"https://stackoverflow.com/questions/77577097/is-it-advisable-to-autowire-httpservletrequest#comment136763853_77577097","body":"DOn&#39;t. Just put it in the method. If for some reason the wrong setup is used you endup using some one elses request instead of the actual one."},{"score":0,"post_type":"question","creation_date":1701340356,"post_id":77577097,"comment_id":136764526,"body_markdown":"Yeah, using the wrong request in one of the reasons why I&#39;m hesitant on that approach. Previously we did override one or two mustache templates and that was a pain too, so I&#39;m hesitant to do that again.","link":"https://stackoverflow.com/questions/77577097/is-it-advisable-to-autowire-httpservletrequest#comment136764526_77577097","body":"Yeah, using the wrong request in one of the reasons why I&#39;m hesitant on that approach. Previously we did override one or two mustache templates and that was a pain too, so I&#39;m hesitant to do that again."},{"score":0,"post_type":"question","creation_date":1701341223,"post_id":77577097,"comment_id":136764675,"body_markdown":"Injecting them should work fine, you should get a proxy. Until you don&#39;t get that proxy and then you get some weird results.","link":"https://stackoverflow.com/questions/77577097/is-it-advisable-to-autowire-httpservletrequest#comment136764675_77577097","body":"Injecting them should work fine, you should get a proxy. Until you don&#39;t get that proxy and then you get some weird results."}],"comment_count":3,"is_answered":false,"view_count":31,"answer_count":0,"score":0,"last_activity_date":1701334735,"creation_date":1701334735,"question_id":77577097,"body_markdown":"For my REST API I generate controller interfaces from OpenAPI specification files using the openapi-generator-maven-plugin. Now I need access to the request. Previously when I wrote my controllers by hand I got the request as an input parameter.\r\n```java\r\n@GetMapping(&quot;/example&quot;)\r\npublic exampleEndpoint(HttpServletRequest request) {\r\n  // Implementation omitted\r\n}\r\n```\r\nIt seems to be possible to add this to the generated interface by using an extension and changing the mustache templates. Overriding the mustache template decreases maintainability, updating the openapi-generator-maven-plugin version will be more work. Besides using the request in the controller is an implementation detail, I prefer to not have it in my API contract.\r\n\r\nAnother suggestion that I&#39;ve come across is autowiring the request. I prefer that solution, but I&#39;m wondering if it is technically sound. Is it a valid solution or will I encounter problems when I do that?","link":"https://stackoverflow.com/questions/77577097/is-it-advisable-to-autowire-httpservletrequest","title":"Is it advisable to autowire HttpServletRequest?","body":"<p>For my REST API I generate controller interfaces from OpenAPI specification files using the openapi-generator-maven-plugin. Now I need access to the request. Previously when I wrote my controllers by hand I got the request as an input parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/example&quot;)\npublic exampleEndpoint(HttpServletRequest request) {\n  // Implementation omitted\n}\n</code></pre>\n<p>It seems to be possible to add this to the generated interface by using an extension and changing the mustache templates. Overriding the mustache template decreases maintainability, updating the openapi-generator-maven-plugin version will be more work. Besides using the request in the controller is an implementation detail, I prefer to not have it in my API contract.</p>\n<p>Another suggestion that I've come across is autowiring the request. I prefer that solution, but I'm wondering if it is technically sound. Is it a valid solution or will I encounter problems when I do that?</p>\n"},{"tags":["java","android","mobile"],"comments":[{"score":0,"post_type":"question","creation_date":1701334464,"post_id":77577027,"comment_id":136763453,"body_markdown":"If dodgy apps and bloatware could do this, your call log app would already look like [early 2000s browser toolbar nightmare](https://www.reddit.com/r/nostalgia/comments/xbehqk/2000s_internet_explorer_spyware_toolbars/).","link":"https://stackoverflow.com/questions/77577027/add-a-custom-button-in-call-history-in-android#comment136763453_77577027","body":"If dodgy apps and bloatware could do this, your call log app would already look like <a href=\"https://www.reddit.com/r/nostalgia/comments/xbehqk/2000s_internet_explorer_spyware_toolbars/\" rel=\"nofollow noreferrer\">early 2000s browser toolbar nightmare</a>."},{"score":0,"post_type":"question","creation_date":1701334600,"post_id":77577027,"comment_id":136763471,"body_markdown":"@teapot418 I don&#39;t understand. I dont want to build a seperate call log app.","link":"https://stackoverflow.com/questions/77577027/add-a-custom-button-in-call-history-in-android#comment136763471_77577027","body":"@teapot418 I don&#39;t understand. I dont want to build a seperate call log app."},{"score":0,"post_type":"question","creation_date":1701335023,"post_id":77577027,"comment_id":136763548,"body_markdown":"My point was that this ability would be too attractive to advertisers and such. If your call app does not have a million buttons, that is a sign that no one can do this. If you want to build a mutant call log app, you don&#39;t have to start from scratch, the default one is available including source code as part of AOSP.","link":"https://stackoverflow.com/questions/77577027/add-a-custom-button-in-call-history-in-android#comment136763548_77577027","body":"My point was that this ability would be too attractive to advertisers and such. If your call app does not have a million buttons, that is a sign that no one can do this. If you want to build a mutant call log app, you don&#39;t have to start from scratch, the default one is available including source code as part of AOSP."},{"score":0,"post_type":"question","creation_date":1701335752,"post_id":77577027,"comment_id":136763677,"body_markdown":"@teapot418, it&#39;s just that this is a requirement that has come up. In fact in Ios, truecaller app has the capability to write small texts in call history app.","link":"https://stackoverflow.com/questions/77577027/add-a-custom-button-in-call-history-in-android#comment136763677_77577027","body":"@teapot418, it&#39;s just that this is a requirement that has come up. In fact in Ios, truecaller app has the capability to write small texts in call history app."}],"comment_count":4,"is_answered":false,"view_count":30,"answer_count":0,"score":0,"last_activity_date":1701334039,"creation_date":1701334039,"question_id":77577027,"body_markdown":"My requirement is in the title. I want add a button in the default call log app in `Android`. Clicking the button would open my app with the call content copied. Is this even possible to do? [How do I make the native address book display an option to call via MY_APPLICATION][1] this link discuss how to do this in contact app. I am asking if this is possible in call history app. Surfing the internet suggets that this is not possible, unless one changes the firmware. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35042912/how-do-i-make-the-native-address-book-display-an-option-to-call-via-my-applicati","link":"https://stackoverflow.com/questions/77577027/add-a-custom-button-in-call-history-in-android","title":"Add a custom button in call history in Android","body":"<p>My requirement is in the title. I want add a button in the default call log app in <code>Android</code>. Clicking the button would open my app with the call content copied. Is this even possible to do? <a href=\"https://stackoverflow.com/questions/35042912/how-do-i-make-the-native-address-book-display-an-option-to-call-via-my-applicati\">How do I make the native address book display an option to call via MY_APPLICATION</a> this link discuss how to do this in contact app. I am asking if this is possible in call history app. Surfing the internet suggets that this is not possible, unless one changes the firmware.</p>\n"},{"tags":["java","postgresql","apache-kafka","concurrency","high-load"],"comments":[{"score":0,"post_type":"question","creation_date":1701479403,"post_id":77576872,"comment_id":136784814,"body_markdown":"You&#39;re not using Debezium to get data from the database to Kafka? In general, the answer is CDC, Event Sourcing, and CQRS designs.","link":"https://stackoverflow.com/questions/77576872/high-load-real-time-get-sql-message-and-send-it-to-the-kafka-broker-what-archi#comment136784814_77576872","body":"You&#39;re not using Debezium to get data from the database to Kafka? In general, the answer is CDC, Event Sourcing, and CQRS designs."}],"comment_count":1,"is_answered":false,"view_count":37,"answer_count":0,"score":0,"last_activity_date":1701332422,"creation_date":1701332422,"question_id":77576872,"body_markdown":"I need to make a simple Spring Boot stream Java application that selects messages from a table in the database and sends them to a Kafka topic. And on success - deleting messages from PostgreSQL:\r\n[![enter image description here][1]][1]\r\nThe main problem is the **high load**: the number of incoming messages can be more than 50 million. It must be sent in real-time. I’m thinking about multithreading and, understand that selecting/deleting rows from the database in concurrency threads will compete, and create locks.\r\n\r\n**My idea is to have**: INPUT: 1 thread reading/deleting rows in the database and OUTPUT: many concurrent threads for sending messages from it to a queue.\r\n\r\nI haven&#39;t done any measurements, but I expect that sending N-messages to the queue takes longer than reading and deleting N-rows from the database table. Is this true?\r\n\r\nIn other words: what is faster under high load: the execution time of an SQL query or the time of sending a message to the broker?\r\n\r\nIf the timings for get data from SQL and sending it to Kafka are similar, It makes sense to read data in several threads: \r\nPostgreSQL from 9.5 incorporates SELECT ... FOR UPDATE ... SKIP LOCKED. This makes implementing working queuing systems a lot simpler and easier. Now simple to fetch &#39;n&#39; rows that no other session has locked, and keep them locked until we commit confirmation that the work is done.\r\n\r\n  [1]: https://i.stack.imgur.com/4WM2u.png","link":"https://stackoverflow.com/questions/77576872/high-load-real-time-get-sql-message-and-send-it-to-the-kafka-broker-what-archi","title":"High load: real-time get SQL message and send it to the Kafka broker. What architectural pattern is suitable here?","body":"<p>I need to make a simple Spring Boot stream Java application that selects messages from a table in the database and sends them to a Kafka topic. And on success - deleting messages from PostgreSQL:\n<a href=\"https://i.stack.imgur.com/4WM2u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4WM2u.png\" alt=\"enter image description here\" /></a>\nThe main problem is the <strong>high load</strong>: the number of incoming messages can be more than 50 million. It must be sent in real-time. I’m thinking about multithreading and, understand that selecting/deleting rows from the database in concurrency threads will compete, and create locks.</p>\n<p><strong>My idea is to have</strong>: INPUT: 1 thread reading/deleting rows in the database and OUTPUT: many concurrent threads for sending messages from it to a queue.</p>\n<p>I haven't done any measurements, but I expect that sending N-messages to the queue takes longer than reading and deleting N-rows from the database table. Is this true?</p>\n<p>In other words: what is faster under high load: the execution time of an SQL query or the time of sending a message to the broker?</p>\n<p>If the timings for get data from SQL and sending it to Kafka are similar, It makes sense to read data in several threads:\nPostgreSQL from 9.5 incorporates SELECT ... FOR UPDATE ... SKIP LOCKED. This makes implementing working queuing systems a lot simpler and easier. Now simple to fetch 'n' rows that no other session has locked, and keep them locked until we commit confirmation that the work is done.</p>\n"},{"tags":["java"],"comments":[{"score":1,"post_type":"question","creation_date":1701277059,"post_id":77573077,"comment_id":136756691,"body_markdown":"what do you mean as &quot;memory location&quot;, in java you usually don&#39;t have access to raw memory","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136756691_77573077","body":"what do you mean as &quot;memory location&quot;, in java you usually don&#39;t have access to raw memory"},{"score":1,"post_type":"question","creation_date":1701277219,"post_id":77573077,"comment_id":136756720,"body_markdown":"like [this](https://www.baeldung.com/java-object-memory-address)?","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136756720_77573077","body":"like <a href=\"https://www.baeldung.com/java-object-memory-address\" rel=\"nofollow noreferrer\">this</a>?"},{"score":0,"post_type":"question","creation_date":1701277335,"post_id":77573077,"comment_id":136756743,"body_markdown":"Ilya Bursov, I wanted to know if there is any possibility to check the memory location where each string is stored in the memory.","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136756743_77573077","body":"Ilya Bursov, I wanted to know if there is any possibility to check the memory location where each string is stored in the memory."},{"score":0,"post_type":"question","creation_date":1701277339,"post_id":77573077,"comment_id":136756744,"body_markdown":"The difference is that they don&#39;t have anything in common.","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136756744_77573077","body":"The difference is that they don&#39;t have anything in common."},{"score":2,"post_type":"question","creation_date":1701277613,"post_id":77573077,"comment_id":136756791,"body_markdown":"*Why* would you want to know this?","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136756791_77573077","body":"<i>Why</i> would you want to know this?"},{"score":0,"post_type":"question","creation_date":1701277795,"post_id":77573077,"comment_id":136756820,"body_markdown":"Old Dog Programmer, To get a clear picture of where and how memory is allocated and to verify the topics that I am learning through the code.","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136756820_77573077","body":"Old Dog Programmer, To get a clear picture of where and how memory is allocated and to verify the topics that I am learning through the code."},{"score":0,"post_type":"question","creation_date":1701277959,"post_id":77573077,"comment_id":136756856,"body_markdown":"The `.hashCode()`  method is typically overridden to be the result of a calculation based on values of primitive instance variables and the `.hashCode()` of reference instance variables. The calculations typically do not use addresses. So, in general, the value returned by `.hashCode()` and memory location are not related at all.","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136756856_77573077","body":"The <code>.hashCode()</code>  method is typically overridden to be the result of a calculation based on values of primitive instance variables and the <code>.hashCode()</code> of reference instance variables. The calculations typically do not use addresses. So, in general, the value returned by <code>.hashCode()</code> and memory location are not related at all."},{"score":0,"post_type":"question","creation_date":1701278533,"post_id":77573077,"comment_id":136756966,"body_markdown":"You can see the general contract of `.hashCode()` in the `Object#hashCode()` API: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode() . Note the connection between `~.hashCode()` and `~.equals (Object)`: If `~.equals (Object other)` returns `true`, then `this.hashCode()` and `other.hashCode()` should return the same value, even if they are in different locations.","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136756966_77573077","body":"You can see the general contract of <code>.hashCode()</code> in the <code>Object#hashCode()</code> API: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a> . Note the connection between <code>~.hashCode()</code> and <code>~.equals (Object)</code>: If <code>~.equals (Object other)</code> returns <code>true</code>, then <code>this.hashCode()</code> and <code>other.hashCode()</code> should return the same value, even if they are in different locations."},{"score":0,"post_type":"question","creation_date":1701278572,"post_id":77573077,"comment_id":136756973,"body_markdown":"The only case where `.hashCode()` *is* related to the memory address I know of is when `.hashCode()` is *not* overridden.  Even then, to use memory location or not is up to those who create the particular implementation of Java.","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136756973_77573077","body":"The only case where <code>.hashCode()</code> <i>is</i> related to the memory address I know of is when <code>.hashCode()</code> is <i>not</i> overridden.  Even then, to use memory location or not is up to those who create the particular implementation of Java."},{"score":2,"post_type":"question","creation_date":1701279237,"post_id":77573077,"comment_id":136757082,"body_markdown":"and BTW, `String` is one of the classes that overrides `hashCode()` - it is calculated based on the content of the `String` (as proved by output of posted code)","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136757082_77573077","body":"and BTW, <code>String</code> is one of the classes that overrides <code>hashCode()</code> - it is calculated based on the content of the <code>String</code> (as proved by output of posted code)"},{"score":1,"post_type":"question","creation_date":1701279991,"post_id":77573077,"comment_id":136757210,"body_markdown":"@OldDogProgrammer The identity hashcode of a non-overridden hashCode() method likely has nothing to do with memory addresses. In theory it could be implemented that way, but garbage collectors can and do move objects around in memory, so deriving the hashcode from a memory address would either result in an unstable identity hashcode, or in very low entropy of the identity hashcode.","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136757210_77573077","body":"@OldDogProgrammer The identity hashcode of a non-overridden hashCode() method likely has nothing to do with memory addresses. In theory it could be implemented that way, but garbage collectors can and do move objects around in memory, so deriving the hashcode from a memory address would either result in an unstable identity hashcode, or in very low entropy of the identity hashcode."},{"score":0,"post_type":"question","creation_date":1701280614,"post_id":77573077,"comment_id":136757321,"body_markdown":"I&#39;m not sure the memory location matters cos a garbage collector can relocale any object. The default `hashCode` implementation in `Object` class reflects the memory address when the `hashCode` invoked at first time so further invocations returns that first value.\nAlso due to object relocation and hash code caching the different objects might have the same hash code despite it&#39;s impossible having the same memory address at one moment","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136757321_77573077","body":"I&#39;m not sure the memory location matters cos a garbage collector can relocale any object. The default <code>hashCode</code> implementation in <code>Object</code> class reflects the memory address when the <code>hashCode</code> invoked at first time so further invocations returns that first value. Also due to object relocation and hash code caching the different objects might have the same hash code despite it&#39;s impossible having the same memory address at one moment"},{"score":2,"post_type":"question","creation_date":1701280701,"post_id":77573077,"comment_id":136757345,"body_markdown":"@edwgiz The default hashcode in recent Java uses a random number generator, not the memory address.","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136757345_77573077","body":"@edwgiz The default hashcode in recent Java uses a random number generator, not the memory address."},{"score":0,"post_type":"question","creation_date":1701289072,"post_id":77573077,"comment_id":136758669,"body_markdown":"sidenote:  it never was a requirement that &quot;different objects&quot; have different hash code","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136758669_77573077","body":"sidenote:  it never was a requirement that &quot;different objects&quot; have different hash code"},{"score":0,"post_type":"question","creation_date":1701331267,"post_id":77573077,"comment_id":136763004,"body_markdown":"@user85421 But for proper performance of hash-based structures, it is highly recommended (you can configure Java to always use identity hashcode = 1 for every object if you really want to try)","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location#comment136763004_77573077","body":"@user85421 But for proper performance of hash-based structures, it is highly recommended (you can configure Java to always use identity hashcode = 1 for every object if you really want to try)"}],"comment_count":15,"is_answered":false,"view_count":99,"answer_count":0,"score":-2,"last_activity_date":1701331436,"creation_date":1701276554,"last_edit_date":1701276834,"question_id":77573077,"body_markdown":"How to identify which memory location each one refers to?\r\n\r\n*Strings.java* \r\n```\r\npublic class Strings {\r\n\r\n\tpublic static void main(String... strings) {\r\n\t\tString s1 = &quot;Code&quot;;\r\n\t\tString s2 = &quot;Code&quot;;\r\n\t\tString s3 = new String(&quot;Code&quot;);\r\n\t\tString s4 = new String(&quot;Code&quot;);\r\n\t\tStringBuffer s5 = new StringBuffer(&quot;Code&quot;);\r\n\r\n\t\tSystem.out.println(&quot;s1 : &quot; + s1.hashCode());\r\n\t\tSystem.out.println(&quot;s2 : &quot; + s2.hashCode());\r\n\t\tSystem.out.println(&quot;s3 : &quot; + s3.hashCode());\r\n\t\tSystem.out.println(&quot;s4 : &quot; + s4.hashCode());\r\n\t\tSystem.out.println(&quot;S5 : &quot; + s5.hashCode());\r\n\t}\r\n}\r\n```\r\n```\r\nOutput:\r\ns1 : 2105869\r\ns2 : 2105869\r\ns3 : 2105869\r\ns4 : 2105869\r\nS5 : 1365202186\r\n```","link":"https://stackoverflow.com/questions/77573077/difference-between-hashcode-and-memory-location","title":"Difference between HashCode and memory location","body":"<p>How to identify which memory location each one refers to?</p>\n<p><em>Strings.java</em></p>\n<pre><code>public class Strings {\n\n    public static void main(String... strings) {\n        String s1 = &quot;Code&quot;;\n        String s2 = &quot;Code&quot;;\n        String s3 = new String(&quot;Code&quot;);\n        String s4 = new String(&quot;Code&quot;);\n        StringBuffer s5 = new StringBuffer(&quot;Code&quot;);\n\n        System.out.println(&quot;s1 : &quot; + s1.hashCode());\n        System.out.println(&quot;s2 : &quot; + s2.hashCode());\n        System.out.println(&quot;s3 : &quot; + s3.hashCode());\n        System.out.println(&quot;s4 : &quot; + s4.hashCode());\n        System.out.println(&quot;S5 : &quot; + s5.hashCode());\n    }\n}\n</code></pre>\n<pre><code>Output:\ns1 : 2105869\ns2 : 2105869\ns3 : 2105869\ns4 : 2105869\nS5 : 1365202186\n</code></pre>\n"},{"tags":["java","eclipse","user-interface","swt"],"comments":[{"score":0,"post_type":"question","creation_date":1701292419,"post_id":77574002,"comment_id":136759182,"body_markdown":"Does `expandItem.getControl().setBackground(color)` work (see [`Item.getControl()`](https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/ExpandItem.html#getControl%28%29) and [`Control.setBackground(Color color)`](https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/Control.html#setBackground%28org.eclipse.swt.graphics.Color%29)?","link":"https://stackoverflow.com/questions/77574002/set-color-for-swt-expand-bar#comment136759182_77574002","body":"Does <code>expandItem.getControl().setBackground(color)</code> work (see <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/ExpandItem.html#getControl%28%29\" rel=\"nofollow noreferrer\"><code>Item.getControl()</code></a> and <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/Control.html#setBackground%28org.eclipse.swt.graphics.Color%29\" rel=\"nofollow noreferrer\"><code>Control.setBackground(Color color)</code></a>?"},{"score":0,"post_type":"question","creation_date":1701331067,"post_id":77574002,"comment_id":136762975,"body_markdown":"Looking at `ExpandItem.drawItem` it doesn&#39;t support changing the colours.","link":"https://stackoverflow.com/questions/77574002/set-color-for-swt-expand-bar#comment136762975_77574002","body":"Looking at <code>ExpandItem.drawItem</code> it doesn&#39;t support changing the colours."}],"comment_count":2,"is_answered":false,"view_count":43,"answer_count":0,"score":0,"last_activity_date":1701331134,"creation_date":1701285892,"last_edit_date":1701331134,"question_id":77574002,"body_markdown":"I am using expand bar in an eclipse application UI. The default color of expand bar item is light grey and I need to change the background color of expand bar item using SWT java.\r\n\r\nI have tried setting the background color of expand bar, but that&#39;ll change the overall background of expand bar ( dark grey in the image ). And setting the foreground color of expand bar, will change the text color. There is no method to set the background&amp; foreground color of expand bar item.\r\n\r\n\r\n[The color of expand bar is dark grey, which requires no change &amp; the expand bar item is light grey, which needs to be changed.](https://i.stack.imgur.com/jEqWt.png)\r\n\r\nThe code for setting expand bar &amp; it&#39;s item is as follows - \r\n   ```java\r\n    final ExpandBar expandBar = new ExpandBar(iconAndButtonComposite, SWT.V_SCROLL);\r\n\texpandBar.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));\r\n\tColor backgroundColor = parent.getBackground();\r\n\texpandBar.setBackground(backgroundColor);\r\n\r\n\tRGB color = new RGB(0, 114, 118);\r\n\tRGB grayColor = new RGB(230, 230, 230);\r\n\texpandBar.setForeground(new Color(parent.getDisplay(), color)); //This will set text color\r\n\texpandBar.setBackground(new Color(parent.getDisplay(), grayColor));\r\n\t\t\r\n\r\n\tfinal ExpandItem expandItem = new ExpandItem(expandBar, SWT.NONE);\r\n\texpandItem.setText(Constants.ODATAV2_EXPAND_ITEM);\r\n        odataV2Viewer = new SAPEntityViewerPage(odataV2Selection);\r\n\todataV2Viewer.generateCheckBoxViewer(expandBar, expandItem);\r\n\texpandItem.setExpanded(true);\r\n\r\n\tfinal ExpandItem expandItem1 = new ExpandItem(expandBar, SWT.NONE);\r\n\texpandItem1.setText(Constants.ODATAV4_EXPAND_ITEM);\r\n\texpandItem1.setExpanded(false);\r\n\todataV4Viewer = new SAPEntityViewerPage(odataV4Selection);\r\n\todataV4Viewer.generateCheckBoxViewer(expandBar, expandItem1);\r\n\r\n\tfinal ExpandItem expandItem2 = new ExpandItem(expandBar, SWT.NONE);\r\n\texpandItem2.setText(Constants.SOAP_EXPAND_ITEM);\r\n\tsoapViewer = new SAPEntityViewerPage(odataV4Selection);\r\n\tfilePath = soapViewer.generateSoapUploader(expandBar, expandItem2, wsdlFileMap);\r\n```\r\nI&#39;ve tried adding paint listner to expand item, but that didn&#39;t work. Any other way to set the background color of expand bar item ?\r\n","link":"https://stackoverflow.com/questions/77574002/set-color-for-swt-expand-bar","title":"Set color for SWT expand bar","body":"<p>I am using expand bar in an eclipse application UI. The default color of expand bar item is light grey and I need to change the background color of expand bar item using SWT java.</p>\n<p>I have tried setting the background color of expand bar, but that'll change the overall background of expand bar ( dark grey in the image ). And setting the foreground color of expand bar, will change the text color. There is no method to set the background&amp; foreground color of expand bar item.</p>\n<p><a href=\"https://i.stack.imgur.com/jEqWt.png\" rel=\"nofollow noreferrer\">The color of expand bar is dark grey, which requires no change &amp; the expand bar item is light grey, which needs to be changed.</a></p>\n<p>The code for setting expand bar &amp; it's item is as follows -</p>\n<pre class=\"lang-java prettyprint-override\"><code> final ExpandBar expandBar = new ExpandBar(iconAndButtonComposite, SWT.V_SCROLL);\n expandBar.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));\n Color backgroundColor = parent.getBackground();\n expandBar.setBackground(backgroundColor);\n\n RGB color = new RGB(0, 114, 118);\n RGB grayColor = new RGB(230, 230, 230);\n expandBar.setForeground(new Color(parent.getDisplay(), color)); //This will set text color\n expandBar.setBackground(new Color(parent.getDisplay(), grayColor));\n     \n\n final ExpandItem expandItem = new ExpandItem(expandBar, SWT.NONE);\n expandItem.setText(Constants.ODATAV2_EXPAND_ITEM);\n     odataV2Viewer = new SAPEntityViewerPage(odataV2Selection);\n odataV2Viewer.generateCheckBoxViewer(expandBar, expandItem);\n expandItem.setExpanded(true);\n\n final ExpandItem expandItem1 = new ExpandItem(expandBar, SWT.NONE);\n expandItem1.setText(Constants.ODATAV4_EXPAND_ITEM);\n expandItem1.setExpanded(false);\n odataV4Viewer = new SAPEntityViewerPage(odataV4Selection);\n odataV4Viewer.generateCheckBoxViewer(expandBar, expandItem1);\n\n final ExpandItem expandItem2 = new ExpandItem(expandBar, SWT.NONE);\n expandItem2.setText(Constants.SOAP_EXPAND_ITEM);\n soapViewer = new SAPEntityViewerPage(odataV4Selection);\n filePath = soapViewer.generateSoapUploader(expandBar, expandItem2, wsdlFileMap);\n</code></pre>\n<p>I've tried adding paint listner to expand item, but that didn't work. Any other way to set the background color of expand bar item ?</p>\n"},{"tags":["java","constructor","veracode"],"comments":[{"score":0,"post_type":"question","creation_date":1701332030,"post_id":77576720,"comment_id":136763123,"body_markdown":"You shouldn&#39;t be using a &quot;finally&quot; block , finally is only used doing a &quot;try with resources&quot;","link":"https://stackoverflow.com/questions/77576720/veracode-issue-improper-resource-shutdown-or-release#comment136763123_77576720","body":"You shouldn&#39;t be using a &quot;finally&quot; block , finally is only used doing a &quot;try with resources&quot;"},{"score":0,"post_type":"question","creation_date":1701337694,"post_id":77576720,"comment_id":136764067,"body_markdown":"without finally is also the code is giving the issue","link":"https://stackoverflow.com/questions/77576720/veracode-issue-improper-resource-shutdown-or-release#comment136764067_77576720","body":"without finally is also the code is giving the issue"},{"score":0,"post_type":"question","creation_date":1701350273,"post_id":77576720,"comment_id":136766383,"body_markdown":"Why not simply move m_objReader.close(); into either a method or put that at the end of the run() method or simply after the while? It only requires a try java.io.IOException to be caught.","link":"https://stackoverflow.com/questions/77576720/veracode-issue-improper-resource-shutdown-or-release#comment136766383_77576720","body":"Why not simply move m_objReader.close(); into either a method or put that at the end of the run() method or simply after the while? It only requires a try java.io.IOException to be caught."},{"score":0,"post_type":"question","creation_date":1701350447,"post_id":77576720,"comment_id":136766410,"body_markdown":"Sorry, i missed something , the BufferedReader probably should not be final, that seems to me a very useless declaration. (package private is probably enough). As that is , it would not be able to be removed except by the class it is in being destroyed!","link":"https://stackoverflow.com/questions/77576720/veracode-issue-improper-resource-shutdown-or-release#comment136766410_77576720","body":"Sorry, i missed something , the BufferedReader probably should not be final, that seems to me a very useless declaration. (package private is probably enough). As that is , it would not be able to be removed except by the class it is in being destroyed!"}],"comment_count":4,"is_answered":false,"view_count":13,"answer_count":0,"score":0,"last_activity_date":1701330720,"creation_date":1701330720,"question_id":77576720,"body_markdown":"I have this class in which there is a veracode issue comes up at some line ... I have given the solution but still it is not disappearing. The issue is :\r\n\r\n**Improper Resource Shutdown or Release** at line \r\n\r\nthis.m_objReader = new BufferedReader(new InputStreamReader(p_objIs));\r\n\r\n    public class InputStreamReaderRunnable implements Runnable {\r\n    \r\n    \t/** Logger object. */\r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(Logging.class);\r\n    \r\n    \t/** m_objReader. */\r\n    \tprivate final BufferedReader m_objReader;\r\n    \r\n    \t/** name. */\r\n    \tprivate final String name;\r\n    \r\n    \tpublic InputStreamReaderRunnable(InputStream p_objIs, String p_sName) {\r\n    \t\tthis.m_objReader = new BufferedReader(new InputStreamReader(p_objIs));\r\n    \t\tthis.name = p_sName;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * run method.\r\n    \t */\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\tString l_sLine = m_objReader.readLine();\r\n    \t\t\twhile (l_sLine != null) {\r\n    \t\t\t\tl_sLine = m_objReader.readLine();\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tLOGGER.info(&quot;Error at run&quot;, e);\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\ttry {\r\n    \t\t\t\tm_objReader.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\tLOGGER.info(&quot;Error at closing connection&quot;, e);\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t}\r\n\r\n}\r\n\r\n\r\nclosing the connection in finally block\r\nm_objReader.close(); but the issue is not fixing in scan","link":"https://stackoverflow.com/questions/77576720/veracode-issue-improper-resource-shutdown-or-release","title":"Veracode issue Improper Resource Shutdown or Release","body":"<p>I have this class in which there is a veracode issue comes up at some line ... I have given the solution but still it is not disappearing. The issue is :</p>\n<p><strong>Improper Resource Shutdown or Release</strong> at line</p>\n<p>this.m_objReader = new BufferedReader(new InputStreamReader(p_objIs));</p>\n<pre><code>public class InputStreamReaderRunnable implements Runnable {\n\n    /** Logger object. */\n    private static final Logger LOGGER = LoggerFactory.getLogger(Logging.class);\n\n    /** m_objReader. */\n    private final BufferedReader m_objReader;\n\n    /** name. */\n    private final String name;\n\n    public InputStreamReaderRunnable(InputStream p_objIs, String p_sName) {\n        this.m_objReader = new BufferedReader(new InputStreamReader(p_objIs));\n        this.name = p_sName;\n    }\n\n    /**\n     * run method.\n     */\n    @Override\n    public void run() {\n        try {\n            String l_sLine = m_objReader.readLine();\n            while (l_sLine != null) {\n                l_sLine = m_objReader.readLine();\n            }\n        } catch (IOException e) {\n            LOGGER.info(&quot;Error at run&quot;, e);\n        }\n        finally {\n            try {\n                m_objReader.close();\n            } catch (IOException e) {\n                LOGGER.info(&quot;Error at closing connection&quot;, e);\n            }\n            }\n    }\n</code></pre>\n<p>}</p>\n<p>closing the connection in finally block\nm_objReader.close(); but the issue is not fixing in scan</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","vert.x"],"comment_count":0,"is_answered":false,"view_count":26,"answer_count":0,"score":0,"last_activity_date":1701330648,"creation_date":1701330648,"question_id":77576710,"body_markdown":"I am new to Kafka and trying to handle a case where I want the offset and commit to pause and want it to get increase at some specific point(when the message is read successfully).\r\n\r\n\r\nThis is my consumer:\r\n```\r\npackage org.example;\r\n\r\nimport io.vertx.core.Vertx;\r\nimport io.vertx.kafka.client.consumer.KafkaConsumer;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Properties;\r\n\r\npublic class KafkaConsumerExample {\r\n\r\n    public static void main(String[] args) {\r\n        Vertx vertx = Vertx.vertx();\r\n\r\n        Properties config = new Properties();\r\n        config.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n        config.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        config.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        config.put(&quot;group.id&quot;, &quot;my-group&quot;); // Consumer group id\r\n\r\n        config.put(&quot;enable.auto.commit&quot;, &quot;false&quot;);\r\n        config.put(&quot;auto.commit.interval.ms&quot;, &quot;0&quot;); // Set auto commit interval to 0 seconds i.e. never. 10000 means 10 sec\r\n\r\n\r\n        Map&lt;String, String&gt; consumerProps = new HashMap&lt;&gt;();\r\n        consumerProps.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;); // Start reading from the beginning of the topic\r\n\r\n        KafkaConsumer&lt;String, String&gt; consumer = KafkaConsumer.create(vertx, config);\r\n//        consumer.subscribe(&quot;my_topic&quot;).onSuccess(res-&gt;{\r\n//            System.out.println(&quot;testing here&quot;);\r\n//        }).onFailure(res-&gt;{\r\n//            System.out.println(&quot;failed here&quot;);\r\n//        });\r\n\r\n\r\n        // Subscribe to a topic\r\n        consumer.subscribe(&quot;my_topic&quot;, ar -&gt; {\r\n            if (ar.succeeded()) {\r\n                System.out.println(&quot;Subscribed to topic&quot;);\r\n            } else {\r\n                System.err.println(&quot;Failed to subscribe: &quot; + ar.cause().getMessage());\r\n                vertx.close();\r\n            }\r\n        });\r\n\r\n        // Consume messages\r\n        consumer.handler(record -&gt; {\r\n            System.out.println(&quot;Received message: &quot; + record.value());\r\n\r\n            long currentOffset=record.offset();\r\n            System.out.println(&quot;Current Offset=&quot;+currentOffset);\r\n            //consumer.commit();\r\n\r\n        });\r\n\r\n        // Start the consumer\r\n        consumer\r\n                .handler(record -&gt;{\r\n                    System.out.println(&quot;Received message: &quot; + record.value());\r\n\r\n                })\r\n                .exceptionHandler(e -&gt; System.err.println(&quot;Error in consumer: &quot; + e.getMessage()))\r\n                .subscribe(&quot;my_topic&quot;, ar -&gt; {\r\n                    if (ar.succeeded()) {\r\n                        System.out.println(&quot;Consumer subscribed to my_topic&quot;);\r\n                    } else {\r\n                        System.err.println(&quot;Failed to subscribe: &quot; + ar.cause().getMessage());\r\n                    }\r\n                });\r\n    }\r\n}\r\n```\r\n\r\nand this is the producer:\r\n```\r\npackage org.example;\r\n\r\nimport io.vertx.core.Vertx;\r\nimport io.vertx.core.AsyncResult;\r\nimport io.vertx.core.Handler;\r\nimport io.vertx.kafka.client.producer.KafkaProducer;\r\nimport io.vertx.kafka.client.producer.KafkaProducerRecord;\r\nimport io.vertx.kafka.client.producer.RecordMetadata;\r\n\r\nimport java.util.Properties;\r\n\r\npublic class KafkaProducerExample {\r\n\r\n    public static void main(String[] args) {\r\n        Vertx vertx = Vertx.vertx();\r\n\r\n        Properties config = new Properties();\r\n        config.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n        config.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        config.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\r\n        KafkaProducer&lt;String, String&gt; producer = KafkaProducer.create(vertx, config);\r\n\r\n        // Produce a message\r\n        KafkaProducerRecord&lt;String, String&gt; record = KafkaProducerRecord.create(&quot;my_topic&quot;, &quot;key&quot;, &quot;Hello, Kafka!&quot;);\r\n\r\n        producer.&lt;RecordMetadata&gt;write(record);\r\n//        ar -&gt; {\r\n//            if (ar.succeeded()) {\r\n//                RecordMetadata recordMetadata = ar.result();\r\n//                System.out.println(&quot;Message sent successfully. Offset: &quot; + recordMetadata.getOffset());\r\n//            } else {\r\n//                System.err.println(&quot;Failed to send message: &quot; + ar.cause().getMessage());\r\n//            }\r\n\r\n             // Close the producer with a handler\r\n            producer.close(h -&gt; {\r\n                if (h.succeeded()) {\r\n                    System.out.println(&quot;Producer closed successfully&quot;);\r\n                } else {\r\n                    System.err.println(&quot;Failed to close producer: &quot; + h.cause().getMessage());\r\n                }\r\n                vertx.close();\r\n            });\r\n//        });\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen I run consumer and producer, produce produces message and it i pushed to consumer as shown in the output:\r\n\r\noutput of producer:\r\n\r\n```\r\nProducer closed successfully\r\nProcess finished with exit code 0\r\n```\r\n\r\n\r\nOutput of consumer:\r\n```\r\nSubscribed to topic\r\nConsumer subscribed to my_topic\r\nReceived message: Hello, Kafka!\r\n```\r\n\r\n\r\nSince, I have used the lines at consumer side:\r\n```\r\nconfig.put(&quot;enable.auto.commit&quot;, &quot;false&quot;);\r\nconfig.put(&quot;auto.commit.interval.ms&quot;, &quot;0&quot;); // Set auto commit interval to 0 seconds i.e. never. 10000 means 10 sec\r\n```\r\n\r\n\r\nand have commented consumer.commit() in \r\n```\r\nconsumer.handler(record -&gt; {\r\n            System.out.println(&quot;Received message: &quot; + record.value());\r\n\r\n            long currentOffset=record.offset();\r\n            System.out.println(&quot;Current Offset=&quot;+currentOffset);\r\n            //consumer.commit();\r\n\r\n        });\r\n```\r\n\r\nI  was expecting the offset will increase but the &quot;Hello Kafka&quot; will not be shown in the output of the consumer, cause I want to pause it, and increase offset only when the the read is successful like here: \r\n```\r\nconsumer.handler(record -&gt; {\r\n            System.out.println(&quot;Received message: &quot; + record.value());\r\n\r\n            long currentOffset=record.offset();\r\n            System.out.println(&quot;Current Offset=&quot;+currentOffset);\r\n            consumer.commit();\r\n\r\n        });\r\n```\r\n\r\n**My question summary:**\r\nEven when I have commented consumer.commit(), how come I am getting  the message &quot;Hello Kafka&quot; generated from producer at consumer side? It shouldn&#39;t have been there right? It should have been paused as far as I understood Kafka.\r\n\r\n\r\n**Edit 1:**\r\nI also tried using this method but failed:\r\nIf I comment vertx.close() and consumer.commit() at consumer side, I am able to pause the messages, i.e., I dont get &quot;Hello kafka&quot; at consumer output. But I was expecting, to see &quot;Hello Kafka&quot; at consumer side as soon as I uncomment consumer.commit, which is not happening too.","link":"https://stackoverflow.com/questions/77576710/pausing-offset-and-commit-in-kafka","title":"Pausing offset and commit in Kafka","body":"<p>I am new to Kafka and trying to handle a case where I want the offset and commit to pause and want it to get increase at some specific point(when the message is read successfully).</p>\n<p>This is my consumer:</p>\n<pre><code>package org.example;\n\nimport io.vertx.core.Vertx;\nimport io.vertx.kafka.client.consumer.KafkaConsumer;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Properties;\n\npublic class KafkaConsumerExample {\n\n    public static void main(String[] args) {\n        Vertx vertx = Vertx.vertx();\n\n        Properties config = new Properties();\n        config.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        config.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        config.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        config.put(&quot;group.id&quot;, &quot;my-group&quot;); // Consumer group id\n\n        config.put(&quot;enable.auto.commit&quot;, &quot;false&quot;);\n        config.put(&quot;auto.commit.interval.ms&quot;, &quot;0&quot;); // Set auto commit interval to 0 seconds i.e. never. 10000 means 10 sec\n\n\n        Map&lt;String, String&gt; consumerProps = new HashMap&lt;&gt;();\n        consumerProps.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;); // Start reading from the beginning of the topic\n\n        KafkaConsumer&lt;String, String&gt; consumer = KafkaConsumer.create(vertx, config);\n//        consumer.subscribe(&quot;my_topic&quot;).onSuccess(res-&gt;{\n//            System.out.println(&quot;testing here&quot;);\n//        }).onFailure(res-&gt;{\n//            System.out.println(&quot;failed here&quot;);\n//        });\n\n\n        // Subscribe to a topic\n        consumer.subscribe(&quot;my_topic&quot;, ar -&gt; {\n            if (ar.succeeded()) {\n                System.out.println(&quot;Subscribed to topic&quot;);\n            } else {\n                System.err.println(&quot;Failed to subscribe: &quot; + ar.cause().getMessage());\n                vertx.close();\n            }\n        });\n\n        // Consume messages\n        consumer.handler(record -&gt; {\n            System.out.println(&quot;Received message: &quot; + record.value());\n\n            long currentOffset=record.offset();\n            System.out.println(&quot;Current Offset=&quot;+currentOffset);\n            //consumer.commit();\n\n        });\n\n        // Start the consumer\n        consumer\n                .handler(record -&gt;{\n                    System.out.println(&quot;Received message: &quot; + record.value());\n\n                })\n                .exceptionHandler(e -&gt; System.err.println(&quot;Error in consumer: &quot; + e.getMessage()))\n                .subscribe(&quot;my_topic&quot;, ar -&gt; {\n                    if (ar.succeeded()) {\n                        System.out.println(&quot;Consumer subscribed to my_topic&quot;);\n                    } else {\n                        System.err.println(&quot;Failed to subscribe: &quot; + ar.cause().getMessage());\n                    }\n                });\n    }\n}\n</code></pre>\n<p>and this is the producer:</p>\n<pre><code>package org.example;\n\nimport io.vertx.core.Vertx;\nimport io.vertx.core.AsyncResult;\nimport io.vertx.core.Handler;\nimport io.vertx.kafka.client.producer.KafkaProducer;\nimport io.vertx.kafka.client.producer.KafkaProducerRecord;\nimport io.vertx.kafka.client.producer.RecordMetadata;\n\nimport java.util.Properties;\n\npublic class KafkaProducerExample {\n\n    public static void main(String[] args) {\n        Vertx vertx = Vertx.vertx();\n\n        Properties config = new Properties();\n        config.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        config.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        config.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n\n        KafkaProducer&lt;String, String&gt; producer = KafkaProducer.create(vertx, config);\n\n        // Produce a message\n        KafkaProducerRecord&lt;String, String&gt; record = KafkaProducerRecord.create(&quot;my_topic&quot;, &quot;key&quot;, &quot;Hello, Kafka!&quot;);\n\n        producer.&lt;RecordMetadata&gt;write(record);\n//        ar -&gt; {\n//            if (ar.succeeded()) {\n//                RecordMetadata recordMetadata = ar.result();\n//                System.out.println(&quot;Message sent successfully. Offset: &quot; + recordMetadata.getOffset());\n//            } else {\n//                System.err.println(&quot;Failed to send message: &quot; + ar.cause().getMessage());\n//            }\n\n             // Close the producer with a handler\n            producer.close(h -&gt; {\n                if (h.succeeded()) {\n                    System.out.println(&quot;Producer closed successfully&quot;);\n                } else {\n                    System.err.println(&quot;Failed to close producer: &quot; + h.cause().getMessage());\n                }\n                vertx.close();\n            });\n//        });\n    }\n}\n\n</code></pre>\n<p>When I run consumer and producer, produce produces message and it i pushed to consumer as shown in the output:</p>\n<p>output of producer:</p>\n<pre><code>Producer closed successfully\nProcess finished with exit code 0\n</code></pre>\n<p>Output of consumer:</p>\n<pre><code>Subscribed to topic\nConsumer subscribed to my_topic\nReceived message: Hello, Kafka!\n</code></pre>\n<p>Since, I have used the lines at consumer side:</p>\n<pre><code>config.put(&quot;enable.auto.commit&quot;, &quot;false&quot;);\nconfig.put(&quot;auto.commit.interval.ms&quot;, &quot;0&quot;); // Set auto commit interval to 0 seconds i.e. never. 10000 means 10 sec\n</code></pre>\n<p>and have commented consumer.commit() in</p>\n<pre><code>consumer.handler(record -&gt; {\n            System.out.println(&quot;Received message: &quot; + record.value());\n\n            long currentOffset=record.offset();\n            System.out.println(&quot;Current Offset=&quot;+currentOffset);\n            //consumer.commit();\n\n        });\n</code></pre>\n<p>I  was expecting the offset will increase but the &quot;Hello Kafka&quot; will not be shown in the output of the consumer, cause I want to pause it, and increase offset only when the the read is successful like here:</p>\n<pre><code>consumer.handler(record -&gt; {\n            System.out.println(&quot;Received message: &quot; + record.value());\n\n            long currentOffset=record.offset();\n            System.out.println(&quot;Current Offset=&quot;+currentOffset);\n            consumer.commit();\n\n        });\n</code></pre>\n<p><strong>My question summary:</strong>\nEven when I have commented consumer.commit(), how come I am getting  the message &quot;Hello Kafka&quot; generated from producer at consumer side? It shouldn't have been there right? It should have been paused as far as I understood Kafka.</p>\n<p><strong>Edit 1:</strong>\nI also tried using this method but failed:\nIf I comment vertx.close() and consumer.commit() at consumer side, I am able to pause the messages, i.e., I dont get &quot;Hello kafka&quot; at consumer output. But I was expecting, to see &quot;Hello Kafka&quot; at consumer side as soon as I uncomment consumer.commit, which is not happening too.</p>\n"},{"tags":["java"],"comments":[{"score":3,"post_type":"question","creation_date":1701316714,"post_id":77575797,"comment_id":136761582,"body_markdown":"Is it the typing you take issue with, or the length of the code?","link":"https://stackoverflow.com/questions/77575797/how-can-i-use-println-in-java-everywhere-in-my-project-without-the-full-namespac#comment136761582_77575797","body":"Is it the typing you take issue with, or the length of the code?"},{"score":2,"post_type":"question","creation_date":1701317578,"post_id":77575797,"comment_id":136761665,"body_markdown":"Most IDEs have shortcut code completions, like `sout` for example","link":"https://stackoverflow.com/questions/77575797/how-can-i-use-println-in-java-everywhere-in-my-project-without-the-full-namespac#comment136761665_77575797","body":"Most IDEs have shortcut code completions, like <code>sout</code> for example"},{"score":0,"post_type":"question","creation_date":1701319958,"post_id":77575797,"comment_id":136761869,"body_markdown":"@andykais, Which IDE you are using?","link":"https://stackoverflow.com/questions/77575797/how-can-i-use-println-in-java-everywhere-in-my-project-without-the-full-namespac#comment136761869_77575797","body":"@andykais, Which IDE you are using?"},{"score":0,"post_type":"question","creation_date":1701320160,"post_id":77575797,"comment_id":136761897,"body_markdown":"If you really want to, you can create a class that has a reference to the PrintStream out and use that variable instead of System.out.","link":"https://stackoverflow.com/questions/77575797/how-can-i-use-println-in-java-everywhere-in-my-project-without-the-full-namespac#comment136761897_77575797","body":"If you really want to, you can create a class that has a reference to the PrintStream out and use that variable instead of System.out."},{"score":2,"post_type":"question","creation_date":1701320788,"post_id":77575797,"comment_id":136761947,"body_markdown":"“Plenty of languages have much shorter global print methods.”  Java doesn’t have *any* global methods.  All methods must belong to an object or class.  Though you might find loggers make things a little shorter, since you can do `private static final Logger log = Logger.getLogger(ThisClassOfMine.class.getName());` and then write `log.info(&quot;Computing result.&quot;);` and so on.","link":"https://stackoverflow.com/questions/77575797/how-can-i-use-println-in-java-everywhere-in-my-project-without-the-full-namespac#comment136761947_77575797","body":"“Plenty of languages have much shorter global print methods.”  Java doesn’t have <i>any</i> global methods.  All methods must belong to an object or class.  Though you might find loggers make things a little shorter, since you can do <code>private static final Logger log = Logger.getLogger(ThisClassOfMine.class.getName());</code> and then write <code>log.info(&quot;Computing result.&quot;);</code> and so on."},{"score":1,"post_type":"question","creation_date":1701330135,"post_id":77575797,"comment_id":136762842,"body_markdown":"BTW: `System.out` isn&#39;t a &quot;namespace&quot;, it is the field `out` of the class `java.lang.System`. That said, using a lot of `System.out.println()` is usually a bad idea (especially in a highly concurrent application). You may want to consider using the system logger, or java.util.logging (which the system logger uses by default).","link":"https://stackoverflow.com/questions/77575797/how-can-i-use-println-in-java-everywhere-in-my-project-without-the-full-namespac#comment136762842_77575797","body":"BTW: <code>System.out</code> isn&#39;t a &quot;namespace&quot;, it is the field <code>out</code> of the class <code>java.lang.System</code>. That said, using a lot of <code>System.out.println()</code> is usually a bad idea (especially in a highly concurrent application). You may want to consider using the system logger, or java.util.logging (which the system logger uses by default)."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701319576,"creation_date":1701319576,"answer_id":77575961,"question_id":77575797,"body_markdown":"You can write your own methods to achieve this\r\n\r\n**To print something without a new line**\r\n\t\r\n\r\n    public static void p(Object printThis) {\r\n    \r\n   \t\tSystem.out.print(printThis);\r\n   \t}\r\n\r\n**To print something with a new line**\r\n\t\r\n\r\n    public static void pl(Object printThisWithNewLine) {\r\n    \r\n   \t\tSystem.out.println(printThisWithNewLine);\r\n   \t}\r\n\r\nAnd in the code, you can use the `p()` or the `pl()` methods based on your requirements.","link":"https://stackoverflow.com/questions/77575797/how-can-i-use-println-in-java-everywhere-in-my-project-without-the-full-namespac/77575961#77575961","title":"How can I use println in java everywhere in my project without the full namespace System.out.println?","body":"<p>You can write your own methods to achieve this</p>\n<p><strong>To print something without a new line</strong></p>\n<pre><code>public static void p(Object printThis) {\n\n    System.out.print(printThis);\n}\n</code></pre>\n<p><strong>To print something with a new line</strong></p>\n<pre><code>public static void pl(Object printThisWithNewLine) {\n\n    System.out.println(printThisWithNewLine);\n}\n</code></pre>\n<p>And in the code, you can use the <code>p()</code> or the <code>pl()</code> methods based on your requirements.</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1701320178,"creation_date":1701320178,"answer_id":77575996,"question_id":77575797,"body_markdown":"Don’t print spam. Use the debugger instead. \r\n\r\nWhy?\r\n\r\n 1. It allows you to see the value in real time at multiple steps in the program. You can see how the value changes at various breakpoints and manually increment steps. \r\n\r\n\r\n 2. It separates the concerns of debugging from programming. You shouldn’t have a bunch of print statements lying around your code. The odds are good you’ll forget one when you ship it. \r\n\r\n 3. It allows you to change values of variables while debugging. This is extremely useful in troubleshooting. \r\n\r\n\r\nIf you can’t use the debugger for whatever reason, use instead a logging library. This allows you to silence your debugging statements by default when running production code and set the log levels to the appropriate severity, silencing ones that are too fine-grained. It also works better with logging software because it’s standardized. \r\n\r\nPlease don’t print spam. You will thank yourself later, as will the person who uses your code later. ","link":"https://stackoverflow.com/questions/77575797/how-can-i-use-println-in-java-everywhere-in-my-project-without-the-full-namespac/77575996#77575996","title":"How can I use println in java everywhere in my project without the full namespace System.out.println?","body":"<p>Don’t print spam. Use the debugger instead.</p>\n<p>Why?</p>\n<ol>\n<li><p>It allows you to see the value in real time at multiple steps in the program. You can see how the value changes at various breakpoints and manually increment steps.</p>\n</li>\n<li><p>It separates the concerns of debugging from programming. You shouldn’t have a bunch of print statements lying around your code. The odds are good you’ll forget one when you ship it.</p>\n</li>\n<li><p>It allows you to change values of variables while debugging. This is extremely useful in troubleshooting.</p>\n</li>\n</ol>\n<p>If you can’t use the debugger for whatever reason, use instead a logging library. This allows you to silence your debugging statements by default when running production code and set the log levels to the appropriate severity, silencing ones that are too fine-grained. It also works better with logging software because it’s standardized.</p>\n<p>Please don’t print spam. You will thank yourself later, as will the person who uses your code later.</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1701321620,"creation_date":1701321620,"answer_id":77576077,"question_id":77575797,"body_markdown":"I would create a class that reference System.out.  You may have to complete other methods but here&#39;s the idea.\r\n\r\n```\r\nclass O {\r\n    static  java.io.PrintStream o = System.out;\r\n    public static void p(String s){ o.print(s);}\r\n    public static void p(int i){o.print(i);}\r\n    public static void pl(String s){ o.print(s);}\r\n    public static void pl(int i){o.print(i);}\r\n}\r\n```\r\nThen use it wherever you want.\r\n\r\n```\r\nclass Main {\r\n\tpublic static void main(String[] args) {\r\n\t    O.p(&quot;hello&quot;);\r\n\t    O.pl(&quot;world&quot;);\r\n\t}\r\n}\r\n```","link":"https://stackoverflow.com/questions/77575797/how-can-i-use-println-in-java-everywhere-in-my-project-without-the-full-namespac/77576077#77576077","title":"How can I use println in java everywhere in my project without the full namespace System.out.println?","body":"<p>I would create a class that reference System.out.  You may have to complete other methods but here's the idea.</p>\n<pre><code>class O {\n    static  java.io.PrintStream o = System.out;\n    public static void p(String s){ o.print(s);}\n    public static void p(int i){o.print(i);}\n    public static void pl(String s){ o.print(s);}\n    public static void pl(int i){o.print(i);}\n}\n</code></pre>\n<p>Then use it wherever you want.</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        O.p(&quot;hello&quot;);\n        O.pl(&quot;world&quot;);\n    }\n}\n</code></pre>\n"},{"comment_count":0,"score":0,"last_activity_date":1701330336,"last_edit_date":1701330336,"creation_date":1701329388,"answer_id":77576600,"question_id":77575797,"body_markdown":"This can be archived using static import.\r\n\r\nFirst create an interface (or class) containing one or more static methods, that should be shared with other classes:\r\n\r\n````java\r\npackage demo;  // use the appropriate package here\r\n\r\npublic interface Output {\r\n\r\n    public static void println(String message) {\r\n        System.out.println(message);\r\n    }\r\n\r\n    public static void printf(String format, Object... args) {\r\n        System.out.printf(format, args);\r\n    }\r\n}\r\n````\r\n\r\nThis methods can be used *directly* by using a static import:\r\n\r\n````java\r\nimport static demo.Output.*;\r\n\r\nclass TestOutput {\r\n\r\n    public static void main(String... args) {\r\n        println(&quot;Testing Output&quot;);\r\n    }\r\n}\r\n````\r\n\r\n-----\r\n\r\nUsing a class instead of an interface:\r\n````java\r\npackage demo;  // use the appropriate package here\r\n\r\npublic final class Output {\r\n\r\n    private Output() {\r\n        throw new InstantiationError(&quot;should not be instantiated&quot;);\r\n    }\r\n    \r\n    public static void println(String message) {\r\n        System.out.println(message);\r\n    }\r\n\r\n    public static void printf(String format, Object... args) {\r\n        System.out.printf(format, args);\r\n    }\r\n}\r\n````\r\n\r\nThe *test* code is the same.\r\n\r\nThe class is declared `final`, so it cannot be extended. The constructor throws an exception, to avoid instance creation. These can be changed if needed, for example to have some additional output processing.\r\n\r\n-----\r\n\r\nI am not sure if I would use such solution just to avoid writing `System.out.`, but, for some applications, it has the advantage of having all output going through the same class/methods.","link":"https://stackoverflow.com/questions/77575797/how-can-i-use-println-in-java-everywhere-in-my-project-without-the-full-namespac/77576600#77576600","title":"How can I use println in java everywhere in my project without the full namespace System.out.println?","body":"<p>This can be archived using static import.</p>\n<p>First create an interface (or class) containing one or more static methods, that should be shared with other classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package demo;  // use the appropriate package here\n\npublic interface Output {\n\n    public static void println(String message) {\n        System.out.println(message);\n    }\n\n    public static void printf(String format, Object... args) {\n        System.out.printf(format, args);\n    }\n}\n</code></pre>\n<p>This methods can be used <em>directly</em> by using a static import:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static demo.Output.*;\n\nclass TestOutput {\n\n    public static void main(String... args) {\n        println(&quot;Testing Output&quot;);\n    }\n}\n</code></pre>\n<hr />\n<p>Using a class instead of an interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package demo;  // use the appropriate package here\n\npublic final class Output {\n\n    private Output() {\n        throw new InstantiationError(&quot;should not be instantiated&quot;);\n    }\n    \n    public static void println(String message) {\n        System.out.println(message);\n    }\n\n    public static void printf(String format, Object... args) {\n        System.out.printf(format, args);\n    }\n}\n</code></pre>\n<p>The <em>test</em> code is the same.</p>\n<p>The class is declared <code>final</code>, so it cannot be extended. The constructor throws an exception, to avoid instance creation. These can be changed if needed, for example to have some additional output processing.</p>\n<hr />\n<p>I am not sure if I would use such solution just to avoid writing <code>System.out.</code>, but, for some applications, it has the advantage of having all output going through the same class/methods.</p>\n"}],"comment_count":6,"is_answered":false,"view_count":102,"answer_count":4,"score":-1,"last_activity_date":1701330336,"creation_date":1701316653,"question_id":77575797,"body_markdown":"When I am debugging, I often print to stdout. This means writing the fairly long statement `System.out.println(...);` all over the place. Plenty of languages have much shorter global print methods. How can I accomplish something similar in java? Is there a way to set up static imports globally across all java files in a project somehow with either maven or gradle?","link":"https://stackoverflow.com/questions/77575797/how-can-i-use-println-in-java-everywhere-in-my-project-without-the-full-namespac","title":"How can I use println in java everywhere in my project without the full namespace System.out.println?","body":"<p>When I am debugging, I often print to stdout. This means writing the fairly long statement <code>System.out.println(...);</code> all over the place. Plenty of languages have much shorter global print methods. How can I accomplish something similar in java? Is there a way to set up static imports globally across all java files in a project somehow with either maven or gradle?</p>\n"},{"tags":["java","jsoup"],"comments":[{"score":0,"post_type":"question","creation_date":1691690839,"post_id":76878261,"comment_id":135529198,"body_markdown":"`div.select(&quot;a span&quot;);`","link":"https://stackoverflow.com/questions/76878261/getting-an-elements-subtending-text-nodes-including-indirect#comment135529198_76878261","body":"<code>div.select(&quot;a span&quot;);</code>"},{"score":0,"post_type":"question","creation_date":1691691533,"post_id":76878261,"comment_id":135529323,"body_markdown":"What does **but separately** mean? What is the expected out put and what are you getting right now with your sample code?","link":"https://stackoverflow.com/questions/76878261/getting-an-elements-subtending-text-nodes-including-indirect#comment135529323_76878261","body":"What does <b>but separately</b> mean? What is the expected out put and what are you getting right now with your sample code?"},{"score":0,"post_type":"question","creation_date":1691691919,"post_id":76878261,"comment_id":135529405,"body_markdown":"@HovercraftFullOfEels can you kindly suggest a generic way to get subtending text nodes, without relying on the structure of the sample HTML provided?","link":"https://stackoverflow.com/questions/76878261/getting-an-elements-subtending-text-nodes-including-indirect#comment135529405_76878261","body":"@HovercraftFullOfEels can you kindly suggest a generic way to get subtending text nodes, without relying on the structure of the sample HTML provided?"},{"score":0,"post_type":"question","creation_date":1691692026,"post_id":76878261,"comment_id":135529423,"body_markdown":"@Eritrean Basically I would like to be able to manipulate them separately (e.g. print all odd text nodes only).","link":"https://stackoverflow.com/questions/76878261/getting-an-elements-subtending-text-nodes-including-indirect#comment135529423_76878261","body":"@Eritrean Basically I would like to be able to manipulate them separately (e.g. print all odd text nodes only)."},{"score":1,"post_type":"question","creation_date":1691692250,"post_id":76878261,"comment_id":135529468,"body_markdown":"recursively walk through the text nodes a la [this Q&amp;A](https://stackoverflow.com/questions/47312320/jsoup-print-all-text-nodes-in-order)","link":"https://stackoverflow.com/questions/76878261/getting-an-elements-subtending-text-nodes-including-indirect#comment135529468_76878261","body":"recursively walk through the text nodes a la <a href=\"https://stackoverflow.com/questions/47312320/jsoup-print-all-text-nodes-in-order\">this Q&amp;A</a>"}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1691699387,"last_edit_date":1691699387,"creation_date":1691699310,"answer_id":76879125,"question_id":76878261,"body_markdown":"It&#39;s not entirely clear what you mean - &quot;retrieve separately&quot; - However, if you want to control and customize the way the text is received from the element, then you should create a separate class implementing the NodeVisitor interface and define the extraction method so that it would not be challenging to manipulate strings in the future &quot;Content 1&quot; and &quot;Content 2&quot; separately, or even put such lines into a collection.\r\n\r\n          Element targetElement = doc.select(&quot;div.erece&quot;).first();\r\n        TextNodeVisitor textNodeVisitor = new TextNodeVisitor();\r\n        NodeTraversor traversor = new NodeTraversor(textNodeVisitor);\r\n            traversor.traverse(targetElement);\r\n        String extractedText = textNodeVisitor.getExtractedText();\r\n            System.out.println(extractedText);\r\n    }\r\n    static class TextNodeVisitor implements NodeVisitor {\r\n        private StringBuilder extractedText = new StringBuilder();\r\n        @Override\r\n        public void head(Node node, int depth) {\r\n            if (node instanceof org.jsoup.nodes.TextNode) {\r\n                org.jsoup.nodes.TextNode textNode = (org.jsoup.nodes.TextNode) node;\r\n                String text = textNode.text().trim();\r\n                if (!text.isEmpty()) {\r\n                    extractedText.append(text).append(&quot;\\n&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void tail(Node node, int depth) {\r\n            // Do nothing on tail\r\n        }\r\n    \r\n        public String getExtractedText() {\r\n            return extractedText.toString();\r\n        }\r\n    \r\n        public List&lt;String&gt; getLineList(){\r\n            List&lt;String&gt; stringList = List.of(extractedText.toString().split(&quot;\\n&quot;));\r\n            return stringList;\r\n        } \r\n\r\n","link":"https://stackoverflow.com/questions/76878261/getting-an-elements-subtending-text-nodes-including-indirect/76879125#76879125","title":"Getting an element&#39;s subtending text nodes (including indirect)","body":"<p>It's not entirely clear what you mean - &quot;retrieve separately&quot; - However, if you want to control and customize the way the text is received from the element, then you should create a separate class implementing the NodeVisitor interface and define the extraction method so that it would not be challenging to manipulate strings in the future &quot;Content 1&quot; and &quot;Content 2&quot; separately, or even put such lines into a collection.</p>\n<pre><code>      Element targetElement = doc.select(&quot;div.erece&quot;).first();\n    TextNodeVisitor textNodeVisitor = new TextNodeVisitor();\n    NodeTraversor traversor = new NodeTraversor(textNodeVisitor);\n        traversor.traverse(targetElement);\n    String extractedText = textNodeVisitor.getExtractedText();\n        System.out.println(extractedText);\n}\nstatic class TextNodeVisitor implements NodeVisitor {\n    private StringBuilder extractedText = new StringBuilder();\n    @Override\n    public void head(Node node, int depth) {\n        if (node instanceof org.jsoup.nodes.TextNode) {\n            org.jsoup.nodes.TextNode textNode = (org.jsoup.nodes.TextNode) node;\n            String text = textNode.text().trim();\n            if (!text.isEmpty()) {\n                extractedText.append(text).append(&quot;\\n&quot;);\n            }\n        }\n    }\n\n    @Override\n    public void tail(Node node, int depth) {\n        // Do nothing on tail\n    }\n\n    public String getExtractedText() {\n        return extractedText.toString();\n    }\n\n    public List&lt;String&gt; getLineList(){\n        List&lt;String&gt; stringList = List.of(extractedText.toString().split(&quot;\\n&quot;));\n        return stringList;\n    } \n</code></pre>\n"},{"comment_count":0,"score":0,"last_activity_date":1701329739,"creation_date":1701329739,"answer_id":77576632,"question_id":76878261,"body_markdown":"Here&#39;s a version that riffs off the earlier answers/comments and uses the Stream pattern:\r\n\r\n```java\r\nString html = &quot;&quot;&quot;\r\n    &lt;div class=&quot;erece mtmhp&quot;&gt;\r\n        &lt;a href=&quot;http://www.stackoverflow.com&quot;&gt;\r\n            &lt;span&gt;Content 1&lt;/span&gt;\r\n            &lt;span&gt;Content 2 &lt;span&gt;Content 2.a&lt;/span&gt;&lt;/span&gt;\r\n        &lt;/a&gt;\r\n    &lt;/div&gt;\r\n    &quot;&quot;&quot;;\r\n\r\nDocument doc = Jsoup.parse(html);\r\nList&lt;String&gt; texts = doc.select(&quot;div.erece.mtmhp *&quot;).stream()\r\n    .map(Element::ownText)\r\n    .filter(text -&gt; !text.isBlank())\r\n    .toList();\r\n\r\nprint(texts.toString());\r\n```\r\n\r\nGives:\r\n\r\n```text\r\n[Content 1, Content 2, Content 2.a]\r\n```\r\n\r\n","link":"https://stackoverflow.com/questions/76878261/getting-an-elements-subtending-text-nodes-including-indirect/77576632#77576632","title":"Getting an element&#39;s subtending text nodes (including indirect)","body":"<p>Here's a version that riffs off the earlier answers/comments and uses the Stream pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String html = &quot;&quot;&quot;\n    &lt;div class=&quot;erece mtmhp&quot;&gt;\n        &lt;a href=&quot;http://www.stackoverflow.com&quot;&gt;\n            &lt;span&gt;Content 1&lt;/span&gt;\n            &lt;span&gt;Content 2 &lt;span&gt;Content 2.a&lt;/span&gt;&lt;/span&gt;\n        &lt;/a&gt;\n    &lt;/div&gt;\n    &quot;&quot;&quot;;\n\nDocument doc = Jsoup.parse(html);\nList&lt;String&gt; texts = doc.select(&quot;div.erece.mtmhp *&quot;).stream()\n    .map(Element::ownText)\n    .filter(text -&gt; !text.isBlank())\n    .toList();\n\nprint(texts.toString());\n</code></pre>\n<p>Gives:</p>\n<pre><code>[Content 1, Content 2, Content 2.a]\n</code></pre>\n"}],"comment_count":5,"is_answered":true,"view_count":52,"answer_count":2,"score":0,"last_activity_date":1701329739,"creation_date":1691690496,"last_edit_date":1691783522,"question_id":76878261,"body_markdown":"We have a need to retrieve all the subtending text nodes of an element, whether direct or indirect.  The `textNodes()` method on the `Element` class is returning only the direct child text nodes, and not the grand text nodes, great-grand text nodes etc.  \r\n\r\nGiven the following sample HTML file:\r\n\r\n    &lt;html&gt;\r\n    \t&lt;head/&gt;\r\n    \t&lt;body&gt;\r\n    \t\t&lt;div class=&quot;erece mtmhp&quot;&gt;\r\n    \t\t\t&lt;a href=&quot;http://www.stackoverflow.com&quot;&gt;\r\n    \t\t\t\t&lt;span&gt;Content 1&lt;/span&gt;\r\n    \t\t\t\t&lt;span&gt;Content 2&lt;/span&gt;\r\n    \t\t\t&lt;/a&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI would like to be able to retrieve `Content 1` and `Content 2`, **but separately**.\r\n\r\nHere is my sample code:  \r\n\r\n    import java.io.File;\r\n    import java.util.List;\r\n    \r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.nodes.TextNode;\r\n    import org.jsoup.select.Elements;\r\n    \r\n    public class TextNodeExpt {\r\n        public static void main(String[] args) throws Exception {\r\n    \r\n    \t\tFile fileObj = new File(args[0]);\r\n            Document document = Jsoup.parse(fileObj, &quot;UTF-8&quot;);\r\n    \r\n            Elements divs = document.select(&quot;div.erece.mtmhp&quot;);\r\n    \r\n            displaySubtendingTextNodes(divs);\r\n        }\r\n    \r\n    \tprotected static void displaySubtendingTextNodes(Elements divs) {\r\n    \t\tfor (Element div : divs) {\r\n                Elements anchors = div.select(&quot;a&quot;);\r\n                for (Element anchor : anchors) {\r\n    \t\t\t\tList&lt;TextNode&gt; textNodes = anchor.textNodes();\r\n    \t\t\t\tSystem.out.println(textNodes.size() + &quot; text nodes found&quot;);\r\n    \t\t\t\tfor(TextNode tn : textNodes) {\r\n    \t\t\t\t\tSystem.out.println(&quot;[&quot; + tn.getWholeText() + &quot;]&quot;);\r\n    \t\t\t\t\t}\r\n                }\r\n            }\r\n    \t}\r\n    }\r\n\r\n\r\n----------\r\n**Addendum:**  \r\nBased on the comment from [Hovercraft Full Of Eels][1], I have come up with the following implementation.  It is based on [this][2] Stackoverflow posting.  \r\n\r\nI have made use of `List&lt;TextNode&gt;` in the API, similar to the `textNodes()` method on the `Element` class (although the list is passed as a parameter, and not returned from the method).  \r\n\r\n    protected static void textNodes(Node targetNode, List&lt;TextNode&gt; nodeList) {\r\n        for (Node childNode : targetNode.childNodes()) {\r\n            if (childNode instanceof TextNode &amp;&amp; !((TextNode) childNode).isBlank()) {\r\n            \tnodeList.add((TextNode)childNode);\r\n            }\r\n            else {\r\n            \ttextNodes(childNode, nodeList);\r\n            }\r\n        }\r\n    }\r\n\r\n  \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/522444/hovercraft-full-of-eels\r\n  [2]: https://stackoverflow.com/questions/47312320/jsoup-print-all-text-nodes-in-order\r\n","link":"https://stackoverflow.com/questions/76878261/getting-an-elements-subtending-text-nodes-including-indirect","title":"Getting an element&#39;s subtending text nodes (including indirect)","body":"<p>We have a need to retrieve all the subtending text nodes of an element, whether direct or indirect.  The <code>textNodes()</code> method on the <code>Element</code> class is returning only the direct child text nodes, and not the grand text nodes, great-grand text nodes etc.</p>\n<p>Given the following sample HTML file:</p>\n<pre><code>&lt;html&gt;\n    &lt;head/&gt;\n    &lt;body&gt;\n        &lt;div class=&quot;erece mtmhp&quot;&gt;\n            &lt;a href=&quot;http://www.stackoverflow.com&quot;&gt;\n                &lt;span&gt;Content 1&lt;/span&gt;\n                &lt;span&gt;Content 2&lt;/span&gt;\n            &lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I would like to be able to retrieve <code>Content 1</code> and <code>Content 2</code>, <strong>but separately</strong>.</p>\n<p>Here is my sample code:</p>\n<pre><code>import java.io.File;\nimport java.util.List;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.nodes.TextNode;\nimport org.jsoup.select.Elements;\n\npublic class TextNodeExpt {\n    public static void main(String[] args) throws Exception {\n\n        File fileObj = new File(args[0]);\n        Document document = Jsoup.parse(fileObj, &quot;UTF-8&quot;);\n\n        Elements divs = document.select(&quot;div.erece.mtmhp&quot;);\n\n        displaySubtendingTextNodes(divs);\n    }\n\n    protected static void displaySubtendingTextNodes(Elements divs) {\n        for (Element div : divs) {\n            Elements anchors = div.select(&quot;a&quot;);\n            for (Element anchor : anchors) {\n                List&lt;TextNode&gt; textNodes = anchor.textNodes();\n                System.out.println(textNodes.size() + &quot; text nodes found&quot;);\n                for(TextNode tn : textNodes) {\n                    System.out.println(&quot;[&quot; + tn.getWholeText() + &quot;]&quot;);\n                    }\n            }\n        }\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Addendum:</strong><br />\nBased on the comment from <a href=\"https://stackoverflow.com/users/522444/hovercraft-full-of-eels\">Hovercraft Full Of Eels</a>, I have come up with the following implementation.  It is based on <a href=\"https://stackoverflow.com/questions/47312320/jsoup-print-all-text-nodes-in-order\">this</a> Stackoverflow posting.</p>\n<p>I have made use of <code>List&lt;TextNode&gt;</code> in the API, similar to the <code>textNodes()</code> method on the <code>Element</code> class (although the list is passed as a parameter, and not returned from the method).</p>\n<pre><code>protected static void textNodes(Node targetNode, List&lt;TextNode&gt; nodeList) {\n    for (Node childNode : targetNode.childNodes()) {\n        if (childNode instanceof TextNode &amp;&amp; !((TextNode) childNode).isBlank()) {\n            nodeList.add((TextNode)childNode);\n        }\n        else {\n            textNodes(childNode, nodeList);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","email","quarkus"],"comments":[{"score":0,"post_type":"question","creation_date":1683896962,"post_id":75873242,"comment_id":134441014,"body_markdown":"I have a very similar test and it works when I start devmode and resume testing. Does your test work when you just execute the single test in your IDE?","link":"https://stackoverflow.com/questions/75873242/quarkus-mailer-does-not-receive-mail-in-test-when-mocked#comment134441014_75873242","body":"I have a very similar test and it works when I start devmode and resume testing. Does your test work when you just execute the single test in your IDE?"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701329611,"last_edit_date":1701329611,"creation_date":1701141750,"answer_id":77561174,"question_id":75873242,"body_markdown":"I created a separate application.properties for my src/test/resources directory, and inside that I used \r\n\r\n    quarkus.mailer.mock=true\r\n\r\nNow all the mock mails will go to MockMailBox\r\n\r\n\r\nThanks, I hope this will help you","link":"https://stackoverflow.com/questions/75873242/quarkus-mailer-does-not-receive-mail-in-test-when-mocked/77561174#77561174","title":"Quarkus Mailer does not receive mail in TEST (when mocked)","body":"<p>I created a separate application.properties for my src/test/resources directory, and inside that I used</p>\n<pre><code>quarkus.mailer.mock=true\n</code></pre>\n<p>Now all the mock mails will go to MockMailBox</p>\n<p>Thanks, I hope this will help you</p>\n"}],"comment_count":1,"is_answered":false,"view_count":250,"answer_count":1,"score":0,"last_activity_date":1701329611,"creation_date":1680065471,"last_edit_date":1701145362,"question_id":75873242,"body_markdown":"I want to test sending mails from my java backend service. I am using quarkus mailer. And I would like to test that with a mocked mailer implementation as described here: \r\nhttps://quarkus.io/guides/mailer-reference#testing \r\n\r\nBut the mocked mailer does not show the sent email.\r\n\r\nThis is how I send the email in my backend service:\r\n\r\n````\r\n@Inject\r\nMailer mailer;\r\n[...]\r\nmailer.send(Mail.withHtml(email, &quot;Subject&quot;, body).setFrom(&quot;info@domain.de&quot;));\r\n\r\n````\r\n\r\nAnd this is my test class:\r\n\r\n\r\n\r\n\r\n````\r\n@Slf4j\r\n@QuarkusTest\r\npublic class GraphQLTests {\r\n\r\n\t@Inject\r\n\tMockMailbox mailbox;\r\n\r\n    @Test\r\n\tpublic void testLoginViaEmail() throws Exception {\r\n\r\n        [...]\r\n        // send request to backend that sends an email\r\n        [...]\r\n\r\n        List&lt;Mail&gt; mails = mailbox.getMessagesSentTo(testUser.email);\r\n\t\tassertEquals(1, mails.size());          // &lt;=== this fails, because  mails == null  ???????\r\n\t\tString html = mails.get(0).getHtml();\r\n\t\tlog.info(&quot;Received login email&quot;);\r\n\r\n}\r\n\r\n````\r\nIt&#39;s not about the email adress. There is no (mocked) email at all in the quarkus Mailbox. What am I missing?  Why is there no received mail?\r\n\r\nWhen I debug this I see that the backend service does send the mail. It is sent to the MockMailboxImpl.class      \r\n\r\nCould it probably be that my backend uses another instance as my TEST?  Quarkus is first started in DEVELOPMNET and when I press &quot;r&quot; for resuming tests, it seems to be restarted in TEST. I debuged some more. It really looks like that there two different instances of MockMailBoxImpl.class    I see two different class IDs in the debugger.    WHY?\r\n\r\nOr how can I access the Mock mailer used by my service from my test?\r\n\r\n","link":"https://stackoverflow.com/questions/75873242/quarkus-mailer-does-not-receive-mail-in-test-when-mocked","title":"Quarkus Mailer does not receive mail in TEST (when mocked)","body":"<p>I want to test sending mails from my java backend service. I am using quarkus mailer. And I would like to test that with a mocked mailer implementation as described here:\n<a href=\"https://quarkus.io/guides/mailer-reference#testing\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/mailer-reference#testing</a></p>\n<p>But the mocked mailer does not show the sent email.</p>\n<p>This is how I send the email in my backend service:</p>\n<pre><code>@Inject\nMailer mailer;\n[...]\nmailer.send(Mail.withHtml(email, &quot;Subject&quot;, body).setFrom(&quot;info@domain.de&quot;));\n\n</code></pre>\n<p>And this is my test class:</p>\n<pre><code>@Slf4j\n@QuarkusTest\npublic class GraphQLTests {\n\n    @Inject\n    MockMailbox mailbox;\n\n    @Test\n    public void testLoginViaEmail() throws Exception {\n\n        [...]\n        // send request to backend that sends an email\n        [...]\n\n        List&lt;Mail&gt; mails = mailbox.getMessagesSentTo(testUser.email);\n        assertEquals(1, mails.size());          // &lt;=== this fails, because  mails == null  ???????\n        String html = mails.get(0).getHtml();\n        log.info(&quot;Received login email&quot;);\n\n}\n\n</code></pre>\n<p>It's not about the email adress. There is no (mocked) email at all in the quarkus Mailbox. What am I missing?  Why is there no received mail?</p>\n<p>When I debug this I see that the backend service does send the mail. It is sent to the MockMailboxImpl.class</p>\n<p>Could it probably be that my backend uses another instance as my TEST?  Quarkus is first started in DEVELOPMNET and when I press &quot;r&quot; for resuming tests, it seems to be restarted in TEST. I debuged some more. It really looks like that there two different instances of MockMailBoxImpl.class    I see two different class IDs in the debugger.    WHY?</p>\n<p>Or how can I access the Mock mailer used by my service from my test?</p>\n"},{"tags":["java","spring-boot","redis","shedlock","distributed-lock"],"comments":[{"score":0,"post_type":"question","creation_date":1702894242,"post_id":77566840,"comment_id":136944333,"body_markdown":"Is the miss happening very frequently.. or after any deployment or something ?","link":"https://stackoverflow.com/questions/77566840/shedlock-skipped-runs#comment136944333_77566840","body":"Is the miss happening very frequently.. or after any deployment or something ?"}],"comment_count":1,"is_answered":false,"view_count":36,"answer_count":0,"score":0,"last_activity_date":1701328508,"creation_date":1701201648,"last_edit_date":1701328508,"question_id":77566840,"body_markdown":"I am using **shedlock** to implement a use-case of distributed locking.\r\nMy app is running on 20 machines, and I want scheduler to be executed once in every 5 minutes in any 1 machine by using implicit distributed locking provided by shedlock library.\r\n\r\n##### Scheduler: #####\r\n```\r\n    @Scheduled(cron = &quot;0 */5 * * * *&quot;)\r\n    @SchedulerLock(name = &quot;executeTaskLock&quot;,\r\n            lockAtLeastFor = &quot;1m&quot;,\r\n            lockAtMostFor = &quot;4m&quot;)\r\n    public void executeTask() throws Exception {\r\n        LockAssert.assertLocked();\r\n\r\n        // task executes here which completed in around (400ms - 2s)\r\n    }\r\n```\r\n\r\n##### Config: #####\r\n```\r\n    @Bean\r\n    public JedisPool jedisPoolForSchedulerLocking() {\r\n\r\n        JedisPoolConfig jedisPoolConfig = new JedisPoolConfig();\r\n        jedisPoolConfig.setMaxTotal(2);\r\n        jedisPoolConfig.setMaxIdle(2);\r\n        jedisPoolConfig.setMinIdle(1);\r\n        jedisPoolConfig.setMaxWaitMillis(500);\r\n\r\n        return new JedisPool(jedisPoolConfig, {host}, {port}, {timeout}, {port}); \r\n    }\r\n\r\n    @Bean\r\n    public LockProvider lockProvider(@Qualifier(&quot;jedisPoolForSchedulerLocking&quot;) JedisPool jedisPool) {\r\n        return new JedisLockProvider(jedisPool, &quot;PRD&quot;);\r\n    }\r\n```\r\n\r\n##### Issue: #####\r\n\r\nI am seeing sometimes scheduler is missing the runs, for instance it runs at 12:25, 12:30 and then runs at 12:45, **missed 2 runs here**. Actual task completes in around (400ms - 3s), thus I have setup `1m` and `4m` as `lockAtLeastFor` and `lockAtMostFor`. config seems correct to me.\r\n\r\nDoesn&#39;t know what&#39;s failing here exactly. As per official docs this can run more than once(which is fine for my use-case) but should never miss the runs. \r\n\r\n**pom.xml** :\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;4.42.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-provider-redis-jedis&lt;/artifactId&gt;\r\n            &lt;version&gt;4.42.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n&lt;spring-boot.version&gt;2.2.1.RELEASE&lt;/spring-boot.version&gt;\r\n```","link":"https://stackoverflow.com/questions/77566840/shedlock-skipped-runs","title":"Shedlock skipped runs","body":"<p>I am using <strong>shedlock</strong> to implement a use-case of distributed locking.\nMy app is running on 20 machines, and I want scheduler to be executed once in every 5 minutes in any 1 machine by using implicit distributed locking provided by shedlock library.</p>\n<h5>Scheduler:</h5>\n<pre><code>    @Scheduled(cron = &quot;0 */5 * * * *&quot;)\n    @SchedulerLock(name = &quot;executeTaskLock&quot;,\n            lockAtLeastFor = &quot;1m&quot;,\n            lockAtMostFor = &quot;4m&quot;)\n    public void executeTask() throws Exception {\n        LockAssert.assertLocked();\n\n        // task executes here which completed in around (400ms - 2s)\n    }\n</code></pre>\n<h5>Config:</h5>\n<pre><code>    @Bean\n    public JedisPool jedisPoolForSchedulerLocking() {\n\n        JedisPoolConfig jedisPoolConfig = new JedisPoolConfig();\n        jedisPoolConfig.setMaxTotal(2);\n        jedisPoolConfig.setMaxIdle(2);\n        jedisPoolConfig.setMinIdle(1);\n        jedisPoolConfig.setMaxWaitMillis(500);\n\n        return new JedisPool(jedisPoolConfig, {host}, {port}, {timeout}, {port}); \n    }\n\n    @Bean\n    public LockProvider lockProvider(@Qualifier(&quot;jedisPoolForSchedulerLocking&quot;) JedisPool jedisPool) {\n        return new JedisLockProvider(jedisPool, &quot;PRD&quot;);\n    }\n</code></pre>\n<h5>Issue:</h5>\n<p>I am seeing sometimes scheduler is missing the runs, for instance it runs at 12:25, 12:30 and then runs at 12:45, <strong>missed 2 runs here</strong>. Actual task completes in around (400ms - 3s), thus I have setup <code>1m</code> and <code>4m</code> as <code>lockAtLeastFor</code> and <code>lockAtMostFor</code>. config seems correct to me.</p>\n<p>Doesn't know what's failing here exactly. As per official docs this can run more than once(which is fine for my use-case) but should never miss the runs.</p>\n<p><strong>pom.xml</strong> :</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n            &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n            &lt;version&gt;4.42.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n            &lt;artifactId&gt;shedlock-provider-redis-jedis&lt;/artifactId&gt;\n            &lt;version&gt;4.42.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;spring-boot.version&gt;2.2.1.RELEASE&lt;/spring-boot.version&gt;\n</code></pre>\n"},{"tags":["java","java-17","smbj"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1694348705,"post_id":77072854,"comment_id":135876839,"body_markdown":"Thanks, changed dependency to 0.12.0 instead of 0.12.2. along with this i also updated few more deps. its working.","link":"https://stackoverflow.com/questions/77072622/getting-java-security-nosuchalgorithmexception-md4-messagedigest-not-available/77072854#comment135876839_77072854","body":"Thanks, changed dependency to 0.12.0 instead of 0.12.2. along with this i also updated few more deps. its working."}],"comment_count":1,"score":1,"last_activity_date":1701328382,"last_edit_date":1701328382,"creation_date":1694272750,"answer_id":77072854,"question_id":77072622,"body_markdown":"This is a bug in smbj; see https://github.com/hierynomus/smbj/issues/425.  According to the issue updates, a fix has been committed and is included in smbj release 0.12.2.\r\n\r\nSolution: upgrade your dependency.  \r\n\r\n(FWIW, 0.9.1 is nearly 5 years out of date ... at the time of writing this.)\r\n\r\n-------------------\r\n\r\nFor those (like me) whose initial reaction was &quot;but MD4 is insecure&quot;, there are a few protocols where MD4 is still used.  SMB appears to be one of them.","link":"https://stackoverflow.com/questions/77072622/getting-java-security-nosuchalgorithmexception-md4-messagedigest-not-available/77072854#77072854","title":"getting java.security.NoSuchAlgorithmException: MD4 MessageDigest not available for java 17","body":"<p>This is a bug in smbj; see <a href=\"https://github.com/hierynomus/smbj/issues/425\" rel=\"nofollow noreferrer\">https://github.com/hierynomus/smbj/issues/425</a>.  According to the issue updates, a fix has been committed and is included in smbj release 0.12.2.</p>\n<p>Solution: upgrade your dependency.</p>\n<p>(FWIW, 0.9.1 is nearly 5 years out of date ... at the time of writing this.)</p>\n<hr />\n<p>For those (like me) whose initial reaction was &quot;but MD4 is insecure&quot;, there are a few protocols where MD4 is still used.  SMB appears to be one of them.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":137,"answer_count":1,"score":0,"last_activity_date":1701328382,"creation_date":1694268923,"last_edit_date":1694272914,"question_id":77072622,"body_markdown":"I&#39;m facing the exception `java.security.NoSuchAlgorithmException: MD4 MessageDigest not available`.\r\n\r\nI&#39;m using the library in java 17 and gradle - `implementation group: &#39;com.hierynomus&#39;, name: &#39;smbj&#39;, version: &#39;0.9.1&#39;`\r\n\r\nAny suggestions or guidance is appreciated.","link":"https://stackoverflow.com/questions/77072622/getting-java-security-nosuchalgorithmexception-md4-messagedigest-not-available","title":"getting java.security.NoSuchAlgorithmException: MD4 MessageDigest not available for java 17","body":"<p>I'm facing the exception <code>java.security.NoSuchAlgorithmException: MD4 MessageDigest not available</code>.</p>\n<p>I'm using the library in java 17 and gradle - <code>implementation group: 'com.hierynomus', name: 'smbj', version: '0.9.1'</code></p>\n<p>Any suggestions or guidance is appreciated.</p>\n"},{"tags":["java","playwright","playwright-java"],"comment_count":0,"is_answered":false,"view_count":22,"answer_count":0,"score":0,"last_activity_date":1701326367,"creation_date":1701325551,"last_edit_date":1701326367,"question_id":77576319,"body_markdown":"When i inspect manually and set the view port size from responsive, the UI is working fine but when i do it from code, its not showing the exact UI\r\n\r\nbelow is my code used for simulating the UI to mobile view\r\n\r\n\r\n```\r\ncontext = browser.newContext(new Browser.NewContextOptions().setViewportSize(412, 915)\r\n.setDeviceScaleFactor(2.625)\r\n.setIsMobile(true)\r\n.setUserAgent(“Mozilla/5.0 (Linux; Android 11; SM-G988B Build/RP1A.200720.012; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/89.0.4389.105 Mobile Safari/537.36”)\r\n);\r\npage = context.newPage();\r\npage.navigate(PortalURL);\r\n```\r\n\r\n","link":"https://stackoverflow.com/questions/77576319/when-i-inspect-manually-and-set-the-view-port-size-from-responsive-the-ui-is-wo","title":"When i inspect manually and set the view port size from responsive, the UI is working fine but when i do it from code, its not showing the exact UI","body":"<p>When i inspect manually and set the view port size from responsive, the UI is working fine but when i do it from code, its not showing the exact UI</p>\n<p>below is my code used for simulating the UI to mobile view</p>\n<pre><code>context = browser.newContext(new Browser.NewContextOptions().setViewportSize(412, 915)\n.setDeviceScaleFactor(2.625)\n.setIsMobile(true)\n.setUserAgent(“Mozilla/5.0 (Linux; Android 11; SM-G988B Build/RP1A.200720.012; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/89.0.4389.105 Mobile Safari/537.36”)\n);\npage = context.newPage();\npage.navigate(PortalURL);\n</code></pre>\n"},{"tags":["java","mapstruct"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701326000,"last_edit_date":1701326000,"creation_date":1701283157,"answer_id":77573735,"question_id":77564866,"body_markdown":"You can simply define an [`@AfterMapping`][1] method in the `CarConverter`. The point is to clone the list of converted users and to set the `users` attribute to an empty list because the list of users will be refilled upon invoking the `linkUser` method.\r\n```java\r\n@Mapper(uses = UserConverter.class)\r\npublic interface CarConverter {\r\n\r\n  Car convert(final CarDTO car);\r\n  CarDTO convert(final Car car);\r\n\r\n  @AfterMapping\r\n  default void linkUsersDTO(Car source, @MappingTarget CarDTO target) {\r\n    List&lt;CarUserDTO&gt; users = new ArrayList&lt;&gt;(target.getUsers());\r\n    target.setUsers(new ArrayList&lt;&gt;());\r\n    users.forEach(target::linkUser);\r\n  }\r\n\r\n  @AfterMapping\r\n  default void linkUsers(CarDTO source, @MappingTarget Car target) {\r\n    List&lt;CarUser&gt; users = new ArrayList&lt;&gt;(target.getUsers());\r\n    target.setUsers(new ArrayList&lt;&gt;());\r\n    users.forEach(target::linkUser);\r\n  }\r\n\r\n}\r\n```\r\nAdditionally, since the user&#39;s `car` property is being set in the `@AfterMapping` method, it is unnecessary to map it in the `UserConverter::convert`. \r\n\r\n```java\r\n@Mapper\r\npublic interface UserConverter {\r\n\r\n  @Mapping(target= &quot;car&quot;,ignore = true)\r\n  CarUser convert(final CarUserDTO user);\r\n\r\n  @Mapping(target= &quot;car&quot;,ignore = true)\r\n  CarUserDTO convert(final CarUser user);\r\n\r\n}\r\n```\r\nIf not ignored, the `StackOverflowError` exception is thrown because the generated methods of `UserConverter` form a circular dependency.\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/api/org/mapstruct/AfterMapping.html","link":"https://stackoverflow.com/questions/77564866/how-to-convert-a-bi-directional-link-with-mapstrcut/77573735#77573735","title":"How To Convert a Bi-Directional Link With MapStrcut","body":"<p>You can simply define an <a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/AfterMapping.html\" rel=\"nofollow noreferrer\"><code>@AfterMapping</code></a> method in the <code>CarConverter</code>. The point is to clone the list of converted users and to set the <code>users</code> attribute to an empty list because the list of users will be refilled upon invoking the <code>linkUser</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(uses = UserConverter.class)\npublic interface CarConverter {\n\n  Car convert(final CarDTO car);\n  CarDTO convert(final Car car);\n\n  @AfterMapping\n  default void linkUsersDTO(Car source, @MappingTarget CarDTO target) {\n    List&lt;CarUserDTO&gt; users = new ArrayList&lt;&gt;(target.getUsers());\n    target.setUsers(new ArrayList&lt;&gt;());\n    users.forEach(target::linkUser);\n  }\n\n  @AfterMapping\n  default void linkUsers(CarDTO source, @MappingTarget Car target) {\n    List&lt;CarUser&gt; users = new ArrayList&lt;&gt;(target.getUsers());\n    target.setUsers(new ArrayList&lt;&gt;());\n    users.forEach(target::linkUser);\n  }\n\n}\n</code></pre>\n<p>Additionally, since the user's <code>car</code> property is being set in the <code>@AfterMapping</code> method, it is unnecessary to map it in the <code>UserConverter::convert</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface UserConverter {\n\n  @Mapping(target= &quot;car&quot;,ignore = true)\n  CarUser convert(final CarUserDTO user);\n\n  @Mapping(target= &quot;car&quot;,ignore = true)\n  CarUserDTO convert(final CarUser user);\n\n}\n</code></pre>\n<p>If not ignored, the <code>StackOverflowError</code> exception is thrown because the generated methods of <code>UserConverter</code> form a circular dependency.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":37,"answer_count":1,"score":1,"last_activity_date":1701326000,"creation_date":1701183235,"question_id":77564866,"body_markdown":"Here below is a very simplified car sharing model, where a `Car` might be used by more than one `User`. I need to convert a service object into a DTO object and vice-versa:\r\n```\r\n@Data\r\npublic class Car {\r\n\r\n    private String brand;\r\n    private String model;\r\n    private List&lt;CarUser&gt; users = new ArrayList&lt;&gt;();\r\n\r\n    public void linkUser(CarUser user) {\r\n        this.users.add(user);\r\n        user.setCar(this);\r\n    }\r\n}\r\n\r\n@Data\r\npublic class CarUser {\r\n\r\n    private String name;\r\n    private Car car;\r\n}\r\n\r\n@Data\r\npublic class CarDTO {\r\n\r\n    private String brand;\r\n    private String model;\r\n    private List&lt;CarUserDTO&gt; users = new ArrayList&lt;&gt;();\r\n\r\n    public void linkUser(CarUserDTO user) {\r\n        this.users.add(user);\r\n        user.setCar(this);\r\n    }\r\n}\r\n\r\n@Data\r\npublic class CarUserDTO {\r\n\r\n    private String name;\r\n    private CarDTO car;\r\n}\r\n\r\n@Mapper\r\npublic interface UserConverter {\r\n\r\n    CarUser convert(final CarUserDTO user);\r\n    CarUserDTO convert(final CarUser user);\r\n}\r\n\r\n\r\n@Mapper(uses = UserConverter.class)\r\npublic interface CarConverter {\r\n\r\n    Car convert(final CarDTO car);\r\n    CarDTO convert(final Car car);\r\n}\r\n```\r\nMethod `linkUser` creates a bi-directional link, i.e. it associates a given `User` to the current `Car` and the current `Car` to the given `User`. The problem with the `Mapper` in the code snippet above, is that the `car` attribute in classes `User`/`UserDTO` gets never set because of course the converter doesn&#39;t invoke `linkUser`. Is there any way to set that attribute? The tricky part here is that the `Car` to be set is actually the instance being converted. Any help would be really appreciated :-)\r\n\r\n    ","link":"https://stackoverflow.com/questions/77564866/how-to-convert-a-bi-directional-link-with-mapstrcut","title":"How To Convert a Bi-Directional Link With MapStrcut","body":"<p>Here below is a very simplified car sharing model, where a <code>Car</code> might be used by more than one <code>User</code>. I need to convert a service object into a DTO object and vice-versa:</p>\n<pre><code>@Data\npublic class Car {\n\n    private String brand;\n    private String model;\n    private List&lt;CarUser&gt; users = new ArrayList&lt;&gt;();\n\n    public void linkUser(CarUser user) {\n        this.users.add(user);\n        user.setCar(this);\n    }\n}\n\n@Data\npublic class CarUser {\n\n    private String name;\n    private Car car;\n}\n\n@Data\npublic class CarDTO {\n\n    private String brand;\n    private String model;\n    private List&lt;CarUserDTO&gt; users = new ArrayList&lt;&gt;();\n\n    public void linkUser(CarUserDTO user) {\n        this.users.add(user);\n        user.setCar(this);\n    }\n}\n\n@Data\npublic class CarUserDTO {\n\n    private String name;\n    private CarDTO car;\n}\n\n@Mapper\npublic interface UserConverter {\n\n    CarUser convert(final CarUserDTO user);\n    CarUserDTO convert(final CarUser user);\n}\n\n\n@Mapper(uses = UserConverter.class)\npublic interface CarConverter {\n\n    Car convert(final CarDTO car);\n    CarDTO convert(final Car car);\n}\n</code></pre>\n<p>Method <code>linkUser</code> creates a bi-directional link, i.e. it associates a given <code>User</code> to the current <code>Car</code> and the current <code>Car</code> to the given <code>User</code>. The problem with the <code>Mapper</code> in the code snippet above, is that the <code>car</code> attribute in classes <code>User</code>/<code>UserDTO</code> gets never set because of course the converter doesn't invoke <code>linkUser</code>. Is there any way to set that attribute? The tricky part here is that the <code>Car</code> to be set is actually the instance being converted. Any help would be really appreciated :-)</p>\n"},{"tags":["java","android","kotlin"],"comment_count":0,"is_answered":false,"view_count":18,"answer_count":0,"score":0,"last_activity_date":1701325632,"creation_date":1701325632,"question_id":77576322,"body_markdown":"I am creating zip file in android by code at run time and wanted to customized or add new property-value to zip file during the file creation or later. \r\n\r\n\r\nI am able to create zip file by code but not able to customized or add new property value to zip file.\r\n\r\nExample - Like when we create zip file there is some default property in key value format like Name, Type and Size, same as I wanted to add new property and value to zip file.\r\n\r\nI have attached screenshot for get understating in detail.\r\n\r\n(https://i.stack.imgur.com/IEJ5y.jpg) ","link":"https://stackoverflow.com/questions/77576322/want-to-customize-zip-file-property-in-android-kotlin","title":"Want to customize zip file property in Android/ kotlin","body":"<p>I am creating zip file in android by code at run time and wanted to customized or add new property-value to zip file during the file creation or later.</p>\n<p>I am able to create zip file by code but not able to customized or add new property value to zip file.</p>\n<p>Example - Like when we create zip file there is some default property in key value format like Name, Type and Size, same as I wanted to add new property and value to zip file.</p>\n<p>I have attached screenshot for get understating in detail.</p>\n<p>(<a href=\"https://i.stack.imgur.com/IEJ5y.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/IEJ5y.jpg</a>)</p>\n"},{"tags":["java","spring-boot","gradle","build.gradle","transitivity"],"comments":[{"score":1,"post_type":"question","creation_date":1701330095,"post_id":77576294,"comment_id":136762836,"body_markdown":"If they are or aren&#39;t included depends on the type of dependency. If it is `implementation` it won&#39;t show, if it is `api` it will be exposed.","link":"https://stackoverflow.com/questions/77576294/gradle-api-configuration-cannot-resolve-transitive-dependencies#comment136762836_77576294","body":"If they are or aren&#39;t included depends on the type of dependency. If it is <code>implementation</code> it won&#39;t show, if it is <code>api</code> it will be exposed."}],"comment_count":1,"is_answered":false,"view_count":19,"answer_count":0,"score":0,"last_activity_date":1701325236,"creation_date":1701325236,"question_id":77576294,"body_markdown":"I have a project A, which is dependent on project B,(it is not a sub-project case, the project jar is present in a remote repository) but when I include the project A on project B, as per the api(group:project-a:version), it should show the transitive dependency of project-A on other dependencies, say like spring-web-starter etc. But the dependency tree shows only (group:project-a:version) and also i need to explicitly add all the other dependencies on project B, which are already in project A.\r\n\r\nI am using gradle 8.2x and jdk-17\r\n\r\nWhat I am getting \r\n```\r\n+--- group:project-A:version\r\n+--- org.springframework.boot:spring-boot-starter-web:3.1.1\r\n|    +--- org.springframework.boot:spring-boot-starter:3.1.1\r\n|    |    +--- org.springframework.boot:spring-boot:3.1.1  \r\n```\r\n\r\nWhat I am expecting\r\n\r\n```\r\n+--- group:project-A:version\r\n|    +--- org.springframework.boot:spring-boot-starter-web:3.1.1\r\n|    |    +--- org.springframework.boot:spring-boot-starter:3.1.1\r\n|    |    |    +--- org.springframework.boot:spring-boot:3.1.1\r\n```\r\n","link":"https://stackoverflow.com/questions/77576294/gradle-api-configuration-cannot-resolve-transitive-dependencies","title":"Gradle: API configuration cannot resolve transitive dependencies","body":"<p>I have a project A, which is dependent on project B,(it is not a sub-project case, the project jar is present in a remote repository) but when I include the project A on project B, as per the api(group:project-a:version), it should show the transitive dependency of project-A on other dependencies, say like spring-web-starter etc. But the dependency tree shows only (group:project-a:version) and also i need to explicitly add all the other dependencies on project B, which are already in project A.</p>\n<p>I am using gradle 8.2x and jdk-17</p>\n<p>What I am getting</p>\n<pre><code>+--- group:project-A:version\n+--- org.springframework.boot:spring-boot-starter-web:3.1.1\n|    +--- org.springframework.boot:spring-boot-starter:3.1.1\n|    |    +--- org.springframework.boot:spring-boot:3.1.1  \n</code></pre>\n<p>What I am expecting</p>\n<pre><code>+--- group:project-A:version\n|    +--- org.springframework.boot:spring-boot-starter-web:3.1.1\n|    |    +--- org.springframework.boot:spring-boot-starter:3.1.1\n|    |    |    +--- org.springframework.boot:spring-boot:3.1.1\n</code></pre>\n"},{"tags":["java","jsoup"],"comments":[{"score":1,"post_type":"question","creation_date":1700322356,"post_id":77405377,"comment_id":136641480,"body_markdown":"Does this answer your question? [What values can I put in an HTML attribute value?](https://stackoverflow.com/questions/5320177/what-values-can-i-put-in-an-html-attribute-value)","link":"https://stackoverflow.com/questions/77405377/jsoup-does-not-escape-special-characters-inside-quoted-element-attribute#comment136641480_77405377","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5320177/what-values-can-i-put-in-an-html-attribute-value\">What values can I put in an HTML attribute value?</a>"},{"score":0,"post_type":"question","creation_date":1700322545,"post_id":77405377,"comment_id":136641492,"body_markdown":"This behavior is expected. See the duplicate question for more info.","link":"https://stackoverflow.com/questions/77405377/jsoup-does-not-escape-special-characters-inside-quoted-element-attribute#comment136641492_77405377","body":"This behavior is expected. See the duplicate question for more info."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701323730,"creation_date":1701323730,"answer_id":77576192,"question_id":77405377,"body_markdown":"jsoup defaults to HTML output syntax, not XML. In HTML in a quoted attribute string, neither `&lt;` nor `&gt;` needs to be quoted, so jsoup doesn&#39;t.\r\n\r\nIf you want XML output, you can set [`OutputSettings`][1] to `XML`.\r\n\r\n\r\n  [1]: https://jsoup.org/apidocs/org/jsoup/nodes/Document.html#outputSettings(org.jsoup.nodes.Document.OutputSettings)\r\n\r\nAs you&#39;re using `new Element()`, that element won&#39;t have a parent or a document until you insert it into the DOM.\r\n\r\nSo for example:\r\n\r\n```java\r\nElement e = new Element(&quot;E&quot;);\r\ne.attr(&quot;key&quot;, &quot;value&quot;);\r\ne.attr(&quot;code&quot;, &quot;&lt;X&gt;&quot;);\r\nprint(&quot;HTML&quot;, e.outerHtml());\r\n\r\n\r\nDocument doc = Document.createShell(&quot;https://example.com&quot;);\r\ndoc.outputSettings().syntax(Document.OutputSettings.Syntax.xml);\r\ndoc.body().appendChild(e);\r\n\r\nprint(&quot;XML&quot;, e.outerHtml());\r\n```\r\n\r\nGives:\r\n\r\n```html\r\nHTML: &lt;E key=&quot;value&quot; code=&quot;&lt;X&gt;&quot;&gt;&lt;/E&gt;\r\nXML:  &lt;E key=&quot;value&quot; code=&quot;&amp;lt;X&gt;&quot;&gt;&lt;/E&gt;\r\n```\r\n\r\nNote that in neither HTML nor XML does the `&gt;` character in a quoted attribute need to be escaped, so jsoup doesn&#39;t do that.\r\n\r\n","link":"https://stackoverflow.com/questions/77405377/jsoup-does-not-escape-special-characters-inside-quoted-element-attribute/77576192#77576192","title":"Jsoup does not escape special characters (&lt;, &gt;) inside quoted Element attribute values","body":"<p>jsoup defaults to HTML output syntax, not XML. In HTML in a quoted attribute string, neither <code>&lt;</code> nor <code>&gt;</code> needs to be quoted, so jsoup doesn't.</p>\n<p>If you want XML output, you can set <a href=\"https://jsoup.org/apidocs/org/jsoup/nodes/Document.html#outputSettings(org.jsoup.nodes.Document.OutputSettings)\" rel=\"nofollow noreferrer\"><code>OutputSettings</code></a> to <code>XML</code>.</p>\n<p>As you're using <code>new Element()</code>, that element won't have a parent or a document until you insert it into the DOM.</p>\n<p>So for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Element e = new Element(&quot;E&quot;);\ne.attr(&quot;key&quot;, &quot;value&quot;);\ne.attr(&quot;code&quot;, &quot;&lt;X&gt;&quot;);\nprint(&quot;HTML&quot;, e.outerHtml());\n\n\nDocument doc = Document.createShell(&quot;https://example.com&quot;);\ndoc.outputSettings().syntax(Document.OutputSettings.Syntax.xml);\ndoc.body().appendChild(e);\n\nprint(&quot;XML&quot;, e.outerHtml());\n</code></pre>\n<p>Gives:</p>\n<pre class=\"lang-html prettyprint-override\"><code>HTML: &lt;E key=&quot;value&quot; code=&quot;&lt;X&gt;&quot;&gt;&lt;/E&gt;\nXML:  &lt;E key=&quot;value&quot; code=&quot;&amp;lt;X&gt;&quot;&gt;&lt;/E&gt;\n</code></pre>\n<p>Note that in neither HTML nor XML does the <code>&gt;</code> character in a quoted attribute need to be escaped, so jsoup doesn't do that.</p>\n"}],"comment_count":2,"is_answered":false,"view_count":78,"answer_count":1,"score":0,"last_activity_date":1701323730,"creation_date":1698869947,"last_edit_date":1700322679,"question_id":77405377,"body_markdown":"I got a surprise result when I tried to programmatically build an `Element` with attribute with value that contains `&lt;` and `&gt;.`\r\n\r\nAm I missing something? https://www.w3.org/TR/xml/#syntax\r\n\r\nThe test:\r\n\r\n```java\r\nElement e = new Element(&quot;E&quot;);\r\ne.attr(&quot;key&quot;, &quot;value&quot;);\r\ne.attr(&quot;code&quot;, &quot;&lt;X&gt;&quot;);\r\nassertEquals(&quot;&lt;E key=\\&quot;value\\&quot; code=\\&quot;&amp;lt;X&amp;gt;\\&quot;&gt;&lt;/E&gt;&quot;, e.outerHtml());\r\n```\r\n\r\nfails:\r\n\r\n```\r\nexpected: &lt;&lt;E key=&quot;value&quot; code=&quot;&amp;lt;X&amp;gt;&quot;&gt;&lt;/E&gt;&gt; but was: &lt;&lt;E key=&quot;value&quot; code=&quot;&lt;X&gt;&quot;&gt;&lt;/E&gt;&gt;\r\n```","link":"https://stackoverflow.com/questions/77405377/jsoup-does-not-escape-special-characters-inside-quoted-element-attribute","title":"Jsoup does not escape special characters (&lt;, &gt;) inside quoted Element attribute values","body":"<p>I got a surprise result when I tried to programmatically build an <code>Element</code> with attribute with value that contains <code>&lt;</code> and <code>&gt;.</code></p>\n<p>Am I missing something? <a href=\"https://www.w3.org/TR/xml/#syntax\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/xml/#syntax</a></p>\n<p>The test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Element e = new Element(&quot;E&quot;);\ne.attr(&quot;key&quot;, &quot;value&quot;);\ne.attr(&quot;code&quot;, &quot;&lt;X&gt;&quot;);\nassertEquals(&quot;&lt;E key=\\&quot;value\\&quot; code=\\&quot;&amp;lt;X&amp;gt;\\&quot;&gt;&lt;/E&gt;&quot;, e.outerHtml());\n</code></pre>\n<p>fails:</p>\n<pre><code>expected: &lt;&lt;E key=&quot;value&quot; code=&quot;&amp;lt;X&amp;gt;&quot;&gt;&lt;/E&gt;&gt; but was: &lt;&lt;E key=&quot;value&quot; code=&quot;&lt;X&gt;&quot;&gt;&lt;/E&gt;&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"score":0,"post_type":"question","creation_date":1701276591,"post_id":77573053,"comment_id":136756600,"body_markdown":"The getExternalFilesDir() has nothing to do with a removable micro sd card. And you do not need any permission to create files there.","link":"https://stackoverflow.com/questions/77573053/write-permission-denied-android-studio#comment136756600_77573053","body":"The getExternalFilesDir() has nothing to do with a removable micro sd card. And you do not need any permission to create files there."},{"score":0,"post_type":"question","creation_date":1701276665,"post_id":77573053,"comment_id":136756614,"body_markdown":"Change to: if (!dir.exists()) {\n                if(!dir.mkdirs()) return null;\n            } And caller should check for null.","link":"https://stackoverflow.com/questions/77573053/write-permission-denied-android-studio#comment136756614_77573053","body":"Change to: if (!dir.exists()) {                 if(!dir.mkdirs()) return null;             } And caller should check for null."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701276613,"creation_date":1701276613,"answer_id":77573083,"question_id":77573053,"body_markdown":"```xml\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n\r\nThis is for `READ_EXTERNAL_STORAGE`.\r\n\r\n```java\r\n            requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n```\r\n\r\nThis is for `WRITE_EXTERNAL_STORAGE`, which is not the same thing as `READ_EXTERNAL_STORAGE`.\r\n\r\n```java\r\n            File dir = new File(getExternalFilesDir(null), &quot;time_monitoring&quot;);\r\n```\r\n\r\n`getExternalFilesDir()` does not require any permissions. So, the simple solution is to stick with that and get rid of your `READ_EXTERNAL_STORAGE` manifest entry and your `requestPermissions()` call for `WRITE_EXTERNAL_STORAGE`.","link":"https://stackoverflow.com/questions/77573053/write-permission-denied-android-studio/77573083#77573083","title":"WRITE PERMISSION DENIED - Android Studio","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>This is for <code>READ_EXTERNAL_STORAGE</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>            requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n</code></pre>\n<p>This is for <code>WRITE_EXTERNAL_STORAGE</code>, which is not the same thing as <code>READ_EXTERNAL_STORAGE</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>            File dir = new File(getExternalFilesDir(null), &quot;time_monitoring&quot;);\n</code></pre>\n<p><code>getExternalFilesDir()</code> does not require any permissions. So, the simple solution is to stick with that and get rid of your <code>READ_EXTERNAL_STORAGE</code> manifest entry and your <code>requestPermissions()</code> call for <code>WRITE_EXTERNAL_STORAGE</code>.</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1701323297,"creation_date":1701323297,"answer_id":77576174,"question_id":77573053,"body_markdown":"there are two things to keep in mind \r\n1.Check Permission Before Using Features:\r\nEnsure you check whether the permission is granted before performing operations that require it. The code in recordTime is executing regardless of whether the permission is granted. You might want to check the permission status before attempting to write to the file:\r\n2.Check Permission Again After Request:\r\nAfter requesting permissions, you might want to check the result in onRequestPermissionsResult and proceed with the file operations only if the permission is granted.","link":"https://stackoverflow.com/questions/77573053/write-permission-denied-android-studio/77576174#77576174","title":"WRITE PERMISSION DENIED - Android Studio","body":"<p>there are two things to keep in mind\n1.Check Permission Before Using Features:\nEnsure you check whether the permission is granted before performing operations that require it. The code in recordTime is executing regardless of whether the permission is granted. You might want to check the permission status before attempting to write to the file:\n2.Check Permission Again After Request:\nAfter requesting permissions, you might want to check the result in onRequestPermissionsResult and proceed with the file operations only if the permission is granted.</p>\n"}],"comment_count":2,"is_answered":false,"view_count":39,"answer_count":2,"score":1,"last_activity_date":1701323297,"creation_date":1701276347,"question_id":77573053,"body_markdown":"I was creating a simple Time Monitoring System that records the Time In and Time out of the user and record it in a txt file named &quot;time_monitoring.txt&quot;.\r\n\r\nNow, whenever I run the app in my phone, which is an Android 13, it shows that the write permission was denied.\r\n\r\nHere&#39;s my AndroidManifest.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.TimeRecorder&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\nHere&#39;s my MainActivity.java:\r\n\r\n```\r\npackage com.example.timerecorder;\r\n\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.Locale;\r\nimport android.Manifest;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Build;\r\nimport androidx.annotation.NonNull;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private Button btnTimeIn, btnTimeOut;\r\n    private TextView txtDateTime, txtFilePath;\r\n    private SimpleDateFormat dateFormat;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnTimeIn = findViewById(R.id.btnTimeIn);\r\n        btnTimeOut = findViewById(R.id.btnTimeOut);\r\n        txtDateTime = findViewById(R.id.txtDateTime);\r\n        txtFilePath = findViewById(R.id.txtFilePath);\r\n        dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;, Locale.getDefault());\r\n\r\n        btnTimeIn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                recordTime(&quot;Time In&quot;);\r\n            }\r\n        });\r\n\r\n        btnTimeOut.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                recordTime(&quot;Time Out&quot;);\r\n            }\r\n        });\r\n\r\n        // Inside the onCreate method, after initializing buttons and TextViews\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n        }\r\n    }\r\n\r\n    private void recordTime(String eventType) {\r\n        String currentTime = dateFormat.format(new Date());\r\n        String record = eventType + &quot;: &quot; + currentTime + &quot;\\n&quot;;\r\n\r\n        // Update the TextView\r\n        txtDateTime.setText(record);\r\n\r\n        // Save the record to the file on SD card\r\n        String filePath = saveToSDCard(record);\r\n\r\n        // Show a toast message\r\n        Toast.makeText(this, &quot;Recorded: &quot; + eventType, Toast.LENGTH_SHORT).show();\r\n\r\n        // Update the file path TextView\r\n        txtFilePath.setText(&quot;File saved at: &quot; + filePath);\r\n    }\r\n\r\n    private String saveToSDCard(String record) {\r\n        try {\r\n            File dir = new File(getExternalFilesDir(null), &quot;time_monitoring&quot;);\r\n            if (!dir.exists()) {\r\n                dir.mkdirs();\r\n            }\r\n\r\n            File file = new File(dir, &quot;time_monitoring.txt&quot;);\r\n            FileWriter fileWriter = new FileWriter(file, true);\r\n            BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);\r\n            bufferedWriter.write(record);\r\n            bufferedWriter.close();\r\n\r\n            return file.getAbsolutePath();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == 1) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;Write permission granted&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;Write permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s my activity_main.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnTimeIn&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Time In&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnTimeOut&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Time Out&quot;\r\n        android:layout_below=&quot;@id/btnTimeIn&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtDateTime&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/btnTimeOut&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtFilePath&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/txtDateTime&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n\r\nThis is what I expect to happen, when I click the Time In or Time Out button, it will add something like this in the &quot;time_monitoring.txt&quot;: Time In: 11/30/2023 06:43:15.","link":"https://stackoverflow.com/questions/77573053/write-permission-denied-android-studio","title":"WRITE PERMISSION DENIED - Android Studio","body":"<p>I was creating a simple Time Monitoring System that records the Time In and Time out of the user and record it in a txt file named &quot;time_monitoring.txt&quot;.</p>\n<p>Now, whenever I run the app in my phone, which is an Android 13, it shows that the write permission was denied.</p>\n<p>Here's my AndroidManifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.TimeRecorder&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>Here's my MainActivity.java:</p>\n<pre><code>package com.example.timerecorder;\n\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Locale;\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Build;\nimport androidx.annotation.NonNull;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Button btnTimeIn, btnTimeOut;\n    private TextView txtDateTime, txtFilePath;\n    private SimpleDateFormat dateFormat;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btnTimeIn = findViewById(R.id.btnTimeIn);\n        btnTimeOut = findViewById(R.id.btnTimeOut);\n        txtDateTime = findViewById(R.id.txtDateTime);\n        txtFilePath = findViewById(R.id.txtFilePath);\n        dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;, Locale.getDefault());\n\n        btnTimeIn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                recordTime(&quot;Time In&quot;);\n            }\n        });\n\n        btnTimeOut.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                recordTime(&quot;Time Out&quot;);\n            }\n        });\n\n        // Inside the onCreate method, after initializing buttons and TextViews\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n        }\n    }\n\n    private void recordTime(String eventType) {\n        String currentTime = dateFormat.format(new Date());\n        String record = eventType + &quot;: &quot; + currentTime + &quot;\\n&quot;;\n\n        // Update the TextView\n        txtDateTime.setText(record);\n\n        // Save the record to the file on SD card\n        String filePath = saveToSDCard(record);\n\n        // Show a toast message\n        Toast.makeText(this, &quot;Recorded: &quot; + eventType, Toast.LENGTH_SHORT).show();\n\n        // Update the file path TextView\n        txtFilePath.setText(&quot;File saved at: &quot; + filePath);\n    }\n\n    private String saveToSDCard(String record) {\n        try {\n            File dir = new File(getExternalFilesDir(null), &quot;time_monitoring&quot;);\n            if (!dir.exists()) {\n                dir.mkdirs();\n            }\n\n            File file = new File(dir, &quot;time_monitoring.txt&quot;);\n            FileWriter fileWriter = new FileWriter(file, true);\n            BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);\n            bufferedWriter.write(record);\n            bufferedWriter.close();\n\n            return file.getAbsolutePath();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return &quot;&quot;;\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == 1) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, &quot;Write permission granted&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                Toast.makeText(this, &quot;Write permission denied&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here's my activity_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnTimeIn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Time In&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;50dp&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnTimeOut&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Time Out&quot;\n        android:layout_below=&quot;@id/btnTimeIn&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtDateTime&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/btnTimeOut&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtFilePath&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/txtDateTime&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>This is what I expect to happen, when I click the Time In or Time Out button, it will add something like this in the &quot;time_monitoring.txt&quot;: Time In: 11/30/2023 06:43:15.</p>\n"},{"tags":["java","sql","performance","oracle11g"],"comments":[{"score":0,"post_type":"question","creation_date":1701319720,"post_id":77575952,"comment_id":136761846,"body_markdown":"Needs more details, like the table structure and any indexes you have. Postgres has a `PLAN` command to have the DB explain what / how a query will be run, check if Oracle has something like it. What are you trying to optimize, memory usage or execution time? [Edit] your question and include all such details. See also [ask].","link":"https://stackoverflow.com/questions/77575952/oracle-sql-query-consuming-high-memory#comment136761846_77575952","body":"Needs more details, like the table structure and any indexes you have. Postgres has a <code>PLAN</code> command to have the DB explain what / how a query will be run, check if Oracle has something like it. What are you trying to optimize, memory usage or execution time? <a href=\"https://stackoverflow.com/posts/77575952/edit\">Edit</a> your question and include all such details. See also <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"score":0,"post_type":"question","creation_date":1701323293,"post_id":77575952,"comment_id":136762124,"body_markdown":"@Robert Im looking for a query which could optimize both memory usage and execution time.These are oracle views which stores the performance related data from where we query.","link":"https://stackoverflow.com/questions/77575952/oracle-sql-query-consuming-high-memory#comment136762124_77575952","body":"@Robert Im looking for a query which could optimize both memory usage and execution time.These are oracle views which stores the performance related data from where we query."},{"score":0,"post_type":"question","creation_date":1701324487,"post_id":77575952,"comment_id":136762221,"body_markdown":"Generate a SQL Monitoring Report to help tune a long-running query, and post the results in the question. That report will give you actual run times and cardinalities per operation, which will help find out exactly what is running slow and why. First, find the SQL_ID of the slow query: `select sql_id, sql_text from gv$sql where lower(sql_fulltext) like lower(&#39;%SUM(disk_reads_delta)%&#39;);` Next, plug the SQL_ID into this query: `select dbms_sqltune.report_sql_monitor(sql_id =&gt; &#39;SQL_ID&#39;, type =&gt; &#39;text&#39;) from dual;` I&#39;d guess there are old statistics for the tables in the DBA_HIST* views.","link":"https://stackoverflow.com/questions/77575952/oracle-sql-query-consuming-high-memory#comment136762221_77575952","body":"Generate a SQL Monitoring Report to help tune a long-running query, and post the results in the question. That report will give you actual run times and cardinalities per operation, which will help find out exactly what is running slow and why. First, find the SQL_ID of the slow query: <code>select sql_id, sql_text from gv$sql where lower(sql_fulltext) like lower(&#39;%SUM(disk_reads_delta)%&#39;);</code> Next, plug the SQL_ID into this query: <code>select dbms_sqltune.report_sql_monitor(sql_id =&gt; &#39;SQL_ID&#39;, type =&gt; &#39;text&#39;) from dual;</code> I&#39;d guess there are old statistics for the tables in the DBA_HIST* views."},{"score":0,"post_type":"question","creation_date":1701366427,"post_id":77575952,"comment_id":136769679,"body_markdown":"Run this to see how many days of AWR data are retained: `select retention from dba_hist_wr_control;` The default value is 8, and if you extended the range or have a very busy database, the underlying tables may be enormous. Check the table size with this query: `select bytes/1024/1024/1024 from dba_segments where segment_name like &#39;WRH$_ACTIVE_SESSION_HISTORY&#39;;` And check the execution plan to ensure that partition pruning is only reading the relevant data. (Your query may need to filter by both SNAP_ID and DBID.) On multitenant, you may need to query the root container instead of the PDB.","link":"https://stackoverflow.com/questions/77575952/oracle-sql-query-consuming-high-memory#comment136769679_77575952","body":"Run this to see how many days of AWR data are retained: <code>select retention from dba_hist_wr_control;</code> The default value is 8, and if you extended the range or have a very busy database, the underlying tables may be enormous. Check the table size with this query: <code>select bytes&#47;1024&#47;1024&#47;1024 from dba_segments where segment_name like &#39;WRH$_ACTIVE_SESSION_HISTORY&#39;;</code> And check the execution plan to ensure that partition pruning is only reading the relevant data. (Your query may need to filter by both SNAP_ID and DBID.) On multitenant, you may need to query the root container instead of the PDB."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701323042,"post_id":77576043,"comment_id":136762107,"body_markdown":"Worth a shot, but with INNER joins the optimizer is usually smart enough to apply the predicates first without forcing the issue with a subquery. An explain plan would clear it up though.","link":"https://stackoverflow.com/questions/77575952/oracle-sql-query-consuming-high-memory/77576043#comment136762107_77576043","body":"Worth a shot, but with INNER joins the optimizer is usually smart enough to apply the predicates first without forcing the issue with a subquery. An explain plan would clear it up though."},{"score":0,"post_type":"answer","creation_date":1701323398,"post_id":77576043,"comment_id":136762132,"body_markdown":"Additional info : We execute the query every one hour from our application to collect the top cpu consuming queries.We are looking for a query which gives the  data without using many joins of views/tables","link":"https://stackoverflow.com/questions/77575952/oracle-sql-query-consuming-high-memory/77576043#comment136762132_77576043","body":"Additional info : We execute the query every one hour from our application to collect the top cpu consuming queries.We are looking for a query which gives the  data without using many joins of views/tables"}],"comment_count":2,"score":0,"last_activity_date":1701320902,"creation_date":1701320902,"answer_id":77576043,"question_id":77575952,"body_markdown":"    SELECT\r\n        ss.sql_text,\r\n        a.sql_id,\r\n        SUM(cpu_time_delta) as sum_cpu_time_delta,\r\n        SUM(disk_reads_delta),\r\n        COUNT(*)\r\n    FROM\r\n        dba_hist_sqlstat a,\r\n        (SELECT snap_id FROM dba_hist_snapshot WHERE begin_interval_time &gt; sysdate - 1) s,\r\n        v$sql ss\r\n    WHERE\r\n    a.sql_id IS NOT NULL\r\n        AND s.snap_id = a.snap_id\r\n        AND a.sql_id = ss.sql_id\r\n    GROUP BY\r\n    ss.sql_text,\r\n    a.sql_id\r\n    ORDER BY\r\n    sum_cpu_time_delta DESC\r\n    FETCH FIRST 20 ROWS ONLY;","link":"https://stackoverflow.com/questions/77575952/oracle-sql-query-consuming-high-memory/77576043#77576043","title":"Oracle SQL query consuming high memory","body":"<pre><code>SELECT\n    ss.sql_text,\n    a.sql_id,\n    SUM(cpu_time_delta) as sum_cpu_time_delta,\n    SUM(disk_reads_delta),\n    COUNT(*)\nFROM\n    dba_hist_sqlstat a,\n    (SELECT snap_id FROM dba_hist_snapshot WHERE begin_interval_time &gt; sysdate - 1) s,\n    v$sql ss\nWHERE\na.sql_id IS NOT NULL\n    AND s.snap_id = a.snap_id\n    AND a.sql_id = ss.sql_id\nGROUP BY\nss.sql_text,\na.sql_id\nORDER BY\nsum_cpu_time_delta DESC\nFETCH FIRST 20 ROWS ONLY;\n</code></pre>\n"}],"comment_count":4,"is_answered":false,"view_count":86,"answer_count":1,"score":0,"last_activity_date":1701322096,"creation_date":1701319462,"last_edit_date":1701322096,"question_id":77575952,"body_markdown":"We are using the below SQL query in one of our application to fetch the top cpu queries in the last 24 hours.But unfortunately we are seeing high memory consumption while executing this query.Can you help me to understand what actually causing the issue.If possible help us with a more optimised query which takes very minimal memory.\r\n\r\n    SELECT\r\n    *\r\n    FROM\r\n    (\r\n    SELECT\r\n    ss.sql_text,\r\n    a.sql_id,\r\n    SUM(cpu_time_delta),\r\n    SUM(disk_reads_delta),\r\n    COUNT(*)\r\n    FROM\r\n    dba_hist_sqlstat a,\r\n    dba_hist_snapshot s,\r\n    v$sql ss\r\n    WHERE\r\n    s.snap_id = a.snap_id\r\n    AND a.sql_id = ss.sql_id\r\n    AND s.begin_interval_time &gt; sysdate - 1\r\n    GROUP BY\r\n    ss.sql_text,\r\n    a.sql_id\r\n    ORDER BY\r\n    SUM(cpu_time_delta) DESC\r\n    )\r\n    WHERE\r\n    ROWNUM &lt; 20;\r\n\r\nWe have tried with the below query to see any performance improvement but unfortunately didn&#39;t help\r\n\r\n    SELECT\r\n    ss.sql_text,\r\n    a.sql_id,\r\n    SUM(cpu_time_delta),\r\n    SUM(disk_reads_delta),\r\n    COUNT(*)\r\n    FROM\r\n    dba_hist_sqlstat a,\r\n    dba_hist_snapshot s,\r\n    v$sql ss\r\n    WHERE\r\n    a.sql_id IS NOT NULL\r\n    AND s.snap_id = a.snap_id\r\n    AND a.sql_id = ss.sql_id\r\n    AND s.begin_interval_time &gt; sysdate - 1\r\n    GROUP BY\r\n    ss.sql_text,\r\n    a.sql_id\r\n    ORDER BY\r\n    SUM(cpu_time_delta) DESC\r\n    FETCH FIRST 20 ROWS ONLY;","link":"https://stackoverflow.com/questions/77575952/oracle-sql-query-consuming-high-memory","title":"Oracle SQL query consuming high memory","body":"<p>We are using the below SQL query in one of our application to fetch the top cpu queries in the last 24 hours.But unfortunately we are seeing high memory consumption while executing this query.Can you help me to understand what actually causing the issue.If possible help us with a more optimised query which takes very minimal memory.</p>\n<pre><code>SELECT\n*\nFROM\n(\nSELECT\nss.sql_text,\na.sql_id,\nSUM(cpu_time_delta),\nSUM(disk_reads_delta),\nCOUNT(*)\nFROM\ndba_hist_sqlstat a,\ndba_hist_snapshot s,\nv$sql ss\nWHERE\ns.snap_id = a.snap_id\nAND a.sql_id = ss.sql_id\nAND s.begin_interval_time &gt; sysdate - 1\nGROUP BY\nss.sql_text,\na.sql_id\nORDER BY\nSUM(cpu_time_delta) DESC\n)\nWHERE\nROWNUM &lt; 20;\n</code></pre>\n<p>We have tried with the below query to see any performance improvement but unfortunately didn't help</p>\n<pre><code>SELECT\nss.sql_text,\na.sql_id,\nSUM(cpu_time_delta),\nSUM(disk_reads_delta),\nCOUNT(*)\nFROM\ndba_hist_sqlstat a,\ndba_hist_snapshot s,\nv$sql ss\nWHERE\na.sql_id IS NOT NULL\nAND s.snap_id = a.snap_id\nAND a.sql_id = ss.sql_id\nAND s.begin_interval_time &gt; sysdate - 1\nGROUP BY\nss.sql_text,\na.sql_id\nORDER BY\nSUM(cpu_time_delta) DESC\nFETCH FIRST 20 ROWS ONLY;\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","unit-testing","spring-data-jpa"],"comment_count":0,"is_answered":false,"view_count":26,"answer_count":0,"score":0,"last_activity_date":1701320881,"creation_date":1701320433,"last_edit_date":1701320881,"question_id":77576008,"body_markdown":"I have my chat entity which contains a list of messages. These messages should be sorted by creation date, and for this I have it annotated with the orderBy annotation. However, the test is failing, even though this is working correctly in my application, which was failing before I added the annotation.\r\n\r\n```\r\n@DataJpaTest\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\nclass ChatRepositoryTest {\r\n\r\n    @Autowired\r\n    ChatRepository chatRepository;\r\n\r\n    @Autowired\r\n    UserRepository userRepository;\r\n    \r\n    @Test\r\n    void testMessageOrder() {\r\n        MessageEntity messageEntity1 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(1)).build();\r\n        MessageEntity messageEntity2 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(2)).build();\r\n        MessageEntity messageEntity3 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(3)).build();\r\n\r\n        List&lt;MessageEntity&gt; messageEntityList = new ArrayList&lt;&gt;();\r\n        messageEntityList.add(messageEntity2);\r\n        messageEntityList.add(messageEntity1);\r\n        messageEntityList.add(messageEntity3);\r\n\r\n        ChatEntity chatEntity = ChatEntity.builder()\r\n                .messageEntityList(messageEntityList)\r\n                .build();\r\n\r\n        chatEntity = chatRepository.save(chatEntity);\r\n\r\n        ChatEntity chatEntityList = chatRepository.findById(chatEntity.getId()).orElseThrow();\r\n\r\n        List&lt;MessageEntity&gt; messages = chatEntityList.getMessageEntityList();\r\n        for (int i = 0; i &lt; messages.size() - 1; i++) {\r\n            assertTrue(messages.get(i).getCreationDate().isBefore(messages.get(i + 1).getCreationDate()));\r\n        }\r\n    }\r\n```\r\n\r\nI have also tried this using TestEntityManager:\r\n\r\n```\r\n@Test\r\nvoid testMessageOrder() {\r\n  // Create messages with different creation dates\r\n  MessageEntity messageEntity1 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(1)).build();\r\n  MessageEntity messageEntity2 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(2)).build();\r\n  MessageEntity messageEntity3 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(3)).build();\r\n        \r\n  // Add messages to list in an unordered manner\r\n  List&lt;MessageEntity&gt; messageEntityList = new ArrayList&lt;&gt;();\r\n  messageEntityList.add(messageEntity1);\r\n  messageEntityList.add(messageEntity3);\r\n  messageEntityList.add(messageEntity2);\r\n\r\n  // Create chat entity with the list of messages\r\n  ChatEntity chatEntity = ChatEntity.builder()\r\n         .messageEntityList(messageEntityList)\r\n         .build();\r\n\r\n  // Save chat entity\r\n  chatEntity = chatRepository.saveAndFlush(chatEntity);\r\n  entityManager.flush();\r\n  entityManager.refresh(chatEntity);\r\n\r\n  // Add a new message\r\n  MessageEntity messageEntity4 = MessageEntity.builder().creationDate(ZonedDateTime.now()).build();\r\n  chatEntity.getMessageEntityList().add(messageEntity4);\r\n  chatRepository.save(chatEntity);\r\n\r\n  // Retrieve the chat entity\r\n  ChatEntity chatEntityList = chatRepository.findById(chatEntity.getId()).orElseThrow();\r\n\r\n  // Retrieve the list of messages\r\n  List&lt;MessageEntity&gt; messages = chatEntityList.getMessageEntityList();\r\n\r\n  // Check the order of messages\r\n  for (int i = 0; i &lt; messages.size() - 1; i++) {       assertTrue(messages.get(i).getCreationDate().isBefore(messages.get(i + 1).getCreationDate()));\r\n  }\r\n}\r\n```\r\n\r\nBut it passes with or without the orderBy annotation.\r\n\r\nThese are my entities:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;message&quot;)\r\n@Builder(toBuilder = true)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class MessageEntity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;content&quot;)\r\n    private String content;\r\n\r\n    @Column(name = &quot;creation_date&quot;)\r\n    private ZonedDateTime creationDate;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;chat_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private ChatEntity chatEntity;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;chat&quot;)\r\n@Builder(toBuilder = true)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ChatEntity {\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @OneToMany(mappedBy = &quot;chatEntity&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @OrderBy(&quot;creationDate&quot;)\r\n    private List&lt;MessageEntity&gt; messageEntityList;\r\n}\r\n```\r\n\r\nThank you very much.\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77576008/how-to-test-entity-with-orderby-annotation-is-correctly-ordered-using-spring-bo","title":"How to test entity with @OrderBy annotation is correctly ordered using Spring Boot?","body":"<p>I have my chat entity which contains a list of messages. These messages should be sorted by creation date, and for this I have it annotated with the orderBy annotation. However, the test is failing, even though this is working correctly in my application, which was failing before I added the annotation.</p>\n<pre><code>@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\nclass ChatRepositoryTest {\n\n    @Autowired\n    ChatRepository chatRepository;\n\n    @Autowired\n    UserRepository userRepository;\n    \n    @Test\n    void testMessageOrder() {\n        MessageEntity messageEntity1 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(1)).build();\n        MessageEntity messageEntity2 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(2)).build();\n        MessageEntity messageEntity3 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(3)).build();\n\n        List&lt;MessageEntity&gt; messageEntityList = new ArrayList&lt;&gt;();\n        messageEntityList.add(messageEntity2);\n        messageEntityList.add(messageEntity1);\n        messageEntityList.add(messageEntity3);\n\n        ChatEntity chatEntity = ChatEntity.builder()\n                .messageEntityList(messageEntityList)\n                .build();\n\n        chatEntity = chatRepository.save(chatEntity);\n\n        ChatEntity chatEntityList = chatRepository.findById(chatEntity.getId()).orElseThrow();\n\n        List&lt;MessageEntity&gt; messages = chatEntityList.getMessageEntityList();\n        for (int i = 0; i &lt; messages.size() - 1; i++) {\n            assertTrue(messages.get(i).getCreationDate().isBefore(messages.get(i + 1).getCreationDate()));\n        }\n    }\n</code></pre>\n<p>I have also tried this using TestEntityManager:</p>\n<pre><code>@Test\nvoid testMessageOrder() {\n  // Create messages with different creation dates\n  MessageEntity messageEntity1 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(1)).build();\n  MessageEntity messageEntity2 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(2)).build();\n  MessageEntity messageEntity3 = MessageEntity.builder().creationDate(ZonedDateTime.now().minusDays(3)).build();\n        \n  // Add messages to list in an unordered manner\n  List&lt;MessageEntity&gt; messageEntityList = new ArrayList&lt;&gt;();\n  messageEntityList.add(messageEntity1);\n  messageEntityList.add(messageEntity3);\n  messageEntityList.add(messageEntity2);\n\n  // Create chat entity with the list of messages\n  ChatEntity chatEntity = ChatEntity.builder()\n         .messageEntityList(messageEntityList)\n         .build();\n\n  // Save chat entity\n  chatEntity = chatRepository.saveAndFlush(chatEntity);\n  entityManager.flush();\n  entityManager.refresh(chatEntity);\n\n  // Add a new message\n  MessageEntity messageEntity4 = MessageEntity.builder().creationDate(ZonedDateTime.now()).build();\n  chatEntity.getMessageEntityList().add(messageEntity4);\n  chatRepository.save(chatEntity);\n\n  // Retrieve the chat entity\n  ChatEntity chatEntityList = chatRepository.findById(chatEntity.getId()).orElseThrow();\n\n  // Retrieve the list of messages\n  List&lt;MessageEntity&gt; messages = chatEntityList.getMessageEntityList();\n\n  // Check the order of messages\n  for (int i = 0; i &lt; messages.size() - 1; i++) {       assertTrue(messages.get(i).getCreationDate().isBefore(messages.get(i + 1).getCreationDate()));\n  }\n}\n</code></pre>\n<p>But it passes with or without the orderBy annotation.</p>\n<p>These are my entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;message&quot;)\n@Builder(toBuilder = true)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class MessageEntity {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;content&quot;)\n    private String content;\n\n    @Column(name = &quot;creation_date&quot;)\n    private ZonedDateTime creationDate;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;chat_id&quot;, referencedColumnName = &quot;id&quot;)\n    private ChatEntity chatEntity;\n}\n\n@Entity\n@Table(name = &quot;chat&quot;)\n@Builder(toBuilder = true)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ChatEntity {\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @OneToMany(mappedBy = &quot;chatEntity&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @OrderBy(&quot;creationDate&quot;)\n    private List&lt;MessageEntity&gt; messageEntityList;\n}\n</code></pre>\n<p>Thank you very much.</p>\n"},{"tags":["java","angular","typescript","spring","ionic-framework"],"comments":[{"score":0,"post_type":"question","creation_date":1701310210,"post_id":77575219,"comment_id":136761069,"body_markdown":"If it&#39;s just a way to access a specific quiz, you just need a unique string in the URL, the URL itself is the password, no need to encrypt it. Generating a [uuid](https://en.wikipedia.org/wiki/Universally_unique_identifier) should be fine, you can just tell the user not to share it. I know a few sites that do this - like drawnames.com - granted this is only acceptable if you are not protecting sensitive data.","link":"https://stackoverflow.com/questions/77575219/creating-a-link-to-share-that-contains-the-password#comment136761069_77575219","body":"If it&#39;s just a way to access a specific quiz, you just need a unique string in the URL, the URL itself is the password, no need to encrypt it. Generating a <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">uuid</a> should be fine, you can just tell the user not to share it. I know a few sites that do this - like drawnames.com - granted this is only acceptable if you are not protecting sensitive data."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701320688,"creation_date":1701320688,"answer_id":77576024,"question_id":77575219,"body_markdown":"# If save the results of quiz\r\nIf you save the results of quiz per specific URL, Your way seems very danger.  \r\nEven if the password was encrypted and included in URL, knowing Url can access the quiz and change the results.\r\n\r\nURL data can be hijacked by the middle-ware like proxy server or snipping.  \r\nAnd even it stored in the browser, so if you access URL on a public PC, the URL may be stored in the browser and exposed.\r\n\r\nIt means anyone who knows URL can modify it&#39;s result.  \r\n\r\n# If not save the results of quiz\r\nLike Chris Hamilton mentioned in comment, If just a way to access a specific quiz, and not save the results.  \r\nJust specify url like uuid or id of the quiz.  \r\nIn this case, URL data is not sensitive and it does not matter if it is exposed.  \r\n","link":"https://stackoverflow.com/questions/77575219/creating-a-link-to-share-that-contains-the-password/77576024#77576024","title":"Creating a link to share that contains the password","body":"<h1>If save the results of quiz</h1>\n<p>If you save the results of quiz per specific URL, Your way seems very danger.<br />\nEven if the password was encrypted and included in URL, knowing Url can access the quiz and change the results.</p>\n<p>URL data can be hijacked by the middle-ware like proxy server or snipping.<br />\nAnd even it stored in the browser, so if you access URL on a public PC, the URL may be stored in the browser and exposed.</p>\n<p>It means anyone who knows URL can modify it's result.</p>\n<h1>If not save the results of quiz</h1>\n<p>Like Chris Hamilton mentioned in comment, If just a way to access a specific quiz, and not save the results.<br />\nJust specify url like uuid or id of the quiz.<br />\nIn this case, URL data is not sensitive and it does not matter if it is exposed.</p>\n"}],"comment_count":1,"is_answered":false,"view_count":36,"answer_count":1,"score":-1,"last_activity_date":1701320688,"creation_date":1701303976,"question_id":77575219,"body_markdown":"I&#39;m creating this Quiz application with Ionic and Java+Spring\r\n\r\nNow i need to create a sort of link that i can share with other people, so they can access a specific quiz that i created.\r\n\r\nTo enter inside a quiz, you need to have the password for it.\r\n\r\nBut i&#39;m looking for to create a sort of link that i wont need to put a password if enter inside the application from the link that i got.\r\n\r\nI was thinking to encrypt the password and pass it inside the URL, and then decrypt it when got inside the application, but i don&#39;t know if it is the best option.\r\n\r\n","link":"https://stackoverflow.com/questions/77575219/creating-a-link-to-share-that-contains-the-password","title":"Creating a link to share that contains the password","body":"<p>I'm creating this Quiz application with Ionic and Java+Spring</p>\n<p>Now i need to create a sort of link that i can share with other people, so they can access a specific quiz that i created.</p>\n<p>To enter inside a quiz, you need to have the password for it.</p>\n<p>But i'm looking for to create a sort of link that i wont need to put a password if enter inside the application from the link that i got.</p>\n<p>I was thinking to encrypt the password and pass it inside the URL, and then decrypt it when got inside the application, but i don't know if it is the best option.</p>\n"},{"tags":["java","accessibility","itext7","nvda","pac"],"comment_count":0,"is_answered":false,"view_count":21,"answer_count":0,"score":0,"last_activity_date":1701319965,"creation_date":1701319965,"question_id":77575977,"body_markdown":"I want to render 2 tables side by side using itext 7.2.5 (java) without using nested tables.\r\n[enter image description here](https://i.stack.imgur.com/wj96Q.png)\r\n\r\n\r\nCan you help us on how we can design it using itext 7.2.5 without using nested tables. It should suppport accessibility i.e. PAC tool should mention no errors and nvda should read properly?\r\n\r\n\r\n\r\n// ACCESSIBILITY : Added additonal parameter for image to support accessibility\r\n    public static Table getTrailingReturnsTable(PdfDocument pdfDocument, String alternateDescription) {\r\n\r\n        float canvasWidth = (534 / 2) - 10; //canvas.getDocument().getDefaultPageSize().getWidth();\r\n        float canvasHeight = 80f; //canvas.getDocument().getDefaultPageSize().getHeight();\r\n\r\n        PdfFormXObject pdfFormXObject = new PdfFormXObject(new PageSize(canvasWidth, canvasHeight));\r\n        Canvas canvas = new Canvas(pdfFormXObject, pdfDocument);\r\n\r\n        // Create the first table\r\n        Table table1 = new Table(UnitValue.createPercentArray(new float[]{1, 1, 1, 1}));\r\n        Cell cell1 = new Cell().add(new Paragraph(&quot;Cell L1,1&quot;));\r\n        Cell cell2 = new Cell().add(new Paragraph(&quot;Cell L1,2&quot;));\r\n        Cell cell3 = new Cell().add(new Paragraph(&quot;Cell L1,3&quot;));\r\n        Cell cell4 = new Cell().add(new Paragraph(&quot;Cell L1,4&quot;));\r\n\r\n        cell1.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n        cell2.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n        cell3.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n        cell4.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n\r\n        table1.addHeaderCell(cell1);\r\n        table1.addHeaderCell(cell2);\r\n        table1.addHeaderCell(cell3);\r\n        table1.addHeaderCell(cell4);\r\n        table1.addCell(&quot;Cell L2,1&quot;);\r\n        table1.addCell(&quot;Cell L2,2&quot;);\r\n        table1.addCell(&quot;Cell L2,3&quot;);\r\n        table1.addCell(&quot;Cell L2,4&quot;);\r\n        table1.addCell(&quot;Cell L3,1&quot;);\r\n        table1.addCell(&quot;Cell L3,2&quot;);\r\n        table1.addCell(&quot;Cell L3,3&quot;);\r\n        table1.addCell(&quot;Cell L3,4&quot;);\r\n\r\n        // Create a canvas for drawing on the template\r\n        canvas.add(table1);\r\n        return table1;\r\n        /*\r\n        Image image = new Image(pdfFormXObject);\r\n        // Set any additional properties for the image, such as size\r\n        image.setWidth(canvasWidth);\r\n        image.setMinHeight(canvasHeight);\r\n\r\n        // ACCESSIBILITY : Add Alternate description to an image\r\n        image.getAccessibilityProperties().setAlternateDescription(alternateDescription);\r\n        return image;\r\n         */\r\n    }\r\n\r\n    public static Table getTrailingReturnsTable2(PdfDocument pdfDocument, String alternateDescription) {\r\n\r\n        float canvasWidth = (534 / 2) - 10; //canvas.getDocument().getDefaultPageSize().getWidth();\r\n        float canvasHeight = 80f; //canvas.getDocument().getDefaultPageSize().getHeight();\r\n\r\n        PdfFormXObject pdfFormXObject = new PdfFormXObject(new PageSize(canvasWidth, canvasHeight));\r\n        Canvas canvas = new Canvas(pdfFormXObject, pdfDocument);\r\n\r\n        // Create the second table\r\n        Table table2 = new Table(UnitValue.createPercentArray(new float[]{1, 1, 1}));\r\n        Cell cellR1 = new Cell().add(new Paragraph(&quot;Cell R1,1&quot;));\r\n        Cell cellR2 = new Cell().add(new Paragraph(&quot;Cell R1,2&quot;));\r\n        Cell cellR3 = new Cell().add(new Paragraph(&quot;Cell R1,3&quot;));\r\n\r\n        cellR1.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n        cellR2.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n        cellR3.getAccessibilityProperties().setRole(StandardRoles.TH);\r\n        table2.addHeaderCell(cellR1);\r\n        table2.addHeaderCell(cellR2);\r\n        table2.addHeaderCell(cellR3);\r\n        table2.addCell(&quot;Cell R2,1&quot;);\r\n        table2.addCell(&quot;Cell R2,2&quot;);\r\n        table2.addCell(&quot;Cell R2,3&quot;);\r\n\r\n        // Create a canvas for drawing on the template\r\n        canvas.add(table2);\r\n        return table2;\r\n        /*\r\n        Image image = new Image(pdfFormXObject);\r\n        // Set any additional properties for the image, such as size\r\n        image.setWidth(canvasWidth);\r\n        image.setMinHeight(canvasHeight);\r\n\r\n        // ACCESSIBILITY : Add Alternate description to an image\r\n        image.getAccessibilityProperties().setAlternateDescription(alternateDescription);\r\n        return image;\r\n         */\r\n    }\r\n\r\nThis is added to document\r\nDiv childDiv7 = new Div();\r\n            childDiv7.setBackgroundColor(ColorConstants.GREEN).setMargin(0);\r\n\r\n            Table table1 = getTrailingReturnsTable(pdfDocument, &quot;Table1&quot;);\r\n            Table table2 = getTrailingReturnsTable2(pdfDocument, &quot;Table2&quot;);\r\n\r\n            // Adjust the vertical alignment of the second table\r\n            float verticalOffset = table1.getHeight().getValue() - table2.getHeight().getValue();\r\n            table2.setMarginTop(verticalOffset);\r\n            childDiv7.add(new Paragraph().add(table1.setWidth(UnitValue.createPercentValue(40f)).setBackgroundColor(ColorConstants.ORANGE)).setVerticalAlignment(VerticalAlignment.TOP)\r\n                    .add(new Paragraph().add(table2.setBackgroundColor(ColorConstants.YELLOW)).setVerticalAlignment(VerticalAlignment.TOP)).setVerticalAlignment(VerticalAlignment.TOP));\r\n\r\n            document.add(childDiv7);\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\nI have tried using div, which renders each table into a new row.\r\nI tried using paragraph, it renders 2 tables side by side, but if the height of table2 is less than table 1, then the table2 is rendered from bottom.\r\n[enter image description here](https://i.stack.imgur.com/NcShb.png)\r\n\r\nI tried using canvas, here I need to provide exact location of canvas. I tried converting table added canvas to image, but it did not render properly.\r\n","link":"https://stackoverflow.com/questions/77575977/how-can-i-render-2-table-side-by-side-in-a-pdf-report-using-itext-7-2-5","title":"How can I render 2 table side by side in a PDF report using itext 7.2.5","body":"<p>I want to render 2 tables side by side using itext 7.2.5 (java) without using nested tables.\n<a href=\"https://i.stack.imgur.com/wj96Q.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Can you help us on how we can design it using itext 7.2.5 without using nested tables. It should suppport accessibility i.e. PAC tool should mention no errors and nvda should read properly?</p>\n<p>// ACCESSIBILITY : Added additonal parameter for image to support accessibility\npublic static Table getTrailingReturnsTable(PdfDocument pdfDocument, String alternateDescription) {</p>\n<pre><code>    float canvasWidth = (534 / 2) - 10; //canvas.getDocument().getDefaultPageSize().getWidth();\n    float canvasHeight = 80f; //canvas.getDocument().getDefaultPageSize().getHeight();\n\n    PdfFormXObject pdfFormXObject = new PdfFormXObject(new PageSize(canvasWidth, canvasHeight));\n    Canvas canvas = new Canvas(pdfFormXObject, pdfDocument);\n\n    // Create the first table\n    Table table1 = new Table(UnitValue.createPercentArray(new float[]{1, 1, 1, 1}));\n    Cell cell1 = new Cell().add(new Paragraph(&quot;Cell L1,1&quot;));\n    Cell cell2 = new Cell().add(new Paragraph(&quot;Cell L1,2&quot;));\n    Cell cell3 = new Cell().add(new Paragraph(&quot;Cell L1,3&quot;));\n    Cell cell4 = new Cell().add(new Paragraph(&quot;Cell L1,4&quot;));\n\n    cell1.getAccessibilityProperties().setRole(StandardRoles.TH);\n    cell2.getAccessibilityProperties().setRole(StandardRoles.TH);\n    cell3.getAccessibilityProperties().setRole(StandardRoles.TH);\n    cell4.getAccessibilityProperties().setRole(StandardRoles.TH);\n\n    table1.addHeaderCell(cell1);\n    table1.addHeaderCell(cell2);\n    table1.addHeaderCell(cell3);\n    table1.addHeaderCell(cell4);\n    table1.addCell(&quot;Cell L2,1&quot;);\n    table1.addCell(&quot;Cell L2,2&quot;);\n    table1.addCell(&quot;Cell L2,3&quot;);\n    table1.addCell(&quot;Cell L2,4&quot;);\n    table1.addCell(&quot;Cell L3,1&quot;);\n    table1.addCell(&quot;Cell L3,2&quot;);\n    table1.addCell(&quot;Cell L3,3&quot;);\n    table1.addCell(&quot;Cell L3,4&quot;);\n\n    // Create a canvas for drawing on the template\n    canvas.add(table1);\n    return table1;\n    /*\n    Image image = new Image(pdfFormXObject);\n    // Set any additional properties for the image, such as size\n    image.setWidth(canvasWidth);\n    image.setMinHeight(canvasHeight);\n\n    // ACCESSIBILITY : Add Alternate description to an image\n    image.getAccessibilityProperties().setAlternateDescription(alternateDescription);\n    return image;\n     */\n}\n\npublic static Table getTrailingReturnsTable2(PdfDocument pdfDocument, String alternateDescription) {\n\n    float canvasWidth = (534 / 2) - 10; //canvas.getDocument().getDefaultPageSize().getWidth();\n    float canvasHeight = 80f; //canvas.getDocument().getDefaultPageSize().getHeight();\n\n    PdfFormXObject pdfFormXObject = new PdfFormXObject(new PageSize(canvasWidth, canvasHeight));\n    Canvas canvas = new Canvas(pdfFormXObject, pdfDocument);\n\n    // Create the second table\n    Table table2 = new Table(UnitValue.createPercentArray(new float[]{1, 1, 1}));\n    Cell cellR1 = new Cell().add(new Paragraph(&quot;Cell R1,1&quot;));\n    Cell cellR2 = new Cell().add(new Paragraph(&quot;Cell R1,2&quot;));\n    Cell cellR3 = new Cell().add(new Paragraph(&quot;Cell R1,3&quot;));\n\n    cellR1.getAccessibilityProperties().setRole(StandardRoles.TH);\n    cellR2.getAccessibilityProperties().setRole(StandardRoles.TH);\n    cellR3.getAccessibilityProperties().setRole(StandardRoles.TH);\n    table2.addHeaderCell(cellR1);\n    table2.addHeaderCell(cellR2);\n    table2.addHeaderCell(cellR3);\n    table2.addCell(&quot;Cell R2,1&quot;);\n    table2.addCell(&quot;Cell R2,2&quot;);\n    table2.addCell(&quot;Cell R2,3&quot;);\n\n    // Create a canvas for drawing on the template\n    canvas.add(table2);\n    return table2;\n    /*\n    Image image = new Image(pdfFormXObject);\n    // Set any additional properties for the image, such as size\n    image.setWidth(canvasWidth);\n    image.setMinHeight(canvasHeight);\n\n    // ACCESSIBILITY : Add Alternate description to an image\n    image.getAccessibilityProperties().setAlternateDescription(alternateDescription);\n    return image;\n     */\n}\n</code></pre>\n<p>This is added to document\nDiv childDiv7 = new Div();\nchildDiv7.setBackgroundColor(ColorConstants.GREEN).setMargin(0);</p>\n<pre><code>        Table table1 = getTrailingReturnsTable(pdfDocument, &quot;Table1&quot;);\n        Table table2 = getTrailingReturnsTable2(pdfDocument, &quot;Table2&quot;);\n\n        // Adjust the vertical alignment of the second table\n        float verticalOffset = table1.getHeight().getValue() - table2.getHeight().getValue();\n        table2.setMarginTop(verticalOffset);\n        childDiv7.add(new Paragraph().add(table1.setWidth(UnitValue.createPercentValue(40f)).setBackgroundColor(ColorConstants.ORANGE)).setVerticalAlignment(VerticalAlignment.TOP)\n                .add(new Paragraph().add(table2.setBackgroundColor(ColorConstants.YELLOW)).setVerticalAlignment(VerticalAlignment.TOP)).setVerticalAlignment(VerticalAlignment.TOP));\n\n        document.add(childDiv7);\n</code></pre>\n<p>I have tried using div, which renders each table into a new row.\nI tried using paragraph, it renders 2 tables side by side, but if the height of table2 is less than table 1, then the table2 is rendered from bottom.\n<a href=\"https://i.stack.imgur.com/NcShb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried using canvas, here I need to provide exact location of canvas. I tried converting table added canvas to image, but it did not render properly.</p>\n"},{"tags":["java","android","kotlin"],"comment_count":0,"is_answered":false,"view_count":70,"answer_count":0,"score":0,"last_activity_date":1701319898,"creation_date":1701294099,"last_edit_date":1701319898,"question_id":77574642,"body_markdown":"I have a background application, and it is working like a charm but when I boot my device and call it with broadcast, it is not working because of `com.miui.powerkeeper`.\r\nHere is the error log:\r\n````\r\nE  removePowerSaveWhitelistApps: [com.milink.service, com.miui.msa.global,...]\r\n    java.lang.UnsupportedOperationException: Cannot remove system whitelisted app\r\n````\r\nSo, how can I achieve this error and block `com.miui.powerkeeper` programmatically in Android?\r\n\r\nI tried giving battery optimization permission, but it did not work.","link":"https://stackoverflow.com/questions/77574642/preventing-com-miui-powerkeeper-in-android","title":"Preventing com.miui.powerkeeper in android","body":"<p>I have a background application, and it is working like a charm but when I boot my device and call it with broadcast, it is not working because of <code>com.miui.powerkeeper</code>.\nHere is the error log:</p>\n<pre><code>E  removePowerSaveWhitelistApps: [com.milink.service, com.miui.msa.global,...]\n    java.lang.UnsupportedOperationException: Cannot remove system whitelisted app\n</code></pre>\n<p>So, how can I achieve this error and block <code>com.miui.powerkeeper</code> programmatically in Android?</p>\n<p>I tried giving battery optimization permission, but it did not work.</p>\n"},{"tags":["java","maven","intellij-idea","jar","maven-assembly-plugin"],"comments":[{"score":0,"post_type":"question","creation_date":1701255074,"post_id":77570268,"comment_id":136752098,"body_markdown":"The maven-assembly-plugin must be bound to the lifecycle https://maven.apache.org/plugins/maven-assembly-plugin/usage.html","link":"https://stackoverflow.com/questions/77570268/jar-file-does-not-contain-my-project-classes#comment136752098_77570268","body":"The maven-assembly-plugin must be bound to the lifecycle <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/usage.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-assembly-plugin/usage.html</a>"},{"score":0,"post_type":"question","creation_date":1701257381,"post_id":77570268,"comment_id":136752519,"body_markdown":"I added the &lt;execution&gt; to the POM as advised, but still, the main class is empty after packing the Jar.","link":"https://stackoverflow.com/questions/77570268/jar-file-does-not-contain-my-project-classes#comment136752519_77570268","body":"I added the &lt;execution&gt; to the POM as advised, but still, the main class is empty after packing the Jar."},{"score":0,"post_type":"question","creation_date":1701258209,"post_id":77570268,"comment_id":136752680,"body_markdown":"If you do not manage to find a fix for this problem, download the required jar files from the web and create a jar file in intellij using artifacts. It&#39;s a lot easier.","link":"https://stackoverflow.com/questions/77570268/jar-file-does-not-contain-my-project-classes#comment136752680_77570268","body":"If you do not manage to find a fix for this problem, download the required jar files from the web and create a jar file in intellij using artifacts. It&#39;s a lot easier."},{"score":0,"post_type":"question","creation_date":1701259072,"post_id":77570268,"comment_id":136752865,"body_markdown":"That was my first approach and faced the same issue. Then I thought of using Maven and still no fix to the issue :(. The classes in the dependencies are also empty.","link":"https://stackoverflow.com/questions/77570268/jar-file-does-not-contain-my-project-classes#comment136752865_77570268","body":"That was my first approach and faced the same issue. Then I thought of using Maven and still no fix to the issue :(. The classes in the dependencies are also empty."},{"score":0,"post_type":"question","creation_date":1701277718,"post_id":77570268,"comment_id":136756804,"body_markdown":"Where have you located your java source files ... show the full directory layout...","link":"https://stackoverflow.com/questions/77570268/jar-file-does-not-contain-my-project-classes#comment136756804_77570268","body":"Where have you located your java source files ... show the full directory layout..."},{"score":0,"post_type":"question","creation_date":1701340156,"post_id":77570268,"comment_id":136764489,"body_markdown":"How exactly you are building the Artifact? IDEA has a few options for that - which one do you use?\n\nAlso, does the JAR you currently get actually work? May it is just a problem with the decompiler?","link":"https://stackoverflow.com/questions/77570268/jar-file-does-not-contain-my-project-classes#comment136764489_77570268","body":"How exactly you are building the Artifact? IDEA has a few options for that - which one do you use?  Also, does the JAR you currently get actually work? May it is just a problem with the decompiler?"}],"comment_count":6,"is_answered":false,"view_count":34,"answer_count":0,"score":-1,"last_activity_date":1701319898,"creation_date":1701253223,"last_edit_date":1701319898,"question_id":77570268,"body_markdown":"I am trying to package my project with dependency using Maven in IntelliJ. \r\nI tried to use the maven-assembly-plugin to package the jar file, below is the pom.xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n         http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.myproject&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myApp&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;name&gt;myApp&lt;/name&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.0.jre8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.temenos.XmlCompression&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;jar-with-dependencies&lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n             &lt;id&gt;make-assembly&lt;/id&gt; \r\n             &lt;phase&gt;package&lt;/phase&gt; \r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt; &lt;/project&gt;\r\n\r\nThe jar file with dependency is successfully built in the target location. But when I decompile the JAR file using JDGUI, the main class is empty or shows &quot;INTERNAL ERROR&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat shall I need to do, to get my project built with all dependencies including my main class?\r\n\r\nDirectory\r\n[![enter image description here][3]][3]\r\n\r\nEdit:\r\nAdded the &#39;executions&#39; in the pom.xml\r\nAdded Directory structure\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WUJMD.png\r\n  [2]: https://i.stack.imgur.com/Qfwzq.png\r\n  [3]: https://i.stack.imgur.com/M1gej.png","link":"https://stackoverflow.com/questions/77570268/jar-file-does-not-contain-my-project-classes","title":"Jar file does not contain my project classes","body":"<p>I am trying to package my project with dependency using Maven in IntelliJ.\nI tried to use the maven-assembly-plugin to package the jar file, below is the pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n     http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.myproject&lt;/groupId&gt;\n&lt;artifactId&gt;myApp&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n&lt;name&gt;myApp&lt;/name&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;12.2.0.jre8&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;com.temenos.XmlCompression&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;jar-with-dependencies&lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n         &lt;id&gt;make-assembly&lt;/id&gt; \n         &lt;phase&gt;package&lt;/phase&gt; \n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt; &lt;/project&gt;\n</code></pre>\n<p>The jar file with dependency is successfully built in the target location. But when I decompile the JAR file using JDGUI, the main class is empty or shows &quot;INTERNAL ERROR&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/WUJMD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WUJMD.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Qfwzq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qfwzq.png\" alt=\"enter image description here\" /></a></p>\n<p>What shall I need to do, to get my project built with all dependencies including my main class?</p>\n<p>Directory\n<a href=\"https://i.stack.imgur.com/M1gej.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M1gej.png\" alt=\"enter image description here\" /></a></p>\n<p>Edit:\nAdded the 'executions' in the pom.xml\nAdded Directory structure</p>\n"},{"tags":["java","bluetooth-lowenergy","android-bluetooth","mobile-development","bluetooth-gatt"],"comments":[{"score":0,"post_type":"question","creation_date":1701859636,"post_id":77575972,"comment_id":136826432,"body_markdown":"Do you implement [`BluetoothGattCallback.onCharacteristicRead`](https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback#onCharacteristicRead(android.bluetooth.BluetoothGatt,%20android.bluetooth.BluetoothGattCharacteristic,%20byte[],%20int))?","link":"https://stackoverflow.com/questions/77575972/warning-deprecation-getvalue-in-bluetoothgattcharacteristic-has-been-deprec#comment136826432_77575972","body":"Do you implement <a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback#onCharacteristicRead(android.bluetooth.BluetoothGatt,%20android.bluetooth.BluetoothGattCharacteristic,%20byte%5B%5D,%20int)\" rel=\"nofollow noreferrer\"><code>BluetoothGattCallback.onCharacteristicRead</code></a>?"}],"comment_count":1,"is_answered":false,"view_count":21,"answer_count":0,"score":0,"last_activity_date":1701319873,"creation_date":1701319873,"question_id":77575972,"body_markdown":"I am updating my current code to API33, i got the warning- warning: [deprecation] getValue() in BluetoothGattCharacteristic has been deprecated\r\n                byte[] countByte = characteristic.getValue();\r\n\r\n\r\nIn the reference: https://developer.android.com/reference/android/bluetooth/BluetoothGattCharacteristic.html#getValue(), it says:\r\nThis method was deprecated in API level 33.\r\nUse BluetoothGatt#readCharacteristic(BluetoothGattCharacteristic) instead.\r\n\r\nBut there is no direct way to implement it on the code I have which is the:\r\n byte[] countByte = characteristic.getValue();\r\n\r\nHow can I solve this?","link":"https://stackoverflow.com/questions/77575972/warning-deprecation-getvalue-in-bluetoothgattcharacteristic-has-been-deprec","title":"warning: [deprecation] getValue() in BluetoothGattCharacteristic has been deprecated in the code: byte[] countByte = characteristic.getValue();","body":"<p>I am updating my current code to API33, i got the warning- warning: [deprecation] getValue() in BluetoothGattCharacteristic has been deprecated\nbyte[] countByte = characteristic.getValue();</p>\n<p>In the reference: <a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothGattCharacteristic.html#getValue()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/bluetooth/BluetoothGattCharacteristic.html#getValue()</a>, it says:\nThis method was deprecated in API level 33.\nUse BluetoothGatt#readCharacteristic(BluetoothGattCharacteristic) instead.</p>\n<p>But there is no direct way to implement it on the code I have which is the:\nbyte[] countByte = characteristic.getValue();</p>\n<p>How can I solve this?</p>\n"},{"tags":["java","algorithm","conventions","selection-sort","branch-prediction"],"comments":[{"score":0,"post_type":"question","creation_date":1701315217,"post_id":77575713,"comment_id":136761467,"body_markdown":"`minx=minx;` could (and hopefully should) optimize away to nothing, same as if there was no `else` branch.  But perhaps the different code is enough to get the JVM to JIT-compile to different machine code.  Possibly branchy vs. branchless (like x86 `cmov` or AArch64 `csel`).","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement#comment136761467_77575713","body":"<code>minx=minx;</code> could (and hopefully should) optimize away to nothing, same as if there was no <code>else</code> branch.  But perhaps the different code is enough to get the JVM to JIT-compile to different machine code.  Possibly branchy vs. branchless (like x86 <code>cmov</code> or AArch64 <code>csel</code>)."},{"score":0,"post_type":"question","creation_date":1701315307,"post_id":77575713,"comment_id":136761474,"body_markdown":"That&#39;s what I would think to do but it doesn&#39;t having the minx=minx; makes it faster, having and empty else and no else are the same speed. That&#39;s what confuses me.","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement#comment136761474_77575713","body":"That&#39;s what I would think to do but it doesn&#39;t having the minx=minx; makes it faster, having and empty else and no else are the same speed. That&#39;s what confuses me."},{"score":1,"post_type":"question","creation_date":1701315589,"post_id":77575713,"comment_id":136761495,"body_markdown":"Ok, empty else being the same as no else makes sense; that might be removed even during `javac` compilation to bytecode.  Oh, your timing doesn&#39;t include any warm-up, so it includes runs where the JVM is just interpreting the bytecode before deciding to make fully optimized asm based on profiling data it gathered from those runs.  The `=` is probably there in the bytecode.  Normally you&#39;d use JMH or something to only time optimized asm, since that&#39;s what long-running Java programs spend most of their time doing. [How do I write a correct micro-benchmark in Java?](//stackoverflow.com/q/504103)","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement#comment136761495_77575713","body":"Ok, empty else being the same as no else makes sense; that might be removed even during <code>javac</code> compilation to bytecode.  Oh, your timing doesn&#39;t include any warm-up, so it includes runs where the JVM is just interpreting the bytecode before deciding to make fully optimized asm based on profiling data it gathered from those runs.  The <code>=</code> is probably there in the bytecode.  Normally you&#39;d use JMH or something to only time optimized asm, since that&#39;s what long-running Java programs spend most of their time doing. <a href=\"//stackoverflow.com/q/504103\">How do I write a correct micro-benchmark in Java?</a>"},{"score":0,"post_type":"question","creation_date":1701315759,"post_id":77575713,"comment_id":136761506,"body_markdown":"Thanks I am going to try that out I&#39;ll add the findings to the post in an edit. That could be the issue.","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement#comment136761506_77575713","body":"Thanks I am going to try that out I&#39;ll add the findings to the post in an edit. That could be the issue."},{"score":0,"post_type":"question","creation_date":1701316021,"post_id":77575713,"comment_id":136761522,"body_markdown":"If you want to check whether the JIT compiler used an asm branch instruction vs. branchless, see [How to see JIT-compiled code in JVM?](https://stackoverflow.com/q/1503479) and look for x86 `cmovle` or similar.  Or just profile the JVM with Linux `perf stat` (which includes the events cycles, instructions, and branches + branch-misses, and calculates % of all executed branches that mispredicted).  Profiling the whole run of Java as a whole includes everything including the time it spends JIT compiling, not running your code, but a change in mispredict rate should be detectable.","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement#comment136761522_77575713","body":"If you want to check whether the JIT compiler used an asm branch instruction vs. branchless, see <a href=\"https://stackoverflow.com/q/1503479\">How to see JIT-compiled code in JVM?</a> and look for x86 <code>cmovle</code> or similar.  Or just profile the JVM with Linux <code>perf stat</code> (which includes the events cycles, instructions, and branches + branch-misses, and calculates % of all executed branches that mispredicted).  Profiling the whole run of Java as a whole includes everything including the time it spends JIT compiling, not running your code, but a change in mispredict rate should be detectable."},{"score":0,"post_type":"question","creation_date":1701316185,"post_id":77575713,"comment_id":136761532,"body_markdown":"BTW, having a non-empty `else` doesn&#39;t make a branch harder to predict.  It can mean that another unconditional branch executes, though, so that could actually swing the mispredict *rate* without changing the total number of mispredict events.  See [How to write if-else in assembly?](https://stackoverflow.com/q/40602029) for the normal way to write a branchy if/else in asm.  Again, I&#39;d hope that `minx=minx;` should be optimized away by the JIT optimizer, although probably not by `javac`.","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement#comment136761532_77575713","body":"BTW, having a non-empty <code>else</code> doesn&#39;t make a branch harder to predict.  It can mean that another unconditional branch executes, though, so that could actually swing the mispredict <i>rate</i> without changing the total number of mispredict events.  See <a href=\"https://stackoverflow.com/q/40602029\">How to write if-else in assembly?</a> for the normal way to write a branchy if/else in asm.  Again, I&#39;d hope that <code>minx=minx;</code> should be optimized away by the JIT optimizer, although probably not by <code>javac</code>."},{"score":0,"post_type":"question","creation_date":1701316772,"post_id":77575713,"comment_id":136761587,"body_markdown":"What model of x86 CPU do you have?  Is it Skylake-family, like Skylake through Comet Lake?  e.g. an i7-6700k .  Skylake-family has a microcode workaround for a CPU bug that makes it slower or not depending on the alignment of branches (not branch targets) in the machine code, see [32-byte aligned routine does not fit the uops cache](https://stackoverflow.com/a/61016915)  .  In optimized asm it&#39;s probably not a store-forwarding latency effect, but that&#39;s another CPU quirk to check on: [Adding a redundant assignment speeds up unoptimized code](https://stackoverflow.com/q/49189685)","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement#comment136761587_77575713","body":"What model of x86 CPU do you have?  Is it Skylake-family, like Skylake through Comet Lake?  e.g. an i7-6700k .  Skylake-family has a microcode workaround for a CPU bug that makes it slower or not depending on the alignment of branches (not branch targets) in the machine code, see <a href=\"https://stackoverflow.com/a/61016915\">32-byte aligned routine does not fit the uops cache</a>  .  In optimized asm it&#39;s probably not a store-forwarding latency effect, but that&#39;s another CPU quirk to check on: <a href=\"https://stackoverflow.com/q/49189685\">Adding a redundant assignment speeds up unoptimized code</a>"},{"score":1,"post_type":"question","creation_date":1701316951,"post_id":77575713,"comment_id":136761607,"body_markdown":"I have an i7-11800H, Tiger Lake, tests are still running but it does seem it was a test issue. Regardless I&#39;ll be sure to look into the sources you game seems interesting.","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement#comment136761607_77575713","body":"I have an i7-11800H, Tiger Lake, tests are still running but it does seem it was a test issue. Regardless I&#39;ll be sure to look into the sources you game seems interesting."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701318102,"post_id":77575847,"comment_id":136761711,"body_markdown":"Ok good, that&#39;s the expected result.  Your test in the question *is* almost certainly measuring a real effect that&#39;s statistically significant, but only during the warm-up phase.  So real or not, it&#39;s probably not *interesting* except for people analyzing details of the JVM.  And no reason to expect it to occur in other programs with different surrounding code or different `if`/`else` bodies, or it could swing the other way and get lucky with the no-else version being faster.  It might or might not also be specific to Intel CPUs, or to Intel Ice/Tiger Lake CPUs.","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement/77575847#comment136761711_77575847","body":"Ok good, that&#39;s the expected result.  Your test in the question <i>is</i> almost certainly measuring a real effect that&#39;s statistically significant, but only during the warm-up phase.  So real or not, it&#39;s probably not <i>interesting</i> except for people analyzing details of the JVM.  And no reason to expect it to occur in other programs with different surrounding code or different <code>if</code>/<code>else</code> bodies, or it could swing the other way and get lucky with the no-else version being faster.  It might or might not also be specific to Intel CPUs, or to Intel Ice/Tiger Lake CPUs."},{"score":0,"post_type":"answer","creation_date":1701319004,"post_id":77575847,"comment_id":136761785,"body_markdown":"I&#39;ve been trying to understand the warm-up phase and what it means I get that it means where the compiler is finding hotspots, changing allocation resources and optimizing itself. But what I ask is let&#39;s say I run it with an array of 100mil len then I run a 5k len array. Would the 5k len array be sorted faster with the 100 mil len array warmup or 10 15k len array iterations. Or I am missing what the warm up phase is entirely.","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement/77575847#comment136761785_77575847","body":"I&#39;ve been trying to understand the warm-up phase and what it means I get that it means where the compiler is finding hotspots, changing allocation resources and optimizing itself. But what I ask is let&#39;s say I run it with an array of 100mil len then I run a 5k len array. Would the 5k len array be sorted faster with the 100 mil len array warmup or 10 15k len array iterations. Or I am missing what the warm up phase is entirely."},{"score":0,"post_type":"answer","creation_date":1701320178,"post_id":77575847,"comment_id":136761898,"body_markdown":"The JVM might decide to stop in the middle of the first array and generate optimized machine code (JIT compile) that function after the loop had been running for a long time, like multiple seconds.  I think normally it decides when to make an optimized version of a function as its being called, but most functions that take ages might only get called once in the life of a long-running program.  (And an O(N^2) sort on 100M elements would take a fair while.)  But yeah, the second call (for the 5k array) will definitely be running fully optimized machine code.","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement/77575847#comment136761898_77575847","body":"The JVM might decide to stop in the middle of the first array and generate optimized machine code (JIT compile) that function after the loop had been running for a long time, like multiple seconds.  I think normally it decides when to make an optimized version of a function as its being called, but most functions that take ages might only get called once in the life of a long-running program.  (And an O(N^2) sort on 100M elements would take a fair while.)  But yeah, the second call (for the 5k array) will definitely be running fully optimized machine code."},{"score":0,"post_type":"answer","creation_date":1701320481,"post_id":77575847,"comment_id":136761925,"body_markdown":"Some relevant articles: https://developers.redhat.com/articles/2021/06/23/how-jit-compiler-boosts-java-performance-openjdk#deoptimization_and_speculation / https://en.wikipedia.org/wiki/Just-in-time_compilation and a Q&amp;A [How does the JVM decided to JIT-compile a method (categorize a method as &quot;hot&quot;)?](https://stackoverflow.com/q/35601841) .  I&#39;ve just skimmed those things that came up high in my google search results, but they look reasonable (unlike a couple other hits that I skimmed which didn&#39;t look as useful.)  The current HotSpot JVM is the result of many years of development work.","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement/77575847#comment136761925_77575847","body":"Some relevant articles: <a href=\"https://developers.redhat.com/articles/2021/06/23/how-jit-compiler-boosts-java-performance-openjdk#deoptimization_and_speculation\" rel=\"nofollow noreferrer\">developers.redhat.com/articles/2021/06/23/&hellip;</a> / <a href=\"https://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Just-in-time_compilation</a> and a Q&amp;A <a href=\"https://stackoverflow.com/q/35601841\">How does the JVM decided to JIT-compile a method (categorize a method as &quot;hot&quot;)?</a> .  I&#39;ve just skimmed those things that came up high in my google search results, but they look reasonable (unlike a couple other hits that I skimmed which didn&#39;t look as useful.)  The current HotSpot JVM is the result of many years of development work."}],"comment_count":4,"score":1,"last_activity_date":1701317672,"last_edit_date":1701317672,"creation_date":1701317593,"answer_id":77575847,"question_id":77575713,"body_markdown":"The reason as [@PeterCordes](https://stackoverflow.com/users/224132/peter-cordes) said in the comments was a testing issue when using correct testing software like [JMH](https://github.com/openjdk/jmh) all the data points are very similar and definitely within my computer have more or less resources available or some other randomness-ish.\r\nHere are the results when using JMH:\r\n```\r\nCommented out else block\r\nMain.selectionSortBenchmark          100  avgt    5   0.003 &#177; 0.001  ms/op\r\nMain.selectionSortBenchmark         1000  avgt    5   0.266 &#177; 0.050  ms/op\r\nMain.selectionSortBenchmark        10000  avgt    5  19.087 &#177; 0.702  ms/op\r\nNot commented out else block\r\nMain.selectionSortBenchmark          100  avgt    5   0.003 &#177;  0.001  ms/op\r\nMain.selectionSortBenchmark         1000  avgt    5   0.234 &#177;  0.010  ms/op\r\nMain.selectionSortBenchmark        10000  avgt    5  18.468 &#177;  3.204  ms/op\r\nEmpty else block\r\nMain.selectionSortBenchmark          100  avgt    5   0.003 &#177;  0.001  ms/op\r\nMain.selectionSortBenchmark         1000  avgt    5   0.273 &#177;  0.005  ms/op\r\nMain.selectionSortBenchmark        10000  avgt    5  20.022 &#177;  2.740  ms/op\r\n```","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement/77575847#77575847","title":"Use branch prediction with no else statement","body":"<p>The reason as <a href=\"https://stackoverflow.com/users/224132/peter-cordes\">@PeterCordes</a> said in the comments was a testing issue when using correct testing software like <a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">JMH</a> all the data points are very similar and definitely within my computer have more or less resources available or some other randomness-ish.\nHere are the results when using JMH:</p>\n<pre><code>Commented out else block\nMain.selectionSortBenchmark          100  avgt    5   0.003 ± 0.001  ms/op\nMain.selectionSortBenchmark         1000  avgt    5   0.266 ± 0.050  ms/op\nMain.selectionSortBenchmark        10000  avgt    5  19.087 ± 0.702  ms/op\nNot commented out else block\nMain.selectionSortBenchmark          100  avgt    5   0.003 ±  0.001  ms/op\nMain.selectionSortBenchmark         1000  avgt    5   0.234 ±  0.010  ms/op\nMain.selectionSortBenchmark        10000  avgt    5  18.468 ±  3.204  ms/op\nEmpty else block\nMain.selectionSortBenchmark          100  avgt    5   0.003 ±  0.001  ms/op\nMain.selectionSortBenchmark         1000  avgt    5   0.273 ±  0.005  ms/op\nMain.selectionSortBenchmark        10000  avgt    5  20.022 ±  2.740  ms/op\n</code></pre>\n"}],"comment_count":8,"is_answered":true,"view_count":83,"answer_count":1,"score":0,"last_activity_date":1701317747,"creation_date":1701315065,"last_edit_date":1701317747,"question_id":77575713,"body_markdown":"I am currently implementing selectionsort. Using the code below and the driver file to test it below. I am currently trying to do micro optimizations to see what speeds it up. \r\n\r\n```java\r\n  public static void selectionsort(int[] data) {\r\n    for (int i = 0; i &lt; data.length; i++) {\r\n      int minx = i;  \r\n      for (int j = i+1; j &lt; data.length; j++) {\r\n          if(data[j] &lt; data[minx]){\r\n            minx = j;\r\n          }\r\n          // else{\r\n          //   minx=minx;\r\n          // }\r\n        }\r\n      int swap = data[minx]; \r\n      data[minx] = data[i]; \r\n      data[i] = swap; \r\n    }\r\n  }\r\n```\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\npublic class Driver {\r\n    public static void main(String[] args) {\r\n        Random r = new Random(12);\r\n        // CODE-BLOCK-A\r\n        // run selection sort version of tests\r\n        double avg = 0;\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            long time = System.currentTimeMillis();\r\n        int[] sgarr = randIntArr(Integer.parseInt(args[0]),r);\r\n        int[] tests = Arrays.copyOf(sgarr, sgarr.length);\r\n        switch (args[1]) {\r\n            case &quot;selection&quot;:\r\n                Sorts.selectionsort(sgarr);\r\n                break;\r\n            case &quot;bubble&quot;:\r\n                Sorts.bubblesort(sgarr);\r\n            default:\r\n                Sorts.insertionsort(sgarr);\r\n                break;\r\n        }\r\n        Arrays.sort(tests);\r\n        if (!equals(tests, sgarr)) {\r\n            System.out.println(&quot;FAIL TO SORT!&quot;);\r\n            System.exit(0);\r\n        }\r\n        // System.out.println(&quot;SUCCESS!&quot;);\r\n    \r\n\r\n        long etime = System.currentTimeMillis();\r\n        avg += (etime-time);\r\n        }\r\n\r\n    System.out.println(&quot;Took &quot;+ avg / (100.0*1000.0) +&quot; seconds&quot;);\r\n\r\n    }\r\n\r\n    public static int[] randIntArr(int count,Random r) {\r\n        int seed = r.nextInt(12433);\r\n        r.setSeed(seed);\r\n        int[] arr = new int[count];\r\n        for (int i = 0; i &lt; count; i++) {\r\n            arr[i] = (int) (r.nextDouble() * 100000);\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    public static boolean equals(int[] d1, int[] d2) {\r\n        if (d1.length != d2.length) {\r\n            return false;\r\n        }\r\n        for (int i = 0; i &lt; d2.length; i++) {\r\n            if (d1[i] != d2[i]) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhat I have tried doing to speed it up is using  an else block that should do nothing. I expected this to slow it down as now it is checking an if statement every time like normal but also assigning minx to itself which should slow it down. But if I put an empty else statement the improvements go away.\r\n\r\nHowever when I run it using this command, when the else block is commented out I get:\r\n```\r\njavac Driver.java \r\n&amp;&amp; java Driver 40000 selection\r\nTook 0.34416 seconds\r\nHowever, when I uncomment out the else block and run the same command it gets noticeably faster\r\nTook 0.30086 seconds\r\n```\r\nMeaning for the best case scenarios on both it is about a 13.43% difference. \r\n\r\nI am assuming that this change is significant enough to not just be random considering I also ran each one multiple times. I then asked my CS teacher about it and he explained it is probably branch prediction. Which does make sense however what I wonder is if I get the same performance enhancements without an essentially useless else statement or if I can&#39;t what is considered better practice to keep or to remove it. Or is 13.43% significant, I don&#39;t believe it is due to my computer because I ran it many times and the values were within 3% of each time.\r\nThis being ran on x86, if that matters. \r\n\r\n___\r\nTested currently using this main file \r\n```java\r\npackage org.example;\r\n\r\n\r\n\r\nimport org.openjdk.jmh.annotations.*;\r\nimport org.openjdk.jmh.runner.Runner;\r\nimport org.openjdk.jmh.runner.RunnerException;\r\nimport org.openjdk.jmh.runner.options.Options;\r\nimport org.openjdk.jmh.runner.options.OptionsBuilder;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n@State(Scope.Benchmark)\r\npublic class Main {\r\n\r\n    @Param({&quot;100&quot;, &quot;1000&quot;, &quot;10000&quot;}) // You can add more values for array sizes\r\n    private int arraySize;\r\n\r\n    private int[] randomArray;\r\n\r\n    @Setup(Level.Iteration)\r\n    public void setup() {\r\n        // Initialize the array with random data\r\n        randomArray = createRandomArray(arraySize);\r\n    }\r\n\r\n    @Benchmark\r\n    public void selectionSortBenchmark() {\r\n        Sorts.selectionsort(randomArray.clone());\r\n    }\r\n\r\n    private int[] createRandomArray(int size) {\r\n        int[] array = new int[size];\r\n        for (int i = 0; i &lt; size; i++) {\r\n            array[i] = (int) (Math.random() * 1000); // Adjust the range as needed\r\n        }\r\n        return array;\r\n    }\r\n\r\n    public static void main(String[] args) throws RunnerException {\r\n        Options opt = new OptionsBuilder()\r\n                .include(Main.class.getSimpleName())\r\n                .forks(1)\r\n                .warmupIterations(5)\r\n                .measurementIterations(5)\r\n                .build();\r\n\r\n        new Runner(opt).run();\r\n    }\r\n}\r\n```","link":"https://stackoverflow.com/questions/77575713/use-branch-prediction-with-no-else-statement","title":"Use branch prediction with no else statement","body":"<p>I am currently implementing selectionsort. Using the code below and the driver file to test it below. I am currently trying to do micro optimizations to see what speeds it up.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void selectionsort(int[] data) {\n    for (int i = 0; i &lt; data.length; i++) {\n      int minx = i;  \n      for (int j = i+1; j &lt; data.length; j++) {\n          if(data[j] &lt; data[minx]){\n            minx = j;\n          }\n          // else{\n          //   minx=minx;\n          // }\n        }\n      int swap = data[minx]; \n      data[minx] = data[i]; \n      data[i] = swap; \n    }\n  }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class Driver {\n    public static void main(String[] args) {\n        Random r = new Random(12);\n        // CODE-BLOCK-A\n        // run selection sort version of tests\n        double avg = 0;\n        for (int i = 0; i &lt; 100; i++) {\n            long time = System.currentTimeMillis();\n        int[] sgarr = randIntArr(Integer.parseInt(args[0]),r);\n        int[] tests = Arrays.copyOf(sgarr, sgarr.length);\n        switch (args[1]) {\n            case &quot;selection&quot;:\n                Sorts.selectionsort(sgarr);\n                break;\n            case &quot;bubble&quot;:\n                Sorts.bubblesort(sgarr);\n            default:\n                Sorts.insertionsort(sgarr);\n                break;\n        }\n        Arrays.sort(tests);\n        if (!equals(tests, sgarr)) {\n            System.out.println(&quot;FAIL TO SORT!&quot;);\n            System.exit(0);\n        }\n        // System.out.println(&quot;SUCCESS!&quot;);\n    \n\n        long etime = System.currentTimeMillis();\n        avg += (etime-time);\n        }\n\n    System.out.println(&quot;Took &quot;+ avg / (100.0*1000.0) +&quot; seconds&quot;);\n\n    }\n\n    public static int[] randIntArr(int count,Random r) {\n        int seed = r.nextInt(12433);\n        r.setSeed(seed);\n        int[] arr = new int[count];\n        for (int i = 0; i &lt; count; i++) {\n            arr[i] = (int) (r.nextDouble() * 100000);\n        }\n        return arr;\n    }\n\n    public static boolean equals(int[] d1, int[] d2) {\n        if (d1.length != d2.length) {\n            return false;\n        }\n        for (int i = 0; i &lt; d2.length; i++) {\n            if (d1[i] != d2[i]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>What I have tried doing to speed it up is using  an else block that should do nothing. I expected this to slow it down as now it is checking an if statement every time like normal but also assigning minx to itself which should slow it down. But if I put an empty else statement the improvements go away.</p>\n<p>However when I run it using this command, when the else block is commented out I get:</p>\n<pre><code>javac Driver.java \n&amp;&amp; java Driver 40000 selection\nTook 0.34416 seconds\nHowever, when I uncomment out the else block and run the same command it gets noticeably faster\nTook 0.30086 seconds\n</code></pre>\n<p>Meaning for the best case scenarios on both it is about a 13.43% difference.</p>\n<p>I am assuming that this change is significant enough to not just be random considering I also ran each one multiple times. I then asked my CS teacher about it and he explained it is probably branch prediction. Which does make sense however what I wonder is if I get the same performance enhancements without an essentially useless else statement or if I can't what is considered better practice to keep or to remove it. Or is 13.43% significant, I don't believe it is due to my computer because I ran it many times and the values were within 3% of each time.\nThis being ran on x86, if that matters.</p>\n<hr />\n<p>Tested currently using this main file</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\n\n\nimport org.openjdk.jmh.annotations.*;\nimport org.openjdk.jmh.runner.Runner;\nimport org.openjdk.jmh.runner.RunnerException;\nimport org.openjdk.jmh.runner.options.Options;\nimport org.openjdk.jmh.runner.options.OptionsBuilder;\n\nimport java.util.concurrent.TimeUnit;\n\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@State(Scope.Benchmark)\npublic class Main {\n\n    @Param({&quot;100&quot;, &quot;1000&quot;, &quot;10000&quot;}) // You can add more values for array sizes\n    private int arraySize;\n\n    private int[] randomArray;\n\n    @Setup(Level.Iteration)\n    public void setup() {\n        // Initialize the array with random data\n        randomArray = createRandomArray(arraySize);\n    }\n\n    @Benchmark\n    public void selectionSortBenchmark() {\n        Sorts.selectionsort(randomArray.clone());\n    }\n\n    private int[] createRandomArray(int size) {\n        int[] array = new int[size];\n        for (int i = 0; i &lt; size; i++) {\n            array[i] = (int) (Math.random() * 1000); // Adjust the range as needed\n        }\n        return array;\n    }\n\n    public static void main(String[] args) throws RunnerException {\n        Options opt = new OptionsBuilder()\n                .include(Main.class.getSimpleName())\n                .forks(1)\n                .warmupIterations(5)\n                .measurementIterations(5)\n                .build();\n\n        new Runner(opt).run();\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","maven","jpa","intellij-idea"],"comments":[{"score":0,"post_type":"question","creation_date":1698769138,"post_id":77397545,"comment_id":136446206,"body_markdown":"Are you sure framework auto detection is not disabled? Please share the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) on GitHub.","link":"https://stackoverflow.com/questions/77397545/intellij-idea-does-not-add-jpa-facet#comment136446206_77397545","body":"Are you sure framework auto detection is not disabled? Please share the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> on GitHub."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1699437060,"creation_date":1699437060,"answer_id":77444442,"question_id":77397545,"body_markdown":"I have received the following information from Support. According to [IDEA-308710][1] IDEA no longer automatically creates JPA Facets and provides the corresponding functionality without them.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-308710/JPA-do-not-autoimport-facets-from-Maven-and-Gradle","link":"https://stackoverflow.com/questions/77397545/intellij-idea-does-not-add-jpa-facet/77444442#77444442","title":"IntelliJ IDEA does not add JPA facet","body":"<p>I have received the following information from Support. According to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-308710/JPA-do-not-autoimport-facets-from-Maven-and-Gradle\" rel=\"nofollow noreferrer\">IDEA-308710</a> IDEA no longer automatically creates JPA Facets and provides the corresponding functionality without them.</p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1700384289,"post_id":77509457,"comment_id":136646005,"body_markdown":"Cann you please provide some examples without links? They may be broken in future.","link":"https://stackoverflow.com/questions/77397545/intellij-idea-does-not-add-jpa-facet/77509457#comment136646005_77509457","body":"Cann you please provide some examples without links? They may be broken in future."},{"score":0,"post_type":"answer","creation_date":1701316303,"post_id":77509457,"comment_id":136761544,"body_markdown":"I tried to add steps of what I did. I hope it helps.","link":"https://stackoverflow.com/questions/77397545/intellij-idea-does-not-add-jpa-facet/77509457#comment136761544_77509457","body":"I tried to add steps of what I did. I hope it helps."}],"comment_count":2,"score":0,"last_activity_date":1701316143,"last_edit_date":1701316143,"creation_date":1700362771,"answer_id":77509457,"question_id":77397545,"body_markdown":"Now we have to add the JPA facets manually.\r\n\r\n**Edit**: According to the next tutorial, https://www.jetbrains.com/help/idea/adding-support-for-frameworks-and-technologies.html, following the steps: \r\n\r\n 1. Select the project folder with a click, and press Ctrl+Shift+A.\r\n 2. Then type &#39;Add Framework Support&#39;, this will open Add Framework Support Window\r\n 3. Select the necessary framework from the list. In my case was Groovy.\r\n 4. Once selected, click ok.\r\nThat worked for me. \r\n\r\nI hope this edit helps better.&#128547;&#128522;","link":"https://stackoverflow.com/questions/77397545/intellij-idea-does-not-add-jpa-facet/77509457#77509457","title":"IntelliJ IDEA does not add JPA facet","body":"<p>Now we have to add the JPA facets manually.</p>\n<p><strong>Edit</strong>: According to the next tutorial, <a href=\"https://www.jetbrains.com/help/idea/adding-support-for-frameworks-and-technologies.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/adding-support-for-frameworks-and-technologies.html</a>, following the steps:</p>\n<ol>\n<li>Select the project folder with a click, and press Ctrl+Shift+A.</li>\n<li>Then type 'Add Framework Support', this will open Add Framework Support Window</li>\n<li>Select the necessary framework from the list. In my case was Groovy.</li>\n<li>Once selected, click ok.\nThat worked for me.</li>\n</ol>\n<p>I hope this edit helps better.😣😊</p>\n"}],"comment_count":1,"is_answered":true,"view_count":68,"answer_count":2,"score":0,"last_activity_date":1701316143,"creation_date":1698768797,"last_edit_date":1698784888,"question_id":77397545,"body_markdown":"I have a maven project with JPA and Hibernate:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    &lt;version&gt;6.2.13.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n    &lt;version&gt;6.2.13.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- API for 2nd Level Cache --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\r\n    &lt;version&gt;6.2.13.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut IntelliJ IDEA doesn&#39;t recognize it and also doesn&#39;t add the JPA facet to the project settings.\r\n\r\nYes, I can manually add the JPA facet to the project settings. However, this is stored in the .iml file, which should not be shared via VCS. ([share project settings](https://www.jetbrains.com/help/idea/configure-project-settings.html#list-of-ignored-files)). \r\n\r\nThe documentation ([Add framworks](https://www.jetbrains.com/help/idea/adding-support-for-frameworks-and-technologies.html)) also describes that facets should be added through Maven and not through project settings.\r\n\r\nWhat do I need to do to make IntelliJ IDEA automatically add the JPA facet? Are the dependencies not enough?\r\n\r\n**Update1: Info added**\r\n\r\nThe detection setting is enabled in the project:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/npDo5.png","link":"https://stackoverflow.com/questions/77397545/intellij-idea-does-not-add-jpa-facet","title":"IntelliJ IDEA does not add JPA facet","body":"<p>I have a maven project with JPA and Hibernate:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;6.2.13.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n    &lt;version&gt;6.2.13.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- API for 2nd Level Cache --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\n    &lt;version&gt;6.2.13.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But IntelliJ IDEA doesn't recognize it and also doesn't add the JPA facet to the project settings.</p>\n<p>Yes, I can manually add the JPA facet to the project settings. However, this is stored in the .iml file, which should not be shared via VCS. (<a href=\"https://www.jetbrains.com/help/idea/configure-project-settings.html#list-of-ignored-files\" rel=\"nofollow noreferrer\">share project settings</a>).</p>\n<p>The documentation (<a href=\"https://www.jetbrains.com/help/idea/adding-support-for-frameworks-and-technologies.html\" rel=\"nofollow noreferrer\">Add framworks</a>) also describes that facets should be added through Maven and not through project settings.</p>\n<p>What do I need to do to make IntelliJ IDEA automatically add the JPA facet? Are the dependencies not enough?</p>\n<p><strong>Update1: Info added</strong></p>\n<p>The detection setting is enabled in the project:\n<a href=\"https://i.stack.imgur.com/npDo5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/npDo5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","date","calendar"],"comments":[{"score":2,"post_type":"question","creation_date":1701301827,"post_id":77574946,"comment_id":136760346,"body_markdown":"Hey ... you shouldn&#39;t been using `Calendar` in new code.  It is obsolete.","link":"https://stackoverflow.com/questions/77574946/json-deserialization-of-string-2023-11-10-230118-940-to-calendar#comment136760346_77574946","body":"Hey ... you shouldn&#39;t been using <code>Calendar</code> in new code.  It is obsolete."}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701314886,"last_edit_date":1701314886,"creation_date":1701308534,"answer_id":77575409,"question_id":77574946,"body_markdown":"## tl;dr\r\n\r\n    LocalDateTime\r\n    .parse( \r\n        &quot;2023-11-10 23:01:18.940&quot;\r\n        .replace( &quot; &quot; , &quot;T&quot; ) \r\n    )\r\n\r\n## Details\r\n\r\nNot enough information. Your input represents a date and a time of day but lacks the context of an offset or time zone. So you cannot parse directly as a `Calendar`. \r\n\r\nAlso, `Calendar` is a terribly flawed obsolete legacy class. \r\n\r\nParse your input as a [`LocalDateTime`][1] after replacing the SPACE in the middle with a `T` to comply with ISO 8601 standard. \r\n\r\n    LocalDateTime.parse( &quot;2023-11-10 23:01:18.940&quot;.replace( &quot; &quot; , &quot;T&quot; ) )\r\n\r\n&gt; I want a Simple Calendar Date of the format yyyy-MM-dd HH:mm:ss.SSS\r\n\r\nDate-time objects are not text. They do not have a format. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html","link":"https://stackoverflow.com/questions/77574946/json-deserialization-of-string-2023-11-10-230118-940-to-calendar/77575409#77575409","title":"Json Deserialization of string &quot;2023-11-10 23:01:18.940&quot; to calendar","body":"<h2>tl;dr</h2>\n<pre><code>LocalDateTime\n.parse( \n    &quot;2023-11-10 23:01:18.940&quot;\n    .replace( &quot; &quot; , &quot;T&quot; ) \n)\n</code></pre>\n<h2>Details</h2>\n<p>Not enough information. Your input represents a date and a time of day but lacks the context of an offset or time zone. So you cannot parse directly as a <code>Calendar</code>.</p>\n<p>Also, <code>Calendar</code> is a terribly flawed obsolete legacy class.</p>\n<p>Parse your input as a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> after replacing the SPACE in the middle with a <code>T</code> to comply with ISO 8601 standard.</p>\n<pre><code>LocalDateTime.parse( &quot;2023-11-10 23:01:18.940&quot;.replace( &quot; &quot; , &quot;T&quot; ) )\n</code></pre>\n<blockquote>\n<p>I want a Simple Calendar Date of the format yyyy-MM-dd HH:mm:ss.SSS</p>\n</blockquote>\n<p>Date-time objects are not text. They do not have a format.</p>\n"},{"comment_count":0,"score":1,"last_activity_date":1701313649,"creation_date":1701313649,"answer_id":77575647,"question_id":77574946,"body_markdown":"You should been using `LocalDateTime` property in code.\r\neg:\r\n```java\r\npublic static void main(String[] args) {\r\n        DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n        System.out.println(LocalDateTime.now().format(dateFormatter));\r\n    }\r\n```\r\noutput:  \r\n```\r\n2023-11-30 10:59:47.852\r\n```\r\nfinal:    \r\n\r\n```java\r\n@JsonProperty(&quot;systemDt&quot;)\r\n@JsonFormat(Pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\r\nprivate LocalDateTime responseDateTime;\r\n```","link":"https://stackoverflow.com/questions/77574946/json-deserialization-of-string-2023-11-10-230118-940-to-calendar/77575647#77575647","title":"Json Deserialization of string &quot;2023-11-10 23:01:18.940&quot; to calendar","body":"<p>You should been using <code>LocalDateTime</code> property in code.\neg:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\n        System.out.println(LocalDateTime.now().format(dateFormatter));\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>2023-11-30 10:59:47.852\n</code></pre>\n<p>final:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(&quot;systemDt&quot;)\n@JsonFormat(Pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\nprivate LocalDateTime responseDateTime;\n</code></pre>\n"}],"comment_count":1,"is_answered":true,"view_count":48,"answer_count":2,"score":0,"last_activity_date":1701314886,"creation_date":1701298971,"last_edit_date":1701299901,"question_id":77574946,"body_markdown":"I am trying to deserialize json String date to Calendar and deserialization is working however it is not what i want.\r\n\r\n\r\n*Current Behaviour*\r\n\r\n    @JsonProperty(&quot;systemDt&quot;)\r\n    @JsonFormat(Pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\r\n    Calendar responseDateTime;\r\n\r\nDeserializes to `responseDateTime=java.util.GregorianCalendar[time=1141556400000,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;UTC&quot;.....`.\r\n\r\nI want a Simple Calendar Date of the format yyyy-MM-dd HH:mm:ss.SSS\r\n\r\n","link":"https://stackoverflow.com/questions/77574946/json-deserialization-of-string-2023-11-10-230118-940-to-calendar","title":"Json Deserialization of string &quot;2023-11-10 23:01:18.940&quot; to calendar","body":"<p>I am trying to deserialize json String date to Calendar and deserialization is working however it is not what i want.</p>\n<p><em>Current Behaviour</em></p>\n<pre><code>@JsonProperty(&quot;systemDt&quot;)\n@JsonFormat(Pattern=&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;)\nCalendar responseDateTime;\n</code></pre>\n<p>Deserializes to <code>responseDateTime=java.util.GregorianCalendar[time=1141556400000,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;UTC&quot;.....</code>.</p>\n<p>I want a Simple Calendar Date of the format yyyy-MM-dd HH:mm:ss.SSS</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"score":0,"post_type":"question","creation_date":1699907487,"post_id":77476279,"comment_id":136587417,"body_markdown":"Your common module ` &lt;artifactId&gt;common&lt;/artifactId&gt;` uses the spring-boot-maven-plugin which packages as a spring boot app which means you can not consume it as a usualy dependency... In common I doubt that you create a startable jar file which will be executed... so remove the spring boot maven-plugin from that module.... also build on plain command line... via `mvn clean verify` ...","link":"https://stackoverflow.com/questions/77476279/common-dependency-module-causing-main-class-not-found-error-in-multi-module-mave#comment136587417_77476279","body":"Your common module ` &lt;artifactId&gt;common&lt;/artifactId&gt;` uses the spring-boot-maven-plugin which packages as a spring boot app which means you can not consume it as a usualy dependency... In common I doubt that you create a startable jar file which will be executed... so remove the spring boot maven-plugin from that module.... also build on plain command line... via <code>mvn clean verify</code> ..."},{"score":0,"post_type":"question","creation_date":1699913036,"post_id":77476279,"comment_id":136588259,"body_markdown":"Thank you for your response. I attempted the suggested solution, but unfortunately, it did not work. Is there a specific approach I should follow? Currently, I am executing &#39;mvn clean install -DskipTests&#39; or &#39;mvn clean verify&#39; in the root project. Do I need to build the submodules separately beforehand?","link":"https://stackoverflow.com/questions/77476279/common-dependency-module-causing-main-class-not-found-error-in-multi-module-mave#comment136588259_77476279","body":"Thank you for your response. I attempted the suggested solution, but unfortunately, it did not work. Is there a specific approach I should follow? Currently, I am executing &#39;mvn clean install -DskipTests&#39; or &#39;mvn clean verify&#39; in the root project. Do I need to build the submodules separately beforehand?"},{"score":0,"post_type":"question","creation_date":1699913159,"post_id":77476279,"comment_id":136588278,"body_markdown":"Can you put that on a github repo or alike...","link":"https://stackoverflow.com/questions/77476279/common-dependency-module-causing-main-class-not-found-error-in-multi-module-mave#comment136588278_77476279","body":"Can you put that on a github repo or alike..."},{"score":0,"post_type":"question","creation_date":1699970115,"post_id":77476279,"comment_id":136595263,"body_markdown":"I resolved the issue. The core of the lay in the project structure: the root project was configured as a child of org.springframework.boot, with the common module also being its subproject. This inadvertently led to the common module being treated as a Spring Boot project, which was not the intended setup since it&#39;s merely a dependency project. So, I removed the &#39;parent&#39; tag from the common module&#39;s configuration and this solved the problem","link":"https://stackoverflow.com/questions/77476279/common-dependency-module-causing-main-class-not-found-error-in-multi-module-mave#comment136595263_77476279","body":"I resolved the issue. The core of the lay in the project structure: the root project was configured as a child of org.springframework.boot, with the common module also being its subproject. This inadvertently led to the common module being treated as a Spring Boot project, which was not the intended setup since it&#39;s merely a dependency project. So, I removed the &#39;parent&#39; tag from the common module&#39;s configuration and this solved the problem"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701314884,"creation_date":1701314884,"answer_id":77575702,"question_id":77476279,"body_markdown":"I am not sure, but if you are use this modules like a library project, you have to tell the build system to not try to build an executable jar for the these project (order_service and product_service). For this you must remove the following block from these modules(pom):\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nreference: https://spring.io/guides/gs/multi-module/","link":"https://stackoverflow.com/questions/77476279/common-dependency-module-causing-main-class-not-found-error-in-multi-module-mave/77575702#77575702","title":"Common Dependency Module Causing Main Class Not Found Error in Multi-Module Maven Project&quot;","body":"<p>I am not sure, but if you are use this modules like a library project, you have to tell the build system to not try to build an executable jar for the these project (order_service and product_service). For this you must remove the following block from these modules(pom):</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>reference: <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/multi-module/</a></p>\n"}],"comment_count":4,"is_answered":false,"view_count":62,"answer_count":1,"score":0,"last_activity_date":1701314884,"creation_date":1699902539,"last_edit_date":1699913939,"question_id":77476279,"body_markdown":"I am encountering an issue with a multi-module Maven project. When I run the application within IntelliJ IDEA, everything compiles and runs smoothly. However, when I attempt to build the project using the Maven wrapper from the terminal with the command ./mvnw clean install -DskipTests, I encounter a compilation error indicating that none of the classes included in the common module can be found. Here is a portion of the error output:\r\n\r\n[![project structure][1]][1]\r\n\r\n```\r\n[INFO] Reactor Summary for event_driven_design_eshop 0.0.1-SNAPSHOT:\r\n[INFO]\r\n[INFO] event_driven_design_eshop .......................... SUCCESS [  1.136 s]\r\n[INFO] api_gateway ........................................ SUCCESS [  2.227 s]\r\n[INFO] common ............................................. SUCCESS [  1.174 s]\r\n[INFO] eshop-core ......................................... SUCCESS [  0.173 s]\r\n[INFO] order_service ...................................... FAILURE [  0.708 s]\r\n[INFO] product_service .................................... SKIPPED\r\n[INFO] user-service ....................................... SKIPPED\r\n[INFO] payment-service .................................... SKIPPED\r\n[INFO] shipping-service ................................... SKIPPED\r\n[INFO] discovery_server ................................... SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  5.855 s\r\n[INFO] Finished at: 2023-11-13T19:32:08+01:00\r\n[INFO] ------------------------------------------------------------------------ \r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project order_service: Compilation failure: Compilation failure:\r\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/handler/query/OrderFetchingHandler.java:[3,33] package com.jchaaban.common.query does not exist\r\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/repository/OrderEntity.java:[3,33] package com.jchaaban.common.model does not exist\r\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/handler/query/OrderFetchingHandler.java:[26,36] cannot find symbol\r\n....\r\n```\r\n\r\nso all the classes in the common modules are not found.\r\n\r\nAfter this, if I try to run the application in the IDE, I get an error stating that the main class of the first module\r\nin the list of the child modules of the eshop_module cannot be found.\r\n\r\nLet us say this is the list of modules in the eshop_module/pom.xml\r\n\r\n```\r\n    &lt;modules&gt;\r\n        &lt;module&gt;order_service&lt;/module&gt;\r\n        &lt;module&gt;product_service&lt;/module&gt;\r\n        &lt;module&gt;user_service&lt;/module&gt;\r\n        &lt;module&gt;payment_service&lt;/module&gt;\r\n        &lt;module&gt;shipping_service&lt;/module&gt;\r\n    &lt;/modules&gt; \r\n```\r\n\r\nAfter running the services in IntelliJ, the main class of order_service cannot be located.\r\nIf I rearrange the module order so that product_service is listed first, the same issue occurs\r\nfor the product_service main class.\r\n\r\nAs a temporary solution, I&#39;ve found that changing the root package name (in the service where I&#39;m encountering the issue,\r\nsuch as order_service) allows me to run the project in the IDE once more.\r\nHowever, if I subsequently attempt to run it with Maven in the terminal, the error resurfaces, necessitating the\r\nrepetition of the same process to restore functionality in IntelliJ.\r\n\r\nThis issue persists for each service depending on the common module.\r\n\r\nThis is the pom file of the root project:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n    &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;event_driven_design_eshop&lt;/name&gt;\r\n    &lt;description&gt;event_driven_design_eshop&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;api_gateway&lt;/module&gt;\r\n        &lt;module&gt;eshop_core&lt;/module&gt;\r\n        &lt;module&gt;discovery_server&lt;/module&gt;\r\n        &lt;module&gt;common&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is the pom.xml file of the common module, which is a dependency of the eshop_core and therefore it will be a dependency of each submodule of eshop_core:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;common&lt;/name&gt;\r\n    &lt;description&gt;common&lt;/description&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is the pom file of eshop_core which is a child module of the root project and the parent of all other modules:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;order_service&lt;/module&gt;\r\n        &lt;module&gt;product_service&lt;/module&gt;\r\n        &lt;module&gt;user_service&lt;/module&gt;\r\n        &lt;module&gt;payment_service&lt;/module&gt;\r\n        &lt;module&gt;shipping_service&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;eshop-core&lt;/name&gt;\r\n    &lt;description&gt;eshop-core&lt;/description&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;32.1.3-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\nNow the child modules of the eshop_core, order_service:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;artifactId&gt;order_service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;order_service&lt;/name&gt;\r\n\t&lt;description&gt;order_service&lt;/description&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hdrhistogram&lt;/groupId&gt;\r\n            &lt;artifactId&gt;HdrHistogram&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.12&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\npayment_service:\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;payment_service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;payment-service&lt;/name&gt;\r\n    &lt;description&gt;payment-service&lt;/description&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nproduct_service:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;product_service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;product_service&lt;/name&gt;\r\n    &lt;description&gt;product_service&lt;/description&gt;\r\n\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nshipping_service:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;shipping_service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;shipping-service&lt;/name&gt;\r\n    &lt;description&gt;shipping-service&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nuser_service:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;user_service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;user-service&lt;/name&gt;\r\n    &lt;description&gt;user-service&lt;/description&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nIs there any specific reason for this error?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NFE9m.png","link":"https://stackoverflow.com/questions/77476279/common-dependency-module-causing-main-class-not-found-error-in-multi-module-mave","title":"Common Dependency Module Causing Main Class Not Found Error in Multi-Module Maven Project&quot;","body":"<p>I am encountering an issue with a multi-module Maven project. When I run the application within IntelliJ IDEA, everything compiles and runs smoothly. However, when I attempt to build the project using the Maven wrapper from the terminal with the command ./mvnw clean install -DskipTests, I encounter a compilation error indicating that none of the classes included in the common module can be found. Here is a portion of the error output:</p>\n<p><a href=\"https://i.stack.imgur.com/NFE9m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NFE9m.png\" alt=\"project structure\" /></a></p>\n<pre><code>[INFO] Reactor Summary for event_driven_design_eshop 0.0.1-SNAPSHOT:\n[INFO]\n[INFO] event_driven_design_eshop .......................... SUCCESS [  1.136 s]\n[INFO] api_gateway ........................................ SUCCESS [  2.227 s]\n[INFO] common ............................................. SUCCESS [  1.174 s]\n[INFO] eshop-core ......................................... SUCCESS [  0.173 s]\n[INFO] order_service ...................................... FAILURE [  0.708 s]\n[INFO] product_service .................................... SKIPPED\n[INFO] user-service ....................................... SKIPPED\n[INFO] payment-service .................................... SKIPPED\n[INFO] shipping-service ................................... SKIPPED\n[INFO] discovery_server ................................... SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.855 s\n[INFO] Finished at: 2023-11-13T19:32:08+01:00\n[INFO] ------------------------------------------------------------------------ \n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project order_service: Compilation failure: Compilation failure:\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/handler/query/OrderFetchingHandler.java:[3,33] package com.jchaaban.common.query does not exist\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/repository/OrderEntity.java:[3,33] package com.jchaaban.common.model does not exist\n[ERROR] /Users/jchaaban/IdeaProjects/event_driven_design_eshop/eshop_core/order_service/src/main/java/com/jchaaban/orders_service/handler/query/OrderFetchingHandler.java:[26,36] cannot find symbol\n....\n</code></pre>\n<p>so all the classes in the common modules are not found.</p>\n<p>After this, if I try to run the application in the IDE, I get an error stating that the main class of the first module\nin the list of the child modules of the eshop_module cannot be found.</p>\n<p>Let us say this is the list of modules in the eshop_module/pom.xml</p>\n<pre><code>    &lt;modules&gt;\n        &lt;module&gt;order_service&lt;/module&gt;\n        &lt;module&gt;product_service&lt;/module&gt;\n        &lt;module&gt;user_service&lt;/module&gt;\n        &lt;module&gt;payment_service&lt;/module&gt;\n        &lt;module&gt;shipping_service&lt;/module&gt;\n    &lt;/modules&gt; \n</code></pre>\n<p>After running the services in IntelliJ, the main class of order_service cannot be located.\nIf I rearrange the module order so that product_service is listed first, the same issue occurs\nfor the product_service main class.</p>\n<p>As a temporary solution, I've found that changing the root package name (in the service where I'm encountering the issue,\nsuch as order_service) allows me to run the project in the IDE once more.\nHowever, if I subsequently attempt to run it with Maven in the terminal, the error resurfaces, necessitating the\nrepetition of the same process to restore functionality in IntelliJ.</p>\n<p>This issue persists for each service depending on the common module.</p>\n<p>This is the pom file of the root project:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n    &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;event_driven_design_eshop&lt;/name&gt;\n    &lt;description&gt;event_driven_design_eshop&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;api_gateway&lt;/module&gt;\n        &lt;module&gt;eshop_core&lt;/module&gt;\n        &lt;module&gt;discovery_server&lt;/module&gt;\n        &lt;module&gt;common&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the pom.xml file of the common module, which is a dependency of the eshop_core and therefore it will be a dependency of each submodule of eshop_core:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;common&lt;/name&gt;\n    &lt;description&gt;common&lt;/description&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\n            &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;4.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the pom file of eshop_core which is a child module of the root project and the parent of all other modules:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;event_driven_design_eshop&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;order_service&lt;/module&gt;\n        &lt;module&gt;product_service&lt;/module&gt;\n        &lt;module&gt;user_service&lt;/module&gt;\n        &lt;module&gt;payment_service&lt;/module&gt;\n        &lt;module&gt;shipping_service&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;eshop-core&lt;/name&gt;\n    &lt;description&gt;eshop-core&lt;/description&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\n            &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;4.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;32.1.3-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Now the child modules of the eshop_core, order_service:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;order_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;order_service&lt;/name&gt;\n    &lt;description&gt;order_service&lt;/description&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hdrhistogram&lt;/groupId&gt;\n            &lt;artifactId&gt;HdrHistogram&lt;/artifactId&gt;\n            &lt;version&gt;2.1.12&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>payment_service:</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;payment_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;payment-service&lt;/name&gt;\n    &lt;description&gt;payment-service&lt;/description&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>product_service:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;product_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;product_service&lt;/name&gt;\n    &lt;description&gt;product_service&lt;/description&gt;\n\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>shipping_service:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;shipping_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;shipping-service&lt;/name&gt;\n    &lt;description&gt;shipping-service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>user_service:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.jchaaban&lt;/groupId&gt;\n        &lt;artifactId&gt;eshop_core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;user_service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;user-service&lt;/name&gt;\n    &lt;description&gt;user-service&lt;/description&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Is there any specific reason for this error?</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"score":0,"post_type":"question","creation_date":1701313870,"post_id":77575597,"comment_id":136761381,"body_markdown":"`just do run it with the java application` If this is what your teacher said, you should probably do exactly that.  Spring Boot is for experts only and not for beginners.  Try it with just Java.  If you get stuck, then ask here.","link":"https://stackoverflow.com/questions/77575597/java-unable-to-run#comment136761381_77575597","body":"<code>just do run it with the java application</code> If this is what your teacher said, you should probably do exactly that.  Spring Boot is for experts only and not for beginners.  Try it with just Java.  If you get stuck, then ask here."},{"score":0,"post_type":"question","creation_date":1701316480,"post_id":77575597,"comment_id":136761559,"body_markdown":"I am unable to run it, as there is no option to. As when I click run as instead of java application it says (none applicable)","link":"https://stackoverflow.com/questions/77575597/java-unable-to-run#comment136761559_77575597","body":"I am unable to run it, as there is no option to. As when I click run as instead of java application it says (none applicable)"},{"score":0,"post_type":"question","creation_date":1701349995,"post_id":77575597,"comment_id":136766319,"body_markdown":"That&#39;s two separate source files for the ServerApplication and ServerController sources, right, not both in one file? How are you importing this zip file you keep mentioning? What is it?","link":"https://stackoverflow.com/questions/77575597/java-unable-to-run#comment136766319_77575597","body":"That&#39;s two separate source files for the ServerApplication and ServerController sources, right, not both in one file? How are you importing this zip file you keep mentioning? What is it?"}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701316527,"post_id":77575682,"comment_id":136761562,"body_markdown":"The packages came like that, as the assignment came as pre-coded besides the fix me.","link":"https://stackoverflow.com/questions/77575597/java-unable-to-run/77575682#comment136761562_77575682","body":"The packages came like that, as the assignment came as pre-coded besides the fix me."},{"score":0,"post_type":"answer","creation_date":1701316605,"post_id":77575682,"comment_id":136761567,"body_markdown":"I am unsure of what to do since I can&#39;t select run as -&gt; java application. Since that is what I am supposed to do, but can&#39;t.","link":"https://stackoverflow.com/questions/77575597/java-unable-to-run/77575682#comment136761567_77575682","body":"I am unsure of what to do since I can&#39;t select run as -&gt; java application. Since that is what I am supposed to do, but can&#39;t."},{"score":0,"post_type":"answer","creation_date":1701319707,"post_id":77575682,"comment_id":136761843,"body_markdown":"Please update java version and spring boot version at pom.xml then build that project.\nI will provide a git repo link of your existing code by to night.","link":"https://stackoverflow.com/questions/77575597/java-unable-to-run/77575682#comment136761843_77575682","body":"Please update java version and spring boot version at pom.xml then build that project. I will provide a git repo link of your existing code by to night."}],"comment_count":3,"score":2,"last_activity_date":1701314349,"creation_date":1701314349,"answer_id":77575682,"question_id":77575597,"body_markdown":" 1. **Package Name :** Make sure your package name are same in both main class() and test class().\r\n    ```\r\n    //main class package name\r\n    package com.snhu.sslserver;\r\n    \r\n    //Test class package name\r\n    package com.snhu.server;\r\n    \r\n    \r\n    ```\r\n    \r\n2. **pom.xml modification** : As you using spring boot, you do not need to use explicitly `junit-vintage-engine`. Spring boot manage configurations and version of testing dependencies. \r\n    ```\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    ```\r\n    \r\n3. Update Sprig boot version and make use your test classes under main.","link":"https://stackoverflow.com/questions/77575597/java-unable-to-run/77575682#77575682","title":"java - Unable to run","body":"<ol>\n<li><p><strong>Package Name :</strong> Make sure your package name are same in both main class() and test class().</p>\n<pre><code>//main class package name\npackage com.snhu.sslserver;\n\n//Test class package name\npackage com.snhu.server;\n\n\n</code></pre>\n</li>\n<li><p><strong>pom.xml modification</strong> : As you using spring boot, you do not need to use explicitly <code>junit-vintage-engine</code>. Spring boot manage configurations and version of testing dependencies.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n</li>\n<li><p>Update Sprig boot version and make use your test classes under main.</p>\n</li>\n</ol>\n"}],"comment_count":3,"is_answered":true,"view_count":56,"answer_count":1,"score":0,"last_activity_date":1701314349,"creation_date":1701312781,"question_id":77575597,"body_markdown":"I am trying to run this program for my class. However, this error keeps popping up. I have tried reinstalling eclipse, reinstalling the zip file, and more. However, I keep getting this same answer even with the default code.\r\n\r\nHere is the code for the main:\r\n\r\n```\r\npackage com.snhu.sslserver;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.math.BigInteger; \r\nimport java.nio.charset.StandardCharsets;\r\n\r\n@SpringBootApplication\r\npublic class ServerApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ServerApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n@RestController\r\nclass ServerController{\r\n\tpublic static String calculateHash(String name) throws NoSuchAlgorithmException {  \r\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);  \r\n        byte[] hash =  md.digest(name.getBytes(StandardCharsets.UTF_8));\r\n        BigInteger number = new BigInteger(1, hash);  \r\n        StringBuilder hexString = new StringBuilder(number.toString(16));  \r\n        while (hexString.length() &lt; 32){  \r\n            hexString.insert(0, &#39;0&#39;);  \r\n        }  \r\n        return hexString.toString();  \r\n     \r\n    } \r\n\t@RequestMapping(&quot;/hash&quot;)\r\n\tpublic String myHash() throws NoSuchAlgorithmException{\r\n\r\n\tString data = &quot;Hello Destiny Egan!&quot;;\r\n\tString hash = calculateHash(data);\r\n\r\n\treturn &quot;&lt;p&gt;data:&quot;+data+&quot; : SHA-256 &quot;+&quot; : &quot;+hash;\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nHere is for the tester (which I didn&#39;t change anything on):\r\n\r\n```\r\npackage com.snhu.server;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass ServerApplicationTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nHere is the pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.snhu&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ssl-server&lt;/name&gt;\r\n\t&lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n              &lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n              &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n              &lt;version&gt;9.0.1&lt;/version&gt;\r\n              &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                      &lt;goals&gt;\r\n                          &lt;goal&gt;check&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\nI was receiving errors however, I can do the run as. As before I was trying to install. I do not have the option to run as -&gt; Java application.\r\n\r\nHere is the error:\r\n\r\n```\r\n[INFO] Results:\r\n\r\n[INFO]\r\n\r\n[ERROR] [1;31mErrors: [m\r\n\r\n[ERROR] [1;31m  ServerApplicationTests &#187; IllegalState Unable to find a @SpringBootConfiguratio...[m\r\n\r\n[INFO]\r\n\r\n[ERROR] [1;31mTests run: 1, Failures: 0, Errors: 1, Skipped: 0[m\r\n\r\n[INFO]\r\n\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n\r\n[INFO] [1;31mBUILD FAILURE[m\r\n\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n\r\n[INFO] Total time:  5.852 s\r\n\r\n[INFO] Finished at: 2023-11-26T18:24:43-08:00\r\n\r\n[INFO] [1m------------------------------------------------------------------------[m\r\n\r\n[ERROR] Failed to execute goal [32morg.apache.maven.plugins:maven-surefire-plugin:2.22.2:test[m [1m(default-test)[m on project [36mssl-server[m: [1;31mThere are test failures.[m\r\n\r\n[ERROR] [1;31m[m\r\n\r\n[ERROR] [1;31mPlease refer to C:\\Users\\dessi\\eclipse-workspace\\CS 305 Module Five Coding Assignment Checksum Verification Code Base (1).zip_expanded\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\target\\surefire-reports for the individual test results.[m\r\n\r\n[ERROR] [1;31mPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.[m\r\n\r\n[ERROR] -&gt; [1m[Help 1][m\r\n\r\n[ERROR]\r\n\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\r\n\r\n[ERROR] Re-run Maven using the [1m-X[m switch to enable full debug logging.\r\n\r\n[ERROR]\r\n\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n\r\n[ERROR] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n```\r\n\r\n\r\n\r\nI have tried reinstalling eclipse, reinstalling the zip file, and more. However, I keep getting this same answer even with the default code. I also reached out to my teacher which he had said to just do run it with the java application but that isn&#39;t popping up.","link":"https://stackoverflow.com/questions/77575597/java-unable-to-run","title":"java - Unable to run","body":"<p>I am trying to run this program for my class. However, this error keeps popping up. I have tried reinstalling eclipse, reinstalling the zip file, and more. However, I keep getting this same answer even with the default code.</p>\n<p>Here is the code for the main:</p>\n<pre><code>package com.snhu.sslserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.math.BigInteger; \nimport java.nio.charset.StandardCharsets;\n\n@SpringBootApplication\npublic class ServerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ServerApplication.class, args);\n    }\n\n}\n\n@RestController\nclass ServerController{\n    public static String calculateHash(String name) throws NoSuchAlgorithmException {  \n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);  \n        byte[] hash =  md.digest(name.getBytes(StandardCharsets.UTF_8));\n        BigInteger number = new BigInteger(1, hash);  \n        StringBuilder hexString = new StringBuilder(number.toString(16));  \n        while (hexString.length() &lt; 32){  \n            hexString.insert(0, '0');  \n        }  \n        return hexString.toString();  \n     \n    } \n    @RequestMapping(&quot;/hash&quot;)\n    public String myHash() throws NoSuchAlgorithmException{\n\n    String data = &quot;Hello Destiny Egan!&quot;;\n    String hash = calculateHash(data);\n\n    return &quot;&lt;p&gt;data:&quot;+data+&quot; : SHA-256 &quot;+&quot; : &quot;+hash;\n\n    }\n\n}\n</code></pre>\n<p>Here is for the tester (which I didn't change anything on):</p>\n<pre><code>package com.snhu.server;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass ServerApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n<p>Here is the pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.snhu&lt;/groupId&gt;\n    &lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ssl-server&lt;/name&gt;\n    &lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n              &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n              &lt;version&gt;9.0.1&lt;/version&gt;\n              &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;goals&gt;\n                          &lt;goal&gt;check&lt;/goal&gt;\n                      &lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I was receiving errors however, I can do the run as. As before I was trying to install. I do not have the option to run as -&gt; Java application.</p>\n<p>Here is the error:</p>\n<pre><code>[INFO] Results:\n\n[INFO]\n\n[ERROR] [1;31mErrors: [m\n\n[ERROR] [1;31m  ServerApplicationTests » IllegalState Unable to find a @SpringBootConfiguratio...[m\n\n[INFO]\n\n[ERROR] [1;31mTests run: 1, Failures: 0, Errors: 1, Skipped: 0[m\n\n[INFO]\n\n[INFO] [1m------------------------------------------------------------------------[m\n\n[INFO] [1;31mBUILD FAILURE[m\n\n[INFO] [1m------------------------------------------------------------------------[m\n\n[INFO] Total time:  5.852 s\n\n[INFO] Finished at: 2023-11-26T18:24:43-08:00\n\n[INFO] [1m------------------------------------------------------------------------[m\n\n[ERROR] Failed to execute goal [32morg.apache.maven.plugins:maven-surefire-plugin:2.22.2:test[m [1m(default-test)[m on project [36mssl-server[m: [1;31mThere are test failures.[m\n\n[ERROR] [1;31m[m\n\n[ERROR] [1;31mPlease refer to C:\\Users\\dessi\\eclipse-workspace\\CS 305 Module Five Coding Assignment Checksum Verification Code Base (1).zip_expanded\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\target\\surefire-reports for the individual test results.[m\n\n[ERROR] [1;31mPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.[m\n\n[ERROR] -&gt; [1m[Help 1][m\n\n[ERROR]\n\n[ERROR] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n\n[ERROR] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n\n[ERROR]\n\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n\n[ERROR] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\n</code></pre>\n<p>I have tried reinstalling eclipse, reinstalling the zip file, and more. However, I keep getting this same answer even with the default code. I also reached out to my teacher which he had said to just do run it with the java application but that isn't popping up.</p>\n"},{"tags":["java","jpa","concurrency","weblogic"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701380621,"post_id":77575629,"comment_id":136772074,"body_markdown":"How should i handle that?","link":"https://stackoverflow.com/questions/77569595/weblogic-resource-allocation-limit/77575629#comment136772074_77575629","body":"How should i handle that?"}],"comment_count":1,"score":0,"last_activity_date":1701313234,"creation_date":1701313234,"answer_id":77575629,"question_id":77569595,"body_markdown":"It is clear a JDBC pool connection starvation; if you are going to run parallel threads, then you need to handle the pool connections, which are enough for your requirement.","link":"https://stackoverflow.com/questions/77569595/weblogic-resource-allocation-limit/77575629#77575629","title":"weblogic resource allocation limit","body":"<p>It is clear a JDBC pool connection starvation; if you are going to run parallel threads, then you need to handle the pool connections, which are enough for your requirement.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":15,"answer_count":1,"score":0,"last_activity_date":1701313234,"creation_date":1701246835,"last_edit_date":1701247032,"question_id":77569595,"body_markdown":"i have a list of 1000 records fetched from oracle db. i want to process this list concurrently. therefore i have used java parallel streams. the problem is it threw error `weblogic.common.resourcepool.ResourceLimitException: No resources currently available in pool ERDS to allocate to applications, please increase the size of the pool and retry` in some iterations. also seems to be interrupted and not complete the loop. i think if i use stream instead of parallel stream there will be no problem. but i need to do the operation by multiple threads to increase performance and reduce process time (in case i need to process a 10 thousand record list for example ). here is the code:\r\n\r\n    \r\n    @Singleton\r\n    @Startup\r\n    public class TPTimer {\r\n\r\n    @Inject\r\n    private Service service;\r\n\r\n    @Inject\r\n    Logger logger;\r\n\r\n    @Inject\r\n    EntityManager em;\r\n\r\n\r\n    @Schedule(hour = &quot;11&quot;, persistent = false)\r\n    public void doTask() {\r\n        try {\r\n          \r\n             \r\n                sendSMS();\r\n               \r\n            \r\n        } catch (Exception e) {\r\n            logger.error(e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n    private void sendSMS() {\r\n        try {\r\n            String txt = &quot;.....&quot;;\r\n            List&lt;Object[]&gt; list = em.createNativeQuery(&quot;some query&quot;)\r\n                    .setMaxResults(1000)\r\n                    .getResultList();\r\n\r\n            list.parallelStream().forEach(t -&gt; service.joinWithdebit(txt, t));\r\n        } catch (Exception e) {\r\n            logger.error(e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nand\r\n\r\n        @Stateless\r\n        public class Service {\r\n    \r\n    \r\n    public void joinWithdebit(String txt, Object[] arr) {\r\n            try {\r\n                em.joinTransaction();\r\n                List list = em.createNativeQuery(&quot;query&quot;)\r\n                        .setParameter(1, String.valueOf(arr[2]))\r\n                        .getResultList();\r\n                if (list.size() &gt; 0) {\r\n                    List res = em.createNativeQuery(&quot;q&quot;)\r\n                            .setParameter(1, String.valueOf(arr[1]))\r\n                            .setParameter(2, String.valueOf(arr[0]))\r\n                            .getResultList();\r\n                    if (res.size() &gt; 0)\r\n                        sendSms(txt, arr);\r\n              \r\n                }\r\n            } catch (Exception e) {\r\n                Logger.getLogger(e);\r\n            }\r\n        }\r\n\r\n         @TransactionAttribute(TransactionAttributeType.REQUIRES_NEW)\r\n        public void sendSms(String txt, Object[] arr) {\r\n            try {\r\n                em.joinTransaction();\r\n                User user = userManager.getUserByName(String.valueOf(arr[0]));\r\n                boolean bool = smsService.isSmsSent(user, txt);\r\n                if (bool) {\r\n                    String now = DateUtils.format(new Date(), &quot;yyyyMMdd&quot;);\r\n                    em.createNativeQuery(&quot;insert into sms_table(...) values (?,?,?,?,?,?,?,?,SYSDATE)&quot;)\r\n                            .setParameter(1, new BigDecimal(arr[0] + &quot;5&quot; + &quot;01&quot;))\r\n                            .setParameter(2, String.valueOf(arr[2]))\r\n                            .setParameter(3, &quot;01&quot;)\r\n                            .setParameter(4, String.valueOf(arr[0]))\r\n                            .setParameter(5, now)\r\n                            .setParameter(6, now)\r\n                            .setParameter(7, user != null ? user.getMobile() : &quot;-&quot;)\r\n                            .setParameter(8, &quot;5&quot;)\r\n                            .executeUpdate();\r\n                }\r\n            } catch (Exception e) {\r\n                Logger.getLogger(this.getClass().getName()).info(&quot;320220:error while sending sms&quot;);\r\n            }\r\n        }\r\n\r\n}\r\n\r\n \r\nis it ok to fetch some records(for ex 20 thousands) and then process them concurrently? i don&#39;t want to do the business in a pl/sql function for some reasons. i want to manage the whole business in java. what can be done to optimize this code?","link":"https://stackoverflow.com/questions/77569595/weblogic-resource-allocation-limit","title":"weblogic resource allocation limit","body":"<p>i have a list of 1000 records fetched from oracle db. i want to process this list concurrently. therefore i have used java parallel streams. the problem is it threw error <code>weblogic.common.resourcepool.ResourceLimitException: No resources currently available in pool ERDS to allocate to applications, please increase the size of the pool and retry</code> in some iterations. also seems to be interrupted and not complete the loop. i think if i use stream instead of parallel stream there will be no problem. but i need to do the operation by multiple threads to increase performance and reduce process time (in case i need to process a 10 thousand record list for example ). here is the code:</p>\n<pre><code>@Singleton\n@Startup\npublic class TPTimer {\n\n@Inject\nprivate Service service;\n\n@Inject\nLogger logger;\n\n@Inject\nEntityManager em;\n\n\n@Schedule(hour = &quot;11&quot;, persistent = false)\npublic void doTask() {\n    try {\n      \n         \n            sendSMS();\n           \n        \n    } catch (Exception e) {\n        logger.error(e.getMessage());\n    }\n}\n\n\nprivate void sendSMS() {\n    try {\n        String txt = &quot;.....&quot;;\n        List&lt;Object[]&gt; list = em.createNativeQuery(&quot;some query&quot;)\n                .setMaxResults(1000)\n                .getResultList();\n\n        list.parallelStream().forEach(t -&gt; service.joinWithdebit(txt, t));\n    } catch (Exception e) {\n        logger.error(e);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>and</p>\n<pre><code>    @Stateless\n    public class Service {\n\n\npublic void joinWithdebit(String txt, Object[] arr) {\n        try {\n            em.joinTransaction();\n            List list = em.createNativeQuery(&quot;query&quot;)\n                    .setParameter(1, String.valueOf(arr[2]))\n                    .getResultList();\n            if (list.size() &gt; 0) {\n                List res = em.createNativeQuery(&quot;q&quot;)\n                        .setParameter(1, String.valueOf(arr[1]))\n                        .setParameter(2, String.valueOf(arr[0]))\n                        .getResultList();\n                if (res.size() &gt; 0)\n                    sendSms(txt, arr);\n          \n            }\n        } catch (Exception e) {\n            Logger.getLogger(e);\n        }\n    }\n\n     @TransactionAttribute(TransactionAttributeType.REQUIRES_NEW)\n    public void sendSms(String txt, Object[] arr) {\n        try {\n            em.joinTransaction();\n            User user = userManager.getUserByName(String.valueOf(arr[0]));\n            boolean bool = smsService.isSmsSent(user, txt);\n            if (bool) {\n                String now = DateUtils.format(new Date(), &quot;yyyyMMdd&quot;);\n                em.createNativeQuery(&quot;insert into sms_table(...) values (?,?,?,?,?,?,?,?,SYSDATE)&quot;)\n                        .setParameter(1, new BigDecimal(arr[0] + &quot;5&quot; + &quot;01&quot;))\n                        .setParameter(2, String.valueOf(arr[2]))\n                        .setParameter(3, &quot;01&quot;)\n                        .setParameter(4, String.valueOf(arr[0]))\n                        .setParameter(5, now)\n                        .setParameter(6, now)\n                        .setParameter(7, user != null ? user.getMobile() : &quot;-&quot;)\n                        .setParameter(8, &quot;5&quot;)\n                        .executeUpdate();\n            }\n        } catch (Exception e) {\n            Logger.getLogger(this.getClass().getName()).info(&quot;320220:error while sending sms&quot;);\n        }\n    }\n</code></pre>\n<p>}</p>\n<p>is it ok to fetch some records(for ex 20 thousands) and then process them concurrently? i don't want to do the business in a pl/sql function for some reasons. i want to manage the whole business in java. what can be done to optimize this code?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-el"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701312998,"last_edit_date":1701312998,"creation_date":1701312823,"answer_id":77575602,"question_id":77574339,"body_markdown":"First, an enum class cannot be instantiated externally, so do not attempt to register an enum as a Spring bean. Moreover, Spring is unable to assist you in finding a constructor parameter of type String. Second, there is an error in your EL expression. Therefore, the final solution is to remove `@Component` and change the EL expression to `@PreAuthorize(&quot;hasPermission(#authentication, T(yourEnumPackageName.ScopeEnum).UPDATE.name)&quot;)`.","link":"https://stackoverflow.com/questions/77574339/using-spel-to-pass-parameters-in-spring-spring-security-method/77575602#77575602","title":"Using SpEL to pass parameters in Spring/Spring security method","body":"<p>First, an enum class cannot be instantiated externally, so do not attempt to register an enum as a Spring bean. Moreover, Spring is unable to assist you in finding a constructor parameter of type String. Second, there is an error in your EL expression. Therefore, the final solution is to remove <code>@Component</code> and change the EL expression to <code>@PreAuthorize(&quot;hasPermission(#authentication, T(yourEnumPackageName.ScopeEnum).UPDATE.name)&quot;)</code>.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":41,"answer_count":1,"score":0,"last_activity_date":1701312998,"creation_date":1701289920,"question_id":77574339,"body_markdown":"Dear Spring/Spring Security developers: \r\n\r\nFor this controller method in Spring Boot, I use PreAuthorize annotation in combination with hasPermission Method. My problem is how to pass the Enum value currectly to the hasPermission method using SpEL. \r\n\r\nI get the this error: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type &#39;java.lang.String&#39; available\r\n\r\n\r\n\r\n    @Component(&quot;Scope&quot;)\r\n    public enum ScopeEnum{\r\n    \r\n        UPDATE(&quot;update&quot;), DELETE(&quot;delete&quot;);\r\n    \r\n        public final String name;\r\n    \r\n        ResourceScope(String name) {\r\n            this.name= name;\r\n        }\r\n    }\r\n    \r\n    @PreAuthorize(&quot;hasPermission(#authentication, @Scope.UPDATE&quot;)\r\n    public ResponseEntity doUpdateOrDelete(Authorization authorization, ...) {\r\n      // Code....\r\n    \r\n    }\r\n\r\n","link":"https://stackoverflow.com/questions/77574339/using-spel-to-pass-parameters-in-spring-spring-security-method","title":"Using SpEL to pass parameters in Spring/Spring security method","body":"<p>Dear Spring/Spring Security developers:</p>\n<p>For this controller method in Spring Boot, I use PreAuthorize annotation in combination with hasPermission Method. My problem is how to pass the Enum value currectly to the hasPermission method using SpEL.</p>\n<p>I get the this error: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'java.lang.String' available</p>\n<pre><code>@Component(&quot;Scope&quot;)\npublic enum ScopeEnum{\n\n    UPDATE(&quot;update&quot;), DELETE(&quot;delete&quot;);\n\n    public final String name;\n\n    ResourceScope(String name) {\n        this.name= name;\n    }\n}\n\n@PreAuthorize(&quot;hasPermission(#authentication, @Scope.UPDATE&quot;)\npublic ResponseEntity doUpdateOrDelete(Authorization authorization, ...) {\n  // Code....\n\n}\n</code></pre>\n"},{"tags":["java","compare","apache-commons-io"],"comment_count":0,"is_answered":false,"view_count":17,"answer_count":0,"score":0,"last_activity_date":1701310641,"creation_date":1701310641,"question_id":77575495,"body_markdown":"I was using commons-io version 2.12.0 and my code worked fine regardless of file size. But when I upgraded to 2.15.0, my code only works with small files. When the file size is 8347 bytes, the comparison works. But, when the file size is bigger than 8348 bytes, the comparison always returns true.\r\n\r\nIs this a bug from commons-io library?\r\n\r\nI am using Amazon Corretto 11.0.21.9.1 on Windows 10 box.\r\n\r\nHere is my sample code.\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\n\r\npublic class Test15 {\r\n\r\n  public static void main(String[] args) {\r\n    File tmpFile1 = new File(&quot;file1.xml&quot;);\r\n    File tmpFile2 = new File(&quot;file2.xml&quot;);\r\n    try {\r\n      boolean filesEqual = FileUtils.contentEquals(tmpFile1, tmpFile2);\r\n      System.out.println(filesEqual);\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\nHere is a sample file to compare. They have exact same file size.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;PpppppppppppData&gt;\r\n    &lt;LooooData&gt;\r\n        &lt;Ssssss&gt;\r\n            &lt;ProfName&gt;ProfName2&lt;/ProfName&gt;\r\n            &lt;Version&gt;2&lt;/Version&gt;\r\n            &lt;TimeStamp&gt;00000000&lt;/TimeStamp&gt;\r\n            &lt;CcccccDddd&gt;\r\n                &lt;GggIiAaaaa&gt;\r\n                    &lt;Version&gt;33333&lt;/Version&gt;\r\n                    &lt;Site&gt;\r\n                        &lt;SiteID&gt;4&lt;/SiteID&gt;\r\n                        &lt;Iiii&gt;\r\n                            &lt;CcAddress&gt;&lt;/CcAddress&gt;\r\n                            &lt;CcAddress&gt;0.0.0&lt;/CcAddress&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                        &lt;/Iiii&gt;\r\n                        &lt;Iiii&gt;\r\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\r\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                        &lt;/Iiii&gt;\r\n                    &lt;/Site&gt;\r\n                &lt;/GggIiAaaaa&gt;\r\n            &lt;/CcccccDddd&gt;\r\n        &lt;/Ssssss&gt;\r\n        &lt;Siiiiiiii&gt;ZGVmYXVsdA==&lt;/Siiiiiiii&gt;\r\n        &lt;PPPPPPP&gt;\r\n            &lt;CcrrDddd&gt;ZGVmYXVsdA==&lt;/CcrrDddd&gt;\r\n        &lt;/PPPPPPP&gt;\r\n    &lt;/LooooData&gt;\r\n&lt;/PpppppppppppData&gt;\r\n```\r\nAnother one... notice that only ProfName and Version is different.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;PpppppppppppData&gt;\r\n    &lt;LooooData&gt;\r\n        &lt;Ssssss&gt;\r\n            &lt;ProfName&gt;ProfName1&lt;/ProfName&gt;\r\n            &lt;Version&gt;1&lt;/Version&gt;\r\n            &lt;TimeStamp&gt;00000000&lt;/TimeStamp&gt;\r\n            &lt;CcccccDddd&gt;\r\n                &lt;GggIiAaaaa&gt;\r\n                    &lt;Version&gt;33333&lt;/Version&gt;\r\n                    &lt;Site&gt;\r\n                        &lt;SiteID&gt;4&lt;/SiteID&gt;\r\n                        &lt;Iiii&gt;\r\n                            &lt;CcAddress&gt;&lt;/CcAddress&gt;\r\n                            &lt;CcAddress&gt;0.0.0&lt;/CcAddress&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                            &lt;IpppSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IpppSuuuuu&gt;\r\n                        &lt;/Iiii&gt;\r\n                        &lt;Iiii&gt;\r\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\r\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                            &lt;IiiiSuuuuu&gt;\r\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\r\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\r\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\r\n                            &lt;/IiiiSuuuuu&gt;\r\n                        &lt;/Iiii&gt;\r\n                    &lt;/Site&gt;\r\n                &lt;/GggIiAaaaa&gt;\r\n            &lt;/CcccccDddd&gt;\r\n        &lt;/Ssssss&gt;\r\n        &lt;Siiiiiiii&gt;ZGVmYXVsdA==&lt;/Siiiiiiii&gt;\r\n        &lt;PPPPPPP&gt;\r\n            &lt;CcrrDddd&gt;ZGVmYXVsdA==&lt;/CcrrDddd&gt;\r\n        &lt;/PPPPPPP&gt;\r\n    &lt;/LooooData&gt;\r\n&lt;/PpppppppppppData&gt;\r\n```\r\nhttps://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,java.io.File)\r\n\r\nI searched commons-io issue tracking page. I did not find any bug related to this.\r\nI have not tried with 2.13.0 or 2.14.0 versions of commons-io","link":"https://stackoverflow.com/questions/77575495/fileutils-contentequals-does-not-work-with-big-files","title":"FileUtils contentEquals does not work with big files","body":"<p>I was using commons-io version 2.12.0 and my code worked fine regardless of file size. But when I upgraded to 2.15.0, my code only works with small files. When the file size is 8347 bytes, the comparison works. But, when the file size is bigger than 8348 bytes, the comparison always returns true.</p>\n<p>Is this a bug from commons-io library?</p>\n<p>I am using Amazon Corretto 11.0.21.9.1 on Windows 10 box.</p>\n<p>Here is my sample code.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport org.apache.commons.io.FileUtils;\n\npublic class Test15 {\n\n  public static void main(String[] args) {\n    File tmpFile1 = new File(&quot;file1.xml&quot;);\n    File tmpFile2 = new File(&quot;file2.xml&quot;);\n    try {\n      boolean filesEqual = FileUtils.contentEquals(tmpFile1, tmpFile2);\n      System.out.println(filesEqual);\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>Here is a sample file to compare. They have exact same file size.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;PpppppppppppData&gt;\n    &lt;LooooData&gt;\n        &lt;Ssssss&gt;\n            &lt;ProfName&gt;ProfName2&lt;/ProfName&gt;\n            &lt;Version&gt;2&lt;/Version&gt;\n            &lt;TimeStamp&gt;00000000&lt;/TimeStamp&gt;\n            &lt;CcccccDddd&gt;\n                &lt;GggIiAaaaa&gt;\n                    &lt;Version&gt;33333&lt;/Version&gt;\n                    &lt;Site&gt;\n                        &lt;SiteID&gt;4&lt;/SiteID&gt;\n                        &lt;Iiii&gt;\n                            &lt;CcAddress&gt;&lt;/CcAddress&gt;\n                            &lt;CcAddress&gt;0.0.0&lt;/CcAddress&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                        &lt;/Iiii&gt;\n                        &lt;Iiii&gt;\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                        &lt;/Iiii&gt;\n                    &lt;/Site&gt;\n                &lt;/GggIiAaaaa&gt;\n            &lt;/CcccccDddd&gt;\n        &lt;/Ssssss&gt;\n        &lt;Siiiiiiii&gt;ZGVmYXVsdA==&lt;/Siiiiiiii&gt;\n        &lt;PPPPPPP&gt;\n            &lt;CcrrDddd&gt;ZGVmYXVsdA==&lt;/CcrrDddd&gt;\n        &lt;/PPPPPPP&gt;\n    &lt;/LooooData&gt;\n&lt;/PpppppppppppData&gt;\n</code></pre>\n<p>Another one... notice that only ProfName and Version is different.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;PpppppppppppData&gt;\n    &lt;LooooData&gt;\n        &lt;Ssssss&gt;\n            &lt;ProfName&gt;ProfName1&lt;/ProfName&gt;\n            &lt;Version&gt;1&lt;/Version&gt;\n            &lt;TimeStamp&gt;00000000&lt;/TimeStamp&gt;\n            &lt;CcccccDddd&gt;\n                &lt;GggIiAaaaa&gt;\n                    &lt;Version&gt;33333&lt;/Version&gt;\n                    &lt;Site&gt;\n                        &lt;SiteID&gt;4&lt;/SiteID&gt;\n                        &lt;Iiii&gt;\n                            &lt;CcAddress&gt;&lt;/CcAddress&gt;\n                            &lt;CcAddress&gt;0.0.0&lt;/CcAddress&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                            &lt;IpppSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0.0.0.0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;0.0.0.0&lt;/SuuuuuMaaa&gt;\n                            &lt;/IpppSuuuuu&gt;\n                        &lt;/Iiii&gt;\n                        &lt;Iiii&gt;\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\n                            &lt;CcAddress&gt;0:0:0:0:0:0:0:0&lt;/CcAddress&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                            &lt;IiiiSuuuuu&gt;\n                                &lt;SsssssIi&gt;8&lt;/SsssssIi&gt;\n                                &lt;RooooooPppppp&gt;0:0:0:0:0:0:0:0&lt;/RooooooPppppp&gt;\n                                &lt;SuuuuuMaaa&gt;64&lt;/SuuuuuMaaa&gt;\n                            &lt;/IiiiSuuuuu&gt;\n                        &lt;/Iiii&gt;\n                    &lt;/Site&gt;\n                &lt;/GggIiAaaaa&gt;\n            &lt;/CcccccDddd&gt;\n        &lt;/Ssssss&gt;\n        &lt;Siiiiiiii&gt;ZGVmYXVsdA==&lt;/Siiiiiiii&gt;\n        &lt;PPPPPPP&gt;\n            &lt;CcrrDddd&gt;ZGVmYXVsdA==&lt;/CcrrDddd&gt;\n        &lt;/PPPPPPP&gt;\n    &lt;/LooooData&gt;\n&lt;/PpppppppppppData&gt;\n</code></pre>\n<p><a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,java.io.File)\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#contentEquals(java.io.File,java.io.File)</a></p>\n<p>I searched commons-io issue tracking page. I did not find any bug related to this.\nI have not tried with 2.13.0 or 2.14.0 versions of commons-io</p>\n"},{"tags":["java","algorithm","dynamic-programming"],"comments":[{"score":0,"post_type":"question","creation_date":1701310383,"post_id":77575430,"comment_id":136761085,"body_markdown":"Why did you tag this as `dsa`?  The `dsa` tag is for `Digital Signature Algorithm`.  You should have tagged `java`.","link":"https://stackoverflow.com/questions/77575430/optimization-for-369-numbers-problem-on-spoj-https-www-spoj-com-problems-num#comment136761085_77575430","body":"Why did you tag this as <code>dsa</code>?  The <code>dsa</code> tag is for <code>Digital Signature Algorithm</code>.  You should have tagged <code>java</code>."}],"comment_count":1,"is_answered":false,"view_count":18,"answer_count":0,"score":-1,"last_activity_date":1701310413,"creation_date":1701309125,"last_edit_date":1701310413,"question_id":77575430,"body_markdown":"Problem link :https://www.spoj.com/problems/NUMTSN/\r\n\r\n&gt;! My Solution :  `https://ideone.com/qhPjvD`\r\n\r\nI am trying to run this solution but couldn&#39;t find a way to surpass TLE\r\n\r\nEveryone is not considering the tight*lower and tight*\\_upper as the dp state \r\n\r\nSo is there any way to reducinf the dp size\r\n\r\nmy code :\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    static int mod = (int)1e9+7;\r\n    static int[][][][][][]dp= new int[2][2][18][18][18][50];\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader buf = new BufferedReader(new InputStreamReader(System.in));\r\n        int t = Integer.parseInt(buf.readLine());\r\n        while (t-- &gt; 0) {\r\n            for(int [][][][][]a:dp)\r\n                for(int [][][][]b:a)\r\n                    for(int [][][]c:b)\r\n                        for(int [][]d:c)\r\n                            for(int []e:d)Arrays.fill(e,-1);\r\n            StringTokenizer st = new StringTokenizer(buf.readLine());\r\n            StringBuilder a = new StringBuilder(st.nextToken());\r\n            a.reverse();\r\n            String b = st.nextToken();\r\n            while (a.length() &lt; b.length()) a.append(&#39;0&#39;);\r\n            a.reverse();\r\n            String l = a.toString();\r\n            System.out.println(function(l, b, 0, 1, 1, 0,0,0));\r\n        }\r\n    }\r\n    static int function(String ls, String us, int pos, int tl, int tr, int d1, int d2, int d3) {\r\n        if (d1 &gt;= 17 || d2 &gt;= 17 || d3 &gt;= 17) return 0;\r\n        if (pos == us.length()) {\r\n            return d1 == d2 &amp;&amp; d2 == d3 &amp;&amp; d1 &gt;= 1 ? 1 : 0;\r\n        }\r\n        if(dp[tl][tr][d1][d2][d3][pos]!=-1)return dp[tl][tr][d1][d2][d3][pos];\r\n        int lb = tl == 1 ? ls.charAt(pos)-&#39;0&#39; : 0;\r\n        int ub = tr == 1 ? us.charAt(pos) - &#39;0&#39; : 9;\r\n        int ret = 0;\r\n        for (int i = lb; i &lt;= ub; i++) {\r\n            int a = 0, b = 0, c = 0;\r\n            if (i == 3) a= a+1;\r\n            else if (i == 6) b=b+1;\r\n            else if (i == 9) c=c+1;\r\n            ret = (ret + function(ls, us, pos + 1, tl == 1 &amp;&amp; i == lb ? 1 : 0, tr == 1 &amp;&amp; i == ub ? 1 : 0,d1+a, d2+b, d3+c ))%mod;\r\n        }\r\n        return dp[tl][tr][d1][d2][d3][pos]=ret;\r\n    }\r\n}\r\n```","link":"https://stackoverflow.com/questions/77575430/optimization-for-369-numbers-problem-on-spoj-https-www-spoj-com-problems-num","title":"Optimization for 369 Numbers Problem on Spoj , https://www.spoj.com/problems/NUMTSN/","body":"<p>Problem link :<a href=\"https://www.spoj.com/problems/NUMTSN/\" rel=\"nofollow noreferrer\">https://www.spoj.com/problems/NUMTSN/</a></p>\n<blockquote class=\"spoiler\">\n<p> My Solution :  <code>https://ideone.com/qhPjvD</code></p>\n</blockquote>\n<p>I am trying to run this solution but couldn't find a way to surpass TLE</p>\n<p>Everyone is not considering the tight<em>lower and tight</em>_upper as the dp state</p>\n<p>So is there any way to reducinf the dp size</p>\n<p>my code :</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Main {\n    static int mod = (int)1e9+7;\n    static int[][][][][][]dp= new int[2][2][18][18][18][50];\n    public static void main(String[] args) throws IOException {\n        BufferedReader buf = new BufferedReader(new InputStreamReader(System.in));\n        int t = Integer.parseInt(buf.readLine());\n        while (t-- &gt; 0) {\n            for(int [][][][][]a:dp)\n                for(int [][][][]b:a)\n                    for(int [][][]c:b)\n                        for(int [][]d:c)\n                            for(int []e:d)Arrays.fill(e,-1);\n            StringTokenizer st = new StringTokenizer(buf.readLine());\n            StringBuilder a = new StringBuilder(st.nextToken());\n            a.reverse();\n            String b = st.nextToken();\n            while (a.length() &lt; b.length()) a.append('0');\n            a.reverse();\n            String l = a.toString();\n            System.out.println(function(l, b, 0, 1, 1, 0,0,0));\n        }\n    }\n    static int function(String ls, String us, int pos, int tl, int tr, int d1, int d2, int d3) {\n        if (d1 &gt;= 17 || d2 &gt;= 17 || d3 &gt;= 17) return 0;\n        if (pos == us.length()) {\n            return d1 == d2 &amp;&amp; d2 == d3 &amp;&amp; d1 &gt;= 1 ? 1 : 0;\n        }\n        if(dp[tl][tr][d1][d2][d3][pos]!=-1)return dp[tl][tr][d1][d2][d3][pos];\n        int lb = tl == 1 ? ls.charAt(pos)-'0' : 0;\n        int ub = tr == 1 ? us.charAt(pos) - '0' : 9;\n        int ret = 0;\n        for (int i = lb; i &lt;= ub; i++) {\n            int a = 0, b = 0, c = 0;\n            if (i == 3) a= a+1;\n            else if (i == 6) b=b+1;\n            else if (i == 9) c=c+1;\n            ret = (ret + function(ls, us, pos + 1, tl == 1 &amp;&amp; i == lb ? 1 : 0, tr == 1 &amp;&amp; i == ub ? 1 : 0,d1+a, d2+b, d3+c ))%mod;\n        }\n        return dp[tl][tr][d1][d2][d3][pos]=ret;\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","spring","spring-boot"],"comments":[{"score":0,"post_type":"question","creation_date":1701164417,"post_id":77562499,"comment_id":136738464,"body_markdown":"Do you really need the `logback-spring.xml` at all? `scanPeriod` doesn&#39;t really make sense for an xml that is being shipped as part of the application (as you cannot open the jar edit the file, close it so that it will be re-read). The `LOG_PATTERN` can be set through `application.properties`.","link":"https://stackoverflow.com/questions/77562499/how-to-reduce-the-duplicate-code-in-logback-spring-xml-file-in-many-different-pr#comment136738464_77562499","body":"Do you really need the <code>logback-spring.xml</code> at all? <code>scanPeriod</code> doesn&#39;t really make sense for an xml that is being shipped as part of the application (as you cannot open the jar edit the file, close it so that it will be re-read). The <code>LOG_PATTERN</code> can be set through <code>application.properties</code>."},{"score":0,"post_type":"question","creation_date":1701180517,"post_id":77562499,"comment_id":136741350,"body_markdown":"@M. Deinum they have more different part than I mention, I just name a few as an example. such as logger name are different, I&#39;ll edit to add them.","link":"https://stackoverflow.com/questions/77562499/how-to-reduce-the-duplicate-code-in-logback-spring-xml-file-in-many-different-pr#comment136741350_77562499","body":"@M. Deinum they have more different part than I mention, I just name a few as an example. such as logger name are different, I&#39;ll edit to add them."},{"score":0,"post_type":"question","creation_date":1701180832,"post_id":77562499,"comment_id":136741427,"body_markdown":"logger names for what? Can you show such a `logback-spring.xml`? If the logger names are for specifiying at which level that can also be done through `application.properties`.","link":"https://stackoverflow.com/questions/77562499/how-to-reduce-the-duplicate-code-in-logback-spring-xml-file-in-many-different-pr#comment136741427_77562499","body":"logger names for what? Can you show such a <code>logback-spring.xml</code>? If the logger names are for specifiying at which level that can also be done through <code>application.properties</code>."},{"score":0,"post_type":"question","creation_date":1701189402,"post_id":77562499,"comment_id":136743249,"body_markdown":"I guess, you could generate logback-spring.xml on fly from a template when application compiles. This could be a maven plugin. Take openapi-generator-maven-plugin as example.","link":"https://stackoverflow.com/questions/77562499/how-to-reduce-the-duplicate-code-in-logback-spring-xml-file-in-many-different-pr#comment136743249_77562499","body":"I guess, you could generate logback-spring.xml on fly from a template when application compiles. This could be a maven plugin. Take openapi-generator-maven-plugin as example."},{"score":0,"post_type":"question","creation_date":1701220574,"post_id":77562499,"comment_id":136747854,"body_markdown":"@M. Deinum sry I&#39;m too busy yesterday, I add an example file to the question now.","link":"https://stackoverflow.com/questions/77562499/how-to-reduce-the-duplicate-code-in-logback-spring-xml-file-in-many-different-pr#comment136747854_77562499","body":"@M. Deinum sry I&#39;m too busy yesterday, I add an example file to the question now."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701180572,"post_id":77563156,"comment_id":136741365,"body_markdown":"good idea. I want to see more answer so I&#39;ll keep the question for a few days.","link":"https://stackoverflow.com/questions/77562499/how-to-reduce-the-duplicate-code-in-logback-spring-xml-file-in-many-different-pr/77563156#comment136741365_77563156","body":"good idea. I want to see more answer so I&#39;ll keep the question for a few days."},{"score":0,"post_type":"answer","creation_date":1701185232,"post_id":77563156,"comment_id":136742341,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","link":"https://stackoverflow.com/questions/77562499/how-to-reduce-the-duplicate-code-in-logback-spring-xml-file-in-many-different-pr/77563156#comment136742341_77563156","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77563156/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"comment_count":2,"score":0,"last_activity_date":1701167724,"creation_date":1701167724,"answer_id":77563156,"question_id":77562499,"body_markdown":" Here&#39;s a method you can reference.\r\n\r\n Try to abstract these different log.xml files to JAVA objects and persist this data. \r\n\r\nWhen start the application, you just need to convert these to Xml files. It&#39; \r\n\r\nmore flexible and easier to manage JAVA objects than manage Xml static files.\r\n\r\n","link":"https://stackoverflow.com/questions/77562499/how-to-reduce-the-duplicate-code-in-logback-spring-xml-file-in-many-different-pr/77563156#77563156","title":"How to reduce the duplicate code in logback-spring.xml file in many different project?","body":"<p>Here's a method you can reference.</p>\n<p>Try to abstract these different log.xml files to JAVA objects and persist this data.</p>\n<p>When start the application, you just need to convert these to Xml files. It'</p>\n<p>more flexible and easier to manage JAVA objects than manage Xml static files.</p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1701306965,"post_id":77571285,"comment_id":136760827,"body_markdown":"good idea, +1 for your effort,I want to see more answer so I&#39;ll keep the question for a few days.","link":"https://stackoverflow.com/questions/77562499/how-to-reduce-the-duplicate-code-in-logback-spring-xml-file-in-many-different-pr/77571285#comment136760827_77571285","body":"good idea, +1 for your effort,I want to see more answer so I&#39;ll keep the question for a few days."}],"comment_count":1,"score":1,"last_activity_date":1701262079,"creation_date":1701262079,"answer_id":77571285,"question_id":77562499,"body_markdown":"Logback allows you to include other configuration files within your main `logback.xml` using the `&lt;include&gt;` element. You can create a common configuration file with shared settings and include it in each project&#39;s logback configuration file \r\n\r\n**common logback**\r\n\r\n    &lt;configuration&gt;\r\n      &lt;!-- Shared conf here --&gt;\r\n    &lt;configuration&gt;\r\n\r\n**specific logback**\r\n\r\n    &lt;configuration&gt;\r\n      &lt;include resource=&quot;common-logback.xml&quot; /&gt;\r\n      &lt;!-- Specific conf here --&gt;\r\n    &lt;/configuration&gt;","link":"https://stackoverflow.com/questions/77562499/how-to-reduce-the-duplicate-code-in-logback-spring-xml-file-in-many-different-pr/77571285#77571285","title":"How to reduce the duplicate code in logback-spring.xml file in many different project?","body":"<p>Logback allows you to include other configuration files within your main <code>logback.xml</code> using the <code>&lt;include&gt;</code> element. You can create a common configuration file with shared settings and include it in each project's logback configuration file</p>\n<p><strong>common logback</strong></p>\n<pre><code>&lt;configuration&gt;\n  &lt;!-- Shared conf here --&gt;\n&lt;configuration&gt;\n</code></pre>\n<p><strong>specific logback</strong></p>\n<pre><code>&lt;configuration&gt;\n  &lt;include resource=&quot;common-logback.xml&quot; /&gt;\n  &lt;!-- Specific conf here --&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"comment_count":5,"is_answered":true,"view_count":69,"answer_count":2,"score":0,"last_activity_date":1701310393,"creation_date":1701162242,"last_edit_date":1701310393,"question_id":77562499,"body_markdown":"### description:\r\n- My company have a lot of `spring` project with using basically the same (90% the same)  `logback-spring.xml` in all project, such as `scanPeriod` and `LOG_PATTERN` are different. So my boss ask me to reduce duplicate code in `logback-spring.xml` file.\r\n- All project rarely change the `logback-spring.xml` file, but they may change it in the future.\r\n- If I need post the `logback-spring.xml` code, I&#39;ll remove company information in it and post it later.\r\n### what I have tried:\r\n1. Use `maven` to share `logback-spring.xml`. But the `logback-spring.xml` are **basically** the same, not exactly the same.\r\n2. All projects have a dependency to a company basic library named `framework`, so I can store all `logback-spring.xml` in `framework`. But it didn&#39;t reduce any duplicate code.\r\n3. (here now)Tell my boss there is no need to reduce the duplicate code in a config file, such as `logback-spring.xml`. Because they are technically not **code**, they can&#39;t build or run.\r\n### example file:\r\n- The &quot;xxx&quot; and &quot;xxxx&quot; part are changed depends on project.\r\n- Some project may add or remove some `springProperty`\r\n- `springProperty` name maybe different.\r\n- `maxFileSize` maybe different.\r\n- `scanPeriod` and `LOG_PATTERN` maybe different.\r\n- etc.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;10 seconds&quot;&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;springAppName&quot;  source=&quot;spring.application.name&quot; defaultValue=&quot;cloud1-service&quot;/&gt;\r\n\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailSmtpHost&quot; source=&quot;xxx.admin.email.smtpHost&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailSmtpPort&quot; source=&quot;xxx.admin.email.smtpPort&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailUsername&quot; source=&quot;xxx.admin.email.username&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailPassword&quot; source=&quot;xxx.admin.email.password&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailTitle&quot; source=&quot;xxx.admin.email.title&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailFrom&quot; source=&quot;xxx.admin.email.from&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailTo&quot; source=&quot;xxx.admin.email.to&quot;/&gt;\r\n\r\n    &lt;property name=&quot;LOG_CONTEXT_NAME&quot; value=&quot;${springAppName}&quot;/&gt;\r\n    &lt;property name=&quot;LOG_HOME&quot; value=&quot;logs/&quot;/&gt;\r\n    &lt;property name=&quot;LOG_PATTERN&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [TraceId=%yellow(%X{traceId}),SpanId=%green(%X{spanId}),ParentSpanId=%blue(%X{parentId})]\r\n                [%thread] %-5level %logger{10}-%msg%n&quot;/&gt;\r\n\r\n    &lt;appender name=&quot;EMAIL&quot; class=&quot;ch.qos.logback.classic.net.SMTPAppender&quot;&gt;\r\n        &lt;smtpHost&gt;${emailSmtpHost}&lt;/smtpHost&gt;\r\n        &lt;smtpPort&gt;${emailSmtpPort}&lt;/smtpPort&gt;\r\n        &lt;username&gt;${emailUsername}&lt;/username&gt;\r\n        &lt;password&gt;${emailPassword}&lt;/password&gt;\r\n        &lt;to&gt;${emailTo},${emailCopy}&lt;/to&gt;\r\n        &lt;from&gt;${emailFrom}&lt;/from&gt;\r\n        &lt;subject&gt;${emailTitle}(${springAppName})&lt;/subject&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;/&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;ERROR&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n        &lt;SSL&gt;true&lt;/SSL&gt;\r\n        &lt;asynchronousSending&gt;true&lt;/asynchronousSending&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ERROR_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;File&gt;${LOG_HOME}/${HOSTNAME}-${LOG_CONTEXT_NAME}.error.log&lt;/File&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${LOG_HOME}/biz/error-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\r\n            &lt;maxHistory&gt;365&lt;/maxHistory&gt;\r\n            &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;128 MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;layout&gt;\r\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\r\n            &lt;level&gt;ERROR&lt;/level&gt;\r\n            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\r\n            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;BIZ_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;File&gt;${LOG_HOME}/${HOSTNAME}-${LOG_CONTEXT_NAME}.biz.log&lt;/File&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${LOG_HOME}/biz/${HOSTNAME}-${LOG_CONTEXT_NAME}.biz-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\r\n            &lt;maxHistory&gt;365&lt;/maxHistory&gt;\r\n            &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;128 MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;encoder&gt;\r\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ASYNC_ERROR_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\r\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\r\n        &lt;appender-ref ref=&quot;ERROR_FILE&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ASYNC_BIZ_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\r\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\r\n        &lt;appender-ref ref=&quot;BIZ_FILE&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ASYNC_STDOUT&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\r\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;WARN&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_STDOUT&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_BIZ_FILE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_ERROR_FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n    &lt;logger name=&quot;com.xxxx.cloud1&quot; level=&quot;debug&quot; additivity=&quot;false&quot; includeLocation=&quot;true&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_STDOUT&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_BIZ_FILE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC_ERROR_FILE&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;EMAIL&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n### question\r\n1. Any way to reduce the duplicate code in `logback-spring.xml` file in many different project?\r\n2. Do we really need to reduce the duplicate code in a config file, such as `logback-spring.xml`?","link":"https://stackoverflow.com/questions/77562499/how-to-reduce-the-duplicate-code-in-logback-spring-xml-file-in-many-different-pr","title":"How to reduce the duplicate code in logback-spring.xml file in many different project?","body":"<h3>description:</h3>\n<ul>\n<li>My company have a lot of <code>spring</code> project with using basically the same (90% the same)  <code>logback-spring.xml</code> in all project, such as <code>scanPeriod</code> and <code>LOG_PATTERN</code> are different. So my boss ask me to reduce duplicate code in <code>logback-spring.xml</code> file.</li>\n<li>All project rarely change the <code>logback-spring.xml</code> file, but they may change it in the future.</li>\n<li>If I need post the <code>logback-spring.xml</code> code, I'll remove company information in it and post it later.</li>\n</ul>\n<h3>what I have tried:</h3>\n<ol>\n<li>Use <code>maven</code> to share <code>logback-spring.xml</code>. But the <code>logback-spring.xml</code> are <strong>basically</strong> the same, not exactly the same.</li>\n<li>All projects have a dependency to a company basic library named <code>framework</code>, so I can store all <code>logback-spring.xml</code> in <code>framework</code>. But it didn't reduce any duplicate code.</li>\n<li>(here now)Tell my boss there is no need to reduce the duplicate code in a config file, such as <code>logback-spring.xml</code>. Because they are technically not <strong>code</strong>, they can't build or run.</li>\n</ol>\n<h3>example file:</h3>\n<ul>\n<li>The &quot;xxx&quot; and &quot;xxxx&quot; part are changed depends on project.</li>\n<li>Some project may add or remove some <code>springProperty</code></li>\n<li><code>springProperty</code> name maybe different.</li>\n<li><code>maxFileSize</code> maybe different.</li>\n<li><code>scanPeriod</code> and <code>LOG_PATTERN</code> maybe different.</li>\n<li>etc.</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;10 seconds&quot;&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;springAppName&quot;  source=&quot;spring.application.name&quot; defaultValue=&quot;cloud1-service&quot;/&gt;\n\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailSmtpHost&quot; source=&quot;xxx.admin.email.smtpHost&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailSmtpPort&quot; source=&quot;xxx.admin.email.smtpPort&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailUsername&quot; source=&quot;xxx.admin.email.username&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailPassword&quot; source=&quot;xxx.admin.email.password&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailTitle&quot; source=&quot;xxx.admin.email.title&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailFrom&quot; source=&quot;xxx.admin.email.from&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;emailTo&quot; source=&quot;xxx.admin.email.to&quot;/&gt;\n\n    &lt;property name=&quot;LOG_CONTEXT_NAME&quot; value=&quot;${springAppName}&quot;/&gt;\n    &lt;property name=&quot;LOG_HOME&quot; value=&quot;logs/&quot;/&gt;\n    &lt;property name=&quot;LOG_PATTERN&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [TraceId=%yellow(%X{traceId}),SpanId=%green(%X{spanId}),ParentSpanId=%blue(%X{parentId})]\n                [%thread] %-5level %logger{10}-%msg%n&quot;/&gt;\n\n    &lt;appender name=&quot;EMAIL&quot; class=&quot;ch.qos.logback.classic.net.SMTPAppender&quot;&gt;\n        &lt;smtpHost&gt;${emailSmtpHost}&lt;/smtpHost&gt;\n        &lt;smtpPort&gt;${emailSmtpPort}&lt;/smtpPort&gt;\n        &lt;username&gt;${emailUsername}&lt;/username&gt;\n        &lt;password&gt;${emailPassword}&lt;/password&gt;\n        &lt;to&gt;${emailTo},${emailCopy}&lt;/to&gt;\n        &lt;from&gt;${emailFrom}&lt;/from&gt;\n        &lt;subject&gt;${emailTitle}(${springAppName})&lt;/subject&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;/&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;ERROR&lt;/level&gt;\n        &lt;/filter&gt;\n        &lt;SSL&gt;true&lt;/SSL&gt;\n        &lt;asynchronousSending&gt;true&lt;/asynchronousSending&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ERROR_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;File&gt;${LOG_HOME}/${HOSTNAME}-${LOG_CONTEXT_NAME}.error.log&lt;/File&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${LOG_HOME}/biz/error-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\n            &lt;maxHistory&gt;365&lt;/maxHistory&gt;\n            &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;128 MB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;layout&gt;\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\n        &lt;/layout&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\n            &lt;level&gt;ERROR&lt;/level&gt;\n            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\n            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\n        &lt;/filter&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;BIZ_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;File&gt;${LOG_HOME}/${HOSTNAME}-${LOG_CONTEXT_NAME}.biz.log&lt;/File&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${LOG_HOME}/biz/${HOSTNAME}-${LOG_CONTEXT_NAME}.biz-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\n            &lt;maxHistory&gt;365&lt;/maxHistory&gt;\n            &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;128 MB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder&gt;\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;Pattern&gt;${LOG_PATTERN}&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ASYNC_ERROR_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\n        &lt;appender-ref ref=&quot;ERROR_FILE&quot;/&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ASYNC_BIZ_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\n        &lt;appender-ref ref=&quot;BIZ_FILE&quot;/&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ASYNC_STDOUT&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;WARN&quot;&gt;\n        &lt;appender-ref ref=&quot;ASYNC_STDOUT&quot;/&gt;\n        &lt;appender-ref ref=&quot;ASYNC_BIZ_FILE&quot;/&gt;\n        &lt;appender-ref ref=&quot;ASYNC_ERROR_FILE&quot;/&gt;\n    &lt;/root&gt;\n\n    &lt;logger name=&quot;com.xxxx.cloud1&quot; level=&quot;debug&quot; additivity=&quot;false&quot; includeLocation=&quot;true&quot;&gt;\n        &lt;appender-ref ref=&quot;ASYNC_STDOUT&quot;/&gt;\n        &lt;appender-ref ref=&quot;ASYNC_BIZ_FILE&quot;/&gt;\n        &lt;appender-ref ref=&quot;ASYNC_ERROR_FILE&quot;/&gt;\n        &lt;appender-ref ref=&quot;EMAIL&quot;/&gt;\n    &lt;/logger&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<h3>question</h3>\n<ol>\n<li>Any way to reduce the duplicate code in <code>logback-spring.xml</code> file in many different project?</li>\n<li>Do we really need to reduce the duplicate code in a config file, such as <code>logback-spring.xml</code>?</li>\n</ol>\n"},{"tags":["java","maven","github","repository","guava"],"comments":[{"score":0,"post_type":"question","creation_date":1701311451,"post_id":77575429,"comment_id":136761190,"body_markdown":"The issue is not clear. If you are using Maven then you should not upload libraries to GitHub. Maven will download the libraries as dependencies when needed. You need to provide the error and reproduction steps to clarify the issue.","link":"https://stackoverflow.com/questions/77575429/how-can-i-add-an-library-into-my-project-repository-on-github#comment136761190_77575429","body":"The issue is not clear. If you are using Maven then you should not upload libraries to GitHub. Maven will download the libraries as dependencies when needed. You need to provide the error and reproduction steps to clarify the issue."},{"score":0,"post_type":"question","creation_date":1701345236,"post_id":77575429,"comment_id":136765391,"body_markdown":"@aled , I have a project on my computer and I uploaded it to github, but when someone tries to clone my code and run it, they can&#39;t due to some errors. This is because the guava library I&#39;m using hasn&#39;t made it into the repository. I want to know how I can do something to make it easier for someone to clone my repository and run the code correctly with the library.","link":"https://stackoverflow.com/questions/77575429/how-can-i-add-an-library-into-my-project-repository-on-github#comment136765391_77575429","body":"@aled , I have a project on my computer and I uploaded it to github, but when someone tries to clone my code and run it, they can&#39;t due to some errors. This is because the guava library I&#39;m using hasn&#39;t made it into the repository. I want to know how I can do something to make it easier for someone to clone my repository and run the code correctly with the library."},{"score":0,"post_type":"question","creation_date":1701345995,"post_id":77575429,"comment_id":136765523,"body_markdown":"You use a Maven POM and declare guava as dependency there.","link":"https://stackoverflow.com/questions/77575429/how-can-i-add-an-library-into-my-project-repository-on-github#comment136765523_77575429","body":"You use a Maven POM and declare guava as dependency there."},{"score":0,"post_type":"question","creation_date":1701347531,"post_id":77575429,"comment_id":136765818,"body_markdown":"You have to share the errors and reproduction steps. We can not guess which error are they having if you don&#39;t share the details. Edit your question to add details instead of comments.","link":"https://stackoverflow.com/questions/77575429/how-can-i-add-an-library-into-my-project-repository-on-github#comment136765818_77575429","body":"You have to share the errors and reproduction steps. We can not guess which error are they having if you don&#39;t share the details. Edit your question to add details instead of comments."}],"comment_count":4,"is_answered":false,"view_count":34,"answer_count":0,"score":0,"last_activity_date":1701309123,"creation_date":1701309123,"question_id":77575429,"body_markdown":"Sorry for bad english. I made an java code and created a repository on github, but the library guava that i was using didnt go with the rest of the code. How can i add this library in my repository in a way that is easy to anyone use the project propertly?\r\n\r\nI think maybe something with maven should work, but i dont know how to use it too, so if that is the best way to do this, can anyone recommend an video or playlist teaching how to use?","link":"https://stackoverflow.com/questions/77575429/how-can-i-add-an-library-into-my-project-repository-on-github","title":"How can i add an library into my project repository on github?","body":"<p>Sorry for bad english. I made an java code and created a repository on github, but the library guava that i was using didnt go with the rest of the code. How can i add this library in my repository in a way that is easy to anyone use the project propertly?</p>\n<p>I think maybe something with maven should work, but i dont know how to use it too, so if that is the best way to do this, can anyone recommend an video or playlist teaching how to use?</p>\n"},{"tags":["java","swing"],"comments":[{"score":2,"post_type":"question","creation_date":1701307616,"post_id":77575366,"comment_id":136760881,"body_markdown":"[Passing Information to a Method or a Constructor](https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html).  You may also want to have a look at concepts like [model view controller](https://www.google.com/search?q=java+model+view+controller) (emphasis on the model part) and the [observer pattern](https://www.google.com/search?q=java+observer+pattern) as some starting suggestions","link":"https://stackoverflow.com/questions/77575366/java-swing-recovering-data-from-jframe-1-to-jframe-2#comment136760881_77575366","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">Passing Information to a Method or a Constructor</a>.  You may also want to have a look at concepts like <a href=\"https://www.google.com/search?q=java+model+view+controller\" rel=\"nofollow noreferrer\">model view controller</a> (emphasis on the model part) and the <a href=\"https://www.google.com/search?q=java+observer+pattern\" rel=\"nofollow noreferrer\">observer pattern</a> as some starting suggestions"}],"comment_count":1,"is_answered":false,"view_count":24,"answer_count":0,"score":-1,"last_activity_date":1701307953,"creation_date":1701307468,"question_id":77575366,"body_markdown":"good evening, I have a little problem with my java swing application. I have a JFrame1 window which displays information and other JFrame windows which \r\n\r\nat each launch must retrieve the information from JFrame 1 and display it in JLabel. I don&#39;t know how to get","link":"https://stackoverflow.com/questions/77575366/java-swing-recovering-data-from-jframe-1-to-jframe-2","title":"Java swing: recovering data from JFrame 1 to Jframe 2","body":"<p>good evening, I have a little problem with my java swing application. I have a JFrame1 window which displays information and other JFrame windows which</p>\n<p>at each launch must retrieve the information from JFrame 1 and display it in JLabel. I don't know how to get</p>\n"},{"tags":["java","input","keyboard","jcombobox"],"comments":[{"score":0,"post_type":"question","creation_date":1701299905,"post_id":77574787,"comment_id":136760116,"body_markdown":"*without going into detail* - Please go in to detail. Why should you limit what the user can do? Some users prefer to use the mouse. Others prefer to use the keyboard. If we know why you think you need to do this maybe we can suggest a better solution.","link":"https://stackoverflow.com/questions/77574787/disable-jcombobox-pop-up-item-selection-on-arrow-keys#comment136760116_77574787","body":"<i>without going into detail</i> - Please go in to detail. Why should you limit what the user can do? Some users prefer to use the mouse. Others prefer to use the keyboard. If we know why you think you need to do this maybe we can suggest a better solution."}],"comment_count":1,"is_answered":false,"view_count":36,"answer_count":0,"score":0,"last_activity_date":1701304669,"creation_date":1701296229,"question_id":77574787,"body_markdown":"I have a very simple desire - I don&#39;t want JComboBox respond to arrow key presses. I don&#39;t want to select items in the pop-up on arrow keys, or in fact I don&#39;t want to show pop-up on pressing down arrow either.\r\n\r\nIt should be a simple task, but all the threads that I find instead advise people &quot;DON&#39;T DO IT! Don&#39;t change default expected behavior! Users will hate you!&quot;\r\n\r\nWell, without going into detail - I need it. I have a very specific application that does not require combo-box to respond to arrows. I still need to keep it focused, though.\r\n\r\nHow do I disable arrow keys? I tried adding a KeyListener, but the box still responds to default key binding.\r\n\r\nThank you.","link":"https://stackoverflow.com/questions/77574787/disable-jcombobox-pop-up-item-selection-on-arrow-keys","title":"Disable JComboBox pop-up item selection on arrow keys","body":"<p>I have a very simple desire - I don't want JComboBox respond to arrow key presses. I don't want to select items in the pop-up on arrow keys, or in fact I don't want to show pop-up on pressing down arrow either.</p>\n<p>It should be a simple task, but all the threads that I find instead advise people &quot;DON'T DO IT! Don't change default expected behavior! Users will hate you!&quot;</p>\n<p>Well, without going into detail - I need it. I have a very specific application that does not require combo-box to respond to arrows. I still need to keep it focused, though.</p>\n<p>How do I disable arrow keys? I tried adding a KeyListener, but the box still responds to default key binding.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","gradle","build"],"comment_count":0,"is_answered":false,"view_count":23,"answer_count":0,"score":0,"last_activity_date":1701304438,"creation_date":1701304438,"question_id":77575241,"body_markdown":"My gardle build is failing when I am trying to run gradle clean build. The classes are in `oa-common-3.0.0.jar` and I have included it in the `lib` directory but still its failing to read the jar on runtime..Any suggestion what I am doing wrong\r\n\r\nMy build.gradle\r\n\r\n    repositories {\r\n    \tflatDir {\r\n           dirs &#39;lib&#39;\r\n        }\r\n    \tmavenCentral()\r\n    \tmavenLocal()\r\n    \tmaven {\r\n    \t\turl &quot;${artifactory_contextUrl}&quot;\r\n    \t\tcredentials {\r\n    \t\t\tusername &quot;${artifactory_user}&quot;\r\n    \t\t\tpassword &quot;${artifactory_password}&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \timplementation files(&#39;lib/oa-common-3.0.0.jar&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-jdbc&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-cloud-connectors&#39;)\r\n\r\nAnd the Error ::\r\n\r\n    $ gradle clean build\r\n    Starting a Gradle Daemon (subsequent builds will be faster)\r\n    \r\n    &gt; Task :compileJava\r\n    Note: Hibernate JPA 2 Static-Metamodel Generator 5.4.7.Final\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:40: error: package com.ge.predix.uaa.token.lib does not exist\r\n    import com.ge.predix.uaa.token.lib.FastTokenServices;\r\n                                      ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:41: error: package com.ge.predix.uaa.token.lib does not exist\r\n    import com.ge.predix.uaa.token.lib.FastTokenServicesCreator;\r\n                                      ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:176: error: cannot find symbol\r\n            public FastTokenServices setFastTokenBean() {\r\n                   ^\r\n      symbol:   class FastTokenServices\r\n      location: class CloudPlatformSecuirtyResourceServerConfig\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:3: error: package springfox.documentation.builders does not exist\r\n    import static springfox.documentation.builders.RequestHandlerSelectors.basePackage;\r\n                                                  ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:3: error: static import only from classes and interfaces\r\n    import static springfox.documentation.builders.RequestHandlerSelectors.basePackage;\r\n    ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:4: error: package springfox.documentation.spi does not exist\r\n    import static springfox.documentation.spi.DocumentationType.SWAGGER_2;\r\n                                             ^\r\n    C:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:4: error: static import only from classes and interfaces\r\n    import static springfox.documentation.spi.DocumentationType.SWAGGER_2;","link":"https://stackoverflow.com/questions/77575241/gradle-build-failing-to-read-the-classes","title":"Gradle build failing to read the classes","body":"<p>My gardle build is failing when I am trying to run gradle clean build. The classes are in <code>oa-common-3.0.0.jar</code> and I have included it in the <code>lib</code> directory but still its failing to read the jar on runtime..Any suggestion what I am doing wrong</p>\n<p>My build.gradle</p>\n<pre><code>repositories {\n    flatDir {\n       dirs 'lib'\n    }\n    mavenCentral()\n    mavenLocal()\n    maven {\n        url &quot;${artifactory_contextUrl}&quot;\n        credentials {\n            username &quot;${artifactory_user}&quot;\n            password &quot;${artifactory_password}&quot;\n        }\n    }\n}\n    implementation files('lib/oa-common-3.0.0.jar')\n    implementation('org.springframework.boot:spring-boot-starter-data-jpa')\n    implementation('org.springframework.boot:spring-boot-starter-jdbc')\n    implementation('org.springframework.boot:spring-boot-starter-web')\n    implementation('org.springframework.boot:spring-boot-starter-cloud-connectors')\n</code></pre>\n<p>And the Error ::</p>\n<pre><code>$ gradle clean build\nStarting a Gradle Daemon (subsequent builds will be faster)\n\n&gt; Task :compileJava\nNote: Hibernate JPA 2 Static-Metamodel Generator 5.4.7.Final\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:40: error: package com.ge.predix.uaa.token.lib does not exist\nimport com.ge.predix.uaa.token.lib.FastTokenServices;\n                                  ^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:41: error: package com.ge.predix.uaa.token.lib does not exist\nimport com.ge.predix.uaa.token.lib.FastTokenServicesCreator;\n                                  ^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\cloud\\CloudPlatformSecuirtyResourceServerConfig.java:176: error: cannot find symbol\n        public FastTokenServices setFastTokenBean() {\n               ^\n  symbol:   class FastTokenServices\n  location: class CloudPlatformSecuirtyResourceServerConfig\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:3: error: package springfox.documentation.builders does not exist\nimport static springfox.documentation.builders.RequestHandlerSelectors.basePackage;\n                                              ^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:3: error: static import only from classes and interfaces\nimport static springfox.documentation.builders.RequestHandlerSelectors.basePackage;\n^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:4: error: package springfox.documentation.spi does not exist\nimport static springfox.documentation.spi.DocumentationType.SWAGGER_2;\n                                         ^\nC:\\Users\\502622018\\moa-workspace\\ooa-dashboard-svc\\src\\main\\java\\com\\ge\\digital\\oa\\overhaul\\config\\SwaggerConfig.java:4: error: static import only from classes and interfaces\nimport static springfox.documentation.spi.DocumentationType.SWAGGER_2;\n</code></pre>\n"},{"tags":["java"],"comments":[{"score":1,"post_type":"question","creation_date":1701303384,"post_id":77575169,"comment_id":136760499,"body_markdown":"No, I don&#39;t think Java&#39;s type system supports what you want to do.","link":"https://stackoverflow.com/questions/77575169/generic-based-on-existence-of-method#comment136760499_77575169","body":"No, I don&#39;t think Java&#39;s type system supports what you want to do."},{"score":0,"post_type":"question","creation_date":1701303813,"post_id":77575169,"comment_id":136760552,"body_markdown":"If the list of classes you need is fixed, you could just enumerate them with overloaded methods: `public Object get(MyClass1 obj)`, `public Object get(MyClass2 obj)` etc.","link":"https://stackoverflow.com/questions/77575169/generic-based-on-existence-of-method#comment136760552_77575169","body":"If the list of classes you need is fixed, you could just enumerate them with overloaded methods: <code>public Object get(MyClass1 obj)</code>, <code>public Object get(MyClass2 obj)</code> etc."},{"score":0,"post_type":"question","creation_date":1701303966,"post_id":77575169,"comment_id":136760566,"body_markdown":"Don&#39;t think it is possible. You can check on any class if a method with a given name and signature is implemented by using reflection, but as to my knowledge there is no way of knowing about *any* classes that could possibly be loaded from *somewhere*.","link":"https://stackoverflow.com/questions/77575169/generic-based-on-existence-of-method#comment136760566_77575169","body":"Don&#39;t think it is possible. You can check on any class if a method with a given name and signature is implemented by using reflection, but as to my knowledge there is no way of knowing about <i>any</i> classes that could possibly be loaded from <i>somewhere</i>."},{"score":2,"post_type":"question","creation_date":1701304250,"post_id":77575169,"comment_id":136760601,"body_markdown":"No, that&#39;s not possible. The behavior you&#39;re describing is exactly what an interface is for. If there is any way you can create an interface with the `getCode()` method and make all of these classes inherit from the interface, then this is fairly trivial. If not, you will have to use reflection.","link":"https://stackoverflow.com/questions/77575169/generic-based-on-existence-of-method#comment136760601_77575169","body":"No, that&#39;s not possible. The behavior you&#39;re describing is exactly what an interface is for. If there is any way you can create an interface with the <code>getCode()</code> method and make all of these classes inherit from the interface, then this is fairly trivial. If not, you will have to use reflection."},{"score":2,"post_type":"question","creation_date":1701304251,"post_id":77575169,"comment_id":136760602,"body_markdown":"I other languages, that&#39;s called duck typing, and no Java definitely does not support it.","link":"https://stackoverflow.com/questions/77575169/generic-based-on-existence-of-method#comment136760602_77575169","body":"I other languages, that&#39;s called duck typing, and no Java definitely does not support it."}],"comment_count":5,"is_answered":false,"view_count":35,"answer_count":0,"score":0,"last_activity_date":1701302812,"creation_date":1701302812,"question_id":77575169,"body_markdown":"Is it possible, in java, to have a generic based on the existence of a function rather then class or interface?\r\n\r\nExample:\r\nLet&#39;s say that I have a few classes that I have no control over.\r\nThey do not extend or implement any class in common, but all have the method getCode.\r\n\r\nAnd I would like to create a single cache that can store instances of any of those classes:\r\n\r\n```java\r\npublic class MyClass1 {\r\n  public String getCode() {\r\n      return &quot;A&quot;;\r\n  }\r\n  // some other methods\r\n}\r\n\r\n```\r\n```java  \r\npublic class MyClass2 {\r\n  public String getCode() {\r\n      return &quot;B&quot;;\r\n  }\r\n\r\n  // some other methods\r\n}\r\n\r\n```\r\n\r\n```java\r\npublic class CodeBasedCache&lt;ClassWithGetCode&gt; {\r\n  \r\n  Map&lt;String, Object&gt; cache = new HashMap&lt;&gt;();\r\n  \r\n  public Object get(ClassWithGetCode obj) {\r\n      return cache.get(obj.getClass().getSimpleName() + obj.getCode());\r\n  }\r\n\r\n  public void put(ClassWithGetCode obj) {\r\n      cache.put(obj.getClass().getSimpleName() + obj.getCode(), obj);\r\n  }\r\n}\r\n\r\n```\r\n\r\nI am aware that I could use reflection to solve this issue by doing something like:\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class CodeBasedCache {\r\n\r\n\tMap&lt;String, Object&gt; cache = new HashMap&lt;&gt;();\r\n\r\n\tpublic Object get(Object obj) {\r\n\t\ttry {\r\n\t\t\tString code = (String) obj.getClass().getDeclaredMethod(&quot;getCode&quot;, null).invoke(obj, null);\r\n\t\t\treturn cache.get(obj.getClass().getSimpleName() + code);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void put(Object obj) {\r\n\t\ttry {\r\n\t\t\tString code = (String) obj.getClass().getDeclaredMethod(&quot;getCode&quot;, null).invoke(obj, null);\r\n\t\t\tcache.put(obj.getClass().getSimpleName() + code, obj);\r\n\t\t} catch (Exception e) {\r\n\t\t\t// do nothing\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\nHowever this solution will not give compilation error if someone tries to call the put with an Object that does not have the method getCode, throwing only a runtime exception if that happens, which is not ideal.\r\n\r\nI ask this, because I have implemented something similar in TypeScript, and was wondering if in java (maybe on one of the latest versions), this would be possible.","link":"https://stackoverflow.com/questions/77575169/generic-based-on-existence-of-method","title":"Generic based on existence of method","body":"<p>Is it possible, in java, to have a generic based on the existence of a function rather then class or interface?</p>\n<p>Example:\nLet's say that I have a few classes that I have no control over.\nThey do not extend or implement any class in common, but all have the method getCode.</p>\n<p>And I would like to create a single cache that can store instances of any of those classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass1 {\n  public String getCode() {\n      return &quot;A&quot;;\n  }\n  // some other methods\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass2 {\n  public String getCode() {\n      return &quot;B&quot;;\n  }\n\n  // some other methods\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CodeBasedCache&lt;ClassWithGetCode&gt; {\n  \n  Map&lt;String, Object&gt; cache = new HashMap&lt;&gt;();\n  \n  public Object get(ClassWithGetCode obj) {\n      return cache.get(obj.getClass().getSimpleName() + obj.getCode());\n  }\n\n  public void put(ClassWithGetCode obj) {\n      cache.put(obj.getClass().getSimpleName() + obj.getCode(), obj);\n  }\n}\n\n</code></pre>\n<p>I am aware that I could use reflection to solve this issue by doing something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class CodeBasedCache {\n\n    Map&lt;String, Object&gt; cache = new HashMap&lt;&gt;();\n\n    public Object get(Object obj) {\n        try {\n            String code = (String) obj.getClass().getDeclaredMethod(&quot;getCode&quot;, null).invoke(obj, null);\n            return cache.get(obj.getClass().getSimpleName() + code);\n        } catch (Exception e) {\n            return null;\n        }\n    }\n\n    public void put(Object obj) {\n        try {\n            String code = (String) obj.getClass().getDeclaredMethod(&quot;getCode&quot;, null).invoke(obj, null);\n            cache.put(obj.getClass().getSimpleName() + code, obj);\n        } catch (Exception e) {\n            // do nothing\n        }\n    }\n}\n\n</code></pre>\n<p>However this solution will not give compilation error if someone tries to call the put with an Object that does not have the method getCode, throwing only a runtime exception if that happens, which is not ideal.</p>\n<p>I ask this, because I have implemented something similar in TypeScript, and was wondering if in java (maybe on one of the latest versions), this would be possible.</p>\n"},{"tags":["java","okhttp","server-sent-events"],"comments":[{"score":0,"post_type":"question","creation_date":1695758990,"post_id":77183084,"comment_id":136066730,"body_markdown":"What version are you using? For version 3, your settings look correct https://github.com/square/okhttp/blob/parent-3.0.0/okhttp/src/main/java/okhttp3/OkHttpClient.java#L386 , are you sure you are using version3","link":"https://stackoverflow.com/questions/77183084/understanding-socket-timeout-when-using-okhttp-sse#comment136066730_77183084","body":"What version are you using? For version 3, your settings look correct <a href=\"https://github.com/square/okhttp/blob/parent-3.0.0/okhttp/src/main/java/okhttp3/OkHttpClient.java#L386\" rel=\"nofollow noreferrer\">github.com/square/okhttp/blob/parent-3.0.0/okhttp/src/main/j&zwnj;&#8203;ava/&hellip;</a> , are you sure you are using version3"},{"score":0,"post_type":"question","creation_date":1695765834,"post_id":77183084,"comment_id":136067692,"body_markdown":"I&#39;m using okhttp3 4.11.0 and okhttp-sse 4.11.0","link":"https://stackoverflow.com/questions/77183084/understanding-socket-timeout-when-using-okhttp-sse#comment136067692_77183084","body":"I&#39;m using okhttp3 4.11.0 and okhttp-sse 4.11.0"},{"score":0,"post_type":"question","creation_date":1695771921,"post_id":77183084,"comment_id":136068241,"body_markdown":"I ended up setting the timeouts to 0 to indicate no timeout, which I think makes sense for SSE. So maybe my question isn&#39;t important, but still curious behavior that I don&#39;t understand.","link":"https://stackoverflow.com/questions/77183084/understanding-socket-timeout-when-using-okhttp-sse#comment136068241_77183084","body":"I ended up setting the timeouts to 0 to indicate no timeout, which I think makes sense for SSE. So maybe my question isn&#39;t important, but still curious behavior that I don&#39;t understand."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701302585,"creation_date":1701302585,"answer_id":77575159,"question_id":77183084,"body_markdown":"The solution for okhttp-sse is to set the timeouts to `0` to indicate no timeout. \r\n\r\n```\r\nOkHttpClient sseHttpClient = new OkHttpClient.Builder()\r\n    .connectTimeout(0, TimeUnit.MINUTES) // no timeout\r\n    .readTimeout(0, TimeUnit.MINUTES) // no timeout\r\n    .writeTimeout(0, TimeUnit.MINUTES) // no timeout\r\n    .build();\r\n```","link":"https://stackoverflow.com/questions/77183084/understanding-socket-timeout-when-using-okhttp-sse/77575159#77575159","title":"Understanding socket timeout when using okhttp-sse","body":"<p>The solution for okhttp-sse is to set the timeouts to <code>0</code> to indicate no timeout.</p>\n<pre><code>OkHttpClient sseHttpClient = new OkHttpClient.Builder()\n    .connectTimeout(0, TimeUnit.MINUTES) // no timeout\n    .readTimeout(0, TimeUnit.MINUTES) // no timeout\n    .writeTimeout(0, TimeUnit.MINUTES) // no timeout\n    .build();\n</code></pre>\n"}],"comment_count":3,"is_answered":true,"view_count":116,"answer_count":1,"score":0,"last_activity_date":1701302585,"creation_date":1695758655,"last_edit_date":1695758738,"question_id":77183084,"body_markdown":"I&#39;m using okhttp-sse to consume server side events in Java. \r\n\r\n```\r\nOkHttpClient httpClient = new OkHttpClient();\r\nString sseUrl = getSseUrl();\r\nRequest request = new Request.Builder()\r\n    .url(sseUrl)\r\n    .build();\r\nEventSource.Factory factory = EventSources.createFactory(httpClient);\r\nfactory.newEventSource(request, listener);\r\n```\r\n\r\nThis works and I receive events, but it fails after 10 seconds due to a SocketTimeoutException. I discovered that okhttp has a default timeout of 10 seconds, so this makes sense. \r\n\r\nI increased the timeouts on my client to 1 minute, but now I get that SocketTimeoutException after 3 minutes. I don&#39;t understand what is going on. I would have expected the timeout after 1 minute.\r\n\r\n```\r\nOkHttpClient httpClient = new OkHttpClient.Builder()\r\n    .connectTimeout(1, TimeUnit.MINUTES)\r\n    .readTimeout(1, TimeUnit.MINUTES)\r\n    .writeTimeout(1, TimeUnit.MINUTES)\r\n    .build();\r\n```\r\n\r\nCan anyone shed some light on this? ","link":"https://stackoverflow.com/questions/77183084/understanding-socket-timeout-when-using-okhttp-sse","title":"Understanding socket timeout when using okhttp-sse","body":"<p>I'm using okhttp-sse to consume server side events in Java.</p>\n<pre><code>OkHttpClient httpClient = new OkHttpClient();\nString sseUrl = getSseUrl();\nRequest request = new Request.Builder()\n    .url(sseUrl)\n    .build();\nEventSource.Factory factory = EventSources.createFactory(httpClient);\nfactory.newEventSource(request, listener);\n</code></pre>\n<p>This works and I receive events, but it fails after 10 seconds due to a SocketTimeoutException. I discovered that okhttp has a default timeout of 10 seconds, so this makes sense.</p>\n<p>I increased the timeouts on my client to 1 minute, but now I get that SocketTimeoutException after 3 minutes. I don't understand what is going on. I would have expected the timeout after 1 minute.</p>\n<pre><code>OkHttpClient httpClient = new OkHttpClient.Builder()\n    .connectTimeout(1, TimeUnit.MINUTES)\n    .readTimeout(1, TimeUnit.MINUTES)\n    .writeTimeout(1, TimeUnit.MINUTES)\n    .build();\n</code></pre>\n<p>Can anyone shed some light on this?</p>\n"},{"tags":["java","arrays","sub-array"],"comments":[{"score":1,"post_type":"question","creation_date":1696866138,"post_id":77260137,"comment_id":136204620,"body_markdown":"Have you attempted to write code to achieve your objective, yourself? Or are you just expecting someone to post the code for you? Personally, I don&#39;t understand your question. What do you mean by: _distinct pairs of halves of the array_ Can you post a sample array and the distinct pairs of halves that you obtain from that array?","link":"https://stackoverflow.com/questions/77260137/what-are-some-efficient-ways-i-can-generate-distinct-halves-of-an-integer-array#comment136204620_77260137","body":"Have you attempted to write code to achieve your objective, yourself? Or are you just expecting someone to post the code for you? Personally, I don&#39;t understand your question. What do you mean by: <i>distinct pairs of halves of the array</i> Can you post a sample array and the distinct pairs of halves that you obtain from that array?"}],"answers":[{"comments":[{"score":1,"post_type":"answer","creation_date":1696879074,"post_id":77260347,"comment_id":136206911,"body_markdown":"It is never correct to use inheritance unless necessary. This can easily be done without extending ArrayList.","link":"https://stackoverflow.com/questions/77260137/what-are-some-efficient-ways-i-can-generate-distinct-halves-of-an-integer-array/77260347#comment136206911_77260347","body":"It is never correct to use inheritance unless necessary. This can easily be done without extending ArrayList."},{"score":0,"post_type":"answer","creation_date":1696880959,"post_id":77260347,"comment_id":136207205,"body_markdown":"@VGR, cool, you should write an answer!","link":"https://stackoverflow.com/questions/77260137/what-are-some-efficient-ways-i-can-generate-distinct-halves-of-an-integer-array/77260347#comment136207205_77260347","body":"@VGR, cool, you should write an answer!"}],"comment_count":2,"score":-1,"last_activity_date":1696876143,"last_edit_date":1696876143,"creation_date":1696868024,"answer_id":77260347,"question_id":77260137,"body_markdown":"&gt; _&quot;... I&#39;m sure there&#39;s a brute force way, but I want something more efficent and I can&#39;t really figure it out. ...&quot;_\r\n\r\nYou can _encapsulate_ the _[ArrayList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html)_ class, to provide a _contains_ method.\r\n\r\nHere is an example.\r\n\r\n```java\r\nclass IntArrayList extends ArrayList&lt;Integer[]&gt; {\r\n    boolean contains(int a, int b) {\r\n        for (Integer[] e : this)\r\n            if ((e[0] == a &amp;&amp; e[1] == b) || (e[0] == b &amp;&amp; e[1] == a))\r\n                return true;\r\n        return false;\r\n    }\r\n\r\n    boolean add(int a, int b) {\r\n        return super.add(new Integer[] { a, b });\r\n    }\r\n}\r\nIntArrayList list = new IntArrayList();\r\nInteger[] values = { 1, 2, 3 };\r\nfor (int a : values)\r\n    for (int b : values) {\r\n        if (a == b) continue;\r\n        if (!list.contains(a, b)) list.add(a, b);\r\n    }\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[1, 2]\r\n[1, 3]\r\n[2, 3]\r\n```","link":"https://stackoverflow.com/questions/77260137/what-are-some-efficient-ways-i-can-generate-distinct-halves-of-an-integer-array/77260347#77260347","title":"What are some efficient ways I can generate distinct halves of an integer array?","body":"<blockquote>\n<p><em>&quot;... I'm sure there's a brute force way, but I want something more efficent and I can't really figure it out. ...&quot;</em></p>\n</blockquote>\n<p>You can <em>encapsulate</em> the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a></em> class, to provide a <em>contains</em> method.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class IntArrayList extends ArrayList&lt;Integer[]&gt; {\n    boolean contains(int a, int b) {\n        for (Integer[] e : this)\n            if ((e[0] == a &amp;&amp; e[1] == b) || (e[0] == b &amp;&amp; e[1] == a))\n                return true;\n        return false;\n    }\n\n    boolean add(int a, int b) {\n        return super.add(new Integer[] { a, b });\n    }\n}\nIntArrayList list = new IntArrayList();\nInteger[] values = { 1, 2, 3 };\nfor (int a : values)\n    for (int b : values) {\n        if (a == b) continue;\n        if (!list.contains(a, b)) list.add(a, b);\n    }\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[1, 2]\n[1, 3]\n[2, 3]\n</code></pre>\n"}],"comment_count":1,"is_answered":false,"view_count":54,"answer_count":1,"score":-4,"last_activity_date":1701301963,"creation_date":1696865812,"last_edit_date":1701301963,"question_id":77260137,"body_markdown":"Given an integer array, I want to print out all the distinct pairs of halves of the array. [2,1] [3,2] and [3,2] [2,1] can be considered distinct.\r\n\r\nI&#39;m sure there&#39;s a brute force way, but I want something more efficient and I can&#39;t really figure it out.","link":"https://stackoverflow.com/questions/77260137/what-are-some-efficient-ways-i-can-generate-distinct-halves-of-an-integer-array","title":"What are some efficient ways I can generate distinct halves of an integer array?","body":"<p>Given an integer array, I want to print out all the distinct pairs of halves of the array. [2,1] [3,2] and [3,2] [2,1] can be considered distinct.</p>\n<p>I'm sure there's a brute force way, but I want something more efficient and I can't really figure it out.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comment_count":0,"is_answered":false,"view_count":13,"answer_count":0,"score":0,"last_activity_date":1701301829,"creation_date":1701301829,"question_id":77575116,"body_markdown":"I am trying to create a `search` API in Spring boot using rest. I am getting the hang of `ExampleMatchers` in JPA to filter &amp; search. There is a particular scenario where I need to filter through multiple values as in a list of values for a particular field\r\n\r\nBelow are the JPA entities:\r\n\r\n```\r\npublic class ETopic {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;id&quot;)\r\n  int id;\r\n\r\n  @Column(name = &quot;topic_name&quot;)\r\n  String topicName;\r\n\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;tenant_id&quot;, nullable = false)\r\n  @Fetch(value = FetchMode.SELECT)\r\n  @JsonBackReference\r\n  ETenant tenant;\r\n}\r\n\r\n\r\npublic class ETenant {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tint id;\r\n\r\n\t@Column(name = &quot;tenant_name&quot;)\r\n\tString tenantName;\r\n\r\n    @OneToMany(mappedBy = &quot;tenant&quot;)\r\n\t@JsonManagedReference\r\n\tList&lt;ERole&gt; roles;\r\n\r\n\t@OneToMany(mappedBy = &quot;tenant&quot;)\r\n\t@JsonManagedReference\r\n\tList&lt;ETopic&gt; topics;\r\n}\r\n```\r\n\r\nI need to fetch `ETopic` using multiple `ETenant` names\r\n\r\nI have not been able to find anything in example matchers to use IN clause\r\n\r\n```\r\nvar pageable = Pageable.ofSize(request.getPageSize()).withPage(request.getPageNo());\r\n\r\nExampleMatcher exampleMatcher =\r\n        ExampleMatcher.matchingAny()\r\n            .withMatcher(\r\n                &quot;topicName&quot;, ExampleMatcher.GenericPropertyMatchers.contains().ignoreCase())\r\n            .withMatcher(&quot;tenant&quot;, ExampleMatcher.GenericPropertyMatchers.contains());\r\n\r\nList&lt;ETenant&gt; tenants = List.of(ETenant.builder().id(3).build(), ETenant.builder().id(4).build());  // unable to use this\r\n\r\nETopic eTopicEg = ETopic.builder().topicName(request.getSearchTerm()).tenant(ETenant.builder().id(3).build()).build();\r\nExample&lt;ETopic&gt; example = Example.of(eTopicEg, exampleMatcher);\r\nPage&lt;ETopic&gt; eTopics = topicRepository.findAll(example, pageable);\r\n```","link":"https://stackoverflow.com/questions/77575116/how-do-i-use-in-clause-in-jpa-examplematcher","title":"How do i use IN clause in JPA ExampleMatcher?","body":"<p>I am trying to create a <code>search</code> API in Spring boot using rest. I am getting the hang of <code>ExampleMatchers</code> in JPA to filter &amp; search. There is a particular scenario where I need to filter through multiple values as in a list of values for a particular field</p>\n<p>Below are the JPA entities:</p>\n<pre><code>public class ETopic {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  int id;\n\n  @Column(name = &quot;topic_name&quot;)\n  String topicName;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;tenant_id&quot;, nullable = false)\n  @Fetch(value = FetchMode.SELECT)\n  @JsonBackReference\n  ETenant tenant;\n}\n\n\npublic class ETenant {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    int id;\n\n    @Column(name = &quot;tenant_name&quot;)\n    String tenantName;\n\n    @OneToMany(mappedBy = &quot;tenant&quot;)\n    @JsonManagedReference\n    List&lt;ERole&gt; roles;\n\n    @OneToMany(mappedBy = &quot;tenant&quot;)\n    @JsonManagedReference\n    List&lt;ETopic&gt; topics;\n}\n</code></pre>\n<p>I need to fetch <code>ETopic</code> using multiple <code>ETenant</code> names</p>\n<p>I have not been able to find anything in example matchers to use IN clause</p>\n<pre><code>var pageable = Pageable.ofSize(request.getPageSize()).withPage(request.getPageNo());\n\nExampleMatcher exampleMatcher =\n        ExampleMatcher.matchingAny()\n            .withMatcher(\n                &quot;topicName&quot;, ExampleMatcher.GenericPropertyMatchers.contains().ignoreCase())\n            .withMatcher(&quot;tenant&quot;, ExampleMatcher.GenericPropertyMatchers.contains());\n\nList&lt;ETenant&gt; tenants = List.of(ETenant.builder().id(3).build(), ETenant.builder().id(4).build());  // unable to use this\n\nETopic eTopicEg = ETopic.builder().topicName(request.getSearchTerm()).tenant(ETenant.builder().id(3).build()).build();\nExample&lt;ETopic&gt; example = Example.of(eTopicEg, exampleMatcher);\nPage&lt;ETopic&gt; eTopics = topicRepository.findAll(example, pageable);\n</code></pre>\n"},{"tags":["java","jakarta-ee","jboss","wildfly","elytron"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701301573,"creation_date":1701301573,"answer_id":77575102,"question_id":77545540,"body_markdown":"Answering my own question here, just in case anyone else runs into this issue:\r\n\r\nUse a \r\n\r\n    &lt;simple-digest-mapper algorithm=&quot;simple-digest-sha-256&quot; password-index=&quot;1&quot;/&gt;\r\n\r\nat the jdbc-realm and a &quot;PLAIN&quot; mechanism at the SASL auth factory:\r\n\r\n            &lt;sasl-authentication-factory name=&quot;jlawyer-sasl-authentication-factory&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;jlawyer-security-domain&quot;&gt;\r\n                &lt;mechanism-configuration&gt;\r\n                    &lt;mechanism mechanism-name=&quot;PLAIN&quot;&gt;\r\n                        &lt;mechanism-realm realm-name=&quot;jlawyer-jdbc-realm&quot;/&gt;\r\n                    &lt;/mechanism&gt;\r\n                &lt;/mechanism-configuration&gt;\r\n            &lt;/sasl-authentication-factory&gt;\r\n\r\nThis did the trick.","link":"https://stackoverflow.com/questions/77545540/wildfly-elytron-and-jdbc-realm-with-digest/77575102#77575102","title":"Wildfly / Elytron and jdbc-realm with digest","body":"<p>Answering my own question here, just in case anyone else runs into this issue:</p>\n<p>Use a</p>\n<pre><code>&lt;simple-digest-mapper algorithm=&quot;simple-digest-sha-256&quot; password-index=&quot;1&quot;/&gt;\n</code></pre>\n<p>at the jdbc-realm and a &quot;PLAIN&quot; mechanism at the SASL auth factory:</p>\n<pre><code>        &lt;sasl-authentication-factory name=&quot;jlawyer-sasl-authentication-factory&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;jlawyer-security-domain&quot;&gt;\n            &lt;mechanism-configuration&gt;\n                &lt;mechanism mechanism-name=&quot;PLAIN&quot;&gt;\n                    &lt;mechanism-realm realm-name=&quot;jlawyer-jdbc-realm&quot;/&gt;\n                &lt;/mechanism&gt;\n            &lt;/mechanism-configuration&gt;\n        &lt;/sasl-authentication-factory&gt;\n</code></pre>\n<p>This did the trick.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":56,"answer_count":1,"score":0,"last_activity_date":1701301573,"creation_date":1700857894,"question_id":77545540,"body_markdown":"I am migrating an application from Wildfly 16 to 30 and have a hard time finding the right security configuration.\r\n\r\nWhat I have in Wildfly 16:\r\n(1) a jdbc-based authentication with base64&#39;ed SHA-256 passwords / authorization like this:\r\n```\r\n                &lt;security-domain name=&quot;j-lawyer-security&quot; cache-type=&quot;default&quot;&gt;\r\n                    &lt;authentication&gt;\r\n                        &lt;login-module code=&quot;Database&quot; flag=&quot;required&quot;&gt;\r\n                            &lt;module-option name=&quot;dsJndiName&quot; value=&quot;java:/jlawyerdb&quot;/&gt;\r\n                            &lt;module-option name=&quot;principalsQuery&quot; value=&quot;select password from security_users where principalId=?&quot;/&gt;\r\n                            &lt;module-option name=&quot;rolesQuery&quot; value=&quot;select role, &#39;Roles&#39; from security_roles where principalId=?&quot;/&gt;\r\n                            &lt;module-option name=&quot;unauthenticatedIdentity&quot; value=&quot;anonymous&quot;/&gt;\r\n                            &lt;module-option name=&quot;hashAlgorithm&quot; value=&quot;SHA-256&quot;/&gt;\r\n                            &lt;module-option name=&quot;hashEncoding&quot; value=&quot;base64&quot;/&gt;\r\n                            &lt;module-option name=&quot;hashUserPassword&quot; value=&quot;true&quot;/&gt;\r\n                            &lt;module-option name=&quot;hashStorePassword&quot; value=&quot;false&quot;/&gt;\r\n                        &lt;/login-module&gt;\r\n                    &lt;/authentication&gt;\r\n                &lt;/security-domain&gt;\r\n            &lt;/security-domains&gt;\r\n```\r\n\r\nThe application code refers to this security domain. \r\n\r\n(2) a remote EJB client that looks like this:\r\n```\r\nProperties properties = new Properties();\r\n            properties.put(&quot;jboss.naming.client.ejb.context&quot;, true);\r\n\r\n            // begin: for JMS only\r\n            properties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\r\n            properties.put(Context.PROVIDER_URL, &quot;http-remoting://localhost:8080&quot;);\r\n            properties.put(Context.SECURITY_PRINCIPAL, &quot;admin&quot;);\r\n            properties.put(Context.SECURITY_CREDENTIALS, pwString);\r\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT&quot;, &quot;false&quot;);\r\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS&quot;, &quot;false&quot;);\r\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SSL_ENABLED&quot;, &quot;false&quot;);\r\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SSL_STARTTLS&quot;, &quot;false&quot;);\r\n\r\n            InitialContext ic = new InitialContext(properties);\r\n            SecurityServiceRemote remote = (SecurityServiceRemote) ic.lookup(&quot;ejb:j-lawyer-server/j-lawyer-server-ejb//SecurityService!com.jdimension.jlawyer.services.SecurityServiceRemote&quot;);\r\n            remote.dummy();\r\n```\r\n\r\n(3) an REST API that uses HTTP basis authentication\r\n\r\nBoth the EJB client and HTTP BASIC work well together. \r\n\r\n**Wildfly 30**\r\n\r\nNow, in Wildfly 30, I am struggling to set up Elytron to achieve the same thing. \r\n\r\nWhat I have in Wildfly standalone.xml:\r\n\r\n(1) I changed the security realms to support database-based auth:\r\n```\r\n            &lt;security-realms&gt;\r\n                &lt;identity-realm name=&quot;local&quot; identity=&quot;$local&quot;/&gt;\r\n                &lt;jdbc-realm name=&quot;ApplicationRealm&quot;&gt;\r\n                    &lt;principal-query sql=&quot;select password from security_users where principalId=?&quot; data-source=&quot;somedb&quot;&gt;\r\n                        &lt;clear-password-mapper password-index=&quot;1&quot;/&gt;\r\n                    &lt;/principal-query&gt;\r\n                    &lt;principal-query sql=&quot;select role, &#39;Roles&#39; from security_roles where principalId=?&quot; data-source=&quot;jlawyerdb&quot;&gt;\r\n                        &lt;attribute-mapping&gt;\r\n                            &lt;attribute to=&quot;Roles&quot; index=&quot;1&quot;/&gt;\r\n                        &lt;/attribute-mapping&gt;\r\n                    &lt;/principal-query&gt;\r\n                &lt;/jdbc-realm&gt;\r\n            &lt;/security-realms&gt;\r\n```\r\n\r\nWithin the Elytron module, I have\r\n```\r\n            &lt;http&gt;\r\n                &lt;http-authentication-factory name=&quot;application-http-authentication&quot; security-domain=&quot;ApplicationDomain&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\r\n                    &lt;mechanism-configuration&gt;\r\n                        &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\r\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\r\n                        &lt;/mechanism&gt;\r\n                    &lt;/mechanism-configuration&gt;\r\n                &lt;/http-authentication-factory&gt;\r\n                &lt;provider-http-server-mechanism-factory name=&quot;global&quot;/&gt;\r\n            &lt;/http&gt;\r\n            &lt;sasl&gt;\r\n                &lt;sasl-authentication-factory name=&quot;application-sasl-authentication&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;ApplicationDomain&quot;&gt;\r\n                    &lt;mechanism-configuration&gt;\r\n                        &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\r\n                        &lt;mechanism mechanism-name=&quot;DIGEST-SHA-256&quot;&gt;\r\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\r\n                        &lt;/mechanism&gt;\r\n                    &lt;/mechanism-configuration&gt;\r\n                &lt;/sasl-authentication-factory&gt;\r\n```\r\n\r\nIn the undertow module:\r\n```\r\n            &lt;application-security-domains&gt;\r\n                &lt;application-security-domain name=&quot;other&quot; security-domain=&quot;ApplicationDomain&quot;/&gt;\r\n            &lt;/application-security-domains&gt;\r\n```\r\n\r\nFor the remote EJB client, the lookup code successfully performs a lookup, but when calling some business logic it fails. Strangely, **when I create a SHA-256 and Base64 it and pass that value as a password in the lookup properties, it is authenticating successfully**! \r\n\r\nThat does not make sense to me, because it is essentially the same as storing clear text passwords on the server side, and in Wildfly 16 no such thing was needed.\r\n\r\nThe HTTP client (I try to open the web app that also hosts the REST backend) asks for credentials (browser popup) but then nothing works, not plain text password, not the hashed value. \r\n\r\nI set security to TRACE level logging and this is what I get when authenticating from within the browser:\r\n```\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) Created ServletSecurityContextImpl enableJapi=true, integratedJaspi=true, applicationContext=default-host /j-lawyer-io\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) No AuthConfigProvider for layer=HttpServlet, appContext=default-host /j-lawyer-io\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) JASPIC Unavailable, using HTTP authentication.\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) No CachedIdentity to restore.\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Created HttpServerAuthenticationMechanism [org.wildfly.security.auth.server.SecurityIdentityServerMechanismFactory$1@6c3c7599] for mechanism [BASIC]\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling AvailableRealmsCallback: realms = [j-lawyer-security-application]\r\n2023-11-24 21:26:31,706 DEBUG [org.wildfly.security.http.password] (default task-1) Username authentication. Realm: [j-lawyer-security-application], Username: [admin].\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling RealmCallback: selected = [j-lawyer-security-application]\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling NameCallback: authenticationName = admin\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Principal assigning: [admin], pre-realm rewritten: [admin], realm name: [ApplicationRealm], post-realm rewritten: [admin], realm rewritten: [admin]\r\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Executing principalQuery select password from security_users where principalId=? with value admin\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Key Mapper: Password credential created using algorithm column value [clear]\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Executing principalQuery select role, &#39;Roles&#39; from security_roles where principalId=? with value admin\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security.http.basic] (default task-1) User admin authenticated successfully!\r\n2023-11-24 21:26:31,707 DEBUG [org.wildfly.security.http.password] (default task-1) Username authorization. Username: [admin].\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing principal admin.\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing against the following attributes: [Roles] =&gt; [loginRole, writeAddressRole, createAddressRole, readArchiveFileRole, createOptionGroupRole, commonReportRole, createArchiveFileRole, writeOptionGroupRole, removeAddressRole, confidentialReportRole, readAddressRole, adminRole, writeArchiveFileRole, removeArchiveFileRole, deleteOptionGroupRole, importRole]\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing against the following runtime attributes: [] =&gt; []\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Permission mapping: identity [admin] with roles [] implies (&quot;org.wildfly.security.auth.permission.LoginPermission&quot; &quot;&quot;) = true\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorization succeed\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) RunAs authorization succeed - the same identity\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Handling AuthorizeCallback: authenticationID = admin  authorizationID = admin  authorized = true\r\n2023-11-24 21:26:31,707 DEBUG [org.wildfly.security.http.basic] (default task-1) User admin authorization succeeded!\r\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Handling AuthenticationCompleteCallback: succeed\r\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Handling SecurityIdentityCallback: identity = SecurityIdentity{principal=admin, securityDomain=org.wildfly.security.auth.server.SecurityDomain@3ea8f016, authorizationIdentity=EMPTY, realmInfo=RealmInfo{name=&#39;ApplicationRealm&#39;, securityRealm=org.wildfly.security.auth.realm.jdbc.JdbcSecurityRealm@51bd3c04}, creationTime=2023-11-24T20:26:31.707702901Z}\r\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\r\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\r\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Permission mapping: identity [admin] with roles [] implies (&quot;jakarta.security.jacc.WebResourcePermission&quot; &quot;/swagger-ui/&quot; &quot;GET&quot;) = false\r\n```\r\n\r\nQuestions:\r\n\r\n- At a conceptual level, am I doing something wrong?\r\n- is HTTP basic for a web app and hashed passwords working in combination with remote EJB clients?\r\n- When using hashing, is the remote client now supposed to provide the hashed value to the server in the lookup properties? If yes, what would the browser do? It cannot create such values.\r\n- As the Elytron doc seem either outdated or incomplete: anyone aware of a comparable example?\r\n\r\nThanks!","link":"https://stackoverflow.com/questions/77545540/wildfly-elytron-and-jdbc-realm-with-digest","title":"Wildfly / Elytron and jdbc-realm with digest","body":"<p>I am migrating an application from Wildfly 16 to 30 and have a hard time finding the right security configuration.</p>\n<p>What I have in Wildfly 16:\n(1) a jdbc-based authentication with base64'ed SHA-256 passwords / authorization like this:</p>\n<pre><code>                &lt;security-domain name=&quot;j-lawyer-security&quot; cache-type=&quot;default&quot;&gt;\n                    &lt;authentication&gt;\n                        &lt;login-module code=&quot;Database&quot; flag=&quot;required&quot;&gt;\n                            &lt;module-option name=&quot;dsJndiName&quot; value=&quot;java:/jlawyerdb&quot;/&gt;\n                            &lt;module-option name=&quot;principalsQuery&quot; value=&quot;select password from security_users where principalId=?&quot;/&gt;\n                            &lt;module-option name=&quot;rolesQuery&quot; value=&quot;select role, 'Roles' from security_roles where principalId=?&quot;/&gt;\n                            &lt;module-option name=&quot;unauthenticatedIdentity&quot; value=&quot;anonymous&quot;/&gt;\n                            &lt;module-option name=&quot;hashAlgorithm&quot; value=&quot;SHA-256&quot;/&gt;\n                            &lt;module-option name=&quot;hashEncoding&quot; value=&quot;base64&quot;/&gt;\n                            &lt;module-option name=&quot;hashUserPassword&quot; value=&quot;true&quot;/&gt;\n                            &lt;module-option name=&quot;hashStorePassword&quot; value=&quot;false&quot;/&gt;\n                        &lt;/login-module&gt;\n                    &lt;/authentication&gt;\n                &lt;/security-domain&gt;\n            &lt;/security-domains&gt;\n</code></pre>\n<p>The application code refers to this security domain.</p>\n<p>(2) a remote EJB client that looks like this:</p>\n<pre><code>Properties properties = new Properties();\n            properties.put(&quot;jboss.naming.client.ejb.context&quot;, true);\n\n            // begin: for JMS only\n            properties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\n            properties.put(Context.PROVIDER_URL, &quot;http-remoting://localhost:8080&quot;);\n            properties.put(Context.SECURITY_PRINCIPAL, &quot;admin&quot;);\n            properties.put(Context.SECURITY_CREDENTIALS, pwString);\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT&quot;, &quot;false&quot;);\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS&quot;, &quot;false&quot;);\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SSL_ENABLED&quot;, &quot;false&quot;);\n            properties.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SSL_STARTTLS&quot;, &quot;false&quot;);\n\n            InitialContext ic = new InitialContext(properties);\n            SecurityServiceRemote remote = (SecurityServiceRemote) ic.lookup(&quot;ejb:j-lawyer-server/j-lawyer-server-ejb//SecurityService!com.jdimension.jlawyer.services.SecurityServiceRemote&quot;);\n            remote.dummy();\n</code></pre>\n<p>(3) an REST API that uses HTTP basis authentication</p>\n<p>Both the EJB client and HTTP BASIC work well together.</p>\n<p><strong>Wildfly 30</strong></p>\n<p>Now, in Wildfly 30, I am struggling to set up Elytron to achieve the same thing.</p>\n<p>What I have in Wildfly standalone.xml:</p>\n<p>(1) I changed the security realms to support database-based auth:</p>\n<pre><code>            &lt;security-realms&gt;\n                &lt;identity-realm name=&quot;local&quot; identity=&quot;$local&quot;/&gt;\n                &lt;jdbc-realm name=&quot;ApplicationRealm&quot;&gt;\n                    &lt;principal-query sql=&quot;select password from security_users where principalId=?&quot; data-source=&quot;somedb&quot;&gt;\n                        &lt;clear-password-mapper password-index=&quot;1&quot;/&gt;\n                    &lt;/principal-query&gt;\n                    &lt;principal-query sql=&quot;select role, 'Roles' from security_roles where principalId=?&quot; data-source=&quot;jlawyerdb&quot;&gt;\n                        &lt;attribute-mapping&gt;\n                            &lt;attribute to=&quot;Roles&quot; index=&quot;1&quot;/&gt;\n                        &lt;/attribute-mapping&gt;\n                    &lt;/principal-query&gt;\n                &lt;/jdbc-realm&gt;\n            &lt;/security-realms&gt;\n</code></pre>\n<p>Within the Elytron module, I have</p>\n<pre><code>            &lt;http&gt;\n                &lt;http-authentication-factory name=&quot;application-http-authentication&quot; security-domain=&quot;ApplicationDomain&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/http-authentication-factory&gt;\n                &lt;provider-http-server-mechanism-factory name=&quot;global&quot;/&gt;\n            &lt;/http&gt;\n            &lt;sasl&gt;\n                &lt;sasl-authentication-factory name=&quot;application-sasl-authentication&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;ApplicationDomain&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\n                        &lt;mechanism mechanism-name=&quot;DIGEST-SHA-256&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;ApplicationRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/sasl-authentication-factory&gt;\n</code></pre>\n<p>In the undertow module:</p>\n<pre><code>            &lt;application-security-domains&gt;\n                &lt;application-security-domain name=&quot;other&quot; security-domain=&quot;ApplicationDomain&quot;/&gt;\n            &lt;/application-security-domains&gt;\n</code></pre>\n<p>For the remote EJB client, the lookup code successfully performs a lookup, but when calling some business logic it fails. Strangely, <strong>when I create a SHA-256 and Base64 it and pass that value as a password in the lookup properties, it is authenticating successfully</strong>!</p>\n<p>That does not make sense to me, because it is essentially the same as storing clear text passwords on the server side, and in Wildfly 16 no such thing was needed.</p>\n<p>The HTTP client (I try to open the web app that also hosts the REST backend) asks for credentials (browser popup) but then nothing works, not plain text password, not the hashed value.</p>\n<p>I set security to TRACE level logging and this is what I get when authenticating from within the browser:</p>\n<pre><code>2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) Created ServletSecurityContextImpl enableJapi=true, integratedJaspi=true, applicationContext=default-host /j-lawyer-io\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) No AuthConfigProvider for layer=HttpServlet, appContext=default-host /j-lawyer-io\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security.http.servlet] (default task-1) JASPIC Unavailable, using HTTP authentication.\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) No CachedIdentity to restore.\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Created HttpServerAuthenticationMechanism [org.wildfly.security.auth.server.SecurityIdentityServerMechanismFactory$1@6c3c7599] for mechanism [BASIC]\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling AvailableRealmsCallback: realms = [j-lawyer-security-application]\n2023-11-24 21:26:31,706 DEBUG [org.wildfly.security.http.password] (default task-1) Username authentication. Realm: [j-lawyer-security-application], Username: [admin].\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling RealmCallback: selected = [j-lawyer-security-application]\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Handling NameCallback: authenticationName = admin\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Principal assigning: [admin], pre-realm rewritten: [admin], realm name: [ApplicationRealm], post-realm rewritten: [admin], realm rewritten: [admin]\n2023-11-24 21:26:31,706 TRACE [org.wildfly.security] (default task-1) Executing principalQuery select password from security_users where principalId=? with value admin\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Key Mapper: Password credential created using algorithm column value [clear]\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Executing principalQuery select role, 'Roles' from security_roles where principalId=? with value admin\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security.http.basic] (default task-1) User admin authenticated successfully!\n2023-11-24 21:26:31,707 DEBUG [org.wildfly.security.http.password] (default task-1) Username authorization. Username: [admin].\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing principal admin.\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing against the following attributes: [Roles] =&gt; [loginRole, writeAddressRole, createAddressRole, readArchiveFileRole, createOptionGroupRole, commonReportRole, createArchiveFileRole, writeOptionGroupRole, removeAddressRole, confidentialReportRole, readAddressRole, adminRole, writeArchiveFileRole, removeArchiveFileRole, deleteOptionGroupRole, importRole]\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorizing against the following runtime attributes: [] =&gt; []\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Permission mapping: identity [admin] with roles [] implies (&quot;org.wildfly.security.auth.permission.LoginPermission&quot; &quot;&quot;) = true\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Authorization succeed\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) RunAs authorization succeed - the same identity\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Handling AuthorizeCallback: authenticationID = admin  authorizationID = admin  authorized = true\n2023-11-24 21:26:31,707 DEBUG [org.wildfly.security.http.basic] (default task-1) User admin authorization succeeded!\n2023-11-24 21:26:31,707 TRACE [org.wildfly.security] (default task-1) Handling AuthenticationCompleteCallback: succeed\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Handling SecurityIdentityCallback: identity = SecurityIdentity{principal=admin, securityDomain=org.wildfly.security.auth.server.SecurityDomain@3ea8f016, authorizationIdentity=EMPTY, realmInfo=RealmInfo{name='ApplicationRealm', securityRealm=org.wildfly.security.auth.realm.jdbc.JdbcSecurityRealm@51bd3c04}, creationTime=2023-11-24T20:26:31.707702901Z}\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Role mapping: principal [admin] -&gt; decoded roles [] -&gt; domain decoded roles [] -&gt; realm mapped roles [] -&gt; domain mapped roles []\n2023-11-24 21:26:31,708 TRACE [org.wildfly.security] (default task-1) Permission mapping: identity [admin] with roles [] implies (&quot;jakarta.security.jacc.WebResourcePermission&quot; &quot;/swagger-ui/&quot; &quot;GET&quot;) = false\n</code></pre>\n<p>Questions:</p>\n<ul>\n<li>At a conceptual level, am I doing something wrong?</li>\n<li>is HTTP basic for a web app and hashed passwords working in combination with remote EJB clients?</li>\n<li>When using hashing, is the remote client now supposed to provide the hashed value to the server in the lookup properties? If yes, what would the browser do? It cannot create such values.</li>\n<li>As the Elytron doc seem either outdated or incomplete: anyone aware of a comparable example?</li>\n</ul>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","groovy"],"comments":[{"score":0,"post_type":"question","creation_date":1698596900,"post_id":77384177,"comment_id":136422843,"body_markdown":"Does this answer to your question https://www.baeldung.com/groovy-java-applications","link":"https://stackoverflow.com/questions/77384177/how-to-chose-both-java-and-groovy#comment136422843_77384177","body":"Does this answer to your question <a href=\"https://www.baeldung.com/groovy-java-applications\" rel=\"nofollow noreferrer\">baeldung.com/groovy-java-applications</a>"},{"score":2,"post_type":"question","creation_date":1698597141,"post_id":77384177,"comment_id":136422867,"body_markdown":"Statememts that groovy is a superset of java are inaccurate https://stackoverflow.com/q/4272068/217324","link":"https://stackoverflow.com/questions/77384177/how-to-chose-both-java-and-groovy#comment136422867_77384177","body":"Statememts that groovy is a superset of java are inaccurate <a href=\"https://stackoverflow.com/q/4272068/217324\">stackoverflow.com/q/4272068/217324</a>"},{"score":2,"post_type":"question","creation_date":1698598829,"post_id":77384177,"comment_id":136423074,"body_markdown":"if you pick groovy, java is available out of the box","link":"https://stackoverflow.com/questions/77384177/how-to-chose-both-java-and-groovy#comment136423074_77384177","body":"if you pick groovy, java is available out of the box"}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1698612742,"post_id":77384605,"comment_id":136424590,"body_markdown":"I tried selecting groovy, but unfortunately, VSCode cant run it with F5 (says &quot;Cannot find a class with the main method&quot; or from boot dashboard, says: No main class is found.","link":"https://stackoverflow.com/questions/77384177/how-to-chose-both-java-and-groovy/77384605#comment136424590_77384605","body":"I tried selecting groovy, but unfortunately, VSCode cant run it with F5 (says &quot;Cannot find a class with the main method&quot; or from boot dashboard, says: No main class is found."}],"comment_count":1,"score":1,"last_activity_date":1698603243,"creation_date":1698603243,"answer_id":77384605,"question_id":77384177,"body_markdown":"Pick Groovy and then put your `.java` files inside the Groovy source root; the\r\nGroovy compiler falls back to the Java compiler for those files. Doing\r\nit this way, you make sure, that dependencies are handled correctly (if\r\nyou put them inside the Java source root, one of the source roots will\r\nbe compiled first and you will have a hard time handling dependencies\r\nproperly).\r\n","link":"https://stackoverflow.com/questions/77384177/how-to-chose-both-java-and-groovy/77384605#77384605","title":"How to chose both Java and Groovy?","body":"<p>Pick Groovy and then put your <code>.java</code> files inside the Groovy source root; the\nGroovy compiler falls back to the Java compiler for those files. Doing\nit this way, you make sure, that dependencies are handled correctly (if\nyou put them inside the Java source root, one of the source roots will\nbe compiled first and you will have a hard time handling dependencies\nproperly).</p>\n"}],"comment_count":3,"is_answered":true,"view_count":75,"answer_count":1,"score":-2,"last_activity_date":1701301393,"creation_date":1698596532,"last_edit_date":1698598699,"question_id":77384177,"body_markdown":"When you create a Spring Boot app via the Spring Initializr (which is the only way I know), you have to chose either Java or Groovy. This seems odd, as Groovy is just a superset of Java.\r\n\r\nAnyway, I want to use both!  \r\n\r\nHow does one have both Java and Groovy, like you can do seamlessly with Grails?","link":"https://stackoverflow.com/questions/77384177/how-to-chose-both-java-and-groovy","title":"How to chose both Java and Groovy?","body":"<p>When you create a Spring Boot app via the Spring Initializr (which is the only way I know), you have to chose either Java or Groovy. This seems odd, as Groovy is just a superset of Java.</p>\n<p>Anyway, I want to use both!</p>\n<p>How does one have both Java and Groovy, like you can do seamlessly with Grails?</p>\n"},{"tags":["java","intellij-idea","java-9","java-module"],"comments":[{"score":0,"post_type":"question","creation_date":1701264712,"post_id":77571532,"comment_id":136753927,"body_markdown":"Go to File-&gt;Project Structure-&gt;Modules. That&#39;s where you configure modules for IntelliJ. Do you see anything wrong there?","link":"https://stackoverflow.com/questions/77571532/java-9-modules-intellij-how-to-configure-multiple-modules#comment136753927_77571532","body":"Go to File-&gt;Project Structure-&gt;Modules. That&#39;s where you configure modules for IntelliJ. Do you see anything wrong there?"},{"score":0,"post_type":"question","creation_date":1701265140,"post_id":77571532,"comment_id":136754009,"body_markdown":"there i added each module to the source code: easytext.analysis and easytext.cli. You can see it marked as blue in the project explorer. I believe that there is a difference between IntelliJ Modules, maven Modules and Java 9 Modules.\n\nIf i use Intellij to create the &quot;module-info.java&quot; (instead of mannually) it only let me create the firt file, the 2nd it grey out showing that is not possible to create a 2nd one","link":"https://stackoverflow.com/questions/77571532/java-9-modules-intellij-how-to-configure-multiple-modules#comment136754009_77571532","body":"there i added each module to the source code: easytext.analysis and easytext.cli. You can see it marked as blue in the project explorer. I believe that there is a difference between IntelliJ Modules, maven Modules and Java 9 Modules.  If i use Intellij to create the &quot;module-info.java&quot; (instead of mannually) it only let me create the firt file, the 2nd it grey out showing that is not possible to create a 2nd one"},{"score":0,"post_type":"question","creation_date":1701265518,"post_id":77571532,"comment_id":136754110,"body_markdown":"No, blue folders are just source directories. Modules are the folders with a blue rectangle on them. i.e. easytext-twomodules. Can you show a screenshot of the File-&gt;Project Structure-&gt;Modules dialog? I don&#39;t believe that you added two modules.","link":"https://stackoverflow.com/questions/77571532/java-9-modules-intellij-how-to-configure-multiple-modules#comment136754110_77571532","body":"No, blue folders are just source directories. Modules are the folders with a blue rectangle on them. i.e. easytext-twomodules. Can you show a screenshot of the File-&gt;Project Structure-&gt;Modules dialog? I don&#39;t believe that you added two modules."},{"score":0,"post_type":"question","creation_date":1701268767,"post_id":77571532,"comment_id":136754828,"body_markdown":"just added the Project Settings. But if i create module there, a directory in the project root will be created. Is that what we want?","link":"https://stackoverflow.com/questions/77571532/java-9-modules-intellij-how-to-configure-multiple-modules#comment136754828_77571532","body":"just added the Project Settings. But if i create module there, a directory in the project root will be created. Is that what we want?"},{"score":1,"post_type":"question","creation_date":1701269065,"post_id":77571532,"comment_id":136754898,"body_markdown":"As I thought, you only have one module in there. Delete the existing module,  and add two modules you want by using the&quot;+&quot; button and then &quot;Import Module&quot;. Unlike the &quot;New Module&quot; option, &quot;Import Module&quot; does not create new folders. After that, the Content Roots of the two new modules, as well as their source directories, should be set to the two folders in src.","link":"https://stackoverflow.com/questions/77571532/java-9-modules-intellij-how-to-configure-multiple-modules#comment136754898_77571532","body":"As I thought, you only have one module in there. Delete the existing module,  and add two modules you want by using the&quot;+&quot; button and then &quot;Import Module&quot;. Unlike the &quot;New Module&quot; option, &quot;Import Module&quot; does not create new folders. After that, the Content Roots of the two new modules, as well as their source directories, should be set to the two folders in src."},{"score":0,"post_type":"question","creation_date":1701299245,"post_id":77571532,"comment_id":136760059,"body_markdown":"Thank you very much. That way i was able to configure the modules. The strange thing is that it looks we get an *.iml file per module, which means that now that files are part of the source code. Being a java project i was expecting that IDE could auto configure the project. too bad is not that way","link":"https://stackoverflow.com/questions/77571532/java-9-modules-intellij-how-to-configure-multiple-modules#comment136760059_77571532","body":"Thank you very much. That way i was able to configure the modules. The strange thing is that it looks we get an *.iml file per module, which means that now that files are part of the source code. Being a java project i was expecting that IDE could auto configure the project. too bad is not that way"},{"score":0,"post_type":"question","creation_date":1701301361,"post_id":77571532,"comment_id":136760293,"body_markdown":"Yet as we can see from the picture, after defining a java module dependency, there is no access to the package. Why is that?","link":"https://stackoverflow.com/questions/77571532/java-9-modules-intellij-how-to-configure-multiple-modules#comment136760293_77571532","body":"Yet as we can see from the picture, after defining a java module dependency, there is no access to the package. Why is that?"},{"score":0,"post_type":"question","creation_date":1701343768,"post_id":77571532,"comment_id":136765102,"body_markdown":"It seems you are facing https://youtrack.jetbrains.com/issue/IDEA-253066/src-test-allowed-to-declare-module-info.java-even-if-src-main-already-has-one, however, it&#39;s fixed. It seems you tried to create a JDK multi-module but not IDEA one. Can you share the full code in Google Drive or GitHub for us to take a look at?","link":"https://stackoverflow.com/questions/77571532/java-9-modules-intellij-how-to-configure-multiple-modules#comment136765102_77571532","body":"It seems you are facing <a href=\"https://youtrack.jetbrains.com/issue/IDEA-253066/src-test-allowed-to-declare-module-info.java-even-if-src-main-already-has-one\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-253066/&hellip;</a>, however, it&#39;s fixed. It seems you tried to create a JDK multi-module but not IDEA one. Can you share the full code in Google Drive or GitHub for us to take a look at?"}],"comment_count":8,"is_answered":false,"view_count":46,"answer_count":0,"score":0,"last_activity_date":1701301300,"creation_date":1701264277,"last_edit_date":1701301300,"question_id":77571532,"body_markdown":"I am trying to create a very simple java modules project in IntelliJ with multiple modules.\r\n\r\nAccordingly documentation in https://openjdk.org/projects/jigsaw/quick-start#multimodulecompile inside *src* directory, each module should have its own directory.\r\n\r\nso i organized my project like this:\r\n\r\n    src/easytext.analysis/module-info.java\r\n    src/easytext.analysis/com/msantos/pluralsight/java9modules/easytext/analysis/World.java\r\n    \r\n    src/easytext.cli/module-info.java\r\n    src/easytext.cli/com/msantos/pluralsight/java9modules/easytext/cli/Main.java\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, IntelliJ gives an error: ***&#39;module-info.java&#39; already exists in the module***\r\n\r\nYet if i compile from the command line i have no issues:\r\n\r\n    javac --module-source-path src/main/java/ -d out $(find . -name &#39;*.java&#39;)\r\n\r\nCould someone explain to me why IntelliJ gives that error (taking in consideration that is a valid structure from java point of view) and how to fix it?\r\n\r\nThank you so much in advance\r\n\r\n**Project Settings**\r\n[![enter image description here][2]][2]\r\n\r\n**IntelliJ with modules**\r\n\r\nAfter defining the modules, the compilation works, but now adding dependencies to the modules, it reveals that modules have no access to each other. The compilation from the command-line again is working.\r\n\r\n***Modules***\r\n\r\neasytext.analysis module\r\n\r\n    module easytext.analysis {\r\n        exports com.msantos.pluralsight.java9modules.easytext.analysis;\r\n    }\r\n\r\nit exposes the package to the world\r\n\r\n*easytext.cli module*\r\n\r\n    module easytext.cli {\r\n        requires easytext.analysis;\r\n    }\r\n\r\nIt defines a dependency on easytext.analysis module\r\n\r\n[![enter image description here][3]][3]\r\n\r\nYet as we can see from the picture, no access to the package. Why is that?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2A1xK.png\r\n  [2]: https://i.stack.imgur.com/CVIiI.png\r\n  [3]: https://i.stack.imgur.com/b0vU4.png","link":"https://stackoverflow.com/questions/77571532/java-9-modules-intellij-how-to-configure-multiple-modules","title":"Java 9 Modules &amp; IntelliJ: how to configure multiple modules","body":"<p>I am trying to create a very simple java modules project in IntelliJ with multiple modules.</p>\n<p>Accordingly documentation in <a href=\"https://openjdk.org/projects/jigsaw/quick-start#multimodulecompile\" rel=\"nofollow noreferrer\">https://openjdk.org/projects/jigsaw/quick-start#multimodulecompile</a> inside <em>src</em> directory, each module should have its own directory.</p>\n<p>so i organized my project like this:</p>\n<pre><code>src/easytext.analysis/module-info.java\nsrc/easytext.analysis/com/msantos/pluralsight/java9modules/easytext/analysis/World.java\n\nsrc/easytext.cli/module-info.java\nsrc/easytext.cli/com/msantos/pluralsight/java9modules/easytext/cli/Main.java\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2A1xK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2A1xK.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, IntelliJ gives an error: <em><strong>'module-info.java' already exists in the module</strong></em></p>\n<p>Yet if i compile from the command line i have no issues:</p>\n<pre><code>javac --module-source-path src/main/java/ -d out $(find . -name '*.java')\n</code></pre>\n<p>Could someone explain to me why IntelliJ gives that error (taking in consideration that is a valid structure from java point of view) and how to fix it?</p>\n<p>Thank you so much in advance</p>\n<p><strong>Project Settings</strong>\n<a href=\"https://i.stack.imgur.com/CVIiI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CVIiI.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>IntelliJ with modules</strong></p>\n<p>After defining the modules, the compilation works, but now adding dependencies to the modules, it reveals that modules have no access to each other. The compilation from the command-line again is working.</p>\n<p><em><strong>Modules</strong></em></p>\n<p>easytext.analysis module</p>\n<pre><code>module easytext.analysis {\n    exports com.msantos.pluralsight.java9modules.easytext.analysis;\n}\n</code></pre>\n<p>it exposes the package to the world</p>\n<p><em>easytext.cli module</em></p>\n<pre><code>module easytext.cli {\n    requires easytext.analysis;\n}\n</code></pre>\n<p>It defines a dependency on easytext.analysis module</p>\n<p><a href=\"https://i.stack.imgur.com/b0vU4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b0vU4.png\" alt=\"enter image description here\" /></a></p>\n<p>Yet as we can see from the picture, no access to the package. Why is that?</p>\n"},{"tags":["java","jdbc","mariadb"],"comments":[{"score":1,"post_type":"question","creation_date":1701300917,"post_id":77575008,"comment_id":136760244,"body_markdown":"you can not have spaces in column names without any character to escape it","link":"https://stackoverflow.com/questions/77575008/getting-this-error-for-my-java-jdbc-connected-to-xampp-mariadb-when-im-trying-to#comment136760244_77575008","body":"you can not have spaces in column names without any character to escape it"}],"comment_count":1,"is_answered":false,"view_count":11,"answer_count":0,"score":-1,"last_activity_date":1701300795,"creation_date":1701299916,"last_edit_date":1701300795,"question_id":77575008,"body_markdown":"I am trying to insert username and password values into my db table through typing them into textfields and pressing a button.\r\n\r\ncode:\r\n\r\n    logbut2.addActionListener(new ActionListener()\r\n         {\r\n             public void actionPerformed(ActionEvent e)\r\n             {\r\n                 String user2 = username2.getText();\r\n                 String pass2 = password2.getText();\r\n                 String name2 = name.getText();\r\n                 String genre = &quot;a&quot;;\r\n                 String mood = &quot;b&quot;;\r\n                 try{\r\n                     Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/stataccounts&quot;, &quot;x&quot;, &quot;y&quot;);\r\n                     PreparedStatement st = conn.prepareStatement(&quot;INSERT INTO users(username,password,name,favourite mood, favourite genre) VALUES (?,?,?,?,?)&quot;);\r\n                     st.setString(1,user2);\r\n                     st.setString(2,pass2);\r\n                     st.setString(3,name2);\r\n                     st.setString(4,mood);\r\n                     st.setString(5,genre);\r\n                     \r\n                     st.executeUpdate();\r\n                     \r\n                     System.out.println(user2);\r\n                     System.out.println(pass2);\r\n                     System.out.println(name);\r\n                     System.out.println(mood);\r\n                     System.out.println(genre);\r\n                 } catch(SQLException sqlException2)\r\n                 {\r\n                     sqlException2.printStackTrace();\r\n                 }\r\n                 JOptionPane.showMessageDialog(logbut2, &quot;user successfully added&quot;);\r\n             }\r\n         });\r\n\r\nerror:\r\n&gt;java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;mood, favourite genre) VALUES (&#39;thse&#39;,&#39;rhawerhaw&#39;,&#39;aethjjaste&#39;,&#39;b&#39;,&#39;a&#39;)&#39; at line 1.\r\n\r\nerror 2:\r\n&gt;at login$3.actionPerformed(login.java:172)\r\nthat once pressed sends me to the line st.executeUpdates();\r\n\r\n\r\n\r\ni tried not including the favourite mood and genre columns but that gave me a different error so i added them back in.\r\ntried checking connection to database and it works in a different part of my code.\r\ntried changing variable names.\r\nplease help.","link":"https://stackoverflow.com/questions/77575008/getting-this-error-for-my-java-jdbc-connected-to-xampp-mariadb-when-im-trying-to","title":"getting this error for my java jdbc connected to xampp mariadb when im trying to use INSERT","body":"<p>I am trying to insert username and password values into my db table through typing them into textfields and pressing a button.</p>\n<p>code:</p>\n<pre><code>logbut2.addActionListener(new ActionListener()\n     {\n         public void actionPerformed(ActionEvent e)\n         {\n             String user2 = username2.getText();\n             String pass2 = password2.getText();\n             String name2 = name.getText();\n             String genre = &quot;a&quot;;\n             String mood = &quot;b&quot;;\n             try{\n                 Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/stataccounts&quot;, &quot;x&quot;, &quot;y&quot;);\n                 PreparedStatement st = conn.prepareStatement(&quot;INSERT INTO users(username,password,name,favourite mood, favourite genre) VALUES (?,?,?,?,?)&quot;);\n                 st.setString(1,user2);\n                 st.setString(2,pass2);\n                 st.setString(3,name2);\n                 st.setString(4,mood);\n                 st.setString(5,genre);\n                 \n                 st.executeUpdate();\n                 \n                 System.out.println(user2);\n                 System.out.println(pass2);\n                 System.out.println(name);\n                 System.out.println(mood);\n                 System.out.println(genre);\n             } catch(SQLException sqlException2)\n             {\n                 sqlException2.printStackTrace();\n             }\n             JOptionPane.showMessageDialog(logbut2, &quot;user successfully added&quot;);\n         }\n     });\n</code></pre>\n<p>error:</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'mood, favourite genre) VALUES ('thse','rhawerhaw','aethjjaste','b','a')' at line 1.</p>\n</blockquote>\n<p>error 2:</p>\n<blockquote>\n<p>at login$3.actionPerformed(login.java:172)\nthat once pressed sends me to the line st.executeUpdates();</p>\n</blockquote>\n<p>i tried not including the favourite mood and genre columns but that gave me a different error so i added them back in.\ntried checking connection to database and it works in a different part of my code.\ntried changing variable names.\nplease help.</p>\n"},{"tags":["java","tomcat","intellij-idea","intellij-plugin"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1694131507,"last_edit_date":1694131507,"creation_date":1692729518,"answer_id":76956063,"question_id":76956062,"body_markdown":"I restarted a different project as I was assigned a new project. I went through and set up everything the exact same way and it worked. I don&#39;t know what the error was.","link":"https://stackoverflow.com/questions/76956062/smart-tomcat-not-interacting-with-local-services/76956063#76956063","title":"Smart Tomcat not interacting with local services","body":"<p>I restarted a different project as I was assigned a new project. I went through and set up everything the exact same way and it worked. I don't know what the error was.</p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1692828652,"post_id":76958758,"comment_id":135678913,"body_markdown":"what do you mean by target?","link":"https://stackoverflow.com/questions/76956062/smart-tomcat-not-interacting-with-local-services/76958758#comment135678913_76958758","body":"what do you mean by target?"},{"score":0,"post_type":"answer","creation_date":1692829075,"post_id":76958758,"comment_id":135678967,"body_markdown":"Also polaris costs money and requires me to go on a 30 day trial","link":"https://stackoverflow.com/questions/76956062/smart-tomcat-not-interacting-with-local-services/76958758#comment135678967_76958758","body":"Also polaris costs money and requires me to go on a 30 day trial"},{"score":0,"post_type":"answer","creation_date":1692832400,"post_id":76958758,"comment_id":135679283,"body_markdown":"can you provide a full path so it&#39;s clear what you are talking about? whether it&#39;s an example in your directory or a path you see in my post.","link":"https://stackoverflow.com/questions/76956062/smart-tomcat-not-interacting-with-local-services/76958758#comment135679283_76958758","body":"can you provide a full path so it&#39;s clear what you are talking about? whether it&#39;s an example in your directory or a path you see in my post."},{"score":0,"post_type":"answer","creation_date":1692833001,"post_id":76958758,"comment_id":135679350,"body_markdown":"Are you talking about the deployment descriptor? if so, Tomcat is pointed to D:\\projects-standalone\\tomcats\\java-containers\\conf\\Catalina\\localhost\\containers.xml] and Smart Tomcat is pointed to: C:\\Users\\ktv07101\\.SmartTomcat\\java-containers\\java-containers\\conf\\Catalina\\localhost\\containers.xml as you can see from the post. These two are different because the smart tomcat instance can be run with a debugger where as the tomcat instance cannot, so I assume there is some internal difference.","link":"https://stackoverflow.com/questions/76956062/smart-tomcat-not-interacting-with-local-services/76958758#comment135679350_76958758","body":"Are you talking about the deployment descriptor? if so, Tomcat is pointed to D:\\projects-standalone\\tomcats\\java-containers\\conf\\Catalina&zwnj;&#8203;\\localhost\\container&zwnj;&#8203;s.xml] and Smart Tomcat is pointed to: C:\\Users\\ktv07101\\.SmartTomcat\\java-containers\\java-containe&zwnj;&#8203;rs\\conf\\Catalina\\loc&zwnj;&#8203;alhost\\containers.xm&zwnj;&#8203;l as you can see from the post. These two are different because the smart tomcat instance can be run with a debugger where as the tomcat instance cannot, so I assume there is some internal difference."},{"score":0,"post_type":"answer","creation_date":1693021819,"post_id":76958758,"comment_id":135708431,"body_markdown":"`target` is a folder that in your maven project. If you have a maven project named `hello-world`, then `target` is `hello-world/target`, it is in the same folder as `pom.xml.`","link":"https://stackoverflow.com/questions/76956062/smart-tomcat-not-interacting-with-local-services/76958758#comment135708431_76958758","body":"<code>target</code> is a folder that in your maven project. If you have a maven project named <code>hello-world</code>, then <code>target</code> is <code>hello-world&#47;target</code>, it is in the same folder as <code>pom.xml.</code>"},{"score":0,"post_type":"answer","creation_date":1693022839,"post_id":76958758,"comment_id":135708479,"body_markdown":"The folder tree could not show properly in comments, so I commentted in another answer. see https://stackoverflow.com/a/76981512/3172039","link":"https://stackoverflow.com/questions/76956062/smart-tomcat-not-interacting-with-local-services/76958758#comment135708479_76958758","body":"The folder tree could not show properly in comments, so I commentted in another answer. see <a href=\"https://stackoverflow.com/a/76981512/3172039\">stackoverflow.com/a/76981512/3172039</a>"}],"comment_count":6,"score":1,"last_activity_date":1692771497,"creation_date":1692771497,"answer_id":76958758,"question_id":76956062,"body_markdown":"The deployment folder seems incorrect, it should be `target/{your-module-name}` for maven projects.\r\nOr you can try `Polaris Tomcat Server` plugin, it is easier to use.\r\nIf you have further question, please let me know.","link":"https://stackoverflow.com/questions/76956062/smart-tomcat-not-interacting-with-local-services/76958758#76958758","title":"Smart Tomcat not interacting with local services","body":"<p>The deployment folder seems incorrect, it should be <code>target/{your-module-name}</code> for maven projects.\nOr you can try <code>Polaris Tomcat Server</code> plugin, it is easier to use.\nIf you have further question, please let me know.</p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1694119238,"post_id":76981512,"comment_id":135853179,"body_markdown":"Thank you for the detailed response. However, I am using a gradle project, not maven. I included my file path in my question for context","link":"https://stackoverflow.com/questions/76956062/smart-tomcat-not-interacting-with-local-services/76981512#comment135853179_76981512","body":"Thank you for the detailed response. However, I am using a gradle project, not maven. I included my file path in my question for context"}],"comment_count":1,"score":0,"last_activity_date":1693022737,"creation_date":1693022737,"answer_id":76981512,"question_id":76956062,"body_markdown":"The structure of a regular Maven project is as follows:\r\n``` \r\n├── pom.xml\r\n├── src\r\n│&#160;&#160; ├── main\r\n│&#160;&#160; │&#160;&#160; ├── java\r\n│&#160;&#160; │&#160;&#160; ├── resources\r\n│&#160;&#160; └── test\r\n└── target\r\n    ├── tomcat-app1-1.0-SNAPSHOT\r\n    └── tomcat-app1-1.0-SNAPSHOT.war\r\n```\r\n\r\nThe  deployment folder should be `target/tomcat-app1-1.0-SNAPSHOT`.","link":"https://stackoverflow.com/questions/76956062/smart-tomcat-not-interacting-with-local-services/76981512#76981512","title":"Smart Tomcat not interacting with local services","body":"<p>The structure of a regular Maven project is as follows:</p>\n<pre><code>├── pom.xml\n├── src\n│   ├── main\n│   │   ├── java\n│   │   ├── resources\n│   └── test\n└── target\n    ├── tomcat-app1-1.0-SNAPSHOT\n    └── tomcat-app1-1.0-SNAPSHOT.war\n</code></pre>\n<p>The  deployment folder should be <code>target/tomcat-app1-1.0-SNAPSHOT</code>.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":156,"answer_count":3,"score":0,"last_activity_date":1701299867,"creation_date":1692729518,"last_edit_date":1701299867,"question_id":76956062,"body_markdown":"There doesn&#39;t seem to be a forum for the smart tomcat plugin, so I&#39;ll be posting here.\r\n\r\nI&#39;m running my tomcat from my WAR file and my Java project, and it connects to my local httpd, kafka, zookeeper, and mongo\r\n\r\nI am using different ports for smart tomcat compared to tomcat. is this the issue? if not, what is the issue and how can it be resolved? Please let me know if you&#39;d like me to provide more information. Thanks!\r\n\r\nI am using Polaris Tomcat as well and it seems I am unable to find what processes are taking up my ports\r\n\r\nI&#39;ve also changed my IntelliJ version from 2023 to 2022.2.2 as it seems to work on for others on that version but I&#39;m having the same issue.","link":"https://stackoverflow.com/questions/76956062/smart-tomcat-not-interacting-with-local-services","title":"Smart Tomcat not interacting with local services","body":"<p>There doesn't seem to be a forum for the smart tomcat plugin, so I'll be posting here.</p>\n<p>I'm running my tomcat from my WAR file and my Java project, and it connects to my local httpd, kafka, zookeeper, and mongo</p>\n<p>I am using different ports for smart tomcat compared to tomcat. is this the issue? if not, what is the issue and how can it be resolved? Please let me know if you'd like me to provide more information. Thanks!</p>\n<p>I am using Polaris Tomcat as well and it seems I am unable to find what processes are taking up my ports</p>\n<p>I've also changed my IntelliJ version from 2023 to 2022.2.2 as it seems to work on for others on that version but I'm having the same issue.</p>\n"},{"tags":["java","recursion","data-structures","tree","binary-search-tree"],"comments":[{"score":1,"post_type":"question","creation_date":1701303730,"post_id":77574984,"comment_id":136760537,"body_markdown":"There&#39;s a lot missing here. What are the types of `left` and `right`? What is the relationship between the `InnerNode` and `TreeElement` types?","link":"https://stackoverflow.com/questions/77574984/insert-function-binary-search-tree#comment136760537_77574984","body":"There&#39;s a lot missing here. What are the types of <code>left</code> and <code>right</code>? What is the relationship between the <code>InnerNode</code> and <code>TreeElement</code> types?"},{"score":0,"post_type":"question","creation_date":1701348276,"post_id":77574984,"comment_id":136765964,"body_markdown":"i can upload the files on github if that might help. left and right are both TreeElement types and innerNode and leaf implement treeElement","link":"https://stackoverflow.com/questions/77574984/insert-function-binary-search-tree#comment136765964_77574984","body":"i can upload the files on github if that might help. left and right are both TreeElement types and innerNode and leaf implement treeElement"}],"comment_count":2,"is_answered":false,"view_count":28,"answer_count":0,"score":0,"last_activity_date":1701299574,"creation_date":1701299574,"question_id":77574984,"body_markdown":"So Basically i have made insert function in my BST \r\n\r\n```\r\n    @Override\r\n    public TreeElement&lt;T&gt; insert(T value, Comparator&lt;T&gt; comp) {\r\n        if(value == null)\r\n            throw new NullPointerException(&quot;null not supported&quot;);\r\n\r\n        int comparator = comp.compare(value, info);\r\n        //iseti uazro bagebi mepareba auaa\r\n        if(comparator &gt; 0){\r\n            if(right == null)\r\n                return new InnerNode&lt;&gt;(value, new Leaf&lt;&gt;(value), left);\r\n            else {\r\n                return right = right.insert(value, comp);\r\n            }\r\n        }else if(comparator &lt; 0){\r\n            if(left == null)\r\n                return new InnerNode&lt;&gt;(value, right, new Leaf&lt;&gt;(value));\r\n            else {\r\n                return left = left.insert(value, comp);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n```\r\n\r\nbut there are some test cases it didn&#39;t get through and i can&#39;t even really comprehend them \r\nfirst one:\r\nThe return type of the expected method &#39;insert&#39; of the class &#39;InnerNode&#39; with the parameters: [&quot;Object&quot;,&quot;Comparator&quot;] is not implemented as expected.\r\n\r\nsecond one:\r\nThe parameters of the expected constructor of the class &#39;InnerNode&#39; with the parameters: [&quot;Object&quot;] are not implemented as expected.\r\n\r\ncan you help me out?\r\n\r\n\r\nas stated above i tried that code but it didn&#39;t run","link":"https://stackoverflow.com/questions/77574984/insert-function-binary-search-tree","title":"insert function Binary Search Tree","body":"<p>So Basically i have made insert function in my BST</p>\n<pre><code>    @Override\n    public TreeElement&lt;T&gt; insert(T value, Comparator&lt;T&gt; comp) {\n        if(value == null)\n            throw new NullPointerException(&quot;null not supported&quot;);\n\n        int comparator = comp.compare(value, info);\n        //iseti uazro bagebi mepareba auaa\n        if(comparator &gt; 0){\n            if(right == null)\n                return new InnerNode&lt;&gt;(value, new Leaf&lt;&gt;(value), left);\n            else {\n                return right = right.insert(value, comp);\n            }\n        }else if(comparator &lt; 0){\n            if(left == null)\n                return new InnerNode&lt;&gt;(value, right, new Leaf&lt;&gt;(value));\n            else {\n                return left = left.insert(value, comp);\n            }\n        }\n        return this;\n    }\n\n</code></pre>\n<p>but there are some test cases it didn't get through and i can't even really comprehend them\nfirst one:\nThe return type of the expected method 'insert' of the class 'InnerNode' with the parameters: [&quot;Object&quot;,&quot;Comparator&quot;] is not implemented as expected.</p>\n<p>second one:\nThe parameters of the expected constructor of the class 'InnerNode' with the parameters: [&quot;Object&quot;] are not implemented as expected.</p>\n<p>can you help me out?</p>\n<p>as stated above i tried that code but it didn't run</p>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"score":1,"post_type":"question","creation_date":1701360912,"post_id":77574911,"comment_id":136768565,"body_markdown":"See this: https://stackoverflow.com/questions/59652095/theach-indexing-throwing-errors/59652657#59652657","link":"https://stackoverflow.com/questions/77574911/spring-mvc-thymeleaf-form-update-array-of-objects#comment136768565_77574911","body":"See this: <a href=\"https://stackoverflow.com/questions/59652095/theach-indexing-throwing-errors/59652657#59652657\" title=\"theach indexing throwing errors\">stackoverflow.com/questions/59652095/&hellip;</a>"},{"score":0,"post_type":"question","creation_date":1701365304,"post_id":77574911,"comment_id":136769461,"body_markdown":"Thanks, Metroids.  Using a backing class works. It would be nice without creating another class but I guess this will do.","link":"https://stackoverflow.com/questions/77574911/spring-mvc-thymeleaf-form-update-array-of-objects#comment136769461_77574911","body":"Thanks, Metroids.  Using a backing class works. It would be nice without creating another class but I guess this will do."},{"score":0,"post_type":"question","creation_date":1701367749,"post_id":77574911,"comment_id":136769886,"body_markdown":"There&#39;s a tutorial on this:  https://www.baeldung.com/thymeleaf-list","link":"https://stackoverflow.com/questions/77574911/spring-mvc-thymeleaf-form-update-array-of-objects#comment136769886_77574911","body":"There&#39;s a tutorial on this:  <a href=\"https://www.baeldung.com/thymeleaf-list\" rel=\"nofollow noreferrer\">baeldung.com/thymeleaf-list</a>"}],"comment_count":3,"is_answered":false,"view_count":35,"answer_count":0,"score":0,"last_activity_date":1701298345,"creation_date":1701298345,"question_id":77574911,"body_markdown":"I want to create a thymeleaf template with a single form for editing multiple items.  In this example, the items are Todo objects.\r\n\r\n```\r\npublic class Todo {\r\n    private int id;\r\n    private String desc;\r\n    private boolean done;\r\n}\r\n```\r\n \r\n\r\nBased on some googling, my broken solution is below:\r\n```\r\n&lt;form&gt;\r\n\r\n&lt;div th:each=&quot;todo, iter: *{todos}&quot;&gt;\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;*{todos[__${iter.index}__].id}&quot; /&gt;\r\n&lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{todos[__${iter.index}__].desc}&quot;/&gt;\r\n&lt;input type=&quot;checkbox&quot; th:field=&quot;*{todos[__${iter.index}__].done}&quot; th:checked=&quot;${todo.done}&quot;/&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;input type=&quot;submit&quot; name=&quot;update&quot; value=&quot;upate&quot;  \r\nformmethod=&quot;post&quot; \r\nformaction=&quot;/todos/update-multiple&quot;\r\nclass=&quot;btn btn-danger&quot;/&gt;\r\n\r\n&lt;input type=&quot;submit&quot; name=&quot;cancel&quot; value=&quot;cancel&quot; \r\nformmethod=&quot;get&quot; \r\nformaction=&quot;/todos&quot;  \r\nclass=&quot;btn btn-secondary&quot;/&gt; \r\n&lt;/form&gt;\r\n```\r\n\r\nHere&#39;s the controller\r\n\r\n```\r\n@PostMapping(&quot;/todos/update-multiple-form&quot;)\r\npublic String updateMultipleForm(@RequestParam List&lt;Integer&gt; ids, Model model){\r\n  List&lt;Todo&gt; todos = new ArrayList&lt;&gt;();\r\n  ids.forEach(id-&gt;todos.add(service.get(id)));\r\n  model.addAttribute(&quot;todos&quot;, todos);\r\n  return &quot;update-multiple&quot;;\r\n}\r\n\r\n@PostMapping(&quot;/todos/update-multiple&quot;)\r\npublic String updateMultiple(@RequestParam List&lt;Todo&gt; todos, Model model){\r\n  todos.forEach(service::update);\r\n  return &quot;redirect:/todos&quot;;\r\n}\r\n```\r\n\r\nHere&#39;s the error message:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;todos[0]&#39; available as request attribute```\r\n\r\n\r\nGoogle around but couldn&#39;t find an example on using a single form to update multiple objects.","link":"https://stackoverflow.com/questions/77574911/spring-mvc-thymeleaf-form-update-array-of-objects","title":"spring mvc thymeleaf form update array of objects","body":"<p>I want to create a thymeleaf template with a single form for editing multiple items.  In this example, the items are Todo objects.</p>\n<pre><code>public class Todo {\n    private int id;\n    private String desc;\n    private boolean done;\n}\n</code></pre>\n<p>Based on some googling, my broken solution is below:</p>\n<pre><code>&lt;form&gt;\n\n&lt;div th:each=&quot;todo, iter: *{todos}&quot;&gt;\n&lt;input type=&quot;hidden&quot; th:field=&quot;*{todos[__${iter.index}__].id}&quot; /&gt;\n&lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{todos[__${iter.index}__].desc}&quot;/&gt;\n&lt;input type=&quot;checkbox&quot; th:field=&quot;*{todos[__${iter.index}__].done}&quot; th:checked=&quot;${todo.done}&quot;/&gt;\n&lt;/div&gt;\n\n&lt;input type=&quot;submit&quot; name=&quot;update&quot; value=&quot;upate&quot;  \nformmethod=&quot;post&quot; \nformaction=&quot;/todos/update-multiple&quot;\nclass=&quot;btn btn-danger&quot;/&gt;\n\n&lt;input type=&quot;submit&quot; name=&quot;cancel&quot; value=&quot;cancel&quot; \nformmethod=&quot;get&quot; \nformaction=&quot;/todos&quot;  \nclass=&quot;btn btn-secondary&quot;/&gt; \n&lt;/form&gt;\n</code></pre>\n<p>Here's the controller</p>\n<pre><code>@PostMapping(&quot;/todos/update-multiple-form&quot;)\npublic String updateMultipleForm(@RequestParam List&lt;Integer&gt; ids, Model model){\n  List&lt;Todo&gt; todos = new ArrayList&lt;&gt;();\n  ids.forEach(id-&gt;todos.add(service.get(id)));\n  model.addAttribute(&quot;todos&quot;, todos);\n  return &quot;update-multiple&quot;;\n}\n\n@PostMapping(&quot;/todos/update-multiple&quot;)\npublic String updateMultiple(@RequestParam List&lt;Todo&gt; todos, Model model){\n  todos.forEach(service::update);\n  return &quot;redirect:/todos&quot;;\n}\n</code></pre>\n<p>Here's the error message:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'todos[0]' available as request attribute```\n\n\nGoogle around but couldn't find an example on using a single form to update multiple objects.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch","java-17"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1687332470,"creation_date":1687332470,"answer_id":76520935,"question_id":76516465,"body_markdown":"This format of writing is used in .properties file. For yaml files you need to change your format like this\r\n\r\n    logging:\r\n      logstash: abc1.uk.dev.net:5001\r\n        \r\n    spring:\r\n      application:\r\n        name: myservice-backend\r\n      main:\r\n        allow-bean-definition-overriding: true\r\n\r\n","link":"https://stackoverflow.com/questions/76516465/config-server-details-from-application-yml-not-fetched/76520935#76520935","title":"Config Server details from application.yml not fetched","body":"<p>This format of writing is used in .properties file. For yaml files you need to change your format like this</p>\n<pre><code>logging:\n  logstash: abc1.uk.dev.net:5001\n    \nspring:\n  application:\n    name: myservice-backend\n  main:\n    allow-bean-definition-overriding: true\n</code></pre>\n"},{"comment_count":0,"score":0,"last_activity_date":1687380227,"creation_date":1687380227,"answer_id":76527000,"question_id":76516465,"body_markdown":"Looks like bootstrap dependency was included which screwed things up. Everything works like charm after removing it. ","link":"https://stackoverflow.com/questions/76516465/config-server-details-from-application-yml-not-fetched/76527000#76527000","title":"Config Server details from application.yml not fetched","body":"<p>Looks like bootstrap dependency was included which screwed things up. Everything works like charm after removing it.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":195,"answer_count":2,"score":0,"last_activity_date":1701297042,"creation_date":1687276170,"last_edit_date":1701297042,"question_id":76516465,"body_markdown":"I am migrating Spring Batch using Spring Boot 2 to Spring Boot 3 (with Spring Batch 5) which uses config server to fetch environment specific properties. My properties is like this.\r\n```\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.application.name= myservice-backend\r\nspring.main.allow-bean-definition-overriding= true\r\n\r\n#--- dev profile\r\nspring.config.activate.on-profile= dev\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.application.name= myservice-backend\r\nspring.main.allow-bean-definition-overriding= true\r\nspring.config.import= configserver:http://localhost:8088\r\nspring.cloud.config.label= release(_)V5.1\r\n\r\n#--- sit profile\r\nspring.config.activate.on-profile= sit\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.application.name= myservice-backend\r\nspring.main.allow-bean-definition-overriding= true\r\nspring.config.import= configserver:http://localhost:8088\r\nspring.cloud.config.label= release(_)V5.1\r\n```\r\n\r\nIt looks like it doesnt seem to pick up the correct environment and fails to load anything. Any idea what could be wrong. If I just put one environment in the application.properties file then it seems to load everything\r\n```\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.application.name= myservice-backend\r\nspring.main.allow-bean-definition-overriding= true\r\nspring.config.activate.on-profile= dev\r\nlogging.logstash= abc1.uk.dev.net:5001\r\nspring.config.import= configserver:http://localhost:8088\r\nspring.cloud.config.label= release(_)V5.1\r\n```\r\n\r\nThis is my pom.xml.\r\n```\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;snakeyaml.version&gt;2.0&lt;/snakeyaml.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- config server --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n```\r\n\r\nAlso in spring-batch service I cant seem to load test properties from src/test/resources/application-test.yml, it works only with src/test/resources/application-test.properties\r\n\r\nAny idea what could be missing here or how could I achieve what I am trying to.","link":"https://stackoverflow.com/questions/76516465/config-server-details-from-application-yml-not-fetched","title":"Config Server details from application.yml not fetched","body":"<p>I am migrating Spring Batch using Spring Boot 2 to Spring Boot 3 (with Spring Batch 5) which uses config server to fetch environment specific properties. My properties is like this.</p>\n<pre><code>logging.logstash= abc1.uk.dev.net:5001\nspring.application.name= myservice-backend\nspring.main.allow-bean-definition-overriding= true\n\n#--- dev profile\nspring.config.activate.on-profile= dev\nlogging.logstash= abc1.uk.dev.net:5001\nspring.application.name= myservice-backend\nspring.main.allow-bean-definition-overriding= true\nspring.config.import= configserver:http://localhost:8088\nspring.cloud.config.label= release(_)V5.1\n\n#--- sit profile\nspring.config.activate.on-profile= sit\nlogging.logstash= abc1.uk.dev.net:5001\nspring.application.name= myservice-backend\nspring.main.allow-bean-definition-overriding= true\nspring.config.import= configserver:http://localhost:8088\nspring.cloud.config.label= release(_)V5.1\n</code></pre>\n<p>It looks like it doesnt seem to pick up the correct environment and fails to load anything. Any idea what could be wrong. If I just put one environment in the application.properties file then it seems to load everything</p>\n<pre><code>logging.logstash= abc1.uk.dev.net:5001\nspring.application.name= myservice-backend\nspring.main.allow-bean-definition-overriding= true\nspring.config.activate.on-profile= dev\nlogging.logstash= abc1.uk.dev.net:5001\nspring.config.import= configserver:http://localhost:8088\nspring.cloud.config.label= release(_)V5.1\n</code></pre>\n<p>This is my pom.xml.</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;snakeyaml.version&gt;2.0&lt;/snakeyaml.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- config server --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>Also in spring-batch service I cant seem to load test properties from src/test/resources/application-test.yml, it works only with src/test/resources/application-test.properties</p>\n<p>Any idea what could be missing here or how could I achieve what I am trying to.</p>\n"},{"tags":["java","wildfly","resteasy","wildfly-26"],"comments":[{"score":0,"post_type":"question","creation_date":1701297173,"post_id":77574799,"comment_id":136759809,"body_markdown":"It&#39;s hard to say what is going on here. Possibly a provider or something that doesn&#39;t have a default constructor.","link":"https://stackoverflow.com/questions/77574799/nullpointerexception-in-rest-resteasy-client-within-wildfly-26#comment136759809_77574799","body":"It&#39;s hard to say what is going on here. Possibly a provider or something that doesn&#39;t have a default constructor."},{"score":0,"post_type":"question","creation_date":1701299283,"post_id":77574799,"comment_id":136760062,"body_markdown":"Thank you James for the input. I will try to specifically instantiate the Resteasy implementation of ClientBuilder and see if it helps. Will comment here soon again.","link":"https://stackoverflow.com/questions/77574799/nullpointerexception-in-rest-resteasy-client-within-wildfly-26#comment136760062_77574799","body":"Thank you James for the input. I will try to specifically instantiate the Resteasy implementation of ClientBuilder and see if it helps. Will comment here soon again."},{"score":0,"post_type":"question","creation_date":1701300636,"post_id":77574799,"comment_id":136760203,"body_markdown":"This is really weird. As stated, I changed the instantiation to use Resteasy classes directly. However, this did not yield anything positive. \n\nHowever, I have some additional insight: the REST client running in Wildfly can be triggered in two ways: based on a call from a remote EJB client, or by a timer task / scheduled task within the same server. If, after Wildfly startup, the remote client is first to utilize the REST client, I am seeing this error. If the scheduled task is the first trigger, everything works as expected. \nWeird.","link":"https://stackoverflow.com/questions/77574799/nullpointerexception-in-rest-resteasy-client-within-wildfly-26#comment136760203_77574799","body":"This is really weird. As stated, I changed the instantiation to use Resteasy classes directly. However, this did not yield anything positive.   However, I have some additional insight: the REST client running in Wildfly can be triggered in two ways: based on a call from a remote EJB client, or by a timer task / scheduled task within the same server. If, after Wildfly startup, the remote client is first to utilize the REST client, I am seeing this error. If the scheduled task is the first trigger, everything works as expected.  Weird."},{"score":0,"post_type":"question","creation_date":1701302025,"post_id":77574799,"comment_id":136760371,"body_markdown":"That is definitely peculiar.","link":"https://stackoverflow.com/questions/77574799/nullpointerexception-in-rest-resteasy-client-within-wildfly-26#comment136760371_77574799","body":"That is definitely peculiar."}],"comment_count":4,"is_answered":false,"view_count":44,"answer_count":0,"score":0,"last_activity_date":1701296427,"creation_date":1701296427,"question_id":77574799,"body_markdown":"I have a REST client using RESTEasy 4.7.7 running in Wildfly 26.1.3.Final (using Java 17), that fails due to a NullpointerException. Outside of Wildfly everything works fine.\r\n\r\nThe client looks like this:\r\n\r\n    Client restClient = javax.ws.rs.client.ClientBuilder.newClient();\r\n    WebTarget webTarget = restClient.target(baseUri + &quot;/api/Login&quot;);\r\n    \r\n    String jsonQuery = &quot;&lt;some-real-json&gt;&quot;;\r\n\r\n    String token = null;\r\n    try {\r\n        Response response = webTarget.request(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(MIMETYPE_JSON).post(javax.ws.rs.client.Entity.entity(jsonQuery, javax.ws.rs.core.MediaType.APPLICATION_JSON));\r\n        String returnValue = response.readEntity(String.class);\r\n        if (response.getStatus() != 200) {\r\n            log.error(&quot;Could not authenticate with ePost API: &quot; + returnValue + &quot; [&quot; + response.getStatus() + &quot;]&quot;);\r\n            throw new EpostException(&quot;Could not authenticate with ePost API: &quot; + returnValue + &quot; [&quot; + response.getStatus() + &quot;]&quot;);\r\n        }\r\n\r\n        Object jsonOutput = Jsoner.deserialize(returnValue);\r\n        // output processing\r\n\r\n    } catch (Exception ex) {\r\n        log.error(&quot;Could not authenticate with ePost API&quot;, ex);\r\n        throw new EpostException(ex.getMessage(), ex);\r\n    } finally {\r\n        restClient.close();\r\n    }\r\n    return token;\r\n\r\nHere&#39;s the stacktrace I am getting: \r\n\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Constructor.getParameterTypes()&quot; because &quot;constructor&quot; is null\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.ConstructorInjectorImpl.&lt;init&gt;(ConstructorInjectorImpl.java:55)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.InjectorFactoryImpl.createConstructor(InjectorFactoryImpl.java:61)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.injectedInstance(ResteasyProviderFactoryImpl.java:1398)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$AbstractInterceptorFactory.createInterceptor(JaxrsInterceptorRegistryImpl.java:150)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.initialize(JaxrsInterceptorRegistryImpl.java:168)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.checkInitialize(JaxrsInterceptorRegistryImpl.java:183)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.getInterceptor(JaxrsInterceptorRegistryImpl.java:193)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$AbstractInterceptorFactory.postMatch(JaxrsInterceptorRegistryImpl.java:138)\r\n    \tat org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl.postMatch(JaxrsInterceptorRegistryImpl.java:288)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientConfiguration.getRequestFilters(ClientConfiguration.java:120)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.getRequestFilters(ClientInvocation.java:460)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:759)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:491)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:69)\r\n    \tat org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocationBuilder.post(ClientInvocationBuilder.java:226)\r\n    \tat deployment.j-lawyer-server.ear//com.jdimension.jlawyer.epost.EpostAPI.login(EpostAPI.java:782)\r\n\r\nAny ideas what could be wrong here? It happens when calling the &quot;post&quot; method. I have a feeling it has something to do with instantiating RESTEasy, but as I am not directly instantiating it myself, I do not know how to tackle this. \r\n\r\nThanks!","link":"https://stackoverflow.com/questions/77574799/nullpointerexception-in-rest-resteasy-client-within-wildfly-26","title":"NullpointerException in REST / RESTEasy client within Wildfly 26","body":"<p>I have a REST client using RESTEasy 4.7.7 running in Wildfly 26.1.3.Final (using Java 17), that fails due to a NullpointerException. Outside of Wildfly everything works fine.</p>\n<p>The client looks like this:</p>\n<pre><code>Client restClient = javax.ws.rs.client.ClientBuilder.newClient();\nWebTarget webTarget = restClient.target(baseUri + &quot;/api/Login&quot;);\n\nString jsonQuery = &quot;&lt;some-real-json&gt;&quot;;\n\nString token = null;\ntry {\n    Response response = webTarget.request(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(MIMETYPE_JSON).post(javax.ws.rs.client.Entity.entity(jsonQuery, javax.ws.rs.core.MediaType.APPLICATION_JSON));\n    String returnValue = response.readEntity(String.class);\n    if (response.getStatus() != 200) {\n        log.error(&quot;Could not authenticate with ePost API: &quot; + returnValue + &quot; [&quot; + response.getStatus() + &quot;]&quot;);\n        throw new EpostException(&quot;Could not authenticate with ePost API: &quot; + returnValue + &quot; [&quot; + response.getStatus() + &quot;]&quot;);\n    }\n\n    Object jsonOutput = Jsoner.deserialize(returnValue);\n    // output processing\n\n} catch (Exception ex) {\n    log.error(&quot;Could not authenticate with ePost API&quot;, ex);\n    throw new EpostException(ex.getMessage(), ex);\n} finally {\n    restClient.close();\n}\nreturn token;\n</code></pre>\n<p>Here's the stacktrace I am getting:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Constructor.getParameterTypes()&quot; because &quot;constructor&quot; is null\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.ConstructorInjectorImpl.&lt;init&gt;(ConstructorInjectorImpl.java:55)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.InjectorFactoryImpl.createConstructor(InjectorFactoryImpl.java:61)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.injectedInstance(ResteasyProviderFactoryImpl.java:1398)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$AbstractInterceptorFactory.createInterceptor(JaxrsInterceptorRegistryImpl.java:150)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.initialize(JaxrsInterceptorRegistryImpl.java:168)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.checkInitialize(JaxrsInterceptorRegistryImpl.java:183)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$OnDemandInterceptorFactory.getInterceptor(JaxrsInterceptorRegistryImpl.java:193)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl$AbstractInterceptorFactory.postMatch(JaxrsInterceptorRegistryImpl.java:138)\n    at org.jboss.resteasy.resteasy-core@4.7.7.Final//org.jboss.resteasy.core.interception.jaxrs.JaxrsInterceptorRegistryImpl.postMatch(JaxrsInterceptorRegistryImpl.java:288)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientConfiguration.getRequestFilters(ClientConfiguration.java:120)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.getRequestFilters(ClientInvocation.java:460)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:759)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:491)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:69)\n    at org.jboss.resteasy.resteasy-client@4.7.7.Final//org.jboss.resteasy.client.jaxrs.internal.ClientInvocationBuilder.post(ClientInvocationBuilder.java:226)\n    at deployment.j-lawyer-server.ear//com.jdimension.jlawyer.epost.EpostAPI.login(EpostAPI.java:782)\n</code></pre>\n<p>Any ideas what could be wrong here? It happens when calling the &quot;post&quot; method. I have a feeling it has something to do with instantiating RESTEasy, but as I am not directly instantiating it myself, I do not know how to tackle this.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","azure-cosmosdb","azure-cosmosdb-sqlapi"],"comments":[{"score":0,"post_type":"question","creation_date":1701295921,"post_id":77574593,"comment_id":136759660,"body_markdown":"Not quite sure about your query - it&#39;s not valid sql (I think you&#39;re missing a bit after the `from`). As for building your query - can&#39;t you just pass your query, as written? Also: be mindful of performance impact using `SUBSTRING()` if you&#39;re processing a lot of data (might be better to trim the resulting string after it&#39;s returned, vs executing a function on hundreds or thousands of strings)","link":"https://stackoverflow.com/questions/77574593/cosmos-db-substring-query-example#comment136759660_77574593","body":"Not quite sure about your query - it&#39;s not valid sql (I think you&#39;re missing a bit after the <code>from</code>). As for building your query - can&#39;t you just pass your query, as written? Also: be mindful of performance impact using <code>SUBSTRING()</code> if you&#39;re processing a lot of data (might be better to trim the resulting string after it&#39;s returned, vs executing a function on hundreds or thousands of strings)"},{"score":0,"post_type":"question","creation_date":1701296360,"post_id":77574593,"comment_id":136759716,"body_markdown":"Sorry for the confusion basically I need to query `startDate=&quot;2023-11-17&quot;` whereas startDate is saved as `2023-11-17T08:11:30.225323`. How can I achieve this using `Criteria` @DavidMakogon","link":"https://stackoverflow.com/questions/77574593/cosmos-db-substring-query-example#comment136759716_77574593","body":"Sorry for the confusion basically I need to query <code>startDate=&quot;2023-11-17&quot;</code> whereas startDate is saved as <code>2023-11-17T08:11:30.225323</code>. How can I achieve this using <code>Criteria</code> @DavidMakogon"},{"score":0,"post_type":"question","creation_date":1701334760,"post_id":77574593,"comment_id":136763501,"body_markdown":"Query the datetime like it&#39;s a datetime. If you are only interested in the date part you can filter between the start of the day and end of the day. Which will also be a lot more optimized as it&#39;ll be able to leverage the index using a precise index scan.","link":"https://stackoverflow.com/questions/77574593/cosmos-db-substring-query-example#comment136763501_77574593","body":"Query the datetime like it&#39;s a datetime. If you are only interested in the date part you can filter between the start of the day and end of the day. Which will also be a lot more optimized as it&#39;ll be able to leverage the index using a precise index scan."}],"comment_count":3,"is_answered":false,"view_count":76,"answer_count":0,"score":1,"last_activity_date":1701295796,"creation_date":1701293372,"last_edit_date":1701295796,"question_id":77574593,"body_markdown":"I&#39;ve a document like this in db\r\n```json\r\n{\r\n   &quot;startDate&quot;: &quot;2023-11-17T08:11:30.225323&quot;\r\n}\r\n```\r\n\r\nWhen querying I can say\r\n```sql\r\nselect *\r\nfrom c.startDate = &quot;2023-11-17T08:11:30.225323&quot;\r\n```\r\nwhich is working. But I need to query only with `date part` so I did something like this `select SUBSTRING(c.effectiveDate,0,10)` which is giving me results because my input to the query will be like this `2023-11-17`. \r\n\r\nSo from query side it&#39;s all working but I&#39;m trying to build this query using java cosmos sdk. For this I&#39;m using something called Criteria from `com.azure.spring.data.cosmos.core.query.Criteria` package. For example for the above query I use something like this \r\n\r\n```\r\nCriteria c1 = Criteria.getInstance(CriteriaType.IS_EQUAL, &quot;startDate&quot;, Collections.singletonList(startDate), Part.IgnoreCaseType.NEVER);\r\n```\r\n\r\nNow using the same `Criteria` how do I achieve `SUBSTRING` functionality.\r\n","link":"https://stackoverflow.com/questions/77574593/cosmos-db-substring-query-example","title":"Cosmos DB Substring query example","body":"<p>I've a document like this in db</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;startDate&quot;: &quot;2023-11-17T08:11:30.225323&quot;\n}\n</code></pre>\n<p>When querying I can say</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select *\nfrom c.startDate = &quot;2023-11-17T08:11:30.225323&quot;\n</code></pre>\n<p>which is working. But I need to query only with <code>date part</code> so I did something like this <code>select SUBSTRING(c.effectiveDate,0,10)</code> which is giving me results because my input to the query will be like this <code>2023-11-17</code>.</p>\n<p>So from query side it's all working but I'm trying to build this query using java cosmos sdk. For this I'm using something called Criteria from <code>com.azure.spring.data.cosmos.core.query.Criteria</code> package. For example for the above query I use something like this</p>\n<pre><code>Criteria c1 = Criteria.getInstance(CriteriaType.IS_EQUAL, &quot;startDate&quot;, Collections.singletonList(startDate), Part.IgnoreCaseType.NEVER);\n</code></pre>\n<p>Now using the same <code>Criteria</code> how do I achieve <code>SUBSTRING</code> functionality.</p>\n"},{"tags":["java","multithreading","javafx","serial-port","processbuilder"],"comments":[{"score":1,"post_type":"question","creation_date":1701262256,"post_id":77570313,"comment_id":136753469,"body_markdown":"There should only be one `Application` subclass (and one instance of it) in the application. If these are all supposed to be part of the same application, they should not be subclasses of `Application`.","link":"https://stackoverflow.com/questions/77570313/to-open-another-application-from-main-application-in-javafx-vscode#comment136753469_77570313","body":"There should only be one <code>Application</code> subclass (and one instance of it) in the application. If these are all supposed to be part of the same application, they should not be subclasses of <code>Application</code>."},{"score":0,"post_type":"question","creation_date":1701270417,"post_id":77570313,"comment_id":136755213,"body_markdown":"Sorry for the confusion. All three are different classes and extending Application.\nThe one I mentioned as &#39;Main App&#39;, I wanted that app to be my main application that allows me to open another two through a button click.\nI actually achieve that thing with ProcessBuilder.","link":"https://stackoverflow.com/questions/77570313/to-open-another-application-from-main-application-in-javafx-vscode#comment136755213_77570313","body":"Sorry for the confusion. All three are different classes and extending Application. The one I mentioned as &#39;Main App&#39;, I wanted that app to be my main application that allows me to open another two through a button click. I actually achieve that thing with ProcessBuilder."},{"score":0,"post_type":"question","creation_date":1701270754,"post_id":77570313,"comment_id":136755291,"body_markdown":"The reason I wanted my project to be like this is I wanted to make a connection between them so that I will be able to communicate with my device through app2 too.","link":"https://stackoverflow.com/questions/77570313/to-open-another-application-from-main-application-in-javafx-vscode#comment136755291_77570313","body":"The reason I wanted my project to be like this is I wanted to make a connection between them so that I will be able to communicate with my device through app2 too."},{"score":0,"post_type":"question","creation_date":1701270784,"post_id":77570313,"comment_id":136755300,"body_markdown":"*&quot;All three are different classes and extending Application.&quot;* But why? It doesn&#39;t make sense for all three to be subclasses of `Application`.","link":"https://stackoverflow.com/questions/77570313/to-open-another-application-from-main-application-in-javafx-vscode#comment136755300_77570313","body":"<i>&quot;All three are different classes and extending Application.&quot;</i> But why? It doesn&#39;t make sense for all three to be subclasses of <code>Application</code>."},{"score":0,"post_type":"question","creation_date":1701275131,"post_id":77570313,"comment_id":136756272,"body_markdown":"well, I made all three apps as 3 different projects. but now I have been asked to completed a task. To achieve that task I have to make a project that requires to use the functionalities of all three apps.\nSO I had two options\nEither I coded everything from scratch and in place of application, I have to creates stages.\nor else this option of invoking one application window from another.","link":"https://stackoverflow.com/questions/77570313/to-open-another-application-from-main-application-in-javafx-vscode#comment136756272_77570313","body":"well, I made all three apps as 3 different projects. but now I have been asked to completed a task. To achieve that task I have to make a project that requires to use the functionalities of all three apps. SO I had two options Either I coded everything from scratch and in place of application, I have to creates stages. or else this option of invoking one application window from another."},{"score":1,"post_type":"question","creation_date":1701285203,"post_id":77570313,"comment_id":136758035,"body_markdown":"*&quot;I had two options&quot;*. You have a third option. Refactor each of the three apps so the UI is defined in a different class to the `Application` subclass. (This is a very quick and easy refactoring.) Then you can reuse the UI wherever you want without replicating it. There is no need to launch an entire application just because you want to open another window.","link":"https://stackoverflow.com/questions/77570313/to-open-another-application-from-main-application-in-javafx-vscode#comment136758035_77570313","body":"<i>&quot;I had two options&quot;</i>. You have a third option. Refactor each of the three apps so the UI is defined in a different class to the <code>Application</code> subclass. (This is a very quick and easy refactoring.) Then you can reuse the UI wherever you want without replicating it. There is no need to launch an entire application just because you want to open another window."},{"score":1,"post_type":"question","creation_date":1701288803,"post_id":77570313,"comment_id":136758621,"body_markdown":"*&quot;else I have to make a new project from scratch which I don&#39;t want to do now&quot;* -&gt; Just do that, even though you don&#39;t want to, or follow James suggestion for refactoring common code, it will be easier than trying to make apps communicate via the `Process` API.  You are looking for shortcuts, but the shortcuts you are trying to take are actually more difficult than the suggested paths.","link":"https://stackoverflow.com/questions/77570313/to-open-another-application-from-main-application-in-javafx-vscode#comment136758621_77570313","body":"<i>&quot;else I have to make a new project from scratch which I don&#39;t want to do now&quot;</i> -&gt; Just do that, even though you don&#39;t want to, or follow James suggestion for refactoring common code, it will be easier than trying to make apps communicate via the <code>Process</code> API.  You are looking for shortcuts, but the shortcuts you are trying to take are actually more difficult than the suggested paths."},{"score":0,"post_type":"question","creation_date":1701341979,"post_id":77570313,"comment_id":136764813,"body_markdown":"Thank you for the guidance @James_D &amp; jewelsea. I&#39;ll look into the refactoring.","link":"https://stackoverflow.com/questions/77570313/to-open-another-application-from-main-application-in-javafx-vscode#comment136764813_77570313","body":"Thank you for the guidance @James_D &amp; jewelsea. I&#39;ll look into the refactoring."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701295734,"creation_date":1701295734,"answer_id":77574757,"question_id":77570313,"body_markdown":"**Solution 1:**\r\n\r\nIf you have one JAR which contains your 3 applications, then you must refactor your code until you have only one application which wrapps them all.\r\n\r\n**Solution 2:**\r\n\r\nIf you have 3 JARs, separate ones for each application, then you can use the class `Runtime` or `ProcessBuilder` for starting the other JARs. \r\n\r\nExample: \r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, &quot;absolute path upto jar&quot;);\r\n    Process p = pb.start();\r\n\r\nNever use relative paths. And keep in mind that there is no real directory structure in your JARs. \r\nYou can try to use the JARs from outside the JAR, or zu get them via classpath with `getClass(). getResource(&quot;/a/b/c.jar&quot;)`.\r\n\r\n**Solution 3:**\r\n\r\nYou could think about using `Docker` with `Docker Compose`.","link":"https://stackoverflow.com/questions/77570313/to-open-another-application-from-main-application-in-javafx-vscode/77574757#77574757","title":"To Open another Application from main Application in JavaFX VsCode","body":"<p><strong>Solution 1:</strong></p>\n<p>If you have one JAR which contains your 3 applications, then you must refactor your code until you have only one application which wrapps them all.</p>\n<p><strong>Solution 2:</strong></p>\n<p>If you have 3 JARs, separate ones for each application, then you can use the class <code>Runtime</code> or <code>ProcessBuilder</code> for starting the other JARs.</p>\n<p>Example:</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, &quot;absolute path upto jar&quot;);\nProcess p = pb.start();\n</code></pre>\n<p>Never use relative paths. And keep in mind that there is no real directory structure in your JARs.\nYou can try to use the JARs from outside the JAR, or zu get them via classpath with <code>getClass(). getResource(&quot;/a/b/c.jar&quot;)</code>.</p>\n<p><strong>Solution 3:</strong></p>\n<p>You could think about using <code>Docker</code> with <code>Docker Compose</code>.</p>\n"}],"comment_count":8,"is_answered":false,"view_count":46,"answer_count":1,"score":0,"last_activity_date":1701295734,"creation_date":1701253580,"question_id":77570313,"body_markdown":"**Question**\r\nHey all. I am new to javafx coding so please level with me.\r\n\r\nI coded three applications with their own primary stage.\r\nbut now I want to open two of the applications from one application (which is going to be my main application)\r\nI am initializing two buttons in my main application and with the button click I want to open the other two application respectively.\r\n\r\nDetails:\r\nMain App;\r\nI created this app to establish a port connection with my device to communicate with it.\r\n\r\nApp 1 &amp; 2:\r\nThese app are created to generate a single page pdf file for different purpose.\r\nin these apps I am taking input from user but now I have to fill some fields by a button click that will take information from my device. For that matter I want to establish a connection with my device.\r\nThis is the reason I want to connect these three apps.\r\nelse I have to make a new project from scratch which I don&#39;t want to do now if there is any solution of my problem.\r\n\r\nI tried all the solutions I can find on internet but nothing is working for me. I don&#39;t know what to do now. PLEASE HELP\r\nThis one is my latest.\r\n\r\n```\r\n//Main App Code:\r\npublic class ConnectionTestApp extends Application {\r\npublic void start(Stage primaryStage) throws IOException {\r\n\r\n//code that sets the stage\r\n}\r\n\r\npublic void setupEventHandlers() throws IOException {\r\n\r\n   **// this button open App 1**\r\n\r\nbtnOpenCertificate.setOnAction(event -&gt; {\r\ntry {\r\nProcessBuilder CertificateAppBuilder = new ProcessBuilder(&quot;java&quot;,&quot;-cp&quot;,&quot;.&quot;,&quot;project.pdfcreation.CertificateAppFinal&quot;);\r\nProcess CertificateAppprocess = CertificateAppBuilder.start();\r\n\r\n            InputStream CertificateAppinputStream = CertificateAppprocess.getInputStream();\r\n            InputStream CertificateApperrorStream = CertificateAppprocess.getErrorStream();\r\n\r\n            readStream(&quot;App Output: &quot;, CertificateAppinputStream);\r\n            readStream(&quot;App Error: &quot;, CertificateApperrorStream);\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            AlertMessages.showErrorDialogue(&quot;Error&quot;, &quot;Unable to open app: &quot;+ e.getMessage());\r\n        }\r\n            \r\n    });\r\n **// this button open App 1**\r\n\r\n    btnOpenInsDoc.setOnAction(event -&gt; {\r\n        try {\r\n            ProcessBuilder InspectionAppBuilder = new ProcessBuilder(&quot;java&quot;,&quot;-cp&quot;,&quot;.&quot;,&quot;project.pdfcreation.InspectionAppFinal&quot;);\r\n\r\n            Process InspectionAppprocess = InspectionAppBuilder.start();\r\n\r\n            InputStream InspectionAppinputStream = InspectionAppprocess.getInputStream();\r\n            InputStream InspectionApperrorStream = InspectionAppprocess.getErrorStream();\r\n\r\n            readStream(&quot;App2 Output: &quot;, InspectionAppinputStream);\r\n            readStream(&quot;App2 Error: &quot;,  InspectionApperrorStream);\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            AlertMessages.showErrorDialogue(&quot;Error&quot;, &quot;Unable to open app: &quot;+ e.getMessage());\r\n        }\r\n\r\n    });\r\n}\r\npublic static void main(String[] args) {\r\nConnectionTestApp.launch(args);\r\n}\r\n}\r\n\r\n\r\n```\r\n\r\n[This is the error I am getting with this code](https://i.stack.imgur.com/JBjq5.png)\r\n\r\n## P.S:\r\nWhen I change InspectionAppFinal to InspectionAppFinal.java or InspectionAppFinal.class (In process builder) it opens the file in VS code and gives no error/exception. \r\nI&#39;m confused what I am missing or doing rong.\r\n\r\n## Context\r\nI am using JavaFX in VSCODE.\r\n\r\n## Java version:\r\nopenjdk version &quot;21.0.1&quot; 2023-10-17 LTS\r\nOpenJDK Runtime Environment Temurin-21.0.1+12 (build 21.0.1+12-LTS)\r\nOpenJDK 64-Bit Server VM Temurin-21.0.1+12 (build 21.0.1+12-LTS, mixed mode, sharing)\r\n\r\n## Operating system and platform:\r\nWindows 11\r\nVersion 10.0.22621 Build 22621 x64-based PC","link":"https://stackoverflow.com/questions/77570313/to-open-another-application-from-main-application-in-javafx-vscode","title":"To Open another Application from main Application in JavaFX VsCode","body":"<p><strong>Question</strong>\nHey all. I am new to javafx coding so please level with me.</p>\n<p>I coded three applications with their own primary stage.\nbut now I want to open two of the applications from one application (which is going to be my main application)\nI am initializing two buttons in my main application and with the button click I want to open the other two application respectively.</p>\n<p>Details:\nMain App;\nI created this app to establish a port connection with my device to communicate with it.</p>\n<p>App 1 &amp; 2:\nThese app are created to generate a single page pdf file for different purpose.\nin these apps I am taking input from user but now I have to fill some fields by a button click that will take information from my device. For that matter I want to establish a connection with my device.\nThis is the reason I want to connect these three apps.\nelse I have to make a new project from scratch which I don't want to do now if there is any solution of my problem.</p>\n<p>I tried all the solutions I can find on internet but nothing is working for me. I don't know what to do now. PLEASE HELP\nThis one is my latest.</p>\n<pre><code>//Main App Code:\npublic class ConnectionTestApp extends Application {\npublic void start(Stage primaryStage) throws IOException {\n\n//code that sets the stage\n}\n\npublic void setupEventHandlers() throws IOException {\n\n   **// this button open App 1**\n\nbtnOpenCertificate.setOnAction(event -&gt; {\ntry {\nProcessBuilder CertificateAppBuilder = new ProcessBuilder(&quot;java&quot;,&quot;-cp&quot;,&quot;.&quot;,&quot;project.pdfcreation.CertificateAppFinal&quot;);\nProcess CertificateAppprocess = CertificateAppBuilder.start();\n\n            InputStream CertificateAppinputStream = CertificateAppprocess.getInputStream();\n            InputStream CertificateApperrorStream = CertificateAppprocess.getErrorStream();\n\n            readStream(&quot;App Output: &quot;, CertificateAppinputStream);\n            readStream(&quot;App Error: &quot;, CertificateApperrorStream);\n        }\n        catch (IOException e)\n        {\n            AlertMessages.showErrorDialogue(&quot;Error&quot;, &quot;Unable to open app: &quot;+ e.getMessage());\n        }\n            \n    });\n **// this button open App 1**\n\n    btnOpenInsDoc.setOnAction(event -&gt; {\n        try {\n            ProcessBuilder InspectionAppBuilder = new ProcessBuilder(&quot;java&quot;,&quot;-cp&quot;,&quot;.&quot;,&quot;project.pdfcreation.InspectionAppFinal&quot;);\n\n            Process InspectionAppprocess = InspectionAppBuilder.start();\n\n            InputStream InspectionAppinputStream = InspectionAppprocess.getInputStream();\n            InputStream InspectionApperrorStream = InspectionAppprocess.getErrorStream();\n\n            readStream(&quot;App2 Output: &quot;, InspectionAppinputStream);\n            readStream(&quot;App2 Error: &quot;,  InspectionApperrorStream);\n        }\n        catch (IOException e)\n        {\n            AlertMessages.showErrorDialogue(&quot;Error&quot;, &quot;Unable to open app: &quot;+ e.getMessage());\n        }\n\n    });\n}\npublic static void main(String[] args) {\nConnectionTestApp.launch(args);\n}\n}\n\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JBjq5.png\" rel=\"nofollow noreferrer\">This is the error I am getting with this code</a></p>\n<h2>P.S:</h2>\n<p>When I change InspectionAppFinal to InspectionAppFinal.java or InspectionAppFinal.class (In process builder) it opens the file in VS code and gives no error/exception.\nI'm confused what I am missing or doing rong.</p>\n<h2>Context</h2>\n<p>I am using JavaFX in VSCODE.</p>\n<h2>Java version:</h2>\n<p>openjdk version &quot;21.0.1&quot; 2023-10-17 LTS\nOpenJDK Runtime Environment Temurin-21.0.1+12 (build 21.0.1+12-LTS)\nOpenJDK 64-Bit Server VM Temurin-21.0.1+12 (build 21.0.1+12-LTS, mixed mode, sharing)</p>\n<h2>Operating system and platform:</h2>\n<p>Windows 11\nVersion 10.0.22621 Build 22621 x64-based PC</p>\n"},{"tags":["java","cucumber"],"comments":[{"score":0,"post_type":"question","creation_date":1701398601,"post_id":77574753,"comment_id":136773709,"body_markdown":"Did you read https://cucumber.io/docs/cucumber/state/?lang=java ?","link":"https://stackoverflow.com/questions/77574753/cucumber-pass-value-between-operation-files#comment136773709_77574753","body":"Did you read <a href=\"https://cucumber.io/docs/cucumber/state/?lang=java\" rel=\"nofollow noreferrer\">cucumber.io/docs/cucumber/state/?lang=java</a> ?"},{"score":0,"post_type":"question","creation_date":1701443389,"post_id":77574753,"comment_id":136779882,"body_markdown":"yes, I pass state between stepDefs via ScenarioContext class, as is mentioned here: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-picocontainer  in Belly.java example\n\nbut I share state between stepDefs class, not operation.java classes","link":"https://stackoverflow.com/questions/77574753/cucumber-pass-value-between-operation-files#comment136779882_77574753","body":"yes, I pass state between stepDefs via ScenarioContext class, as is mentioned here: <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-picocontainer\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/tree/main/&hellip;</a>  in Belly.java example  but I share state between stepDefs class, not operation.java classes"},{"score":0,"post_type":"question","creation_date":1701447112,"post_id":77574753,"comment_id":136780595,"body_markdown":"Okay. Then you should inject `ScenarioContext` into your operation classes. So don&#39;t use `new ScenarioContext` but let pico container inject it into the operation class. This also means you shouldn&#39;t use `new *Operation` in your `*Steps` classes.","link":"https://stackoverflow.com/questions/77574753/cucumber-pass-value-between-operation-files#comment136780595_77574753","body":"Okay. Then you should inject <code>ScenarioContext</code> into your operation classes. So don&#39;t use <code>new ScenarioContext</code> but let pico container inject it into the operation class. This also means you shouldn&#39;t use <code>new *Operation</code> in your <code>*Steps</code> classes."}],"comment_count":3,"is_answered":false,"view_count":18,"answer_count":0,"score":0,"last_activity_date":1701295650,"creation_date":1701295650,"question_id":77574753,"body_markdown":"So I have java files:\r\n\r\n\r\n```\r\nAuthorizationSteps.java\r\n     AuthorizationOperation.java\r\n\r\nUserSteps.java\r\n   UserOperation.java\r\n\r\n```\r\n\r\n\r\nin `AuthorizationOperation.java` I&#39;m obtaning a token using method `String token = getToken()` and passing to `AuthorizationSteps.java` as returned value. Then using pico container \r\n` scenarioContext.setContext(&quot;token&quot;, token)`; in `AuthorizationSteps.java` I&#39;m saving a token.\r\n\r\nThen in `UserSteps.java`: I&#39;m passing  `scenarioContext.getContext(&quot;token&quot;)`; token value to a method as parameter in `UserOperation.java.`   and this scenario works for me.\r\n\r\nThe question is: Is this possible to pass token from  `AuthorizationOperation.java` to  `UserOperation.java`?\r\n\r\n\r\nEach time when I try: \r\n`ScenarioContext scenarioContext = new ScenarioContext`;  in `UserOperation.java` and `AuthorizationOperation.java`  I&#39;m getting null token value ","link":"https://stackoverflow.com/questions/77574753/cucumber-pass-value-between-operation-files","title":"Cucumber pass value between operation files","body":"<p>So I have java files:</p>\n<pre><code>AuthorizationSteps.java\n     AuthorizationOperation.java\n\nUserSteps.java\n   UserOperation.java\n\n</code></pre>\n<p>in <code>AuthorizationOperation.java</code> I'm obtaning a token using method <code>String token = getToken()</code> and passing to <code>AuthorizationSteps.java</code> as returned value. Then using pico container\n<code> scenarioContext.setContext(&quot;token&quot;, token)</code>; in <code>AuthorizationSteps.java</code> I'm saving a token.</p>\n<p>Then in <code>UserSteps.java</code>: I'm passing  <code>scenarioContext.getContext(&quot;token&quot;)</code>; token value to a method as parameter in <code>UserOperation.java.</code>   and this scenario works for me.</p>\n<p>The question is: Is this possible to pass token from  <code>AuthorizationOperation.java</code> to  <code>UserOperation.java</code>?</p>\n<p>Each time when I try:\n<code>ScenarioContext scenarioContext = new ScenarioContext</code>;  in <code>UserOperation.java</code> and <code>AuthorizationOperation.java</code>  I'm getting null token value</p>\n"},{"tags":["java","linux","javafx","jar","raspberry-pi"],"comments":[{"score":2,"post_type":"question","creation_date":1701077961,"post_id":77555208,"comment_id":136725877,"body_markdown":"You need to use the [JavaFX](https://gluonhq.com/products/javafx/) that is compatible with the host operating system and architecture.","link":"https://stackoverflow.com/questions/77555208/java-jar-hellofx-jar-is-running-on-windows-perfectly-but-not-running-in-linux#comment136725877_77555208","body":"You need to use the <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">JavaFX</a> that is compatible with the host operating system and architecture."},{"score":0,"post_type":"question","creation_date":1701100871,"post_id":77555208,"comment_id":136730266,"body_markdown":"Probable duplicate: [Error: JavaFX runtime components are missing, and are required to run this application with JDK 11](https://stackoverflow.com/questions/51478675/error-javafx-runtime-components-are-missing-and-are-required-to-run-this-appli).","link":"https://stackoverflow.com/questions/77555208/java-jar-hellofx-jar-is-running-on-windows-perfectly-but-not-running-in-linux#comment136730266_77555208","body":"Probable duplicate: <a href=\"https://stackoverflow.com/questions/51478675/error-javafx-runtime-components-are-missing-and-are-required-to-run-this-appli\">Error: JavaFX runtime components are missing, and are required to run this application with JDK 11</a>."},{"score":0,"post_type":"question","creation_date":1701101238,"post_id":77555208,"comment_id":136730343,"body_markdown":"Getting stuff to work on Pi is probably different.  Probably a totally different question (please keep questions focused).  There are probably articles around that describe that process, make sure you use ones that are use modern modular JavaFX distributions if you follow one.  There is [this](https://blogs.oracle.com/javamagazine/post/getting-started-with-javafx-on-raspberry-pi), but it is a bit dated.  Unforunately this [oracle guide](https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/raspberrypifx/raspberryfx.html) is dated.","link":"https://stackoverflow.com/questions/77555208/java-jar-hellofx-jar-is-running-on-windows-perfectly-but-not-running-in-linux#comment136730343_77555208","body":"Getting stuff to work on Pi is probably different.  Probably a totally different question (please keep questions focused).  There are probably articles around that describe that process, make sure you use ones that are use modern modular JavaFX distributions if you follow one.  There is <a href=\"https://blogs.oracle.com/javamagazine/post/getting-started-with-javafx-on-raspberry-pi\" rel=\"nofollow noreferrer\">this</a>, but it is a bit dated.  Unforunately this <a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/raspberrypifx/raspberryfx.html\" rel=\"nofollow noreferrer\">oracle guide</a> is dated."},{"score":0,"post_type":"question","creation_date":1701101378,"post_id":77555208,"comment_id":136730379,"body_markdown":"Gluon provide a [modern guide for JavaFX on embedded systems such as Pi](https://docs.gluonhq.com/#platforms_embedded).","link":"https://stackoverflow.com/questions/77555208/java-jar-hellofx-jar-is-running-on-windows-perfectly-but-not-running-in-linux#comment136730379_77555208","body":"Gluon provide a <a href=\"https://docs.gluonhq.com/#platforms_embedded\" rel=\"nofollow noreferrer\">modern guide for JavaFX on embedded systems such as Pi</a>."},{"score":0,"post_type":"question","creation_date":1701108348,"post_id":77555208,"comment_id":136731689,"body_markdown":"Using `ea` distributions is not recommended.  They are early access distributions, not guaranteed to be stable.","link":"https://stackoverflow.com/questions/77555208/java-jar-hellofx-jar-is-running-on-windows-perfectly-but-not-running-in-linux#comment136731689_77555208","body":"Using <code>ea</code> distributions is not recommended.  They are early access distributions, not guaranteed to be stable."}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701071582,"creation_date":1701071582,"answer_id":77555269,"question_id":77555208,"body_markdown":"Maybe it would help to add to your POM\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n        &lt;version&gt;{YOUR_VERSION}&lt;/version&gt;\r\n        &lt;classifier&gt;linux&lt;/classifier&gt;\r\n    &lt;/dependency&gt;","link":"https://stackoverflow.com/questions/77555208/java-jar-hellofx-jar-is-running-on-windows-perfectly-but-not-running-in-linux/77555269#77555269","title":"java -jar HelloFX.jar is running on windows perfectly, but not running in Linux or Raspberry pi","body":"<p>Maybe it would help to add to your POM</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n    &lt;version&gt;{YOUR_VERSION}&lt;/version&gt;\n    &lt;classifier&gt;linux&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"comment_count":5,"is_answered":true,"view_count":91,"answer_count":1,"score":1,"last_activity_date":1701295000,"creation_date":1701070867,"last_edit_date":1701073153,"question_id":77555208,"body_markdown":"Whenever I run java -jar HelloFX.jar command in Linux or raspberry pi, that application shows the error below, I&#39;m searching for a solution  from the last month over the internet, but not finding any valid solution. But the Jar file is working in different windows with JDK 21. I&#39;ve installed JDK 21 on Raspberry pi and my Linux too, other Java files are working well, but when I try to run JavaFX jar file, it&#39;s show these error.\r\n\r\n```\r\njibon@jibon:~/Desktop $ java -jar HelloFX.jar \r\nNov 27, 2023 1:24:11 PM com.sun.javafx.application.PlatformImpl startup\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @9efff14&#39;\r\nGraphics Device initialization failed for :  es2, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n\tat com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n\tat com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\r\n\tat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:263)\r\n\tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\r\n\tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\r\n\tat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n\tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n\tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n\t... 1 more\r\nException in thread &quot;main&quot; java.lang.RuntimeException: No toolkit found\r\n\tat com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:275)\r\n\tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\r\n\tat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\r\n\tat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n\r\n```\r\n\r\nI&#39;ve used IntelliJ IDE for building the JavaFX applications. As I told you, **it&#39;s working perfectly with different windows. But when I tried to run this on Linux or Raspberry Pi, it&#39;s shows me these errors.**   \r\nPlease give me a perfect solution for this.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/tV3Jo.png)](https://i.stack.imgur.com/tV3Jo.png)\r\n\r\n# Some files\r\n\r\n**POM.XML**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;pro.jibon.apps.hellofx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;HelloFX&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;HelloFX&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pi4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx.Main&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;21&lt;/source&gt;\r\n                    &lt;target&gt;21&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx/pro.jibon.apps.hellofx.hellofx.Main\r\n                            &lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;archive&gt;\r\n                                &lt;manifest&gt;\r\n                                    &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx.Main&lt;/mainClass&gt;\r\n                                &lt;/manifest&gt;\r\n                            &lt;/archive&gt;\r\n                            &lt;descriptorRefs&gt;\r\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                            &lt;/descriptorRefs&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**HelloApplication.java**\r\n\r\n```\r\npackage pro.jibon.apps.hellofx.hellofx;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.input.KeyCombination;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.input.TouchEvent;\r\nimport javafx.stage.Stage;\r\nimport com.pi4j.io.gpio.GpioController;\r\nimport com.pi4j.io.gpio.GpioFactory;\r\nimport com.pi4j.io.gpio.GpioPinDigitalOutput;\r\nimport com.pi4j.io.gpio.PinState;\r\nimport com.pi4j.io.gpio.RaspiPin;\r\nimport javafx.stage.StageStyle;\r\nimport javafx.stage.Window;\r\nimport javafx.stage.WindowEvent;\r\n\r\nimport java.io.IOException;\r\n\r\n\r\npublic class HelloApplication extends Application {\r\n    @FXML\r\n    private Button button1;\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), stage.getMaxWidth(), stage.getMaxHeight());\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.initStyle(StageStyle.UTILITY);\r\n        stage.show();\r\n        button1 = (Button) scene.lookup(&quot;#btn&quot;);\r\n        button1.setText(&quot;Close&quot;);\r\n        button1.setOnAction(mouseEvent -&gt; {\r\n            stage.close();\r\n        });\r\n        stage.setOnCloseRequest(windowEvent -&gt; {\r\n            Alert alert = new Alert(Alert.AlertType.ERROR);\r\n            alert.setTitle(&quot;Wait&quot;);\r\n            alert.setContentText(&quot;Are feeling okay by clicking me huh?&quot;);\r\n            alert.setHeaderText(&quot;WTF yaar!&quot;);\r\n//            alert.show();\r\n            windowEvent.consume();\r\n        });\r\n        stage.setAlwaysOnTop(true);\r\n        stage.setResizable(false);\r\n        stage.setMaximized(true);\r\n        stage.setResizable(false);\r\n        stage.setFullScreen(true);\r\n        stage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);\r\n        stage.fullScreenProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            stage.setFullScreen(true);\r\n        });\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n    public static boolean isRunningOnRaspberryPi() {\r\n        try {\r\n            GpioController gpio = GpioFactory.getInstance();\r\n            gpio.shutdown();\r\n            return true;\r\n        } catch (UnsatisfiedLinkError e) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**HelloView.FXML**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.effect.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;VBox xmlns=&quot;http://javafx.com/javafx/11.0.14-internal&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n     &lt;padding&gt;\r\n         &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n     &lt;/padding&gt;\r\n     &lt;ToolBar nodeOrientation=&quot;LEFT_TO_RIGHT&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n         &lt;items&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n         &lt;/items&gt;\r\n     &lt;/ToolBar&gt;\r\n\r\n     &lt;Label fx:id=&quot;welcomeText&quot; /&gt;\r\n     &lt;Button fx:id=&quot;btn&quot; alignment=&quot;CENTER&quot; text=&quot;Hello!&quot;&gt;\r\n      &lt;effect&gt;\r\n         &lt;Blend /&gt;\r\n      &lt;/effect&gt;\r\n   &lt;/Button&gt;\r\n &lt;/VBox&gt;\r\n```\r\n\r\n**Main.java**\r\n\r\n```\r\npackage pro.jibon.apps.hellofx.hellofx;\r\n\r\nimport pro.jibon.apps.hellofx.hellofx.*\r\n        ;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        HelloApplication.main(args);\r\n    }\r\n}\r\n```\r\n\r\n# Some necessary screenshots\r\n\r\n[![enter image description here](https://i.stack.imgur.com/FUWmF.png)](https://i.stack.imgur.com/FUWmF.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/D7Ui1.png)](https://i.stack.imgur.com/D7Ui1.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/2akYX.png)](https://i.stack.imgur.com/2akYX.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/q6L7r.png)](https://i.stack.imgur.com/q6L7r.png)\r\n\r\n# Output on Windows \r\n\r\n[![enter image description here](https://i.stack.imgur.com/Y2DDQ.png)](https://i.stack.imgur.com/Y2DDQ.png)\r\n\r\n# Output on Linux\r\n\r\n[![enter image description here](https://i.stack.imgur.com/6sIfS.png)](https://i.stack.imgur.com/6sIfS.png)","link":"https://stackoverflow.com/questions/77555208/java-jar-hellofx-jar-is-running-on-windows-perfectly-but-not-running-in-linux","title":"java -jar HelloFX.jar is running on windows perfectly, but not running in Linux or Raspberry pi","body":"<p>Whenever I run java -jar HelloFX.jar command in Linux or raspberry pi, that application shows the error below, I'm searching for a solution  from the last month over the internet, but not finding any valid solution. But the Jar file is working in different windows with JDK 21. I've installed JDK 21 on Raspberry pi and my Linux too, other Java files are working well, but when I try to run JavaFX jar file, it's show these error.</p>\n<pre><code>jibon@jibon:~/Desktop $ java -jar HelloFX.jar \nNov 27, 2023 1:24:11 PM com.sun.javafx.application.PlatformImpl startup\nWARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @9efff14'\nGraphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n    at com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\n    at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:263)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\n    at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n    ... 1 more\nException in thread &quot;main&quot; java.lang.RuntimeException: No toolkit found\n    at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:275)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\n    at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\n    at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:671)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\n\n</code></pre>\n<p>I've used IntelliJ IDE for building the JavaFX applications. As I told you, <strong>it's working perfectly with different windows. But when I tried to run this on Linux or Raspberry Pi, it's shows me these errors.</strong><br />\nPlease give me a perfect solution for this.</p>\n<p><a href=\"https://i.stack.imgur.com/tV3Jo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tV3Jo.png\" alt=\"enter image description here\" /></a></p>\n<h1>Some files</h1>\n<p><strong>POM.XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;pro.jibon.apps.hellofx&lt;/groupId&gt;\n    &lt;artifactId&gt;HelloFX&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;HelloFX&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.pi4j&lt;/groupId&gt;\n            &lt;artifactId&gt;pi4j-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx.Main&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;21&lt;/source&gt;\n                    &lt;target&gt;21&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx/pro.jibon.apps.hellofx.hellofx.Main\n                            &lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;mainClass&gt;pro.jibon.apps.hellofx.hellofx.Main&lt;/mainClass&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>HelloApplication.java</strong></p>\n<pre><code>package pro.jibon.apps.hellofx.hellofx;\n\nimport javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.scene.input.KeyCombination;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.input.TouchEvent;\nimport javafx.stage.Stage;\nimport com.pi4j.io.gpio.GpioController;\nimport com.pi4j.io.gpio.GpioFactory;\nimport com.pi4j.io.gpio.GpioPinDigitalOutput;\nimport com.pi4j.io.gpio.PinState;\nimport com.pi4j.io.gpio.RaspiPin;\nimport javafx.stage.StageStyle;\nimport javafx.stage.Window;\nimport javafx.stage.WindowEvent;\n\nimport java.io.IOException;\n\n\npublic class HelloApplication extends Application {\n    @FXML\n    private Button button1;\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), stage.getMaxWidth(), stage.getMaxHeight());\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.initStyle(StageStyle.UTILITY);\n        stage.show();\n        button1 = (Button) scene.lookup(&quot;#btn&quot;);\n        button1.setText(&quot;Close&quot;);\n        button1.setOnAction(mouseEvent -&gt; {\n            stage.close();\n        });\n        stage.setOnCloseRequest(windowEvent -&gt; {\n            Alert alert = new Alert(Alert.AlertType.ERROR);\n            alert.setTitle(&quot;Wait&quot;);\n            alert.setContentText(&quot;Are feeling okay by clicking me huh?&quot;);\n            alert.setHeaderText(&quot;WTF yaar!&quot;);\n//            alert.show();\n            windowEvent.consume();\n        });\n        stage.setAlwaysOnTop(true);\n        stage.setResizable(false);\n        stage.setMaximized(true);\n        stage.setResizable(false);\n        stage.setFullScreen(true);\n        stage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);\n        stage.fullScreenProperty().addListener((observable, oldValue, newValue) -&gt; {\n            stage.setFullScreen(true);\n        });\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    public static boolean isRunningOnRaspberryPi() {\n        try {\n            GpioController gpio = GpioFactory.getInstance();\n            gpio.shutdown();\n            return true;\n        } catch (UnsatisfiedLinkError e) {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p><strong>HelloView.FXML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.effect.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox xmlns=&quot;http://javafx.com/javafx/11.0.14-internal&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n     &lt;padding&gt;\n         &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n     &lt;/padding&gt;\n     &lt;ToolBar nodeOrientation=&quot;LEFT_TO_RIGHT&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;200.0&quot;&gt;\n         &lt;items&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n             &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n         &lt;/items&gt;\n     &lt;/ToolBar&gt;\n\n     &lt;Label fx:id=&quot;welcomeText&quot; /&gt;\n     &lt;Button fx:id=&quot;btn&quot; alignment=&quot;CENTER&quot; text=&quot;Hello!&quot;&gt;\n      &lt;effect&gt;\n         &lt;Blend /&gt;\n      &lt;/effect&gt;\n   &lt;/Button&gt;\n &lt;/VBox&gt;\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>package pro.jibon.apps.hellofx.hellofx;\n\nimport pro.jibon.apps.hellofx.hellofx.*\n        ;\n\npublic class Main {\n    public static void main(String[] args) {\n        HelloApplication.main(args);\n    }\n}\n</code></pre>\n<h1>Some necessary screenshots</h1>\n<p><a href=\"https://i.stack.imgur.com/FUWmF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FUWmF.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/D7Ui1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D7Ui1.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/2akYX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2akYX.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/q6L7r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q6L7r.png\" alt=\"enter image description here\" /></a></p>\n<h1>Output on Windows</h1>\n<p><a href=\"https://i.stack.imgur.com/Y2DDQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y2DDQ.png\" alt=\"enter image description here\" /></a></p>\n<h1>Output on Linux</h1>\n<p><a href=\"https://i.stack.imgur.com/6sIfS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6sIfS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","try-catch","runtimeexception"],"comments":[{"score":0,"post_type":"question","creation_date":1701154824,"post_id":77561471,"comment_id":136736871,"body_markdown":"The catch-and-throw is completely pointless. Remove.","link":"https://stackoverflow.com/questions/77561471/im-having-a-hard-time-solving-problems-using-try-catch-syntax-in-java#comment136736871_77561471","body":"The catch-and-throw is completely pointless. Remove."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701149683,"post_id":77561485,"comment_id":136736347,"body_markdown":"Actually, I can&#39;t manipulate the &#39;public static void main(String[] args&#39; part of the task, but I don&#39;t think I can do anything other than this method. Thank you!","link":"https://stackoverflow.com/questions/77561471/im-having-a-hard-time-solving-problems-using-try-catch-syntax-in-java/77561485#comment136736347_77561485","body":"Actually, I can&#39;t manipulate the &#39;public static void main(String[] args&#39; part of the task, but I don&#39;t think I can do anything other than this method. Thank you!"}],"comment_count":1,"score":2,"last_activity_date":1701148981,"last_edit_date":1701148981,"creation_date":1701148443,"answer_id":77561485,"question_id":77561471,"body_markdown":"To prevent the program from exiting after the first error, you should use a [try-catch block][1] on the calls themselves, not inside the function where they&#39;re thrown. If you handle them in the same place you throw them, you may as well not be throwing them at all, and if you try and handle all three function calls within the same try-catch block, it will exit after the first error.\r\n```java\r\nimport java.lang.*;\r\n\r\nclass Main {\r\n    public static String len_check(String str) {\r\n        if (str.length() &gt; 20) {\r\n            throw new RuntimeException(&quot;Length is greater than 20&quot;);\r\n        } else if (str == null) {\r\n            throw new RuntimeException(&quot;null&quot;);\r\n        } else {\r\n            return str;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\r\n        } catch (Exception e) {\r\n            e.printStackTrace()\r\n        }\r\n\r\n        try {\r\n            System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\r\n        } catch (Exception e) {\r\n            e.printStackTrace()\r\n        }\r\n\r\n        try {\r\n            System.out.println(len_check(null));\r\n        } catch (Exception e) {\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_try_catch.asp","link":"https://stackoverflow.com/questions/77561471/im-having-a-hard-time-solving-problems-using-try-catch-syntax-in-java/77561485#77561485","title":"I&#39;m having a hard time solving problems using try-catch syntax in Java","body":"<p>To prevent the program from exiting after the first error, you should use a <a href=\"https://www.w3schools.com/java/java_try_catch.asp\" rel=\"nofollow noreferrer\">try-catch block</a> on the calls themselves, not inside the function where they're thrown. If you handle them in the same place you throw them, you may as well not be throwing them at all, and if you try and handle all three function calls within the same try-catch block, it will exit after the first error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.*;\n\nclass Main {\n    public static String len_check(String str) {\n        if (str.length() &gt; 20) {\n            throw new RuntimeException(&quot;Length is greater than 20&quot;);\n        } else if (str == null) {\n            throw new RuntimeException(&quot;null&quot;);\n        } else {\n            return str;\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\n        } catch (Exception e) {\n            e.printStackTrace()\n        }\n\n        try {\n            System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\n        } catch (Exception e) {\n            e.printStackTrace()\n        }\n\n        try {\n            System.out.println(len_check(null));\n        } catch (Exception e) {\n            e.printStackTrace()\n        }\n    }\n}\n</code></pre>\n"},{"comment_count":0,"score":0,"last_activity_date":1701294035,"last_edit_date":1701294035,"creation_date":1701154160,"answer_id":77561820,"question_id":77561471,"body_markdown":"The _[try-catch](https://docs.oracle.com/javase/tutorial/essential/exceptions/handling.html)_ block isn&#39;t necessary in the _len_check_ method.\\\r\nAnd, you&#39;ll need to re-factor the _if-statements_, checking _null_ first.\r\n\r\n```java\r\nstatic String len_check(String str) {\r\n    if (str == null) throw new RuntimeException(&quot;null&quot;);\r\n    else if (str.length() &gt; 20)\r\n        throw new RuntimeException(&quot;Length is greater than 20&quot;);\r\n    return str;\r\n}\r\n```\r\n\r\nIf you want to test different values, you&#39;ll need to contain each _len_check_ call within a _try-catch_.\r\n\r\n```java\r\ntry {\r\n    System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\ntry {\r\n    System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\ntry {\r\n    System.out.println(len_check(null));\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nabcdefghijklmnopqrs\r\njava.lang.RuntimeException: Length is greater than 20\r\n\tat Main.len_check(Main.java:17)\r\n\tat Main.main(Main.java:8)\r\njava.lang.RuntimeException: null\r\n\tat Main.len_check(Main.java:15)\r\n\tat Main.main(Main.java:8)\r\n```","link":"https://stackoverflow.com/questions/77561471/im-having-a-hard-time-solving-problems-using-try-catch-syntax-in-java/77561820#77561820","title":"I&#39;m having a hard time solving problems using try-catch syntax in Java","body":"<p>The <em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/handling.html\" rel=\"nofollow noreferrer\">try-catch</a></em> block isn't necessary in the <em>len_check</em> method.<br />\nAnd, you'll need to re-factor the <em>if-statements</em>, checking <em>null</em> first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String len_check(String str) {\n    if (str == null) throw new RuntimeException(&quot;null&quot;);\n    else if (str.length() &gt; 20)\n        throw new RuntimeException(&quot;Length is greater than 20&quot;);\n    return str;\n}\n</code></pre>\n<p>If you want to test different values, you'll need to contain each <em>len_check</em> call within a <em>try-catch</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\n} catch (Exception e) {\n    e.printStackTrace();\n}\ntry {\n    System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\n} catch (Exception e) {\n    e.printStackTrace();\n}\ntry {\n    System.out.println(len_check(null));\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>abcdefghijklmnopqrs\njava.lang.RuntimeException: Length is greater than 20\n    at Main.len_check(Main.java:17)\n    at Main.main(Main.java:8)\njava.lang.RuntimeException: null\n    at Main.len_check(Main.java:15)\n    at Main.main(Main.java:8)\n</code></pre>\n"}],"comment_count":1,"is_answered":true,"view_count":71,"answer_count":2,"score":0,"last_activity_date":1701294035,"creation_date":1701147979,"last_edit_date":1701148468,"question_id":77561471,"body_markdown":"If the length of the string exceeds 20 because the string is inputted with str\r\n\r\nGenerates RuntimeException with string &quot;More than 20 words&quot;\r\n\r\nIf str is null, it will generate RuntimeException with string &quot;null&quot;\r\n\r\nIf this is not the case in either case, write a len_check function that returns the received string as it is.\r\n\r\nExample output.\r\n\r\n```\r\nSystem.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));\r\n```\r\n\r\n```\r\nabcdefghijklmnopqrs\r\n```\r\n\r\n```\r\nSystem.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: More than 20 words\r\n\tat ...\r\n```\r\n\r\n```\r\nSystem.out.println(len_check(null));\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: null\r\n\tat ...\r\n```\r\n\r\n```java\r\nimport java.lang.*;\r\n\r\nclass Main {\r\n\r\n\tpublic static String len_check(String str) {\r\n\t\ttry {\r\n\t\t\tif (str.length() &gt; 20) {\r\n\t\t\t\tthrow new RuntimeException(&quot;Length is greater than 20&quot;);\r\n\t\t\t} else if (str == null) {\r\n\t\t\t\tthrow new RuntimeException(&quot;null&quot;);\r\n\t\t\t} else {\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t} catch (RuntimeException e) {\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\r\n\t\tSystem.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\r\n\t\tSystem.out.println(len_check(null));\r\n\t}\r\n}\r\n```\r\n\r\nAn error occurs in the second print statement while being output (this is my intended error) and stops. I want it to be printed out until the last error.","link":"https://stackoverflow.com/questions/77561471/im-having-a-hard-time-solving-problems-using-try-catch-syntax-in-java","title":"I&#39;m having a hard time solving problems using try-catch syntax in Java","body":"<p>If the length of the string exceeds 20 because the string is inputted with str</p>\n<p>Generates RuntimeException with string &quot;More than 20 words&quot;</p>\n<p>If str is null, it will generate RuntimeException with string &quot;null&quot;</p>\n<p>If this is not the case in either case, write a len_check function that returns the received string as it is.</p>\n<p>Example output.</p>\n<pre><code>System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));\n</code></pre>\n<pre><code>abcdefghijklmnopqrs\n</code></pre>\n<pre><code>System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: More than 20 words\n    at ...\n</code></pre>\n<pre><code>System.out.println(len_check(null));\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: null\n    at ...\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.*;\n\nclass Main {\n\n    public static String len_check(String str) {\n        try {\n            if (str.length() &gt; 20) {\n                throw new RuntimeException(&quot;Length is greater than 20&quot;);\n            } else if (str == null) {\n                throw new RuntimeException(&quot;null&quot;);\n            } else {\n                return str;\n            }\n        } catch (RuntimeException e) {\n            throw e;\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(len_check(&quot;abcdefghijklmnopqrs&quot;));// abcdefghijklmnopqrs\n        System.out.println(len_check(&quot;abcdefghijklmnopqrsuvw&quot;));\n        System.out.println(len_check(null));\n    }\n}\n</code></pre>\n<p>An error occurs in the second print statement while being output (this is my intended error) and stops. I want it to be printed out until the last error.</p>\n"},{"tags":["java","spring-boot","azure","azure-active-directory"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1700557000,"creation_date":1700557000,"answer_id":77521491,"question_id":77507098,"body_markdown":"You have followed the steps to generate a certificate, uploaded it to Azure, and configured your `application.yml` with the public key, but you are receiving an error stating that the &#39;client_id&#39; parameter is missing.\r\n\r\nFrom the error message in the last screenshot, it seems that the AzureAD authentication process is not receiving the `client_id` parameter as part of the request, as in [this question](https://stackoverflow.com/q/69393785/6309) or [this one](https://stackoverflow.com/a/72572698/6309).  \r\n\r\n\r\nFrom your `application.yml`, I have a few suggestions:\r\n\r\n- The `provider` under `registration` should match the name of the provider under `provider`. In your configuration, the provider is named `azure` in both sections, which is correct. But make sure this consistency is maintained throughout the application.\r\n\r\n- The scopes specified under `registration` are typically correct for OpenID Connect (`openid`, `email`, `profile`). Check that the scopes align with what your application requires and what Azure AD is configured to allow.\r\n\r\n- The `jwt.key-set-uri` under `provider` should be unnecessary in the context of client authentication using `private_key_jwt`. That setting is typically used by resource servers to validate JWTs, not by clients to authenticate to the authorization server.\r\n\r\n- If using `private_key_jwt` for authentication, the `client-secret` should not be present, as this authentication method uses a private key instead of a client secret. (as confirmed in &quot;[How to Get an Azure Access Token Using Self-signed Certificate with Spring Boot](https://medium.com/codex/how-to-get-an-azure-access-token-using-self-signed-certificate-with-spring-boot-140dac047454)&quot; from [Milos Zivkovic](https://medium.com/@zivce/about))\r\n\r\n\r\n- The Baeldung guide mentions setting up redirection URIs for the authorization code flow, but this is not directly represented in the `application.yml`. If using the authorization code flow, make sure the redirect URIs are correctly configured in the Azure AD application registration and, if necessary, specified in your Spring Security configuration.\r\n   ```yaml\r\n   # This is an optional setting depending on your setup\r\n   registration:\r\n     azure-dev:\r\n       redirect-uri: &quot;{baseUrl}/login/oauth2/code/{registrationId}&quot;\r\n   ```\r\n\r\n- Make sure the URLs for `issuer-uri` and `jwk-set-uri` are correctly typed and match your Azure AD configuration. Typographical errors in URLs can lead to failures in fetching the necessary metadata and keys.\r\n\r\n- If you are using `private_key_jwt`, make sure Azure AD is configured to accept a JWT signed with your private key as a means of client authentication.\r\n\r\n- Depending on the OAuth flow you are using (e.g., authorization code vs. client credentials), make sure the `authorization-grant-type` is correctly specified in the `registration` section. That is not included in the provided configuration but is necessary for some OAuth flows.\r\n   ```yaml\r\n   registration:\r\n     azure-dev:\r\n       authorization-grant-type: authorization_code\r\n       # Use &quot;client_credentials&quot; for service-to-service communication\r\n   ```\r\n","link":"https://stackoverflow.com/questions/77507098/azuread-configuration-with-public-key-authentication-on-spring-boot/77521491#77521491","title":"AzureAD configuration with public key authentication on Spring Boot","body":"<p>You have followed the steps to generate a certificate, uploaded it to Azure, and configured your <code>application.yml</code> with the public key, but you are receiving an error stating that the 'client_id' parameter is missing.</p>\n<p>From the error message in the last screenshot, it seems that the AzureAD authentication process is not receiving the <code>client_id</code> parameter as part of the request, as in <a href=\"https://stackoverflow.com/q/69393785/6309\">this question</a> or <a href=\"https://stackoverflow.com/a/72572698/6309\">this one</a>.</p>\n<p>From your <code>application.yml</code>, I have a few suggestions:</p>\n<ul>\n<li><p>The <code>provider</code> under <code>registration</code> should match the name of the provider under <code>provider</code>. In your configuration, the provider is named <code>azure</code> in both sections, which is correct. But make sure this consistency is maintained throughout the application.</p>\n</li>\n<li><p>The scopes specified under <code>registration</code> are typically correct for OpenID Connect (<code>openid</code>, <code>email</code>, <code>profile</code>). Check that the scopes align with what your application requires and what Azure AD is configured to allow.</p>\n</li>\n<li><p>The <code>jwt.key-set-uri</code> under <code>provider</code> should be unnecessary in the context of client authentication using <code>private_key_jwt</code>. That setting is typically used by resource servers to validate JWTs, not by clients to authenticate to the authorization server.</p>\n</li>\n<li><p>If using <code>private_key_jwt</code> for authentication, the <code>client-secret</code> should not be present, as this authentication method uses a private key instead of a client secret. (as confirmed in &quot;<a href=\"https://medium.com/codex/how-to-get-an-azure-access-token-using-self-signed-certificate-with-spring-boot-140dac047454\" rel=\"nofollow noreferrer\">How to Get an Azure Access Token Using Self-signed Certificate with Spring Boot</a>&quot; from <a href=\"https://medium.com/@zivce/about\" rel=\"nofollow noreferrer\">Milos Zivkovic</a>)</p>\n</li>\n<li><p>The Baeldung guide mentions setting up redirection URIs for the authorization code flow, but this is not directly represented in the <code>application.yml</code>. If using the authorization code flow, make sure the redirect URIs are correctly configured in the Azure AD application registration and, if necessary, specified in your Spring Security configuration.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># This is an optional setting depending on your setup\nregistration:\n   azure-dev:\n     redirect-uri: &quot;{baseUrl}/login/oauth2/code/{registrationId}&quot;\n</code></pre>\n</li>\n<li><p>Make sure the URLs for <code>issuer-uri</code> and <code>jwk-set-uri</code> are correctly typed and match your Azure AD configuration. Typographical errors in URLs can lead to failures in fetching the necessary metadata and keys.</p>\n</li>\n<li><p>If you are using <code>private_key_jwt</code>, make sure Azure AD is configured to accept a JWT signed with your private key as a means of client authentication.</p>\n</li>\n<li><p>Depending on the OAuth flow you are using (e.g., authorization code vs. client credentials), make sure the <code>authorization-grant-type</code> is correctly specified in the <code>registration</code> section. That is not included in the provided configuration but is necessary for some OAuth flows.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>registration:\n   azure-dev:\n     authorization-grant-type: authorization_code\n     # Use &quot;client_credentials&quot; for service-to-service communication\n</code></pre>\n</li>\n</ul>\n"},{"comment_count":0,"score":1,"last_activity_date":1701077936,"creation_date":1701077936,"answer_id":77555862,"question_id":77507098,"body_markdown":"Since your error message complains about not having `client-id` in request body, I&#39;d suggest you to set the `client-authentication-method` parameter (next to the `client-id` property) in your `application.yml` file to `client_secret_post`.\r\n\r\nBy looking at `org.springframework.security.oauth2.client.endpoint.OAuth2ClientCredentialsGrantRequestEntityConverter.createParameters(OAuth2ClientCredentialsGrantRequest)` method, by setting this parameter, it&#39;ll send the client_id in request body\r\n\r\n```java\r\n\t@Override\r\n\tprotected MultiValueMap&lt;String, String&gt; createParameters(\r\n\t\t\tOAuth2ClientCredentialsGrantRequest clientCredentialsGrantRequest) {\r\n\t\tClientRegistration clientRegistration = clientCredentialsGrantRequest.getClientRegistration();\r\n\t\tMultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\r\n\t\tparameters.add(OAuth2ParameterNames.GRANT_TYPE, clientCredentialsGrantRequest.getGrantType().getValue());\r\n\t\tif (!CollectionUtils.isEmpty(clientRegistration.getScopes())) {\r\n\t\t\tparameters.add(OAuth2ParameterNames.SCOPE,\r\n\t\t\t\t\tStringUtils.collectionToDelimitedString(clientRegistration.getScopes(), &quot; &quot;));\r\n\t\t}\r\n        \r\n        // HERE IS THE SPRING MAGIC :)\r\n\t\tif (ClientAuthenticationMethod.CLIENT_SECRET_POST.equals(clientRegistration.getClientAuthenticationMethod())) {\r\n\t\t\tparameters.add(OAuth2ParameterNames.CLIENT_ID, clientRegistration.getClientId());\r\n\t\t\tparameters.add(OAuth2ParameterNames.CLIENT_SECRET, clientRegistration.getClientSecret());\r\n\t\t}\r\n\t\treturn parameters;\r\n\t}\r\n```\r\n\r\nSame logic applies to other related classes : \r\n\r\n - `org.springframework.security.oauth2.client.endpoint.OAuth2AuthorizationCodeGrantRequestEntityConverter`\r\n - `org.springframework.security.oauth2.client.endpoint.OAuth2PasswordGrantRequestEntityConverter`\r\n - `org.springframework.security.oauth2.client.endpoint.OAuth2RefreshTokenGrantRequestEntityConverter`\r\n\r\nHope it&#39;ll solve your problem","link":"https://stackoverflow.com/questions/77507098/azuread-configuration-with-public-key-authentication-on-spring-boot/77555862#77555862","title":"AzureAD configuration with public key authentication on Spring Boot","body":"<p>Since your error message complains about not having <code>client-id</code> in request body, I'd suggest you to set the <code>client-authentication-method</code> parameter (next to the <code>client-id</code> property) in your <code>application.yml</code> file to <code>client_secret_post</code>.</p>\n<p>By looking at <code>org.springframework.security.oauth2.client.endpoint.OAuth2ClientCredentialsGrantRequestEntityConverter.createParameters(OAuth2ClientCredentialsGrantRequest)</code> method, by setting this parameter, it'll send the client_id in request body</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected MultiValueMap&lt;String, String&gt; createParameters(\n            OAuth2ClientCredentialsGrantRequest clientCredentialsGrantRequest) {\n        ClientRegistration clientRegistration = clientCredentialsGrantRequest.getClientRegistration();\n        MultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\n        parameters.add(OAuth2ParameterNames.GRANT_TYPE, clientCredentialsGrantRequest.getGrantType().getValue());\n        if (!CollectionUtils.isEmpty(clientRegistration.getScopes())) {\n            parameters.add(OAuth2ParameterNames.SCOPE,\n                    StringUtils.collectionToDelimitedString(clientRegistration.getScopes(), &quot; &quot;));\n        }\n        \n        // HERE IS THE SPRING MAGIC :)\n        if (ClientAuthenticationMethod.CLIENT_SECRET_POST.equals(clientRegistration.getClientAuthenticationMethod())) {\n            parameters.add(OAuth2ParameterNames.CLIENT_ID, clientRegistration.getClientId());\n            parameters.add(OAuth2ParameterNames.CLIENT_SECRET, clientRegistration.getClientSecret());\n        }\n        return parameters;\n    }\n</code></pre>\n<p>Same logic applies to other related classes :</p>\n<ul>\n<li><code>org.springframework.security.oauth2.client.endpoint.OAuth2AuthorizationCodeGrantRequestEntityConverter</code></li>\n<li><code>org.springframework.security.oauth2.client.endpoint.OAuth2PasswordGrantRequestEntityConverter</code></li>\n<li><code>org.springframework.security.oauth2.client.endpoint.OAuth2RefreshTokenGrantRequestEntityConverter</code></li>\n</ul>\n<p>Hope it'll solve your problem</p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1701293928,"post_id":77560193,"comment_id":136759420,"body_markdown":"@casper The fact that the bounty ended is not important: please, if you have a chance, test the linked example code: I tested myself and it works perfectly. I hope it would be of help to you as well.","link":"https://stackoverflow.com/questions/77507098/azuread-configuration-with-public-key-authentication-on-spring-boot/77560193#comment136759420_77560193","body":"@casper The fact that the bounty ended is not important: please, if you have a chance, test the linked example code: I tested myself and it works perfectly. I hope it would be of help to you as well."}],"comment_count":1,"score":1,"last_activity_date":1701124423,"last_edit_date":1701124423,"creation_date":1701122739,"answer_id":77560193,"question_id":77507098,"body_markdown":"The [Microsoft documentation](https://learn.microsoft.com/en-us/entra/identity-platform/v2-oauth2-client-creds-grant-flow#second-case-access-token-request-with-a-certificate) describes the necessary information that should be provided in order to perform an access token request with a certificate.\r\n\r\nYou need to perform a HTTP request like the following:\r\n\r\n```\r\nPOST /{tenant}/oauth2/v2.0/token HTTP/1.1               // Line breaks for clarity\r\nHost: login.microsoftonline.com:443\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\nscope=https%3A%2F%2Fgraph.microsoft.com%2F.default\r\n&amp;client_id=97e0a5b7-d745-40b6-94fe-5f77d35c6e05\r\n&amp;client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer\r\n&amp;client_assertion=eyJhbGciOiJSUzI1NiIsIng1dCI6Imd4OHRHeXN5amNScUtqRlBuZDdSRnd2d1pJMCJ9.eyJ{a lot of characters here}M8U3bSUKKJDEg\r\n&amp;grant_type=client_credentials\r\n```\r\n\r\nIn addition to the Entra ID tenant and the app client id, you need to indicate the client assertion type, it is a constant value, and a client assertion.\r\n\r\nThe client assertion is a JSON web token created and signed with the certificate registered as credentials for the application in the Azure Portal.\r\n\r\nThe characteristics of this JSON web token are described in detail [here](https://learn.microsoft.com/en-us/entra/identity-platform/certificate-credentials).\r\n\r\nUsing this type of authentication mechanism with Spring Boot is not obvious but fortunately you can find different examples that exemplifies how to that.\r\n\r\nConsider for instance [this excellent one](https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt) provided as part of the azure samples repository in Github.\r\n\r\nBasically, it defines a set of [helper classes](https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory), especially [one](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory/AzureActiveDirectoryJwtClientAuthenticationParametersConverter.java) defined in order to provide the `client_assertion` and `client_assertion_type` parameters when performing the request:\r\n\r\n```java\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.core.convert.converter.Converter;\r\nimport org.springframework.security.oauth2.client.endpoint.AbstractOAuth2AuthorizationGrantRequest;\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\r\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\r\nimport org.springframework.security.oauth2.core.endpoint.OAuth2ParameterNames;\r\nimport org.springframework.util.Assert;\r\nimport org.springframework.util.LinkedMultiValueMap;\r\nimport org.springframework.util.MultiValueMap;\r\n\r\nimport java.util.Map;\r\n\r\npublic class AzureActiveDirectoryJwtClientAuthenticationParametersConverter&lt;T extends AbstractOAuth2AuthorizationGrantRequest&gt;\r\n    implements Converter&lt;T, MultiValueMap&lt;String, String&gt;&gt; {\r\n\r\n    private final static Logger LOGGER =\r\n        LoggerFactory.getLogger(AzureActiveDirectoryJwtClientAuthenticationParametersConverter.class);\r\n    private static final String CLIENT_ASSERTION_TYPE_VALUE = &quot;urn:ietf:params:oauth:client-assertion-type:jwt-bearer&quot;;\r\n\r\n    private final Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories;\r\n\r\n    public AzureActiveDirectoryJwtClientAuthenticationParametersConverter(\r\n        Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories) {\r\n        this.factories = factories;\r\n    }\r\n\r\n    @Override\r\n    public MultiValueMap&lt;String, String&gt; convert(T authorizationGrantRequest) {\r\n        Assert.notNull(authorizationGrantRequest, &quot;authorizationGrantRequest cannot be null&quot;);\r\n\r\n        ClientRegistration registration = authorizationGrantRequest.getClientRegistration();\r\n        ClientAuthenticationMethod method = registration.getClientAuthenticationMethod();\r\n        if (!ClientAuthenticationMethod.PRIVATE_KEY_JWT.equals(registration.getClientAuthenticationMethod())) {\r\n            return null;\r\n        }\r\n\r\n        try {\r\n            return createParameters(registration);\r\n        } catch (AzureActiveDirectoryAssertionException exception) {\r\n            LOGGER.error(&quot;Failed to create parameters.&quot;, exception);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private MultiValueMap&lt;String, String&gt; createParameters(ClientRegistration registration) throws AzureActiveDirectoryAssertionException {\r\n        MultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\r\n        parameters.set(OAuth2ParameterNames.CLIENT_ASSERTION_TYPE, CLIENT_ASSERTION_TYPE_VALUE);\r\n        parameters.set(OAuth2ParameterNames.CLIENT_ASSERTION, createAssertion(registration));\r\n        return parameters;\r\n    }\r\n\r\n    private String createAssertion(ClientRegistration registration) throws AzureActiveDirectoryAssertionException {\r\n        return factories.get(registration.getRegistrationId()).createJwtAssertion();\r\n    }\r\n}\r\n```\r\n\r\nand [another one](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory/AzureActiveDirectoryCertificateSignedJwtAssertionFactory.java) used to generate the appropriate JWT web token:\r\n\r\n```java\r\nimport com.nimbusds.jose.JOSEException;\r\nimport com.nimbusds.jose.JOSEObjectType;\r\nimport com.nimbusds.jose.JWSAlgorithm;\r\nimport com.nimbusds.jose.JWSHeader;\r\nimport com.nimbusds.jose.JWSSigner;\r\nimport com.nimbusds.jose.crypto.factories.DefaultJWSSignerFactory;\r\nimport com.nimbusds.jose.jwk.JWK;\r\nimport com.nimbusds.jose.jwk.RSAKey;\r\nimport com.nimbusds.jose.util.Base64URL;\r\nimport com.nimbusds.jwt.JWTClaimsSet;\r\nimport com.nimbusds.jwt.SignedJWT;\r\nimport org.springframework.util.Assert;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.security.KeyStore;\r\nimport java.security.KeyStoreException;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.PrivateKey;\r\nimport java.security.PublicKey;\r\nimport java.security.UnrecoverableKeyException;\r\nimport java.security.cert.CertificateEncodingException;\r\nimport java.security.cert.CertificateException;\r\nimport java.security.cert.X509Certificate;\r\nimport java.security.interfaces.RSAPublicKey;\r\nimport java.util.Date;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * A factory used to create Microsoft Entra JWT assertion signed with a certificate.\r\n *\r\n * @author Rujun Chen\r\n * @see &lt;a href=&quot;https://docs.microsoft.com/azure/active-directory/develop/active-directory-certificate-credentials&quot;&gt;\r\n * Certificate credentials&lt;/a&gt;\r\n * @since 2022-02-18\r\n */\r\npublic class AzureActiveDirectoryCertificateSignedJwtAssertionFactory {\r\n\r\n    private final JWSSigner signer;\r\n    private final JWSHeader header;\r\n    private final JWTClaimsSet templateClaims;\r\n\r\n    /**\r\n     * @param file Path of certificate file. The file should contain encrypted private key and certificate.\r\n     * And the file name should have &quot;.pfx&quot; as suffix.\r\n     * @param password The password of the encrypted private key in certificate file.\r\n     * @throws AzureActiveDirectoryAssertionException if failed to create factory.\r\n     */\r\n    public AzureActiveDirectoryCertificateSignedJwtAssertionFactory(String file, String password, String tenantId,\r\n                                                                    String clientId) throws AzureActiveDirectoryAssertionException {\r\n        try {\r\n            String fileExtension = file.substring(file.lastIndexOf(&quot;.&quot;) + 1);\r\n            Assert.isTrue(&quot;pfx&quot;.equals(fileExtension), &quot;Only support file with &#39;.pfx&#39; extension.&quot;);\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            keyStore.load(new FileInputStream(file), password.toCharArray());\r\n            String alias = keyStore.aliases().nextElement();\r\n            PrivateKey privateKey = (PrivateKey) keyStore.getKey(alias, password.toCharArray());\r\n            X509Certificate x509Certificate = (X509Certificate) keyStore.getCertificate(alias);\r\n            PublicKey publicKey = x509Certificate.getPublicKey();\r\n            signer = createJWSSigner(publicKey, privateKey);\r\n            header = createJWSHeader(x509Certificate);\r\n            templateClaims = createTemplateJWTClaims(tenantId, clientId);\r\n        } catch (KeyStoreException | IOException | CertificateException | NoSuchAlgorithmException |\r\n            UnrecoverableKeyException | JOSEException exception) {\r\n            throw new AzureActiveDirectoryAssertionException(&quot;Failed to create factory.&quot;, exception);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create JWT assertion\r\n     *\r\n     * @throws AzureActiveDirectoryAssertionException If failed to create assertion.\r\n     */\r\n    public String createJwtAssertion() throws AzureActiveDirectoryAssertionException {\r\n        JWTClaimsSet claims = createJWTClaimsSet();\r\n        SignedJWT signedJwt = new SignedJWT(header, claims);\r\n        try {\r\n            signedJwt.sign(signer);\r\n        } catch (JOSEException exception) {\r\n            throw new AzureActiveDirectoryAssertionException(&quot;Failed to sign JWT.&quot;, exception);\r\n        }\r\n        return signedJwt.serialize();\r\n    }\r\n\r\n    private JWSSigner createJWSSigner(PublicKey publicKey, PrivateKey privateKey) throws JOSEException {\r\n        // Microsoft Entra ID currently supports only RSA.\r\n        // Refs: https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-self-signed-certificate\r\n        JWK jwk = new RSAKey.Builder((RSAPublicKey) publicKey)\r\n            .privateKey(privateKey)\r\n            .keyID(UUID.randomUUID().toString())\r\n            .build();\r\n        return new DefaultJWSSignerFactory().createJWSSigner(jwk);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    private JWSHeader createJWSHeader(X509Certificate x509Certificate) throws CertificateEncodingException,\r\n        NoSuchAlgorithmException {\r\n        return new JWSHeader.Builder(JWSAlgorithm.RS256)\r\n            .type(JOSEObjectType.JWT)\r\n            .x509CertThumbprint(Base64URL.encode(getX5t(x509Certificate)))\r\n            .build();\r\n    }\r\n\r\n    private byte[] getX5t(X509Certificate cert)\r\n        throws NoSuchAlgorithmException, CertificateEncodingException {\r\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n        byte[] der = cert.getEncoded();\r\n        digest.update(der);\r\n        return digest.digest();\r\n    }\r\n\r\n    private JWTClaimsSet createTemplateJWTClaims(String tenantId, String clientId) {\r\n        return new JWTClaimsSet.Builder()\r\n            .audience(String.format(&quot;https://login.microsoftonline.com/%s/v2.0&quot;, tenantId))\r\n            .issuer(clientId)\r\n            .subject(clientId)\r\n            .build();\r\n    }\r\n\r\n    private JWTClaimsSet createJWTClaimsSet() {\r\n        Date currentTime = new Date();\r\n        return new JWTClaimsSet.Builder(templateClaims)\r\n            .expirationTime(Date.from(currentTime.toInstant().plusSeconds(300))) // 5 minutes after currentTime.\r\n            .jwtID(UUID.randomUUID().toString())\r\n            .notBeforeTime(currentTime)\r\n            .issueTime(currentTime)\r\n            .build();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n[This configuration class](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/configuration/WebSecurityConfiguration.java) glues everything together:\r\n\r\n```java\r\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryAssertionException;\r\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryCertificateSignedJwtAssertionFactory;\r\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryJwtClientAuthenticationParametersConverter;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient;\r\nimport org.springframework.security.oauth2.client.endpoint.OAuth2AuthorizationCodeGrantRequestEntityConverter;\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\r\nimport org.springframework.util.StringUtils;\r\n\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\n@EnableWebSecurity\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    private static final Pattern ISSUER_URI_PATTERN = Pattern.compile(&quot;https://login.microsoftonline.com/(.*?)/v2.0&quot;);\r\n\r\n    private final Environment environment;\r\n    private final ClientRegistrationRepository repository;\r\n\r\n    public WebSecurityConfiguration(Environment environment, ClientRegistrationRepository repository) {\r\n        this.environment = environment;\r\n        this.repository = repository;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        // @formatter:off\r\n        http.oauth2Login()\r\n                .tokenEndpoint()\r\n                  // Please, note the name of the client provided, \r\n                  // as we will see it will match the one in the configuration\r\n                    .accessTokenResponseClient(accessTokenResponseClient(Collections.singletonList(&quot;client-1&quot;), repository))\r\n                    .and()\r\n                .and()\r\n            .authorizeRequests()\r\n                .anyRequest().authenticated();\r\n        // @formatter:off\r\n    }\r\n\r\n    private DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient(\r\n        List&lt;String&gt; registrationIds, ClientRegistrationRepository repository\r\n    ) throws AzureActiveDirectoryAssertionException {\r\n        OAuth2AuthorizationCodeGrantRequestEntityConverter converter =\r\n            new OAuth2AuthorizationCodeGrantRequestEntityConverter();\r\n        converter.addParametersConverter(\r\n            new AzureActiveDirectoryJwtClientAuthenticationParametersConverter&lt;&gt;(createFactoryMap(registrationIds, repository)));\r\n        DefaultAuthorizationCodeTokenResponseClient client = new DefaultAuthorizationCodeTokenResponseClient();\r\n        client.setRequestEntityConverter(converter);\r\n        return client;\r\n    }\r\n\r\n    private Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; createFactoryMap(\r\n        List&lt;String&gt; registrationIds, ClientRegistrationRepository repository\r\n    ) throws AzureActiveDirectoryAssertionException {\r\n        Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories = new HashMap&lt;&gt;();\r\n        for (String registrationId: registrationIds) {\r\n            AzureActiveDirectoryCertificateSignedJwtAssertionFactory factory = createFactory(registrationId, repository);\r\n            if (factory != null) {\r\n                factories.put(registrationId, factory);\r\n            }\r\n        }\r\n        return factories;\r\n    }\r\n\r\n    private AzureActiveDirectoryCertificateSignedJwtAssertionFactory createFactory(\r\n        String registrationId, ClientRegistrationRepository repository\r\n    ) throws AzureActiveDirectoryAssertionException {\r\n        String clientCertificatePath = environment.getProperty(\r\n            String.format(&quot;spring.security.oauth2.client.registration.%s.client-certificate-path&quot;, registrationId));\r\n        if (!StringUtils.hasText(clientCertificatePath)) {\r\n            return null;\r\n        }\r\n        String clientCertificatePassword = environment.getProperty(\r\n            String.format(&quot;spring.security.oauth2.client.registration.%s.client-certificate-password&quot;, registrationId));\r\n        if (!StringUtils.hasText(clientCertificatePassword)) {\r\n            return null;\r\n        }\r\n        ClientRegistration registration = repository.findByRegistrationId(registrationId);\r\n        String tenantId = getTenantIdFromIssuerUri(registration.getProviderDetails().getIssuerUri());\r\n        String clientId = registration.getClientId();\r\n        return new AzureActiveDirectoryCertificateSignedJwtAssertionFactory(\r\n            clientCertificatePath, clientCertificatePassword, tenantId, clientId);\r\n    }\r\n\r\n    static String getTenantIdFromIssuerUri(String issuerUri) {\r\n        Matcher matcher = ISSUER_URI_PATTERN.matcher(issuerUri);\r\n        if (matcher.find()) {\r\n            return matcher.group(1);\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nPlease, pay especial attention to the `accessTokenResponseClient` method.\r\n\r\nFinally, [this](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/resources/application.yml) is the relevant configuration:\r\n\r\n```yaml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider: # Refs: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2login-common-oauth2-provider\r\n          azure-active-directory:\r\n            issuer-uri: https://login.microsoftonline.com/${tenant-id}/v2.0 # Refs: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#webflux-oauth2-login-openid-provider-configuration\r\n        registration:\r\n          client-1:\r\n            provider: azure-active-directory\r\n            client-id: ${client-1-client-id}\r\n            client-authentication-method: private_key_jwt\r\n            client-certificate-path: ${client-1-certificate-path}\r\n            client-certificate-password: ${client-1-certificate-password}\r\n            scope: openid, profile\r\n            redirect-uri: http://localhost:8080/login/oauth2/code/\r\n```\r\n\r\nPlease, don&#39;t forget to set the appropriate value for the different placeholders defined in the above configuration.","link":"https://stackoverflow.com/questions/77507098/azuread-configuration-with-public-key-authentication-on-spring-boot/77560193#77560193","title":"AzureAD configuration with public key authentication on Spring Boot","body":"<p>The <a href=\"https://learn.microsoft.com/en-us/entra/identity-platform/v2-oauth2-client-creds-grant-flow#second-case-access-token-request-with-a-certificate\" rel=\"nofollow noreferrer\">Microsoft documentation</a> describes the necessary information that should be provided in order to perform an access token request with a certificate.</p>\n<p>You need to perform a HTTP request like the following:</p>\n<pre><code>POST /{tenant}/oauth2/v2.0/token HTTP/1.1               // Line breaks for clarity\nHost: login.microsoftonline.com:443\nContent-Type: application/x-www-form-urlencoded\n\nscope=https%3A%2F%2Fgraph.microsoft.com%2F.default\n&amp;client_id=97e0a5b7-d745-40b6-94fe-5f77d35c6e05\n&amp;client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer\n&amp;client_assertion=eyJhbGciOiJSUzI1NiIsIng1dCI6Imd4OHRHeXN5amNScUtqRlBuZDdSRnd2d1pJMCJ9.eyJ{a lot of characters here}M8U3bSUKKJDEg\n&amp;grant_type=client_credentials\n</code></pre>\n<p>In addition to the Entra ID tenant and the app client id, you need to indicate the client assertion type, it is a constant value, and a client assertion.</p>\n<p>The client assertion is a JSON web token created and signed with the certificate registered as credentials for the application in the Azure Portal.</p>\n<p>The characteristics of this JSON web token are described in detail <a href=\"https://learn.microsoft.com/en-us/entra/identity-platform/certificate-credentials\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Using this type of authentication mechanism with Spring Boot is not obvious but fortunately you can find different examples that exemplifies how to that.</p>\n<p>Consider for instance <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt\" rel=\"nofollow noreferrer\">this excellent one</a> provided as part of the azure samples repository in Github.</p>\n<p>Basically, it defines a set of <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory\" rel=\"nofollow noreferrer\">helper classes</a>, especially <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory/AzureActiveDirectoryJwtClientAuthenticationParametersConverter.java\" rel=\"nofollow noreferrer\">one</a> defined in order to provide the <code>client_assertion</code> and <code>client_assertion_type</code> parameters when performing the request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.core.convert.converter.Converter;\nimport org.springframework.security.oauth2.client.endpoint.AbstractOAuth2AuthorizationGrantRequest;\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\nimport org.springframework.security.oauth2.core.endpoint.OAuth2ParameterNames;\nimport org.springframework.util.Assert;\nimport org.springframework.util.LinkedMultiValueMap;\nimport org.springframework.util.MultiValueMap;\n\nimport java.util.Map;\n\npublic class AzureActiveDirectoryJwtClientAuthenticationParametersConverter&lt;T extends AbstractOAuth2AuthorizationGrantRequest&gt;\n    implements Converter&lt;T, MultiValueMap&lt;String, String&gt;&gt; {\n\n    private final static Logger LOGGER =\n        LoggerFactory.getLogger(AzureActiveDirectoryJwtClientAuthenticationParametersConverter.class);\n    private static final String CLIENT_ASSERTION_TYPE_VALUE = &quot;urn:ietf:params:oauth:client-assertion-type:jwt-bearer&quot;;\n\n    private final Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories;\n\n    public AzureActiveDirectoryJwtClientAuthenticationParametersConverter(\n        Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories) {\n        this.factories = factories;\n    }\n\n    @Override\n    public MultiValueMap&lt;String, String&gt; convert(T authorizationGrantRequest) {\n        Assert.notNull(authorizationGrantRequest, &quot;authorizationGrantRequest cannot be null&quot;);\n\n        ClientRegistration registration = authorizationGrantRequest.getClientRegistration();\n        ClientAuthenticationMethod method = registration.getClientAuthenticationMethod();\n        if (!ClientAuthenticationMethod.PRIVATE_KEY_JWT.equals(registration.getClientAuthenticationMethod())) {\n            return null;\n        }\n\n        try {\n            return createParameters(registration);\n        } catch (AzureActiveDirectoryAssertionException exception) {\n            LOGGER.error(&quot;Failed to create parameters.&quot;, exception);\n        }\n        return null;\n    }\n\n    private MultiValueMap&lt;String, String&gt; createParameters(ClientRegistration registration) throws AzureActiveDirectoryAssertionException {\n        MultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\n        parameters.set(OAuth2ParameterNames.CLIENT_ASSERTION_TYPE, CLIENT_ASSERTION_TYPE_VALUE);\n        parameters.set(OAuth2ParameterNames.CLIENT_ASSERTION, createAssertion(registration));\n        return parameters;\n    }\n\n    private String createAssertion(ClientRegistration registration) throws AzureActiveDirectoryAssertionException {\n        return factories.get(registration.getRegistrationId()).createJwtAssertion();\n    }\n}\n</code></pre>\n<p>and <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/azure/activedirectory/AzureActiveDirectoryCertificateSignedJwtAssertionFactory.java\" rel=\"nofollow noreferrer\">another one</a> used to generate the appropriate JWT web token:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.nimbusds.jose.JOSEException;\nimport com.nimbusds.jose.JOSEObjectType;\nimport com.nimbusds.jose.JWSAlgorithm;\nimport com.nimbusds.jose.JWSHeader;\nimport com.nimbusds.jose.JWSSigner;\nimport com.nimbusds.jose.crypto.factories.DefaultJWSSignerFactory;\nimport com.nimbusds.jose.jwk.JWK;\nimport com.nimbusds.jose.jwk.RSAKey;\nimport com.nimbusds.jose.util.Base64URL;\nimport com.nimbusds.jwt.JWTClaimsSet;\nimport com.nimbusds.jwt.SignedJWT;\nimport org.springframework.util.Assert;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.UnrecoverableKeyException;\nimport java.security.cert.CertificateEncodingException;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\nimport java.security.interfaces.RSAPublicKey;\nimport java.util.Date;\nimport java.util.UUID;\n\n/**\n * A factory used to create Microsoft Entra JWT assertion signed with a certificate.\n *\n * @author Rujun Chen\n * @see &lt;a href=&quot;https://docs.microsoft.com/azure/active-directory/develop/active-directory-certificate-credentials&quot;&gt;\n * Certificate credentials&lt;/a&gt;\n * @since 2022-02-18\n */\npublic class AzureActiveDirectoryCertificateSignedJwtAssertionFactory {\n\n    private final JWSSigner signer;\n    private final JWSHeader header;\n    private final JWTClaimsSet templateClaims;\n\n    /**\n     * @param file Path of certificate file. The file should contain encrypted private key and certificate.\n     * And the file name should have &quot;.pfx&quot; as suffix.\n     * @param password The password of the encrypted private key in certificate file.\n     * @throws AzureActiveDirectoryAssertionException if failed to create factory.\n     */\n    public AzureActiveDirectoryCertificateSignedJwtAssertionFactory(String file, String password, String tenantId,\n                                                                    String clientId) throws AzureActiveDirectoryAssertionException {\n        try {\n            String fileExtension = file.substring(file.lastIndexOf(&quot;.&quot;) + 1);\n            Assert.isTrue(&quot;pfx&quot;.equals(fileExtension), &quot;Only support file with '.pfx' extension.&quot;);\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            keyStore.load(new FileInputStream(file), password.toCharArray());\n            String alias = keyStore.aliases().nextElement();\n            PrivateKey privateKey = (PrivateKey) keyStore.getKey(alias, password.toCharArray());\n            X509Certificate x509Certificate = (X509Certificate) keyStore.getCertificate(alias);\n            PublicKey publicKey = x509Certificate.getPublicKey();\n            signer = createJWSSigner(publicKey, privateKey);\n            header = createJWSHeader(x509Certificate);\n            templateClaims = createTemplateJWTClaims(tenantId, clientId);\n        } catch (KeyStoreException | IOException | CertificateException | NoSuchAlgorithmException |\n            UnrecoverableKeyException | JOSEException exception) {\n            throw new AzureActiveDirectoryAssertionException(&quot;Failed to create factory.&quot;, exception);\n        }\n    }\n\n    /**\n     * Create JWT assertion\n     *\n     * @throws AzureActiveDirectoryAssertionException If failed to create assertion.\n     */\n    public String createJwtAssertion() throws AzureActiveDirectoryAssertionException {\n        JWTClaimsSet claims = createJWTClaimsSet();\n        SignedJWT signedJwt = new SignedJWT(header, claims);\n        try {\n            signedJwt.sign(signer);\n        } catch (JOSEException exception) {\n            throw new AzureActiveDirectoryAssertionException(&quot;Failed to sign JWT.&quot;, exception);\n        }\n        return signedJwt.serialize();\n    }\n\n    private JWSSigner createJWSSigner(PublicKey publicKey, PrivateKey privateKey) throws JOSEException {\n        // Microsoft Entra ID currently supports only RSA.\n        // Refs: https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-self-signed-certificate\n        JWK jwk = new RSAKey.Builder((RSAPublicKey) publicKey)\n            .privateKey(privateKey)\n            .keyID(UUID.randomUUID().toString())\n            .build();\n        return new DefaultJWSSignerFactory().createJWSSigner(jwk);\n    }\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    private JWSHeader createJWSHeader(X509Certificate x509Certificate) throws CertificateEncodingException,\n        NoSuchAlgorithmException {\n        return new JWSHeader.Builder(JWSAlgorithm.RS256)\n            .type(JOSEObjectType.JWT)\n            .x509CertThumbprint(Base64URL.encode(getX5t(x509Certificate)))\n            .build();\n    }\n\n    private byte[] getX5t(X509Certificate cert)\n        throws NoSuchAlgorithmException, CertificateEncodingException {\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-1&quot;);\n        byte[] der = cert.getEncoded();\n        digest.update(der);\n        return digest.digest();\n    }\n\n    private JWTClaimsSet createTemplateJWTClaims(String tenantId, String clientId) {\n        return new JWTClaimsSet.Builder()\n            .audience(String.format(&quot;https://login.microsoftonline.com/%s/v2.0&quot;, tenantId))\n            .issuer(clientId)\n            .subject(clientId)\n            .build();\n    }\n\n    private JWTClaimsSet createJWTClaimsSet() {\n        Date currentTime = new Date();\n        return new JWTClaimsSet.Builder(templateClaims)\n            .expirationTime(Date.from(currentTime.toInstant().plusSeconds(300))) // 5 minutes after currentTime.\n            .jwtID(UUID.randomUUID().toString())\n            .notBeforeTime(currentTime)\n            .issueTime(currentTime)\n            .build();\n    }\n\n\n}\n</code></pre>\n<p><a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/java/com/azure/spring/sample/reactive/servlet/oauth2/login/jwt/configuration/WebSecurityConfiguration.java\" rel=\"nofollow noreferrer\">This configuration class</a> glues everything together:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryAssertionException;\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryCertificateSignedJwtAssertionFactory;\nimport com.azure.spring.sample.reactive.servlet.oauth2.login.jwt.azure.activedirectory.AzureActiveDirectoryJwtClientAuthenticationParametersConverter;\nimport org.springframework.core.env.Environment;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient;\nimport org.springframework.security.oauth2.client.endpoint.OAuth2AuthorizationCodeGrantRequestEntityConverter;\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\nimport org.springframework.util.StringUtils;\n\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n@EnableWebSecurity\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n    private static final Pattern ISSUER_URI_PATTERN = Pattern.compile(&quot;https://login.microsoftonline.com/(.*?)/v2.0&quot;);\n\n    private final Environment environment;\n    private final ClientRegistrationRepository repository;\n\n    public WebSecurityConfiguration(Environment environment, ClientRegistrationRepository repository) {\n        this.environment = environment;\n        this.repository = repository;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // @formatter:off\n        http.oauth2Login()\n                .tokenEndpoint()\n                  // Please, note the name of the client provided, \n                  // as we will see it will match the one in the configuration\n                    .accessTokenResponseClient(accessTokenResponseClient(Collections.singletonList(&quot;client-1&quot;), repository))\n                    .and()\n                .and()\n            .authorizeRequests()\n                .anyRequest().authenticated();\n        // @formatter:off\n    }\n\n    private DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient(\n        List&lt;String&gt; registrationIds, ClientRegistrationRepository repository\n    ) throws AzureActiveDirectoryAssertionException {\n        OAuth2AuthorizationCodeGrantRequestEntityConverter converter =\n            new OAuth2AuthorizationCodeGrantRequestEntityConverter();\n        converter.addParametersConverter(\n            new AzureActiveDirectoryJwtClientAuthenticationParametersConverter&lt;&gt;(createFactoryMap(registrationIds, repository)));\n        DefaultAuthorizationCodeTokenResponseClient client = new DefaultAuthorizationCodeTokenResponseClient();\n        client.setRequestEntityConverter(converter);\n        return client;\n    }\n\n    private Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; createFactoryMap(\n        List&lt;String&gt; registrationIds, ClientRegistrationRepository repository\n    ) throws AzureActiveDirectoryAssertionException {\n        Map&lt;String, AzureActiveDirectoryCertificateSignedJwtAssertionFactory&gt; factories = new HashMap&lt;&gt;();\n        for (String registrationId: registrationIds) {\n            AzureActiveDirectoryCertificateSignedJwtAssertionFactory factory = createFactory(registrationId, repository);\n            if (factory != null) {\n                factories.put(registrationId, factory);\n            }\n        }\n        return factories;\n    }\n\n    private AzureActiveDirectoryCertificateSignedJwtAssertionFactory createFactory(\n        String registrationId, ClientRegistrationRepository repository\n    ) throws AzureActiveDirectoryAssertionException {\n        String clientCertificatePath = environment.getProperty(\n            String.format(&quot;spring.security.oauth2.client.registration.%s.client-certificate-path&quot;, registrationId));\n        if (!StringUtils.hasText(clientCertificatePath)) {\n            return null;\n        }\n        String clientCertificatePassword = environment.getProperty(\n            String.format(&quot;spring.security.oauth2.client.registration.%s.client-certificate-password&quot;, registrationId));\n        if (!StringUtils.hasText(clientCertificatePassword)) {\n            return null;\n        }\n        ClientRegistration registration = repository.findByRegistrationId(registrationId);\n        String tenantId = getTenantIdFromIssuerUri(registration.getProviderDetails().getIssuerUri());\n        String clientId = registration.getClientId();\n        return new AzureActiveDirectoryCertificateSignedJwtAssertionFactory(\n            clientCertificatePath, clientCertificatePassword, tenantId, clientId);\n    }\n\n    static String getTenantIdFromIssuerUri(String issuerUri) {\n        Matcher matcher = ISSUER_URI_PATTERN.matcher(issuerUri);\n        if (matcher.find()) {\n            return matcher.group(1);\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>Please, pay especial attention to the <code>accessTokenResponseClient</code> method.</p>\n<p>Finally, <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/main/aad/spring-security/servlet/oauth2/login-authenticate-using-private-key-jwt/src/main/resources/application.yml\" rel=\"nofollow noreferrer\">this</a> is the relevant configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      client:\n        provider: # Refs: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2login-common-oauth2-provider\n          azure-active-directory:\n            issuer-uri: https://login.microsoftonline.com/${tenant-id}/v2.0 # Refs: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#webflux-oauth2-login-openid-provider-configuration\n        registration:\n          client-1:\n            provider: azure-active-directory\n            client-id: ${client-1-client-id}\n            client-authentication-method: private_key_jwt\n            client-certificate-path: ${client-1-certificate-path}\n            client-certificate-password: ${client-1-certificate-password}\n            scope: openid, profile\n            redirect-uri: http://localhost:8080/login/oauth2/code/\n</code></pre>\n<p>Please, don't forget to set the appropriate value for the different placeholders defined in the above configuration.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":249,"answer_count":3,"score":4,"last_activity_date":1701293968,"creation_date":1700314119,"last_edit_date":1701293968,"question_id":77507098,"body_markdown":"I successfully set up a sample application to utilize AzureAD for user authentication following the steps outlined in [this blog post][1]. The post provides instructions on configuring AzureAD and the application&#39;s identity using client-id and client-secret for the application configuration, and the setup working properly.\r\n\r\nHowever I try to configure AzureAD and application’s identity using with public key I could not able to successfully setup.\r\n\r\nI used following openssl commands to generate the public key.\r\n\r\n&gt; $certname = &quot;AzureCertificate&quot;\r\n&gt; \r\n&gt; $cert = New-SelfSignedCertificate -Subject &quot;CN=$certname&quot;\r\n&gt; -CertStoreLocation &quot;Cert:\\CurrentUser\\My&quot; -KeyExportPolicy Exportable -KeySpec Signature -KeyLength 2048 -KeyAlgorithm RSA -HashAlgorithm SHA256\r\n&gt; \r\n&gt; Export-Certificate -Cert $cert -FilePath\r\n&gt; &quot;C:\\Personal\\Work1\\AZURE\\KEY\\$certname.cer&quot;\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen I generated the public key using following command in command line\r\n\r\n&gt; openssl x509 -inform der -in AzureCertificate.cer -pubkey -noout &gt;\r\n&gt; your-public-key.pem\r\n\r\nThen I uploaded the generated certificate AzureCertificate.cer file in to the AzurePortal application as show below.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThen I have configured the certificate location on the applciation.yml as show below and added publicKey.pem file in to resources folder. Please note I have replace correct **my-tenant-id and my-client-id** in applciation.yml file.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThen I have run the application It first correctly redirecting to Microsoft login page and then after user enters the credentials system giving error message as below.\r\n\r\n[invalid_request] AADSTS900144: The request body must contain the following parameter: &#39;client_id&#39;. Trace ID: yyyyyyy Correlation ID: xxxxxxx Timestamp: 2023-11-18 15:14:37Z\r\n\r\n[![enter image description here][5]][5]\r\n\r\nHighly appreciated if someone share your experiencing this configuration process.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-azuread-authenticate-users\r\n  [2]: https://i.stack.imgur.com/VEDRK.png\r\n  [3]: https://i.stack.imgur.com/BhRn9.png\r\n  [4]: https://i.stack.imgur.com/SW94Z.png\r\n  [5]: https://i.stack.imgur.com/8tqv5.png","link":"https://stackoverflow.com/questions/77507098/azuread-configuration-with-public-key-authentication-on-spring-boot","title":"AzureAD configuration with public key authentication on Spring Boot","body":"<p>I successfully set up a sample application to utilize AzureAD for user authentication following the steps outlined in <a href=\"https://www.baeldung.com/spring-boot-azuread-authenticate-users\" rel=\"nofollow noreferrer\">this blog post</a>. The post provides instructions on configuring AzureAD and the application's identity using client-id and client-secret for the application configuration, and the setup working properly.</p>\n<p>However I try to configure AzureAD and application’s identity using with public key I could not able to successfully setup.</p>\n<p>I used following openssl commands to generate the public key.</p>\n<blockquote>\n<p>$certname = &quot;AzureCertificate&quot;</p>\n<p>$cert = New-SelfSignedCertificate -Subject &quot;CN=$certname&quot;\n-CertStoreLocation &quot;Cert:\\CurrentUser\\My&quot; -KeyExportPolicy Exportable -KeySpec Signature -KeyLength 2048 -KeyAlgorithm RSA -HashAlgorithm SHA256</p>\n<p>Export-Certificate -Cert $cert -FilePath\n&quot;C:\\Personal\\Work1\\AZURE\\KEY$certname.cer&quot;</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/VEDRK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VEDRK.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I generated the public key using following command in command line</p>\n<blockquote>\n<p>openssl x509 -inform der -in AzureCertificate.cer -pubkey -noout &gt;\nyour-public-key.pem</p>\n</blockquote>\n<p>Then I uploaded the generated certificate AzureCertificate.cer file in to the AzurePortal application as show below.</p>\n<p><a href=\"https://i.stack.imgur.com/BhRn9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BhRn9.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I have configured the certificate location on the applciation.yml as show below and added publicKey.pem file in to resources folder. Please note I have replace correct <strong>my-tenant-id and my-client-id</strong> in applciation.yml file.</p>\n<p><a href=\"https://i.stack.imgur.com/SW94Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SW94Z.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I have run the application It first correctly redirecting to Microsoft login page and then after user enters the credentials system giving error message as below.</p>\n<p>[invalid_request] AADSTS900144: The request body must contain the following parameter: 'client_id'. Trace ID: yyyyyyy Correlation ID: xxxxxxx Timestamp: 2023-11-18 15:14:37Z</p>\n<p><a href=\"https://i.stack.imgur.com/8tqv5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8tqv5.png\" alt=\"enter image description here\" /></a></p>\n<p>Highly appreciated if someone share your experiencing this configuration process.</p>\n"}],"has_more":true,"quota_max":300,"quota_remaining":290}