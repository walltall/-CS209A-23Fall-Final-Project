{"items":[{"tags":["java","android","kotlin","android-tv"],"comments":[{"score":0,"post_type":"question","creation_date":1700646560,"post_id":77522504,"comment_id":136679179,"body_markdown":"If you want to uninstall the app, you can try `adb uninstall &lt;package-name&gt;`. This should remove it from the launcher&#39;s list as well.","link":"https://stackoverflow.com/questions/77522504/hide-android-app-from-launcher-list-on-android-tv#comment136679179_77522504","body":"If you want to uninstall the app, you can try <code>adb uninstall &lt;package-name&gt;</code>. This should remove it from the launcher&#39;s list as well."},{"score":0,"post_type":"question","creation_date":1700648985,"post_id":77522504,"comment_id":136679633,"body_markdown":"@vighnesh153 am not asking about uninstalling the app.","link":"https://stackoverflow.com/questions/77522504/hide-android-app-from-launcher-list-on-android-tv#comment136679633_77522504","body":"@vighnesh153 am not asking about uninstalling the app."},{"score":0,"post_type":"question","creation_date":1700654522,"post_id":77522504,"comment_id":136680659,"body_markdown":"In the end, what shows up in any launcher (on a phone, TV, etc.) is up to the developers of that launcher.","link":"https://stackoverflow.com/questions/77522504/hide-android-app-from-launcher-list-on-android-tv#comment136680659_77522504","body":"In the end, what shows up in any launcher (on a phone, TV, etc.) is up to the developers of that launcher."},{"score":0,"post_type":"question","creation_date":1700819732,"post_id":77522504,"comment_id":136702532,"body_markdown":"@CommonsWare Mobile and tablet launchers are not showing my app. But TV launchers are showing the app.","link":"https://stackoverflow.com/questions/77522504/hide-android-app-from-launcher-list-on-android-tv#comment136702532_77522504","body":"@CommonsWare Mobile and tablet launchers are not showing my app. But TV launchers are showing the app."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701150889,"post_id":77561201,"comment_id":136736463,"body_markdown":"Kindly note. I removed totally from manifest and class file.","link":"https://stackoverflow.com/questions/77522504/hide-android-app-from-launcher-list-on-android-tv/77561201#comment136736463_77561201","body":"Kindly note. I removed totally from manifest and class file."}],"comment_count":1,"score":0,"last_activity_date":1701142290,"creation_date":1701142290,"answer_id":77561201,"question_id":77522504,"body_markdown":"This is like hidden system apps try delete intent filter\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;intent-filter&gt;\r\n    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n\r\n","link":"https://stackoverflow.com/questions/77522504/hide-android-app-from-launcher-list-on-android-tv/77561201#77561201","title":"Hide Android App from launcher list on Android TV","body":"<p>This is like hidden system apps try delete intent filter</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;intent-filter&gt;\n&lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n&lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n"}],"comment_count":4,"is_answered":false,"view_count":50,"answer_count":1,"score":3,"last_activity_date":1701142290,"creation_date":1700566641,"question_id":77522504,"body_markdown":"I want to hide my Android app from the Android TV launcher list.\r\n\r\nIs there any way to hide an Android app from the Android TV launcher list? I removed the activity class from the code and removed the manifest activity declaration as well. But the Android app is still showing up in the launcher list.\r\n\r\nNote:\r\nI want to use the application class.","link":"https://stackoverflow.com/questions/77522504/hide-android-app-from-launcher-list-on-android-tv","title":"Hide Android App from launcher list on Android TV","body":"<p>I want to hide my Android app from the Android TV launcher list.</p>\n<p>Is there any way to hide an Android app from the Android TV launcher list? I removed the activity class from the code and removed the manifest activity declaration as well. But the Android app is still showing up in the launcher list.</p>\n<p>Note:\nI want to use the application class.</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701141645,"creation_date":1701141645,"answer_id":77561170,"question_id":77055632,"body_markdown":"step 1 File-&gt;Project Structure...\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nsetp 2  select jdk1.8\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wDpMN.png\r\n  [2]: https://i.stack.imgur.com/tIal1.png","link":"https://stackoverflow.com/questions/77055632/error-unable-to-make-field-private-final-java-lang-string-java-io-file-path-acc/77561170#77561170","title":"Error: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module","body":"<p>step 1 File-&gt;Project Structure...\n<a href=\"https://i.stack.imgur.com/wDpMN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wDpMN.png\" alt=\"enter image description here\" /></a></p>\n<p>setp 2  select jdk1.8\n<a href=\"https://i.stack.imgur.com/tIal1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tIal1.png\" alt=\"enter image description here\" /></a></p>\n"}],"comment_count":0,"is_answered":true,"view_count":2114,"answer_count":1,"score":2,"last_activity_date":1701141645,"creation_date":1694040008,"last_edit_date":1694040417,"question_id":77055632,"body_markdown":"I am new to flutter and am trying to fix an issue with an app that I inherited.\r\nI was able to build and run this app and then something changed. Not sure what, but I keep getting this error when I run the app in debug mode. \r\n\r\nThe full error is: Execution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module\r\n\r\nFrom what I can tell from googling around is that it appears that I have the wrong Java version.\r\nHowever, I have tried several different Java versions and I still get the same error.\r\n\r\nHere are the specifics.\r\n\r\nOS: Windows 11\r\nIDE: Andriod Studio Giraffe - 2022.3.1\r\nFlutter version: 2.10.5\r\nJava Versions I have tried: \r\nEclipse Temurin version 1.8.0_382\r\nOracle OpenJDK version 11\r\nJetBrains Runtime version 17.0.6\r\n\r\nbuild.gradle\r\n```\r\nbuildscript {\r\n    ext {\r\n        kotlin_version = &#39;1.5.31&#39;\r\n        compileSdkVersion = 32\r\n        targetSdkVersion = 32\r\n        minSdkVersion = 23\r\n        appCompatVersion = &quot;1.4.1&quot;\r\n        playServicesLocationVersion = &quot;19.0.1&quot;\r\n    }\r\n\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.8&#39;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.8.1&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven {\r\n            // [required] flutter_background_geolocation\r\n            url &quot;${project(&#39;:flutter_background_geolocation&#39;).projectDir}/libs&quot;\r\n        }\r\n        maven {\r\n            // [required] background_fetch\r\n            url &quot;${project(&#39;:background_fetch&#39;).projectDir}/libs&quot;\r\n        }\r\n    }\r\n}\r\n\r\nrootProject.buildDir = &#39;../build&#39;\r\nsubprojects {\r\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n    project.evaluationDependsOn(&#39;:app&#39;)\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\napp\\build.gradle\r\n```\r\ndef localProperties = new Properties()\r\ndef localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\nif (localPropertiesFile.exists()) {\r\n    localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n        localProperties.load(reader)\r\n    }\r\n}\r\n\r\ndef flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\r\nif (flutterRoot == null) {\r\n    throw new Exception(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\r\n}\r\n\r\ndef flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\nif (flutterVersionCode == null) {\r\n    flutterVersionCode = &#39;1&#39;\r\n}\r\n\r\ndef flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\nif (flutterVersionName == null) {\r\n    flutterVersionName = &#39;1.0&#39;\r\n}\r\n\r\nProject background_geolocation = project(&#39;:flutter_background_geolocation&#39;)\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\napply from: &quot;${background_geolocation.projectDir}/background_geolocation.gradle&quot;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n\r\nandroid {\r\n    compileSdkVersion rootProject.ext.compileSdkVersion\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.integragroup.deliverytrack.mobile&quot;\r\n        minSdkVersion rootProject.ext.minSdkVersion\r\n        targetSdkVersion rootProject.ext.targetSdkVersion\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n\r\n        ndk {\r\n            abiFilters &#39;arm64-v8a&#39;, &#39;armeabi-v7a&#39;, &#39;x86_64&#39;\r\n        }\r\n    }\r\n\r\n    signingConfigs {\r\n        release {\r\n            storeFile file(&#39;../Signing/Integra&#39;)\r\n            storePassword &quot;f1dalg0&quot;\r\n            keyAlias &quot;Integra&quot;\r\n            keyPassword &quot;f1dalg0&quot;\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            signingConfig signingConfigs.release\r\n            shrinkResources false\r\n            proguardFiles &quot;${background_geolocation.projectDir}/proguard-rules.pro&quot;\r\n        }\r\n        debug {\r\n            signingConfig signingConfigs.release\r\n        }\r\n    }\r\n}\r\n\r\nflutter {\r\n    source &#39;../..&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:18.2.8&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:20.1.0&#39;\r\n}\r\n\r\n```\r\n\r\ngradle-wrapper.properties\r\n\r\n```\r\n#Fri Jun 23 08:50:38 CEST 2017\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\n```\r\n\r\nAny help would be greatly appreciated.\r\n\r\n\r\n\r\n\r\nI tried to build with differen Java versions:\r\nEclipse Temurin version 1.8.0_382\r\nOracle OpenJDK version 11\r\nJetBrains Runtime version 17.0.6\r\n\r\nI tried to build with Gradle 4.1.3\r\n\r\nAlso tried building with gradle-7.3-all.zip","link":"https://stackoverflow.com/questions/77055632/error-unable-to-make-field-private-final-java-lang-string-java-io-file-path-acc","title":"Error: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module","body":"<p>I am new to flutter and am trying to fix an issue with an app that I inherited.\nI was able to build and run this app and then something changed. Not sure what, but I keep getting this error when I run the app in debug mode.</p>\n<p>The full error is: Execution failed for task ':app:processDebugMainManifest'.</p>\n<blockquote>\n<p>Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module</p>\n</blockquote>\n<p>From what I can tell from googling around is that it appears that I have the wrong Java version.\nHowever, I have tried several different Java versions and I still get the same error.</p>\n<p>Here are the specifics.</p>\n<p>OS: Windows 11\nIDE: Andriod Studio Giraffe - 2022.3.1\nFlutter version: 2.10.5\nJava Versions I have tried:\nEclipse Temurin version 1.8.0_382\nOracle OpenJDK version 11\nJetBrains Runtime version 17.0.6</p>\n<p>build.gradle</p>\n<pre><code>buildscript {\n    ext {\n        kotlin_version = '1.5.31'\n        compileSdkVersion = 32\n        targetSdkVersion = 32\n        minSdkVersion = 23\n        appCompatVersion = &quot;1.4.1&quot;\n        playServicesLocationVersion = &quot;19.0.1&quot;\n    }\n\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.8'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.8.1'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            // [required] flutter_background_geolocation\n            url &quot;${project(':flutter_background_geolocation').projectDir}/libs&quot;\n        }\n        maven {\n            // [required] background_fetch\n            url &quot;${project(':background_fetch').projectDir}/libs&quot;\n        }\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>app\\build.gradle</p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new Exception(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\nProject background_geolocation = project(':flutter_background_geolocation')\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\napply from: &quot;${background_geolocation.projectDir}/background_geolocation.gradle&quot;\napply plugin: 'com.google.gms.google-services'\napply plugin: 'com.google.firebase.crashlytics'\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        applicationId &quot;com.integragroup.deliverytrack.mobile&quot;\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n\n        ndk {\n            abiFilters 'arm64-v8a', 'armeabi-v7a', 'x86_64'\n        }\n    }\n\n    signingConfigs {\n        release {\n            storeFile file('../Signing/Integra')\n            storePassword &quot;f1dalg0&quot;\n            keyAlias &quot;Integra&quot;\n            keyPassword &quot;f1dalg0&quot;\n        }\n    }\n\n    buildTypes {\n        release {\n            signingConfig signingConfigs.release\n            shrinkResources false\n            proguardFiles &quot;${background_geolocation.projectDir}/proguard-rules.pro&quot;\n        }\n        debug {\n            signingConfig signingConfigs.release\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n\n    implementation 'com.google.firebase:firebase-crashlytics:18.2.8'\n    implementation 'com.google.firebase:firebase-analytics:20.1.0'\n}\n\n</code></pre>\n<p>gradle-wrapper.properties</p>\n<pre><code>#Fri Jun 23 08:50:38 CEST 2017\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n<p>I tried to build with differen Java versions:\nEclipse Temurin version 1.8.0_382\nOracle OpenJDK version 11\nJetBrains Runtime version 17.0.6</p>\n<p>I tried to build with Gradle 4.1.3</p>\n<p>Also tried building with gradle-7.3-all.zip</p>\n"},{"tags":["java","java-native-interface","scip"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701141483,"creation_date":1701141483,"answer_id":77561162,"question_id":77561161,"body_markdown":"It&#39;s so happend, that after two hours of digging, I found out, that I completly forgot to include:\r\n\r\n`Loader.loadNativeLibraries();`\r\n\r\nbefore actually loading this lib by Or-Tools.\r\n\r\nHopefully, someone in the future will spend less time investigating something like this.","link":"https://stackoverflow.com/questions/77561161/making-scip-for-jni-and-or-tools/77561162#77561162","title":"Making SCIP for JNI and Or-Tools","body":"<p>It's so happend, that after two hours of digging, I found out, that I completly forgot to include:</p>\n<p><code>Loader.loadNativeLibraries();</code></p>\n<p>before actually loading this lib by Or-Tools.</p>\n<p>Hopefully, someone in the future will spend less time investigating something like this.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":15,"answer_count":1,"score":0,"last_activity_date":1701141483,"creation_date":1701141483,"question_id":77561161,"body_markdown":"Trying SCIP for the first time. Couldn&#39;t quite wrap my head around how to use JNI with SCIP version 8.x.x. on MacOs.\r\n\r\nI downloaded scipoptsuite-8.0.4 from the website, then followed instruction of how to compile it:\r\n\r\n    mkdir build\r\n    cd build\r\n    cmake ..  -DAUTOBUILD=on\r\n    make\r\n    make install\r\n\r\nAfter that I verified, that shared library is created:\r\n\r\n    ➜ ls /usr/local/lib/libscip.dylib\r\n    /usr/local/lib/libscip.dylib\r\n\r\nThen I followed the instructions from Or-Tools and did this:\r\n\r\n```\r\n            System.loadLibrary(&quot;scip&quot;); // added to verify, that shared lib is accessible\r\n            MPSolver mpSolver = MPSolver.createSolver(&quot;SCIP&quot;);\r\n```\r\n\r\nAnd I got this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;long com.google.ortools.linearsolver.mainJNI.MPSolver_createSolver(java.lang.String)&#39;\r\n    \tat com.google.ortools.linearsolver.mainJNI.MPSolver_createSolver(Native Method)\r\n    \tat com.google.ortools.linearsolver.MPSolver.createSolver(MPSolver.java:140)\r\n    \tat org.example.Solver.solve(Solver.java:58)\r\n    \tat org.example.Solver.main(Solver.java:24)\r\n\r\nSadly, I do not have any C++ related background to proceed any further than that.","link":"https://stackoverflow.com/questions/77561161/making-scip-for-jni-and-or-tools","title":"Making SCIP for JNI and Or-Tools","body":"<p>Trying SCIP for the first time. Couldn't quite wrap my head around how to use JNI with SCIP version 8.x.x. on MacOs.</p>\n<p>I downloaded scipoptsuite-8.0.4 from the website, then followed instruction of how to compile it:</p>\n<pre><code>mkdir build\ncd build\ncmake ..  -DAUTOBUILD=on\nmake\nmake install\n</code></pre>\n<p>After that I verified, that shared library is created:</p>\n<pre><code>➜ ls /usr/local/lib/libscip.dylib\n/usr/local/lib/libscip.dylib\n</code></pre>\n<p>Then I followed the instructions from Or-Tools and did this:</p>\n<pre><code>            System.loadLibrary(&quot;scip&quot;); // added to verify, that shared lib is accessible\n            MPSolver mpSolver = MPSolver.createSolver(&quot;SCIP&quot;);\n</code></pre>\n<p>And I got this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: 'long com.google.ortools.linearsolver.mainJNI.MPSolver_createSolver(java.lang.String)'\n    at com.google.ortools.linearsolver.mainJNI.MPSolver_createSolver(Native Method)\n    at com.google.ortools.linearsolver.MPSolver.createSolver(MPSolver.java:140)\n    at org.example.Solver.solve(Solver.java:58)\n    at org.example.Solver.main(Solver.java:24)\n</code></pre>\n<p>Sadly, I do not have any C++ related background to proceed any further than that.</p>\n"},{"tags":["java","spring-boot","junit","mockito","powermockito"],"comments":[{"score":0,"post_type":"question","creation_date":1701158864,"post_id":77561160,"comment_id":136737442,"body_markdown":"Why use powermock(ito). Just use mockito to mock the  service and when the `createJenkinsInstance` return the mocked instance. I consider things like PowerMock to be the wrong thing for testing and if you cannot do it (easily) with regular Mockito you have something wrong in your design.","link":"https://stackoverflow.com/questions/77561160/powermock-not-using-mocked-new-object#comment136737442_77561160","body":"Why use powermock(ito). Just use mockito to mock the  service and when the <code>createJenkinsInstance</code> return the mocked instance. I consider things like PowerMock to be the wrong thing for testing and if you cannot do it (easily) with regular Mockito you have something wrong in your design."}],"comment_count":1,"is_answered":false,"view_count":17,"answer_count":0,"score":0,"last_activity_date":1701141480,"creation_date":1701141480,"question_id":77561160,"body_markdown":"I have a Spring Boot project and trying to use PowerMockito to mock an object that is created inside the method.\r\n\r\nI have some code that is declaring a new Object that is extending an Abstract class: \r\n\r\n```\r\n@Service\r\npublic class InstanceService {\r\n\r\n   public Instance createJenkinsInstance(RequestSpecification request){\r\n        ParentInstance instance = new DefaultInstance(kubernetesUtil);\r\n        instance.provisionForNewInstance(request);\r\n   ...\r\n   }\r\n}\r\n```\r\n\r\nThe DefaultInstance class: \r\n```\r\npublic class DefaultInstance extends ParentInstance {\r\n  public DefaultInstance(KubernetesUtil kubernetesUtil) {\r\n    super(kubernetesUtil);\r\n  }\r\n\r\n  public DefaultInstance(KubernetesUtil kubernetesUtil, Environment env) {\r\n    super(kubernetesUtil, env);\r\n  }\r\n```\r\n\r\nThe ParentInstance class: \r\n```\r\n@Data\r\npublic abstract class ParentInstance {\r\n   public ParentInstance(KubernetesUtil kubernetesUtil) {\r\n    this.kubernetesUtil = kubernetesUtil;\r\n    /*some code*/\r\n  }\r\n\r\n  public ParentInstance(KubernetesUtil kubernetesUtil, Environment env) {\r\n    this.kubernetesUtil = kubernetesUtil;\r\n    this.env = env;\r\n    /*some code*/\r\n  }\r\n  /* Class contains more functions */ \r\n```\r\n\r\nMy test looks like the following: \r\n\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest({InstanceService.class})\r\npublic class InstanceServicePowerMockTest {\r\n    @Test\r\n    public void testCreateInstance() throws Exception {\r\n      logger.info(&quot;in testCreateInstance2 mock&quot;);\r\n      DefaultInstance instanceMock = PowerMockito.mock(DefaultInstance.class);\r\n      PowerMockito.whenNew(DefaultInstance.class)\r\n          .withArguments(any())\r\n          .thenReturn(instanceMock);\r\n      \r\n   \r\n      PowerMockito.when(instanceMock.provisionForNewInstance(any())).thenReturn(true);\r\n\r\n      RequestSpecification requestSpecification = new RequestSpecification();\r\n      requestSpecification.setName(&quot;test&quot;);\r\n\r\n      InstanceService instanceService = new InstanceService();\r\n      instanceService.createJenkinsInstance(requestSpecification);\r\n\r\n      verifyNew(DefaultInstance.class).withArguments(any());\r\n    }\r\n}\r\n```\r\n\r\nMy test isn&#39;t working, I notice that the DefaultInstance is being created in the test rather than using the mocked object I have created. I have searched around online for a while, and tried different things I found others doing. I&#39;m wondering if the issue is I&#39;m trying to mock an object that extends an Abstract class. How can I fix this? \r\n\r\nBtw, the InstanceService class autowires some DAO classes to save objects to the Database. Does powermock support this? ","link":"https://stackoverflow.com/questions/77561160/powermock-not-using-mocked-new-object","title":"PowerMock not using mocked &quot;new&quot; object","body":"<p>I have a Spring Boot project and trying to use PowerMockito to mock an object that is created inside the method.</p>\n<p>I have some code that is declaring a new Object that is extending an Abstract class:</p>\n<pre><code>@Service\npublic class InstanceService {\n\n   public Instance createJenkinsInstance(RequestSpecification request){\n        ParentInstance instance = new DefaultInstance(kubernetesUtil);\n        instance.provisionForNewInstance(request);\n   ...\n   }\n}\n</code></pre>\n<p>The DefaultInstance class:</p>\n<pre><code>public class DefaultInstance extends ParentInstance {\n  public DefaultInstance(KubernetesUtil kubernetesUtil) {\n    super(kubernetesUtil);\n  }\n\n  public DefaultInstance(KubernetesUtil kubernetesUtil, Environment env) {\n    super(kubernetesUtil, env);\n  }\n</code></pre>\n<p>The ParentInstance class:</p>\n<pre><code>@Data\npublic abstract class ParentInstance {\n   public ParentInstance(KubernetesUtil kubernetesUtil) {\n    this.kubernetesUtil = kubernetesUtil;\n    /*some code*/\n  }\n\n  public ParentInstance(KubernetesUtil kubernetesUtil, Environment env) {\n    this.kubernetesUtil = kubernetesUtil;\n    this.env = env;\n    /*some code*/\n  }\n  /* Class contains more functions */ \n</code></pre>\n<p>My test looks like the following:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({InstanceService.class})\npublic class InstanceServicePowerMockTest {\n    @Test\n    public void testCreateInstance() throws Exception {\n      logger.info(&quot;in testCreateInstance2 mock&quot;);\n      DefaultInstance instanceMock = PowerMockito.mock(DefaultInstance.class);\n      PowerMockito.whenNew(DefaultInstance.class)\n          .withArguments(any())\n          .thenReturn(instanceMock);\n      \n   \n      PowerMockito.when(instanceMock.provisionForNewInstance(any())).thenReturn(true);\n\n      RequestSpecification requestSpecification = new RequestSpecification();\n      requestSpecification.setName(&quot;test&quot;);\n\n      InstanceService instanceService = new InstanceService();\n      instanceService.createJenkinsInstance(requestSpecification);\n\n      verifyNew(DefaultInstance.class).withArguments(any());\n    }\n}\n</code></pre>\n<p>My test isn't working, I notice that the DefaultInstance is being created in the test rather than using the mocked object I have created. I have searched around online for a while, and tried different things I found others doing. I'm wondering if the issue is I'm trying to mock an object that extends an Abstract class. How can I fix this?</p>\n<p>Btw, the InstanceService class autowires some DAO classes to save objects to the Database. Does powermock support this?</p>\n"},{"tags":["java","spring","spring-boot","oracle19c"],"comments":[{"score":0,"post_type":"question","creation_date":1701141923,"post_id":77561150,"comment_id":136735784,"body_markdown":"Does this answer your question? [Hibernate Dialect for Oracle 19](https://stackoverflow.com/questions/57715024/hibernate-dialect-for-oracle-19)","link":"https://stackoverflow.com/questions/77561150/error-creating-bean-using-java-oracle-19c-database#comment136735784_77561150","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57715024/hibernate-dialect-for-oracle-19\">Hibernate Dialect for Oracle 19</a>"},{"score":0,"post_type":"question","creation_date":1701144216,"post_id":77561150,"comment_id":136735929,"body_markdown":"Unfortunately it didn&#39;t fix the issue. I tried changing the Dialect from Oracle 19c to 12c","link":"https://stackoverflow.com/questions/77561150/error-creating-bean-using-java-oracle-19c-database#comment136735929_77561150","body":"Unfortunately it didn&#39;t fix the issue. I tried changing the Dialect from Oracle 19c to 12c"},{"score":0,"post_type":"question","creation_date":1701144380,"post_id":77561150,"comment_id":136735945,"body_markdown":"Also tried using just org.hibernate.dialect.OracleDialect","link":"https://stackoverflow.com/questions/77561150/error-creating-bean-using-java-oracle-19c-database#comment136735945_77561150","body":"Also tried using just org.hibernate.dialect.OracleDialect"},{"score":0,"post_type":"question","creation_date":1701158052,"post_id":77561150,"comment_id":136737307,"body_markdown":"Your code is wrong on multiple levels. Hibernate 6 only has the `OracleDialect` not anything else. Your code is using JavaEE and not JakartaEE so will not work with Sprnig 6 and Spring Boot 3+.","link":"https://stackoverflow.com/questions/77561150/error-creating-bean-using-java-oracle-19c-database#comment136737307_77561150","body":"Your code is wrong on multiple levels. Hibernate 6 only has the <code>OracleDialect</code> not anything else. Your code is using JavaEE and not JakartaEE so will not work with Sprnig 6 and Spring Boot 3+."},{"score":0,"post_type":"question","creation_date":1701236897,"post_id":77561150,"comment_id":136749245,"body_markdown":"Hey @M.Deinum, thank you for your feed back. How would you recommend fixing the mistakes. Also do you have a resource or a template I can use as an example?","link":"https://stackoverflow.com/questions/77561150/error-creating-bean-using-java-oracle-19c-database#comment136749245_77561150","body":"Hey @M.Deinum, thank you for your feed back. How would you recommend fixing the mistakes. Also do you have a resource or a template I can use as an example?"},{"score":0,"post_type":"question","creation_date":1701242932,"post_id":77561150,"comment_id":136749941,"body_markdown":"Use the correct dialect, replace `javax.persistence` with `jakarta.persistence` and remove the erorrnous dependency that allowed you to import `javax.persistence` in the first place. I suspect you are &quot;following&quot; a tutorial and decided to use newer versions instead of sticking with the tutorial. \\","link":"https://stackoverflow.com/questions/77561150/error-creating-bean-using-java-oracle-19c-database#comment136749941_77561150","body":"Use the correct dialect, replace <code>javax.persistence</code> with <code>jakarta.persistence</code> and remove the erorrnous dependency that allowed you to import <code>javax.persistence</code> in the first place. I suspect you are &quot;following&quot; a tutorial and decided to use newer versions instead of sticking with the tutorial. \\"},{"score":0,"post_type":"question","creation_date":1701299130,"post_id":77561150,"comment_id":136760045,"body_markdown":"Thank you @M.Deinum, my project is now running. I followed your instructions by replacing javax.persistence with jakarta.persistence. I also updated the dialect to spring.jpa.database-platform=org.hibernate.dialect.OracleDialect","link":"https://stackoverflow.com/questions/77561150/error-creating-bean-using-java-oracle-19c-database#comment136760045_77561150","body":"Thank you @M.Deinum, my project is now running. I followed your instructions by replacing javax.persistence with jakarta.persistence. I also updated the dialect to spring.jpa.database-platform=org.hibernate.dialect.OracleDia&zwnj;&#8203;lect"}],"comment_count":7,"is_answered":false,"view_count":49,"answer_count":0,"score":0,"last_activity_date":1701141283,"creation_date":1701141283,"question_id":77561150,"body_markdown":"I am currently in the process of developing a test log bean using JPA to facilitate CRUD operations. I&#39;m however facing the error below, I&#39;m using oracle 19c as the database. \r\n\r\n```\r\nUnable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\r\n```\r\n\r\nHere&#39;s the service class, TestingLogService\r\n\r\n```\r\nimport java.util.List;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class TestingLogService {\r\n\r\n\tprivate final TestingLogRepository testingLogRepository;\r\n\t\r\n\t@Autowired\r\n\tpublic TestingLogService(TestingLogRepository testingLogRepository) {\r\n\t\tthis.testingLogRepository = testingLogRepository;\r\n\t}\r\n\tpublic List&lt;TestingLog&gt; getTestingLogList(){\r\n\t\treturn testingLogRepository.findAll();\r\n\t}\r\n}\r\n```\r\n\r\nHere is the repository class, \r\n\r\n```\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface TestingLogRepository extends JpaRepository&lt;TestingLog, Long&gt;{\r\n}\r\n```\r\n\r\nHere is the entity class\r\n\r\n```\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;testing_log&quot;)\r\npublic class TestingLog {\r\n\t\r\n\t@Id\r\n\tLong id;\r\n\t\r\n\t@Column(name = &quot;testing_type&quot;)\r\n\tprivate String testingType;\r\n\t\r\n\t@Column(name = &quot;file_location&quot;)\r\n\tprivate String fileLocation;\r\n\t\r\n\t@Column(name = &quot;time_period&quot;)\r\n\tprivate LocalDateTime timestamp; \r\n\t\r\n\t@Column(name = &quot;class_name&quot;)\r\n\tprivate String className;\r\n\t\r\n\t@Column(name = &quot;accuracy&quot;)\r\n\tprivate Double accuracy;\r\n\t\r\n\t@Column(name = &quot;record_base_line&quot;)\r\n\tprivate String recordBaseLine;\r\n\t\r\n\t//No-argument constructor (for JPA)\r\n\tpublic TestingLog() {\r\n\t\t\r\n\t}\r\n\r\n\tpublic TestingLog(Long id, String testingType, String fileLocation, LocalDateTime timestamp, String className, Double accuracy, String recordBaseLine) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.testingType = testingType;\r\n\t\tthis.fileLocation = fileLocation;\r\n\t\tthis.timestamp = timestamp;\r\n\t\tthis.className = className;\r\n\t\tthis.accuracy = accuracy;\r\n\t\tthis.recordBaseLine = recordBaseLine;\r\n\t}\r\n\r\n//getters and setters\r\n```\r\n\r\nHere&#39;s the controller class\r\n\r\n\r\n```\r\nimport java.util.List;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/testingLog&quot;)\r\npublic class TestingLogController {\r\n\t\r\n\tprivate final TestingLogService testingLogService;\r\n\t\r\n\t@Autowired\r\n\tpublic TestingLogController(TestingLogService testingLogService) {\r\n\t\tthis.testingLogService = testingLogService;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/all&quot;)\r\n\tpublic List&lt;TestingLog&gt; getTestingLogList(){\r\n\t\treturn testingLogService.getTestingLogList();\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nHere&#39;s the application.properties\r\n\r\n```\r\nspring.datasource.url=jdbc:oracle:thin:@\r\nspring.datasource.username=\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\nspring.datasource.xa-data-source-class-name=oracle.jdbc.xa.client.OracleXADataSource\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.Oracle19cDialect\r\nspring.jpa.hibernate.ddl-auto = update\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nlogging.level.org.springframework.web: INFO\r\nlogging.level.org.hibernate: DEBUG\r\nlogging.level.org.hibernate.SQL: DEBUG\r\nlogging.level.org.hibernate.type: TRACE\r\nlogging.level.com.zaxxer.hikari: DEBUG\r\n```\r\n\r\nHere&#39;s the application class\r\n\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class AppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(AppApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nError log:\r\n\r\n```\r\norg.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:154) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:236) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:189) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:122) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$1.execute(JdbcEnvironmentInitiator.java:358) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$1.execute(JdbcEnvironmentInitiator.java:280) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.jdbc.WorkExecutor.executeReturningWork(WorkExecutor.java:56) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.jdbc.AbstractReturningWork.accept(AbstractReturningWork.java:34) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:70) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:279) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:193) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:69) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:231) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:199) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1383) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat com.riskanalysisexpertsystem..Application.main(Application.java:14) ~[classes/:na]\r\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.Oracle19cDialect]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:123) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:150) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t... 45 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.Oracle19cDialect\r\n\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:215) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:120) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t... 46 common frames omitted\r\nCaused by: java.lang.Throwable: null\r\n\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:208) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t... 51 common frames omitted\r\n\tSuppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.Oracle19cDialect\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:205) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t\t... 51 common frames omitted\r\n\tSuppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.Oracle19cDialect\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:205) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t\t... 51 common frames omitted\r\n\tSuppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.Oracle19cDialect\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:205) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t\t... 51 common frames omitted\r\n\r\n2023-11-28T04:23:22.082+02:00 DEBUG 13140 --- [           main] o.hibernate.service.spi.ServiceBinding   : Overriding existing service binding [org.hibernate.engine.jdbc.connections.spi.ConnectionProvider]\r\n2023-11-28T04:23:22.082+02:00 ERROR 13140 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\r\n2023-11-28T04:23:22.083+02:00  WARN 13140 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\r\n2023-11-28T04:23:22.083+02:00  INFO 13140 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-11-28T04:23:22.083+02:00 DEBUG 13140 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Before shutdown stats (total=1, active=0, idle=1, waiting=0)\r\n2023-11-28T04:23:22.085+02:00 DEBUG 13140 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection oracle.jdbc.driver.T4CConnection@50dc49e1: (connection evicted)\r\n2023-11-28T04:23:22.548+02:00 DEBUG 13140 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - After shutdown stats (total=0, active=0, idle=0, waiting=0)\r\n2023-11-28T04:23:22.549+02:00  INFO 13140 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-11-28T04:23:22.562+02:00  INFO 13140 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-11-28T04:23:22.585+02:00  INFO 13140 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-11-28T04:23:22.621+02:00 ERROR 13140 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat com.riskanalysisexpertsystem..Application.main(Application.java:14) ~[classes/:na]\r\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:277) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:231) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:199) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1383) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 16 common frames omitted\r\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:154) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:236) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:189) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:122) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:229) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:381) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:193) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:69) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t... 31 common frames omitted\r\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.Oracle19cDialect]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:123) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:150) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t... 41 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.Oracle19cDialect\r\n\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:215) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:120) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t... 42 common frames omitted\r\nCaused by: java.lang.Throwable: null\r\n\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:208) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t... 47 common frames omitted\r\n\tSuppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.Oracle19cDialect\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:205) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t\t... 47 common frames omitted\r\n\tSuppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.Oracle19cDialect\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:205) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t\t... 47 common frames omitted\r\n\tSuppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.Oracle19cDialect\r\n\t\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\t\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\t\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:205) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\t\t... 47 common frames omitted\r\n\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] [1;31mBUILD FAILURE[m\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] Total time:  13.490 s\r\n[[1;34mINFO[m] Finished at: 2023-11-28T04:23:22+02:00\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;31mERROR[m] Failed to execute goal [32morg.springframework.boot:spring-boot-maven-plugin:3.1.5:run[m [1m(default-cli)[m on project [36m[m: [1;31mProcess terminated with exit code: 1[m -&gt; [1m[Help 1][m\r\n[[1;31mERROR[m] \r\n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\r\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\r\n[[1;31mERROR[m] \r\n[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\r\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI tried creating a bean and it was unsuccessful. \r\nI&#39;ve tried removing the Dialect, but I&#39;m still however to unable to create a bean\r\nChecked the database to ensure the values match.","link":"https://stackoverflow.com/questions/77561150/error-creating-bean-using-java-oracle-19c-database","title":"Error creating bean using Java Oracle 19c database","body":"<p>I am currently in the process of developing a test log bean using JPA to facilitate CRUD operations. I'm however facing the error below, I'm using oracle 19c as the database.</p>\n<pre><code>Unable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\n</code></pre>\n<p>Here's the service class, TestingLogService</p>\n<pre><code>import java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class TestingLogService {\n\n    private final TestingLogRepository testingLogRepository;\n    \n    @Autowired\n    public TestingLogService(TestingLogRepository testingLogRepository) {\n        this.testingLogRepository = testingLogRepository;\n    }\n    public List&lt;TestingLog&gt; getTestingLogList(){\n        return testingLogRepository.findAll();\n    }\n}\n</code></pre>\n<p>Here is the repository class,</p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface TestingLogRepository extends JpaRepository&lt;TestingLog, Long&gt;{\n}\n</code></pre>\n<p>Here is the entity class</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n\n@Entity\n@Table(name = &quot;testing_log&quot;)\npublic class TestingLog {\n    \n    @Id\n    Long id;\n    \n    @Column(name = &quot;testing_type&quot;)\n    private String testingType;\n    \n    @Column(name = &quot;file_location&quot;)\n    private String fileLocation;\n    \n    @Column(name = &quot;time_period&quot;)\n    private LocalDateTime timestamp; \n    \n    @Column(name = &quot;class_name&quot;)\n    private String className;\n    \n    @Column(name = &quot;accuracy&quot;)\n    private Double accuracy;\n    \n    @Column(name = &quot;record_base_line&quot;)\n    private String recordBaseLine;\n    \n    //No-argument constructor (for JPA)\n    public TestingLog() {\n        \n    }\n\n    public TestingLog(Long id, String testingType, String fileLocation, LocalDateTime timestamp, String className, Double accuracy, String recordBaseLine) {\n        super();\n        this.id = id;\n        this.testingType = testingType;\n        this.fileLocation = fileLocation;\n        this.timestamp = timestamp;\n        this.className = className;\n        this.accuracy = accuracy;\n        this.recordBaseLine = recordBaseLine;\n    }\n\n//getters and setters\n</code></pre>\n<p>Here's the controller class</p>\n<pre><code>import java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(path = &quot;api/v1/testingLog&quot;)\npublic class TestingLogController {\n    \n    private final TestingLogService testingLogService;\n    \n    @Autowired\n    public TestingLogController(TestingLogService testingLogService) {\n        this.testingLogService = testingLogService;\n    }\n    \n    @GetMapping(&quot;/all&quot;)\n    public List&lt;TestingLog&gt; getTestingLogList(){\n        return testingLogService.getTestingLogList();\n    }\n    \n}\n\n</code></pre>\n<p>Here's the application.properties</p>\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@\nspring.datasource.username=\nspring.datasource.password=\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\nspring.datasource.xa-data-source-class-name=oracle.jdbc.xa.client.OracleXADataSource\n\nspring.jpa.database-platform=org.hibernate.dialect.Oracle19cDialect\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.format_sql=true\n\nlogging.level.org.springframework.web: INFO\nlogging.level.org.hibernate: DEBUG\nlogging.level.org.hibernate.SQL: DEBUG\nlogging.level.org.hibernate.type: TRACE\nlogging.level.com.zaxxer.hikari: DEBUG\n</code></pre>\n<p>Here's the application class</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class AppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AppApplication.class, args);\n    }\n}\n</code></pre>\n<p>Error log:</p>\n<pre><code>org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:154) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:236) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:189) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:122) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$1.execute(JdbcEnvironmentInitiator.java:358) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$1.execute(JdbcEnvironmentInitiator.java:280) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.jdbc.WorkExecutor.executeReturningWork(WorkExecutor.java:56) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.jdbc.AbstractReturningWork.accept(AbstractReturningWork.java:34) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:70) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:279) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:193) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:69) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:231) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:199) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1383) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\n    at com.riskanalysisexpertsystem..Application.main(Application.java:14) ~[classes/:na]\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.Oracle19cDialect]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:123) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:150) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    ... 45 common frames omitted\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.Oracle19cDialect\n    at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:215) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:120) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    ... 46 common frames omitted\nCaused by: java.lang.Throwable: null\n    at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:208) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    ... 51 common frames omitted\n    Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.Oracle19cDialect\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n        at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:205) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n        ... 51 common frames omitted\n    Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.Oracle19cDialect\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n        at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:205) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n        ... 51 common frames omitted\n    Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.Oracle19cDialect\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n        at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:205) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n        ... 51 common frames omitted\n\n2023-11-28T04:23:22.082+02:00 DEBUG 13140 --- [           main] o.hibernate.service.spi.ServiceBinding   : Overriding existing service binding [org.hibernate.engine.jdbc.connections.spi.ConnectionProvider]\n2023-11-28T04:23:22.082+02:00 ERROR 13140 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\n2023-11-28T04:23:22.083+02:00  WARN 13140 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\n2023-11-28T04:23:22.083+02:00  INFO 13140 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-11-28T04:23:22.083+02:00 DEBUG 13140 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Before shutdown stats (total=1, active=0, idle=1, waiting=0)\n2023-11-28T04:23:22.085+02:00 DEBUG 13140 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection oracle.jdbc.driver.T4CConnection@50dc49e1: (connection evicted)\n2023-11-28T04:23:22.548+02:00 DEBUG 13140 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - After shutdown stats (total=0, active=0, idle=0, waiting=0)\n2023-11-28T04:23:22.549+02:00  INFO 13140 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-11-28T04:23:22.562+02:00  INFO 13140 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-11-28T04:23:22.585+02:00  INFO 13140 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-11-28T04:23:22.621+02:00 ERROR 13140 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\n    at com.riskanalysisexpertsystem..Application.main(Application.java:14) ~[classes/:na]\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:277) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:231) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:199) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:169) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1383) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 16 common frames omitted\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.Oracle19cDialect] as strategy [org.hibernate.dialect.Dialect]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:154) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:236) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:189) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:122) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:229) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:381) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:193) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:69) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    ... 31 common frames omitted\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.Oracle19cDialect]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:123) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:150) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    ... 41 common frames omitted\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.Oracle19cDialect\n    at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:215) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:120) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    ... 42 common frames omitted\nCaused by: java.lang.Throwable: null\n    at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:208) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    ... 47 common frames omitted\n    Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.Oracle19cDialect\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n        at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:205) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n        ... 47 common frames omitted\n    Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.Oracle19cDialect\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n        at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:205) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n        ... 47 common frames omitted\n    Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.Oracle19cDialect\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n        at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:205) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n        ... 47 common frames omitted\n\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] [1;31mBUILD FAILURE[m\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] Total time:  13.490 s\n[[1;34mINFO[m] Finished at: 2023-11-28T04:23:22+02:00\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;31mERROR[m] Failed to execute goal [32morg.springframework.boot:spring-boot-maven-plugin:3.1.5:run[m [1m(default-cli)[m on project [36m[m: [1;31mProcess terminated with exit code: 1[m -&gt; [1m[Help 1][m\n[[1;31mERROR[m] \n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n[[1;31mERROR[m] \n[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\n</code></pre>\n<p>I tried creating a bean and it was unsuccessful.\nI've tried removing the Dialect, but I'm still however to unable to create a bean\nChecked the database to ensure the values match.</p>\n"},{"tags":["java","kubernetes","vault","hashicorp"],"comments":[{"score":0,"post_type":"question","creation_date":1701171601,"post_id":77561110,"comment_id":136739699,"body_markdown":"(Note that the container process does fundamentally need the actual text of the credentials, and someone who can run `kubectl run` can impersonate the Pod well enough to interact with a secrets manager.  Vault still has some significant advantages, such as having a well-defined place to store the secrets, and some advanced features such as one-time credentials for some use cases.)","link":"https://stackoverflow.com/questions/77561110/hashicorp-vault-in-kubernetes-java-application-deployment-security#comment136739699_77561110","body":"(Note that the container process does fundamentally need the actual text of the credentials, and someone who can run <code>kubectl run</code> can impersonate the Pod well enough to interact with a secrets manager.  Vault still has some significant advantages, such as having a well-defined place to store the secrets, and some advanced features such as one-time credentials for some use cases.)"}],"comment_count":1,"is_answered":false,"view_count":34,"answer_count":0,"score":0,"last_activity_date":1701140597,"creation_date":1701140597,"question_id":77561110,"body_markdown":"I have a question regarding HashiCorp Vault. I recently installed HashiCorp Vault in Kubernetes and integrated it into a Kubernetes deployment. The secrets appear in the /vault/secrets/ directory. I&#39;m unsure if this is the intended behavior or if I am doing something wrong. If someone gains access to the pod, they can easily read the file with secrets. This raises the question of why HashiCorp Vault is needed if I&#39;m simply importing a file with secrets into the pod, which can be read.\r\n\r\nCould you please advise if I am doing something wrong or if there are any best practices for security to ensure that secrets are not visible and cannot be read by my Java application?\r\n\r\nI&#39;ve read that it&#39;s possible to implement secrets from HashiCorp Vault as environment variables in a Kubernetes deployment, but I&#39;m wondering if this is secure.\r\n\r\nAlternatively, should I perform integration with HashiCorp Vault directly in my Java application and input the secrets directly into the application?\r\n\r\nI would appreciate your advice and any useful references. If you could also provide examples that you use in production, I would be grateful.","link":"https://stackoverflow.com/questions/77561110/hashicorp-vault-in-kubernetes-java-application-deployment-security","title":"Hashicorp vault in kubernetes java application deployment - security","body":"<p>I have a question regarding HashiCorp Vault. I recently installed HashiCorp Vault in Kubernetes and integrated it into a Kubernetes deployment. The secrets appear in the /vault/secrets/ directory. I'm unsure if this is the intended behavior or if I am doing something wrong. If someone gains access to the pod, they can easily read the file with secrets. This raises the question of why HashiCorp Vault is needed if I'm simply importing a file with secrets into the pod, which can be read.</p>\n<p>Could you please advise if I am doing something wrong or if there are any best practices for security to ensure that secrets are not visible and cannot be read by my Java application?</p>\n<p>I've read that it's possible to implement secrets from HashiCorp Vault as environment variables in a Kubernetes deployment, but I'm wondering if this is secure.</p>\n<p>Alternatively, should I perform integration with HashiCorp Vault directly in my Java application and input the secrets directly into the application?</p>\n<p>I would appreciate your advice and any useful references. If you could also provide examples that you use in production, I would be grateful.</p>\n"},{"tags":["java"],"comments":[{"score":0,"post_type":"question","creation_date":1701097897,"post_id":77557612,"comment_id":136729516,"body_markdown":"The error is pretty clear. There is no column named `year`, which is right as your table definition doesn&#39;t have that. It has many columns but not one named `year`.","link":"https://stackoverflow.com/questions/77557612/hibernate-jpql-native-query-error-column-does-not-exist-and-could-not-locat#comment136729516_77557612","body":"The error is pretty clear. There is no column named <code>year</code>, which is right as your table definition doesn&#39;t have that. It has many columns but not one named <code>year</code>."},{"score":0,"post_type":"question","creation_date":1701097916,"post_id":77557612,"comment_id":136729525,"body_markdown":"Your `create table` does show neither a column named `year` nor a clomun named `value`, so the error message is perfectly right. That you don&#39;t want to use the table as it&#39;s defined also goes to show that your database-design is way off...","link":"https://stackoverflow.com/questions/77557612/hibernate-jpql-native-query-error-column-does-not-exist-and-could-not-locat#comment136729525_77557612","body":"Your <code>create table</code> does show neither a column named <code>year</code> nor a clomun named <code>value</code>, so the error message is perfectly right. That you don&#39;t want to use the table as it&#39;s defined also goes to show that your database-design is way off..."},{"score":0,"post_type":"question","creation_date":1701140502,"post_id":77557612,"comment_id":136735672,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","link":"https://stackoverflow.com/questions/77557612/hibernate-jpql-native-query-error-column-does-not-exist-and-could-not-locat#comment136735672_77557612","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701098120,"creation_date":1701098120,"answer_id":77557994,"question_id":77557612,"body_markdown":"Here are some of the issues:\r\n\r\nIn the else there is the WHERE sido = :cityName so you have a mapping to cityName that can be done with query.setParameter(&quot;cityName&quot;, cityName); but this does not exist in the if, leading to your second error.\r\n\r\nYour table does not contain a &quot;value&quot; column, nor does it contain a &quot;year&quot; column so it fails finding one, also if you create a year column, it will fail on the sum as there is no value.\r\n\r\nAlso the object returned by your query does not ressemble an AllScenario object, so the automatic mapping would likely fail.\r\n\r\n**Solution**\r\n\r\nWhat are those y2022, y2023... columns ? It looks like partitioning ? Maybe this should be reworked into the year column with a partition ? though the partition will not like the autoincrement on the id.\r\n\r\nThen create a value column.\r\n\r\nFinally create another object like &quot;AggregatedAllValues&quot; that as the year, sido, sgg, SUM(value) AS sumValue as attributes (sgg being null for the first query) like in https://stackoverflow.com/questions/64569420/how-to-return-map-with-multiple-sum-in-jpql-jpa or with manual mapping if you prefer\r\n\r\nAlso you might consider not doing an impl of the repository and leave an interface with two custom queries and do the if in the service calling them. That would spare the entityManager injection and errors in the query params\r\n","link":"https://stackoverflow.com/questions/77557612/hibernate-jpql-native-query-error-column-does-not-exist-and-could-not-locat/77557994#77557994","title":"Hibernate JPQL native query error - &quot;column does not exist&quot; and &quot;Could not locate named parameter&quot;","body":"<p>Here are some of the issues:</p>\n<p>In the else there is the WHERE sido = :cityName so you have a mapping to cityName that can be done with query.setParameter(&quot;cityName&quot;, cityName); but this does not exist in the if, leading to your second error.</p>\n<p>Your table does not contain a &quot;value&quot; column, nor does it contain a &quot;year&quot; column so it fails finding one, also if you create a year column, it will fail on the sum as there is no value.</p>\n<p>Also the object returned by your query does not ressemble an AllScenario object, so the automatic mapping would likely fail.</p>\n<p><strong>Solution</strong></p>\n<p>What are those y2022, y2023... columns ? It looks like partitioning ? Maybe this should be reworked into the year column with a partition ? though the partition will not like the autoincrement on the id.</p>\n<p>Then create a value column.</p>\n<p>Finally create another object like &quot;AggregatedAllValues&quot; that as the year, sido, sgg, SUM(value) AS sumValue as attributes (sgg being null for the first query) like in <a href=\"https://stackoverflow.com/questions/64569420/how-to-return-map-with-multiple-sum-in-jpql-jpa\">How to return map with multiple sum in jpql jpa?</a> or with manual mapping if you prefer</p>\n<p>Also you might consider not doing an impl of the repository and leave an interface with two custom queries and do the if in the service calling them. That would spare the entityManager injection and errors in the query params</p>\n"}],"comment_count":3,"is_answered":true,"view_count":34,"answer_count":1,"score":-1,"last_activity_date":1701139678,"creation_date":1701094849,"last_edit_date":1701139678,"question_id":77557612,"body_markdown":"Hibernate JPQL native query error - &quot;column does not exist&quot; and &quot;Could not locate named parameter&quot;Hibernate JPQL native query error - &quot;column does not exist&quot; and &quot;Could not locate named parameter&quot;","link":"https://stackoverflow.com/questions/77557612/hibernate-jpql-native-query-error-column-does-not-exist-and-could-not-locat","title":"Hibernate JPQL native query error - &quot;column does not exist&quot; and &quot;Could not locate named parameter&quot;","body":"<p>Hibernate JPQL native query error - &quot;column does not exist&quot; and &quot;Could not locate named parameter&quot;Hibernate JPQL native query error - &quot;column does not exist&quot; and &quot;Could not locate named parameter&quot;</p>\n"},{"tags":["java","apache-spark","quarkus","java.util.logging"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701139581,"creation_date":1701139581,"answer_id":77561071,"question_id":77543538,"body_markdown":"Spark is invoking [org.slf4j.bridge.SLF4JBridgeHandler::removeHandlersForRootLogger][1] when the session is newly created.  After all handlers are removed they then install the SLF4JBridgeHandler on the root JUL logger.  The problem is that this code is run after you setup your JUL logger.\r\n\r\nWhat should work the best is using [SLF4J with java.util.logging][2] and have either log4j2 configuration file or logback configuration file control all of your loggers.  Then JUL will route to SLF4J and SLF4J will bind with the provider you prefer.\r\n\r\n  [1]: https://github.com/apache/spark/blob/b7763a7eae2b9609012cbb4ce981276c6471cc4e/common/utils/src/main/scala/org/apache/spark/internal/Logging.scala#L201\r\n  [2]: https://www.slf4j.org/manual.html","link":"https://stackoverflow.com/questions/77543538/java-util-logging-stops-working-after-sparksession-is-created/77561071#77561071","title":"java.util.logging stops working after SparkSession is created","body":"<p>Spark is invoking <a href=\"https://github.com/apache/spark/blob/b7763a7eae2b9609012cbb4ce981276c6471cc4e/common/utils/src/main/scala/org/apache/spark/internal/Logging.scala#L201\" rel=\"nofollow noreferrer\">org.slf4j.bridge.SLF4JBridgeHandler::removeHandlersForRootLogger</a> when the session is newly created.  After all handlers are removed they then install the SLF4JBridgeHandler on the root JUL logger.  The problem is that this code is run after you setup your JUL logger.</p>\n<p>What should work the best is using <a href=\"https://www.slf4j.org/manual.html\" rel=\"nofollow noreferrer\">SLF4J with java.util.logging</a> and have either log4j2 configuration file or logback configuration file control all of your loggers.  Then JUL will route to SLF4J and SLF4J will bind with the provider you prefer.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":21,"answer_count":1,"score":0,"last_activity_date":1701139581,"creation_date":1700832926,"question_id":77543538,"body_markdown":"I have a Java application running on Quarkus for reading Delta Lake tables and Parquet files using Spark libraries with version `3.5.0`. Following method works fine in the matter of reading the data, but my problem is with logging (java.util.logging).\r\n\r\n```\r\n public static long getParquetFileRowCount(String parquetFilePath) {\r\n        logger.log(Level.INFO, &quot;Starting to read parquet file: &quot; + parquetFilePath);\r\n        long count = 0;\r\n\r\n        try (\r\n                SparkSession spark = SparkSession\r\n                .builder()\r\n                .appName(&quot;Java Spark SQL basic example&quot;)\r\n                .config(&quot;spark.local.dir&quot;,&quot;/tmp&quot;)\r\n                .config(&quot;spark.master&quot;, &quot;local&quot;)\r\n                .getOrCreate()) {\r\n\r\n            count = parquetRowCount(spark, parquetFilePath);\r\n\r\n            spark.stop();\r\n        }\r\n        System.out.println(&quot;SOUT Read parquet file: &quot; + parquetFilePath + &quot; finished.&quot;);\r\n        System.out.println(&quot;SOUT count: &quot; + count);\r\n        logger.log(Level.INFO, &quot;Read parquet file: &quot; + parquetFilePath + &quot; finished.&quot;);\r\n\r\n        return count;\r\n}\r\n```\r\n\r\nThe output:\r\n\r\n```\r\nINFO: Starting to read parquet file: *filepath*\r\nSOUT Read parquet file: *filepath* finished.\r\nSOUT count: *count*\r\n```\r\n\r\nSo the only message displayed is from SOUT method and not the logger, even any other log from different class from my application. Even after next execution of the mothed only messages from SOUT are in the output.\r\n\r\nIs there a way to make java.util.logging work with Spark? ","link":"https://stackoverflow.com/questions/77543538/java-util-logging-stops-working-after-sparksession-is-created","title":"java.util.logging stops working after SparkSession is created","body":"<p>I have a Java application running on Quarkus for reading Delta Lake tables and Parquet files using Spark libraries with version <code>3.5.0</code>. Following method works fine in the matter of reading the data, but my problem is with logging (java.util.logging).</p>\n<pre><code> public static long getParquetFileRowCount(String parquetFilePath) {\n        logger.log(Level.INFO, &quot;Starting to read parquet file: &quot; + parquetFilePath);\n        long count = 0;\n\n        try (\n                SparkSession spark = SparkSession\n                .builder()\n                .appName(&quot;Java Spark SQL basic example&quot;)\n                .config(&quot;spark.local.dir&quot;,&quot;/tmp&quot;)\n                .config(&quot;spark.master&quot;, &quot;local&quot;)\n                .getOrCreate()) {\n\n            count = parquetRowCount(spark, parquetFilePath);\n\n            spark.stop();\n        }\n        System.out.println(&quot;SOUT Read parquet file: &quot; + parquetFilePath + &quot; finished.&quot;);\n        System.out.println(&quot;SOUT count: &quot; + count);\n        logger.log(Level.INFO, &quot;Read parquet file: &quot; + parquetFilePath + &quot; finished.&quot;);\n\n        return count;\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>INFO: Starting to read parquet file: *filepath*\nSOUT Read parquet file: *filepath* finished.\nSOUT count: *count*\n</code></pre>\n<p>So the only message displayed is from SOUT method and not the logger, even any other log from different class from my application. Even after next execution of the mothed only messages from SOUT are in the output.</p>\n<p>Is there a way to make java.util.logging work with Spark?</p>\n"},{"tags":["java","regex","fortify","denial-of-service"],"comments":[{"score":4,"post_type":"question","creation_date":1701095277,"post_id":77557606,"comment_id":136728916,"body_markdown":"First, I think your security scanning tool is overly critical: This is unlikely to cause an issue. Second, even so constructing a regex at runtime is a bad habit to get into and can almost always be avoided entirely. Especially this specific use seems weird: what are you trying to do here? If you want a string to be all numbers except (for example) for the last character, simply use something like `^[0-9]*[^0-9]$` to check that, no need to construct a pattern dynamically.","link":"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression#comment136728916_77557606","body":"First, I think your security scanning tool is overly critical: This is unlikely to cause an issue. Second, even so constructing a regex at runtime is a bad habit to get into and can almost always be avoided entirely. Especially this specific use seems weird: what are you trying to do here? If you want a string to be all numbers except (for example) for the last character, simply use something like <code>^[0-9]*[^0-9]$</code> to check that, no need to construct a pattern dynamically."},{"score":0,"post_type":"question","creation_date":1701096116,"post_id":77557606,"comment_id":136729127,"body_markdown":"@JoachimSauer `^[0-9]*[^0-9]$` probably won&#39;t work, the resulting pattern from the question is something like `[0-9]{9}` (for example), so it seems OP wants to capture numeric string with exact length. The fix is probably to validate that `len` is within some range, and to make sure it&#39;s not negative, as that would lead to some funny regex.","link":"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression#comment136729127_77557606","body":"@JoachimSauer <code>^[0-9]*[^0-9]$</code> probably won&#39;t work, the resulting pattern from the question is something like <code>[0-9]{9}</code> (for example), so it seems OP wants to capture numeric string with exact length. The fix is probably to validate that <code>len</code> is within some range, and to make sure it&#39;s not negative, as that would lead to some funny regex."},{"score":0,"post_type":"question","creation_date":1701096196,"post_id":77557606,"comment_id":136729144,"body_markdown":"@Chaosfire: they use `len-1`, which my pattern also checks: all but one character must be digits.","link":"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression#comment136729144_77557606","body":"@Chaosfire: they use <code>len-1</code>, which my pattern also checks: all but one character must be digits."},{"score":0,"post_type":"question","creation_date":1701096643,"post_id":77557606,"comment_id":136729236,"body_markdown":"@JoachimSauer The example in questions results in regex like this one - `[0-9]{2}`, if `len` was `3`, let&#39;s say. This regex captures *exactly* two digits. I don&#39;t see anything that suggests only digits followed by one non digit.","link":"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression#comment136729236_77557606","body":"@JoachimSauer The example in questions results in regex like this one - <code>[0-9]{2}</code>, if <code>len</code> was <code>3</code>, let&#39;s say. This regex captures <i>exactly</i> two digits. I don&#39;t see anything that suggests only digits followed by one non digit."},{"score":1,"post_type":"question","creation_date":1701097089,"post_id":77557606,"comment_id":136729334,"body_markdown":"@Chaosfire: all of that is correct, but `len` is being set to exactly the length of the input string in the first line and assume that this input string is also what the regex is applied to.","link":"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression#comment136729334_77557606","body":"@Chaosfire: all of that is correct, but <code>len</code> is being set to exactly the length of the input string in the first line and assume that this input string is also what the regex is applied to."},{"score":2,"post_type":"question","creation_date":1701100587,"post_id":77557606,"comment_id":136730190,"body_markdown":"maybe we need a [mre], or better explanation .. anyway, as I already commented, `&quot;[0-9]{-1}&quot;` is an invalid regular expression and will throw an exception","link":"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression#comment136730190_77557606","body":"maybe we need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, or better explanation .. anyway, as I already commented, <code>&quot;[0-9]{-1}&quot;</code> is an invalid regular expression and will throw an exception"},{"score":2,"post_type":"question","creation_date":1701101714,"post_id":77557606,"comment_id":136730443,"body_markdown":"As a side note, the invocation of `Integer.toString` is obsolete, just `&quot;[0-9]{&quot;+(len-1)+&quot;}&quot;` would do the same.","link":"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression#comment136730443_77557606","body":"As a side note, the invocation of <code>Integer.toString</code> is obsolete, just <code>&quot;[0-9]{&quot;+(len-1)+&quot;}&quot;</code> would do the same."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701096259,"post_id":77557666,"comment_id":136729155,"body_markdown":"But something like `[0-9]+` would capture the same length group, so how is this any worse?","link":"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression/77557666#comment136729155_77557666","body":"But something like <code>[0-9]+</code> would capture the same length group, so how is this any worse?"},{"score":0,"post_type":"answer","creation_date":1701097889,"post_id":77557666,"comment_id":136729514,"body_markdown":"@JoachimSauer the perspective of the scanner. unrestricted user input = bad. its not about the code make sense, its about stuff to make fortify happy. i know it dumb, but some clients insist.","link":"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression/77557666#comment136729514_77557666","body":"@JoachimSauer the perspective of the scanner. unrestricted user input = bad. its not about the code make sense, its about stuff to make fortify happy. i know it dumb, but some clients insist."},{"score":0,"post_type":"answer","creation_date":1701098290,"post_id":77557666,"comment_id":136729615,"body_markdown":"Ok, I understand that, but you&#39;re not saying that in your answer, you&#39;re claiming that it is a DoS and not that the tool wrongly things it is a DoS. Working around restrictions of your tools is fine, but one should be aware if that&#39;s what one is doing.","link":"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression/77557666#comment136729615_77557666","body":"Ok, I understand that, but you&#39;re not saying that in your answer, you&#39;re claiming that it is a DoS and not that the tool wrongly things it is a DoS. Working around restrictions of your tools is fine, but one should be aware if that&#39;s what one is doing."}],"comment_count":3,"score":1,"last_activity_date":1701139235,"last_edit_date":1701139235,"creation_date":1701095409,"answer_id":77557666,"question_id":77557606,"body_markdown":"The fortify scanner is giving a good catch on this one, reason being user supplied pattern.\r\n\r\n    Pattern p= Pattern.compile(&quot;[0-9]{&quot;+Integer.toString(len-1)+&quot;}&quot;); \r\n\r\nFortify see the regex pattern constructed based on user input which may result in a DoS. Even so, the resulting pattern on your case at worst will ask the app to capture 2,147,483,646 characters - an enormous number but won&#39;t result in catastrophic backtracking. However, you should keep in mind that large enough integer in the quantifier may be rejected by the regex engine.\r\n\r\nYou could rewrite the code with regex only ensuring the string consist of only integers while length checking done using the good old `String.length()`.\r\n\r\n    int len = inputString.length();\r\n    Pattern p= Pattern.compile(&quot;^[0-9]+$&quot;);\r\n    if(myString.length() == len &amp;&amp; p.matcher(myString).find())\r\n    {\r\n        //success\r\n    }\r\n    else\r\n    {\r\n        //fail\r\n    }\r\n    \r\n\r\n\r\nAlso, keep in mind there are [many ways to broke regex](https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS).","link":"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression/77557666#77557666","title":"Denial of service: regular expression","body":"<p>The fortify scanner is giving a good catch on this one, reason being user supplied pattern.</p>\n<pre><code>Pattern p= Pattern.compile(&quot;[0-9]{&quot;+Integer.toString(len-1)+&quot;}&quot;); \n</code></pre>\n<p>Fortify see the regex pattern constructed based on user input which may result in a DoS. Even so, the resulting pattern on your case at worst will ask the app to capture 2,147,483,646 characters - an enormous number but won't result in catastrophic backtracking. However, you should keep in mind that large enough integer in the quantifier may be rejected by the regex engine.</p>\n<p>You could rewrite the code with regex only ensuring the string consist of only integers while length checking done using the good old <code>String.length()</code>.</p>\n<pre><code>int len = inputString.length();\nPattern p= Pattern.compile(&quot;^[0-9]+$&quot;);\nif(myString.length() == len &amp;&amp; p.matcher(myString).find())\n{\n    //success\n}\nelse\n{\n    //fail\n}\n</code></pre>\n<p>Also, keep in mind there are <a href=\"https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS\" rel=\"nofollow noreferrer\">many ways to broke regex</a>.</p>\n"}],"comment_count":7,"is_answered":true,"view_count":131,"answer_count":1,"score":0,"last_activity_date":1701139235,"creation_date":1701094803,"last_edit_date":1701114299,"question_id":77557606,"body_markdown":"When we send this code to fortify scan\r\n \r\n```\r\nint len=inputString.length();\r\nPattern p= Pattern.compile(&quot;[0-9]{&quot;+Integer.toString(len-1)+&quot;}&quot;); \r\n```\r\nThe second line is vulnerable to Denial of Service: regular expression.\r\n\r\nHow to resolve this issue? I tried different ways, but nothing is working out. ","link":"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression","title":"Denial of service: regular expression","body":"<p>When we send this code to fortify scan</p>\n<pre><code>int len=inputString.length();\nPattern p= Pattern.compile(&quot;[0-9]{&quot;+Integer.toString(len-1)+&quot;}&quot;); \n</code></pre>\n<p>The second line is vulnerable to Denial of Service: regular expression.</p>\n<p>How to resolve this issue? I tried different ways, but nothing is working out.</p>\n"},{"tags":["java","android","path","android-sdcard"],"comments":[{"score":0,"post_type":"question","creation_date":1701118030,"post_id":77559172,"comment_id":136733266,"body_markdown":"`all the SD card directories` What do you consider to be &#39;the SD card directory&#39;? A removable micro sd card?","link":"https://stackoverflow.com/questions/77559172/how-to-show-the-list-of-all-file-names-in-the-sd-card-directory-of-android-devic#comment136733266_77559172","body":"<code>all the SD card directories</code> What do you consider to be &#39;the SD card directory&#39;? A removable micro sd card?"},{"score":0,"post_type":"question","creation_date":1701118055,"post_id":77559172,"comment_id":136733268,"body_markdown":"Also tell Android version of used device.","link":"https://stackoverflow.com/questions/77559172/how-to-show-the-list-of-all-file-names-in-the-sd-card-directory-of-android-devic#comment136733268_77559172","body":"Also tell Android version of used device."},{"score":0,"post_type":"question","creation_date":1701138653,"post_id":77559172,"comment_id":136735531,"body_markdown":"Yes, it should be a removable SD card.\nAndroid 14 (API level 34)","link":"https://stackoverflow.com/questions/77559172/how-to-show-the-list-of-all-file-names-in-the-sd-card-directory-of-android-devic#comment136735531_77559172","body":"Yes, it should be a removable SD card. Android 14 (API level 34)"},{"score":0,"post_type":"question","creation_date":1701162915,"post_id":77559172,"comment_id":136738145,"body_markdown":"Then edit your post and tell the readers right away. And you cannot use getExternalStorageDirectory() for removable micro sd card. You should have seen that already.","link":"https://stackoverflow.com/questions/77559172/how-to-show-the-list-of-all-file-names-in-the-sd-card-directory-of-android-devic#comment136738145_77559172","body":"Then edit your post and tell the readers right away. And you cannot use getExternalStorageDirectory() for removable micro sd card. You should have seen that already."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701145457,"post_id":77559694,"comment_id":136736004,"body_markdown":"It is still showing only the directories name but not showing the text files saved inside those folders.","link":"https://stackoverflow.com/questions/77559172/how-to-show-the-list-of-all-file-names-in-the-sd-card-directory-of-android-devic/77559694#comment136736004_77559694","body":"It is still showing only the directories name but not showing the text files saved inside those folders."}],"comment_count":1,"score":0,"last_activity_date":1701116139,"creation_date":1701116139,"answer_id":77559694,"question_id":77559172,"body_markdown":"This may help you:\r\n\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.util.Log;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.io.File;\r\n    \r\n    public class LogFileListActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_log_file_list);\r\n    \r\n           \r\n            File rootDirectory = Environment.getExternalStorageDirectory();\r\n    \r\n          \r\n            logFiles(rootDirectory);\r\n    \r\n            previously)\r\n            logFilesInDownload();\r\n        }\r\n    \r\n        private void logFiles(File directory) {\r\n            if (directory.exists() &amp;&amp; directory.isDirectory()) {\r\n                File[] files = directory.listFiles();\r\n    \r\n                if (files != null) {\r\n                    for (File file : files) {\r\n                        if (file.isDirectory()) {\r\n                          \r\n                            Log.e(&quot;##FILE_INFO&quot;, &quot;Directory Name: &quot; + file.getName() + &quot;, Directory Path: &quot; + file.getAbsolutePath());\r\n                           \r\n                            logFiles(file);\r\n                        } else {\r\n                            \r\n                            Log.e(&quot;##FILE_INFO&quot;, &quot;File Name: &quot; + file.getName() + &quot;, File Path: &quot; + file.getAbsolutePath());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void logFilesInDownload() {\r\n           \r\n            File downloadFolder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n    \r\n           \r\n            logFiles(downloadFolder);\r\n        \r\n\r\n}\r\n}\r\n","link":"https://stackoverflow.com/questions/77559172/how-to-show-the-list-of-all-file-names-in-the-sd-card-directory-of-android-devic/77559694#77559694","title":"How to show the list of all file names in the SD card directory of Android device?","body":"<p>This may help you:</p>\n<pre><code>import android.os.Bundle;\nimport android.os.Environment;\nimport android.util.Log;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.File;\n\npublic class LogFileListActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_log_file_list);\n\n       \n        File rootDirectory = Environment.getExternalStorageDirectory();\n\n      \n        logFiles(rootDirectory);\n\n        previously)\n        logFilesInDownload();\n    }\n\n    private void logFiles(File directory) {\n        if (directory.exists() &amp;&amp; directory.isDirectory()) {\n            File[] files = directory.listFiles();\n\n            if (files != null) {\n                for (File file : files) {\n                    if (file.isDirectory()) {\n                      \n                        Log.e(&quot;##FILE_INFO&quot;, &quot;Directory Name: &quot; + file.getName() + &quot;, Directory Path: &quot; + file.getAbsolutePath());\n                       \n                        logFiles(file);\n                    } else {\n                        \n                        Log.e(&quot;##FILE_INFO&quot;, &quot;File Name: &quot; + file.getName() + &quot;, File Path: &quot; + file.getAbsolutePath());\n                    }\n                }\n            }\n        }\n    }\n\n    private void logFilesInDownload() {\n       \n        File downloadFolder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\n\n       \n        logFiles(downloadFolder);\n    \n</code></pre>\n<p>}\n}</p>\n"}],"comment_count":4,"is_answered":false,"view_count":38,"answer_count":1,"score":0,"last_activity_date":1701139213,"creation_date":1701109835,"last_edit_date":1701139213,"question_id":77559172,"body_markdown":"In my Android native Java project, I have a class, where I wanted to show the log for all the SD card directories and file names inside those folders. My Android OS version:\r\n\r\n**Android 14 (API level 34)**\r\n\r\n**Here&#39;s the code:**\r\n\r\n    public class LogFileListActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_log_file_list);\r\n    \r\n            // Get the root directory of the SD card\r\n            File rootDirectory = Environment.getExternalStorageDirectory();\r\n    \r\n            // Log all files in the root directory\r\n            logFiles(rootDirectory);\r\n    \r\n            // Log files in the &quot;Podcasts&quot; folder\r\n            logFilesInPodcasts();\r\n    \r\n        }\r\n    \r\n    \r\n        private void logFiles(File directory) {\r\n            if (directory.exists() &amp;&amp; directory.isDirectory()) {\r\n                File[] files = directory.listFiles();\r\n    \r\n                if (files != null) {\r\n                    for (File file : files) {\r\n                        Log.e(&quot;##FILE_INFO&quot;, &quot;File Name: &quot; + file.getName() + &quot;, File Path: &quot; + file.getAbsolutePath());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        private void logFilesInPodcasts() {\r\n            // Get the &quot;Podcasts&quot; folder\r\n            File podcastsFolder = new File(Environment.getExternalStorageDirectory(), &quot;Download&quot;);\r\n    \r\n            // Log files in the &quot;Podcasts&quot; folder\r\n            logFiles(podcastsFolder);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**Now, the problem is:**\r\n\r\nRather showing the directory of SD card, it is showing the folders under sdk_gphone64_x86_64.\r\nAnother problem - It is logging till the child directory, but not showing the list of file names under them. So, I need a solution to get all the file names as well under each directory.\r\n\r\nI want a solution where I can see all the list of files at any directory of the devices. How can I do that?","link":"https://stackoverflow.com/questions/77559172/how-to-show-the-list-of-all-file-names-in-the-sd-card-directory-of-android-devic","title":"How to show the list of all file names in the SD card directory of Android device?","body":"<p>In my Android native Java project, I have a class, where I wanted to show the log for all the SD card directories and file names inside those folders. My Android OS version:</p>\n<p><strong>Android 14 (API level 34)</strong></p>\n<p><strong>Here's the code:</strong></p>\n<pre><code>public class LogFileListActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_log_file_list);\n\n        // Get the root directory of the SD card\n        File rootDirectory = Environment.getExternalStorageDirectory();\n\n        // Log all files in the root directory\n        logFiles(rootDirectory);\n\n        // Log files in the &quot;Podcasts&quot; folder\n        logFilesInPodcasts();\n\n    }\n\n\n    private void logFiles(File directory) {\n        if (directory.exists() &amp;&amp; directory.isDirectory()) {\n            File[] files = directory.listFiles();\n\n            if (files != null) {\n                for (File file : files) {\n                    Log.e(&quot;##FILE_INFO&quot;, &quot;File Name: &quot; + file.getName() + &quot;, File Path: &quot; + file.getAbsolutePath());\n                }\n            }\n        }\n    }\n\n\n    private void logFilesInPodcasts() {\n        // Get the &quot;Podcasts&quot; folder\n        File podcastsFolder = new File(Environment.getExternalStorageDirectory(), &quot;Download&quot;);\n\n        // Log files in the &quot;Podcasts&quot; folder\n        logFiles(podcastsFolder);\n    }\n\n}\n</code></pre>\n<p><strong>Now, the problem is:</strong></p>\n<p>Rather showing the directory of SD card, it is showing the folders under sdk_gphone64_x86_64.\nAnother problem - It is logging till the child directory, but not showing the list of file names under them. So, I need a solution to get all the file names as well under each directory.</p>\n<p>I want a solution where I can see all the list of files at any directory of the devices. How can I do that?</p>\n"},{"tags":["java","android","multithreading","firebase-storage"],"comments":[{"score":2,"post_type":"question","creation_date":1701143022,"post_id":77560922,"comment_id":136735841,"body_markdown":"getDownloadUrl is already asynchronous, so it doesn&#39;t make much sense to put it in its own thread.  The Task callbacks (success and failure listeners) deliver the result back to the main thread. If you don&#39;t see anything printed from either callback, maybe something is blocking the main thread.  Modern Android applications should generally have no need for Thread or Task, preferring instead LiveData and other utilities for managing async work.","link":"https://stackoverflow.com/questions/77560922/getdownloadurl-from-firebasestorage-using-thread-in-java#comment136735841_77560922","body":"getDownloadUrl is already asynchronous, so it doesn&#39;t make much sense to put it in its own thread.  The Task callbacks (success and failure listeners) deliver the result back to the main thread. If you don&#39;t see anything printed from either callback, maybe something is blocking the main thread.  Modern Android applications should generally have no need for Thread or Task, preferring instead LiveData and other utilities for managing async work."}],"comment_count":1,"is_answered":false,"view_count":38,"answer_count":0,"score":0,"last_activity_date":1701138037,"creation_date":1701136545,"last_edit_date":1701138037,"question_id":77560922,"body_markdown":"In my code I&#39;m trying to get Uri for Firebase Storage references using Threads (for making a queue):\r\n\r\n    public class GetThemeThread implements Runnable {\r\n        private volatile Article article;\r\n        private final StorageReference reference;\r\n        private Context context;\r\n    \r\n        public GetThemeThread(StorageReference reference) {\r\n            this.reference = reference;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;Print1: &quot; + reference);\r\n            reference.child(&quot;title.jpg&quot;).getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                @Override\r\n                public void onSuccess(Uri uri) {\r\n                    System.out.println(&quot;Print2: &quot; + uri.toString());\r\n                    article = new Article(reference.getName(), uri);\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Toast.makeText(context, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n    \r\n        public Article getArticle() {\r\n            return article;\r\n        }\r\n    }\r\n\r\nList of references is formed before in previous Activity. And I&#39;m sure that it was formed correctly (have already checked it). And I also ensure that this file in Firebase reference exists. But it doesn&#39;t work in such variant((  It gets nothing (null) instead of Uri.... It prints the reference correctly in a line &quot;Print1&quot;, but doesn&#39;t print anything in line with &quot;Print2&quot;.\r\nPreviosuly I tried using Task instead of Thread with the same code and it worked correctly.","link":"https://stackoverflow.com/questions/77560922/getdownloadurl-from-firebasestorage-using-thread-in-java","title":"getDownloadUrl from FirebaseStorage using Thread in java","body":"<p>In my code I'm trying to get Uri for Firebase Storage references using Threads (for making a queue):</p>\n<pre><code>public class GetThemeThread implements Runnable {\n    private volatile Article article;\n    private final StorageReference reference;\n    private Context context;\n\n    public GetThemeThread(StorageReference reference) {\n        this.reference = reference;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Print1: &quot; + reference);\n        reference.child(&quot;title.jpg&quot;).getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n            @Override\n            public void onSuccess(Uri uri) {\n                System.out.println(&quot;Print2: &quot; + uri.toString());\n                article = new Article(reference.getName(), uri);\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(context, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n                e.printStackTrace();\n            }\n        });\n    }\n\n    public Article getArticle() {\n        return article;\n    }\n}\n</code></pre>\n<p>List of references is formed before in previous Activity. And I'm sure that it was formed correctly (have already checked it). And I also ensure that this file in Firebase reference exists. But it doesn't work in such variant((  It gets nothing (null) instead of Uri.... It prints the reference correctly in a line &quot;Print1&quot;, but doesn't print anything in line with &quot;Print2&quot;.\nPreviosuly I tried using Task instead of Thread with the same code and it worked correctly.</p>\n"},{"tags":["java","maven","maven-compiler-plugin"],"comments":[{"score":1,"post_type":"question","creation_date":1699563207,"post_id":77456233,"comment_id":136551465,"body_markdown":"Short answer, no and it shouldn&#39;t. Maven is a build tool and designed to compile everything on the scope of a project. Here is an example why it shouldn&#39;t: Say you have A and B classes. A uses a method on B called `xMethod` you then rename B xMethod to yMethod. How will your A class know that a change was made? It should fail in the compilation process because a reference was broken.","link":"https://stackoverflow.com/questions/77456233/why-mvn-compile-lifecycle-phase-is-not-compiling-only-changed-java-files#comment136551465_77456233","body":"Short answer, no and it shouldn&#39;t. Maven is a build tool and designed to compile everything on the scope of a project. Here is an example why it shouldn&#39;t: Say you have A and B classes. A uses a method on B called <code>xMethod</code> you then rename B xMethod to yMethod. How will your A class know that a change was made? It should fail in the compilation process because a reference was broken."},{"score":0,"post_type":"question","creation_date":1699564259,"post_id":77456233,"comment_id":136551623,"body_markdown":"@JorgeCampos Bad. The another build system Gradle compile only changed files.","link":"https://stackoverflow.com/questions/77456233/why-mvn-compile-lifecycle-phase-is-not-compiling-only-changed-java-files#comment136551623_77456233","body":"@JorgeCampos Bad. The another build system Gradle compile only changed files."},{"score":0,"post_type":"question","creation_date":1699564591,"post_id":77456233,"comment_id":136551678,"body_markdown":"What you are talking about in Gradle is called Compile Avoidance and it is not that it only compiles changed files it compiles everything that is needed to be compiled, in the example given for instance it would still compile both A and B. Here https://blog.gradle.org/incremental-compiler-avoidance","link":"https://stackoverflow.com/questions/77456233/why-mvn-compile-lifecycle-phase-is-not-compiling-only-changed-java-files#comment136551678_77456233","body":"What you are talking about in Gradle is called Compile Avoidance and it is not that it only compiles changed files it compiles everything that is needed to be compiled, in the example given for instance it would still compile both A and B. Here <a href=\"https://blog.gradle.org/incremental-compiler-avoidance\" rel=\"nofollow noreferrer\">blog.gradle.org/incremental-compiler-avoidance</a>"},{"score":0,"post_type":"question","creation_date":1699569685,"post_id":77456233,"comment_id":136552375,"body_markdown":"First I strongly recommend to use the most recent version of the maven-compiler-plugin (https://maven.apache.org/plugins/) because version 3.1 is more than a decade old. Second you should only use `&lt;maven.compiler.source&gt;..&lt;/maven.compiler.source&gt;` and `&lt;maven.compiler.target&gt;..&lt;/maven.compiler.target` if building with JDK8 or less... for JDK9+ you should use only `&lt;maven.compiler.release&gt;..&lt;/maven.compiler.release&gt;` and only define in the properties and no supplemental configuration in the plugin itself. The `&lt;compilerVersion&gt;..&lt;/compilerVersion&gt;` only makes sense if you defined forking","link":"https://stackoverflow.com/questions/77456233/why-mvn-compile-lifecycle-phase-is-not-compiling-only-changed-java-files#comment136552375_77456233","body":"First I strongly recommend to use the most recent version of the maven-compiler-plugin (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>) because version 3.1 is more than a decade old. Second you should only use <code>&lt;maven.compiler.source&gt;..&lt;&#47;maven.compiler.source&gt;</code> and <code>&lt;maven.compiler.target&gt;..&lt;&#47;maven.compiler.target</code> if building with JDK8 or less... for JDK9+ you should use only <code>&lt;maven.compiler.release&gt;..&lt;&#47;maven.compiler.release&gt;</code> and only define in the properties and no supplemental configuration in the plugin itself. The <code>&lt;compilerVersion&gt;..&lt;&#47;compilerVersion&gt;</code> only makes sense if you defined forking"},{"score":0,"post_type":"question","creation_date":1699569736,"post_id":77456233,"comment_id":136552383,"body_markdown":"This is also true for maven-surefire-plugin... check the linked page https://maven.apache.org/plugins/","link":"https://stackoverflow.com/questions/77456233/why-mvn-compile-lifecycle-phase-is-not-compiling-only-changed-java-files#comment136552383_77456233","body":"This is also true for maven-surefire-plugin... check the linked page <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>"}],"answers":[{"comments":[{"score":3,"post_type":"answer","creation_date":1699628134,"post_id":77460511,"comment_id":136559564,"body_markdown":"Upgrade the verisons you are using... those things are ancient old...","link":"https://stackoverflow.com/questions/77456233/why-mvn-compile-lifecycle-phase-is-not-compiling-only-changed-java-files/77460511#comment136559564_77460511","body":"Upgrade the verisons you are using... those things are ancient old..."},{"score":0,"post_type":"answer","creation_date":1699628511,"post_id":77460511,"comment_id":136559642,"body_markdown":"@khmarbaise Updated my answer.","link":"https://stackoverflow.com/questions/77456233/why-mvn-compile-lifecycle-phase-is-not-compiling-only-changed-java-files/77460511#comment136559642_77460511","body":"@khmarbaise Updated my answer."}],"comment_count":2,"score":1,"last_activity_date":1701136031,"last_edit_date":1701136031,"creation_date":1699624381,"answer_id":77460511,"question_id":77456233,"body_markdown":"You need to use `&lt;useIncrementalCompilation&gt;` feature from `maven-compiler-plugin`.\r\n\r\nRead the Maven docs for [`useIncrementalCompilation`][1].\r\n\r\n---\r\nJust add the below line in the `maven-compiler-plugin`.\r\n\r\n    &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n\r\nThis will make sure that changed files are only picked up for compilation. \r\n\r\nUpdated **pom.xml**:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testprojectcodestyle&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.13.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.11.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;compilerVersion&gt;${java.version}&lt;/compilerVersion&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                        &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n**Note:** Try to use the latest version for maven plugins. Although `&lt;useIncrementalCompilation&gt;` feature works from `maven-compiler-plugin` version **3.1** onwards.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#useIncrementalCompilation","link":"https://stackoverflow.com/questions/77456233/why-mvn-compile-lifecycle-phase-is-not-compiling-only-changed-java-files/77460511#77460511","title":"Why mvn compile lifecycle phase is not compiling only changed java files?","body":"<p>You need to use <code>&lt;useIncrementalCompilation&gt;</code> feature from <code>maven-compiler-plugin</code>.</p>\n<p>Read the Maven docs for <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#useIncrementalCompilation\" rel=\"nofollow noreferrer\"><code>useIncrementalCompilation</code></a>.</p>\n<hr />\n<p>Just add the below line in the <code>maven-compiler-plugin</code>.</p>\n<pre><code>&lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n</code></pre>\n<p>This will make sure that changed files are only picked up for compilation.</p>\n<p>Updated <strong>pom.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;testprojectcodestyle&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerVersion&gt;${java.version}&lt;/compilerVersion&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Note:</strong> Try to use the latest version for maven plugins. Although <code>&lt;useIncrementalCompilation&gt;</code> feature works from <code>maven-compiler-plugin</code> version <strong>3.1</strong> onwards.</p>\n"}],"comment_count":5,"is_answered":true,"view_count":105,"answer_count":1,"score":1,"last_activity_date":1701136031,"creation_date":1699562866,"last_edit_date":1699710821,"question_id":77456233,"body_markdown":"I have a Java project which is using **JDK 1.8** and **Maven 3.9** build tool.\r\n\r\nHere is the **pom.xml**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testprojectcodestyle&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.13.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;compilerVersion&gt;${java.version}&lt;/compilerVersion&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nNow, when I executed `mvn compile` phase on the project. I see that it compiled 5 files. That&#39;s okay.\r\n\r\nNow I changed only one file and executed the `mvn compile` phase again. It compiled the 5 files again. \r\n\r\nWhy this happened? Is it possible to tell maven to compile only changed files?\r\n\r\n ","link":"https://stackoverflow.com/questions/77456233/why-mvn-compile-lifecycle-phase-is-not-compiling-only-changed-java-files","title":"Why mvn compile lifecycle phase is not compiling only changed java files?","body":"<p>I have a Java project which is using <strong>JDK 1.8</strong> and <strong>Maven 3.9</strong> build tool.</p>\n<p>Here is the <strong>pom.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;testprojectcodestyle&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerVersion&gt;${java.version}&lt;/compilerVersion&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Now, when I executed <code>mvn compile</code> phase on the project. I see that it compiled 5 files. That's okay.</p>\n<p>Now I changed only one file and executed the <code>mvn compile</code> phase again. It compiled the 5 files again.</p>\n<p>Why this happened? Is it possible to tell maven to compile only changed files?</p>\n"},{"tags":["java","bit-fields"],"comments":[{"score":0,"post_type":"question","creation_date":1701136066,"post_id":77560897,"comment_id":136735341,"body_markdown":"The &quot;first&quot; field is 32 bits wide.  The &quot;second&quot; field is 2 bits wide,  The &quot;third&quot; field is 3 bits wide.  Then there will be 27 bits of padding.  So, you can&#39;t use `JAVA_INT`.  Maybe `value_layout(2)`.","link":"https://stackoverflow.com/questions/77560897/c-lang-bit-fields-described-by-memorylayout-in-java#comment136735341_77560897","body":"The &quot;first&quot; field is 32 bits wide.  The &quot;second&quot; field is 2 bits wide,  The &quot;third&quot; field is 3 bits wide.  Then there will be 27 bits of padding.  So, you can&#39;t use <code>JAVA_INT</code>.  Maybe <code>value_layout(2)</code>."},{"score":0,"post_type":"question","creation_date":1701136527,"post_id":77560897,"comment_id":136735383,"body_markdown":"@TimRoberts So the answer would be: There is no way to describe it directly. One has to replace bit fields by `int`s and access their values using bitwise operations?","link":"https://stackoverflow.com/questions/77560897/c-lang-bit-fields-described-by-memorylayout-in-java#comment136735383_77560897","body":"@TimRoberts So the answer would be: There is no way to describe it directly. One has to replace bit fields by <code>int</code>s and access their values using bitwise operations?"},{"score":1,"post_type":"question","creation_date":1701136624,"post_id":77560897,"comment_id":136735386,"body_markdown":"@TimRoberts Since when is `unsigned int` guaranteed to be 32 bits wide?","link":"https://stackoverflow.com/questions/77560897/c-lang-bit-fields-described-by-memorylayout-in-java#comment136735386_77560897","body":"@TimRoberts Since when is <code>unsigned int</code> guaranteed to be 32 bits wide?"},{"score":0,"post_type":"question","creation_date":1701145314,"post_id":77560897,"comment_id":136735997,"body_markdown":"@czerny -- `MemoryValue.ofValueBits` allows you to specify a number of bits, but I don&#39;t know whether it allows values that are not a multiple of 8.","link":"https://stackoverflow.com/questions/77560897/c-lang-bit-fields-described-by-memorylayout-in-java#comment136735997_77560897","body":"@czerny -- <code>MemoryValue.ofValueBits</code> allows you to specify a number of bits, but I don&#39;t know whether it allows values that are not a multiple of 8."},{"score":0,"post_type":"question","creation_date":1701145401,"post_id":77560897,"comment_id":136736001,"body_markdown":"@ElliottFrisch wins the pedantic prize, but we all know that the C compilers for all of the major operating systems have 32-bit `unsigned int`s.  If you&#39;re using something embedded, then be aware.","link":"https://stackoverflow.com/questions/77560897/c-lang-bit-fields-described-by-memorylayout-in-java#comment136736001_77560897","body":"@ElliottFrisch wins the pedantic prize, but we all know that the C compilers for all of the major operating systems have 32-bit <code>unsigned int</code>s.  If you&#39;re using something embedded, then be aware."},{"score":0,"post_type":"question","creation_date":1701145877,"post_id":77560897,"comment_id":136736030,"body_markdown":"@TimRoberts Sorry. I&#39;ve learned to use `uint32_t` when I need a 32-bit `unsigned int` after many *painful* debugging sessions. I miss having hair.","link":"https://stackoverflow.com/questions/77560897/c-lang-bit-fields-described-by-memorylayout-in-java#comment136736030_77560897","body":"@TimRoberts Sorry. I&#39;ve learned to use <code>uint32_t</code> when I need a 32-bit <code>unsigned int</code> after many <i>painful</i> debugging sessions. I miss having hair."},{"score":0,"post_type":"question","creation_date":1701219420,"post_id":77560897,"comment_id":136747753,"body_markdown":"@TimRoberts Could you please share link to `MemoryValue.ofValueBits` you&#39;ve mentioned above? I can find it neither in [current - 21 release](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/MemoryLayout.html) nor in [upcomming - 22 release](https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/foreign/MemoryLayout.html).","link":"https://stackoverflow.com/questions/77560897/c-lang-bit-fields-described-by-memorylayout-in-java#comment136747753_77560897","body":"@TimRoberts Could you please share link to <code>MemoryValue.ofValueBits</code> you&#39;ve mentioned above? I can find it neither in <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/MemoryLayout.html\" rel=\"nofollow noreferrer\">current - 21 release</a> nor in <a href=\"https://download.java.net/java/early_access/jdk22/docs/api/java.base/java/lang/foreign/MemoryLayout.html\" rel=\"nofollow noreferrer\">upcomming - 22 release</a>."},{"score":0,"post_type":"question","creation_date":1701238842,"post_id":77560897,"comment_id":136749473,"body_markdown":"Hmm, it looks like that was the older design (16), and they now use a template instead, so arbitrary bit fields are not possible.","link":"https://stackoverflow.com/questions/77560897/c-lang-bit-fields-described-by-memorylayout-in-java#comment136749473_77560897","body":"Hmm, it looks like that was the older design (16), and they now use a template instead, so arbitrary bit fields are not possible."}],"comment_count":8,"is_answered":false,"view_count":36,"answer_count":0,"score":0,"last_activity_date":1701135902,"creation_date":1701135902,"question_id":77560897,"body_markdown":"How can a C language `struct` using [Bit fields](https://learn.microsoft.com/en-us/cpp/c-language/c-bit-fields) be described using Java [`MemoryLayout`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/MemoryLayout.html) API (part of [JEP 442: Foreign Function &amp; Memory API (Third Preview)](https://openjdk.org/jeps/442))?\r\n\r\nFor example how to describe C `struct` declaration\r\n\r\n&lt;!-- language: lang-c --&gt;\r\n```\r\nstruct {\r\n    unsigned int first;\r\n    unsigned int second: 2;\r\n    unsigned int third: 3;\r\n};\r\n```\r\n?\r\n\r\nWhen ignoring the bit fields it would be something like\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n```\r\nMemoryLayout.structLayout(\r\n        ValueLayout.JAVA_INT.withName(&quot;first&quot;),\r\n        ValueLayout.JAVA_INT.withName(&quot;second&quot;),\r\n        ValueLayout.JAVA_INT.withName(&quot;third&quot;)\r\n);\r\n```\r\n\r\n","link":"https://stackoverflow.com/questions/77560897/c-lang-bit-fields-described-by-memorylayout-in-java","title":"C lang Bit fields described by MemoryLayout in Java","body":"<p>How can a C language <code>struct</code> using <a href=\"https://learn.microsoft.com/en-us/cpp/c-language/c-bit-fields\" rel=\"nofollow noreferrer\">Bit fields</a> be described using Java <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/MemoryLayout.html\" rel=\"nofollow noreferrer\"><code>MemoryLayout</code></a> API (part of <a href=\"https://openjdk.org/jeps/442\" rel=\"nofollow noreferrer\">JEP 442: Foreign Function &amp; Memory API (Third Preview)</a>)?</p>\n<p>For example how to describe C <code>struct</code> declaration</p>\n<pre class=\"lang-c prettyprint-override\"><code>struct {\n    unsigned int first;\n    unsigned int second: 2;\n    unsigned int third: 3;\n};\n</code></pre>\n<p>?</p>\n<p>When ignoring the bit fields it would be something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>MemoryLayout.structLayout(\n        ValueLayout.JAVA_INT.withName(&quot;first&quot;),\n        ValueLayout.JAVA_INT.withName(&quot;second&quot;),\n        ValueLayout.JAVA_INT.withName(&quot;third&quot;)\n);\n</code></pre>\n"},{"tags":["java","spring","azure","single-sign-on","pfx"],"comments":[{"score":0,"post_type":"question","creation_date":1702283788,"post_id":77560889,"comment_id":136872885,"body_markdown":"ayone has integrated Azure SSo before? please help on this","link":"https://stackoverflow.com/questions/77560889/springboot3-0-saml2-integrated-with-microsoft-azure-saml-sso-how-to-generate-p#comment136872885_77560889","body":"ayone has integrated Azure SSo before? please help on this"}],"comment_count":1,"is_answered":false,"view_count":34,"answer_count":0,"score":-1,"last_activity_date":1701135687,"creation_date":1701135687,"question_id":77560889,"body_markdown":"My code is from this tutorial https://developer.okta.com/blog/2022/08/05/spring-boot-saml\r\n\r\ni can create private key and cert  .crt, however in Microsoft Azure, it is allowed to upload .pfx file only. i try to create .pfx from (private key + .crt), but when i upload .pfx, it is not working when logout.\r\n\r\nPlease help on this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4g5hk.png","link":"https://stackoverflow.com/questions/77560889/springboot3-0-saml2-integrated-with-microsoft-azure-saml-sso-how-to-generate-p","title":"Springboot3.0 Saml2 integrated with Microsoft Azure SAML SSO - how to generate private key and cert - .pfx cert","body":"<p>My code is from this tutorial <a href=\"https://developer.okta.com/blog/2022/08/05/spring-boot-saml\" rel=\"nofollow noreferrer\">https://developer.okta.com/blog/2022/08/05/spring-boot-saml</a></p>\n<p>i can create private key and cert  .crt, however in Microsoft Azure, it is allowed to upload .pfx file only. i try to create .pfx from (private key + .crt), but when i upload .pfx, it is not working when logout.</p>\n<p>Please help on this</p>\n<p><a href=\"https://i.stack.imgur.com/4g5hk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4g5hk.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","openssl","smtp","tomcat8"],"comment_count":0,"is_answered":false,"view_count":43,"answer_count":0,"score":0,"last_activity_date":1701135487,"creation_date":1701091629,"last_edit_date":1701135487,"question_id":77557278,"body_markdown":"Recently, I updated my website by installing Tomcat 8.0.3 on Ubuntu 22.04. I was only having trouble sending emails with Spring Boot. I tried Gmail, Outlook and Yandex to send via SMTP and encountered the same problem in all of them. While emails were sent smoothly with localhost, when I uploaded the WAR file, email sending requests were timing out. While researching this issue with Outlook settings configured, I suspected that Openssl was not able to connect via IPv6. Thereupon, I disabled the IPv6 connection by making changes to /etc/sysctl.conf. Openssl started to connect with both IPv6 and IPv4, but this time I encountered the 503 Service Unavailable error. I thought that resetting the /etc/sysctl.conf settings would fix this, but it didn&#39;t. Tomcat started to give errors at startup due to a problem that I thought was caused by the Spring application.\r\n\r\n```\r\n$ tail /opt/tomcat/logs/catalina.out\r\nSEVERE [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.loader.WebappClassLoader.clearReferencesJdbc The web application [/website] registered the JDBC driver [org.sqlite.JDBC] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\r\nINFO [localhost-startStop-8] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /opt/tomcat/webapps/ROOT\r\nWARNING [localhost-startStop-8] org.apache.catalina.startup.SetContextPropertiesRule.begin [SetContextPropertiesRule]{Context} Setting property &#39;antiJARLocking&#39; to &#39;true&#39; did not find a matching property.\r\nlog4j:WARN No appenders could be found for logger (org.springframework.web.context.ContextLoader).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nINFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.startup.HostConfig.undeploy Undeploying context [/2]\r\nSEVERE [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.loader.WebappClassLoader.clearReferencesJdbc The web application [/2] registered the JDBC driver [org.sqlite.JDBC] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\r\n```\r\n\r\n\r\nThese are the statuses of the ports:\r\n\r\n```\r\n$ sudo netstat -anltp | grep LISTEN\r\ntcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      229/systemd-resolve\r\ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      361039/sshd: /usr/s\r\ntcp        0      0 127.0.0.1:6010          0.0.0.0:*               LISTEN      520099/sshd: user@p\r\ntcp        0      0 127.0.0.1:6011          0.0.0.0:*               LISTEN      520146/sshd: user@p\r\ntcp        0      0 127.0.0.1:6012          0.0.0.0:*               LISTEN      520207/sshd: user@p\r\ntcp        0      0 127.0.0.1:6013          0.0.0.0:*               LISTEN      520317/sshd: user@p\r\ntcp6       0      0 :::8080                 :::*                    LISTEN      520261/java\r\ntcp6       0      0 :::80                   :::*                    LISTEN      370771/apache2\r\ntcp6       0      0 :::22                   :::*                    LISTEN      361039/sshd: /usr/s\r\ntcp6       0      0 ::1:6010                :::*                    LISTEN      520099/sshd: user@p\r\ntcp6       1      0 :::8443                 :::*                    LISTEN      520261/java\r\ntcp6       0      0 ::1:6011                :::*                    LISTEN      520146/sshd: user@p\r\ntcp6       0      0 :::443                  :::*                    LISTEN      370771/apache2\r\ntcp6       0      0 ::1:6012                :::*                    LISTEN      520207/sshd: user@p\r\ntcp6       0      0 ::1:6013                :::*                    LISTEN      520317/sshd: user@p\r\ntcp6       0      0 127.0.0.1:8005          :::*                    LISTEN      520261/java\r\ntcp6       0      0 ::1:8009                :::*                    LISTEN      520261/java\r\n```\r\n\r\nHow can I fix this situation? Any idea will be appreciated.\r\n\r\n\r\nInstalled versions:\r\nSpring/4.0.1, openjdk/1.8.0_382, Apache/2.4.52, OpenSSL/3.0.2\r\n\r\n**UPDATE:**\r\nMy project was prepared in Tomcat 7. I found out that the antiJARLocking attribute has been replaced by antiResourceLocking in Tomcat 8. When I made the change in the context.xml file, Tomcat started without any problems. Then I made soft reboot of my vps server. Thus, the website became online.\r\n","link":"https://stackoverflow.com/questions/77557278/disable-ipv6-caused-tomcat-startup-failure","title":"Disable IPv6 caused Tomcat startup failure","body":"<p>Recently, I updated my website by installing Tomcat 8.0.3 on Ubuntu 22.04. I was only having trouble sending emails with Spring Boot. I tried Gmail, Outlook and Yandex to send via SMTP and encountered the same problem in all of them. While emails were sent smoothly with localhost, when I uploaded the WAR file, email sending requests were timing out. While researching this issue with Outlook settings configured, I suspected that Openssl was not able to connect via IPv6. Thereupon, I disabled the IPv6 connection by making changes to /etc/sysctl.conf. Openssl started to connect with both IPv6 and IPv4, but this time I encountered the 503 Service Unavailable error. I thought that resetting the /etc/sysctl.conf settings would fix this, but it didn't. Tomcat started to give errors at startup due to a problem that I thought was caused by the Spring application.</p>\n<pre><code>$ tail /opt/tomcat/logs/catalina.out\nSEVERE [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.loader.WebappClassLoader.clearReferencesJdbc The web application [/website] registered the JDBC driver [org.sqlite.JDBC] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\nINFO [localhost-startStop-8] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /opt/tomcat/webapps/ROOT\nWARNING [localhost-startStop-8] org.apache.catalina.startup.SetContextPropertiesRule.begin [SetContextPropertiesRule]{Context} Setting property 'antiJARLocking' to 'true' did not find a matching property.\nlog4j:WARN No appenders could be found for logger (org.springframework.web.context.ContextLoader).\nlog4j:WARN Please initialize the log4j system properly.\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nINFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.startup.HostConfig.undeploy Undeploying context [/2]\nSEVERE [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.loader.WebappClassLoader.clearReferencesJdbc The web application [/2] registered the JDBC driver [org.sqlite.JDBC] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\n</code></pre>\n<p>These are the statuses of the ports:</p>\n<pre><code>$ sudo netstat -anltp | grep LISTEN\ntcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      229/systemd-resolve\ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      361039/sshd: /usr/s\ntcp        0      0 127.0.0.1:6010          0.0.0.0:*               LISTEN      520099/sshd: user@p\ntcp        0      0 127.0.0.1:6011          0.0.0.0:*               LISTEN      520146/sshd: user@p\ntcp        0      0 127.0.0.1:6012          0.0.0.0:*               LISTEN      520207/sshd: user@p\ntcp        0      0 127.0.0.1:6013          0.0.0.0:*               LISTEN      520317/sshd: user@p\ntcp6       0      0 :::8080                 :::*                    LISTEN      520261/java\ntcp6       0      0 :::80                   :::*                    LISTEN      370771/apache2\ntcp6       0      0 :::22                   :::*                    LISTEN      361039/sshd: /usr/s\ntcp6       0      0 ::1:6010                :::*                    LISTEN      520099/sshd: user@p\ntcp6       1      0 :::8443                 :::*                    LISTEN      520261/java\ntcp6       0      0 ::1:6011                :::*                    LISTEN      520146/sshd: user@p\ntcp6       0      0 :::443                  :::*                    LISTEN      370771/apache2\ntcp6       0      0 ::1:6012                :::*                    LISTEN      520207/sshd: user@p\ntcp6       0      0 ::1:6013                :::*                    LISTEN      520317/sshd: user@p\ntcp6       0      0 127.0.0.1:8005          :::*                    LISTEN      520261/java\ntcp6       0      0 ::1:8009                :::*                    LISTEN      520261/java\n</code></pre>\n<p>How can I fix this situation? Any idea will be appreciated.</p>\n<p>Installed versions:\nSpring/4.0.1, openjdk/1.8.0_382, Apache/2.4.52, OpenSSL/3.0.2</p>\n<p><strong>UPDATE:</strong>\nMy project was prepared in Tomcat 7. I found out that the antiJARLocking attribute has been replaced by antiResourceLocking in Tomcat 8. When I made the change in the context.xml file, Tomcat started without any problems. Then I made soft reboot of my vps server. Thus, the website became online.</p>\n"},{"tags":["java","android"],"comments":[{"score":1,"post_type":"question","creation_date":1701102747,"post_id":77558414,"comment_id":136730626,"body_markdown":"add the relevant code as text, not as image","link":"https://stackoverflow.com/questions/77558414/how-to-fix-data-serial-not-read-and-return-consistently#comment136730626_77558414","body":"add the relevant code as text, not as image"}],"comment_count":1,"is_answered":false,"view_count":30,"answer_count":0,"score":0,"last_activity_date":1701133235,"creation_date":1701102100,"last_edit_date":1701133235,"question_id":77558414,"body_markdown":"I want to return response/data from a vending machine to my Android app (Java). The weird things is whenever I debug and put breakpoint, the message/data returns in one full line, but if I run app in normal way without debug it returns separately. Expected result is FinalMessages : 1300001838FA.\r\n\r\nShows below the picture\r\n\r\n     @Override\r\n    public void onSerialRead(byte[] data) {\r\n        ArrayDeque&lt;byte[]&gt; datas = new ArrayDeque&lt;&gt;();\r\n        datas.add(data);\r\n        receivedMessage(String.valueOf(datas));\r\n    }\r\n\r\n    public void onSerialRead(ArrayDeque&lt;byte[]&gt; datas) {\r\n        StringBuilder concatenatedMsg = new StringBuilder();\r\n        for (byte[] data : datas) {\r\n            String msg = new String(data);\r\n\r\n            // Append the message to the StringBuilder\r\n            concatenatedMsg.append(msg);\r\n        }\r\n        receivedMessage(String.valueOf(concatenatedMsg));\r\n    }\r\n     private void receivedMessage(String datas) {\r\n        // After the loop, check the concatenated message\r\n        String finalMessage = datas.toString();\r\n        if (finalMessage.contains(&quot;1300&quot;)||finalMessage.contains(&quot;130&quot;)||finalMessage.contains(&quot;300&quot;)) {\r\n            handlePaymentSale();\r\n        } else {\r\n            Log.d(TAG, &quot;&quot;);\r\n        }\r\n        Log.d(TAG, &quot;FINAL MESSAGES&quot;+finalMessage);\r\n    }\r\n\r\n      This is from log looks like, it supposed to be FINAL \r\n      MESSAGES36303123.. Straight in one line \r\n      D  FINAL MESSAGES363\r\n      D  \r\n      D  FINAL MESSAGES63\r\n      D  \r\n      D  FINAL MESSAGES0\r\n      D  \r\n      D  FINAL MESSAGES3\r\n\r\nI have tried a lot, like do a looping and concatenating. The result is still the same.","link":"https://stackoverflow.com/questions/77558414/how-to-fix-data-serial-not-read-and-return-consistently","title":"How to fix data serial not read and return consistently","body":"<p>I want to return response/data from a vending machine to my Android app (Java). The weird things is whenever I debug and put breakpoint, the message/data returns in one full line, but if I run app in normal way without debug it returns separately. Expected result is FinalMessages : 1300001838FA.</p>\n<p>Shows below the picture</p>\n<pre><code> @Override\npublic void onSerialRead(byte[] data) {\n    ArrayDeque&lt;byte[]&gt; datas = new ArrayDeque&lt;&gt;();\n    datas.add(data);\n    receivedMessage(String.valueOf(datas));\n}\n\npublic void onSerialRead(ArrayDeque&lt;byte[]&gt; datas) {\n    StringBuilder concatenatedMsg = new StringBuilder();\n    for (byte[] data : datas) {\n        String msg = new String(data);\n\n        // Append the message to the StringBuilder\n        concatenatedMsg.append(msg);\n    }\n    receivedMessage(String.valueOf(concatenatedMsg));\n}\n private void receivedMessage(String datas) {\n    // After the loop, check the concatenated message\n    String finalMessage = datas.toString();\n    if (finalMessage.contains(&quot;1300&quot;)||finalMessage.contains(&quot;130&quot;)||finalMessage.contains(&quot;300&quot;)) {\n        handlePaymentSale();\n    } else {\n        Log.d(TAG, &quot;&quot;);\n    }\n    Log.d(TAG, &quot;FINAL MESSAGES&quot;+finalMessage);\n}\n\n  This is from log looks like, it supposed to be FINAL \n  MESSAGES36303123.. Straight in one line \n  D  FINAL MESSAGES363\n  D  \n  D  FINAL MESSAGES63\n  D  \n  D  FINAL MESSAGES0\n  D  \n  D  FINAL MESSAGES3\n</code></pre>\n<p>I have tried a lot, like do a looping and concatenating. The result is still the same.</p>\n"},{"tags":["java","spring-boot","email","scheduler"],"comment_count":0,"is_answered":false,"view_count":27,"answer_count":0,"score":-1,"last_activity_date":1701130223,"creation_date":1701130223,"question_id":77560662,"body_markdown":"I&#39;ve got a problem where there are customers subscribing to a book store, they are being notified of any new books which are added. They are subsribing by the category or author. So when there is a new book added from an author to whom they are subscribed they will get an email saying that it has been added.\r\n\r\nProblem I&#39;ve got is when a user is subscribed to a category and author where both of the requirements are fulfilled by the book when it&#39;s added, rather than 1 email being sent Ive got 2 email going out, which is a performance issue.\r\n\r\nCould you possibly assist with changing the method to send only 1 email when the book meets a requirement of 2 subscriptions for 1 user?\r\n\r\n\r\n```\r\n@Component\r\n@AllArgsConstructor\r\npublic class EmailSchedule {\r\n\r\n\r\n    private EmailService emailService;\r\n\r\n    private SubscriptionService subscriptionService;\r\n\r\n    private BookService bookService;\r\n\r\n    private AppUserService appUserService;\r\n\r\n    @Scheduled(cron = &quot;${scheduled.email.notification.cron}&quot;)\r\n    public void sendScheduledEmailNotification() {\r\n\r\n        int page = 0;\r\n        int pageSize = 1000;\r\n\r\n        Page&lt;SubscriptionDto&gt; subscriptionDtoPage;\r\n\r\n        do {\r\n            Pageable pageable = PageRequest.of(page, pageSize);\r\n            subscriptionDtoPage = subscriptionService.getAllSubscriptions(pageable);\r\n\r\n            for (SubscriptionDto subscriptionDto : subscriptionDtoPage.getContent()) {\r\n                List&lt;BookDto&gt; newBooks;\r\n                if (subscriptionDto.getBookAuthor() != null) {\r\n                    newBooks = bookService.findBooksByAuthor(subscriptionDto.getBookAuthor());\r\n                } else if (subscriptionDto.getBookCategory() != null) {\r\n                    newBooks = bookService.findBooksByCategory(subscriptionDto.getBookCategory());\r\n                } else {\r\n                    continue;\r\n                }\r\n                if (!newBooks.isEmpty()) {\r\n                    AppUser appUser = appUserService.findAppUserBySubscriptionsId(subscriptionDto.getId());\r\n                    emailService.sendNotificationIfNewBooks(appUser.getEmail(), newBooks);\r\n                }\r\n            }\r\n            page++;\r\n        } while (subscriptionDtoPage.hasNext());\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n@AllArgsConstructor\r\n@Service\r\npublic class BookService {\r\n\r\n    private BookRepository bookRepository;\r\n\r\n    private BookMapper bookMapper;\r\n\r\n\r\n    @Transactional\r\n    @PreAuthorize(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n    public BookDto createBook(CreateBookCommand createBookCommand) {\r\n        Book newBook;\r\n        newBook = bookMapper.fromDto(createBookCommand);\r\n        newBook.setAvailable(true);\r\n        newBook.setAddedDate(LocalDate.now());\r\n        return bookMapper.mapToDto(bookRepository.save(newBook));\r\n    }\r\n\r\n    public List&lt;BookDto&gt; findBooksByAuthor(String author) {\r\n        List&lt;Book&gt; books = bookRepository.findBookByAuthorAddedToday(author);\r\n        return books.stream().map(bookMapper::mapToDto).collect(Collectors.toList());\r\n    }\r\n\r\n    public List&lt;BookDto&gt; findBooksByCategory(String category) {\r\n        List&lt;Book&gt; books = bookRepository.findBookByCategoryAddedToday(category);\r\n        return books.stream().map(bookMapper::mapToDto).collect(Collectors.toList());\r\n    }```\r\n\r\n\r\n```\r\npublic interface BookRepository extends JpaRepository&lt;Book, Long&gt; {\r\n\r\n    @Query(&quot;SELECT b FROM Book b WHERE b.addedDate = CURRENT_DATE&quot;)\r\n    List&lt;Book&gt; findBookByAuthorAddedToday(String author);\r\n\r\n    @Query(&quot;SELECT b FROM Book b WHERE b.addedDate = CURRENT_DATE&quot;)\r\n    List&lt;Book&gt; findBookByCategoryAddedToday(String category);\r\n    \r\n}```\r\n\r\n\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\npublic class CreateBookCommand {\r\n\r\n    @NotBlank(message = &quot;Title cannot be blank&quot;)\r\n    private String title;\r\n\r\n    @NotBlank(message = &quot;Author cannot be blank&quot;)\r\n    private String author;\r\n\r\n    @NotBlank(message = &quot;Category cannot be blank&quot;)\r\n    private String category;\r\n}\r\n```\r\n\r\n```\r\n\r\npublic interface SubscriptionRepository extends JpaRepository&lt;Subscription, Long&gt; {\r\n\r\n    @Lock(LockModeType.OPTIMISTIC)\r\n    boolean existsByAppUserIdAndBookCategory(Long appUserId, String category);\r\n\r\n    @Lock(LockModeType.OPTIMISTIC)\r\n    boolean existsByAppUserIdAndBookAuthor(Long appUserId, String author);\r\n\r\n  //  @Query(&quot;SELECT s FROM Subscription s WHERE s.bookAuthor = :author OR s.bookCategory = :category&quot;)\r\n//    List&lt;Subscription&gt; findSubscriptionsByAuthorOrCategory(String author, String category, Pageable pageable);\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(\r\n        name = &quot;app_user&quot;\r\n)\r\n\r\npublic class AppUser {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    @Email \r\n    @Column(unique = true)\r\n    private String email;\r\n\r\n    private String confirmationToken;\r\n    private String password;\r\n\r\n    private boolean enabled;\r\n\r\n    @Version\r\n    private Long version;\r\n\r\n    @OneToMany(mappedBy = &quot;appUser&quot;, cascade = CascadeType.REMOVE)\r\n    private Set&lt;Subscription&gt; subscriptions;\r\n\r\n    public void addSubscription(Subscription subscription) {\r\n        subscriptions.add(subscription);\r\n        subscription.setAppUser(this);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI have tried creating a method using a Map although it&#39;s not memory efficient therefore Ive left that idea behind.","link":"https://stackoverflow.com/questions/77560662/java-spring-boot-subscription-duplicate-being-sent","title":"Java Spring boot subscription duplicate being sent","body":"<p>I've got a problem where there are customers subscribing to a book store, they are being notified of any new books which are added. They are subsribing by the category or author. So when there is a new book added from an author to whom they are subscribed they will get an email saying that it has been added.</p>\n<p>Problem I've got is when a user is subscribed to a category and author where both of the requirements are fulfilled by the book when it's added, rather than 1 email being sent Ive got 2 email going out, which is a performance issue.</p>\n<p>Could you possibly assist with changing the method to send only 1 email when the book meets a requirement of 2 subscriptions for 1 user?</p>\n<pre><code>@Component\n@AllArgsConstructor\npublic class EmailSchedule {\n\n\n    private EmailService emailService;\n\n    private SubscriptionService subscriptionService;\n\n    private BookService bookService;\n\n    private AppUserService appUserService;\n\n    @Scheduled(cron = &quot;${scheduled.email.notification.cron}&quot;)\n    public void sendScheduledEmailNotification() {\n\n        int page = 0;\n        int pageSize = 1000;\n\n        Page&lt;SubscriptionDto&gt; subscriptionDtoPage;\n\n        do {\n            Pageable pageable = PageRequest.of(page, pageSize);\n            subscriptionDtoPage = subscriptionService.getAllSubscriptions(pageable);\n\n            for (SubscriptionDto subscriptionDto : subscriptionDtoPage.getContent()) {\n                List&lt;BookDto&gt; newBooks;\n                if (subscriptionDto.getBookAuthor() != null) {\n                    newBooks = bookService.findBooksByAuthor(subscriptionDto.getBookAuthor());\n                } else if (subscriptionDto.getBookCategory() != null) {\n                    newBooks = bookService.findBooksByCategory(subscriptionDto.getBookCategory());\n                } else {\n                    continue;\n                }\n                if (!newBooks.isEmpty()) {\n                    AppUser appUser = appUserService.findAppUserBySubscriptionsId(subscriptionDto.getId());\n                    emailService.sendNotificationIfNewBooks(appUser.getEmail(), newBooks);\n                }\n            }\n            page++;\n        } while (subscriptionDtoPage.hasNext());\n    }\n}\n\n</code></pre>\n<pre><code>@AllArgsConstructor\n@Service\npublic class BookService {\n\n    private BookRepository bookRepository;\n\n    private BookMapper bookMapper;\n\n\n    @Transactional\n    @PreAuthorize(&quot;hasRole('ROLE_ADMIN')&quot;)\n    public BookDto createBook(CreateBookCommand createBookCommand) {\n        Book newBook;\n        newBook = bookMapper.fromDto(createBookCommand);\n        newBook.setAvailable(true);\n        newBook.setAddedDate(LocalDate.now());\n        return bookMapper.mapToDto(bookRepository.save(newBook));\n    }\n\n    public List&lt;BookDto&gt; findBooksByAuthor(String author) {\n        List&lt;Book&gt; books = bookRepository.findBookByAuthorAddedToday(author);\n        return books.stream().map(bookMapper::mapToDto).collect(Collectors.toList());\n    }\n\n    public List&lt;BookDto&gt; findBooksByCategory(String category) {\n        List&lt;Book&gt; books = bookRepository.findBookByCategoryAddedToday(category);\n        return books.stream().map(bookMapper::mapToDto).collect(Collectors.toList());\n    }```\n\n\n</code></pre>\n<p>public interface BookRepository extends JpaRepository&lt;Book, Long&gt; {</p>\n<pre><code>@Query(&quot;SELECT b FROM Book b WHERE b.addedDate = CURRENT_DATE&quot;)\nList&lt;Book&gt; findBookByAuthorAddedToday(String author);\n\n@Query(&quot;SELECT b FROM Book b WHERE b.addedDate = CURRENT_DATE&quot;)\nList&lt;Book&gt; findBookByCategoryAddedToday(String category);\n</code></pre>\n<p>}```</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\npublic class CreateBookCommand {\n\n    @NotBlank(message = &quot;Title cannot be blank&quot;)\n    private String title;\n\n    @NotBlank(message = &quot;Author cannot be blank&quot;)\n    private String author;\n\n    @NotBlank(message = &quot;Category cannot be blank&quot;)\n    private String category;\n}\n</code></pre>\n<pre><code>\npublic interface SubscriptionRepository extends JpaRepository&lt;Subscription, Long&gt; {\n\n    @Lock(LockModeType.OPTIMISTIC)\n    boolean existsByAppUserIdAndBookCategory(Long appUserId, String category);\n\n    @Lock(LockModeType.OPTIMISTIC)\n    boolean existsByAppUserIdAndBookAuthor(Long appUserId, String author);\n\n  //  @Query(&quot;SELECT s FROM Subscription s WHERE s.bookAuthor = :author OR s.bookCategory = :category&quot;)\n//    List&lt;Subscription&gt; findSubscriptionsByAuthorOrCategory(String author, String category, Pageable pageable);\n\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(\n        name = &quot;app_user&quot;\n)\n\npublic class AppUser {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String firstName;\n    private String lastName;\n    @Email \n    @Column(unique = true)\n    private String email;\n\n    private String confirmationToken;\n    private String password;\n\n    private boolean enabled;\n\n    @Version\n    private Long version;\n\n    @OneToMany(mappedBy = &quot;appUser&quot;, cascade = CascadeType.REMOVE)\n    private Set&lt;Subscription&gt; subscriptions;\n\n    public void addSubscription(Subscription subscription) {\n        subscriptions.add(subscription);\n        subscription.setAppUser(this);\n    }\n\n}\n</code></pre>\n<p>I have tried creating a method using a Map although it's not memory efficient therefore Ive left that idea behind.</p>\n"},{"tags":["java","github","classpath"],"comments":[{"score":0,"post_type":"question","creation_date":1701037598,"post_id":77553655,"comment_id":136722229,"body_markdown":"The edu.virginia.engine imports make it seem like you need some libraries from the University of Virginia to run this program","link":"https://stackoverflow.com/questions/77553655/how-do-i-run-this-github-java-project#comment136722229_77553655","body":"The edu.virginia.engine imports make it seem like you need some libraries from the University of Virginia to run this program"}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701037436,"creation_date":1701037436,"answer_id":77553704,"question_id":77553655,"body_markdown":"The class is in the `ttr.main` package, and named `TTRMain`. Further, there is a `bin` folder containing the **compiled** classes. So, the command you want is to specify the `bin` folder on your classpath and then the fully qualified class name. Like,\r\n\r\n    java -cp bin ttr.main.TTRMain","link":"https://stackoverflow.com/questions/77553655/how-do-i-run-this-github-java-project/77553704#77553704","title":"How do I run this GitHub java project?","body":"<p>The class is in the <code>ttr.main</code> package, and named <code>TTRMain</code>. Further, there is a <code>bin</code> folder containing the <strong>compiled</strong> classes. So, the command you want is to specify the <code>bin</code> folder on your classpath and then the fully qualified class name. Like,</p>\n<pre><code>java -cp bin ttr.main.TTRMain\n</code></pre>\n"},{"comment_count":0,"score":0,"last_activity_date":1701054973,"creation_date":1701054973,"answer_id":77554354,"question_id":77553655,"body_markdown":"To run a Java program, you need to specific the classpath to all the .jar, .class, and resources it needed.  You could run the program as below:\r\n\r\n```java -cp ./lib/;./bin;./imgs;/resources ttr.main.TTRMain```\r\n\r\nIf you plan to run it often, you want to create a .bat or .sh file and put that line in it so you can execute the script each time you want to run the program.","link":"https://stackoverflow.com/questions/77553655/how-do-i-run-this-github-java-project/77554354#77554354","title":"How do I run this GitHub java project?","body":"<p>To run a Java program, you need to specific the classpath to all the .jar, .class, and resources it needed.  You could run the program as below:</p>\n<p><code>java -cp ./lib/;./bin;./imgs;/resources ttr.main.TTRMain</code></p>\n<p>If you plan to run it often, you want to create a .bat or .sh file and put that line in it so you can execute the script each time you want to run the program.</p>\n"},{"comment_count":0,"score":2,"last_activity_date":1701129977,"last_edit_date":1701129977,"creation_date":1701129426,"answer_id":77560619,"question_id":77553655,"body_markdown":"The following sequence of commands works for me.\r\n\r\n1. Clone the repository:\r\n\r\n    ```none\r\n    git clone https://github.com/ss2cp/AI-TicketToRide.git\r\n    ```\r\n\r\n    &lt;sup&gt;**Note:** Requires [Git][1] to be installed on your computer.&lt;/sup&gt;\r\n\r\n2. Navigate to the project directory:\r\n\r\n    ```none\r\n    cd AI-TicketToRide\r\n    ```\r\n\r\n    &lt;sup&gt;**Note:** This is necessary, as the image files in the project&#39;s `resources` directory are loaded as files relative to the working directory.&lt;/sup&gt;\r\n\r\n3. Execute the project:\r\n\r\n    ```none\r\n    java -cp bin:lib/JGame.jar ttr.main.TTRMain\r\n    ```\r\n\r\n    &lt;sup&gt;**Note:** Requires Java 8+ to be on your path.&lt;/sup&gt;\r\n\r\n    &lt;sup&gt;**Note:** On Windows, replace the `:` (colon) in the `-cp` argument with a `;` (semicolon). You can also replace the `/` (forward slash) with a `\\` (backslash), but that is not strictly necessary (Java will correctly interpret the value either way).&lt;/sup&gt;\r\n\r\n\r\n### Class-path\r\n\r\nThe `-cp bin:lib/JGame.jar` part is specifying the class-path. In this case, two locations are being put on the class-path. The `bin` directory contains the compiled class files of the source files in the `src` directory. The `lib/JGame.jar` file contains precompiled third-party code used by the project.\r\n\r\nNormally, I would say the `resources` directory should also be put on the class-path, but that does not seem to be necessary here. It appears those images, instead of being loaded as _resources_ like the directory name would imply, are being loaded as _files_. Luckily, _relative_ file paths seem to be used, but this means that the project directory **must** be the working directory.\r\n\r\n### Main class\r\n\r\nThe `ttr.main.TTRMain` part is the fully qualified [binary name][2] of the main class. Note the `src` directory is a &quot;source root&quot;; it is not part of the package structure. \r\n\r\nThe class-path will be searched for the specified main class and, if found, execute that class&#39;s main method. Since the `bin` directory, which contains the `ttr/main/TTRMain.class` file, has been put on the class-path, the `ttr.main.TTRMain` class will be found.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://git-scm.com/\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html#getName()\r\n","link":"https://stackoverflow.com/questions/77553655/how-do-i-run-this-github-java-project/77560619#77560619","title":"How do I run this GitHub java project?","body":"<p>The following sequence of commands works for me.</p>\n<ol>\n<li><p>Clone the repository:</p>\n<pre class=\"lang-none prettyprint-override\"><code>git clone https://github.com/ss2cp/AI-TicketToRide.git\n</code></pre>\n<p><sup><strong>Note:</strong> Requires <a href=\"https://git-scm.com/\" rel=\"nofollow noreferrer\">Git</a> to be installed on your computer.</sup></p>\n</li>\n<li><p>Navigate to the project directory:</p>\n<pre class=\"lang-none prettyprint-override\"><code>cd AI-TicketToRide\n</code></pre>\n<p><sup><strong>Note:</strong> This is necessary, as the image files in the project's <code>resources</code> directory are loaded as files relative to the working directory.</sup></p>\n</li>\n<li><p>Execute the project:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -cp bin:lib/JGame.jar ttr.main.TTRMain\n</code></pre>\n<p><sup><strong>Note:</strong> Requires Java 8+ to be on your path.</sup></p>\n<p><sup><strong>Note:</strong> On Windows, replace the <code>:</code> (colon) in the <code>-cp</code> argument with a <code>;</code> (semicolon). You can also replace the <code>/</code> (forward slash) with a <code>\\</code> (backslash), but that is not strictly necessary (Java will correctly interpret the value either way).</sup></p>\n</li>\n</ol>\n<h3>Class-path</h3>\n<p>The <code>-cp bin:lib/JGame.jar</code> part is specifying the class-path. In this case, two locations are being put on the class-path. The <code>bin</code> directory contains the compiled class files of the source files in the <code>src</code> directory. The <code>lib/JGame.jar</code> file contains precompiled third-party code used by the project.</p>\n<p>Normally, I would say the <code>resources</code> directory should also be put on the class-path, but that does not seem to be necessary here. It appears those images, instead of being loaded as <em>resources</em> like the directory name would imply, are being loaded as <em>files</em>. Luckily, <em>relative</em> file paths seem to be used, but this means that the project directory <strong>must</strong> be the working directory.</p>\n<h3>Main class</h3>\n<p>The <code>ttr.main.TTRMain</code> part is the fully qualified <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html#getName()\" rel=\"nofollow noreferrer\">binary name</a> of the main class. Note the <code>src</code> directory is a &quot;source root&quot;; it is not part of the package structure.</p>\n<p>The class-path will be searched for the specified main class and, if found, execute that class's main method. Since the <code>bin</code> directory, which contains the <code>ttr/main/TTRMain.class</code> file, has been put on the class-path, the <code>ttr.main.TTRMain</code> class will be found.</p>\n"}],"comment_count":1,"is_answered":true,"view_count":80,"answer_count":3,"score":-1,"last_activity_date":1701129977,"creation_date":1701036415,"question_id":77553655,"body_markdown":"I want to run this GitHub java program:\r\nhttps://github.com/ss2cp/AI-TicketToRide\r\n\r\nAccording to the README.md it should run with `src/ttr.main/TTRMain`\r\n\r\nI am trying to start the game in **linux**, but I keep on getting the error:\r\n\r\n&gt; Error: Could not find or load main class src.ttr.main.TTRMain \r\n&gt;\r\n&gt; Caused by: java.lang.ClassNotFoundException: src.ttr.main.TTRMain\r\n\r\nI tried \r\n\r\n    java src.ttr.main.TTRMain\r\n    java src/ttr.main/TTRMain\r\n    src/ttr.main/TTRMain\r\n    java ttr.main.TTRMain\r\n    java -jar JGame.jar\r\n    java -cp . src.ttr.main.TTRMain\r\n    java -cp . ttr.main.TTRMain\r\n\r\nfrom the `~/Downloads/AI-TicketToRide-master/` folder (where the README.md and .classpath file is).\r\nI also tried it from `~/Downloads/AI-TicketToRide-master/bin/ttr/main/` and `~/Downloads/AI-TicketToRide-master/src/ttr/main/`\r\n\r\nBut no luck.\r\n\r\nI am using Ubuntu 20.04 and openjdk 11.0.20.1 2023-08-24.\r\n\r\nHow do I start the program and from which directory? And should I set a classpath?\r\n","link":"https://stackoverflow.com/questions/77553655/how-do-i-run-this-github-java-project","title":"How do I run this GitHub java project?","body":"<p>I want to run this GitHub java program:\n<a href=\"https://github.com/ss2cp/AI-TicketToRide\" rel=\"nofollow noreferrer\">https://github.com/ss2cp/AI-TicketToRide</a></p>\n<p>According to the README.md it should run with <code>src/ttr.main/TTRMain</code></p>\n<p>I am trying to start the game in <strong>linux</strong>, but I keep on getting the error:</p>\n<blockquote>\n<p>Error: Could not find or load main class src.ttr.main.TTRMain</p>\n<p>Caused by: java.lang.ClassNotFoundException: src.ttr.main.TTRMain</p>\n</blockquote>\n<p>I tried</p>\n<pre><code>java src.ttr.main.TTRMain\njava src/ttr.main/TTRMain\nsrc/ttr.main/TTRMain\njava ttr.main.TTRMain\njava -jar JGame.jar\njava -cp . src.ttr.main.TTRMain\njava -cp . ttr.main.TTRMain\n</code></pre>\n<p>from the <code>~/Downloads/AI-TicketToRide-master/</code> folder (where the README.md and .classpath file is).\nI also tried it from <code>~/Downloads/AI-TicketToRide-master/bin/ttr/main/</code> and <code>~/Downloads/AI-TicketToRide-master/src/ttr/main/</code></p>\n<p>But no luck.</p>\n<p>I am using Ubuntu 20.04 and openjdk 11.0.20.1 2023-08-24.</p>\n<p>How do I start the program and from which directory? And should I set a classpath?</p>\n"},{"tags":["java","spring","thymeleaf"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701129610,"creation_date":1701129610,"answer_id":77560631,"question_id":77560488,"body_markdown":"The problema is in Input type... \r\n\r\nTry this, for example:\r\n\r\n”password”\r\n\r\nTo:\r\n\r\n&quot;password&quot;","link":"https://stackoverflow.com/questions/77560488/error-while-get-info-from-html-to-controller-in-java-thymeleaf/77560631#77560631","title":"Error while get info from html to controller in Java + Thymeleaf","body":"<p>The problema is in Input type...</p>\n<p>Try this, for example:</p>\n<p>”password”</p>\n<p>To:</p>\n<p>&quot;password&quot;</p>\n"}],"comment_count":0,"is_answered":false,"view_count":31,"answer_count":1,"score":1,"last_activity_date":1701129610,"creation_date":1701126991,"last_edit_date":1701127156,"question_id":77560488,"body_markdown":"I did a controller class with this code:\r\n\r\n```\r\n@Controller\r\npublic class CadastroController {\r\n    @Autowired\r\n    ClienteRepository clienteRepository;\r\n\r\n    @GetMapping(&quot;/cadastro&quot;)\r\n    public String abrir(Cliente cliente) {\r\n        return &quot;cadastro&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/cadastrar_cliente&quot;)\r\n    public String cadastrar(Cliente cliente) {\r\n        clienteRepository.save(cliente);\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n```\r\n\r\nand this HTML:\r\n\r\n```\r\n    \r\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/cadastrar_cliente}&quot; th:object=&quot;${cliente}&quot; method=&quot;post&quot;&gt;        \r\n    &lt;label class=&quot;lbl&quot; for=&quot;nome&quot;&gt;Nome&lt;/label&gt; &lt;br&gt; &lt;br&gt;\r\n    &lt;input th:field=&quot;*{nome}&quot; id=&quot;nome&quot; type=”text” placeholder=&quot;Digite seu Nome Completo:&quot;&gt;\r\n\r\n    &lt;label  class=&quot;lbl&quot; for=&quot;email&quot;&gt;E-Mail&lt;/label&gt; &lt;br&gt; &lt;br&gt;\r\n    &lt;input th:field=&quot;*{email}&quot; id=&quot;email&quot; type=”email” placeholder=&quot;Digite seu E-Mail:&quot;&gt;\r\n\r\n    &lt;label  class=&quot;lbl&quot; for=&quot;telefone&quot;&gt;Telefone&lt;/label&gt; &lt;br&gt; &lt;br&gt;\r\n    &lt;input th:field=&quot;*{telefone}&quot; id=&quot;telefone&quot; type=”tel” placeholder=&quot;Digite seu Telefone&quot;&gt;\r\n\r\n    &lt;label  class=&quot;lbl&quot; for=&quot;senha&quot;&gt;Senha&lt;/label&gt; &lt;br&gt; &lt;br&gt;\r\n    &lt;input th:field=&quot;*{senha}&quot; id=&quot;senha&quot; type=”password” placeholder=&quot;Digite sua senha&quot;&gt;\r\n\r\n    &lt;input type=&quot;submit&quot; value=&quot;Cadastrar&quot;&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;\r\n    &lt;/form&gt;\r\n```\r\n\r\nBut when I debug the controller, the Entity Cliente properties comes null...\r\n\r\nI tried the same code in another computer and aparentily works\r\n\r\nAnyone know what can be the problem?\r\n\r\nI tried debug and convert to modelAndView, View, and others tries. But nothing worked","link":"https://stackoverflow.com/questions/77560488/error-while-get-info-from-html-to-controller-in-java-thymeleaf","title":"Error while get info from html to controller in Java + Thymeleaf","body":"<p>I did a controller class with this code:</p>\n<pre><code>@Controller\npublic class CadastroController {\n    @Autowired\n    ClienteRepository clienteRepository;\n\n    @GetMapping(&quot;/cadastro&quot;)\n    public String abrir(Cliente cliente) {\n        return &quot;cadastro&quot;;\n    }\n\n    @PostMapping(&quot;/cadastrar_cliente&quot;)\n    public String cadastrar(Cliente cliente) {\n        clienteRepository.save(cliente);\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>and this HTML:</p>\n<pre><code>    \n    &lt;form action=&quot;#&quot; th:action=&quot;@{/cadastrar_cliente}&quot; th:object=&quot;${cliente}&quot; method=&quot;post&quot;&gt;        \n    &lt;label class=&quot;lbl&quot; for=&quot;nome&quot;&gt;Nome&lt;/label&gt; &lt;br&gt; &lt;br&gt;\n    &lt;input th:field=&quot;*{nome}&quot; id=&quot;nome&quot; type=”text” placeholder=&quot;Digite seu Nome Completo:&quot;&gt;\n\n    &lt;label  class=&quot;lbl&quot; for=&quot;email&quot;&gt;E-Mail&lt;/label&gt; &lt;br&gt; &lt;br&gt;\n    &lt;input th:field=&quot;*{email}&quot; id=&quot;email&quot; type=”email” placeholder=&quot;Digite seu E-Mail:&quot;&gt;\n\n    &lt;label  class=&quot;lbl&quot; for=&quot;telefone&quot;&gt;Telefone&lt;/label&gt; &lt;br&gt; &lt;br&gt;\n    &lt;input th:field=&quot;*{telefone}&quot; id=&quot;telefone&quot; type=”tel” placeholder=&quot;Digite seu Telefone&quot;&gt;\n\n    &lt;label  class=&quot;lbl&quot; for=&quot;senha&quot;&gt;Senha&lt;/label&gt; &lt;br&gt; &lt;br&gt;\n    &lt;input th:field=&quot;*{senha}&quot; id=&quot;senha&quot; type=”password” placeholder=&quot;Digite sua senha&quot;&gt;\n\n    &lt;input type=&quot;submit&quot; value=&quot;Cadastrar&quot;&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;br&gt;\n    &lt;/form&gt;\n</code></pre>\n<p>But when I debug the controller, the Entity Cliente properties comes null...</p>\n<p>I tried the same code in another computer and aparentily works</p>\n<p>Anyone know what can be the problem?</p>\n<p>I tried debug and convert to modelAndView, View, and others tries. But nothing worked</p>\n"},{"tags":["java","android","geolocation","locationmanager","fusedlocationproviderclient"],"comments":[{"score":0,"post_type":"question","creation_date":1701134842,"post_id":77560420,"comment_id":136735250,"body_markdown":"You&#39;re not requesting runtime permissions.  You&#39;re only checking if you already have them.  You even have a comment talking about it.  You need to actively request permission if they aren&#39;t granted already","link":"https://stackoverflow.com/questions/77560420/how-do-you-implement-a-continuous-location-tracker-on-button-click-android-stud#comment136735250_77560420","body":"You&#39;re not requesting runtime permissions.  You&#39;re only checking if you already have them.  You even have a comment talking about it.  You need to actively request permission if they aren&#39;t granted already"},{"score":0,"post_type":"question","creation_date":1701184683,"post_id":77560420,"comment_id":136742241,"body_markdown":"Thanks Gabe, I reread that commented out section and figured out how to request Permissions. I got that issue resolved as well as the casting problem which was because evidently there are 2 &quot;LocationListener&quot; methods.","link":"https://stackoverflow.com/questions/77560420/how-do-you-implement-a-continuous-location-tracker-on-button-click-android-stud#comment136742241_77560420","body":"Thanks Gabe, I reread that commented out section and figured out how to request Permissions. I got that issue resolved as well as the casting problem which was because evidently there are 2 &quot;LocationListener&quot; methods."}],"comment_count":2,"is_answered":false,"view_count":30,"answer_count":0,"score":-1,"last_activity_date":1701127430,"creation_date":1701125853,"last_edit_date":1701127430,"question_id":77560420,"body_markdown":"I am trying to implement a method to periodically update your current location following clicking a toggle button. I want to be able to have the app produce a latitude, longitude, speed, and bearing/heading every 6 seconds, populating those values into some text views. The biggest issue so far is that every time I run the app, I either get a Null location value or some error relating to casting the main activity to a Location Listener. I am pretty new to Android development, so any help would be appreciated. \r\n\r\n\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\r\n\r\n    //Initializing app components\r\n    String[] rArray = {&quot;Red&quot;, &quot;Green&quot;, &quot;River Campus 1&quot;, &quot;River Campus 2&quot;, &quot;Wings&quot;};\r\n\r\n    private ToggleButton activeToggle;\r\n\r\n    TextView loText;\r\n    TextView laText;\r\n    TextView sText;\r\n    TextView hText;\r\n\r\n\r\n    long refreshTime = 6000;\r\n    float refreshDistance = 0;\r\n\r\n    double dlat, dlon;\r\n\r\n    float speed, heading;\r\n\r\n    String dlonText = &quot;&quot;;\r\n    String dlatText = &quot;&quot;;\r\n    String initSpeed = &quot;&quot;;\r\n    String initHeading = &quot;&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //Associate ui components to a value;\r\n        activeToggle = findViewById(R.id.activeToggle);\r\n        Spinner rSpinner = findViewById(R.id.routeSpinner);\r\n        hText = findViewById(R.id.headingText);\r\n        sText = findViewById(R.id.speedText);\r\n        laText = findViewById(R.id.latText);\r\n        loText = findViewById(R.id.longText);\r\n        rSpinner.setOnItemSelectedListener(this);\r\n        activeToggle.setBackgroundColor(Color.GREEN);\r\n\r\n\r\n        ArrayAdapter routeAdapt = new ArrayAdapter(this, android.R.layout.simple_spinner_item, rArray);\r\n\r\n        routeAdapt.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n\r\n        rSpinner.setAdapter(routeAdapt);\r\n\r\n        activeToggle.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                if (activeToggle.isChecked()) {\r\n\r\n                    LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n\r\n                    ProviderProperties props = locationManager.getProviderProperties(LocationManager.GPS_PROVIDER);\r\n\r\n                    LocationListener listener = new LocationListener() {\r\n                        @Override\r\n                        public void onLocationChanged(@NonNull Location location) {\r\n\r\n                            dlon = location.getLongitude();\r\n                            dlat = location.getLatitude();\r\n                            speed = location.getSpeed();\r\n                            heading = location.getBearing();\r\n\r\n                            dlonText = String.valueOf(dlon);\r\n                            dlatText = String.valueOf(dlat);\r\n                            initSpeed = String.valueOf(speed);\r\n                            initHeading = String.valueOf(heading);\r\n\r\n                            hText.setText(initHeading);\r\n                            sText.setText(initSpeed);\r\n                            laText.setText(dlatText);\r\n                            loText.setText(dlonText);\r\n\r\n                        }\r\n                    };\r\n\r\n                    if (ActivityCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                        // TODO: Consider calling\r\n                        //    ActivityCompat#requestPermissions\r\n                        // here to request the missing permissions, and then overriding\r\n                        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                        //                                          int[] grantResults)\r\n                        // to handle the case where the user grants the permission. See the documentation\r\n                        // for ActivityCompat#requestPermissions for more details.\r\n                        return;\r\n                    }\r\n                    locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, refreshTime, refreshDistance, (android.location.LocationListener) listener);\r\n\r\n                    activeToggle.setBackgroundColor(Color.RED);\r\n\r\n                    //String routeText = rSpinner.getSelectedItem().toString();\r\n\r\n\r\n                } else {\r\n\r\n                    activeToggle.setBackgroundColor(Color.GREEN);\r\n\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n        Toast.makeText(getApplicationContext(), rArray[position], Toast.LENGTH_LONG).show();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI have tried using `LocationManager` and `FusedLocationProviderClient`, but when I tried to implement them for my code, they gave me the aforementioned issues of null location value and the casting problem. ","link":"https://stackoverflow.com/questions/77560420/how-do-you-implement-a-continuous-location-tracker-on-button-click-android-stud","title":"How do you implement a continuous location tracker on button click (Android Studio: Java)","body":"<p>I am trying to implement a method to periodically update your current location following clicking a toggle button. I want to be able to have the app produce a latitude, longitude, speed, and bearing/heading every 6 seconds, populating those values into some text views. The biggest issue so far is that every time I run the app, I either get a Null location value or some error relating to casting the main activity to a Location Listener. I am pretty new to Android development, so any help would be appreciated.</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\n\n    //Initializing app components\n    String[] rArray = {&quot;Red&quot;, &quot;Green&quot;, &quot;River Campus 1&quot;, &quot;River Campus 2&quot;, &quot;Wings&quot;};\n\n    private ToggleButton activeToggle;\n\n    TextView loText;\n    TextView laText;\n    TextView sText;\n    TextView hText;\n\n\n    long refreshTime = 6000;\n    float refreshDistance = 0;\n\n    double dlat, dlon;\n\n    float speed, heading;\n\n    String dlonText = &quot;&quot;;\n    String dlatText = &quot;&quot;;\n    String initSpeed = &quot;&quot;;\n    String initHeading = &quot;&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //Associate ui components to a value;\n        activeToggle = findViewById(R.id.activeToggle);\n        Spinner rSpinner = findViewById(R.id.routeSpinner);\n        hText = findViewById(R.id.headingText);\n        sText = findViewById(R.id.speedText);\n        laText = findViewById(R.id.latText);\n        loText = findViewById(R.id.longText);\n        rSpinner.setOnItemSelectedListener(this);\n        activeToggle.setBackgroundColor(Color.GREEN);\n\n\n        ArrayAdapter routeAdapt = new ArrayAdapter(this, android.R.layout.simple_spinner_item, rArray);\n\n        routeAdapt.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n        rSpinner.setAdapter(routeAdapt);\n\n        activeToggle.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                if (activeToggle.isChecked()) {\n\n                    LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n\n                    ProviderProperties props = locationManager.getProviderProperties(LocationManager.GPS_PROVIDER);\n\n                    LocationListener listener = new LocationListener() {\n                        @Override\n                        public void onLocationChanged(@NonNull Location location) {\n\n                            dlon = location.getLongitude();\n                            dlat = location.getLatitude();\n                            speed = location.getSpeed();\n                            heading = location.getBearing();\n\n                            dlonText = String.valueOf(dlon);\n                            dlatText = String.valueOf(dlat);\n                            initSpeed = String.valueOf(speed);\n                            initHeading = String.valueOf(heading);\n\n                            hText.setText(initHeading);\n                            sText.setText(initSpeed);\n                            laText.setText(dlatText);\n                            loText.setText(dlonText);\n\n                        }\n                    };\n\n                    if (ActivityCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                        // TODO: Consider calling\n                        //    ActivityCompat#requestPermissions\n                        // here to request the missing permissions, and then overriding\n                        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                        //                                          int[] grantResults)\n                        // to handle the case where the user grants the permission. See the documentation\n                        // for ActivityCompat#requestPermissions for more details.\n                        return;\n                    }\n                    locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, refreshTime, refreshDistance, (android.location.LocationListener) listener);\n\n                    activeToggle.setBackgroundColor(Color.RED);\n\n                    //String routeText = rSpinner.getSelectedItem().toString();\n\n\n                } else {\n\n                    activeToggle.setBackgroundColor(Color.GREEN);\n\n\n                }\n\n            }\n        });\n\n\n    }\n\n\n    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n        Toast.makeText(getApplicationContext(), rArray[position], Toast.LENGTH_LONG).show();\n\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n\n    }\n\n\n}\n</code></pre>\n<p>I have tried using <code>LocationManager</code> and <code>FusedLocationProviderClient</code>, but when I tried to implement them for my code, they gave me the aforementioned issues of null location value and the casting problem.</p>\n"},{"tags":["java","websphere","ejb","xdoclet"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1700752473,"post_id":77524080,"comment_id":136695199,"body_markdown":"Hi @Tracy thanks for the answer, I edited the question and added the XDoclet code\nThere is a narrowing code. it happens only if necessary\nI am not sure how to alter the Xdoclet to make it not necessary\n\nCan you please help me with that?","link":"https://stackoverflow.com/questions/77522426/xdoclet-based-stateless-session-bean-compatibility-issue-classcastexception-in/77524080#comment136695199_77524080","body":"Hi @Tracy thanks for the answer, I edited the question and added the XDoclet code There is a narrowing code. it happens only if necessary I am not sure how to alter the Xdoclet to make it not necessary  Can you please help me with that?"},{"score":0,"post_type":"answer","creation_date":1701126796,"post_id":77524080,"comment_id":136734393,"body_markdown":"@HariHaravelan I updated the answer based on the updated question. Since the generated code does contain the narrow, it seems the problem is that the narrow is being skipped. The way it is coded appears correct, as the narrow should always be called when looking up a remote home. Either the `narrowTo` class being passed is not remote, or there is something wrong with the classpath.  Hope the updated answer helps.","link":"https://stackoverflow.com/questions/77522426/xdoclet-based-stateless-session-bean-compatibility-issue-classcastexception-in/77524080#comment136734393_77524080","body":"@HariHaravelan I updated the answer based on the updated question. Since the generated code does contain the narrow, it seems the problem is that the narrow is being skipped. The way it is coded appears correct, as the narrow should always be called when looking up a remote home. Either the <code>narrowTo</code> class being passed is not remote, or there is something wrong with the classpath.  Hope the updated answer helps."}],"comment_count":2,"score":2,"last_activity_date":1701126613,"last_edit_date":1701126613,"creation_date":1700581133,"answer_id":77524080,"question_id":77522426,"body_markdown":"The code that is failing with the ClassCastException is not calling `PortableRemoteObject.narrow()`.  Anytime a remote EJB is looked up in naming it should perform a `PortableRemoteObject.narrow`.\r\n\r\nOften, code will work without the narrow because the ORB will attempt to narrow automatically, but this does not always work, depending on the classpath of the client at the time of the lookup. If the first lookup does not have the stub on the classpath, then you will get the EJBHome stub. Unfortuntely, this can then end up cached in Naming, which may effect other clients as well. Always performing the narrow avoids this issue.\r\n\r\nSince the JNDI lookup is returning an `_EJBHome_Stub`, this means the JNDI name is for a remote home and that the thread context classloader does not have access to the target class, `ReferenceDataBeanHome`. Since the ORB is unable to load `_ReferenceDataBeanHome_Stub`, then it will return `_EJBHome_Stub` instead, which must be narrowed.\r\n\r\nWhat is especially curious with this scenario is that the code does contain a call to narrow, but it is not being called, suggesting that `narrowTo.isInstance(java.rmi.Remote.class)` is returning `false`. Since the home being looked up is a remote home, the `narrowTo` class should implement `javax.ejb.EJBHome`, which extends `java.rmi.Remote` and therefore this method should return `true` and the narrow should be performed.\r\n\r\nI recommend checking the following:\r\n - check that the batch job code path is calling lookupHome with the proper remote JNDI name and proper remote home class. If the batch job code is passing the remote home JNDI name, but the local home interface class, then the narrow would always be skipped, but the application may work properly if the ORB has proactively narrowed due to an earlier lookup from another application.\r\n - check that the `java.rmi.Remote` class is not packaged in the application or otherwise included on the application classpath. Basically, need to determine why the `narrowTo` parameter on `lookupHome` is failing the `isInstance` check. This could happen if `java.rmi.Remote` is loaded by two different classloaders.\r\n\r\nDetermining why `isInstance` is returning false is the best solution. Alternatively, you could make sure the `_ReferenceDataBeanHome_Stub` class is packaged with the batch application, and that may allow the ORB to proactively narrow; however this seems like a workaround.\r\n\r\n","link":"https://stackoverflow.com/questions/77522426/xdoclet-based-stateless-session-bean-compatibility-issue-classcastexception-in/77524080#77524080","title":"XDoclet-based Stateless Session Bean Compatibility Issue: ClassCastException in WebSphere 9.0.5","body":"<p>The code that is failing with the ClassCastException is not calling <code>PortableRemoteObject.narrow()</code>.  Anytime a remote EJB is looked up in naming it should perform a <code>PortableRemoteObject.narrow</code>.</p>\n<p>Often, code will work without the narrow because the ORB will attempt to narrow automatically, but this does not always work, depending on the classpath of the client at the time of the lookup. If the first lookup does not have the stub on the classpath, then you will get the EJBHome stub. Unfortuntely, this can then end up cached in Naming, which may effect other clients as well. Always performing the narrow avoids this issue.</p>\n<p>Since the JNDI lookup is returning an <code>_EJBHome_Stub</code>, this means the JNDI name is for a remote home and that the thread context classloader does not have access to the target class, <code>ReferenceDataBeanHome</code>. Since the ORB is unable to load <code>_ReferenceDataBeanHome_Stub</code>, then it will return <code>_EJBHome_Stub</code> instead, which must be narrowed.</p>\n<p>What is especially curious with this scenario is that the code does contain a call to narrow, but it is not being called, suggesting that <code>narrowTo.isInstance(java.rmi.Remote.class)</code> is returning <code>false</code>. Since the home being looked up is a remote home, the <code>narrowTo</code> class should implement <code>javax.ejb.EJBHome</code>, which extends <code>java.rmi.Remote</code> and therefore this method should return <code>true</code> and the narrow should be performed.</p>\n<p>I recommend checking the following:</p>\n<ul>\n<li>check that the batch job code path is calling lookupHome with the proper remote JNDI name and proper remote home class. If the batch job code is passing the remote home JNDI name, but the local home interface class, then the narrow would always be skipped, but the application may work properly if the ORB has proactively narrowed due to an earlier lookup from another application.</li>\n<li>check that the <code>java.rmi.Remote</code> class is not packaged in the application or otherwise included on the application classpath. Basically, need to determine why the <code>narrowTo</code> parameter on <code>lookupHome</code> is failing the <code>isInstance</code> check. This could happen if <code>java.rmi.Remote</code> is loaded by two different classloaders.</li>\n</ul>\n<p>Determining why <code>isInstance</code> is returning false is the best solution. Alternatively, you could make sure the <code>_ReferenceDataBeanHome_Stub</code> class is packaged with the batch application, and that may allow the ORB to proactively narrow; however this seems like a workaround.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":58,"answer_count":1,"score":1,"last_activity_date":1701126613,"creation_date":1700565836,"last_edit_date":1700752322,"question_id":77522426,"body_markdown":"I have a legacy EJB application that was originally developed in Java 1.6 and deployed on WebSphere 8.5 more than a decade ago.\r\nRecently, I upgraded the Java version to 1.8 and the WebSphere version to 9.0.5. The application works fine.\r\n\r\nHowever, I&#39;m encountering a peculiar issue related to a specific XDoclet-based stateless session bean. This bean is annotated with `@ejb.util generate = &quot;physical&quot;.`\r\n\r\nThe issue occurs when the batch job starts first and creates the bean, and then the application attempts to use the bean. I get the following exception:\r\n\r\n    Caused by: java.lang.ClassCastException: org.omg.stub.javax.ejb._EJBHome_Stub incompatible with com.xxx.common.reference.interfaces.ReferenceDataBeanHome\r\n\r\nIf the application creates the bean first and then the batch job uses it, everything works as expected.\r\n\r\n**XDoclet Generated Code:** &lt;br/&gt;\r\nThe narrowing code is already generated by the XDoclet, we can&#39;t edit the code\r\n\r\n     private static Object lookupHome(java.util.Hashtable environment, String jndiName, Class narrowTo) throws javax.naming.NamingException {\r\n          // Obtain initial context\r\n          javax.naming.InitialContext initialContext = new javax.naming.InitialContext(environment);\r\n          try {\r\n             Object objRef = initialContext.lookup(jndiName);\r\n             // only narrow if necessary\r\n             if (narrowTo.isInstance(java.rmi.Remote.class))\r\n                return javax.rmi.PortableRemoteObject.narrow(objRef, narrowTo);\r\n             else\r\n                return objRef;\r\n          } finally {\r\n             initialContext.close();\r\n          }\r\n       }\r\n\r\n**What I tried:**\r\n\r\nI have changed the `@ejb.util generate = &quot;logical&quot;.` based on the [IBM WebSphere suggestion][1] but the Batch job starts to fail if starts after the application creates the Bean\r\n\r\n**Environment:**\r\n\r\n - Java Version: 1.8\r\n - WebSphere Version: 9.0.5\r\n\r\n**Specifics:**\r\n\r\n- The issue is tied to the usage of `@ejb.util generate = &quot;physical&quot;` with XDoclet.\r\n- The exception occurs when the batch job initializes the bean before the application.\r\n\r\n**Question:**\r\n\r\n- What could be causing this ClassCastException when the batch job starts first?\r\n- How can I ensure compatibility in both scenarios: when the application initializes the bean first and when the batch job does?\r\nAny insights, suggestions, or solutions would be greatly appreciated. Thank you!\r\n\r\n\r\n  [1]: https://www.ibm.com/support/pages/classcastexception-when-casting-remote-ejb-home-or-remote-interface-stub-instance","link":"https://stackoverflow.com/questions/77522426/xdoclet-based-stateless-session-bean-compatibility-issue-classcastexception-in","title":"XDoclet-based Stateless Session Bean Compatibility Issue: ClassCastException in WebSphere 9.0.5","body":"<p>I have a legacy EJB application that was originally developed in Java 1.6 and deployed on WebSphere 8.5 more than a decade ago.\nRecently, I upgraded the Java version to 1.8 and the WebSphere version to 9.0.5. The application works fine.</p>\n<p>However, I'm encountering a peculiar issue related to a specific XDoclet-based stateless session bean. This bean is annotated with <code>@ejb.util generate = &quot;physical&quot;.</code></p>\n<p>The issue occurs when the batch job starts first and creates the bean, and then the application attempts to use the bean. I get the following exception:</p>\n<pre><code>Caused by: java.lang.ClassCastException: org.omg.stub.javax.ejb._EJBHome_Stub incompatible with com.xxx.common.reference.interfaces.ReferenceDataBeanHome\n</code></pre>\n<p>If the application creates the bean first and then the batch job uses it, everything works as expected.</p>\n<p><strong>XDoclet Generated Code:</strong> <br/>\nThe narrowing code is already generated by the XDoclet, we can't edit the code</p>\n<pre><code> private static Object lookupHome(java.util.Hashtable environment, String jndiName, Class narrowTo) throws javax.naming.NamingException {\n      // Obtain initial context\n      javax.naming.InitialContext initialContext = new javax.naming.InitialContext(environment);\n      try {\n         Object objRef = initialContext.lookup(jndiName);\n         // only narrow if necessary\n         if (narrowTo.isInstance(java.rmi.Remote.class))\n            return javax.rmi.PortableRemoteObject.narrow(objRef, narrowTo);\n         else\n            return objRef;\n      } finally {\n         initialContext.close();\n      }\n   }\n</code></pre>\n<p><strong>What I tried:</strong></p>\n<p>I have changed the <code>@ejb.util generate = &quot;logical&quot;.</code> based on the <a href=\"https://www.ibm.com/support/pages/classcastexception-when-casting-remote-ejb-home-or-remote-interface-stub-instance\" rel=\"nofollow noreferrer\">IBM WebSphere suggestion</a> but the Batch job starts to fail if starts after the application creates the Bean</p>\n<p><strong>Environment:</strong></p>\n<ul>\n<li>Java Version: 1.8</li>\n<li>WebSphere Version: 9.0.5</li>\n</ul>\n<p><strong>Specifics:</strong></p>\n<ul>\n<li>The issue is tied to the usage of <code>@ejb.util generate = &quot;physical&quot;</code> with XDoclet.</li>\n<li>The exception occurs when the batch job initializes the bean before the application.</li>\n</ul>\n<p><strong>Question:</strong></p>\n<ul>\n<li>What could be causing this ClassCastException when the batch job starts first?</li>\n<li>How can I ensure compatibility in both scenarios: when the application initializes the bean first and when the batch job does?\nAny insights, suggestions, or solutions would be greatly appreciated. Thank you!</li>\n</ul>\n"},{"tags":["java","netty"],"comment_count":0,"is_answered":false,"view_count":21,"answer_count":0,"score":0,"last_activity_date":1701126537,"creation_date":1701126537,"question_id":77560463,"body_markdown":"My pipeline doesn&#39;t work as expected\r\n\r\n    public class DataServerInitializer extends ChannelInitializer&lt;SocketChannel&gt; {\r\n        @Override\r\n        protected void initChannel(SocketChannel socketChannel) throws Exception {\r\n            socketChannel.pipeline().addLast(new ProtobufDecoder(Command.CommandMessage.getDefaultInstance()));\r\n            socketChannel.pipeline().addLast(new ProtobufDecoder(Data.DataMessage.getDefaultInstance()));\r\n    \r\n            socketChannel.pipeline().addLast(new ProtobufEncoder());\r\n            \r\n            socketChannel.pipeline().addLast(new CommandHandler());\r\n            socketChannel.pipeline().addLast(new DataHandler());\r\n        }\r\n    }\r\n\r\nDataHandler is ignored fully","link":"https://stackoverflow.com/questions/77560463/how-to-organize-nettty-pipeline","title":"How to organize nettty pipeline?","body":"<p>My pipeline doesn't work as expected</p>\n<pre><code>public class DataServerInitializer extends ChannelInitializer&lt;SocketChannel&gt; {\n    @Override\n    protected void initChannel(SocketChannel socketChannel) throws Exception {\n        socketChannel.pipeline().addLast(new ProtobufDecoder(Command.CommandMessage.getDefaultInstance()));\n        socketChannel.pipeline().addLast(new ProtobufDecoder(Data.DataMessage.getDefaultInstance()));\n\n        socketChannel.pipeline().addLast(new ProtobufEncoder());\n        \n        socketChannel.pipeline().addLast(new CommandHandler());\n        socketChannel.pipeline().addLast(new DataHandler());\n    }\n}\n</code></pre>\n<p>DataHandler is ignored fully</p>\n"},{"tags":["java","spring","controller","thymeleaf"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701117227,"creation_date":1701117227,"answer_id":77559778,"question_id":77559472,"body_markdown":"This code won&#39;t run as you&#39;re mapping the resource &quot;/ticket/new&quot; more than one time, so Spring does not know which method to invoke.\r\n","link":"https://stackoverflow.com/questions/77559472/thymeleaf-not-processing-templates-properly/77559778#77559778","title":"Thymeleaf not processing templates properly","body":"<p>This code won't run as you're mapping the resource &quot;/ticket/new&quot; more than one time, so Spring does not know which method to invoke.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":45,"answer_count":1,"score":0,"last_activity_date":1701126034,"creation_date":1701113561,"last_edit_date":1701126034,"question_id":77559472,"body_markdown":"I have been developing a simple project with frontend and backend for managing the university IT tickets. After implementing different approaches (and all of them working well) being the last using Spring and a MySQL database we needed to do it using thymeleaf but for some reason it does not save nor display the info. I&#39;ve checked and the paths and password for the database in the application.properties are correct and all dependencies are in the pom.xml. Here is the code:\r\n\r\nTicketController :\r\n```\r\npackage ch.supsi.webapp.web.controller;\r\n\r\nimport ch.supsi.webapp.web.model.Status;\r\nimport ch.supsi.webapp.web.model.Ticket;\r\nimport ch.supsi.webapp.web.repository.TicketRepository;\r\nimport ch.supsi.webapp.web.service.TicketService;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Controller\r\n\r\npublic class TicketController  {\r\n\r\n    TicketService service;\r\n\r\n\r\n    public TicketController(TicketRepository repository,TicketService service) {\r\n        this.service=service;\r\n    }\r\n\r\n\r\n\r\n\r\n    @GetMapping(&quot;/index&quot;)\r\n    public String index(Model model){\r\n        model.addAttribute(&quot;tickets&quot;,service.list());\r\n        //model.addAttribute(&quot;openTickets&quot;, service.findLast5ByStatus(Status.OPEN));\r\n        //model.addAttribute(&quot;closedTickets&quot;, service.findLast5ByStatus(Status.CLOSED));\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n\r\n    @PostMapping(&quot;/ticket/new&quot;)\r\n    public String newPost(Model model){\r\n        model.addAttribute(&quot;ticket&quot;, new Ticket());\r\n        model.addAttribute(&quot;isNew&quot;, true);\r\n        model.addAttribute(&quot;authors&quot;, service.getAuthors());\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/ticket/new&quot;)\r\n    public String post(Ticket ticket) throws IOException {\r\n        service.save(ticket);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n```\r\nTicket Service\r\n\r\n```\r\npackage ch.supsi.webapp.web.service;\r\nimport ch.supsi.webapp.web.model.Status;\r\nimport ch.supsi.webapp.web.model.Ticket;\r\nimport ch.supsi.webapp.web.repository.TicketRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport ch.supsi.webapp.web.model.Author;\r\nimport ch.supsi.webapp.web.repository.AuthorRepository;\r\nimport java.util.List;\r\n\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class TicketService {\r\n\r\n    private final TicketRepository repository;\r\n    private final AuthorRepository authorRepository;\r\n\r\n    public TicketService(TicketRepository ticketRepository, AuthorRepository authorRepository) {\r\n        this.repository = ticketRepository;\r\n        this.authorRepository = authorRepository;\r\n    }\r\n    public void save(Ticket ticket) {\r\n        repository.save(ticket);\r\n    }\r\n\r\n\r\n    public void remove(long id) {\r\n        repository.deleteById((int) id);\r\n    }\r\n\r\n    public Optional&lt;Ticket&gt; read(long id){\r\n       return repository.findById((int) id);\r\n    }\r\n    public  List&lt;Ticket&gt; list() {\r\n        return (List&lt;Ticket&gt;) repository.findAll();\r\n    }\r\n\r\n   public void update(long id , Ticket ticket){\r\n       Optional&lt;Ticket&gt; optionalTicket = repository.findById((int) id);\r\n      // Optional&lt;Ticket&gt; optionalAuthor = repository.findById(ticket.getAuthor());\r\n           Ticket existingTicket = optionalTicket.get();\r\n           //existingTicket.setAuthor(ticket.getAuthor());\r\n           existingTicket.setTitle(ticket.getTitle());\r\n           existingTicket.setDescription(ticket.getDescription());\r\n           repository.save(existingTicket);\r\n\r\n    }\r\n\r\n    public List&lt;Ticket&gt; findLast5ByStatus(Status ticketStatus){\r\n        return repository.findByStatusOrderByDateDesc(ticketStatus);\r\n\r\n\r\n\r\n    }\r\n    public List&lt;Author&gt; getAuthors() {\r\n        return (List&lt;Author&gt;) authorRepository.findAll();}\r\n    public boolean exists(int id) {\r\n        return repository.existsById(id);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nTicketRepository\r\n\r\n```\r\npackage ch.supsi.webapp.web.repository;\r\n\r\nimport ch.supsi.webapp.web.model.Status;\r\nimport ch.supsi.webapp.web.model.Ticket;\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n\r\n@Repository\r\npublic interface TicketRepository extends CrudRepository&lt;Ticket, Integer&gt;\r\n{\r\n    List&lt;Ticket&gt; findByStatusOrderByDateDesc(Status ticketStatus);\r\n    //public Ticket findTicket(long id);\r\n\r\n    //public void setChanges(Ticket ticket);\r\n}\r\n```\r\n\r\n\r\n/ticket/new.html \r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n\r\n&lt;head&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n&lt;header&gt;\r\n    &lt;img alt=&quot;SUPSI&quot; height=&quot;32&quot; src=&quot;https://www.supsi.ch/o/supsi-theme/images/supsi-logo.svg&quot; width=&quot;117&quot;&gt;\r\n    &lt;h1&gt;SUPSI Tickets&lt;/h1&gt;\r\n&lt;/header&gt;\r\n&lt;nav&gt;\r\n    &lt;hr&gt;\r\n    &lt;a th:href=&quot;@{/static}&quot;&gt;Home&lt;/a&gt; |\r\n    &lt;a&gt;New ticket&lt;/a&gt; |\r\n    &lt;hr&gt;\r\n&lt;/nav&gt;\r\n&lt;form method=&quot;post&quot; th:action=&quot;@{/ticket/new}&quot;  th:object=&quot;${ch.supsi.webapp.web.model.Ticket}&quot;&gt;\r\n    &lt;fieldset&gt;\r\n        &lt;legend&gt;New ticket&lt;/legend&gt;\r\n        &lt;div&gt;\r\n            &lt;label &gt;Title:\r\n            &lt;input th:field=&quot;*{title}&quot; type=&quot;text&quot;&gt;\r\n            &lt;/label&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n            &lt;label for=&quot;author&quot;&gt;Author:&lt;/label&gt;\r\n            &lt;input id=&quot;author&quot; class=&quot;form-select&quot; th:field=&quot;*{author}&quot;&gt;\r\n\r\n        &lt;/div&gt;\r\n        &lt;div &gt;\r\n            &lt;label for=&quot;status&quot;&gt;Status:&lt;/label&gt;\r\n            &lt;select id=&quot;status&quot; th:field=&quot;*{status}&quot;&gt;\r\n                &lt;option th:each=&quot;status : ${T(ch.supsi.webapp.web.model.Status).values()}&quot; th:value=&quot;${status.values()}&quot; th:text=&quot;${status.values()}&quot;&gt;&lt;/option&gt;\r\n            &lt;/select&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n            &lt;label for=&quot;type&quot;&gt;Type:&lt;/label&gt;\r\n            &lt;select id=&quot;type&quot; th:field=&quot;*{type}&quot;&gt;\r\n                &lt;option th:each=&quot;type : ${T(ch.supsi.webapp.web.model.Type).values}&quot; th:value=&quot;${type}&quot; th:text=&quot;${type}&quot;&gt;Bug&lt;/option&gt;\r\n            &lt;/select&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n            &lt;label &gt;Description:&lt;/label&gt;\r\n            &lt;textarea th:field=&quot;*{description}&quot;&gt;&lt;/textarea&gt;\r\n        &lt;/div&gt;\r\n    &lt;/fieldset&gt;\r\n    &lt;input type=&quot;submit&quot; th:value=&quot;${isNew} ? &#39;Create ticket&#39;:&#39;Update ticket&#39;&quot;&gt;\r\n&lt;/form&gt;\r\n&lt;footer&gt;\r\n    &lt;hr&gt;\r\n    &lt;small&gt;TICKETS Copyleft CC-by\r\n        &lt;time datetime=&quot;2022&quot;&gt;2022&lt;/time&gt;\r\n        by L:S&lt;/small&gt;\r\n    &lt;hr&gt;\r\n&lt;/footer&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nindex.html \r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\r\n    &lt;title&gt; This is PP5 page&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;nav&gt;\r\n        &lt;ul&gt;\r\n            &lt;div class=&quot;item&quot;&gt; &lt;a href=&quot;index.html&quot; &gt;Home&lt;/a&gt;&lt;/div&gt;\r\n            &lt;div class=&quot;item&quot;&gt;&lt;a  th:href=&quot;@{/ticket/new}&quot; href=&quot;ticket/new.html&quot; &gt;New Ticket &lt;/a&gt;&lt;/div&gt;\r\n            &lt;div class=&quot;item&quot;&gt;&lt;a href=&quot;ticket1Details.html&quot;&gt;Ticket 1 details&lt;/a&gt;&lt;/div&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/nav&gt;\r\n    &lt;header &gt;\r\n        &lt;h2&gt;Welcome ! &lt;/h2&gt;\r\n    &lt;/header&gt;\r\n    &lt;main&gt;\r\n    &lt;div&gt; &lt;h2&gt; Ticket management system &lt;/h2&gt;&lt;/div&gt;\r\n        &lt;section&gt;\r\n            &lt;h2&gt;Open tickets&lt;/h2&gt;\r\n            &lt;article th:each=&quot;ticket : ${tickets}&quot;&gt;\r\n                &lt;span th:text=&quot;${#dates.format(ticket.date, &#39;dd.MM.yyyy HH:mm&#39;)}&quot;&gt;&lt;/span&gt;\r\n                &lt;h3 th:text=&quot;${ticket.getTitle()}&quot;&gt;Il primo ticket&lt;/h3&gt;\r\n                &lt;a th:href=&quot;@{&#39;/ticket/&#39;+${ticket.getId()}}&quot;&gt;view&lt;/a&gt;\r\n                &lt;a th:href=&quot;@{&#39;/ticket/&#39;+${ticket.getId()}+&#39;/edit&#39;}&quot;&gt;edit&lt;/a&gt;\r\n            &lt;/article&gt;\r\n            &lt;article th:if=&quot;${#lists.isEmpty(openTickets)}&quot;&gt;There&#39;s no ticket. Yippee!&lt;/article&gt;\r\n        &lt;/section&gt;\r\n        &lt;aside rel=&quot;stylesheet&quot;  href=&quot;style.css&quot;&gt;\r\n        &lt;p&gt;This is PP5 sidebar&lt;/p&gt;\r\n    &lt;/aside&gt;\r\n    &lt;/main&gt;\r\n    &lt;footer rel=&quot;stylesheet&quot;  href=&quot;style.css&quot;&gt;\r\n        &lt;h3&gt; This is the footer &lt;/h3&gt;\r\n        &lt;p&gt; Copyleft CC-by 2023 by Patricia &lt;/p&gt;\r\n    &lt;/footer&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n","link":"https://stackoverflow.com/questions/77559472/thymeleaf-not-processing-templates-properly","title":"Thymeleaf not processing templates properly","body":"<p>I have been developing a simple project with frontend and backend for managing the university IT tickets. After implementing different approaches (and all of them working well) being the last using Spring and a MySQL database we needed to do it using thymeleaf but for some reason it does not save nor display the info. I've checked and the paths and password for the database in the application.properties are correct and all dependencies are in the pom.xml. Here is the code:</p>\n<p>TicketController :</p>\n<pre><code>package ch.supsi.webapp.web.controller;\n\nimport ch.supsi.webapp.web.model.Status;\nimport ch.supsi.webapp.web.model.Ticket;\nimport ch.supsi.webapp.web.repository.TicketRepository;\nimport ch.supsi.webapp.web.service.TicketService;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Optional;\n\n@Controller\n\npublic class TicketController  {\n\n    TicketService service;\n\n\n    public TicketController(TicketRepository repository,TicketService service) {\n        this.service=service;\n    }\n\n\n\n\n    @GetMapping(&quot;/index&quot;)\n    public String index(Model model){\n        model.addAttribute(&quot;tickets&quot;,service.list());\n        //model.addAttribute(&quot;openTickets&quot;, service.findLast5ByStatus(Status.OPEN));\n        //model.addAttribute(&quot;closedTickets&quot;, service.findLast5ByStatus(Status.CLOSED));\n        return &quot;index&quot;;\n    }\n\n\n    @PostMapping(&quot;/ticket/new&quot;)\n    public String newPost(Model model){\n        model.addAttribute(&quot;ticket&quot;, new Ticket());\n        model.addAttribute(&quot;isNew&quot;, true);\n        model.addAttribute(&quot;authors&quot;, service.getAuthors());\n        return &quot;redirect:/&quot;;\n    }\n\n    @PostMapping(&quot;/ticket/new&quot;)\n    public String post(Ticket ticket) throws IOException {\n        service.save(ticket);\n        return &quot;redirect:/&quot;;\n    }\n\n\n\n\n}\n</code></pre>\n<p>Ticket Service</p>\n<pre><code>package ch.supsi.webapp.web.service;\nimport ch.supsi.webapp.web.model.Status;\nimport ch.supsi.webapp.web.model.Ticket;\nimport ch.supsi.webapp.web.repository.TicketRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport ch.supsi.webapp.web.model.Author;\nimport ch.supsi.webapp.web.repository.AuthorRepository;\nimport java.util.List;\n\nimport java.util.Optional;\n\n@Service\npublic class TicketService {\n\n    private final TicketRepository repository;\n    private final AuthorRepository authorRepository;\n\n    public TicketService(TicketRepository ticketRepository, AuthorRepository authorRepository) {\n        this.repository = ticketRepository;\n        this.authorRepository = authorRepository;\n    }\n    public void save(Ticket ticket) {\n        repository.save(ticket);\n    }\n\n\n    public void remove(long id) {\n        repository.deleteById((int) id);\n    }\n\n    public Optional&lt;Ticket&gt; read(long id){\n       return repository.findById((int) id);\n    }\n    public  List&lt;Ticket&gt; list() {\n        return (List&lt;Ticket&gt;) repository.findAll();\n    }\n\n   public void update(long id , Ticket ticket){\n       Optional&lt;Ticket&gt; optionalTicket = repository.findById((int) id);\n      // Optional&lt;Ticket&gt; optionalAuthor = repository.findById(ticket.getAuthor());\n           Ticket existingTicket = optionalTicket.get();\n           //existingTicket.setAuthor(ticket.getAuthor());\n           existingTicket.setTitle(ticket.getTitle());\n           existingTicket.setDescription(ticket.getDescription());\n           repository.save(existingTicket);\n\n    }\n\n    public List&lt;Ticket&gt; findLast5ByStatus(Status ticketStatus){\n        return repository.findByStatusOrderByDateDesc(ticketStatus);\n\n\n\n    }\n    public List&lt;Author&gt; getAuthors() {\n        return (List&lt;Author&gt;) authorRepository.findAll();}\n    public boolean exists(int id) {\n        return repository.existsById(id);\n    }\n\n}\n</code></pre>\n<p>TicketRepository</p>\n<pre><code>package ch.supsi.webapp.web.repository;\n\nimport ch.supsi.webapp.web.model.Status;\nimport ch.supsi.webapp.web.model.Ticket;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n\n@Repository\npublic interface TicketRepository extends CrudRepository&lt;Ticket, Integer&gt;\n{\n    List&lt;Ticket&gt; findByStatusOrderByDateDesc(Status ticketStatus);\n    //public Ticket findTicket(long id);\n\n    //public void setChanges(Ticket ticket);\n}\n</code></pre>\n<p>/ticket/new.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;header&gt;\n    &lt;img alt=&quot;SUPSI&quot; height=&quot;32&quot; src=&quot;https://www.supsi.ch/o/supsi-theme/images/supsi-logo.svg&quot; width=&quot;117&quot;&gt;\n    &lt;h1&gt;SUPSI Tickets&lt;/h1&gt;\n&lt;/header&gt;\n&lt;nav&gt;\n    &lt;hr&gt;\n    &lt;a th:href=&quot;@{/static}&quot;&gt;Home&lt;/a&gt; |\n    &lt;a&gt;New ticket&lt;/a&gt; |\n    &lt;hr&gt;\n&lt;/nav&gt;\n&lt;form method=&quot;post&quot; th:action=&quot;@{/ticket/new}&quot;  th:object=&quot;${ch.supsi.webapp.web.model.Ticket}&quot;&gt;\n    &lt;fieldset&gt;\n        &lt;legend&gt;New ticket&lt;/legend&gt;\n        &lt;div&gt;\n            &lt;label &gt;Title:\n            &lt;input th:field=&quot;*{title}&quot; type=&quot;text&quot;&gt;\n            &lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;label for=&quot;author&quot;&gt;Author:&lt;/label&gt;\n            &lt;input id=&quot;author&quot; class=&quot;form-select&quot; th:field=&quot;*{author}&quot;&gt;\n\n        &lt;/div&gt;\n        &lt;div &gt;\n            &lt;label for=&quot;status&quot;&gt;Status:&lt;/label&gt;\n            &lt;select id=&quot;status&quot; th:field=&quot;*{status}&quot;&gt;\n                &lt;option th:each=&quot;status : ${T(ch.supsi.webapp.web.model.Status).values()}&quot; th:value=&quot;${status.values()}&quot; th:text=&quot;${status.values()}&quot;&gt;&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;label for=&quot;type&quot;&gt;Type:&lt;/label&gt;\n            &lt;select id=&quot;type&quot; th:field=&quot;*{type}&quot;&gt;\n                &lt;option th:each=&quot;type : ${T(ch.supsi.webapp.web.model.Type).values}&quot; th:value=&quot;${type}&quot; th:text=&quot;${type}&quot;&gt;Bug&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;label &gt;Description:&lt;/label&gt;\n            &lt;textarea th:field=&quot;*{description}&quot;&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n    &lt;/fieldset&gt;\n    &lt;input type=&quot;submit&quot; th:value=&quot;${isNew} ? 'Create ticket':'Update ticket'&quot;&gt;\n&lt;/form&gt;\n&lt;footer&gt;\n    &lt;hr&gt;\n    &lt;small&gt;TICKETS Copyleft CC-by\n        &lt;time datetime=&quot;2022&quot;&gt;2022&lt;/time&gt;\n        by L:S&lt;/small&gt;\n    &lt;hr&gt;\n&lt;/footer&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>index.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\n    &lt;title&gt; This is PP5 page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;nav&gt;\n        &lt;ul&gt;\n            &lt;div class=&quot;item&quot;&gt; &lt;a href=&quot;index.html&quot; &gt;Home&lt;/a&gt;&lt;/div&gt;\n            &lt;div class=&quot;item&quot;&gt;&lt;a  th:href=&quot;@{/ticket/new}&quot; href=&quot;ticket/new.html&quot; &gt;New Ticket &lt;/a&gt;&lt;/div&gt;\n            &lt;div class=&quot;item&quot;&gt;&lt;a href=&quot;ticket1Details.html&quot;&gt;Ticket 1 details&lt;/a&gt;&lt;/div&gt;\n        &lt;/ul&gt;\n    &lt;/nav&gt;\n    &lt;header &gt;\n        &lt;h2&gt;Welcome ! &lt;/h2&gt;\n    &lt;/header&gt;\n    &lt;main&gt;\n    &lt;div&gt; &lt;h2&gt; Ticket management system &lt;/h2&gt;&lt;/div&gt;\n        &lt;section&gt;\n            &lt;h2&gt;Open tickets&lt;/h2&gt;\n            &lt;article th:each=&quot;ticket : ${tickets}&quot;&gt;\n                &lt;span th:text=&quot;${#dates.format(ticket.date, 'dd.MM.yyyy HH:mm')}&quot;&gt;&lt;/span&gt;\n                &lt;h3 th:text=&quot;${ticket.getTitle()}&quot;&gt;Il primo ticket&lt;/h3&gt;\n                &lt;a th:href=&quot;@{'/ticket/'+${ticket.getId()}}&quot;&gt;view&lt;/a&gt;\n                &lt;a th:href=&quot;@{'/ticket/'+${ticket.getId()}+'/edit'}&quot;&gt;edit&lt;/a&gt;\n            &lt;/article&gt;\n            &lt;article th:if=&quot;${#lists.isEmpty(openTickets)}&quot;&gt;There's no ticket. Yippee!&lt;/article&gt;\n        &lt;/section&gt;\n        &lt;aside rel=&quot;stylesheet&quot;  href=&quot;style.css&quot;&gt;\n        &lt;p&gt;This is PP5 sidebar&lt;/p&gt;\n    &lt;/aside&gt;\n    &lt;/main&gt;\n    &lt;footer rel=&quot;stylesheet&quot;  href=&quot;style.css&quot;&gt;\n        &lt;h3&gt; This is the footer &lt;/h3&gt;\n        &lt;p&gt; Copyleft CC-by 2023 by Patricia &lt;/p&gt;\n    &lt;/footer&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"score":1,"post_type":"question","creation_date":1701107773,"post_id":77558908,"comment_id":136731597,"body_markdown":"Is the `String` in all cases, the `Id` from `Test`.  In other words, where is the String in the target maps coming from?","link":"https://stackoverflow.com/questions/77558908/convert-a-mapstring-listobject-to-mapstring-listclassvariable-using-ja#comment136731597_77558908","body":"Is the <code>String</code> in all cases, the <code>Id</code> from <code>Test</code>.  In other words, where is the String in the target maps coming from?"},{"score":0,"post_type":"question","creation_date":1701149750,"post_id":77558908,"comment_id":136736353,"body_markdown":"Yes its Id for all cases","link":"https://stackoverflow.com/questions/77558908/convert-a-mapstring-listobject-to-mapstring-listclassvariable-using-ja#comment136736353_77558908","body":"Yes its Id for all cases"}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701109491,"post_id":77559116,"comment_id":136731884,"body_markdown":"`getSomeOtherObjectArray` for the second map though.","link":"https://stackoverflow.com/questions/77558908/convert-a-mapstring-listobject-to-mapstring-listclassvariable-using-ja/77559116#comment136731884_77559116","body":"<code>getSomeOtherObjectArray</code> for the second map though."},{"score":0,"post_type":"answer","creation_date":1701109937,"post_id":77559116,"comment_id":136731966,"body_markdown":"@AlexeyVeleshko thx, fixed","link":"https://stackoverflow.com/questions/77558908/convert-a-mapstring-listobject-to-mapstring-listclassvariable-using-ja/77559116#comment136731966_77559116","body":"@AlexeyVeleshko thx, fixed"},{"score":0,"post_type":"answer","creation_date":1701151673,"post_id":77559116,"comment_id":136736540,"body_markdown":"Was able to use this get the solution I wanted. Thanks","link":"https://stackoverflow.com/questions/77558908/convert-a-mapstring-listobject-to-mapstring-listclassvariable-using-ja/77559116#comment136736540_77559116","body":"Was able to use this get the solution I wanted. Thanks"},{"score":0,"post_type":"answer","creation_date":1701164162,"post_id":77559116,"comment_id":136738406,"body_markdown":"Is there a way to add null checks to the Arrays.stream(test.getSomeOtherObjectArray()) array before collecting as a list? in Java 8 streams","link":"https://stackoverflow.com/questions/77558908/convert-a-mapstring-listobject-to-mapstring-listclassvariable-using-ja/77559116#comment136738406_77559116","body":"Is there a way to add null checks to the Arrays.stream(test.getSomeOtherObjectArray()) array before collecting as a list? in Java 8 streams"},{"score":0,"post_type":"answer","creation_date":1701166989,"post_id":77559116,"comment_id":136738920,"body_markdown":"@iamrogue Sure, just insert `.filter(s -&gt; s != null)` between `.flatMap` and `.toList` lines.","link":"https://stackoverflow.com/questions/77558908/convert-a-mapstring-listobject-to-mapstring-listclassvariable-using-ja/77559116#comment136738920_77559116","body":"@iamrogue Sure, just insert <code>.filter(s -&gt; s != null)</code> between <code>.flatMap</code> and <code>.toList</code> lines."},{"score":0,"post_type":"answer","creation_date":1701167328,"post_id":77559116,"comment_id":136738972,"body_markdown":"this worked. thanks","link":"https://stackoverflow.com/questions/77558908/convert-a-mapstring-listobject-to-mapstring-listclassvariable-using-ja/77559116#comment136738972_77559116","body":"this worked. thanks"}],"comment_count":6,"score":1,"last_activity_date":1701109895,"last_edit_date":1701109895,"creation_date":1701109158,"answer_id":77559116,"question_id":77558908,"body_markdown":"    Map&lt;String, List&lt;Test&gt;&gt; initialMap = new HashMap&lt;&gt;();\r\n\r\n    Map&lt;String, List&lt;TestObject1&gt;&gt; firstMap = initialMap.entrySet()\r\n        .stream()\r\n        .collect(\r\n            Collectors.toMap(\r\n                Map.Entry::getKey,\r\n                entry -&gt; entry.getValue()\r\n                    .stream()\r\n                    .flatMap(test -&gt; Arrays.stream(test.getSomeObjectArray()))\r\n                    .toList()\r\n            )\r\n        );\r\n\r\n    Map&lt;String, List&lt;TestObject2&gt;&gt; secondMap = initialMap.entrySet()\r\n        .stream()\r\n        .collect(\r\n            Collectors.toMap(\r\n                Map.Entry::getKey,\r\n                entry -&gt; entry.getValue()\r\n                    .stream()\r\n                    .flatMap(test -&gt; Arrays.stream(test.getSomeOtherObjectArray()))\r\n                    .toList()\r\n            )\r\n        );\r\n\r\n  }\r\n\r\nif `.toList()` is not resolving on the inner stream you can use `.collect(Collectors.toList())` instead.\r\n\r\nAlso, if you&#39;re expecting to process huge amount of data in such way it is really would be better for performance to use `for` loop  ","link":"https://stackoverflow.com/questions/77558908/convert-a-mapstring-listobject-to-mapstring-listclassvariable-using-ja/77559116#77559116","title":"Convert a Map&lt;String, List&lt;Object&gt;&gt; to Map&lt;String, List&lt;ClassVariable&gt;&gt; using java streams","body":"<pre><code>Map&lt;String, List&lt;Test&gt;&gt; initialMap = new HashMap&lt;&gt;();\n\nMap&lt;String, List&lt;TestObject1&gt;&gt; firstMap = initialMap.entrySet()\n    .stream()\n    .collect(\n        Collectors.toMap(\n            Map.Entry::getKey,\n            entry -&gt; entry.getValue()\n                .stream()\n                .flatMap(test -&gt; Arrays.stream(test.getSomeObjectArray()))\n                .toList()\n        )\n    );\n\nMap&lt;String, List&lt;TestObject2&gt;&gt; secondMap = initialMap.entrySet()\n    .stream()\n    .collect(\n        Collectors.toMap(\n            Map.Entry::getKey,\n            entry -&gt; entry.getValue()\n                .stream()\n                .flatMap(test -&gt; Arrays.stream(test.getSomeOtherObjectArray()))\n                .toList()\n        )\n    );\n</code></pre>\n<p>}</p>\n<p>if <code>.toList()</code> is not resolving on the inner stream you can use <code>.collect(Collectors.toList())</code> instead.</p>\n<p>Also, if you're expecting to process huge amount of data in such way it is really would be better for performance to use <code>for</code> loop</p>\n"},{"comment_count":0,"score":1,"last_activity_date":1701114915,"last_edit_date":1701114915,"creation_date":1701110321,"answer_id":77559220,"question_id":77558908,"body_markdown":"Since you didn&#39;t specify how or where to use streams I opted for a hybrid solution to avoid iterating (or streaming over) the source map twice.\r\n\r\nI created bare minimum records for the classes to simplify the code.\r\n```\r\nrecord TestObject1() {\r\n}\r\n\r\nrecord TestObject2() {\r\n}\r\n\r\nrecord Test(String getId, int getA, TestObject1[] getSomeObjectArray,\r\n        TestObject2[] getSomeOtherObjectArray) {\r\n};\r\n\r\nMap&lt;String, List&lt;Test&gt;&gt; mapOfTest = new HashMap&lt;&gt;();\r\nMap&lt;String, List&lt;TestObject1[]&gt;&gt; mapOfTestObject1 = new HashMap&lt;&gt;();\r\nMap&lt;String, List&lt;TestObject2[]&gt;&gt; mapOfTestObject2 = new HashMap&lt;&gt;();\r\n```\r\n- Iterate across the `entrySet` of the source `Map&lt;String,List&lt;Test&gt;&gt;`\r\n- Then using `map.computeIfAbsent`, create the target List as needed for each resultant map.\r\n- then stream the Test list to put each array its own list so it can be added to the proper map.\r\n```\r\nfor (Entry&lt;String, List&lt;Test&gt;&gt; e : mapOfTest.entrySet()) {    \r\n    mapOfTestObject1.computeIfAbsent(e.getKey(), v -&gt; new ArrayList&lt;&gt;())\r\n            .addAll(e.getValue()\r\n                .stream().map(Test::getSomeObjectArray).toList());\r\n    mapOfTestObject2.computeIfAbsent(e.getKey(), v -&gt; new ArrayList&lt;&gt;())\r\n            .addAll(e.getValue()\r\n                .stream().map(Test::getSomeOtherObjectArray).toList());\r\n}\r\n```\r\nFor lack of information, I presumed the String was always the `id`.  ","link":"https://stackoverflow.com/questions/77558908/convert-a-mapstring-listobject-to-mapstring-listclassvariable-using-ja/77559220#77559220","title":"Convert a Map&lt;String, List&lt;Object&gt;&gt; to Map&lt;String, List&lt;ClassVariable&gt;&gt; using java streams","body":"<p>Since you didn't specify how or where to use streams I opted for a hybrid solution to avoid iterating (or streaming over) the source map twice.</p>\n<p>I created bare minimum records for the classes to simplify the code.</p>\n<pre><code>record TestObject1() {\n}\n\nrecord TestObject2() {\n}\n\nrecord Test(String getId, int getA, TestObject1[] getSomeObjectArray,\n        TestObject2[] getSomeOtherObjectArray) {\n};\n\nMap&lt;String, List&lt;Test&gt;&gt; mapOfTest = new HashMap&lt;&gt;();\nMap&lt;String, List&lt;TestObject1[]&gt;&gt; mapOfTestObject1 = new HashMap&lt;&gt;();\nMap&lt;String, List&lt;TestObject2[]&gt;&gt; mapOfTestObject2 = new HashMap&lt;&gt;();\n</code></pre>\n<ul>\n<li>Iterate across the <code>entrySet</code> of the source <code>Map&lt;String,List&lt;Test&gt;&gt;</code></li>\n<li>Then using <code>map.computeIfAbsent</code>, create the target List as needed for each resultant map.</li>\n<li>then stream the Test list to put each array its own list so it can be added to the proper map.</li>\n</ul>\n<pre><code>for (Entry&lt;String, List&lt;Test&gt;&gt; e : mapOfTest.entrySet()) {    \n    mapOfTestObject1.computeIfAbsent(e.getKey(), v -&gt; new ArrayList&lt;&gt;())\n            .addAll(e.getValue()\n                .stream().map(Test::getSomeObjectArray).toList());\n    mapOfTestObject2.computeIfAbsent(e.getKey(), v -&gt; new ArrayList&lt;&gt;())\n            .addAll(e.getValue()\n                .stream().map(Test::getSomeOtherObjectArray).toList());\n}\n</code></pre>\n<p>For lack of information, I presumed the String was always the <code>id</code>.</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1701125680,"creation_date":1701125680,"answer_id":77560407,"question_id":77558908,"body_markdown":"&gt; _&#39;... I have a map of `Map&lt;String, List&lt;Test&gt;&gt;` where String is `&quot;id&quot;`. I need to convert these to\r\n`Map&lt;String, List&lt;someObjectArray&gt;&gt;` and `Map&lt;String, List&lt;someOtherObjectArray&gt;&gt;` using streams. ...&#39;_\r\n\r\nUtilize the _[Collectors#toMap](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function))_, and _[Stream#flatMap](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function))_, methods.\\\r\nFor the _toMap_ _valueMapper_ parameter, stream the _List_, creating a _flat-mapping_ for each _array_ _field_; either _someObjectArray_, or _someOtherObjectArray_.\r\n\r\nHere is an example, using _arrays_ of _Integer_ and _Double_, respectively _a_, and _b_.\r\n\r\n```java\r\nMap&lt;String, List&lt;Test&gt;&gt; map = new HashMap&lt;&gt;() {{\r\n    put(&quot;a&quot;, List.of(new Test(&quot;a&quot;, 1, new Integer[] { 1, 2, 3 }, new Double[] { .7, .8, .9 } )));\r\n    put(&quot;b&quot;, List.of(new Test(&quot;b&quot;, 2, new Integer[] { 4, 5, 6 }, new Double[] { .4, .5, .6 } )));\r\n    put(&quot;c&quot;, List.of(new Test(&quot;c&quot;, 3, new Integer[] { 7, 8, 9 }, new Double[] { .1, .2, .3 } )));\r\n}};\r\n```\r\n\r\n```java\r\nimport static java.util.stream.Collectors.toMap;\r\n```\r\n\r\n```java\r\nMap&lt;String, List&lt;Integer&gt;&gt; a\r\n    = map.entrySet().stream()\r\n                    .collect(toMap(Map.Entry::getKey,\r\n                                   x -&gt; x.getValue().stream()\r\n                                                    .flatMap(y -&gt; Stream.of(y.a))\r\n                                                    .toList()));\r\n\r\nMap&lt;String, List&lt;Double&gt;&gt; b\r\n    = map.entrySet().stream()\r\n                    .collect(toMap(Map.Entry::getKey,\r\n                                   x -&gt; x.getValue().stream()\r\n                                                    .flatMap(y -&gt; Stream.of(y.b))\r\n                                                    .toList()));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{a=[1, 2, 3], b=[4, 5, 6], c=[7, 8, 9]}\r\n{a=[0.7, 0.8, 0.9], b=[0.4, 0.5, 0.6], c=[0.1, 0.2, 0.3]}\r\n```","link":"https://stackoverflow.com/questions/77558908/convert-a-mapstring-listobject-to-mapstring-listclassvariable-using-ja/77560407#77560407","title":"Convert a Map&lt;String, List&lt;Object&gt;&gt; to Map&lt;String, List&lt;ClassVariable&gt;&gt; using java streams","body":"<blockquote>\n<p><em>'... I have a map of <code>Map&lt;String, List&lt;Test&gt;&gt;</code> where String is <code>&quot;id&quot;</code>. I need to convert these to\n<code>Map&lt;String, List&lt;someObjectArray&gt;&gt;</code> and <code>Map&lt;String, List&lt;someOtherObjectArray&gt;&gt;</code> using streams. ...'</em></p>\n</blockquote>\n<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\">Collectors#toMap</a></em>, and <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\">Stream#flatMap</a></em>, methods.<br />\nFor the <em>toMap</em> <em>valueMapper</em> parameter, stream the <em>List</em>, creating a <em>flat-mapping</em> for each <em>array</em> <em>field</em>; either <em>someObjectArray</em>, or <em>someOtherObjectArray</em>.</p>\n<p>Here is an example, using <em>arrays</em> of <em>Integer</em> and <em>Double</em>, respectively <em>a</em>, and <em>b</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;Test&gt;&gt; map = new HashMap&lt;&gt;() {{\n    put(&quot;a&quot;, List.of(new Test(&quot;a&quot;, 1, new Integer[] { 1, 2, 3 }, new Double[] { .7, .8, .9 } )));\n    put(&quot;b&quot;, List.of(new Test(&quot;b&quot;, 2, new Integer[] { 4, 5, 6 }, new Double[] { .4, .5, .6 } )));\n    put(&quot;c&quot;, List.of(new Test(&quot;c&quot;, 3, new Integer[] { 7, 8, 9 }, new Double[] { .1, .2, .3 } )));\n}};\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.stream.Collectors.toMap;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;Integer&gt;&gt; a\n    = map.entrySet().stream()\n                    .collect(toMap(Map.Entry::getKey,\n                                   x -&gt; x.getValue().stream()\n                                                    .flatMap(y -&gt; Stream.of(y.a))\n                                                    .toList()));\n\nMap&lt;String, List&lt;Double&gt;&gt; b\n    = map.entrySet().stream()\n                    .collect(toMap(Map.Entry::getKey,\n                                   x -&gt; x.getValue().stream()\n                                                    .flatMap(y -&gt; Stream.of(y.b))\n                                                    .toList()));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{a=[1, 2, 3], b=[4, 5, 6], c=[7, 8, 9]}\n{a=[0.7, 0.8, 0.9], b=[0.4, 0.5, 0.6], c=[0.1, 0.2, 0.3]}\n</code></pre>\n"}],"comment_count":2,"is_answered":true,"view_count":86,"answer_count":3,"score":1,"last_activity_date":1701125680,"creation_date":1701106769,"last_edit_date":1701107423,"question_id":77558908,"body_markdown":"I have a class example:\r\n\r\n\r\n\r\n    class Test {\r\n         String id;\r\n         int a;\r\n         TestObject1[] someObjectArray;\r\n         TestObject2[] someOtherObjectArray;\r\n    }\r\n\r\n\r\nI have a map of `Map&lt;String, List&lt;Test&gt;&gt;` where String is `&quot;id&quot;`. I need to convert these to\r\n`Map&lt;String, List&lt;someObjectArray&gt;&gt;` and `Map&lt;String, List&lt;someOtherObjectArray&gt;&gt;` using streams.\r\n\r\nTried something like this but couldn&#39;t get anywhere.\r\n\r\n```\r\nHashMap&lt;String, List&lt;Test&gt;&gt; map =\r\n        map.entrySet().forEach( p -&gt; map.computeIfAbset(p, k -&gt; \r\n               new ArrayList&lt;&gt;())).add(p);\r\n```\r\n\r\n","link":"https://stackoverflow.com/questions/77558908/convert-a-mapstring-listobject-to-mapstring-listclassvariable-using-ja","title":"Convert a Map&lt;String, List&lt;Object&gt;&gt; to Map&lt;String, List&lt;ClassVariable&gt;&gt; using java streams","body":"<p>I have a class example:</p>\n<pre><code>class Test {\n     String id;\n     int a;\n     TestObject1[] someObjectArray;\n     TestObject2[] someOtherObjectArray;\n}\n</code></pre>\n<p>I have a map of <code>Map&lt;String, List&lt;Test&gt;&gt;</code> where String is <code>&quot;id&quot;</code>. I need to convert these to\n<code>Map&lt;String, List&lt;someObjectArray&gt;&gt;</code> and <code>Map&lt;String, List&lt;someOtherObjectArray&gt;&gt;</code> using streams.</p>\n<p>Tried something like this but couldn't get anywhere.</p>\n<pre><code>HashMap&lt;String, List&lt;Test&gt;&gt; map =\n        map.entrySet().forEach( p -&gt; map.computeIfAbset(p, k -&gt; \n               new ArrayList&lt;&gt;())).add(p);\n</code></pre>\n"},{"tags":["java","android","crash","assertion"],"comment_count":0,"is_answered":false,"view_count":50,"answer_count":0,"score":0,"last_activity_date":1701125572,"creation_date":1689685029,"last_edit_date":1701125572,"question_id":76713015,"body_markdown":"    Fatal Exception: java.lang.AssertionError: No NameTypeIndex match for SHORT_STANDARD\r\n           at android.icu.impl.TimeZoneNamesImpl$ZNames.getNameTypeIndex(TimeZoneNamesImpl.java:724)\r\n           at android.icu.impl.TimeZoneNamesImpl$ZNames.getName(TimeZoneNamesImpl.java:790)\r\n           at android.icu.impl.TimeZoneNamesImpl.getTimeZoneDisplayName(TimeZoneNamesImpl.java:183)\r\n           at android.icu.text.TimeZoneNames.getDisplayName(TimeZoneNames.java:261)\r\n           at java.util.TimeZone.getDisplayName(TimeZone.java:405)\r\n           at java.util.Date.toString(Date.java:1066)\r\n           at java.lang.String.valueOf(String.java:2827)\r\n           at java.lang.StringBuilder.append(StringBuilder.java:132)\r\n           at com.android.myplex.ui.sun.activities.SplashActivity.checkDeviceRegDetails(SplashActivity.java:798)\r\n           at com.android.myplex.ui.sun.activities.SplashActivity.continueWithDevCalls(SplashActivity.java:536)\r\n           at com.android.myplex.ui.sun.activities.SplashActivity.access$600(SplashActivity.java:148)\r\n           at com.android.myplex.ui.sun.activities.SplashActivity$11.onResponse(SplashActivity.java:600)\r\n           at com.myplex.api.APIRequest.onResponse(APIRequest.java:25)\r\n           at com.myplex.api.request.user.UserConsentUrl$1.onResponse(UserConsentUrl.java:62)\r\n           at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:71)\r\n           at android.os.Handler.handleCallback(Handler.java:790)\r\n           at android.os.Handler.dispatchMessage(Handler.java:99)\r\n           at android.os.Looper.loop(Looper.java:192)\r\n           at android.app.ActivityThread.main(ActivityThread.java:6748)\r\n           at java.lang.reflect.Method.invoke(Method.java)\r\n           at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:867)\r\n       \r\n\r\nCrash found in Android 8","link":"https://stackoverflow.com/questions/76713015/fatal-exception-java-lang-assertionerror-no-nametypeindex-match-for-short-stan","title":"Fatal Exception: java.lang.AssertionError: No NameTypeIndex match for SHORT_STANDARD","body":"<pre><code>Fatal Exception: java.lang.AssertionError: No NameTypeIndex match for SHORT_STANDARD\n       at android.icu.impl.TimeZoneNamesImpl$ZNames.getNameTypeIndex(TimeZoneNamesImpl.java:724)\n       at android.icu.impl.TimeZoneNamesImpl$ZNames.getName(TimeZoneNamesImpl.java:790)\n       at android.icu.impl.TimeZoneNamesImpl.getTimeZoneDisplayName(TimeZoneNamesImpl.java:183)\n       at android.icu.text.TimeZoneNames.getDisplayName(TimeZoneNames.java:261)\n       at java.util.TimeZone.getDisplayName(TimeZone.java:405)\n       at java.util.Date.toString(Date.java:1066)\n       at java.lang.String.valueOf(String.java:2827)\n       at java.lang.StringBuilder.append(StringBuilder.java:132)\n       at com.android.myplex.ui.sun.activities.SplashActivity.checkDeviceRegDetails(SplashActivity.java:798)\n       at com.android.myplex.ui.sun.activities.SplashActivity.continueWithDevCalls(SplashActivity.java:536)\n       at com.android.myplex.ui.sun.activities.SplashActivity.access$600(SplashActivity.java:148)\n       at com.android.myplex.ui.sun.activities.SplashActivity$11.onResponse(SplashActivity.java:600)\n       at com.myplex.api.APIRequest.onResponse(APIRequest.java:25)\n       at com.myplex.api.request.user.UserConsentUrl$1.onResponse(UserConsentUrl.java:62)\n       at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:71)\n       at android.os.Handler.handleCallback(Handler.java:790)\n       at android.os.Handler.dispatchMessage(Handler.java:99)\n       at android.os.Looper.loop(Looper.java:192)\n       at android.app.ActivityThread.main(ActivityThread.java:6748)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:867)\n   \n</code></pre>\n<p>Crash found in Android 8</p>\n"},{"tags":["java","windows","batch-file"],"comments":[{"score":0,"post_type":"question","creation_date":1701123495,"post_id":77559686,"comment_id":136734009,"body_markdown":"Question doesn&#39;t contain sufficient detail. A thing to check: That will _definitely_ fail if the config folder&#39;s absolute path contains any spaces. Debug as you usually would. For example, replace that lot with `echo`, toss it through `cmd` to ensure you see a dosbox, etc.","link":"https://stackoverflow.com/questions/77559686/cant-pass-arguments-to-java-application-via-shortcut#comment136734009_77559686","body":"Question doesn&#39;t contain sufficient detail. A thing to check: That will <i>definitely</i> fail if the config folder&#39;s absolute path contains any spaces. Debug as you usually would. For example, replace that lot with <code>echo</code>, toss it through <code>cmd</code> to ensure you see a dosbox, etc."},{"score":0,"post_type":"question","creation_date":1701125694,"post_id":77559686,"comment_id":136734280,"body_markdown":"Surely you&#39;d create a shortcut with a Start in: as the appropriate, (already known), path, and the Target: as your already known command, (relative to the Start in location as needed). I see absolutely nothing in this question which requires the involvement of a batch file. Regardless, &quot;How do I run a shortcut with an argument&quot;, seems more like an OS question, rather than a programming problem.","link":"https://stackoverflow.com/questions/77559686/cant-pass-arguments-to-java-application-via-shortcut#comment136734280_77559686","body":"Surely you&#39;d create a shortcut with a Start in: as the appropriate, (already known), path, and the Target: as your already known command, (relative to the Start in location as needed). I see absolutely nothing in this question which requires the involvement of a batch file. Regardless, &quot;How do I run a shortcut with an argument&quot;, seems more like an OS question, rather than a programming problem."}],"comment_count":2,"is_answered":false,"view_count":45,"answer_count":0,"score":-1,"last_activity_date":1701124997,"creation_date":1701116074,"last_edit_date":1701124997,"question_id":77559686,"body_markdown":"Windows 10\r\n\r\nContent of file **myApp.bat**\r\n\r\n    @echo off\r\n    set CONFIG_FOLDER=%~dp0config\r\n    \r\n    java -Dexternal.app.config=%CONFIG_FOLDER%\\application.properties -jar lib\\my_app.jar\r\n\r\nFrom console I sucess run **myApp.bat** and it&#39;s success pass argument to my java application. Nice.\r\n\r\nBut if I create shortcut from **myApp.bat** and double click, it&#39;s not working. Nothing happend.\r\n\r\nHow I can pass argument via shorcut?\r\n\r\n","link":"https://stackoverflow.com/questions/77559686/cant-pass-arguments-to-java-application-via-shortcut","title":"Can&#39;t pass arguments to java application via shortcut","body":"<p>Windows 10</p>\n<p>Content of file <strong>myApp.bat</strong></p>\n<pre><code>@echo off\nset CONFIG_FOLDER=%~dp0config\n\njava -Dexternal.app.config=%CONFIG_FOLDER%\\application.properties -jar lib\\my_app.jar\n</code></pre>\n<p>From console I sucess run <strong>myApp.bat</strong> and it's success pass argument to my java application. Nice.</p>\n<p>But if I create shortcut from <strong>myApp.bat</strong> and double click, it's not working. Nothing happend.</p>\n<p>How I can pass argument via shorcut?</p>\n"},{"tags":["java","class","constructor","static","non-static"],"comments":[{"score":2,"post_type":"question","creation_date":1701124971,"post_id":77560344,"comment_id":136734195,"body_markdown":"Please check out Jon Skeet&#39;s answer [here](https://stackoverflow.com/a/12913767/). Note also that you could just declare the nested class as static: `static class Building {` and this would work, but if it doesn&#39;t need to be nested, then don&#39;t make it nested.","link":"https://stackoverflow.com/questions/77560344/java-classes-why-is-one-of-these-valid-and-one-is-not#comment136734195_77560344","body":"Please check out Jon Skeet&#39;s answer <a href=\"https://stackoverflow.com/a/12913767/\">here</a>. Note also that you could just declare the nested class as static: <code>static class Building {</code> and this would work, but if it doesn&#39;t need to be nested, then don&#39;t make it nested."}],"comment_count":1,"is_answered":false,"view_count":38,"answer_count":0,"score":1,"last_activity_date":1701124695,"creation_date":1701124695,"question_id":77560344,"body_markdown":"I&#39;m kind of confused about how java classes work. \r\n\r\nHow come when I do this, it gives me an error that says: &quot;Non-static variable cannot be referenced from static context&quot;:\r\n\r\n```\r\npublic class Test {\r\n    class Building {\r\n        Building() {\r\n            System.out.println(&quot;You&#39;ve made a building&quot;);\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        Building building1 = new Building();\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut when I pull the building class out of the Test class:\r\n\r\n```\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        Building building1 = new Building();\r\n    }\r\n}\r\n\r\nclass Building {\r\n\r\n    Building() {\r\n        System.out.println(&quot;You&#39;ve made a building&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow it works?\r\n\r\nCan somebody explain why #2 works but #1 doesn&#39;t?\r\n\r\n\r\nI would expect both to work or neither to work\r\n","link":"https://stackoverflow.com/questions/77560344/java-classes-why-is-one-of-these-valid-and-one-is-not","title":"Java Classes - Why is one of these valid and one is not?","body":"<p>I'm kind of confused about how java classes work.</p>\n<p>How come when I do this, it gives me an error that says: &quot;Non-static variable cannot be referenced from static context&quot;:</p>\n<pre><code>public class Test {\n    class Building {\n        Building() {\n            System.out.println(&quot;You've made a building&quot;);\n        }\n    }\n    \n    public static void main(String[] args) {\n        Building building1 = new Building();\n    }\n}\n\n</code></pre>\n<p>But when I pull the building class out of the Test class:</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        Building building1 = new Building();\n    }\n}\n\nclass Building {\n\n    Building() {\n        System.out.println(&quot;You've made a building&quot;);\n    }\n}\n\n</code></pre>\n<p>Now it works?</p>\n<p>Can somebody explain why #2 works but #1 doesn't?</p>\n<p>I would expect both to work or neither to work</p>\n"},{"tags":["java","mapstruct"],"comments":[{"score":0,"post_type":"question","creation_date":1700477911,"post_id":77515278,"comment_id":136655253,"body_markdown":"How new entries are added to `propA` and `propB`,? Does `Obj` contain a method to add new entries to `propA` and `propB`?","link":"https://stackoverflow.com/questions/77515278/merge-objects-maps-with-mapstruct#comment136655253_77515278","body":"How new entries are added to <code>propA</code> and <code>propB</code>,? Does <code>Obj</code> contain a method to add new entries to <code>propA</code> and <code>propB</code>?"},{"score":0,"post_type":"question","creation_date":1700478001,"post_id":77515278,"comment_id":136655263,"body_markdown":"Yes, there is a `putPropT(String key, T t)` method for each property map.","link":"https://stackoverflow.com/questions/77515278/merge-objects-maps-with-mapstruct#comment136655263_77515278","body":"Yes, there is a <code>putPropT(String key, T t)</code> method for each property map."},{"score":0,"post_type":"question","creation_date":1700478881,"post_id":77515278,"comment_id":136655417,"body_markdown":"The code you have provided probably does not work. `propA` values are of type `TypeA` and `propB` values are of type `TypeB` while `mergeMaps` expects the values of both of the maps to be the same (`&lt;T&gt;`). Maybe they share the same superclass, then `&lt;T&gt;` would rather be `&lt;T extends CommonSuperClass&gt;`.","link":"https://stackoverflow.com/questions/77515278/merge-objects-maps-with-mapstruct#comment136655417_77515278","body":"The code you have provided probably does not work. <code>propA</code> values are of type <code>TypeA</code> and <code>propB</code> values are of type <code>TypeB</code> while <code>mergeMaps</code> expects the values of both of the maps to be the same (<code>&lt;T&gt;</code>). Maybe they share the same superclass, then <code>&lt;T&gt;</code> would rather be <code>&lt;T extends CommonSuperClass&gt;</code>."},{"score":0,"post_type":"question","creation_date":1700479084,"post_id":77515278,"comment_id":136655454,"body_markdown":"The code runs. `mergeMaps` is generic on the method, so each call has its own type. (It&#39;s defined outside of the Obj class.)","link":"https://stackoverflow.com/questions/77515278/merge-objects-maps-with-mapstruct#comment136655454_77515278","body":"The code runs. <code>mergeMaps</code> is generic on the method, so each call has its own type. (It&#39;s defined outside of the Obj class.)"}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701123749,"creation_date":1701123749,"answer_id":77560278,"question_id":77515278,"body_markdown":"    @Mapper\r\n    public interface ObjMapper {\r\n    \r\n    \tObjMapper INSTANCE = Mappers.getMapper(ObjMapper.class);\r\n    \t\r\n    \tObj merge(Obj source, @MappingTarget Obj target);\r\n    \t\r\n        default &lt;T&gt; void mergeMaps(Map&lt;String, T&gt; source, @MappingTarget Map&lt;String, T&gt; target) {\r\n            if ( source == null ) {\r\n                return;\r\n            }\r\n            if ( target == null ) {\r\n                target = new HashMap&lt;&gt;();\r\n            }\r\n            target.putAll(source);\r\n        }\r\n    \t\r\n    }\r\n\r\nThe generated code is:\r\n\r\n    public class ObjMapperImpl implements ObjMapper {\r\n    \r\n        @Override\r\n        public Obj merge(Obj source, Obj target) {\r\n            if ( source == null ) {\r\n                return target;\r\n            }\r\n    \r\n            if ( source.getPropA() != null ) {\r\n                if ( target.getPropA() == null ) {\r\n                    target.setPropA( new LinkedHashMap&lt;String, ChildA&gt;() );\r\n                }\r\n                mergeMaps( source.getPropA(), target.getPropA() );\r\n            }\r\n            else {\r\n                target.setPropA( null );\r\n            }\r\n            if ( source.getPropB() != null ) {\r\n                if ( target.getPropB() == null ) {\r\n                    target.setPropB( new LinkedHashMap&lt;String, ChildB&gt;() );\r\n                }\r\n                mergeMaps( source.getPropB(), target.getPropB() );\r\n            }\r\n            else {\r\n                target.setPropB( null );\r\n            }\r\n    \r\n            return target;\r\n        }\r\n    \r\n    }\r\n\r\nthe only difference is that it makes an update on target.\r\nIf you need to have a new object, you need to execute the merge method twice:\r\n\r\n    Obj newObj = new Obj();\r\n    newObj = ObjMapper.INSTANCE.merge(ob1, newObj); // add from ob1\r\n    newObj = ObjMapper.INSTANCE.merge(ob2, newObj); // add from ob2","link":"https://stackoverflow.com/questions/77515278/merge-objects-maps-with-mapstruct/77560278#77560278","title":"Merge objects/maps with mapstruct","body":"<pre><code>@Mapper\npublic interface ObjMapper {\n\n    ObjMapper INSTANCE = Mappers.getMapper(ObjMapper.class);\n    \n    Obj merge(Obj source, @MappingTarget Obj target);\n    \n    default &lt;T&gt; void mergeMaps(Map&lt;String, T&gt; source, @MappingTarget Map&lt;String, T&gt; target) {\n        if ( source == null ) {\n            return;\n        }\n        if ( target == null ) {\n            target = new HashMap&lt;&gt;();\n        }\n        target.putAll(source);\n    }\n    \n}\n</code></pre>\n<p>The generated code is:</p>\n<pre><code>public class ObjMapperImpl implements ObjMapper {\n\n    @Override\n    public Obj merge(Obj source, Obj target) {\n        if ( source == null ) {\n            return target;\n        }\n\n        if ( source.getPropA() != null ) {\n            if ( target.getPropA() == null ) {\n                target.setPropA( new LinkedHashMap&lt;String, ChildA&gt;() );\n            }\n            mergeMaps( source.getPropA(), target.getPropA() );\n        }\n        else {\n            target.setPropA( null );\n        }\n        if ( source.getPropB() != null ) {\n            if ( target.getPropB() == null ) {\n                target.setPropB( new LinkedHashMap&lt;String, ChildB&gt;() );\n            }\n            mergeMaps( source.getPropB(), target.getPropB() );\n        }\n        else {\n            target.setPropB( null );\n        }\n\n        return target;\n    }\n\n}\n</code></pre>\n<p>the only difference is that it makes an update on target.\nIf you need to have a new object, you need to execute the merge method twice:</p>\n<pre><code>Obj newObj = new Obj();\nnewObj = ObjMapper.INSTANCE.merge(ob1, newObj); // add from ob1\nnewObj = ObjMapper.INSTANCE.merge(ob2, newObj); // add from ob2\n</code></pre>\n"}],"comment_count":4,"is_answered":true,"view_count":49,"answer_count":1,"score":0,"last_activity_date":1701123749,"creation_date":1700477676,"last_edit_date":1700478114,"question_id":77515278,"body_markdown":"I have two objects of the same type. All fields are `Map&lt;String, SomeType&gt;`, so the objects look like:\r\n\r\n```java\r\nclass Obj {\r\n  Map&lt;String, TypeA&gt; propA;\r\n  Map&lt;String, TypeB&gt; propB;\r\n  ...\r\n\r\n  Obj setPropA(Map&lt;String, TypeA&gt; newMap) { ... }\r\n  Obj setPropB(Map&lt;String, TypeB&gt; newMap) { ... }\r\n  ...\r\n \r\n  Obj putPropA(String key, TypeA a) { ... }\r\n  Obj putPropB(String key, TypeB b) { ... }\r\n  ...\r\n}\r\n```\r\n\r\nI need to merge two of these objects by merging/concatenating all map entries (the string keys never clash). Currently, this is done by hand. But, that seems clumsy and the as the class is generated, as soon as a property is added, the merge is incomplete.\r\n\r\n```java\r\nObj merge(Obj ob1, Obj ob2) {\r\n  return new Obj()\r\n    .setPropA(mergeMaps(ob1.getPropA(), ob2.getPropA()))\r\n    .setPropB(mergeMaps(ob1.getPropB(), ob2.getPropB()))\r\n    ...;\r\n}\r\n\r\n&lt;T&gt; Map&lt;String, T&gt; mergeMaps(Map&lt;String, T&gt; aMap, Map&lt;String, T&gt; bMap) {\r\n  aMap.putAll(bMap);\r\n  return aMap;\r\n}\r\n```\r\n\r\nCan mapstruct be used to automatically merge all of the field maps?\r\n","link":"https://stackoverflow.com/questions/77515278/merge-objects-maps-with-mapstruct","title":"Merge objects/maps with mapstruct","body":"<p>I have two objects of the same type. All fields are <code>Map&lt;String, SomeType&gt;</code>, so the objects look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Obj {\n  Map&lt;String, TypeA&gt; propA;\n  Map&lt;String, TypeB&gt; propB;\n  ...\n\n  Obj setPropA(Map&lt;String, TypeA&gt; newMap) { ... }\n  Obj setPropB(Map&lt;String, TypeB&gt; newMap) { ... }\n  ...\n \n  Obj putPropA(String key, TypeA a) { ... }\n  Obj putPropB(String key, TypeB b) { ... }\n  ...\n}\n</code></pre>\n<p>I need to merge two of these objects by merging/concatenating all map entries (the string keys never clash). Currently, this is done by hand. But, that seems clumsy and the as the class is generated, as soon as a property is added, the merge is incomplete.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Obj merge(Obj ob1, Obj ob2) {\n  return new Obj()\n    .setPropA(mergeMaps(ob1.getPropA(), ob2.getPropA()))\n    .setPropB(mergeMaps(ob1.getPropB(), ob2.getPropB()))\n    ...;\n}\n\n&lt;T&gt; Map&lt;String, T&gt; mergeMaps(Map&lt;String, T&gt; aMap, Map&lt;String, T&gt; bMap) {\n  aMap.putAll(bMap);\n  return aMap;\n}\n</code></pre>\n<p>Can mapstruct be used to automatically merge all of the field maps?</p>\n"},{"tags":["java","synchronization","volatile"],"comments":[{"score":1,"post_type":"question","creation_date":1701862810,"post_id":77559975,"comment_id":136826964,"body_markdown":"If that’s the only method of the class, there is no need to store `a` and `b` in fields at all.","link":"https://stackoverflow.com/questions/77559975/java-use-synchronized-and-volatile-when-manipulating-multiple-properties-and-loc#comment136826964_77559975","body":"If that’s the only method of the class, there is no need to store <code>a</code> and <code>b</code> in fields at all."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701123392,"creation_date":1701123392,"answer_id":77560244,"question_id":77559975,"body_markdown":"the first.\r\n\r\nBut, only in interactions between other threads that _also_ lock on this lock object. In other words, if 10 threads all call `doStuff` simultaneously:\r\n\r\n* Those 10 threads each run the code there in some undefined order.\r\n* Each of the 10 executions sees the updates of the previous execution, and will run its execution as an atomic unit (i.e. the `a == 8` check will see its own `a = i`, guaranteed, as the state of `a`.\r\n\r\nThere is no need to _also_ declare those fields `volatile`.","link":"https://stackoverflow.com/questions/77559975/java-use-synchronized-and-volatile-when-manipulating-multiple-properties-and-loc/77560244#77560244","title":"Java use synchronized and volatile when manipulating multiple properties and locking on a lock object","body":"<p>the first.</p>\n<p>But, only in interactions between other threads that <em>also</em> lock on this lock object. In other words, if 10 threads all call <code>doStuff</code> simultaneously:</p>\n<ul>\n<li>Those 10 threads each run the code there in some undefined order.</li>\n<li>Each of the 10 executions sees the updates of the previous execution, and will run its execution as an atomic unit (i.e. the <code>a == 8</code> check will see its own <code>a = i</code>, guaranteed, as the state of <code>a</code>.</li>\n</ul>\n<p>There is no need to <em>also</em> declare those fields <code>volatile</code>.</p>\n"}],"comment_count":1,"is_answered":true,"view_count":34,"answer_count":1,"score":1,"last_activity_date":1701123392,"creation_date":1701119585,"last_edit_date":1701122941,"question_id":77559975,"body_markdown":"I need to manipulate multiple properties in Java while keeping them in sync.\r\n\r\nIs this code correct (from my understanding this is):\r\n\r\n    class X {\r\n        private final Object lockObject = new Object();\r\n        private int a;\r\n        private boolean b;\r\n        private Y y;\r\n\r\n        public void doStuff(int i) {\r\n              synchronized (lockObject) {\r\n                    a = i;\r\n                    b = a == 8;\r\n                    y.someMethod(b);\r\n                    y = new Y(a, y);\r\n              }\r\n        }\r\n    }\r\n\r\nDoes this `synchronized` block ensure updates to all properties or just the locked property are written (in which case it would not really make sense to lock on a final object with no state)?\r\n\r\nOr do I need to use `volatile` in order to ensure memory visibility updates on all threads:\r\n\r\n    class X {\r\n        private final Object lockObject = new Object();\r\n        private volatile int a;\r\n        private volatile boolean b;\r\n        private volatile Y y;\r\n\r\n        public void doStuff(int i) {\r\n              synchronized (lockObject) {\r\n                    a = i;\r\n                    b = a == 8;\r\n                    y.someMethod(b);\r\n                    y = new Y(a, y);\r\n              }\r\n        }\r\n    }\r\n\r\nI am actually 99% sure the first one is correct but not a 100%, thanks for answers.","link":"https://stackoverflow.com/questions/77559975/java-use-synchronized-and-volatile-when-manipulating-multiple-properties-and-loc","title":"Java use synchronized and volatile when manipulating multiple properties and locking on a lock object","body":"<p>I need to manipulate multiple properties in Java while keeping them in sync.</p>\n<p>Is this code correct (from my understanding this is):</p>\n<pre><code>class X {\n    private final Object lockObject = new Object();\n    private int a;\n    private boolean b;\n    private Y y;\n\n    public void doStuff(int i) {\n          synchronized (lockObject) {\n                a = i;\n                b = a == 8;\n                y.someMethod(b);\n                y = new Y(a, y);\n          }\n    }\n}\n</code></pre>\n<p>Does this <code>synchronized</code> block ensure updates to all properties or just the locked property are written (in which case it would not really make sense to lock on a final object with no state)?</p>\n<p>Or do I need to use <code>volatile</code> in order to ensure memory visibility updates on all threads:</p>\n<pre><code>class X {\n    private final Object lockObject = new Object();\n    private volatile int a;\n    private volatile boolean b;\n    private volatile Y y;\n\n    public void doStuff(int i) {\n          synchronized (lockObject) {\n                a = i;\n                b = a == 8;\n                y.someMethod(b);\n                y = new Y(a, y);\n          }\n    }\n}\n</code></pre>\n<p>I am actually 99% sure the first one is correct but not a 100%, thanks for answers.</p>\n"},{"tags":["java","hadoop","parquet","avro"],"comment_count":0,"is_answered":false,"view_count":40,"answer_count":0,"score":1,"last_activity_date":1701123150,"creation_date":1700152153,"last_edit_date":1701123150,"question_id":77496508,"body_markdown":"I am trying to generate some parquet files from my POJO classes. I am mostly successful in that but AvroWriter is giving me a failure when I try to save a list of custom POJO object. \r\n\r\n```\r\n try {\r\n     ParquetWriter&lt;GenericRecord&gt; writer = writerMap.computeIfAbsent(separator, pWriter -&gt; {\r\n         try {\r\n             return AvroParquetWriter\r\n                    .&lt;GenericRecord&gt;builder(path)\r\n                    .withSchema(schema)\r\n                    .withWriteMode(ParquetFileWriter.Mode.OVERWRITE)\r\n                    .withConf(config)\r\n                    .withValidation(false)\r\n                    .withPageWriteChecksumEnabled(false)\r\n                    .withDictionaryEncoding(false)\r\n                    .withCompressionCodec(CompressionCodecName.SNAPPY)\r\n                    .build();\r\n         } catch (IOException e) {\r\n             throw new RuntimeException(&quot;Error creating Parquet writer&quot;, e);\r\n         }\r\n     });\r\n\r\n     writer.write(convertToGenericRecord(item, schema));\r\n } catch (Exception ex) {\r\n     log.error(&quot;Exception while writing to parquet file&quot;, ex);\r\n }\r\n```\r\n\r\n\r\n\r\nThis is my Schema:\r\n```\r\n public static Schema getServiceOrdersJsonSchema2() {\r\n     Schema arraySchema = SchemaBuilder.array()\r\n               .items(SchemaBuilder.record(&quot;ServiceOrderJson&quot;)\r\n               .namespace(&quot;ServiceOrders&quot;)\r\n               .fields()\r\n                   .name(&quot;value1&quot;).type().stringType().noDefault()\r\n                   .name(&quot;value2&quot;).type().stringType().noDefault()\r\n                   .name(&quot;value3&quot;).type().longType().noDefault()\r\n                   .name(&quot;value4&quot;).type().stringType().noDefault()\r\n                   .name(&quot;value5&quot;).type().booleanType().noDefault()\r\n               .endRecord());\r\n    return arraySchema;\r\n}\r\n```\r\n\r\nThis is my POJO class:\r\n```\r\npublic class ServiceOrderJson {\r\n    public String value1;\r\n    public String value2;\r\n    public long value3;\r\n    public String value4;\r\n    public Boolean value5;\r\n}\r\n```\r\n\r\nStackTrace:\r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3\r\n    \tat org.apache.parquet.io.MessageColumnIO$MessageColumnIORecordConsumer.addBinary(MessageColumnIO.java:476) ~[parquet-column-1.13.1.jar:1.13.1]\r\n    \tat org.apache.parquet.avro.AvroWriteSupport.writeValueWithoutConversion(AvroWriteSupport.java:362) ~[parquet-avro-1.13.1.jar:1.13.1]\r\n    \tat org.apache.parquet.avro.AvroWriteSupport.writeValue(AvroWriteSupport.java:291) ~[parquet-avro-1.13.1.jar:1.13.1]\r\n    \tat org.apache.parquet.avro.AvroWriteSupport.writeRecordFields(AvroWriteSupport.java:204) ~[parquet-avro-1.13.1.jar:1.13.1]\r\n    \tat org.apache.parquet.avro.AvroWriteSupport.write(AvroWriteSupport.java:178) ~[parquet-avro-1.13.1.jar:1.13.1]\r\n    \tat org.apache.parquet.hadoop.InternalParquetRecordWriter.write(InternalParquetRecordWriter.java:138) ~[parquet-hadoop-1.13.1.jar:1.13.1]\r\n    \tat org.apache.parquet.hadoop.ParquetWriter.write(ParquetWriter.java:310) ~[parquet-hadoop-1.13.1.jar:1.13.1]\r\n    \tat com.mbti.cddm.analyticsintegration.writer.ParquetItemWriter.generateParquetFiles(ParquetItemWriter.java:123) ~[classes/:na]\r\n\r\nI was expecting that Array is going to be recognized and written into a file.","link":"https://stackoverflow.com/questions/77496508/apache-parquet-writer-throws-arrayindexoutofboundsexception-when-writing-avro","title":"Apache Parquet Writer throws ArrayIndexOutOfBoundsException when writing Avro","body":"<p>I am trying to generate some parquet files from my POJO classes. I am mostly successful in that but AvroWriter is giving me a failure when I try to save a list of custom POJO object.</p>\n<pre><code> try {\n     ParquetWriter&lt;GenericRecord&gt; writer = writerMap.computeIfAbsent(separator, pWriter -&gt; {\n         try {\n             return AvroParquetWriter\n                    .&lt;GenericRecord&gt;builder(path)\n                    .withSchema(schema)\n                    .withWriteMode(ParquetFileWriter.Mode.OVERWRITE)\n                    .withConf(config)\n                    .withValidation(false)\n                    .withPageWriteChecksumEnabled(false)\n                    .withDictionaryEncoding(false)\n                    .withCompressionCodec(CompressionCodecName.SNAPPY)\n                    .build();\n         } catch (IOException e) {\n             throw new RuntimeException(&quot;Error creating Parquet writer&quot;, e);\n         }\n     });\n\n     writer.write(convertToGenericRecord(item, schema));\n } catch (Exception ex) {\n     log.error(&quot;Exception while writing to parquet file&quot;, ex);\n }\n</code></pre>\n<p>This is my Schema:</p>\n<pre><code> public static Schema getServiceOrdersJsonSchema2() {\n     Schema arraySchema = SchemaBuilder.array()\n               .items(SchemaBuilder.record(&quot;ServiceOrderJson&quot;)\n               .namespace(&quot;ServiceOrders&quot;)\n               .fields()\n                   .name(&quot;value1&quot;).type().stringType().noDefault()\n                   .name(&quot;value2&quot;).type().stringType().noDefault()\n                   .name(&quot;value3&quot;).type().longType().noDefault()\n                   .name(&quot;value4&quot;).type().stringType().noDefault()\n                   .name(&quot;value5&quot;).type().booleanType().noDefault()\n               .endRecord());\n    return arraySchema;\n}\n</code></pre>\n<p>This is my POJO class:</p>\n<pre><code>public class ServiceOrderJson {\n    public String value1;\n    public String value2;\n    public long value3;\n    public String value4;\n    public Boolean value5;\n}\n</code></pre>\n<p>StackTrace:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3\n    at org.apache.parquet.io.MessageColumnIO$MessageColumnIORecordConsumer.addBinary(MessageColumnIO.java:476) ~[parquet-column-1.13.1.jar:1.13.1]\n    at org.apache.parquet.avro.AvroWriteSupport.writeValueWithoutConversion(AvroWriteSupport.java:362) ~[parquet-avro-1.13.1.jar:1.13.1]\n    at org.apache.parquet.avro.AvroWriteSupport.writeValue(AvroWriteSupport.java:291) ~[parquet-avro-1.13.1.jar:1.13.1]\n    at org.apache.parquet.avro.AvroWriteSupport.writeRecordFields(AvroWriteSupport.java:204) ~[parquet-avro-1.13.1.jar:1.13.1]\n    at org.apache.parquet.avro.AvroWriteSupport.write(AvroWriteSupport.java:178) ~[parquet-avro-1.13.1.jar:1.13.1]\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.write(InternalParquetRecordWriter.java:138) ~[parquet-hadoop-1.13.1.jar:1.13.1]\n    at org.apache.parquet.hadoop.ParquetWriter.write(ParquetWriter.java:310) ~[parquet-hadoop-1.13.1.jar:1.13.1]\n    at com.mbti.cddm.analyticsintegration.writer.ParquetItemWriter.generateParquetFiles(ParquetItemWriter.java:123) ~[classes/:na]\n</code></pre>\n<p>I was expecting that Array is going to be recognized and written into a file.</p>\n"},{"tags":["java","android","kotlin","rx-java","rx-java2"],"comments":[{"score":0,"post_type":"question","creation_date":1701123094,"post_id":77559889,"comment_id":136733955,"body_markdown":"You can have a `PublishSubject&lt;Unit&gt;` that just signals that you need to fetch data. Then you `concatMap` or `switchMap` it by `remoteDataSource.fetchLatestData()`. You then take the resulting observable and `combineLatest` with `localDataSource`. So `combineLatest(local, subject.concatMap { remote.fetch }) { …`","link":"https://stackoverflow.com/questions/77559889/combine-2-data-sources-in-rxjava-with-possibility-to-fetch-new-data-from-1-of-th#comment136733955_77559889","body":"You can have a <code>PublishSubject&lt;Unit&gt;</code> that just signals that you need to fetch data. Then you <code>concatMap</code> or <code>switchMap</code> it by <code>remoteDataSource.fetchLatestData()</code>. You then take the resulting observable and <code>combineLatest</code> with <code>localDataSource</code>. So <code>combineLatest(local, subject.concatMap { remote.fetch }) { …</code>"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701122531,"last_edit_date":1701122531,"creation_date":1701120169,"answer_id":77560010,"question_id":77559889,"body_markdown":"I&#39;ve managed to fix my problem by changing a way to subscribe to the `Observable`, which fetches data from the API. Now I created a new subscriber, end emit data to the `BehaviorSubject` manually. I&#39;m not satisfied with the solution, but nothing better came to my mind:\r\n\r\n    private fun fetchLatestData() {\r\n        disposables += remoteDataSource.fetchLatestData()\r\n            .subscribeOn(Schedulers.io())\r\n            .subscribe({\r\n                remoteDataObservable.onNext(it)\r\n            }, {})\r\n    }\r\n    ","link":"https://stackoverflow.com/questions/77559889/combine-2-data-sources-in-rxjava-with-possibility-to-fetch-new-data-from-1-of-th/77560010#77560010","title":"Combine 2 data sources in RxJava with possibility to fetch new data from 1 of the observables","body":"<p>I've managed to fix my problem by changing a way to subscribe to the <code>Observable</code>, which fetches data from the API. Now I created a new subscriber, end emit data to the <code>BehaviorSubject</code> manually. I'm not satisfied with the solution, but nothing better came to my mind:</p>\n<pre><code>private fun fetchLatestData() {\n    disposables += remoteDataSource.fetchLatestData()\n        .subscribeOn(Schedulers.io())\n        .subscribe({\n            remoteDataObservable.onNext(it)\n        }, {})\n}\n</code></pre>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1701121146,"post_id":77560069,"comment_id":136733679,"body_markdown":"Thanks for the answer! Indeed, it would work, it&#39;s something similar that I wrote above. Here I see a problem, that if your DataSource have multiple subscribers, which are observing data and call fetchLatestData, it would be a mess, and we&#39;ll get an inconsistent state.","link":"https://stackoverflow.com/questions/77559889/combine-2-data-sources-in-rxjava-with-possibility-to-fetch-new-data-from-1-of-th/77560069#comment136733679_77560069","body":"Thanks for the answer! Indeed, it would work, it&#39;s something similar that I wrote above. Here I see a problem, that if your DataSource have multiple subscribers, which are observing data and call fetchLatestData, it would be a mess, and we&#39;ll get an inconsistent state."},{"score":0,"post_type":"answer","creation_date":1701121344,"post_id":77560069,"comment_id":136733705,"body_markdown":"With your approach, you would need to always dispose the previous subscription, or else, whenever you&#39;ll call fetchLatestData, you would subscribe again to a new Observable and have leaks","link":"https://stackoverflow.com/questions/77559889/combine-2-data-sources-in-rxjava-with-possibility-to-fetch-new-data-from-1-of-th/77560069#comment136733705_77560069","body":"With your approach, you would need to always dispose the previous subscription, or else, whenever you&#39;ll call fetchLatestData, you would subscribe again to a new Observable and have leaks"},{"score":0,"post_type":"answer","creation_date":1701122521,"post_id":77560069,"comment_id":136733858,"body_markdown":"Sure, thanks for noticing! I just didn&#39;t add it to my answer. Have done it now","link":"https://stackoverflow.com/questions/77559889/combine-2-data-sources-in-rxjava-with-possibility-to-fetch-new-data-from-1-of-th/77560069#comment136733858_77560069","body":"Sure, thanks for noticing! I just didn&#39;t add it to my answer. Have done it now"}],"comment_count":3,"score":1,"last_activity_date":1701120833,"creation_date":1701120833,"answer_id":77560069,"question_id":77559889,"body_markdown":"The problem I see is that your `fetchLatestData` method returns an `Observable`. I would suggest having something like this:\r\n```kotlin\r\n@HiltViewModel\r\nclass MyViewModel @Inject constructor(\r\n    private val remoteDataSource: RemoteDataSource,\r\n    private val localDataSource: LocalDataSource,\r\n) {\r\n\r\n    init {\r\n        disposables += Observable.combineLatest(\r\n            localDataSource.getData(),\r\n            remoteDataSource.data,\r\n            { local, remote -&gt;\r\n                local.plus(remote)\r\n            }\r\n        )\r\n            .subscribeOn(Schedulers.io())\r\n            .observeOn(AndroidSchedulers.mainThread())\r\n            .subscribe {\r\n                displayList(it)\r\n            }\r\n        fetchLatestData()\r\n    }\r\n\r\n    fun onPullToRefresh() {\r\n        fetchLatestData()\r\n    }\r\n    \r\n    private fun fetchLatestData() {\r\n        remoteDataSource.fetchLatestData()\r\n    }\r\n```\r\n\r\nYour `RemoteDataSource` class would look something like this:\r\n\r\n```kotlin\r\nclass RemoteDataSource {\r\n\r\n    val data: BehaviorSubject&lt;List&lt;Data&gt;&gt;\r\n\r\n    fun fetchLatestData() {\r\n        // request the data from remote\r\n        data.onNext(newFetchedData)\r\n    }\r\n}\r\n```","link":"https://stackoverflow.com/questions/77559889/combine-2-data-sources-in-rxjava-with-possibility-to-fetch-new-data-from-1-of-th/77560069#77560069","title":"Combine 2 data sources in RxJava with possibility to fetch new data from 1 of the observables","body":"<p>The problem I see is that your <code>fetchLatestData</code> method returns an <code>Observable</code>. I would suggest having something like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@HiltViewModel\nclass MyViewModel @Inject constructor(\n    private val remoteDataSource: RemoteDataSource,\n    private val localDataSource: LocalDataSource,\n) {\n\n    init {\n        disposables += Observable.combineLatest(\n            localDataSource.getData(),\n            remoteDataSource.data,\n            { local, remote -&gt;\n                local.plus(remote)\n            }\n        )\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe {\n                displayList(it)\n            }\n        fetchLatestData()\n    }\n\n    fun onPullToRefresh() {\n        fetchLatestData()\n    }\n    \n    private fun fetchLatestData() {\n        remoteDataSource.fetchLatestData()\n    }\n</code></pre>\n<p>Your <code>RemoteDataSource</code> class would look something like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class RemoteDataSource {\n\n    val data: BehaviorSubject&lt;List&lt;Data&gt;&gt;\n\n    fun fetchLatestData() {\n        // request the data from remote\n        data.onNext(newFetchedData)\n    }\n}\n</code></pre>\n"}],"comment_count":1,"is_answered":true,"view_count":43,"answer_count":2,"score":1,"last_activity_date":1701122531,"creation_date":1701118574,"last_edit_date":1701119146,"question_id":77559889,"body_markdown":"I&#39;m currently working on an Android app where I&#39;m using RxJava in a ViewModel to handle data from both a local Room database and a remote API (Retrofit). I have implemented a pull-to-refresh feature, and in the `onRefresh` method, I&#39;m currently creating a new observable to fetch data from the remote API.\r\n\r\nThe problem is I want the combined observable to be triggered when user does pull-to-refresh, but it&#39;s not triggered. \r\n\r\nWhat may be the issue?\r\n\r\n    @HiltViewModel\r\n    class MyViewModel @Inject constructor(\r\n        private val remoteDataSource: RemoteDataSource,\r\n        private val localDataSource: LocalDataSource,\r\n    ) {\r\n    \r\n        private val remoteDataObservable = BehaviorSubject.createDefault&lt;List&lt;Data&gt;&gt;(emptyList())\r\n    \r\n        init {\r\n            disposables += Observable.combineLatest(\r\n                localDataSource.getData(),\r\n                remoteDataObservable,\r\n                { local, remote -&gt;\r\n                    local.plus(remote)\r\n                }\r\n            )\r\n                .subscribeOn(Schedulers.io())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .subscribe {\r\n                    displayList(it)\r\n                }\r\n            fetchLatestData()\r\n        }\r\n    \r\n        fun onPullToRefresh() {\r\n            fetchLatestData()\r\n        }\r\n        \r\n        private fun fetchLatestData() {\r\n            remoteDataSource.fetchLatestData()\r\n                .subscribeOn(Schedulers.io())\r\n                .subscribe(remoteDataObservable)\r\n        }\r\n    \r\n        private fun displayList(list: List&lt;Data&gt;) {\r\n            // Display list\r\n        }\r\n    \r\n    }","link":"https://stackoverflow.com/questions/77559889/combine-2-data-sources-in-rxjava-with-possibility-to-fetch-new-data-from-1-of-th","title":"Combine 2 data sources in RxJava with possibility to fetch new data from 1 of the observables","body":"<p>I'm currently working on an Android app where I'm using RxJava in a ViewModel to handle data from both a local Room database and a remote API (Retrofit). I have implemented a pull-to-refresh feature, and in the <code>onRefresh</code> method, I'm currently creating a new observable to fetch data from the remote API.</p>\n<p>The problem is I want the combined observable to be triggered when user does pull-to-refresh, but it's not triggered.</p>\n<p>What may be the issue?</p>\n<pre><code>@HiltViewModel\nclass MyViewModel @Inject constructor(\n    private val remoteDataSource: RemoteDataSource,\n    private val localDataSource: LocalDataSource,\n) {\n\n    private val remoteDataObservable = BehaviorSubject.createDefault&lt;List&lt;Data&gt;&gt;(emptyList())\n\n    init {\n        disposables += Observable.combineLatest(\n            localDataSource.getData(),\n            remoteDataObservable,\n            { local, remote -&gt;\n                local.plus(remote)\n            }\n        )\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe {\n                displayList(it)\n            }\n        fetchLatestData()\n    }\n\n    fun onPullToRefresh() {\n        fetchLatestData()\n    }\n    \n    private fun fetchLatestData() {\n        remoteDataSource.fetchLatestData()\n            .subscribeOn(Schedulers.io())\n            .subscribe(remoteDataObservable)\n    }\n\n    private fun displayList(list: List&lt;Data&gt;) {\n        // Display list\n    }\n\n}\n</code></pre>\n"},{"tags":["java","servlets","connection","timeout"],"comment_count":0,"is_answered":false,"view_count":32,"answer_count":0,"score":-1,"last_activity_date":1701121745,"creation_date":1701108847,"last_edit_date":1701121745,"question_id":77559086,"body_markdown":"I&#39;m having a problem with a Java servlet that that fetches 3rd-party web content.\r\n\r\nMy website gathers weather data from 3rd-party web servers.\r\nFor 3rd-party web servers that support CORS, I just fetch the data directly in the browser client using javascript.\r\nFor 3rd-party web servers that *don&#39;t* support CORS, I use a workaround: first I talk to my own servlet, which fetches the 3rd-party data and stores it in a temp file, and then I serve the temp file.\r\n\r\nRecently, I&#39;ve started to experience failures with URLs that don&#39;t support CORS, and thus are fetched using my servlet:\r\n\r\nExample URLs that fail in prod:\r\n- https://weather.gc.ca/rss/city/pe-5_e.xml\r\n- https://dd.weather.gc.ca/radar/PRECIPET/GIF/CASGO/\r\n\r\nThe stack trace occurs in my servlet code here:\r\n\r\nhttps://github.com/johanley/astro/blob/master/WEB-INF/classes/astro/WebPageFetcher.java#L116\r\n\r\n**In prod only**, the connection times out. Example from the log:\r\n\r\n27-Nov-2023 00:32:00.295 SEVERE [ajp-nio-127.0.0.1-33027-exec-4] astro.WebPageFetcher.webFetch2 Cannot open connection to https://dd.weather.gc.ca/radar/PRECIPET/GIF/CASGO/ \r\n\r\nNote that \r\n- **prod fails, but running locally does not**\r\n- there have been no recent changes in my servlet code\r\n- prod: Tomcat 9.0.82, using JDK 13.0.2\r\n- local: Tomcat 9.0.41, using JDK 13.33 \r\n\r\n\r\nWhat could cause this servlet code to fail in prod, but succeed when run locally?\r\n\r\n  [1]: http://astronomytonight.net\r\n  [2]: https://github.com/johanley/astro/blob/master/WEB-INF/classes/astro/WebPageFetcher.java#L78","link":"https://stackoverflow.com/questions/77559086/java-servlet-fails-to-fetch-data-from-3rd-party-web-servers","title":"Java servlet fails to fetch data from 3rd party web servers","body":"<p>I'm having a problem with a Java servlet that that fetches 3rd-party web content.</p>\n<p>My website gathers weather data from 3rd-party web servers.\nFor 3rd-party web servers that support CORS, I just fetch the data directly in the browser client using javascript.\nFor 3rd-party web servers that <em>don't</em> support CORS, I use a workaround: first I talk to my own servlet, which fetches the 3rd-party data and stores it in a temp file, and then I serve the temp file.</p>\n<p>Recently, I've started to experience failures with URLs that don't support CORS, and thus are fetched using my servlet:</p>\n<p>Example URLs that fail in prod:</p>\n<ul>\n<li><a href=\"https://weather.gc.ca/rss/city/pe-5_e.xml\" rel=\"nofollow noreferrer\">https://weather.gc.ca/rss/city/pe-5_e.xml</a></li>\n<li><a href=\"https://dd.weather.gc.ca/radar/PRECIPET/GIF/CASGO/\" rel=\"nofollow noreferrer\">https://dd.weather.gc.ca/radar/PRECIPET/GIF/CASGO/</a></li>\n</ul>\n<p>The stack trace occurs in my servlet code here:</p>\n<p><a href=\"https://github.com/johanley/astro/blob/master/WEB-INF/classes/astro/WebPageFetcher.java#L116\" rel=\"nofollow noreferrer\">https://github.com/johanley/astro/blob/master/WEB-INF/classes/astro/WebPageFetcher.java#L116</a></p>\n<p><strong>In prod only</strong>, the connection times out. Example from the log:</p>\n<p>27-Nov-2023 00:32:00.295 SEVERE [ajp-nio-127.0.0.1-33027-exec-4] astro.WebPageFetcher.webFetch2 Cannot open connection to <a href=\"https://dd.weather.gc.ca/radar/PRECIPET/GIF/CASGO/\" rel=\"nofollow noreferrer\">https://dd.weather.gc.ca/radar/PRECIPET/GIF/CASGO/</a></p>\n<p>Note that</p>\n<ul>\n<li><strong>prod fails, but running locally does not</strong></li>\n<li>there have been no recent changes in my servlet code</li>\n<li>prod: Tomcat 9.0.82, using JDK 13.0.2</li>\n<li>local: Tomcat 9.0.41, using JDK 13.33</li>\n</ul>\n<p>What could cause this servlet code to fail in prod, but succeed when run locally?</p>\n"},{"tags":["java","jpa","entitymanager"],"comments":[{"score":0,"post_type":"question","creation_date":1701121528,"post_id":77560016,"comment_id":136733726,"body_markdown":"There is neither an entitymanager nor a call to merge visible in the given code.","link":"https://stackoverflow.com/questions/77560016/cannot-merge-an-entity-that-has-been-removed-actgp#comment136733726_77560016","body":"There is neither an entitymanager nor a call to merge visible in the given code."},{"score":0,"post_type":"question","creation_date":1701270471,"post_id":77560016,"comment_id":136755232,"body_markdown":"The logic you&#39;ve posted doesn&#39;t make sense to me. Why stream and filter over actGPs when you&#39;ve just created a new empty list for it?","link":"https://stackoverflow.com/questions/77560016/cannot-merge-an-entity-that-has-been-removed-actgp#comment136755232_77560016","body":"The logic you&#39;ve posted doesn&#39;t make sense to me. Why stream and filter over actGPs when you&#39;ve just created a new empty list for it?"}],"comment_count":2,"is_answered":false,"view_count":13,"answer_count":0,"score":0,"last_activity_date":1701120339,"creation_date":1701120233,"last_edit_date":1701120339,"question_id":77560016,"body_markdown":"This code is giving an error &quot;Cannot merge an entity that has been removed&quot; \r\nInvoiceDetail has a list of ActGps\r\n\r\nthis code is a snippet code of a function in invoice detail \r\nit is trying to delete an entity where it not must be deleted \r\n\r\n\r\n     // initialize needed fields\r\n    \r\n    List&lt;ActGP&gt; oldActGPs = new ArrayList&lt;&gt;();\r\n    if (actGPs != null &amp;&amp; !actGPs.isEmpty())\r\n    \toldActGPs.addAll(actGPs);\r\n    actGPs = new ArrayList&lt;&gt;();\r\n    \r\n       // get actGP (if exists in visit and not canceled)\r\n    \t\t\t// if exist --&gt; reset fields (reset prices)\r\n    \t\t\t// else --&gt; create new ActGP\r\n    \t\t\tactGP = actGPs.stream().filter(agp -&gt; agp.getVGPId() == vgp.getId()).findAny().orElse(null);\r\n    \r\n    \t\t\tif (actGP == null) {\r\n    \t\t\t\t// case of adding a new act from departments OR add new GP in visit\r\n    \t\t\t\tactGP = createNewActGP(vgp, currAct);\r\n    \r\n    \t\t\t} else {\r\n    \t\t\t\t// actGP exists \r\n    \t\t\t\t// OR case when reCompute method called\r\n    \t\t\t\tactGP.resetPriceFields();\r\n    \t\t\t\tif (!oldActGPs.isEmpty())\r\n    \t\t\t\t\toldActGPs.remove(actGP); // after the for loop we will have in oldActGPs the actGP for canceled GPs\r\n    \t\t\t\tactGP.setGptId(0);\r\n    \t\t \t}\r\n    \r\n      if (!oldActGPs.isEmpty()) {\r\n    \t   for (ActGP a : oldActGPs) {\r\n    \t\t a.setInvoiceDetail(null); // removed from list ==&gt; should be deleted from DB\r\n            }\r\n         }\r\n\r\n","link":"https://stackoverflow.com/questions/77560016/cannot-merge-an-entity-that-has-been-removed-actgp","title":"cannot merge an entity that has been removed : actgp","body":"<p>This code is giving an error &quot;Cannot merge an entity that has been removed&quot;\nInvoiceDetail has a list of ActGps</p>\n<p>this code is a snippet code of a function in invoice detail\nit is trying to delete an entity where it not must be deleted</p>\n<pre><code> // initialize needed fields\n\nList&lt;ActGP&gt; oldActGPs = new ArrayList&lt;&gt;();\nif (actGPs != null &amp;&amp; !actGPs.isEmpty())\n    oldActGPs.addAll(actGPs);\nactGPs = new ArrayList&lt;&gt;();\n\n   // get actGP (if exists in visit and not canceled)\n            // if exist --&gt; reset fields (reset prices)\n            // else --&gt; create new ActGP\n            actGP = actGPs.stream().filter(agp -&gt; agp.getVGPId() == vgp.getId()).findAny().orElse(null);\n\n            if (actGP == null) {\n                // case of adding a new act from departments OR add new GP in visit\n                actGP = createNewActGP(vgp, currAct);\n\n            } else {\n                // actGP exists \n                // OR case when reCompute method called\n                actGP.resetPriceFields();\n                if (!oldActGPs.isEmpty())\n                    oldActGPs.remove(actGP); // after the for loop we will have in oldActGPs the actGP for canceled GPs\n                actGP.setGptId(0);\n            }\n\n  if (!oldActGPs.isEmpty()) {\n       for (ActGP a : oldActGPs) {\n         a.setInvoiceDetail(null); // removed from list ==&gt; should be deleted from DB\n        }\n     }\n</code></pre>\n"},{"tags":["java","javafx","metal","openjfx"],"comments":[{"score":0,"post_type":"question","creation_date":1691041210,"post_id":76825116,"comment_id":135437553,"body_markdown":"Related: [*Is this official description of the JavaFX architecture still valid today, a decade later?*](https://stackoverflow.com/q/76817114/642706)","link":"https://stackoverflow.com/questions/76825116/does-javafx-use-the-new-metal-based-rendering-for-java-on-macos#comment135437553_76825116","body":"Related: <a href=\"https://stackoverflow.com/q/76817114/642706\"><i>Is this official description of the JavaFX architecture still valid today, a decade later?</i></a>"}],"answers":[{"comment_count":0,"score":6,"last_activity_date":1701119895,"last_edit_date":1701119895,"creation_date":1691046698,"answer_id":76825667,"question_id":76825116,"body_markdown":"No.  JavaFX, as of 20, does not use the Apple Metal API.  \r\n\r\nFor [hardware acceleration][1] on Mac, JavaFX uses [OpenGL ES2][2].  It can also fall back to a software renderer, but you have to force it to do that, it will use ES2 by default.\r\n\r\nThere is experimental proof of concept work using the Apple Metal API for JavaFX 3D rendering.  The implementation can be found in this pull request on the jfx-sandbox repository (this is not the mainline repository that is used for JavaFX releases):\r\n\r\n * [8295485: POC for JavaFX Metal - 3D][3]\r\n\r\nThe metal branch in the sandbox has a lot of fairly recent changes:\r\n\r\n * https://github.com/openjdk/jfx-sandbox/commits/metal\r\n\r\nPerhaps in the future, Metal support will be added to JavaFX.  \r\n\r\nIf you have further queries, raise the topic on the [openjfx-dev mailing list][4].\r\n\r\nMain issue tracker for JavaFX Metal support:\r\n\r\n * [JDK-8271024 JavaFX : Implement Metal Rendering Pipeline][5]\r\n\r\n----\r\nThe work done for Metal support on Mac for the JDK as part of [JEP 382][6], as far as I can tell, is only for the [Java2D][7] API.  The Java2D API (as far as I know) is not used by JavaFX, except perhaps to help with printing support.  The Java2D work to support metal can be used by AWT and Swing frameworks that are part of the core JDK.  JavaFX is no longer part of the JDK, so the JEP process does not apply to it.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Hardware_acceleration\r\n  [2]: https://en.wikipedia.org/wiki/OpenGL_ES\r\n  [3]: https://github.com/openjdk/jfx-sandbox/commit/c3c5aaadff468abdcec838d97ea18f0f26310079\r\n  [4]: https://mail.openjdk.org/mailman/listinfo/openjfx-dev\r\n  [5]: https://bugs.openjdk.org/browse/JDK-8271024\r\n  [6]: https://openjdk.org/jeps/382\r\n  [7]: https://en.wikipedia.org/wiki/Java_2D","link":"https://stackoverflow.com/questions/76825116/does-javafx-use-the-new-metal-based-rendering-for-java-on-macos/76825667#76825667","title":"Does JavaFX use the new Metal-based rendering for Java on macOS?","body":"<p>No.  JavaFX, as of 20, does not use the Apple Metal API.</p>\n<p>For <a href=\"https://en.wikipedia.org/wiki/Hardware_acceleration\" rel=\"nofollow noreferrer\">hardware acceleration</a> on Mac, JavaFX uses <a href=\"https://en.wikipedia.org/wiki/OpenGL_ES\" rel=\"nofollow noreferrer\">OpenGL ES2</a>.  It can also fall back to a software renderer, but you have to force it to do that, it will use ES2 by default.</p>\n<p>There is experimental proof of concept work using the Apple Metal API for JavaFX 3D rendering.  The implementation can be found in this pull request on the jfx-sandbox repository (this is not the mainline repository that is used for JavaFX releases):</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jfx-sandbox/commit/c3c5aaadff468abdcec838d97ea18f0f26310079\" rel=\"nofollow noreferrer\">8295485: POC for JavaFX Metal - 3D</a></li>\n</ul>\n<p>The metal branch in the sandbox has a lot of fairly recent changes:</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jfx-sandbox/commits/metal\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jfx-sandbox/commits/metal</a></li>\n</ul>\n<p>Perhaps in the future, Metal support will be added to JavaFX.</p>\n<p>If you have further queries, raise the topic on the <a href=\"https://mail.openjdk.org/mailman/listinfo/openjfx-dev\" rel=\"nofollow noreferrer\">openjfx-dev mailing list</a>.</p>\n<p>Main issue tracker for JavaFX Metal support:</p>\n<ul>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-8271024\" rel=\"nofollow noreferrer\">JDK-8271024 JavaFX : Implement Metal Rendering Pipeline</a></li>\n</ul>\n<hr />\n<p>The work done for Metal support on Mac for the JDK as part of <a href=\"https://openjdk.org/jeps/382\" rel=\"nofollow noreferrer\">JEP 382</a>, as far as I can tell, is only for the <a href=\"https://en.wikipedia.org/wiki/Java_2D\" rel=\"nofollow noreferrer\">Java2D</a> API.  The Java2D API (as far as I know) is not used by JavaFX, except perhaps to help with printing support.  The Java2D work to support metal can be used by AWT and Swing frameworks that are part of the core JDK.  JavaFX is no longer part of the JDK, so the JEP process does not apply to it.</p>\n"}],"comment_count":1,"is_answered":true,"view_count":168,"answer_count":1,"score":4,"last_activity_date":1701119895,"creation_date":1691040807,"question_id":76825116,"body_markdown":"Do the latest versions (19, 20, etc.) of JavaFX/[OpenJFX][1] use the new [*Metal*](https://en.wikipedia.org/wiki/Metal_(API)) rendering built for Java on macOS, supplanting OpenGL?  \r\n\r\n[*JEP 382: New macOS Rendering Pipeline*](https://openjdk.org/jeps/382)\r\n\r\nThat new pipeline became [the default in Java 19](https://www.oracle.com/java/technologies/javase/19-relnote-issues.html#JDK-8284378).\r\n\r\n\r\n  [1]: https://openjfx.io/","link":"https://stackoverflow.com/questions/76825116/does-javafx-use-the-new-metal-based-rendering-for-java-on-macos","title":"Does JavaFX use the new Metal-based rendering for Java on macOS?","body":"<p>Do the latest versions (19, 20, etc.) of JavaFX/<a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> use the new <a href=\"https://en.wikipedia.org/wiki/Metal_(API)\" rel=\"nofollow noreferrer\"><em>Metal</em></a> rendering built for Java on macOS, supplanting OpenGL?</p>\n<p><a href=\"https://openjdk.org/jeps/382\" rel=\"nofollow noreferrer\"><em>JEP 382: New macOS Rendering Pipeline</em></a></p>\n<p>That new pipeline became <a href=\"https://www.oracle.com/java/technologies/javase/19-relnote-issues.html#JDK-8284378\" rel=\"nofollow noreferrer\">the default in Java 19</a>.</p>\n"},{"tags":["java","mapping","mapstruct"],"comment_count":0,"is_answered":false,"view_count":22,"answer_count":0,"score":0,"last_activity_date":1701119475,"creation_date":1701119475,"question_id":77559965,"body_markdown":"I have created a MapperConfig where I have a prototype of mapping method that can be used to inherit method-level mapping annotations.\r\n\r\n    @MapperConfig(componentModel = MappingConstants.ComponentModel.SPRING)\r\n    public interface EmployeeMapperConfig {\r\n    \r\n    \t@Named(&quot;fromRequestToDomain&quot;)\r\n    \t@Mapping(target = &quot;id&quot;, ignore = true)\r\n    \tEmployee fromSaveRequestToEntity(EmployeeSaveRequest saveRequest);\r\n    \t\r\n    }\r\n\r\nI have one mapper that maps single element DTO to ENTITY:\r\n\r\n    @Mapper(config = EmployeeMapperConfig.class)\r\n    public interface EmployeeSaveOneMapper {\r\n    \t\r\n    \t@InheritConfiguration\r\n    \tEmployee toDomain(EmployeeSaveRequest request);\r\n    \t\r\n    }\r\n\r\nbut what if I want to map a List of employee ?\r\n\r\nI have another mapper that maps multiple DTO to ENTITIES:\r\n\r\n    public interface EmployeeSaveManyMapper {\r\n    \t\r\n    \tList&lt;Employee&gt; toDomain(List&lt;EmployeeSaveRequest&gt; request);\r\n    \t\r\n    }\r\n\r\nhow can I inherit configuration for iterable mapping?\r\n\r\nI have tried with the following MapperConfig:\r\n\r\n    @MapperConfig(componentModel = MappingConstants.ComponentModel.SPRING)\r\n    public interface EmployeeMapperConfig {\r\n    \r\n    \t@Named(&quot;fromRequestToDomain&quot;)\r\n    \t@Mapping(target = &quot;id&quot;, ignore = true)\r\n    \tEmployee fromSaveRequestToEntity(EmployeeSaveRequest request);\r\n    \t\r\n    \t@IterableMapping(qualifiedByName = &quot;fromRequestToDomain&quot;)\r\n    \tList&lt;Employee&gt; fromSaveRequestsToEntities(Collection&lt;EmployeeSaveRequest&gt; saveRequests);\r\n    \t\r\n    }\r\n\r\nand the following mapper:\r\n\r\n    @Mapper(config = EmployeeMapperConfig.class)\r\n    public interface EmployeeSaveManyMapper {\r\n    \t\r\n        @InheritConfiguration\r\n    \tList&lt;Employee&gt; toDomain(List&lt;EmployeeSaveRequest&gt; request);\r\n    \t\r\n    }\r\n\r\nP.S. I know that I can do it by using the EmployeeSaveOneMapper, but I was looking for a solution using MapperConfig.\r\n\r\n    @Mapper(componentModel = MappingConstants.ComponentModel.SPRING, uses = EmployeeSaveOneMapper.class)\r\n    public interface EmployeeSaveManyMapper {\r\n    \t\r\n    \t@Override\r\n    \t@IterableMapping(qualifiedByName = &quot;fromRequestToDomain&quot;)\r\n    \tList&lt;Employee&gt; toDomain(List&lt;EmployeeSaveRequest&gt; request);\r\n    \t\r\n    }\r\n\r\n","link":"https://stackoverflow.com/questions/77559965/how-to-inheritconfiguration-from-prototype-of-mapping-method-of-iterable-types-u","title":"How to InheritConfiguration from prototype of mapping method of iterable types using Mapstruct?","body":"<p>I have created a MapperConfig where I have a prototype of mapping method that can be used to inherit method-level mapping annotations.</p>\n<pre><code>@MapperConfig(componentModel = MappingConstants.ComponentModel.SPRING)\npublic interface EmployeeMapperConfig {\n\n    @Named(&quot;fromRequestToDomain&quot;)\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    Employee fromSaveRequestToEntity(EmployeeSaveRequest saveRequest);\n    \n}\n</code></pre>\n<p>I have one mapper that maps single element DTO to ENTITY:</p>\n<pre><code>@Mapper(config = EmployeeMapperConfig.class)\npublic interface EmployeeSaveOneMapper {\n    \n    @InheritConfiguration\n    Employee toDomain(EmployeeSaveRequest request);\n    \n}\n</code></pre>\n<p>but what if I want to map a List of employee ?</p>\n<p>I have another mapper that maps multiple DTO to ENTITIES:</p>\n<pre><code>public interface EmployeeSaveManyMapper {\n    \n    List&lt;Employee&gt; toDomain(List&lt;EmployeeSaveRequest&gt; request);\n    \n}\n</code></pre>\n<p>how can I inherit configuration for iterable mapping?</p>\n<p>I have tried with the following MapperConfig:</p>\n<pre><code>@MapperConfig(componentModel = MappingConstants.ComponentModel.SPRING)\npublic interface EmployeeMapperConfig {\n\n    @Named(&quot;fromRequestToDomain&quot;)\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    Employee fromSaveRequestToEntity(EmployeeSaveRequest request);\n    \n    @IterableMapping(qualifiedByName = &quot;fromRequestToDomain&quot;)\n    List&lt;Employee&gt; fromSaveRequestsToEntities(Collection&lt;EmployeeSaveRequest&gt; saveRequests);\n    \n}\n</code></pre>\n<p>and the following mapper:</p>\n<pre><code>@Mapper(config = EmployeeMapperConfig.class)\npublic interface EmployeeSaveManyMapper {\n    \n    @InheritConfiguration\n    List&lt;Employee&gt; toDomain(List&lt;EmployeeSaveRequest&gt; request);\n    \n}\n</code></pre>\n<p>P.S. I know that I can do it by using the EmployeeSaveOneMapper, but I was looking for a solution using MapperConfig.</p>\n<pre><code>@Mapper(componentModel = MappingConstants.ComponentModel.SPRING, uses = EmployeeSaveOneMapper.class)\npublic interface EmployeeSaveManyMapper {\n    \n    @Override\n    @IterableMapping(qualifiedByName = &quot;fromRequestToDomain&quot;)\n    List&lt;Employee&gt; toDomain(List&lt;EmployeeSaveRequest&gt; request);\n    \n}\n</code></pre>\n"},{"tags":["java","libgdx","project-reactor"],"comment_count":0,"is_answered":false,"view_count":35,"answer_count":0,"score":0,"last_activity_date":1701118616,"creation_date":1701118616,"question_id":77559894,"body_markdown":"I&#39;m currently working on a game in which the user can run spells, these spells can both require and supply input of certain POJO types, these I have depicted by ``ArgType&lt;T&gt;``. Rather than storing these requests *and* pre-supplied objects and then constantly checking for any matches I decided to make this entire system more dynamic, using project reactor;\r\nSpells now use this method in ``ArgumentRequestor`` to request &#39;arguments&#39;\r\n```java\r\npublic &lt;T&gt; Mono&lt;T&gt; get(ArgType&lt;T&gt; argType) {\r\n        if (!memoryReadQueue.isEmpty()) {\r\n            //(...)\r\n        }\r\n        Mono&lt;T&gt; mono;\r\n        mono = Mono.create(tMonoSink -&gt; inputRequestFluxSink.tryEmitNext(new ArgumentRequest&lt;T&gt;(argType, tMonoSink)));\r\n        return mono;\r\n    }\r\n```\r\n\r\nwith ``ArgumentRequest&lt;T&gt;`` being a simple record with an added boolean ``handled`` which keeps track of whether the request has been handled.\r\n\r\nThen to make the flux sink and its respective flux;\r\n```java\r\nprivate final Sinks.Many&lt;ArgumentRequest&gt; inputRequestFluxSink = Sinks.many().replay().limit(5, Duration.ofSeconds(3));\r\n\r\nprivate final Flux&lt;ArgumentRequest&gt; requestFlux = inputRequestFluxSink.asFlux();\r\n```\r\nIf any argument is provided, be it before or after being requested, it is submitted as follows;\r\n```java\r\nrequestor.getRequestFlux().filter(a -&gt; a.argType() == getSelectorType()).filter(argumentRequest1 -&gt; !argumentRequest1.isHandled()).take(1).subscribe(a -&gt; {\r\n            a.setHandled();\r\n            a.consumer().success(provided);\r\n        });\r\n```\r\nNow I have two spells: \r\n\r\n 1. one &#39;selector&#39; spell which submits a ``Vector2`` for the position of the mouse called ``MousePosSelector``\r\n 2. one spell which requests a ``Vector2`` instance called ``TeleportSpell``\r\n\r\nThe wanted behavior is as follows;\r\n\r\n - If the teleport spell is called before the selector, a new instance of ``ArgumentRequest`` is created and put into the flux, it will wait there in the ``repeat()`` queue for either three seconds or until it has been followed up by 5 new requests, the selector will then subscibe, and if on time will, through ``take(1)``, find this request and fulfill it, thus sending the Mono out to the teleport spell.\r\n- If the teleport spell is called after the selector, the selector will already have subscribed and will receive the ArgumentRequest directly.\r\n\r\n \r\nCurrently only the last scenario works, however, to double-check I&#39;ve run the following unit test. This emulates the first scenario with a 700 ms delay between calls.\r\n\r\n```java\r\n    @Test\r\n    void checkArguments() throws InterruptedException {\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            int x = random.nextInt();\r\n            int y = random.nextInt();\r\n            Mono&lt;Vector2&gt; mono = quantaMain.argumentRequestor.get(ArgumentRequestor.ArgType.VECTOR2);\r\n            AtomicBoolean flag = new AtomicBoolean(false);\r\n            mono.subscribe(vector2 -&gt; {\r\n                System.out.println(&quot;Vector found: X=&quot; + vector2.getX() + &quot;; Y=&quot; + vector2.getY());\r\n                Assertions.assertEquals(vector2.getX(), x);\r\n                Assertions.assertEquals(vector2.getY(), y);\r\n                flag.set(true);\r\n            });\r\n            Thread.sleep(700);\r\n            quantaMain.argumentRequestor.getRequestFlux().filter(a -&gt; a.argType() == ArgumentRequestor.ArgType.VECTOR2).filter(argumentRequest1 -&gt; !argumentRequest1.isHandled()).take(1).subscribe(argumentRequest -&gt; {\r\n                        argumentRequest.setHandled();\r\n                        argumentRequest.consumer().success(new Vector2(x, y));\r\n                    });\r\n            Assertions.assertTrue(flag.get());\r\n        }\r\n    }\r\n```\r\n\r\nIn this test case it works perfectly fine for any delay below 3000ms, this has only confused me further.\r\nSome observations:\r\n\r\n - This test is runned without initializing libGDX/LWJGL\r\n - The first situation does work when I wait for about a second or two\r\n - The first situation works the second time the selector spell is ran\r\n - If the first situation is executed a second time directly after a &#39;succesfull&#39; case with the selector being ran twice, the first situation only works after running the selector thrice.\r\n- If the first situation is then done again it requires the selector to be ran four times.\r\n\r\nDoes anyone know what I&#39;m doing wrong / could be going wrong with this code? Just some tips for debugging would be greatly appreciated, since I&#39;ve been stuck on this for a week now :(","link":"https://stackoverflow.com/questions/77559894/reactor-flux-with-replay-not-always-working","title":"Reactor flux with replay not always working","body":"<p>I'm currently working on a game in which the user can run spells, these spells can both require and supply input of certain POJO types, these I have depicted by <code>ArgType&lt;T&gt;</code>. Rather than storing these requests <em>and</em> pre-supplied objects and then constantly checking for any matches I decided to make this entire system more dynamic, using project reactor;\nSpells now use this method in <code>ArgumentRequestor</code> to request 'arguments'</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; Mono&lt;T&gt; get(ArgType&lt;T&gt; argType) {\n        if (!memoryReadQueue.isEmpty()) {\n            //(...)\n        }\n        Mono&lt;T&gt; mono;\n        mono = Mono.create(tMonoSink -&gt; inputRequestFluxSink.tryEmitNext(new ArgumentRequest&lt;T&gt;(argType, tMonoSink)));\n        return mono;\n    }\n</code></pre>\n<p>with <code>ArgumentRequest&lt;T&gt;</code> being a simple record with an added boolean <code>handled</code> which keeps track of whether the request has been handled.</p>\n<p>Then to make the flux sink and its respective flux;</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Sinks.Many&lt;ArgumentRequest&gt; inputRequestFluxSink = Sinks.many().replay().limit(5, Duration.ofSeconds(3));\n\nprivate final Flux&lt;ArgumentRequest&gt; requestFlux = inputRequestFluxSink.asFlux();\n</code></pre>\n<p>If any argument is provided, be it before or after being requested, it is submitted as follows;</p>\n<pre class=\"lang-java prettyprint-override\"><code>requestor.getRequestFlux().filter(a -&gt; a.argType() == getSelectorType()).filter(argumentRequest1 -&gt; !argumentRequest1.isHandled()).take(1).subscribe(a -&gt; {\n            a.setHandled();\n            a.consumer().success(provided);\n        });\n</code></pre>\n<p>Now I have two spells:</p>\n<ol>\n<li>one 'selector' spell which submits a <code>Vector2</code> for the position of the mouse called <code>MousePosSelector</code></li>\n<li>one spell which requests a <code>Vector2</code> instance called <code>TeleportSpell</code></li>\n</ol>\n<p>The wanted behavior is as follows;</p>\n<ul>\n<li>If the teleport spell is called before the selector, a new instance of <code>ArgumentRequest</code> is created and put into the flux, it will wait there in the <code>repeat()</code> queue for either three seconds or until it has been followed up by 5 new requests, the selector will then subscibe, and if on time will, through <code>take(1)</code>, find this request and fulfill it, thus sending the Mono out to the teleport spell.</li>\n<li>If the teleport spell is called after the selector, the selector will already have subscribed and will receive the ArgumentRequest directly.</li>\n</ul>\n<p>Currently only the last scenario works, however, to double-check I've run the following unit test. This emulates the first scenario with a 700 ms delay between calls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void checkArguments() throws InterruptedException {\n        Random random = new Random();\n        for (int i = 0; i &lt; 10; i++) {\n            int x = random.nextInt();\n            int y = random.nextInt();\n            Mono&lt;Vector2&gt; mono = quantaMain.argumentRequestor.get(ArgumentRequestor.ArgType.VECTOR2);\n            AtomicBoolean flag = new AtomicBoolean(false);\n            mono.subscribe(vector2 -&gt; {\n                System.out.println(&quot;Vector found: X=&quot; + vector2.getX() + &quot;; Y=&quot; + vector2.getY());\n                Assertions.assertEquals(vector2.getX(), x);\n                Assertions.assertEquals(vector2.getY(), y);\n                flag.set(true);\n            });\n            Thread.sleep(700);\n            quantaMain.argumentRequestor.getRequestFlux().filter(a -&gt; a.argType() == ArgumentRequestor.ArgType.VECTOR2).filter(argumentRequest1 -&gt; !argumentRequest1.isHandled()).take(1).subscribe(argumentRequest -&gt; {\n                        argumentRequest.setHandled();\n                        argumentRequest.consumer().success(new Vector2(x, y));\n                    });\n            Assertions.assertTrue(flag.get());\n        }\n    }\n</code></pre>\n<p>In this test case it works perfectly fine for any delay below 3000ms, this has only confused me further.\nSome observations:</p>\n<ul>\n<li>This test is runned without initializing libGDX/LWJGL</li>\n<li>The first situation does work when I wait for about a second or two</li>\n<li>The first situation works the second time the selector spell is ran</li>\n<li>If the first situation is executed a second time directly after a 'succesfull' case with the selector being ran twice, the first situation only works after running the selector thrice.</li>\n<li>If the first situation is then done again it requires the selector to be ran four times.</li>\n</ul>\n<p>Does anyone know what I'm doing wrong / could be going wrong with this code? Just some tips for debugging would be greatly appreciated, since I've been stuck on this for a week now :(</p>\n"},{"tags":["java","reactjs","spring","jboss","web.xml"],"comments":[{"score":0,"post_type":"question","creation_date":1701115688,"post_id":77559630,"comment_id":136732884,"body_markdown":"Can you share what you have and what you want to change it will more relevant ?","link":"https://stackoverflow.com/questions/77559630/deny-access-to-specfic-route-in-web-xml-java#comment136732884_77559630","body":"Can you share what you have and what you want to change it will more relevant ?"}],"comment_count":1,"is_answered":false,"view_count":23,"answer_count":0,"score":1,"last_activity_date":1701118597,"creation_date":1701115489,"last_edit_date":1701118597,"question_id":77559630,"body_markdown":"I have a Java app with a React app embbebed in the same maven project. I want to block specific routes from frontend (eg: examplehost.com/#/dashboard) with web.xml security constraints but I can&#39;t.\r\n\r\nNow I have an ingress role, assigned to all routes &quot;/*&quot;, so if you have this permission, you have access to all the entire app. I want to keep this role, but restricting another specific routes. Is it possible?\r\n\r\nsecurity constrant of ingress:\r\n\r\n    &lt;security-constraint&gt;\r\n    \t\t&lt;web-resource-collection&gt;\r\n    \t\t\t&lt;web-resource-name&gt;ROOT&lt;/web-resource-name&gt;\r\n    \t\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    \t\t\t&lt;http-method&gt;GET&lt;/http-method&gt;\r\n    \t\t\t&lt;http-method&gt;POST&lt;/http-method&gt;\r\n    \t\t\t&lt;http-method&gt;PUT&lt;/http-method&gt;\r\n    \t\t\t&lt;http-method&gt;DELETE&lt;/http-method&gt;\r\n    \t\t&lt;/web-resource-collection&gt;\r\n    \t\t&lt;auth-constraint&gt;\r\n    \t\t\t&lt;role-name&gt;INGRESS_ROLE&lt;/role-name&gt;\r\n    \t\t&lt;/auth-constraint&gt;\r\n    \t&lt;/security-constraint&gt;\r\n    \r\n    \t&lt;security-role&gt;\r\n    \t\t&lt;description&gt;Permiso de acceso a la aplicaci&#243;n&lt;/description&gt;\r\n    \t\t&lt;role-name&gt;INGRESS_ROLE&lt;/role-name&gt;\r\n    \t&lt;/security-role&gt;\r\n\r\nIn words of chatGPT: Unfortunately, the security restrictions in the web.xml file are not directly applicable to URL fragments that include the # (hash) character. The URL fragment (everything after the #) is not sent to the server and is therefore not visible on the server side. The part after # is rendered only in the client&#39;s browser.","link":"https://stackoverflow.com/questions/77559630/deny-access-to-specfic-route-in-web-xml-java","title":"Deny access to specfic route in web.xml - Java","body":"<p>I have a Java app with a React app embbebed in the same maven project. I want to block specific routes from frontend (eg: examplehost.com/#/dashboard) with web.xml security constraints but I can't.</p>\n<p>Now I have an ingress role, assigned to all routes &quot;/*&quot;, so if you have this permission, you have access to all the entire app. I want to keep this role, but restricting another specific routes. Is it possible?</p>\n<p>security constrant of ingress:</p>\n<pre><code>&lt;security-constraint&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;ROOT&lt;/web-resource-name&gt;\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n            &lt;http-method&gt;GET&lt;/http-method&gt;\n            &lt;http-method&gt;POST&lt;/http-method&gt;\n            &lt;http-method&gt;PUT&lt;/http-method&gt;\n            &lt;http-method&gt;DELETE&lt;/http-method&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;auth-constraint&gt;\n            &lt;role-name&gt;INGRESS_ROLE&lt;/role-name&gt;\n        &lt;/auth-constraint&gt;\n    &lt;/security-constraint&gt;\n\n    &lt;security-role&gt;\n        &lt;description&gt;Permiso de acceso a la aplicación&lt;/description&gt;\n        &lt;role-name&gt;INGRESS_ROLE&lt;/role-name&gt;\n    &lt;/security-role&gt;\n</code></pre>\n<p>In words of chatGPT: Unfortunately, the security restrictions in the web.xml file are not directly applicable to URL fragments that include the # (hash) character. The URL fragment (everything after the #) is not sent to the server and is therefore not visible on the server side. The part after # is rendered only in the client's browser.</p>\n"},{"tags":["java"],"comments":[{"score":3,"post_type":"question","creation_date":1701117922,"post_id":77559801,"comment_id":136733247,"body_markdown":"check the `main` method - it is just printing the input array, not the result - you want to print the array returned by `mergeSort()` || BTW posted code will probably fail if the array values are not unique (i.e. array contains duplicates)","link":"https://stackoverflow.com/questions/77559801/recursive-merge-sort-isnt-sorting-the-array#comment136733247_77559801","body":"check the <code>main</code> method - it is just printing the input array, not the result - you want to print the array returned by <code>mergeSort()</code> || BTW posted code will probably fail if the array values are not unique (i.e. array contains duplicates)"}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701118051,"creation_date":1701118051,"answer_id":77559854,"question_id":77559801,"body_markdown":"Try this:\r\n\r\n        int[] b = mergeSort(a);\r\n        System.out.println(Arrays.toString(b));\r\n\r\nThe reason is your merge method copies your data to new array for sorting and returns that new array,\r\nyou are not doing it `in place` ","link":"https://stackoverflow.com/questions/77559801/recursive-merge-sort-isnt-sorting-the-array/77559854#77559854","title":"Recursive merge sort isn&#39;t sorting the array","body":"<p>Try this:</p>\n<pre><code>    int[] b = mergeSort(a);\n    System.out.println(Arrays.toString(b));\n</code></pre>\n<p>The reason is your merge method copies your data to new array for sorting and returns that new array,\nyou are not doing it <code>in place</code></p>\n"}],"comment_count":1,"is_answered":true,"view_count":37,"answer_count":1,"score":0,"last_activity_date":1701118051,"creation_date":1701117418,"question_id":77559801,"body_markdown":"I&#39;m trying to implement the merge sort algorithm using recursion. I&#39;m not sure what the issue with my code is. It returns the original array without sorting it.\r\n\r\n```\r\npublic static int[] mergeSort(int[] a) {\r\n        if(a.length &lt; 2){\r\n            return a;\r\n        }\r\n        int start = 0;\r\n        int middle = a.length / 2;\r\n        int end = a.length;\r\n        //split the array \r\n        int[] left = mergeSort(Arrays.copyOfRange(a, start, middle));\r\n        int[] right = mergeSort(Arrays.copyOfRange(a, middle, end));\r\n\r\n        //merge them\r\n        return merge(left, right);\r\n    }\r\n\r\n    public static int[] merge(int[] a, int[] b) {\r\n        int indexa = 0; int indexb = 0; int i =0;\r\n        //create new array with combined length\r\n        int[] c = new int[a.length + b.length];\r\n        //copy elements to new array while sorting it\r\n        while (indexa &lt; a.length &amp;&amp; indexb &lt; b.length) {\r\n            if (a[indexa] &lt; b[indexb]) {\r\n                c[i++] = a[indexa++];\r\n            } else if (a[indexa] &gt; b[indexb]){\r\n                c[i++] = b[indexb++];\r\n            }\r\n        }\r\n\r\n        //if one array is longer than the other copy remaining elements\r\n        while (indexa &lt; a.length) {\r\n                c[i++] = a[indexa++];\r\n\r\n        }\r\n        while (indexb &lt; b.length) {\r\n                c[i++] = b[indexb++];\r\n            }\r\n        return c;\r\n\r\n    }\r\n```\r\n\r\nHere&#39;s my main method as well\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        int[] a = {2, 1, 3, 4, 9, 6, 7};\r\n        mergeSort(a);\r\n        System.out.println(Arrays.toString(a));\r\n\r\n\r\n    }\r\n```\r\n\r\nAny kind of help would be appreciated. Thank you!","link":"https://stackoverflow.com/questions/77559801/recursive-merge-sort-isnt-sorting-the-array","title":"Recursive merge sort isn&#39;t sorting the array","body":"<p>I'm trying to implement the merge sort algorithm using recursion. I'm not sure what the issue with my code is. It returns the original array without sorting it.</p>\n<pre><code>public static int[] mergeSort(int[] a) {\n        if(a.length &lt; 2){\n            return a;\n        }\n        int start = 0;\n        int middle = a.length / 2;\n        int end = a.length;\n        //split the array \n        int[] left = mergeSort(Arrays.copyOfRange(a, start, middle));\n        int[] right = mergeSort(Arrays.copyOfRange(a, middle, end));\n\n        //merge them\n        return merge(left, right);\n    }\n\n    public static int[] merge(int[] a, int[] b) {\n        int indexa = 0; int indexb = 0; int i =0;\n        //create new array with combined length\n        int[] c = new int[a.length + b.length];\n        //copy elements to new array while sorting it\n        while (indexa &lt; a.length &amp;&amp; indexb &lt; b.length) {\n            if (a[indexa] &lt; b[indexb]) {\n                c[i++] = a[indexa++];\n            } else if (a[indexa] &gt; b[indexb]){\n                c[i++] = b[indexb++];\n            }\n        }\n\n        //if one array is longer than the other copy remaining elements\n        while (indexa &lt; a.length) {\n                c[i++] = a[indexa++];\n\n        }\n        while (indexb &lt; b.length) {\n                c[i++] = b[indexb++];\n            }\n        return c;\n\n    }\n</code></pre>\n<p>Here's my main method as well</p>\n<pre><code>public static void main(String[] args) {\n        int[] a = {2, 1, 3, 4, 9, 6, 7};\n        mergeSort(a);\n        System.out.println(Arrays.toString(a));\n\n\n    }\n</code></pre>\n<p>Any kind of help would be appreciated. Thank you!</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"score":0,"post_type":"question","creation_date":1701118881,"post_id":77559808,"comment_id":136733378,"body_markdown":"Why do you want to have a bidirectional mapping Film &lt;-&gt; User?","link":"https://stackoverflow.com/questions/77559808/before-saving-a-new-record-hibernate-deletes-all-the-records-of-this-collection#comment136733378_77559808","body":"Why do you want to have a bidirectional mapping Film &lt;-&gt; User?"},{"score":0,"post_type":"question","creation_date":1701119011,"post_id":77559808,"comment_id":136733401,"body_markdown":"I would think that Films don&#39;t need to hold the whole user to it. Maybe should have a Reservation that references a Film and the User by both of their ID.","link":"https://stackoverflow.com/questions/77559808/before-saving-a-new-record-hibernate-deletes-all-the-records-of-this-collection#comment136733401_77559808","body":"I would think that Films don&#39;t need to hold the whole user to it. Maybe should have a Reservation that references a Film and the User by both of their ID."},{"score":0,"post_type":"question","creation_date":1701120899,"post_id":77559808,"comment_id":136733649,"body_markdown":"@ValerijDobler, I have a UserFilm class that has Film and User objects that refer to an ID, but I didn&#39;t know how to use it if I could make a many-to-many relationship.\nI will try to do it.","link":"https://stackoverflow.com/questions/77559808/before-saving-a-new-record-hibernate-deletes-all-the-records-of-this-collection#comment136733649_77559808","body":"@ValerijDobler, I have a UserFilm class that has Film and User objects that refer to an ID, but I didn&#39;t know how to use it if I could make a many-to-many relationship. I will try to do it."},{"score":0,"post_type":"question","creation_date":1701124658,"post_id":77559808,"comment_id":136734150,"body_markdown":"You need to remove the join table from one side and use mappedby. https://docs.jboss.org/hibernate/core/3.6/reference/en-US/html_single/#collections-bidirectional","link":"https://stackoverflow.com/questions/77559808/before-saving-a-new-record-hibernate-deletes-all-the-records-of-this-collection#comment136734150_77559808","body":"You need to remove the join table from one side and use mappedby. <a href=\"https://docs.jboss.org/hibernate/core/3.6/reference/en-US/html_single/#collections-bidirectional\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/core/3.6/reference/en-US/html_singl&zwnj;&#8203;e/&hellip;</a>"}],"comment_count":4,"is_answered":false,"view_count":60,"answer_count":0,"score":0,"last_activity_date":1701117528,"creation_date":1701117528,"question_id":77559808,"body_markdown":"I&#39;m learning the Spring framework and doing the server side of the project. I have the following problem:\r\n\r\nI have User and Film entities. They have a many-to-many relationship, that is, a User can select several Films, and a Film can be selected by several Users. When adding a new Film to List&lt;Film&gt; films in User, or deleting it from this list, when using userRepository.save(user) hibernate deletes all films of this user from the user_film table, and inserts a new list. Please tell me how it is possible to add or delete only the film that was added/deleted by request?\r\n\r\nHere is part of the code for the Film collection in User:\r\n```\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n            name = &quot;user_film&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;uf_user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;uf_film_id&quot;)\r\n    )\r\n    private List&lt;Film&gt; films;\r\n\r\n    public List&lt;Film&gt; getFilms() {\r\n        return films;\r\n    }\r\n\r\n    public void setFilms(List&lt;Film&gt; films) {\r\n        this.films = films;\r\n    }\r\n```\r\n\r\nHere is part of the code for the User collection in Film:\r\n```\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JsonIgnore\r\n    @JoinTable(\r\n            name = &quot;user_film&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;uf_film_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;uf_user_id&quot;)\r\n    )\r\n    private List&lt;User&gt; users;\r\n\r\n    public List&lt;User&gt; getUsers() {\r\n        return users;\r\n    }\r\n\r\n    public void setUsers(List&lt;User&gt; users) {\r\n        this.users = users;\r\n    }\r\n```\r\nHere is the code for the functions that add and remove collection elements and store it in the database:\r\n```\r\n    @Transactional\r\n    public UserModel addLikedFilm(Long user_id, Long film_id) {\r\n        Optional&lt;User&gt; foundedUser = userRepository.findById(user_id);\r\n        if(foundedUser.isEmpty()){\r\n            throw new UserNotFoundException(&quot;User not found, wrong ID: &quot; + user_id);\r\n        }\r\n        User user = foundedUser.get();\r\n\r\n        Optional&lt;Film&gt; foundedFilm = filmRepository.findById(film_id);\r\n        if(foundedFilm.isEmpty()){\r\n            throw new FilmNotFoundException(&quot;Film not found, wrong ID: &quot; + film_id);\r\n        }\r\n        Film film = foundedFilm.get();\r\n\r\n        user.getFilms().add(film);\r\n        userRepository.save(user);\r\n\r\n        return UserModel.toModel(user);\r\n    }\r\n\r\n    @Transactional\r\n    public UserModel deleteLikedFilm(Long user_id, Long film_id) {\r\n        Optional&lt;User&gt; foundedUser = userRepository.findById(user_id);\r\n        if(foundedUser.isEmpty()){\r\n            throw new UserNotFoundException(&quot;User not found, wrong ID: &quot; + user_id);\r\n        }\r\n        User user = foundedUser.get();\r\n\r\n        Optional&lt;Film&gt; foundedFilm = filmRepository.findById(film_id);\r\n        if(foundedFilm.isEmpty()){\r\n            throw new FilmNotFoundException(&quot;Film not found, wrong ID: &quot; + film_id);\r\n        }\r\n        Film film = foundedFilm.get();\r\n\r\n        user.getFilms().remove(film);\r\n        userRepository.save(user);\r\n\r\n        return UserModel.toModel(user);\r\n    }\r\n\r\n```\r\nAfter adding 3 films with id 1, 2 and 3 on request, I get this:\r\nAdding film 1:\r\n```\r\nHibernate: select u1_0.user_id,u1_0.birthday,u1_0.gender,case when u1_0.is_admin = 1 then true else false end,u1_0.password,u1_0.registration_date,u1_0.user_email,u1_0.user_name from user u1_0 where u1_0.user_id=?\r\nHibernate: select f1_0.film_id,f1_0.film_desc,f1_0.film_duration_minutes,f1_0.film_imdb_rating,f1_0.film_link,f1_0.film_name,f1_0.film_year,f1_0.image from film f1_0 where f1_0.film_id=?\r\nHibernate: select f1_0.uf_user_id,f1_1.film_id,f1_1.film_desc,f1_1.film_duration_minutes,f1_1.film_imdb_rating,f1_1.film_link,f1_1.film_name,f1_1.film_year,f1_1.image from user_film f1_0 join film f1_1 on f1_1.film_id=f1_0.uf_film_id where f1_0.uf_user_id=?\r\nHibernate: select g1_0.ufg_user_id,g1_1.genre_id,g1_1.genre_name from user_favorite_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.ufg_genre_id where g1_0.ufg_user_id=?\r\nHibernate: select g1_0.fg_film_id,g1_1.genre_id,g1_1.genre_name from film_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.fg_genre_id where g1_0.fg_film_id=?\r\nHibernate: insert into user_film (uf_user_id,uf_film_id) values (?,?)\r\n```\r\nAdding film 2:\r\n```\r\nHibernate: select u1_0.user_id,u1_0.birthday,u1_0.gender,case when u1_0.is_admin = 1 then true else false end,u1_0.password,u1_0.registration_date,u1_0.user_email,u1_0.user_name from user u1_0 where u1_0.user_id=?\r\nHibernate: select f1_0.film_id,f1_0.film_desc,f1_0.film_duration_minutes,f1_0.film_imdb_rating,f1_0.film_link,f1_0.film_name,f1_0.film_year,f1_0.image from film f1_0 where f1_0.film_id=?\r\nHibernate: select f1_0.uf_user_id,f1_1.film_id,f1_1.film_desc,f1_1.film_duration_minutes,f1_1.film_imdb_rating,f1_1.film_link,f1_1.film_name,f1_1.film_year,f1_1.image from user_film f1_0 join film f1_1 on f1_1.film_id=f1_0.uf_film_id where f1_0.uf_user_id=?\r\nHibernate: select g1_0.ufg_user_id,g1_1.genre_id,g1_1.genre_name from user_favorite_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.ufg_genre_id where g1_0.ufg_user_id=?\r\nHibernate: select g1_0.fg_film_id,g1_1.genre_id,g1_1.genre_name from film_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.fg_genre_id where g1_0.fg_film_id=?\r\nHibernate: select g1_0.fg_film_id,g1_1.genre_id,g1_1.genre_name from film_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.fg_genre_id where g1_0.fg_film_id=?\r\nHibernate: delete from user_film where uf_user_id=?\r\nHibernate: insert into user_film (uf_user_id,uf_film_id) values (?,?)\r\nHibernate: insert into user_film (uf_user_id,uf_film_id) values (?,?)\r\n```\r\nAdding film 3:\r\n```\r\nHibernate: select u1_0.user_id,u1_0.birthday,u1_0.gender,case when u1_0.is_admin = 1 then true else false end,u1_0.password,u1_0.registration_date,u1_0.user_email,u1_0.user_name from user u1_0 where u1_0.user_id=?\r\nHibernate: select f1_0.film_id,f1_0.film_desc,f1_0.film_duration_minutes,f1_0.film_imdb_rating,f1_0.film_link,f1_0.film_name,f1_0.film_year,f1_0.image from film f1_0 where f1_0.film_id=?\r\nHibernate: select f1_0.uf_user_id,f1_1.film_id,f1_1.film_desc,f1_1.film_duration_minutes,f1_1.film_imdb_rating,f1_1.film_link,f1_1.film_name,f1_1.film_year,f1_1.image from user_film f1_0 join film f1_1 on f1_1.film_id=f1_0.uf_film_id where f1_0.uf_user_id=?\r\nHibernate: select g1_0.ufg_user_id,g1_1.genre_id,g1_1.genre_name from user_favorite_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.ufg_genre_id where g1_0.ufg_user_id=?\r\nHibernate: select g1_0.fg_film_id,g1_1.genre_id,g1_1.genre_name from film_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.fg_genre_id where g1_0.fg_film_id=?\r\nHibernate: select g1_0.fg_film_id,g1_1.genre_id,g1_1.genre_name from film_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.fg_genre_id where g1_0.fg_film_id=?\r\nHibernate: select g1_0.fg_film_id,g1_1.genre_id,g1_1.genre_name from film_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.fg_genre_id where g1_0.fg_film_id=?\r\nHibernate: delete from user_film where uf_user_id=?\r\nHibernate: insert into user_film (uf_user_id,uf_film_id) values (?,?)\r\nHibernate: insert into user_film (uf_user_id,uf_film_id) values (?,?)\r\nHibernate: insert into user_film (uf_user_id,uf_film_id) values (?,?)\r\n\r\n```\r\n\r\n\r\nI tried changing the cascade type and using EntityManager to save. Maybe I misunderstood something and used it incorrectly, but nothing worked for me.","link":"https://stackoverflow.com/questions/77559808/before-saving-a-new-record-hibernate-deletes-all-the-records-of-this-collection","title":"Before saving a new record, Hibernate deletes all the records of this collection in the database, and then overwrites the new one","body":"<p>I'm learning the Spring framework and doing the server side of the project. I have the following problem:</p>\n<p>I have User and Film entities. They have a many-to-many relationship, that is, a User can select several Films, and a Film can be selected by several Users. When adding a new Film to List films in User, or deleting it from this list, when using userRepository.save(user) hibernate deletes all films of this user from the user_film table, and inserts a new list. Please tell me how it is possible to add or delete only the film that was added/deleted by request?</p>\n<p>Here is part of the code for the Film collection in User:</p>\n<pre><code>    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(\n            name = &quot;user_film&quot;,\n            joinColumns = @JoinColumn(name = &quot;uf_user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;uf_film_id&quot;)\n    )\n    private List&lt;Film&gt; films;\n\n    public List&lt;Film&gt; getFilms() {\n        return films;\n    }\n\n    public void setFilms(List&lt;Film&gt; films) {\n        this.films = films;\n    }\n</code></pre>\n<p>Here is part of the code for the User collection in Film:</p>\n<pre><code>    @ManyToMany(cascade = CascadeType.ALL)\n    @JsonIgnore\n    @JoinTable(\n            name = &quot;user_film&quot;,\n            joinColumns = @JoinColumn(name = &quot;uf_film_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;uf_user_id&quot;)\n    )\n    private List&lt;User&gt; users;\n\n    public List&lt;User&gt; getUsers() {\n        return users;\n    }\n\n    public void setUsers(List&lt;User&gt; users) {\n        this.users = users;\n    }\n</code></pre>\n<p>Here is the code for the functions that add and remove collection elements and store it in the database:</p>\n<pre><code>    @Transactional\n    public UserModel addLikedFilm(Long user_id, Long film_id) {\n        Optional&lt;User&gt; foundedUser = userRepository.findById(user_id);\n        if(foundedUser.isEmpty()){\n            throw new UserNotFoundException(&quot;User not found, wrong ID: &quot; + user_id);\n        }\n        User user = foundedUser.get();\n\n        Optional&lt;Film&gt; foundedFilm = filmRepository.findById(film_id);\n        if(foundedFilm.isEmpty()){\n            throw new FilmNotFoundException(&quot;Film not found, wrong ID: &quot; + film_id);\n        }\n        Film film = foundedFilm.get();\n\n        user.getFilms().add(film);\n        userRepository.save(user);\n\n        return UserModel.toModel(user);\n    }\n\n    @Transactional\n    public UserModel deleteLikedFilm(Long user_id, Long film_id) {\n        Optional&lt;User&gt; foundedUser = userRepository.findById(user_id);\n        if(foundedUser.isEmpty()){\n            throw new UserNotFoundException(&quot;User not found, wrong ID: &quot; + user_id);\n        }\n        User user = foundedUser.get();\n\n        Optional&lt;Film&gt; foundedFilm = filmRepository.findById(film_id);\n        if(foundedFilm.isEmpty()){\n            throw new FilmNotFoundException(&quot;Film not found, wrong ID: &quot; + film_id);\n        }\n        Film film = foundedFilm.get();\n\n        user.getFilms().remove(film);\n        userRepository.save(user);\n\n        return UserModel.toModel(user);\n    }\n\n</code></pre>\n<p>After adding 3 films with id 1, 2 and 3 on request, I get this:\nAdding film 1:</p>\n<pre><code>Hibernate: select u1_0.user_id,u1_0.birthday,u1_0.gender,case when u1_0.is_admin = 1 then true else false end,u1_0.password,u1_0.registration_date,u1_0.user_email,u1_0.user_name from user u1_0 where u1_0.user_id=?\nHibernate: select f1_0.film_id,f1_0.film_desc,f1_0.film_duration_minutes,f1_0.film_imdb_rating,f1_0.film_link,f1_0.film_name,f1_0.film_year,f1_0.image from film f1_0 where f1_0.film_id=?\nHibernate: select f1_0.uf_user_id,f1_1.film_id,f1_1.film_desc,f1_1.film_duration_minutes,f1_1.film_imdb_rating,f1_1.film_link,f1_1.film_name,f1_1.film_year,f1_1.image from user_film f1_0 join film f1_1 on f1_1.film_id=f1_0.uf_film_id where f1_0.uf_user_id=?\nHibernate: select g1_0.ufg_user_id,g1_1.genre_id,g1_1.genre_name from user_favorite_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.ufg_genre_id where g1_0.ufg_user_id=?\nHibernate: select g1_0.fg_film_id,g1_1.genre_id,g1_1.genre_name from film_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.fg_genre_id where g1_0.fg_film_id=?\nHibernate: insert into user_film (uf_user_id,uf_film_id) values (?,?)\n</code></pre>\n<p>Adding film 2:</p>\n<pre><code>Hibernate: select u1_0.user_id,u1_0.birthday,u1_0.gender,case when u1_0.is_admin = 1 then true else false end,u1_0.password,u1_0.registration_date,u1_0.user_email,u1_0.user_name from user u1_0 where u1_0.user_id=?\nHibernate: select f1_0.film_id,f1_0.film_desc,f1_0.film_duration_minutes,f1_0.film_imdb_rating,f1_0.film_link,f1_0.film_name,f1_0.film_year,f1_0.image from film f1_0 where f1_0.film_id=?\nHibernate: select f1_0.uf_user_id,f1_1.film_id,f1_1.film_desc,f1_1.film_duration_minutes,f1_1.film_imdb_rating,f1_1.film_link,f1_1.film_name,f1_1.film_year,f1_1.image from user_film f1_0 join film f1_1 on f1_1.film_id=f1_0.uf_film_id where f1_0.uf_user_id=?\nHibernate: select g1_0.ufg_user_id,g1_1.genre_id,g1_1.genre_name from user_favorite_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.ufg_genre_id where g1_0.ufg_user_id=?\nHibernate: select g1_0.fg_film_id,g1_1.genre_id,g1_1.genre_name from film_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.fg_genre_id where g1_0.fg_film_id=?\nHibernate: select g1_0.fg_film_id,g1_1.genre_id,g1_1.genre_name from film_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.fg_genre_id where g1_0.fg_film_id=?\nHibernate: delete from user_film where uf_user_id=?\nHibernate: insert into user_film (uf_user_id,uf_film_id) values (?,?)\nHibernate: insert into user_film (uf_user_id,uf_film_id) values (?,?)\n</code></pre>\n<p>Adding film 3:</p>\n<pre><code>Hibernate: select u1_0.user_id,u1_0.birthday,u1_0.gender,case when u1_0.is_admin = 1 then true else false end,u1_0.password,u1_0.registration_date,u1_0.user_email,u1_0.user_name from user u1_0 where u1_0.user_id=?\nHibernate: select f1_0.film_id,f1_0.film_desc,f1_0.film_duration_minutes,f1_0.film_imdb_rating,f1_0.film_link,f1_0.film_name,f1_0.film_year,f1_0.image from film f1_0 where f1_0.film_id=?\nHibernate: select f1_0.uf_user_id,f1_1.film_id,f1_1.film_desc,f1_1.film_duration_minutes,f1_1.film_imdb_rating,f1_1.film_link,f1_1.film_name,f1_1.film_year,f1_1.image from user_film f1_0 join film f1_1 on f1_1.film_id=f1_0.uf_film_id where f1_0.uf_user_id=?\nHibernate: select g1_0.ufg_user_id,g1_1.genre_id,g1_1.genre_name from user_favorite_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.ufg_genre_id where g1_0.ufg_user_id=?\nHibernate: select g1_0.fg_film_id,g1_1.genre_id,g1_1.genre_name from film_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.fg_genre_id where g1_0.fg_film_id=?\nHibernate: select g1_0.fg_film_id,g1_1.genre_id,g1_1.genre_name from film_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.fg_genre_id where g1_0.fg_film_id=?\nHibernate: select g1_0.fg_film_id,g1_1.genre_id,g1_1.genre_name from film_genre g1_0 join genre g1_1 on g1_1.genre_id=g1_0.fg_genre_id where g1_0.fg_film_id=?\nHibernate: delete from user_film where uf_user_id=?\nHibernate: insert into user_film (uf_user_id,uf_film_id) values (?,?)\nHibernate: insert into user_film (uf_user_id,uf_film_id) values (?,?)\nHibernate: insert into user_film (uf_user_id,uf_film_id) values (?,?)\n\n</code></pre>\n<p>I tried changing the cascade type and using EntityManager to save. Maybe I misunderstood something and used it incorrectly, but nothing worked for me.</p>\n"},{"tags":["java","spring","netbeans","wildfly"],"comment_count":0,"is_answered":false,"view_count":15,"answer_count":0,"score":-1,"last_activity_date":1701117188,"creation_date":1701117188,"question_id":77559775,"body_markdown":"I have been experiencing a little issue for deploying my Restful API in Springboot. Using Netbeans IDE 19 and Java 17. I haven&#39;t figured out why after deploying successfully my .war file into WildFly 30, it only retrieves &quot;Forbidden&quot;. Has someone experienced this before?\r\n\r\nI&#39;m using Microsoft SQL Server as my DB software. \r\n\r\nCheers!\r\n\r\nI have tried modifying the .pom file, adding dependencies, configuring the server in Netbeans. ","link":"https://stackoverflow.com/questions/77559775/forbidden-error-deploying-web-app-in-netbeans-wildfly-and-microsoft-sql-server","title":"Forbidden Error Deploying Web App in Netbeans, Wildfly and Microsoft SQL Server","body":"<p>I have been experiencing a little issue for deploying my Restful API in Springboot. Using Netbeans IDE 19 and Java 17. I haven't figured out why after deploying successfully my .war file into WildFly 30, it only retrieves &quot;Forbidden&quot;. Has someone experienced this before?</p>\n<p>I'm using Microsoft SQL Server as my DB software.</p>\n<p>Cheers!</p>\n<p>I have tried modifying the .pom file, adding dependencies, configuring the server in Netbeans.</p>\n"},{"tags":["java","mockito"],"comments":[{"score":1,"post_type":"question","creation_date":1701117949,"post_id":77559724,"comment_id":136733252,"body_markdown":"Looks like a duplicate of [this](https://stackoverflow.com/questions/14970516/use-mockito-to-mock-some-methods-but-not-others).","link":"https://stackoverflow.com/questions/77559724/mock-a-method-from-a-class-that-is-under-testing#comment136733252_77559724","body":"Looks like a duplicate of <a href=\"https://stackoverflow.com/questions/14970516/use-mockito-to-mock-some-methods-but-not-others\">this</a>."},{"score":0,"post_type":"question","creation_date":1701121604,"post_id":77559724,"comment_id":136733739,"body_markdown":"I&#39;d suggest using a mockito spy instead of a mock. The link Andrew S posted has some examples.","link":"https://stackoverflow.com/questions/77559724/mock-a-method-from-a-class-that-is-under-testing#comment136733739_77559724","body":"I&#39;d suggest using a mockito spy instead of a mock. The link Andrew S posted has some examples."},{"score":0,"post_type":"question","creation_date":1701122783,"post_id":77559724,"comment_id":136733905,"body_markdown":"I would try very hard to not do that. You should mock the dependencies, but never the code under test. It&#39;s too easy, by accident, to mock something instead of actually testing it. Use of mocking frameworks is IMHO also a code smell. Clearly the code was not written test-first or at least with testing in mind, and now you&#39;re in a poorly designed code base where testing is hard. I&#39;d try to refactor, which of course is also hard cause you don&#39;t have tests to tell you if you break something. Be careful and good luck. :-)","link":"https://stackoverflow.com/questions/77559724/mock-a-method-from-a-class-that-is-under-testing#comment136733905_77559724","body":"I would try very hard to not do that. You should mock the dependencies, but never the code under test. It&#39;s too easy, by accident, to mock something instead of actually testing it. Use of mocking frameworks is IMHO also a code smell. Clearly the code was not written test-first or at least with testing in mind, and now you&#39;re in a poorly designed code base where testing is hard. I&#39;d try to refactor, which of course is also hard cause you don&#39;t have tests to tell you if you break something. Be careful and good luck. :-)"}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701117922,"post_id":77559766,"comment_id":136733248,"body_markdown":"That would also mock `methodToTest()`.","link":"https://stackoverflow.com/questions/77559724/mock-a-method-from-a-class-that-is-under-testing/77559766#comment136733248_77559766","body":"That would also mock <code>methodToTest()</code>."}],"comment_count":1,"score":-1,"last_activity_date":1701117100,"creation_date":1701117100,"answer_id":77559766,"question_id":77559724,"body_markdown":"```java\r\nMyClass mock = Mockito.mock(MyClass.class);\r\nMockito.when(mock.methodToTest()).thenReturn(...);\r\n```","link":"https://stackoverflow.com/questions/77559724/mock-a-method-from-a-class-that-is-under-testing/77559766#77559766","title":"Mock a method from a class that is under testing","body":"<pre class=\"lang-java prettyprint-override\"><code>MyClass mock = Mockito.mock(MyClass.class);\nMockito.when(mock.methodToTest()).thenReturn(...);\n</code></pre>\n"}],"comment_count":3,"is_answered":false,"view_count":60,"answer_count":1,"score":0,"last_activity_date":1701117100,"creation_date":1701116577,"question_id":77559724,"body_markdown":"I want to use Mockito to mock a method from a class which is under testing. This method is called in the method which I want to test. How can I do that?\r\n```\r\npublic class MyClass {\r\n    public String dependencyMethod() {\r\n        // Some implementation\r\n        return &quot;actual_result&quot;;\r\n    }\r\n\r\n    public String methodToTest() {\r\n        String result = dependencyMethod();\r\n        // Some other implementation using result\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport org.junit.Test;\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.mockito.Mockito.*;\r\n\r\npublic class TestMyClass {\r\n\r\n    @Test\r\n    public void testMethodToTest() {\r\n       // TODO: Write implementation here\r\n    }\r\n}\r\n```\r\n","link":"https://stackoverflow.com/questions/77559724/mock-a-method-from-a-class-that-is-under-testing","title":"Mock a method from a class that is under testing","body":"<p>I want to use Mockito to mock a method from a class which is under testing. This method is called in the method which I want to test. How can I do that?</p>\n<pre><code>public class MyClass {\n    public String dependencyMethod() {\n        // Some implementation\n        return &quot;actual_result&quot;;\n    }\n\n    public String methodToTest() {\n        String result = dependencyMethod();\n        // Some other implementation using result\n        return result;\n    }\n}\n</code></pre>\n<pre><code>import org.junit.Test;\nimport static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.*;\n\npublic class TestMyClass {\n\n    @Test\n    public void testMethodToTest() {\n       // TODO: Write implementation here\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","javapackager"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701116523,"last_edit_date":1701116523,"creation_date":1701029801,"answer_id":77553344,"question_id":77549567,"body_markdown":"I have changed the icon directly in the Gradle cached library.\r\n\r\nThe JavaPackager works correct but the icon in the directory only seems to be unchanged (with the cup of coffee). \r\nWhen I copy/move the content of the build directory in a new directory - the icon of the .EXE changes its picture.\r\nAll I need is to transfer the build content in an another folder to see the right result.","link":"https://stackoverflow.com/questions/77549567/can-not-set-the-icon-for-my-videogame-which-is-packaged-using-javapackager/77553344#77553344","title":"Can not set the icon for my videogame which is packaged using JavaPackager","body":"<p>I have changed the icon directly in the Gradle cached library.</p>\n<p>The JavaPackager works correct but the icon in the directory only seems to be unchanged (with the cup of coffee).\nWhen I copy/move the content of the build directory in a new directory - the icon of the .EXE changes its picture.\nAll I need is to transfer the build content in an another folder to see the right result.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":27,"answer_count":1,"score":0,"last_activity_date":1701116523,"creation_date":1700945521,"question_id":77549567,"body_markdown":"I&#39;m trying to deploy my videogame using [JavaPackager][1]. It works but the default icon of the aplication can not be changed. It is always a cup of coffee. I have tried also JPackage - it works with my icon without problems. What can be wrong? \r\nMy deployment Gradle-script:\r\n\r\n    task packageMyApp(type: io.github.fvarrui.javapackager.gradle.PackageTask, dependsOn: build) {    \r\n        mainClass = mainClassName\r\n        organizationName = &quot;NAME&quot;\r\n        organizationUrl = &quot;HOMEPAGE&quot;\r\n        organizationEmail = &quot;EMAIL&quot;\r\n        generateInstaller = false;    \r\n        bundleJre = true    \r\n        displayName = &quot;TITLE NAME&quot;\r\n        url = &#39;PAGE&#39;\r\n        administratorRequired = false\r\n        platform = &quot;windows&quot;\r\n    ]\r\n\r\n        winConfig {\r\n            System.out.println(&quot;Exported for Windows&quot;)\r\n            File file = (new File(&#39;Build&#39; + File.separator + &#39;Girl_of_war_deployment_master.ico&#39;))\r\n            boolean exists = file.exists();\r\n            if (exists) {            \r\n                System.out.println(&quot;Icon file exists&quot;)\r\n            }\r\n            try {\r\n                if (exists) {\r\n                    winConfig.setIcoFile(file);\r\n                }\r\n            }\r\n            catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nI receive the next exception:\r\n\r\n&gt; Execution failed for task &#39;:packageMyApp&#39;.\r\n&gt; java.lang.Exception: Build\\Girl_of_war_deployment_master.ico * \r\nTry:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\n\r\nWhat can be wrong? Meybe there are another &quot;dirty&quot; methods to change the default icon of the  JavaPackager?\r\n\r\n\r\n  [1]: https://github.com/fvarrui/JavaPackager","link":"https://stackoverflow.com/questions/77549567/can-not-set-the-icon-for-my-videogame-which-is-packaged-using-javapackager","title":"Can not set the icon for my videogame which is packaged using JavaPackager","body":"<p>I'm trying to deploy my videogame using <a href=\"https://github.com/fvarrui/JavaPackager\" rel=\"nofollow noreferrer\">JavaPackager</a>. It works but the default icon of the aplication can not be changed. It is always a cup of coffee. I have tried also JPackage - it works with my icon without problems. What can be wrong?\nMy deployment Gradle-script:</p>\n<pre><code>task packageMyApp(type: io.github.fvarrui.javapackager.gradle.PackageTask, dependsOn: build) {    \n    mainClass = mainClassName\n    organizationName = &quot;NAME&quot;\n    organizationUrl = &quot;HOMEPAGE&quot;\n    organizationEmail = &quot;EMAIL&quot;\n    generateInstaller = false;    \n    bundleJre = true    \n    displayName = &quot;TITLE NAME&quot;\n    url = 'PAGE'\n    administratorRequired = false\n    platform = &quot;windows&quot;\n]\n\n    winConfig {\n        System.out.println(&quot;Exported for Windows&quot;)\n        File file = (new File('Build' + File.separator + 'Girl_of_war_deployment_master.ico'))\n        boolean exists = file.exists();\n        if (exists) {            \n            System.out.println(&quot;Icon file exists&quot;)\n        }\n        try {\n            if (exists) {\n                winConfig.setIcoFile(file);\n            }\n        }\n        catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I receive the next exception:</p>\n<blockquote>\n<p>Execution failed for task ':packageMyApp'.\njava.lang.Exception: Build\\Girl_of_war_deployment_master.ico *\nTry:\nRun with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\nGet more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a>.</p>\n</blockquote>\n<p>What can be wrong? Meybe there are another &quot;dirty&quot; methods to change the default icon of the  JavaPackager?</p>\n"},{"tags":["java","scala","shell"],"comments":[{"score":4,"post_type":"question","creation_date":1701116260,"post_id":77559666,"comment_id":136732969,"body_markdown":"it says that you are using `scala 2.10.5` (a really old version of scala) and `jdk 11`. it&#39;s not even listed in [scala jdk compatibility](https://docs.scala-lang.org/overviews/jdk-compatibility/overview.html). Not sure which version is being used in the tutorial, but scala `2.13.x` and `3.3.x` are the active ones today","link":"https://stackoverflow.com/questions/77559666/error-try-to-run-scala-but-it-didnt-work#comment136732969_77559666","body":"it says that you are using <code>scala 2.10.5</code> (a really old version of scala) and <code>jdk 11</code>. it&#39;s not even listed in <a href=\"https://docs.scala-lang.org/overviews/jdk-compatibility/overview.html\" rel=\"nofollow noreferrer\">scala jdk compatibility</a>. Not sure which version is being used in the tutorial, but scala <code>2.13.x</code> and <code>3.3.x</code> are the active ones today"},{"score":2,"post_type":"question","creation_date":1701129862,"post_id":77559666,"comment_id":136734719,"body_markdown":"Using waybackmachine I found that JDK 11 requires minimum scala version of 2.10.7. If you or tutorial insist on using 2.10.5 you should try changing Java version. Sorry if this sounds pretentious but have you checked your PATH and JAVA_HOME?\n\nAlso since you&#39;re looking for simpler ways that will-just-work(tm) you could always just install IntelliJ Idea - it allows you to configure/download both JDK and Scala for a newly created project although I&#39;m not sure how this will fit with what tutorial wants you to do","link":"https://stackoverflow.com/questions/77559666/error-try-to-run-scala-but-it-didnt-work#comment136734719_77559666","body":"Using waybackmachine I found that JDK 11 requires minimum scala version of 2.10.7. If you or tutorial insist on using 2.10.5 you should try changing Java version. Sorry if this sounds pretentious but have you checked your PATH and JAVA_HOME?  Also since you&#39;re looking for simpler ways that will-just-work(tm) you could always just install IntelliJ Idea - it allows you to configure/download both JDK and Scala for a newly created project although I&#39;m not sure how this will fit with what tutorial wants you to do"},{"score":0,"post_type":"question","creation_date":1701199313,"post_id":77559666,"comment_id":136745032,"body_markdown":"It would be helpful to see the exact command line you used to start your session.","link":"https://stackoverflow.com/questions/77559666/error-try-to-run-scala-but-it-didnt-work#comment136745032_77559666","body":"It would be helpful to see the exact command line you used to start your session."}],"comment_count":3,"is_answered":false,"view_count":31,"answer_count":0,"score":0,"last_activity_date":1701115864,"creation_date":1701115864,"question_id":77559666,"body_markdown":"\r\n```\r\nWelcome to Scala version 2.10.5 (OpenJDK 64-Bit Server VM, Java 11.0.17).\r\nType in expressions to have them evaluated.\r\nType :help for more information.\r\n\r\nscala&gt; [init] error: error while loading package, Missing dependency &#39;object java.lang.Object in compiler mirror&#39;, required by C:\\PROGRA~2\\scala\\bin\\..\\lib\\scala-library.jar(scala/package.class)\r\n[init] error: error while loading package, Missing dependency &#39;object java.lang.Object in compiler mirror&#39;, required by C:\\PROGRA~2\\scala\\bin\\..\\lib\\scala-library.jar(scala/runtime/package.class)\r\n\r\nFailed to initialize compiler: object java.lang.Object in compiler mirror not found.\r\n** Note that as of 2.8 scala does not assume use of the java classpath.\r\n** For the old behavior pass -usejavacp to scala, or if using a Settings\r\n** object programatically, settings.usejavacp.value = true.\r\n\r\n\r\nFailed to initialize the REPL due to an unexpected error.\r\nThis is a bug, please, report it along with the error diagnostics printed below.\r\njava.lang.NullPointerException\r\n        at scala.tools.nsc.interpreter.ExprTyper$codeParser$.applyRule(ExprTyper.scala:24)\r\n        at scala.tools.nsc.interpreter.ExprTyper$codeParser$.stmts(ExprTyper.scala:35)\r\n        at scala.tools.nsc.interpreter.ExprTyper$$anonfun$parse$2.apply(ExprTyper.scala:43)\r\n        at scala.tools.nsc.interpreter.ExprTyper$$anonfun$parse$2.apply(ExprTyper.scala:42)\r\n        at scala.tools.nsc.reporters.Reporter.withIncompleteHandler(Reporter.scala:51)\r\n        at scala.tools.nsc.interpreter.ExprTyper$class.parse(ExprTyper.scala:42)\r\n        at scala.tools.nsc.interpreter.IMain$exprTyper$.parse(IMain.scala:1074)\r\n        at scala.tools.nsc.interpreter.IMain.parse(IMain.scala:1078)\r\n        at scala.tools.nsc.interpreter.IMain$$anonfun$showCodeIfDebugging$1.apply(IMain.scala:1168)\r\n        at scala.tools.nsc.interpreter.IMain$$anonfun$showCodeIfDebugging$1.apply(IMain.scala:1168)\r\n        at scala.tools.nsc.interpreter.IMain.beSilentDuring(IMain.scala:238)\r\n        at scala.tools.nsc.interpreter.IMain.showCodeIfDebugging(IMain.scala:1168)\r\n        at scala.tools.nsc.interpreter.IMain$ReadEvalPrint.compileAndSaveRun(IMain.scala:800)\r\n        at scala.tools.nsc.interpreter.IMain$ReadEvalPrint.compile(IMain.scala:761)\r\n        at scala.tools.nsc.interpreter.IMain.bind(IMain.scala:618)\r\n        at scala.tools.nsc.interpreter.IMain.bind(IMain.scala:661)\r\n        at scala.tools.nsc.interpreter.IMain$$anonfun$quietBind$1.apply(IMain.scala:660)\r\n        at scala.tools.nsc.interpreter.IMain$$anonfun$quietBind$1.apply(IMain.scala:660)\r\n        at scala.tools.nsc.interpreter.IMain.beQuietDuring(IMain.scala:232)\r\n        at scala.tools.nsc.interpreter.IMain.quietBind(IMain.scala:660)\r\n        at scala.tools.nsc.interpreter.ILoop$$anonfun$process$1$$anonfun$apply$mcZ$sp$2.apply$mcV$sp(ILoop.scala:853)\r\n        at scala.tools.nsc.interpreter.ILoopInit$class.runThunks(ILoopInit.scala:122)\r\n        at scala.tools.nsc.interpreter.ILoop.runThunks(ILoop.scala:42)\r\n        at scala.tools.nsc.interpreter.ILoopInit$class.postInitialization(ILoopInit.scala:95)\r\n        at scala.tools.nsc.interpreter.ILoop.postInitialization(ILoop.scala:42)\r\n        at scala.tools.nsc.interpreter.ILoopInit$$anonfun$createAsyncListener$1.apply$mcV$sp(ILoopInit.scala:63)\r\n        at scala.tools.nsc.interpreter.ILoopInit$$anonfun$createAsyncListener$1.apply(ILoopInit.scala:60)\r\n        at scala.tools.nsc.interpreter.ILoopInit$$anonfun$createAsyncListener$1.apply(ILoopInit.scala:60)\r\n        at scala.tools.nsc.io.package$$anon$3.call(package.scala:40)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n\r\n\r\n\r\nI`m doing a Udemy course and tried to run Scala but it didn`t work.\r\nMaybe someone finds an solution and can help me.\r\nI installed Java 8 but it still didn`t run properly.\r\nIt tells me that I`m using Java 11 but I have no clue why?\r\nIs there a better and simpler way to install Scala that does work for sure?\r\nJust tell me","link":"https://stackoverflow.com/questions/77559666/error-try-to-run-scala-but-it-didnt-work","title":"Error try to run scala but it didn`t work","body":"<pre><code>Welcome to Scala version 2.10.5 (OpenJDK 64-Bit Server VM, Java 11.0.17).\nType in expressions to have them evaluated.\nType :help for more information.\n\nscala&gt; [init] error: error while loading package, Missing dependency 'object java.lang.Object in compiler mirror', required by C:\\PROGRA~2\\scala\\bin\\..\\lib\\scala-library.jar(scala/package.class)\n[init] error: error while loading package, Missing dependency 'object java.lang.Object in compiler mirror', required by C:\\PROGRA~2\\scala\\bin\\..\\lib\\scala-library.jar(scala/runtime/package.class)\n\nFailed to initialize compiler: object java.lang.Object in compiler mirror not found.\n** Note that as of 2.8 scala does not assume use of the java classpath.\n** For the old behavior pass -usejavacp to scala, or if using a Settings\n** object programatically, settings.usejavacp.value = true.\n\n\nFailed to initialize the REPL due to an unexpected error.\nThis is a bug, please, report it along with the error diagnostics printed below.\njava.lang.NullPointerException\n        at scala.tools.nsc.interpreter.ExprTyper$codeParser$.applyRule(ExprTyper.scala:24)\n        at scala.tools.nsc.interpreter.ExprTyper$codeParser$.stmts(ExprTyper.scala:35)\n        at scala.tools.nsc.interpreter.ExprTyper$$anonfun$parse$2.apply(ExprTyper.scala:43)\n        at scala.tools.nsc.interpreter.ExprTyper$$anonfun$parse$2.apply(ExprTyper.scala:42)\n        at scala.tools.nsc.reporters.Reporter.withIncompleteHandler(Reporter.scala:51)\n        at scala.tools.nsc.interpreter.ExprTyper$class.parse(ExprTyper.scala:42)\n        at scala.tools.nsc.interpreter.IMain$exprTyper$.parse(IMain.scala:1074)\n        at scala.tools.nsc.interpreter.IMain.parse(IMain.scala:1078)\n        at scala.tools.nsc.interpreter.IMain$$anonfun$showCodeIfDebugging$1.apply(IMain.scala:1168)\n        at scala.tools.nsc.interpreter.IMain$$anonfun$showCodeIfDebugging$1.apply(IMain.scala:1168)\n        at scala.tools.nsc.interpreter.IMain.beSilentDuring(IMain.scala:238)\n        at scala.tools.nsc.interpreter.IMain.showCodeIfDebugging(IMain.scala:1168)\n        at scala.tools.nsc.interpreter.IMain$ReadEvalPrint.compileAndSaveRun(IMain.scala:800)\n        at scala.tools.nsc.interpreter.IMain$ReadEvalPrint.compile(IMain.scala:761)\n        at scala.tools.nsc.interpreter.IMain.bind(IMain.scala:618)\n        at scala.tools.nsc.interpreter.IMain.bind(IMain.scala:661)\n        at scala.tools.nsc.interpreter.IMain$$anonfun$quietBind$1.apply(IMain.scala:660)\n        at scala.tools.nsc.interpreter.IMain$$anonfun$quietBind$1.apply(IMain.scala:660)\n        at scala.tools.nsc.interpreter.IMain.beQuietDuring(IMain.scala:232)\n        at scala.tools.nsc.interpreter.IMain.quietBind(IMain.scala:660)\n        at scala.tools.nsc.interpreter.ILoop$$anonfun$process$1$$anonfun$apply$mcZ$sp$2.apply$mcV$sp(ILoop.scala:853)\n        at scala.tools.nsc.interpreter.ILoopInit$class.runThunks(ILoopInit.scala:122)\n        at scala.tools.nsc.interpreter.ILoop.runThunks(ILoop.scala:42)\n        at scala.tools.nsc.interpreter.ILoopInit$class.postInitialization(ILoopInit.scala:95)\n        at scala.tools.nsc.interpreter.ILoop.postInitialization(ILoop.scala:42)\n        at scala.tools.nsc.interpreter.ILoopInit$$anonfun$createAsyncListener$1.apply$mcV$sp(ILoopInit.scala:63)\n        at scala.tools.nsc.interpreter.ILoopInit$$anonfun$createAsyncListener$1.apply(ILoopInit.scala:60)\n        at scala.tools.nsc.interpreter.ILoopInit$$anonfun$createAsyncListener$1.apply(ILoopInit.scala:60)\n        at scala.tools.nsc.io.package$$anon$3.call(package.scala:40)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>I<code>m doing a Udemy course and tried to run Scala but it didn</code>t work.\nMaybe someone finds an solution and can help me.\nI installed Java 8 but it still didn<code>t run properly. It tells me that I</code>m using Java 11 but I have no clue why?\nIs there a better and simpler way to install Scala that does work for sure?\nJust tell me</p>\n"},{"tags":["java","android","android-service"],"comments":[{"score":0,"post_type":"question","creation_date":1701123195,"post_id":77559421,"comment_id":136733969,"body_markdown":"If your app is targeting Android specifically, add a mention in your title and/or body. That might significantly impact the answers.","link":"https://stackoverflow.com/questions/77559421/should-i-implement-different-services-for-each-thread-or-should-i-put-all-inside#comment136733969_77559421","body":"If your app is targeting Android specifically, add a mention in your title and/or body. That might significantly impact the answers."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701115685,"creation_date":1701115685,"answer_id":77559649,"question_id":77559421,"body_markdown":"First off-  Services and Threads have nothing to do with each other.  Services are not asyncronous in Android.  They&#39;re just contexts object that exist without being the foreground app of the phone.  They can create threads to do things, but there is no requirement for them to do so, they do not do so by default, and their lifecycle methods all run on the main thread.  So the question doesn&#39;t make sense to begin with.\r\n\r\nSecondly-  Android should never be used to run a server.  The entire OS is optimized around not allowing long lived background processes.  Non-foreground services are not allowed to run more than 2 minutes, and foreground processes can still be killed at any time for resources.  So a client-server architecture is generally a bad fit for Android as a whole.","link":"https://stackoverflow.com/questions/77559421/should-i-implement-different-services-for-each-thread-or-should-i-put-all-inside/77559649#77559649","title":"Should I implement different services for each thread or should I put all inside one service?","body":"<p>First off-  Services and Threads have nothing to do with each other.  Services are not asyncronous in Android.  They're just contexts object that exist without being the foreground app of the phone.  They can create threads to do things, but there is no requirement for them to do so, they do not do so by default, and their lifecycle methods all run on the main thread.  So the question doesn't make sense to begin with.</p>\n<p>Secondly-  Android should never be used to run a server.  The entire OS is optimized around not allowing long lived background processes.  Non-foreground services are not allowed to run more than 2 minutes, and foreground processes can still be killed at any time for resources.  So a client-server architecture is generally a bad fit for Android as a whole.</p>\n"}],"comment_count":1,"is_answered":false,"view_count":23,"answer_count":1,"score":0,"last_activity_date":1701115685,"creation_date":1701112971,"question_id":77559421,"body_markdown":"My question if it is good practice to have multiple services for different types of threads.\r\nFor instance, let&#39;s say my app offers two type of features: to either host a server on the device or to simply be a client.\r\nSo, I would have ServerThread and ClientThread.\r\nI implemented two service ServerService and ClientService and run the relative thread.\r\nBy having two services of course I could potentially let the user to start both the server service and client service.\r\nOr would be preferable to basically have all one service and maybe with checkboxes on let the user decide what kind of content (thread) there will be inside that service.\r\n","link":"https://stackoverflow.com/questions/77559421/should-i-implement-different-services-for-each-thread-or-should-i-put-all-inside","title":"Should I implement different services for each thread or should I put all inside one service?","body":"<p>My question if it is good practice to have multiple services for different types of threads.\nFor instance, let's say my app offers two type of features: to either host a server on the device or to simply be a client.\nSo, I would have ServerThread and ClientThread.\nI implemented two service ServerService and ClientService and run the relative thread.\nBy having two services of course I could potentially let the user to start both the server service and client service.\nOr would be preferable to basically have all one service and maybe with checkboxes on let the user decide what kind of content (thread) there will be inside that service.</p>\n"},{"tags":["java","amazon-s3","bioinformatics","nextflow"],"comments":[{"score":0,"post_type":"question","creation_date":1701115611,"post_id":77559373,"comment_id":136732870,"body_markdown":"Only thing I can think of here is that the file names contains colon which are outside of S3 list of safe characters and needs to be handled in a special way: https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-keys.html maybe nextflow (which im not familiar with) uses the same rules for file names","link":"https://stackoverflow.com/questions/77559373/nextflow-error-not-a-valid-s3-file-system-provider-file-attribute-view-java-ni#comment136732870_77559373","body":"Only thing I can think of here is that the file names contains colon which are outside of S3 list of safe characters and needs to be handled in a special way: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-keys.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/userguide/object-keys.ht&zwnj;&#8203;ml</a> maybe nextflow (which im not familiar with) uses the same rules for file names"}],"comment_count":1,"is_answered":false,"view_count":62,"answer_count":0,"score":0,"last_activity_date":1701115394,"creation_date":1701112320,"last_edit_date":1701115394,"question_id":77559373,"body_markdown":"I&#39;m encountering an error while running a Nextflow process. The specific error message is related to the S3 file system provider and the file attribute view. I&#39;m trying to run a sample dataset with the following parameters. \r\n\r\n`nextflow run nf-core/scrnaseq -r dev -input https://raw.githubusercontent.com/nf-core/test-datasets/scrnaseq/samplesheet-2-0.csv --outdir ./results --genome GRCh37.`\r\n\r\n```lang-none\r\n[b0/8284b8] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:INPUT_CHECK:SAMPLESHEET_CHECK (samplesheet-2-0.csv) [100%] 1 of 1, failed: 1 ✔\r\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:FASTQC_CHECK:FASTQC                                 -\r\n[4e/588c5d] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:GTF_GENE_FILTER (genome.fa)                         [100%] 1 of 1, failed: 1 ✔\r\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:SCRNASEQ_ALEVIN:SIMPLEAF_INDEX                      -\r\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:SCRNASEQ_ALEVIN:SIMPLEAF_QUANT                      -\r\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:SCRNASEQ_ALEVIN:ALEVINQC                            -\r\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:MTX_CONVERSION:MTX_TO_H5AD                          -\r\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:MTX_CONVERSION:CONCAT_H5AD                          -\r\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:MTX_CONVERSION:MTX_TO_SEURAT                        -\r\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:CUSTOM_DUMPSOFTWAREVERSIONS                         -\r\n[82/3a47a6] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:MULTIQC                                             [100%] 1 of 1, failed: 1 ✘\r\nERROR ~ Error executing process &gt; &#39;NFCORE_SCRNASEQ:SCRNASEQ:MULTIQC&#39;\r\n\r\nCaused by:\r\n  Not a valid S3 file system provider file attribute view: java.nio.file.attribute.BasicWithKeyFileAttributeView\r\n\r\n\r\n -- Check &#39;.nextflow.log&#39; file for details\r\n\r\n\r\n-[nf-core/scrnaseq] Pipeline completed with errors-\r\n```\r\n\r\nI am trying to run the Nextflow pipeline in the Sagemaker Jupyter Notebook Instance and running its processes in the AWS Batch jobs. \r\n\r\nNextflow version: 23.10.0\r\nJava version: 21.0.1","link":"https://stackoverflow.com/questions/77559373/nextflow-error-not-a-valid-s3-file-system-provider-file-attribute-view-java-ni","title":"Nextflow Error: Not a valid S3 file system provider file attribute view: java.nio.file.attribute.BasicWithKeyFileAttributeView","body":"<p>I'm encountering an error while running a Nextflow process. The specific error message is related to the S3 file system provider and the file attribute view. I'm trying to run a sample dataset with the following parameters.</p>\n<p><code>nextflow run nf-core/scrnaseq -r dev -input https://raw.githubusercontent.com/nf-core/test-datasets/scrnaseq/samplesheet-2-0.csv --outdir ./results --genome GRCh37.</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>[b0/8284b8] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:INPUT_CHECK:SAMPLESHEET_CHECK (samplesheet-2-0.csv) [100%] 1 of 1, failed: 1 ✔\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:FASTQC_CHECK:FASTQC                                 -\n[4e/588c5d] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:GTF_GENE_FILTER (genome.fa)                         [100%] 1 of 1, failed: 1 ✔\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:SCRNASEQ_ALEVIN:SIMPLEAF_INDEX                      -\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:SCRNASEQ_ALEVIN:SIMPLEAF_QUANT                      -\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:SCRNASEQ_ALEVIN:ALEVINQC                            -\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:MTX_CONVERSION:MTX_TO_H5AD                          -\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:MTX_CONVERSION:CONCAT_H5AD                          -\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:MTX_CONVERSION:MTX_TO_SEURAT                        -\n[-        ] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:CUSTOM_DUMPSOFTWAREVERSIONS                         -\n[82/3a47a6] process &gt; NFCORE_SCRNASEQ:SCRNASEQ:MULTIQC                                             [100%] 1 of 1, failed: 1 ✘\nERROR ~ Error executing process &gt; 'NFCORE_SCRNASEQ:SCRNASEQ:MULTIQC'\n\nCaused by:\n  Not a valid S3 file system provider file attribute view: java.nio.file.attribute.BasicWithKeyFileAttributeView\n\n\n -- Check '.nextflow.log' file for details\n\n\n-[nf-core/scrnaseq] Pipeline completed with errors-\n</code></pre>\n<p>I am trying to run the Nextflow pipeline in the Sagemaker Jupyter Notebook Instance and running its processes in the AWS Batch jobs.</p>\n<p>Nextflow version: 23.10.0\nJava version: 21.0.1</p>\n"},{"tags":["java","liferay","portlet","liferay-7","liferay-ide"],"comments":[{"score":0,"post_type":"question","creation_date":1701114867,"post_id":77559306,"comment_id":136732762,"body_markdown":"It seems that the documentation already provides the answer. Please read [How to Ask](https://stackoverflow.com/help/how-to-ask).","link":"https://stackoverflow.com/questions/77559306/liferay-7-4-development-using-sdk#comment136732762_77559306","body":"It seems that the documentation already provides the answer. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701211663,"post_id":77559591,"comment_id":136746973,"body_markdown":"Thank you Olaf for your advice. I did manage to get my workspace working.","link":"https://stackoverflow.com/questions/77559306/liferay-7-4-development-using-sdk/77559591#comment136746973_77559591","body":"Thank you Olaf for your advice. I did manage to get my workspace working."}],"comment_count":1,"score":0,"last_activity_date":1701114935,"creation_date":1701114935,"answer_id":77559591,"question_id":77559306,"body_markdown":"You have the option between Liferay Workspace (an opinionated gradle), pure gradle, or maven.\r\n\r\nMy recommendation is to go with Liferay Workspace. You can see a comparison of the three options in [Liferay&#39;s blade samples][1]. Though looking at it, the pure gradle option might be gone by now.\r\n\r\nYou mention Developer Studio: It should offer to create a Liferay Workspace. And then you&#39;d create your modules in the workspace. You can also run your server from there.\r\n\r\nAs you&#39;re used to the older versions: If possible, go with the modularized features (e.g. OSGi based), or even better look up the new &quot;Client Extensions&quot;, as they&#39;re a lot more lightweight and easier to maintain than server-slide plugins and the old WAR style plugins.\r\n\r\n\r\n  [1]: https://github.com/liferay/liferay-blade-samples/","link":"https://stackoverflow.com/questions/77559306/liferay-7-4-development-using-sdk/77559591#77559591","title":"Liferay 7.4 development using SDK","body":"<p>You have the option between Liferay Workspace (an opinionated gradle), pure gradle, or maven.</p>\n<p>My recommendation is to go with Liferay Workspace. You can see a comparison of the three options in <a href=\"https://github.com/liferay/liferay-blade-samples/\" rel=\"nofollow noreferrer\">Liferay's blade samples</a>. Though looking at it, the pure gradle option might be gone by now.</p>\n<p>You mention Developer Studio: It should offer to create a Liferay Workspace. And then you'd create your modules in the workspace. You can also run your server from there.</p>\n<p>As you're used to the older versions: If possible, go with the modularized features (e.g. OSGi based), or even better look up the new &quot;Client Extensions&quot;, as they're a lot more lightweight and easier to maintain than server-slide plugins and the old WAR style plugins.</p>\n"}],"comment_count":1,"is_answered":false,"view_count":23,"answer_count":1,"score":0,"last_activity_date":1701114935,"creation_date":1701111446,"question_id":77559306,"body_markdown":"SO I am getting back into portlet and service development using Liferay. I have Liferay Portal 7.4 up and running and the Eclipse Development Studio. Is there an SDK I need to download like older versions?\r\nWhen I try to develop a portlet, it asks for the SDK. Any help appreciated.\r\n\r\n\r\n\r\nInstalled 7.4 portal on linux  - up and running. \r\nEclipse Liferay studio - need Liferay SDK or whatever they require for 7.4","link":"https://stackoverflow.com/questions/77559306/liferay-7-4-development-using-sdk","title":"Liferay 7.4 development using SDK","body":"<p>SO I am getting back into portlet and service development using Liferay. I have Liferay Portal 7.4 up and running and the Eclipse Development Studio. Is there an SDK I need to download like older versions?\nWhen I try to develop a portlet, it asks for the SDK. Any help appreciated.</p>\n<p>Installed 7.4 portal on linux  - up and running.\nEclipse Liferay studio - need Liferay SDK or whatever they require for 7.4</p>\n"},{"tags":["java","shell","logging","queue"],"comment_count":0,"is_answered":false,"view_count":24,"answer_count":0,"score":0,"last_activity_date":1701114637,"creation_date":1701112741,"last_edit_date":1701114637,"question_id":77559407,"body_markdown":"I am using ProcessExecutor org.zeroturnaround.exec.ProcessExecutor, for executing a shell script in Java. The requirement is to to color code any error logs from the execution and write the output from both streams out and err to the same file.\r\n\r\nCurrently, I am initializing this as\r\n\r\n      ProcessExecutor processExecutor = new ProcessExecutor()\r\n                                            .command(commandList)\r\n                                            .directory(dir)\r\n                                            .environment(environment)\r\n                                            .readOutput(true)\r\n                                            .stopper(..)\r\n                                            .redirectOutput(new LogOutputStream() {\r\n                                              //print\r\n                                            })\r\n                                            .redirectError(new LogOutputStream() {\r\n                                              //color code to red and print\r\n                                            })\r\n\r\nThe issue is that sometimes the order of the logs is incorrect since they are 2 different streams and there is no coordination between them.\r\n\r\nI am okay moving away from ProcessExecutor as well.\r\n\r\nThanks!","link":"https://stackoverflow.com/questions/77559407/redirect-output-and-error-to-the-same-file-using-processexecutor","title":"Redirect output and error to the same file using ProcessExecutor","body":"<p>I am using ProcessExecutor org.zeroturnaround.exec.ProcessExecutor, for executing a shell script in Java. The requirement is to to color code any error logs from the execution and write the output from both streams out and err to the same file.</p>\n<p>Currently, I am initializing this as</p>\n<pre><code>  ProcessExecutor processExecutor = new ProcessExecutor()\n                                        .command(commandList)\n                                        .directory(dir)\n                                        .environment(environment)\n                                        .readOutput(true)\n                                        .stopper(..)\n                                        .redirectOutput(new LogOutputStream() {\n                                          //print\n                                        })\n                                        .redirectError(new LogOutputStream() {\n                                          //color code to red and print\n                                        })\n</code></pre>\n<p>The issue is that sometimes the order of the logs is incorrect since they are 2 different streams and there is no coordination between them.</p>\n<p>I am okay moving away from ProcessExecutor as well.</p>\n<p>Thanks!</p>\n"},{"tags":["java","c++","swig"],"comment_count":0,"is_answered":false,"view_count":39,"answer_count":0,"score":-2,"last_activity_date":1701114364,"creation_date":1701105762,"last_edit_date":1701114364,"question_id":77558808,"body_markdown":"I read https://www.swig.org/Doc4.1/SWIGDocumentation.html#Java_memory_management_objects, but it does not help.\r\n\r\nI have following interface\r\n```\r\n    class ApplicantMatcher\r\n    {\r\n    public:\r\n        [[nodiscard]] virtual int Match(int probe, int gallery) const = 0;\r\n\r\n        ApplicantMatcher() = default;\r\n        virtual ~ApplicantMatcher() = default;\r\n    };\r\n```\r\nAnd class that stores the interface in constructor for later use.\r\n```\r\n    class AatestClass\r\n    {\r\n    public:\r\n        AatestClass(ApplicantMatcher&amp; matcher, ApplicantMatcher&amp; matcher2)\r\n          : m(matcher)\r\n          , m2(matcher2)\r\n        {\r\n        }\r\n        AatestClass() = delete;\r\n        virtual ~AatestClass() = default;\r\n\r\n    private:\r\n        ApplicantMatcher&amp; m;\r\n        ApplicantMatcher&amp; m2;\r\n    };\r\n```\r\nBecause of garbage collection in targeted languages I need to store references also in target constructor.\r\nI need to do it for target languages Java, C#, Ruby, Python.\r\nI do not find any usable documentation for from my point of view for typically usage of polymorphism.\r\n\r\nI tried in my *.i file\r\n\r\n```\r\n// The constructor&#39;s in cpp that uses references, MUST to store reference to provided object also in target language\r\n%typemap(javacode) inno::AatestClass %{\r\n  // Ensure that the GC doesn&#39;t collect any element set from Java\r\n  // as the underlying C++ class stores a shallow copy\r\n  private ApplicantMatcher ref_matcher;\r\n  private ApplicantMatcher ref_matcher2;\r\n%}\r\n%typemap(javain, \r\n         pre=&quot;      ref_$javainput = $javainput;&quot;\r\n         ) inno::ApplicantMatcher &amp; &quot;ApplicantMatcher.getCPtr($javainput)&quot;;\r\n```\r\nAnd it generates:\r\n\r\n```\r\n  // Ensure that the GC doesn&#39;t collect any element set from Java\r\n  // as the underlying C++ class stores a shallow copy\r\n  private ApplicantMatcher ref_matcher;\r\n  private ApplicantMatcher ref_matcher2;\r\n\r\n  static private long SwigConstructAatestClass(ApplicantMatcher matcher, ApplicantMatcher matcher2) {\r\n      ref_matcher = matcher;\r\n      ref_matcher2 = matcher2;\r\n    return enrollmentJNI.new_AatestClass(ApplicantMatcher.getCPtr(matcher), matcher, ApplicantMatcher.getCPtr(matcher2), matcher2);\r\n  }\r\n\r\n  public AatestClass(ApplicantMatcher matcher, ApplicantMatcher matcher2) {\r\n    this(AatestClass.SwigConstructAatestClass(matcher, matcher2), true);\r\n  }\r\n```\r\nBut it has several problems\r\n- Not working because SwigConstructAatestClass is static\r\n- It is only for java, it is not generic for all target languages\r\n- It apply also for other functions as constructor, where it is not necessary https://www.swig.org/Doc4.1/SWIGDocumentation.html#Java_pgcpp) and unusable\r\n\r\nI am confused, why SWIG do not generate references in target proxy classes, when the cpp class has reference in constructor automatically.\r\n\r\nI tried to find out swig functionality that will add references in proxy class from cpp constructor references.","link":"https://stackoverflow.com/questions/77558808/how-to-add-reference-in-target-language-for-c-constructor-with-references-to-i","title":"How to add reference in target language for c++ constructor with references to interface in SWIG","body":"<p>I read <a href=\"https://www.swig.org/Doc4.1/SWIGDocumentation.html#Java_memory_management_objects\" rel=\"nofollow noreferrer\">https://www.swig.org/Doc4.1/SWIGDocumentation.html#Java_memory_management_objects</a>, but it does not help.</p>\n<p>I have following interface</p>\n<pre><code>    class ApplicantMatcher\n    {\n    public:\n        [[nodiscard]] virtual int Match(int probe, int gallery) const = 0;\n\n        ApplicantMatcher() = default;\n        virtual ~ApplicantMatcher() = default;\n    };\n</code></pre>\n<p>And class that stores the interface in constructor for later use.</p>\n<pre><code>    class AatestClass\n    {\n    public:\n        AatestClass(ApplicantMatcher&amp; matcher, ApplicantMatcher&amp; matcher2)\n          : m(matcher)\n          , m2(matcher2)\n        {\n        }\n        AatestClass() = delete;\n        virtual ~AatestClass() = default;\n\n    private:\n        ApplicantMatcher&amp; m;\n        ApplicantMatcher&amp; m2;\n    };\n</code></pre>\n<p>Because of garbage collection in targeted languages I need to store references also in target constructor.\nI need to do it for target languages Java, C#, Ruby, Python.\nI do not find any usable documentation for from my point of view for typically usage of polymorphism.</p>\n<p>I tried in my *.i file</p>\n<pre><code>// The constructor's in cpp that uses references, MUST to store reference to provided object also in target language\n%typemap(javacode) inno::AatestClass %{\n  // Ensure that the GC doesn't collect any element set from Java\n  // as the underlying C++ class stores a shallow copy\n  private ApplicantMatcher ref_matcher;\n  private ApplicantMatcher ref_matcher2;\n%}\n%typemap(javain, \n         pre=&quot;      ref_$javainput = $javainput;&quot;\n         ) inno::ApplicantMatcher &amp; &quot;ApplicantMatcher.getCPtr($javainput)&quot;;\n</code></pre>\n<p>And it generates:</p>\n<pre><code>  // Ensure that the GC doesn't collect any element set from Java\n  // as the underlying C++ class stores a shallow copy\n  private ApplicantMatcher ref_matcher;\n  private ApplicantMatcher ref_matcher2;\n\n  static private long SwigConstructAatestClass(ApplicantMatcher matcher, ApplicantMatcher matcher2) {\n      ref_matcher = matcher;\n      ref_matcher2 = matcher2;\n    return enrollmentJNI.new_AatestClass(ApplicantMatcher.getCPtr(matcher), matcher, ApplicantMatcher.getCPtr(matcher2), matcher2);\n  }\n\n  public AatestClass(ApplicantMatcher matcher, ApplicantMatcher matcher2) {\n    this(AatestClass.SwigConstructAatestClass(matcher, matcher2), true);\n  }\n</code></pre>\n<p>But it has several problems</p>\n<ul>\n<li>Not working because SwigConstructAatestClass is static</li>\n<li>It is only for java, it is not generic for all target languages</li>\n<li>It apply also for other functions as constructor, where it is not necessary <a href=\"https://www.swig.org/Doc4.1/SWIGDocumentation.html#Java_pgcpp\" rel=\"nofollow noreferrer\">https://www.swig.org/Doc4.1/SWIGDocumentation.html#Java_pgcpp</a>) and unusable</li>\n</ul>\n<p>I am confused, why SWIG do not generate references in target proxy classes, when the cpp class has reference in constructor automatically.</p>\n<p>I tried to find out swig functionality that will add references in proxy class from cpp constructor references.</p>\n"},{"tags":["java","android-studio"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701113405,"creation_date":1701113405,"answer_id":77559457,"question_id":77553290,"body_markdown":"I was able to fix this issue, thank you. \r\n\r\nI took the Pager outside of the scroll view. Also, I had another layout V28 created by the IDE and I didn&#180;t noticed it, i had to modify that one as well. \r\n\r\n","link":"https://stackoverflow.com/questions/77553290/getting-null-with-viewpager-findbyviewidr-id/77559457#77559457","title":"Getting NULL with ViewPager FindByViewID(R.id)","body":"<p>I was able to fix this issue, thank you.</p>\n<p>I took the Pager outside of the scroll view. Also, I had another layout V28 created by the IDE and I didn´t noticed it, i had to modify that one as well.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":20,"answer_count":1,"score":0,"last_activity_date":1701113405,"creation_date":1701028839,"last_edit_date":1701035972,"question_id":77553290,"body_markdown":"I am going crazy, I tried to use ViewPager, CarouselView, ImageCarousel, ImageSlider and others and I keep having the same issue:\r\n`mViewPager = findViewById(R.id.viewPagerMain);\r\nR.id.viewPagerMain has value but nothing gets assigned to &quot;mViewPager&quot;.`\r\n\r\nI have watched several videos, read several explanations and I can&#180;t notice any difference. \r\nI thought that maybe I need to create a class specific for the ViewPager and nothing more...\r\n\r\nI have not created a carousel before, and I really do not understand what the problem is.\r\n\r\nWhat am I doing wrong?? Please help. \r\nBelow is my code:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:context=&quot;.Vistas.Logins.Login_activity&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    &gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;top&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;androidx.viewpager.widget.ViewPager\r\n                android:id=&quot;@+id/viewPagerMain&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;250dp&quot;\r\n                android:background=&quot;@color/strongblue&quot;\r\n                android:contentDescription=&quot;@string/wali&quot;\r\n                /&gt;\r\n\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/bienvenido2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:text=&quot;@string/bienvenido2&quot;\r\n                    android:textColor=&quot;@color/WaliBlue&quot;\r\n                    android:textSize=&quot;40sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/usuariorecordado&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:gravity=&quot;center&quot;\r\n                        android:text=&quot;@string/usuariovariable&quot;\r\n                        android:textColor=&quot;@color/WaliBlue&quot;\r\n                        android:textSize=&quot;40sp&quot;\r\n                        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/bienvenido2final&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:drawablePadding=&quot;10dp&quot;\r\n                        android:text=&quot;@string/bienvenido2final&quot;\r\n                        android:textColor=&quot;@color/WaliBlue&quot;\r\n                        android:textSize=&quot;40sp&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        app:drawableEndCompat=&quot;@drawable/mano_ico&quot; /&gt;\r\n\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/iniciasesion&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:text=&quot;@string/iniciasesion&quot;\r\n                    android:textColor=&quot;@color/walilog&quot;\r\n                    android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n\r\n                &lt;com.google.android.material.textfield.TextInputLayout\r\n                    android:layout_width=&quot;350dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_alignParentTop=&quot;true&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_marginTop=&quot;60dp&quot;\r\n                    app:passwordToggleEnabled=&quot;true&quot;\r\n                    app:passwordToggleTint=&quot;@color/green&quot;&gt;\r\n\r\n                    &lt;EditText\r\n                        android:id=&quot;@+id/password&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;48sp&quot;\r\n                        android:autofillHints=&quot;&quot;\r\n                        android:backgroundTint=&quot;@color/green&quot;\r\n                        android:hint=&quot;@string/password&quot;\r\n                        android:inputType=&quot;textPassword&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;18sp&quot; /&gt;\r\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n                &lt;androidx.appcompat.widget.SwitchCompat\r\n                    android:id=&quot;@+id/recordarSesion&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;48dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:checked=&quot;true&quot;\r\n                    android:text=&quot;@string/recordarSesion&quot;\r\n                    android:textColor=&quot;@color/grey&quot;\r\n                    app:switchPadding=&quot;15dp&quot;\r\n                    app:thumbTint=&quot;@drawable/newthumb_switch&quot; /&gt;\r\n\r\n                &lt;!-- &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:drawablePadding=&quot;10dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;@string/recordarSesion&quot;\r\n                    android:textSize=&quot;15sp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    app:drawableRightCompat=&quot;@drawable/toggle_on&quot; /&gt;\r\n\r\n                    Temporal porque ir&#225; un toggle--&gt;\r\n\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/botoniniciar&quot;\r\n                    android:layout_width=&quot;250dp&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_marginTop=&quot;60dp&quot;\r\n                    android:background=&quot;@drawable/boton_ripple&quot;\r\n                    android:text=&quot;@string/botoniniciar&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/nousuario&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;@string/nousuario&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/otracuenta&quot;\r\n                    style=&quot;?android:attr/borderlessButtonStyle&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;48dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:background=&quot;@null&quot;\r\n                    android:gravity=&quot;top&quot;\r\n                    android:text=&quot;@string/otracuenta&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textColor=&quot;@color/walilog&quot;\r\n                    android:textSize=&quot;16sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;130dp&quot;\r\n                android:layout_gravity=&quot;bottom&quot;\r\n                android:background=&quot;@color/white&quot;\r\n                android:gravity=&quot;bottom&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:background=&quot;@color/azulrey&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;\r\n                    android:layout_gravity=&quot;bottom&quot;&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/link&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;50dp&quot;\r\n                        android:layout_gravity=&quot;bottom&quot;\r\n                        android:layout_marginStart=&quot;15dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:autoLink=&quot;web&quot;\r\n                        android:drawablePadding=&quot;8dp&quot;\r\n                        android:gravity=&quot;center|left&quot;\r\n                        android:text=&quot;@string/link&quot;\r\n                        android:textColorLink=&quot;@color/white&quot;\r\n                        android:textSize=&quot;20sp&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        app:drawableLeftCompat=&quot;@drawable/web&quot;\r\n                        tools:ignore=&quot;RtlHardcoded&quot; /&gt;\r\n\r\n                    &lt;Button\r\n                        android:id=&quot;@+id/ayuda&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;48dp&quot;\r\n                        android:layout_gravity=&quot;bottom&quot;\r\n                        android:layout_marginEnd=&quot;-30dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:background=&quot;@null&quot;\r\n                        android:drawablePadding=&quot;8dp&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        android:text=&quot;@string/ayuda&quot;\r\n                        android:textAllCaps=&quot;false&quot;\r\n                        android:textColor=&quot;@color/white&quot;\r\n                        android:textSize=&quot;20sp&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        app:drawableStartCompat=&quot;@drawable/ayuda&quot;\r\n                        tools:ignore=&quot;RtlHardcoded&quot; /&gt;\r\n\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n        &lt;RelativeLayout\r\n\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/dimBackground&quot;\r\n            android:elevation=&quot;2dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:visibility=&quot;invisible&quot;&gt;\r\n\r\n            &lt;ProgressBar\r\n                android:id=&quot;@+id/loadingPanel&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:elevation=&quot;10dp&quot;\r\n                android:background=&quot;@drawable/rounded_corners&quot;\r\n                android:indeterminate=&quot;true&quot;\r\n                /&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\n\r\n```\r\npublic class ViewPagerAdapter extends PagerAdapter {\r\n    // Context object\r\n    Context context;\r\n\r\n    // Array of images\r\n    int[] images;\r\n\r\n    // Layout Inflater\r\n    LayoutInflater mLayoutInflater;\r\n\r\n\r\n    // Viewpager Constructor\r\n    public ViewPagerAdapter(Context context, int[] images) {\r\n        this.context = context;\r\n        this.images = images;\r\n        mLayoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        // return the number of images\r\n        return images.length;\r\n    }\r\n\r\n    @Override\r\n    public boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\r\n        return view == ((LinearLayout) object);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Object instantiateItem(@NonNull ViewGroup container, final int position) {\r\n\r\n        // inflating the item\r\n        View itemView = mLayoutInflater.inflate(R.layout.carrusel_inicio, container, false);\r\n\r\n        // referencing the image view from the item.xml file\r\n        ImageView imageView = (ImageView) itemView.findViewById(R.id.imageViewMain);\r\n\r\n        // setting the image in the imageView\r\n        imageView.setImageResource(images[position]);\r\n\r\n        // Adding the View\r\n        Objects.requireNonNull(container).addView(itemView);\r\n\r\n        return itemView;\r\n    }\r\n\r\n    @Override\r\n    public void destroyItem(ViewGroup container, int position, @NonNull Object object) {\r\n\r\n        container.removeView((LinearLayout) object);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class Login_recordarUsuario extends AppCompatActivity {\r\n\r\n    EditText password;\r\n    Button botoniniciar,otracuenta,ayuda;\r\n    public ProgressDialog progressDialog;\r\n    public ProgressBar loadingPanel;\r\n    TextView iniciasesion,bienvenido2,link,nousuario,bienvenido2final,usuariorecordado;\r\n    SwitchCompat recordarSesion;\r\n    ViewPager mViewPager;\r\n    int[] images = {R.drawable.walilogin, R.drawable.wall_e, R.drawable.walle};\r\n    ViewPagerAdapter mViewPagerAdapter;\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login_recordar_usuario);\r\n\r\n        ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\r\n        boolean connected = (Objects.requireNonNull(connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE)).getState() == NetworkInfo.State.CONNECTED ||\r\n                Objects.requireNonNull(connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI)).getState() == NetworkInfo.State.CONNECTED);\r\n\r\n            String ubicacion = &quot;Tipografia/GalanoGrotesqueAlt-Regular.ttf&quot;;\r\n            String ubicacion2 = &quot;Tipografia/GalanoGrotesqueDEMO-Bold.ttf&quot;;\r\n            Typeface tf = Typeface.createFromAsset(Login_recordarUsuario.this.getAssets(), ubicacion); //Inicia sesi&#243;n para...\r\n            Typeface tf2 = Typeface.createFromAsset(Login_recordarUsuario.this.getAssets(), ubicacion2); // Bienvenido\r\n\r\n            recordarSesion = findViewById(R.id.recordarSesion);\r\n\r\n            password = findViewById(R.id.password);\r\n            botoniniciar = findViewById(R.id.botoniniciar);\r\n            progressDialog = new ProgressDialog(Login_recordarUsuario.this);\r\n            loadingPanel = findViewById(R.id.loadingPanel);\r\n            progressDialog.setMessage(&quot;Iniciando sesi&#243;n...&quot;);\r\n            iniciasesion = findViewById(R.id.iniciasesion);\r\n            bienvenido2 = findViewById(R.id.bienvenido2);\r\n            link = findViewById(R.id.link);\r\n            nousuario = findViewById(R.id.nousuario);\r\n            otracuenta = findViewById(R.id.otracuenta);\r\n            usuariorecordado = findViewById(R.id.usuariorecordado);\r\n            bienvenido2final = findViewById(R.id.bienvenido2final);\r\n            ayuda = findViewById(R.id.ayuda);\r\n\r\n        // Initializing the ViewPager Object\r\n        mViewPager = findViewById(R.id.viewPagerMain);\r\n\r\n        // Initializing the ViewPagerAdapter\r\n        mViewPagerAdapter = new ViewPagerAdapter(Login_recordarUsuario.this, images);\r\n\r\n        // Adding the Adapter to the ViewPager\r\n        mViewPager.setAdapter(mViewPagerAdapter);\r\n\r\n//.... code Continues\r\n```\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77553290/getting-null-with-viewpager-findbyviewidr-id","title":"Getting NULL with ViewPager FindByViewID(R.id)","body":"<p>I am going crazy, I tried to use ViewPager, CarouselView, ImageCarousel, ImageSlider and others and I keep having the same issue:\n<code>mViewPager = findViewById(R.id.viewPagerMain); R.id.viewPagerMain has value but nothing gets assigned to &quot;mViewPager&quot;.</code></p>\n<p>I have watched several videos, read several explanations and I can´t notice any difference.\nI thought that maybe I need to create a class specific for the ViewPager and nothing more...</p>\n<p>I have not created a carousel before, and I really do not understand what the problem is.</p>\n<p>What am I doing wrong?? Please help.\nBelow is my code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:context=&quot;.Vistas.Logins.Login_activity&quot;\n    android:background=&quot;@color/white&quot;\n    &gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;androidx.appcompat.widget.LinearLayoutCompat\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:gravity=&quot;top&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;androidx.viewpager.widget.ViewPager\n                android:id=&quot;@+id/viewPagerMain&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;250dp&quot;\n                android:background=&quot;@color/strongblue&quot;\n                android:contentDescription=&quot;@string/wali&quot;\n                /&gt;\n\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/bienvenido2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_marginTop=&quot;25dp&quot;\n                    android:text=&quot;@string/bienvenido2&quot;\n                    android:textColor=&quot;@color/WaliBlue&quot;\n                    android:textSize=&quot;40sp&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:gravity=&quot;center&quot;\n                    android:orientation=&quot;horizontal&quot;\n                    android:weightSum=&quot;2&quot;&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/usuariorecordado&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:gravity=&quot;center&quot;\n                        android:text=&quot;@string/usuariovariable&quot;\n                        android:textColor=&quot;@color/WaliBlue&quot;\n                        android:textSize=&quot;40sp&quot;\n                        android:textStyle=&quot;bold&quot; /&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/bienvenido2final&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:drawablePadding=&quot;10dp&quot;\n                        android:text=&quot;@string/bienvenido2final&quot;\n                        android:textColor=&quot;@color/WaliBlue&quot;\n                        android:textSize=&quot;40sp&quot;\n                        android:textStyle=&quot;bold&quot;\n                        app:drawableEndCompat=&quot;@drawable/mano_ico&quot; /&gt;\n\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/iniciasesion&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_marginTop=&quot;5dp&quot;\n                    android:text=&quot;@string/iniciasesion&quot;\n                    android:textColor=&quot;@color/walilog&quot;\n                    android:textSize=&quot;20sp&quot; /&gt;\n\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:layout_width=&quot;350dp&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_alignParentTop=&quot;true&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_marginTop=&quot;60dp&quot;\n                    app:passwordToggleEnabled=&quot;true&quot;\n                    app:passwordToggleTint=&quot;@color/green&quot;&gt;\n\n                    &lt;EditText\n                        android:id=&quot;@+id/password&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;48sp&quot;\n                        android:autofillHints=&quot;&quot;\n                        android:backgroundTint=&quot;@color/green&quot;\n                        android:hint=&quot;@string/password&quot;\n                        android:inputType=&quot;textPassword&quot;\n                        android:textColor=&quot;@color/black&quot;\n                        android:textSize=&quot;18sp&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n                &lt;androidx.appcompat.widget.SwitchCompat\n                    android:id=&quot;@+id/recordarSesion&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;48dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:checked=&quot;true&quot;\n                    android:text=&quot;@string/recordarSesion&quot;\n                    android:textColor=&quot;@color/grey&quot;\n                    app:switchPadding=&quot;15dp&quot;\n                    app:thumbTint=&quot;@drawable/newthumb_switch&quot; /&gt;\n\n                &lt;!-- &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:drawablePadding=&quot;10dp&quot;\n                    android:gravity=&quot;center&quot;\n                    android:text=&quot;@string/recordarSesion&quot;\n                    android:textSize=&quot;15sp&quot;\n                    android:layout_marginTop=&quot;5dp&quot;\n                    app:drawableRightCompat=&quot;@drawable/toggle_on&quot; /&gt;\n\n                    Temporal porque irá un toggle--&gt;\n\n\n                &lt;Button\n                    android:id=&quot;@+id/botoniniciar&quot;\n                    android:layout_width=&quot;250dp&quot;\n                    android:layout_height=&quot;50dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_marginTop=&quot;60dp&quot;\n                    android:background=&quot;@drawable/boton_ripple&quot;\n                    android:text=&quot;@string/botoniniciar&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textColor=&quot;@color/white&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/nousuario&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_marginTop=&quot;20dp&quot;\n                    android:gravity=&quot;center&quot;\n                    android:text=&quot;@string/nousuario&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;Button\n                    android:id=&quot;@+id/otracuenta&quot;\n                    style=&quot;?android:attr/borderlessButtonStyle&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;48dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:background=&quot;@null&quot;\n                    android:gravity=&quot;top&quot;\n                    android:text=&quot;@string/otracuenta&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textColor=&quot;@color/walilog&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;130dp&quot;\n                android:layout_gravity=&quot;bottom&quot;\n                android:background=&quot;@color/white&quot;\n                android:gravity=&quot;bottom&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:background=&quot;@color/azulrey&quot;\n                    android:orientation=&quot;horizontal&quot;\n                    android:weightSum=&quot;2&quot;\n                    android:layout_gravity=&quot;bottom&quot;&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/link&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;50dp&quot;\n                        android:layout_gravity=&quot;bottom&quot;\n                        android:layout_marginStart=&quot;15dp&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:autoLink=&quot;web&quot;\n                        android:drawablePadding=&quot;8dp&quot;\n                        android:gravity=&quot;center|left&quot;\n                        android:text=&quot;@string/link&quot;\n                        android:textColorLink=&quot;@color/white&quot;\n                        android:textSize=&quot;20sp&quot;\n                        android:textStyle=&quot;bold&quot;\n                        app:drawableLeftCompat=&quot;@drawable/web&quot;\n                        tools:ignore=&quot;RtlHardcoded&quot; /&gt;\n\n                    &lt;Button\n                        android:id=&quot;@+id/ayuda&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;48dp&quot;\n                        android:layout_gravity=&quot;bottom&quot;\n                        android:layout_marginEnd=&quot;-30dp&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:background=&quot;@null&quot;\n                        android:drawablePadding=&quot;8dp&quot;\n                        android:gravity=&quot;center_vertical&quot;\n                        android:text=&quot;@string/ayuda&quot;\n                        android:textAllCaps=&quot;false&quot;\n                        android:textColor=&quot;@color/white&quot;\n                        android:textSize=&quot;20sp&quot;\n                        android:textStyle=&quot;bold&quot;\n                        app:drawableStartCompat=&quot;@drawable/ayuda&quot;\n                        tools:ignore=&quot;RtlHardcoded&quot; /&gt;\n\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n        &lt;RelativeLayout\n\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/dimBackground&quot;\n            android:elevation=&quot;2dp&quot;\n            android:gravity=&quot;center&quot;\n            android:visibility=&quot;invisible&quot;&gt;\n\n            &lt;ProgressBar\n                android:id=&quot;@+id/loadingPanel&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:elevation=&quot;10dp&quot;\n                android:background=&quot;@drawable/rounded_corners&quot;\n                android:indeterminate=&quot;true&quot;\n                /&gt;\n\n        &lt;/RelativeLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n<pre><code>public class ViewPagerAdapter extends PagerAdapter {\n    // Context object\n    Context context;\n\n    // Array of images\n    int[] images;\n\n    // Layout Inflater\n    LayoutInflater mLayoutInflater;\n\n\n    // Viewpager Constructor\n    public ViewPagerAdapter(Context context, int[] images) {\n        this.context = context;\n        this.images = images;\n        mLayoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    }\n\n    @Override\n    public int getCount() {\n        // return the number of images\n        return images.length;\n    }\n\n    @Override\n    public boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\n        return view == ((LinearLayout) object);\n    }\n\n    @NonNull\n    @Override\n    public Object instantiateItem(@NonNull ViewGroup container, final int position) {\n\n        // inflating the item\n        View itemView = mLayoutInflater.inflate(R.layout.carrusel_inicio, container, false);\n\n        // referencing the image view from the item.xml file\n        ImageView imageView = (ImageView) itemView.findViewById(R.id.imageViewMain);\n\n        // setting the image in the imageView\n        imageView.setImageResource(images[position]);\n\n        // Adding the View\n        Objects.requireNonNull(container).addView(itemView);\n\n        return itemView;\n    }\n\n    @Override\n    public void destroyItem(ViewGroup container, int position, @NonNull Object object) {\n\n        container.removeView((LinearLayout) object);\n    }\n}\n</code></pre>\n<pre><code>public class Login_recordarUsuario extends AppCompatActivity {\n\n    EditText password;\n    Button botoniniciar,otracuenta,ayuda;\n    public ProgressDialog progressDialog;\n    public ProgressBar loadingPanel;\n    TextView iniciasesion,bienvenido2,link,nousuario,bienvenido2final,usuariorecordado;\n    SwitchCompat recordarSesion;\n    ViewPager mViewPager;\n    int[] images = {R.drawable.walilogin, R.drawable.wall_e, R.drawable.walle};\n    ViewPagerAdapter mViewPagerAdapter;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login_recordar_usuario);\n\n        ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n\n        boolean connected = (Objects.requireNonNull(connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE)).getState() == NetworkInfo.State.CONNECTED ||\n                Objects.requireNonNull(connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI)).getState() == NetworkInfo.State.CONNECTED);\n\n            String ubicacion = &quot;Tipografia/GalanoGrotesqueAlt-Regular.ttf&quot;;\n            String ubicacion2 = &quot;Tipografia/GalanoGrotesqueDEMO-Bold.ttf&quot;;\n            Typeface tf = Typeface.createFromAsset(Login_recordarUsuario.this.getAssets(), ubicacion); //Inicia sesión para...\n            Typeface tf2 = Typeface.createFromAsset(Login_recordarUsuario.this.getAssets(), ubicacion2); // Bienvenido\n\n            recordarSesion = findViewById(R.id.recordarSesion);\n\n            password = findViewById(R.id.password);\n            botoniniciar = findViewById(R.id.botoniniciar);\n            progressDialog = new ProgressDialog(Login_recordarUsuario.this);\n            loadingPanel = findViewById(R.id.loadingPanel);\n            progressDialog.setMessage(&quot;Iniciando sesión...&quot;);\n            iniciasesion = findViewById(R.id.iniciasesion);\n            bienvenido2 = findViewById(R.id.bienvenido2);\n            link = findViewById(R.id.link);\n            nousuario = findViewById(R.id.nousuario);\n            otracuenta = findViewById(R.id.otracuenta);\n            usuariorecordado = findViewById(R.id.usuariorecordado);\n            bienvenido2final = findViewById(R.id.bienvenido2final);\n            ayuda = findViewById(R.id.ayuda);\n\n        // Initializing the ViewPager Object\n        mViewPager = findViewById(R.id.viewPagerMain);\n\n        // Initializing the ViewPagerAdapter\n        mViewPagerAdapter = new ViewPagerAdapter(Login_recordarUsuario.this, images);\n\n        // Adding the Adapter to the ViewPager\n        mViewPager.setAdapter(mViewPagerAdapter);\n\n//.... code Continues\n</code></pre>\n"},{"tags":["java","jboss"],"comments":[{"score":0,"post_type":"question","creation_date":1701112645,"post_id":77553603,"comment_id":136732400,"body_markdown":"Are you using WildFly or JBoss EAP? If so which version?","link":"https://stackoverflow.com/questions/77553603/jackson-throwing-the-invalid-access-for-the-schema-validation#comment136732400_77553603","body":"Are you using WildFly or JBoss EAP? If so which version?"},{"score":0,"post_type":"question","creation_date":1701188428,"post_id":77553603,"comment_id":136743027,"body_markdown":"`jboss-eap-7.1`","link":"https://stackoverflow.com/questions/77553603/jackson-throwing-the-invalid-access-for-the-schema-validation#comment136743027_77553603","body":"<code>jboss-eap-7.1</code>"},{"score":0,"post_type":"question","creation_date":1701207595,"post_id":77553603,"comment_id":136746350,"body_markdown":"If you&#39;re including Jackson in your deployment there is a chance it&#39;s conflicting with the version provided by JBoss EAP 7.1. You may want to try to exclude Jackson from your deployment.","link":"https://stackoverflow.com/questions/77553603/jackson-throwing-the-invalid-access-for-the-schema-validation#comment136746350_77553603","body":"If you&#39;re including Jackson in your deployment there is a chance it&#39;s conflicting with the version provided by JBoss EAP 7.1. You may want to try to exclude Jackson from your deployment."},{"score":0,"post_type":"question","creation_date":1701219881,"post_id":77553603,"comment_id":136747800,"body_markdown":"`Thanks it worked`","link":"https://stackoverflow.com/questions/77553603/jackson-throwing-the-invalid-access-for-the-schema-validation#comment136747800_77553603","body":"<code>Thanks it worked</code>"}],"comment_count":4,"is_answered":false,"view_count":40,"answer_count":0,"score":0,"last_activity_date":1701112599,"creation_date":1701035220,"last_edit_date":1701112599,"question_id":77553603,"body_markdown":"    java.lang.IllegalAccessError: tried to access field com.fasterxml.jackson.core.JsonFactory.DEFAULT_ROOT_VALUE_SEPARATOR from class com.fasterxml.jackson.core.JsonFactoryBuilder \r\n        at com.fasterxml.jackson.core.JsonFactoryBuilder.&lt;init&gt;(JsonFactoryBuilder.java:36) \r\n        at io.swagger.v3.parser.ObjectMapperFactory.createJsonFactory(ObjectMapperFactory.java:41) \r\n        at io.swagger.v3.parser.ObjectMapperFactory.createJson(ObjectMapperFactory.java:18) \r\n        at io.swagger.v3.parser.ObjectMapperFactory.createJson(ObjectMapperFactory.java:14) \r\n        at io.swagger.v3.parser.OpenAPIV3Parser.&lt;clinit&gt;(OpenAPIV3Parser.java:43) at io.swagger.parser.OpenAPIParser.readContents(OpenAPIParser.java:28) \r\n        at com.atlassian.oai.validator.util.OpenApiLoader.readSwaggerParserResult(OpenApiLoader.java:63) \r\n        at com.atlassian.oai.validator.util.OpenApiLoader.loadApi(OpenApiLoader.java:46) \r\n        at com.atlassian.oai.validator.OpenApiInteractionValidator$Builder.build(OpenApiInteractionValidator.java:606)\r\n\r\n**tried the dependency tree. mvn dependecy:tree**\r\n\r\n/- com.atlassian.oai:swagger-request-validator-core:jar:2.18.0:compile [INFO] | +- io.swagger.parser.v3:swagger-parser:jar:2.0.29:compile [INFO] | | +- io.swagger.parser.v3:swagger-parser-v2-converter:jar:2.0.29:compile [INFO] | | | +- io.swagger:swagger-core:jar:1.6.3:compile [INFO] | | | | - io.swagger:swagger-models:jar:1.6.3:compile [INFO] | | | | - io.swagger:swagger-annotations:jar:1.6.3:compile [INFO] | | | +- io.swagger:swagger-parser:jar:1.0.56:compile [INFO] | | | +- io.swagger:swagger-compat-spec-parser:jar:1.0.56:compile [INFO] | | | | - com.github.java-json-tools:json-patch:jar:1.13:compile [INFO] | | | +- io.swagger.core.v3:swagger-models:jar:2.1.11:compile [INFO] | | | - io.swagger.parser.v3:swagger-parser-core:jar:2.0.29:compile [INFO] | | - io.swagger.parser.v3:swagger-parser-v3:jar:2.0.29:compile [INFO] | | - io.swagger.core.v3:swagger-core:jar:2.1.11:compile [INFO] | | +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.2:compile [INFO] | | | - jakarta.activation:jakarta.activation-api:jar:1.2.1:compile [INFO] | | +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.0-rc2:compile [INFO] | | +- io.swagger.core.v3:swagger-annotations:jar:2.1.11:compile [INFO] | | - jakarta.validation:jakarta.validation-api:jar:2.0.2:compile/\r\n\r\n**is it due to the dependency conflict?**","link":"https://stackoverflow.com/questions/77553603/jackson-throwing-the-invalid-access-for-the-schema-validation","title":"Jackson throwing the invalid access for the schema validation","body":"<pre><code>java.lang.IllegalAccessError: tried to access field com.fasterxml.jackson.core.JsonFactory.DEFAULT_ROOT_VALUE_SEPARATOR from class com.fasterxml.jackson.core.JsonFactoryBuilder \n    at com.fasterxml.jackson.core.JsonFactoryBuilder.&lt;init&gt;(JsonFactoryBuilder.java:36) \n    at io.swagger.v3.parser.ObjectMapperFactory.createJsonFactory(ObjectMapperFactory.java:41) \n    at io.swagger.v3.parser.ObjectMapperFactory.createJson(ObjectMapperFactory.java:18) \n    at io.swagger.v3.parser.ObjectMapperFactory.createJson(ObjectMapperFactory.java:14) \n    at io.swagger.v3.parser.OpenAPIV3Parser.&lt;clinit&gt;(OpenAPIV3Parser.java:43) at io.swagger.parser.OpenAPIParser.readContents(OpenAPIParser.java:28) \n    at com.atlassian.oai.validator.util.OpenApiLoader.readSwaggerParserResult(OpenApiLoader.java:63) \n    at com.atlassian.oai.validator.util.OpenApiLoader.loadApi(OpenApiLoader.java:46) \n    at com.atlassian.oai.validator.OpenApiInteractionValidator$Builder.build(OpenApiInteractionValidator.java:606)\n</code></pre>\n<p><strong>tried the dependency tree. mvn dependecy:tree</strong></p>\n<p>/- com.atlassian.oai:swagger-request-validator-core:jar:2.18.0:compile [INFO] | +- io.swagger.parser.v3:swagger-parser:jar:2.0.29:compile [INFO] | | +- io.swagger.parser.v3:swagger-parser-v2-converter:jar:2.0.29:compile [INFO] | | | +- io.swagger:swagger-core:jar:1.6.3:compile [INFO] | | | | - io.swagger:swagger-models:jar:1.6.3:compile [INFO] | | | | - io.swagger:swagger-annotations:jar:1.6.3:compile [INFO] | | | +- io.swagger:swagger-parser:jar:1.0.56:compile [INFO] | | | +- io.swagger:swagger-compat-spec-parser:jar:1.0.56:compile [INFO] | | | | - com.github.java-json-tools:json-patch:jar:1.13:compile [INFO] | | | +- io.swagger.core.v3:swagger-models:jar:2.1.11:compile [INFO] | | | - io.swagger.parser.v3:swagger-parser-core:jar:2.0.29:compile [INFO] | | - io.swagger.parser.v3:swagger-parser-v3:jar:2.0.29:compile [INFO] | | - io.swagger.core.v3:swagger-core:jar:2.1.11:compile [INFO] | | +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.2:compile [INFO] | | | - jakarta.activation:jakarta.activation-api:jar:1.2.1:compile [INFO] | | +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.0-rc2:compile [INFO] | | +- io.swagger.core.v3:swagger-annotations:jar:2.1.11:compile [INFO] | | - jakarta.validation:jakarta.validation-api:jar:2.0.2:compile/</p>\n<p><strong>is it due to the dependency conflict?</strong></p>\n"},{"tags":["java","spring-boot","metrics","newrelic","open-telemetry"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701789391,"post_id":77559316,"comment_id":136817347,"body_markdown":"Thanks. Is there any other way to change cardinality limit? (not experimental).  2000 looks like not enough for me. I don&#39;t know why default value is so small. I have metric with 4 tags (event, platform, app, region) and I get a lot of warns about &quot;Instrument app.events has exceeded the maximum allowed cardinality (1999).&quot;","link":"https://stackoverflow.com/questions/77558008/opentelemetry-sdk-cardinality-limit-change/77559316#comment136817347_77559316","body":"Thanks. Is there any other way to change cardinality limit? (not experimental).  2000 looks like not enough for me. I don&#39;t know why default value is so small. I have metric with 4 tags (event, platform, app, region) and I get a lot of warns about &quot;Instrument app.events has exceeded the maximum allowed cardinality (1999).&quot;"},{"score":0,"post_type":"answer","creation_date":1701792703,"post_id":77559316,"comment_id":136818045,"body_markdown":"The only other option is to use register the limit with a view, which allows you to target a narrower set of instruments than the reader, but that&#39;s experimental as well: https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk/metrics/src/main/java/io/opentelemetry/sdk/metrics/internal/SdkMeterProviderUtil.java#L113-L121 There are currently no options that aren&#39;t experimental. We&#39;re waiting for the specification to stabilize before we stabilize.","link":"https://stackoverflow.com/questions/77558008/opentelemetry-sdk-cardinality-limit-change/77559316#comment136818045_77559316","body":"The only other option is to use register the limit with a view, which allows you to target a narrower set of instruments than the reader, but that&#39;s experimental as well: <a href=\"https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk/metrics/src/main/java/io/opentelemetry/sdk/metrics/internal/SdkMeterProviderUtil.java#L113-L121\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java/blob/main/sdk/&hellip;</a> There are currently no options that aren&#39;t experimental. We&#39;re waiting for the specification to stabilize before we stabilize."}],"comment_count":2,"score":0,"last_activity_date":1701111559,"creation_date":1701111559,"answer_id":77559316,"question_id":77558008,"body_markdown":"Configuring cardinality limits is still experimental, so the APIs you call to set the limits are internal and leave a lot to be desired in terms of ergonomics. This will change when the limits are marked as stable in the specification.\r\n\r\nYou need to use [SdkMeterProviderUtil#registerMetricReaderWithCardinalitySelect](https://github.com/open-telemetry/opentelemetry-java/blob/c57ca65f7f1455e2f9d72f3d2d626aaf2f2f9a81/sdk/metrics/src/main/java/io/opentelemetry/sdk/metrics/internal/SdkMeterProviderUtil.java#L53-L67), something like:\r\n```\r\nSdkMeterProviderBuilder meterProviderBuilder = SdkMeterProvider.builder();\r\nPeriodicMetricReader periodicMetricReader = PeriodicMetricReader.builder()\r\n  // configuration omitted for brevity\r\n  .build();\r\nSdkMeterProviderUtil.registerMetricReaderWithCardinalitySelector(meterProviderBuilder, periodicMetricReader, unused -&gt; 3000);\r\n```","link":"https://stackoverflow.com/questions/77558008/opentelemetry-sdk-cardinality-limit-change/77559316#77559316","title":"OpenTelemetry SDK Cardinality limit change","body":"<p>Configuring cardinality limits is still experimental, so the APIs you call to set the limits are internal and leave a lot to be desired in terms of ergonomics. This will change when the limits are marked as stable in the specification.</p>\n<p>You need to use <a href=\"https://github.com/open-telemetry/opentelemetry-java/blob/c57ca65f7f1455e2f9d72f3d2d626aaf2f2f9a81/sdk/metrics/src/main/java/io/opentelemetry/sdk/metrics/internal/SdkMeterProviderUtil.java#L53-L67\" rel=\"nofollow noreferrer\">SdkMeterProviderUtil#registerMetricReaderWithCardinalitySelect</a>, something like:</p>\n<pre><code>SdkMeterProviderBuilder meterProviderBuilder = SdkMeterProvider.builder();\nPeriodicMetricReader periodicMetricReader = PeriodicMetricReader.builder()\n  // configuration omitted for brevity\n  .build();\nSdkMeterProviderUtil.registerMetricReaderWithCardinalitySelector(meterProviderBuilder, periodicMetricReader, unused -&gt; 3000);\n</code></pre>\n"}],"comment_count":0,"is_answered":true,"view_count":72,"answer_count":1,"score":0,"last_activity_date":1701111559,"creation_date":1701098226,"last_edit_date":1701098319,"question_id":77558008,"body_markdown":"I set up a configuration for openTelemtry in Spring Boot (New Relic exporter). I can see the metrics in New Relic so everything works fine. Also I see a lot of warnings about &quot;Cardinality Limit (2000)&quot;. By default cardinality is set to 2000. I&#39;m not sure how can I change it. I can see in optl docs something like this:\r\n\r\n&gt; aggregation_cardinality_limit: A positive integer value defining the maximum number of data points allowed to be emitted in a collection cycle by a single instrument. See cardinality limits, below.\r\n\r\nLink: https://opentelemetry.io/docs/specs/otel/metrics/sdk/#stream-configuration\r\n\r\nMy code:\r\n\r\n```\r\n @Bean\r\n    @ConditionalOnMissingBean\r\n    public OpenTelemetry openTelemetry() {\r\n        return OpenTelemetrySdk.builder()\r\n            .setMeterProvider(\r\n                SdkMeterProvider.builder()\r\n                    .setResource(\r\n                        Resource.getDefault().toBuilder()\r\n                            .put(&quot;service.name&quot;, getAppName())\r\n                            .put(&quot;instrumentation.provider&quot;, &quot;micrometer&quot;)\r\n                            .build())\r\n                    .registerMetricReader(\r\n                        PeriodicMetricReader.builder(\r\n                                OtlpGrpcMetricExporter.builder()\r\n                                    .setCompression(&quot;gzip&quot;)\r\n                                    .setEndpoint(properties.getEndpoint())\r\n                                    .addHeader(&quot;api-key&quot;, getLicenceKey())\r\n                                    .setAggregationTemporalitySelector(AggregationTemporalitySelector.deltaPreferred())\r\n                                    .setDefaultAggregationSelector(\r\n                                        DefaultAggregationSelector.getDefault()\r\n                                            .with(InstrumentType.HISTOGRAM, Aggregation.base2ExponentialBucketHistogram()))\r\n                                    .build())\r\n                            .setInterval(Duration.ofSeconds(properties.getInterval()))\r\n                            .build())\r\n                    .build())\r\n            .build();\r\n    }\r\n```\r\n\r\n\r\nI&#39;m not sure if I can just pass another &quot;                       .put(&quot;aggregation_cardinality_limit&quot;, 3000)&quot; to Resource.","link":"https://stackoverflow.com/questions/77558008/opentelemetry-sdk-cardinality-limit-change","title":"OpenTelemetry SDK Cardinality limit change","body":"<p>I set up a configuration for openTelemtry in Spring Boot (New Relic exporter). I can see the metrics in New Relic so everything works fine. Also I see a lot of warnings about &quot;Cardinality Limit (2000)&quot;. By default cardinality is set to 2000. I'm not sure how can I change it. I can see in optl docs something like this:</p>\n<blockquote>\n<p>aggregation_cardinality_limit: A positive integer value defining the maximum number of data points allowed to be emitted in a collection cycle by a single instrument. See cardinality limits, below.</p>\n</blockquote>\n<p>Link: <a href=\"https://opentelemetry.io/docs/specs/otel/metrics/sdk/#stream-configuration\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/specs/otel/metrics/sdk/#stream-configuration</a></p>\n<p>My code:</p>\n<pre><code> @Bean\n    @ConditionalOnMissingBean\n    public OpenTelemetry openTelemetry() {\n        return OpenTelemetrySdk.builder()\n            .setMeterProvider(\n                SdkMeterProvider.builder()\n                    .setResource(\n                        Resource.getDefault().toBuilder()\n                            .put(&quot;service.name&quot;, getAppName())\n                            .put(&quot;instrumentation.provider&quot;, &quot;micrometer&quot;)\n                            .build())\n                    .registerMetricReader(\n                        PeriodicMetricReader.builder(\n                                OtlpGrpcMetricExporter.builder()\n                                    .setCompression(&quot;gzip&quot;)\n                                    .setEndpoint(properties.getEndpoint())\n                                    .addHeader(&quot;api-key&quot;, getLicenceKey())\n                                    .setAggregationTemporalitySelector(AggregationTemporalitySelector.deltaPreferred())\n                                    .setDefaultAggregationSelector(\n                                        DefaultAggregationSelector.getDefault()\n                                            .with(InstrumentType.HISTOGRAM, Aggregation.base2ExponentialBucketHistogram()))\n                                    .build())\n                            .setInterval(Duration.ofSeconds(properties.getInterval()))\n                            .build())\n                    .build())\n            .build();\n    }\n</code></pre>\n<p>I'm not sure if I can just pass another &quot;                       .put(&quot;aggregation_cardinality_limit&quot;, 3000)&quot; to Resource.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"score":0,"post_type":"question","creation_date":1701109894,"post_id":77559124,"comment_id":136731959,"body_markdown":"I solved the issue reading the spring security configuration migrations page at https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html basically I was combining wrongly the anyRequest method, so I just removed it","link":"https://stackoverflow.com/questions/77559124/how-to-solve-java-lang-illegalstateexception-cant-configure-mvcmatchers-after#comment136731959_77559124","body":"I solved the issue reading the spring security configuration migrations page at <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/5.8/migration/servl&zwnj;&#8203;et/&hellip;</a> basically I was combining wrongly the anyRequest method, so I just removed it"},{"score":1,"post_type":"question","creation_date":1701109946,"post_id":77559124,"comment_id":136731968,"body_markdown":"The `anyRequest()` doesn&#39;t make sense here.  Also, come to think of it, it doesn&#39;t make sense for the `/api` endpoints either.  Do you really want to ignore security for `/api`?","link":"https://stackoverflow.com/questions/77559124/how-to-solve-java-lang-illegalstateexception-cant-configure-mvcmatchers-after#comment136731968_77559124","body":"The <code>anyRequest()</code> doesn&#39;t make sense here.  Also, come to think of it, it doesn&#39;t make sense for the <code>&#47;api</code> endpoints either.  Do you really want to ignore security for <code>&#47;api</code>?"},{"score":0,"post_type":"question","creation_date":1701110030,"post_id":77559124,"comment_id":136731978,"body_markdown":"it was just for testing the application not for deploying it for any official environment","link":"https://stackoverflow.com/questions/77559124/how-to-solve-java-lang-illegalstateexception-cant-configure-mvcmatchers-after#comment136731978_77559124","body":"it was just for testing the application not for deploying it for any official environment"}],"comment_count":3,"is_answered":false,"view_count":46,"answer_count":0,"score":-2,"last_activity_date":1701109235,"creation_date":1701109235,"question_id":77559124,"body_markdown":"I&#39;m creating a Spring Boot configuration to allow/ignore HTTP requests to a specific path using the new WebSecurityCustomizer class from Spring Security 5.4 that deprecated the class WebSecurityConfigurerAdapter.\r\n\r\n```\r\n@Configuration\r\npublic class ApplicationConfiguration {\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.ignoring().anyRequest().requestMatchers(&quot;/&quot;, &quot;/api&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWhen I start the spring boot application it give the following Runtime error message\r\n\r\n\r\n```\r\n\tCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [jakarta.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception with message: Can&#39;t configure mvcMatchers after anyRequest\r\n\t\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n\t\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\r\n\t\t... 21 common frames omitted\r\n\tCaused by: java.lang.IllegalStateException: Can&#39;t configure mvcMatchers after anyRequest\r\n\t\tat org.springframework.util.Assert.state(Assert.java:76)\r\n\t\tat org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.createMvcMatchers(AbstractRequestMatcherRegistry.java:105)\r\n\t\tat org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:210)\r\n\t\tat org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:276)\r\n```\r\n\r\n\t ","link":"https://stackoverflow.com/questions/77559124/how-to-solve-java-lang-illegalstateexception-cant-configure-mvcmatchers-after","title":"How to solve java.lang.IllegalStateException: Can&#39;t configure mvcMatchers after anyRequest error?","body":"<p>I'm creating a Spring Boot configuration to allow/ignore HTTP requests to a specific path using the new WebSecurityCustomizer class from Spring Security 5.4 that deprecated the class WebSecurityConfigurerAdapter.</p>\n<pre><code>@Configuration\npublic class ApplicationConfiguration {\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().anyRequest().requestMatchers(&quot;/&quot;, &quot;/api&quot;);\n    }\n}\n</code></pre>\n<p>When I start the spring boot application it give the following Runtime error message</p>\n<pre><code>    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [jakarta.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception with message: Can't configure mvcMatchers after anyRequest\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\n        ... 21 common frames omitted\n    Caused by: java.lang.IllegalStateException: Can't configure mvcMatchers after anyRequest\n        at org.springframework.util.Assert.state(Assert.java:76)\n        at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.createMvcMatchers(AbstractRequestMatcherRegistry.java:105)\n        at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:210)\n        at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:276)\n</code></pre>\n"},{"tags":["java","android","audio","repeat"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701056919,"post_id":77553415,"comment_id":136723540,"body_markdown":"is that kotlin or java?","link":"https://stackoverflow.com/questions/77553004/how-to-make-an-audio-stop-when-another-audio-starts-bulk-alot-of-audios/77553415#comment136723540_77553415","body":"is that kotlin or java?"},{"score":0,"post_type":"answer","creation_date":1701091800,"post_id":77553415,"comment_id":136728216,"body_markdown":"i dont really understand how i should use this sorry.","link":"https://stackoverflow.com/questions/77553004/how-to-make-an-audio-stop-when-another-audio-starts-bulk-alot-of-audios/77553415#comment136728216_77553415","body":"i dont really understand how i should use this sorry."}],"comment_count":2,"score":2,"last_activity_date":1701031463,"last_edit_date":1701031463,"creation_date":1701031162,"answer_id":77553415,"question_id":77553004,"body_markdown":"You should never make more than one MediaPlayer, they&#39;re heavyweight objects and take a lot of resources.  Instead, make a single media player, and use setDataSource to change the sound it&#39;s set to play (you need to stop the original sound first of course).\r\n\r\nThen the next thing to change is to structure your data.  Create a map of ids to sounds:\r\n\r\n    Map&lt;Int, Int&gt; sounds = new HashMap();\r\n    sounds.put(button1id, R.raw.hannaba);\r\n    sounds.put(button2id, R.raw.mannaba);\r\n    ...\r\n\r\nThen you can have a single click function:\r\n\r\n    public void buttonClick(View view) {\r\n       mediaPlayer.stop()\r\n       mediaPlayer.setDataSource(sounds.get(view.getId())\r\n       mediaPlayer.start()\r\n    }\r\n\r\nSet that as the onClickListener of all the buttons you want to act like that, and you only have to write it once.\r\n\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77553004/how-to-make-an-audio-stop-when-another-audio-starts-bulk-alot-of-audios/77553415#77553415","title":"How to make an audio stop when another audio starts (bulk alot of audios)","body":"<p>You should never make more than one MediaPlayer, they're heavyweight objects and take a lot of resources.  Instead, make a single media player, and use setDataSource to change the sound it's set to play (you need to stop the original sound first of course).</p>\n<p>Then the next thing to change is to structure your data.  Create a map of ids to sounds:</p>\n<pre><code>Map&lt;Int, Int&gt; sounds = new HashMap();\nsounds.put(button1id, R.raw.hannaba);\nsounds.put(button2id, R.raw.mannaba);\n...\n</code></pre>\n<p>Then you can have a single click function:</p>\n<pre><code>public void buttonClick(View view) {\n   mediaPlayer.stop()\n   mediaPlayer.setDataSource(sounds.get(view.getId())\n   mediaPlayer.start()\n}\n</code></pre>\n<p>Set that as the onClickListener of all the buttons you want to act like that, and you only have to write it once.</p>\n"},{"comment_count":0,"score":-1,"last_activity_date":1701108818,"creation_date":1701108818,"answer_id":77559084,"question_id":77553004,"body_markdown":"Try this way:\r\n\r\n    public void button1Text(View view) {\r\n        if (media2 != null &amp;&amp; media2.isPlaying()) {\r\n            media2.stop();\r\n            media2.release();\r\n        }\r\n    \r\n        media1 = MediaPlayer.create(QuranJ30MA.this, R.raw.hannaba);\r\n        media1.start();\r\n    }\r\n    \r\n    public void button2Text(View view) {\r\n        if (media1 != null &amp;&amp; media1.isPlaying()) {\r\n            media1.stop();\r\n            media1.release();\r\n        }\r\n    \r\n        media2 = MediaPlayer.create(QuranJ30MA.this, R.raw.mannaba);\r\n        media2.start();\r\n    }\r\n\r\n","link":"https://stackoverflow.com/questions/77553004/how-to-make-an-audio-stop-when-another-audio-starts-bulk-alot-of-audios/77559084#77559084","title":"How to make an audio stop when another audio starts (bulk alot of audios)","body":"<p>Try this way:</p>\n<pre><code>public void button1Text(View view) {\n    if (media2 != null &amp;&amp; media2.isPlaying()) {\n        media2.stop();\n        media2.release();\n    }\n\n    media1 = MediaPlayer.create(QuranJ30MA.this, R.raw.hannaba);\n    media1.start();\n}\n\npublic void button2Text(View view) {\n    if (media1 != null &amp;&amp; media1.isPlaying()) {\n        media1.stop();\n        media1.release();\n    }\n\n    media2 = MediaPlayer.create(QuranJ30MA.this, R.raw.mannaba);\n    media2.start();\n}\n</code></pre>\n"}],"comment_count":0,"is_answered":true,"view_count":46,"answer_count":2,"score":0,"last_activity_date":1701108818,"creation_date":1701024054,"question_id":77553004,"body_markdown":"I have 30-31 buttons and i want one to play at a time so if i click on a button it will play then when i click on the other button that one stops no matter which one it is it will stop this is the sample of the code its basically like this all through and repeats but just the numbers change hence 1,2,3,4 etc etc. :\r\n\r\n\r\n```\r\n    public void Button1Text(View view) {\r\n        Media1 = MediaPlayer.create(QuranJ30MA.this, R.raw.hannaba);\r\n        Media1.start();\r\n    }\r\n\r\n    public void Button1Text2(View view) {\r\n        Button1p = MediaPlayer.create(QuranJ30MA.this, R.raw.mannaba);\r\n        Button1p.start();\r\n    }\r\n```\r\n\r\n\r\nI did try to look at others which wanted to do the same but since i am not very good with java I couldnt understand how to apply it on mine please also explain how it works if its not too much to ask i just want to learn thank you :)","link":"https://stackoverflow.com/questions/77553004/how-to-make-an-audio-stop-when-another-audio-starts-bulk-alot-of-audios","title":"How to make an audio stop when another audio starts (bulk alot of audios)","body":"<p>I have 30-31 buttons and i want one to play at a time so if i click on a button it will play then when i click on the other button that one stops no matter which one it is it will stop this is the sample of the code its basically like this all through and repeats but just the numbers change hence 1,2,3,4 etc etc. :</p>\n<pre><code>    public void Button1Text(View view) {\n        Media1 = MediaPlayer.create(QuranJ30MA.this, R.raw.hannaba);\n        Media1.start();\n    }\n\n    public void Button1Text2(View view) {\n        Button1p = MediaPlayer.create(QuranJ30MA.this, R.raw.mannaba);\n        Button1p.start();\n    }\n</code></pre>\n<p>I did try to look at others which wanted to do the same but since i am not very good with java I couldnt understand how to apply it on mine please also explain how it works if its not too much to ask i just want to learn thank you :)</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"score":1,"post_type":"question","creation_date":1701108713,"post_id":77559033,"comment_id":136731748,"body_markdown":"Have you checked Stack Overflow to see if there have previously been questions about failure to find or load main class? https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean","link":"https://stackoverflow.com/questions/77559033/why-is-it-showing-error-after-windows-update-in-vs-code-while-java-programming#comment136731748_77559033","body":"Have you checked Stack Overflow to see if there have previously been questions about failure to find or load main class? <a href=\"https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean\" title=\"what does could not find or load main class mean\">stackoverflow.com/questions/18093928/&hellip;</a>"},{"score":1,"post_type":"question","creation_date":1701162369,"post_id":77559033,"comment_id":136738059,"body_markdown":"How do you execute the code? You can look at [this document](https://code.visualstudio.com/docs/java/java-tutorial) first.","link":"https://stackoverflow.com/questions/77559033/why-is-it-showing-error-after-windows-update-in-vs-code-while-java-programming#comment136738059_77559033","body":"How do you execute the code? You can look at <a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">this document</a> first."}],"comment_count":2,"is_answered":false,"view_count":45,"answer_count":0,"score":0,"last_activity_date":1701108376,"creation_date":1701108107,"last_edit_date":1701108376,"question_id":77559033,"body_markdown":"The program is lacking details, it is showing \r\n\r\nI tried-\r\n\r\n```\r\nimport java.lang.*;\r\n\r\nclass nir4{\r\n    public static void main(String args[]){\r\n        System.out.print(&quot;hi&quot;);\r\n    }\r\n}\r\n```\r\nBut out&gt; put came - \r\n\r\n```none\r\nC:\\Users\\Admin\\Documents\\.vscode\\.vscode&gt;  &amp; &#39;C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.8.7-hotspot\\bin\\java.exe&#39; &#39;-XX:+ShowCodeDetailsInExceptionMessages&#39; &#39;-cp&#39; &#39;C:\\Users\\Admin\\AppData\\Roaming\\Code\\User\\workspaceStorage\\eedc908950fb8b2a0402f354e7b375a7\\redhat.java\\jdt_ws\\jdt.ls-java-project\\bin&#39; &#39;nir4&#39;\r\n\r\nError: Could not find or load main class nir4    \r\n\r\nCaused by: java.lang.ClassNotFoundException: nir4[text]\r\n(https://stackoverflow.com)\r\n```\r\n","link":"https://stackoverflow.com/questions/77559033/why-is-it-showing-error-after-windows-update-in-vs-code-while-java-programming","title":"Why is it showing error after windows update in vs code while Java programming","body":"<p>The program is lacking details, it is showing</p>\n<p>I tried-</p>\n<pre><code>import java.lang.*;\n\nclass nir4{\n    public static void main(String args[]){\n        System.out.print(&quot;hi&quot;);\n    }\n}\n</code></pre>\n<p>But out&gt; put came -</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\Admin\\Documents\\.vscode\\.vscode&gt;  &amp; 'C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.8.7-hotspot\\bin\\java.exe' '-XX:+ShowCodeDetailsInExceptionMessages' '-cp' 'C:\\Users\\Admin\\AppData\\Roaming\\Code\\User\\workspaceStorage\\eedc908950fb8b2a0402f354e7b375a7\\redhat.java\\jdt_ws\\jdt.ls-java-project\\bin' 'nir4'\n\nError: Could not find or load main class nir4    \n\nCaused by: java.lang.ClassNotFoundException: nir4[text]\n(https://stackoverflow.com)\n</code></pre>\n"},{"tags":["java","mysql","servlets","taglib"],"comment_count":0,"is_answered":false,"view_count":34,"answer_count":0,"score":-1,"last_activity_date":1701107722,"creation_date":1701106281,"question_id":77558861,"body_markdown":"[enter image description here](https://i.stack.imgur.com/YfCiP.png)\r\nMy Tomcat local server doesn&#39;t see my MySQL database problem...\r\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n\t\tConnection c = null;\r\n\t\t\r\n\t\tString url = &quot;jdbc:mysql:://localhost:3306/db_khoangsan&quot;;\r\n\t\tString user = &quot;root&quot;;\r\n\t\tString password = &quot;29012020&quot;;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\tc = DriverManager.getConnection( url, user, password);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\t// TODO: handle exception\r\n\t}\r\n\r\n","link":"https://stackoverflow.com/questions/77558861/i-am-using-tomcat-8-5-96-and-i-cannot-connect-jdbc-to-my-database-with-tomcat-m","title":"I am using Tomcat 8.5.96 and I cannot connect JDBC to my database with Tomcat. My Tomcat local server doesn&#39;t see my MySQL database problem","body":"<p><a href=\"https://i.stack.imgur.com/YfCiP.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nMy Tomcat local server doesn't see my MySQL database problem...\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\nConnection c = null;</p>\n<pre><code>    String url = &quot;jdbc:mysql:://localhost:3306/db_khoangsan&quot;;\n    String user = &quot;root&quot;;\n    String password = &quot;29012020&quot;;\n    \n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        c = DriverManager.getConnection( url, user, password);\n    } catch (SQLException e) {\n        e.printStackTrace();\n        // TODO: handle exception\n}\n</code></pre>\n"},{"tags":["java","spring","microservices","spring-cloud"],"comments":[{"score":0,"post_type":"question","creation_date":1701101605,"post_id":77558341,"comment_id":136730431,"body_markdown":"This question seems more suited for the SE stack exchange - https://softwareengineering.stackexchange.com/","link":"https://stackoverflow.com/questions/77558341/how-to-share-data-between-other-microservices-in-spring-boot#comment136730431_77558341","body":"This question seems more suited for the SE stack exchange - <a href=\"https://softwareengineering.stackexchange.com/\">softwareengineering.stackexchange.com</a>"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701106148,"creation_date":1701106148,"answer_id":77558848,"question_id":77558341,"body_markdown":"Normally a user in the authentication service is identified by a unique synthetic key (user ID) which is created during the user registration. You can store the value of this key in your `createdBy` column of the product service. The necessary key should be passed to the product service as an argument of its REST API.\r\n\r\nIf case the product service needs more information about the user than just that user ID, you should foresee a dedicated REST API endpoint in the authentication service which returns the necessary info by the user ID.\r\n\r\nI believe you should look into Spring Security, it supports many typical authentication workflows. For more info see, for example, a [series of videos](https://www.youtube.com/playlist?list=PLEocw3gLFc8XRaRBZkhBEZ_R3tmvfkWZz) by Laurentiu Spilca on the subject, particularly regarding OAuth2 authentication server.\r\n","link":"https://stackoverflow.com/questions/77558341/how-to-share-data-between-other-microservices-in-spring-boot/77558848#77558848","title":"How to share data between other microservices in spring boot?","body":"<p>Normally a user in the authentication service is identified by a unique synthetic key (user ID) which is created during the user registration. You can store the value of this key in your <code>createdBy</code> column of the product service. The necessary key should be passed to the product service as an argument of its REST API.</p>\n<p>If case the product service needs more information about the user than just that user ID, you should foresee a dedicated REST API endpoint in the authentication service which returns the necessary info by the user ID.</p>\n<p>I believe you should look into Spring Security, it supports many typical authentication workflows. For more info see, for example, a <a href=\"https://www.youtube.com/playlist?list=PLEocw3gLFc8XRaRBZkhBEZ_R3tmvfkWZz\" rel=\"nofollow noreferrer\">series of videos</a> by Laurentiu Spilca on the subject, particularly regarding OAuth2 authentication server.</p>\n"},{"comment_count":0,"score":1,"last_activity_date":1701107419,"last_edit_date":1701107419,"creation_date":1701107093,"answer_id":77558942,"question_id":77558341,"body_markdown":"Your use case is typically what OAuth2 solves: you `authenticate` service looks pretty much like an *OAuth2 authorization server* and your `product` service like an *OAuth2 resource server*.\r\n\r\nIf you had an *OAuth2 client* (like the gateway could be), then it could get an access token from the authorization server and authorize its requests to the resource server using this token. Resource server gets the info it needs about the client and the resource owner (authenticated user in your case) from the token (decoding it if it&#39;s a JWT or introspecting it on the authorization server otherwize).\r\n\r\nThe bad news is you can probably trash your `authenticate` service as OIDC providers like Keycloak or cloud offers like Cognito, Auth0, Okta, etc. do probably more and better than what you did. The good news being that this services exist already, actually do a lot (user registration, clients management, identity federation, multi-factor authentication, ...), are well documented, and are not that difficult to configure.\r\n\r\nMore details in my [OAuth2 essentials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials) and tutorials.","link":"https://stackoverflow.com/questions/77558341/how-to-share-data-between-other-microservices-in-spring-boot/77558942#77558942","title":"How to share data between other microservices in spring boot?","body":"<p>Your use case is typically what OAuth2 solves: you <code>authenticate</code> service looks pretty much like an <em>OAuth2 authorization server</em> and your <code>product</code> service like an <em>OAuth2 resource server</em>.</p>\n<p>If you had an <em>OAuth2 client</em> (like the gateway could be), then it could get an access token from the authorization server and authorize its requests to the resource server using this token. Resource server gets the info it needs about the client and the resource owner (authenticated user in your case) from the token (decoding it if it's a JWT or introspecting it on the authorization server otherwize).</p>\n<p>The bad news is you can probably trash your <code>authenticate</code> service as OIDC providers like Keycloak or cloud offers like Cognito, Auth0, Okta, etc. do probably more and better than what you did. The good news being that this services exist already, actually do a lot (user registration, clients management, identity federation, multi-factor authentication, ...), are well documented, and are not that difficult to configure.</p>\n<p>More details in my <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\" rel=\"nofollow noreferrer\">OAuth2 essentials</a> and tutorials.</p>\n"}],"comment_count":1,"is_answered":true,"view_count":70,"answer_count":2,"score":-3,"last_activity_date":1701107419,"creation_date":1701101418,"question_id":77558341,"body_markdown":"I am learning about microservices through spring boot cloud. I have 2 services `authenticate` and `product` and I call them both through the `gateway`, I encounter the following problem:\r\n\r\n - How can the product service know which user has logged in from the    authenticate service and retrieve that user&#39;s login information?\r\n\r\n - In the `product service`, I have a `products table` and it has a `createdBy column` that is the user stored in the `users table` at the `authenticate service`. How can I get creator information when getting list of products similar to Left Join?\r\n\r\n - How to share data between other services?\r\n              \r\nIn my project, each service will have a separate database, is that optimal?\r\n\r\nI&#39;ve been working on this for a few hours and still have no results, it seems quite difficult to do. Select the solution you&#39;re using. Thank you and happy coding\r\n","link":"https://stackoverflow.com/questions/77558341/how-to-share-data-between-other-microservices-in-spring-boot","title":"How to share data between other microservices in spring boot?","body":"<p>I am learning about microservices through spring boot cloud. I have 2 services <code>authenticate</code> and <code>product</code> and I call them both through the <code>gateway</code>, I encounter the following problem:</p>\n<ul>\n<li><p>How can the product service know which user has logged in from the    authenticate service and retrieve that user's login information?</p>\n</li>\n<li><p>In the <code>product service</code>, I have a <code>products table</code> and it has a <code>createdBy column</code> that is the user stored in the <code>users table</code> at the <code>authenticate service</code>. How can I get creator information when getting list of products similar to Left Join?</p>\n</li>\n<li><p>How to share data between other services?</p>\n</li>\n</ul>\n<p>In my project, each service will have a separate database, is that optimal?</p>\n<p>I've been working on this for a few hours and still have no results, it seems quite difficult to do. Select the solution you're using. Thank you and happy coding</p>\n"},{"tags":["java","spring-security","single-sign-on","saml-2.0","spring-security-saml2"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701107144,"creation_date":1701107144,"answer_id":77558951,"question_id":77557593,"body_markdown":"As an answer to your question I want to say that \r\n\r\n    org.springframework.security.extensions:spring-security-saml2-core:2.0.0.M31\r\n\r\nand\r\n\r\n    org.springframework.security.extensions:%20spring-security-saml%3A1.0.10.RELEASE\r\n\r\nWere removed from support more details you will be able to find [spring-security-saml-extensions-1-x-eol-on-october-6-2021][1]\r\n\r\n\r\nIt could also be seeing into [maven repository][2]\r\n\r\n\r\nBased on it you have to use \r\n\r\n    org.springframework.security:spring-security-saml2-service-provider\r\n\r\nThat is currently maintained you can check it also on [maven central repository][3] \r\n\r\nAlso a reference to [documentation][4]\r\n\r\n\r\n  [1]: https://spring.io/blog/2020/09/22/spring-security-saml-extensions-1-x-eol-on-october-6-2021\r\n  [2]: https://mvnrepository.com/artifact/org.springframework.security.extensions/spring-security-saml\r\n  [3]: https://mvnrepository.com/artifact/org.springframework.security/spring-security-saml2-service-provider\r\n  [4]: https://docs.spring.io/spring-security/reference/servlet/saml2/index.html","link":"https://stackoverflow.com/questions/77557593/spring-security-saml-which-lib-to-create-an-identity-provider-to-connect-to-se/77558951#77558951","title":"Spring security SAML : Which lib to create an Identity provider to connect to service provider","body":"<p>As an answer to your question I want to say that</p>\n<pre><code>org.springframework.security.extensions:spring-security-saml2-core:2.0.0.M31\n</code></pre>\n<p>and</p>\n<pre><code>org.springframework.security.extensions:%20spring-security-saml%3A1.0.10.RELEASE\n</code></pre>\n<p>Were removed from support more details you will be able to find <a href=\"https://spring.io/blog/2020/09/22/spring-security-saml-extensions-1-x-eol-on-october-6-2021\" rel=\"nofollow noreferrer\">spring-security-saml-extensions-1-x-eol-on-october-6-2021</a></p>\n<p>It could also be seeing into <a href=\"https://mvnrepository.com/artifact/org.springframework.security.extensions/spring-security-saml\" rel=\"nofollow noreferrer\">maven repository</a></p>\n<p>Based on it you have to use</p>\n<pre><code>org.springframework.security:spring-security-saml2-service-provider\n</code></pre>\n<p>That is currently maintained you can check it also on <a href=\"https://mvnrepository.com/artifact/org.springframework.security/spring-security-saml2-service-provider\" rel=\"nofollow noreferrer\">maven central repository</a></p>\n<p>Also a reference to <a href=\"https://docs.spring.io/spring-security/reference/servlet/saml2/index.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n"}],"comment_count":0,"is_answered":true,"view_count":57,"answer_count":1,"score":-1,"last_activity_date":1701107144,"creation_date":1701094663,"question_id":77557593,"body_markdown":"I want to create an identityprovider to authenticate to an sso server using Spring security saml2. Can I create an ID using the &#39;org.springframework.security:spring-security-saml2-service-provider&#39; library or should I do this using &#39;org.springframework.security.extensions: spring-security-saml:1.0.10.RELEASE&#39; or &#39;org.springframework.security.extensions:spring-security-saml2-core:2.0.0.M31&#39;\r\n\r\nI have the impression that the documentation is mainly around setting up service providers","link":"https://stackoverflow.com/questions/77557593/spring-security-saml-which-lib-to-create-an-identity-provider-to-connect-to-se","title":"Spring security SAML : Which lib to create an Identity provider to connect to service provider","body":"<p>I want to create an identityprovider to authenticate to an sso server using Spring security saml2. Can I create an ID using the 'org.springframework.security:spring-security-saml2-service-provider' library or should I do this using 'org.springframework.security.extensions: spring-security-saml:1.0.10.RELEASE' or 'org.springframework.security.extensions:spring-security-saml2-core:2.0.0.M31'</p>\n<p>I have the impression that the documentation is mainly around setting up service providers</p>\n"},{"tags":["java","spring-boot","api-gateway","spring-cloud-gateway"],"comments":[{"score":0,"post_type":"question","creation_date":1701108307,"post_id":77558926,"comment_id":136731680,"body_markdown":"&quot;but with no success&quot; is not describes your issue","link":"https://stackoverflow.com/questions/77558926/log-response-body-in-spring-cloud-gateway-in-filterfactory-class#comment136731680_77558926","body":"&quot;but with no success&quot; is not describes your issue"}],"comment_count":1,"is_answered":false,"view_count":26,"answer_count":0,"score":0,"last_activity_date":1701106936,"creation_date":1701106936,"question_id":77558926,"body_markdown":"I am trying to modify the response body which is currently gzipped text/html format. As first step i want to log it in abstract filter factory class. \r\n\r\nSo far i have tried [https://stackoverflow.com/questions/68741402/how-to-set-request-body-in-gatewayfilter-with-spring-cloud-gateway](https://stackoverflow.com) and [https://stackoverflow.com/questions/71465870/how-to-get-original-response-body-in-spring-cloud-gateway-webflux-post-filter](https://stackoverflow.com) but with no success. The rewrite response itself do not work.  \r\n\r\n```\r\n@Component\r\npublic class ReportingGatewayFilterFactory extends AbstractGatewayFilterFactory&lt;ReportingGatewayFilterFactory.Config&gt; {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(ReportingGatewayFilterFactory.class);\r\n\r\n    public ReportingGatewayFilterFactory() {\r\n        super(Config.class);\r\n    }\r\n\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;custom-properties&quot;)\r\n    public static class Config {\r\n        ;\r\n    }\r\n\r\n    @Override\r\n    public GatewayFilter apply(Config config) {\r\n        return (exchange, chain) -&gt; {\r\n\r\n            String originalUriString = exchange.getRequest().getURI().toString();\r\n            String rewrittenUriString = originalUriString.replace(&quot;/mygateway/central_reporting/public/dashboards&quot;, &quot;/public/dashboards&quot;);\r\n            URI rewrittenUri = URI.create(rewrittenUriString); \r\n\r\n            ServerHttpRequest mutatedRequest = exchange.getRequest().mutate().uri(rewrittenUri).headers(headers -&gt; headers.remove(&quot;Authorization&quot;)).build();\r\n            ServerWebExchange mutatedExchange = exchange.mutate().request(mutatedRequest).build();\r\n\r\n            return chain.filter(mutatedExchange);\r\n\r\n        };\r\n    }\r\n    \r\n}\r\n```\r\n","link":"https://stackoverflow.com/questions/77558926/log-response-body-in-spring-cloud-gateway-in-filterfactory-class","title":"Log response body in spring cloud gateway in filterfactory class","body":"<p>I am trying to modify the response body which is currently gzipped text/html format. As first step i want to log it in abstract filter factory class.</p>\n<p>So far i have tried <a href=\"https://stackoverflow.com\">https://stackoverflow.com/questions/68741402/how-to-set-request-body-in-gatewayfilter-with-spring-cloud-gateway</a> and <a href=\"https://stackoverflow.com\">https://stackoverflow.com/questions/71465870/how-to-get-original-response-body-in-spring-cloud-gateway-webflux-post-filter</a> but with no success. The rewrite response itself do not work.</p>\n<pre><code>@Component\npublic class ReportingGatewayFilterFactory extends AbstractGatewayFilterFactory&lt;ReportingGatewayFilterFactory.Config&gt; {\n\n    private static final Logger logger = LoggerFactory.getLogger(ReportingGatewayFilterFactory.class);\n\n    public ReportingGatewayFilterFactory() {\n        super(Config.class);\n    }\n\n\n    @Configuration\n    @ConfigurationProperties(prefix = &quot;custom-properties&quot;)\n    public static class Config {\n        ;\n    }\n\n    @Override\n    public GatewayFilter apply(Config config) {\n        return (exchange, chain) -&gt; {\n\n            String originalUriString = exchange.getRequest().getURI().toString();\n            String rewrittenUriString = originalUriString.replace(&quot;/mygateway/central_reporting/public/dashboards&quot;, &quot;/public/dashboards&quot;);\n            URI rewrittenUri = URI.create(rewrittenUriString); \n\n            ServerHttpRequest mutatedRequest = exchange.getRequest().mutate().uri(rewrittenUri).headers(headers -&gt; headers.remove(&quot;Authorization&quot;)).build();\n            ServerWebExchange mutatedExchange = exchange.mutate().request(mutatedRequest).build();\n\n            return chain.filter(mutatedExchange);\n\n        };\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","kotlin","thread-safety","blockchain","corda"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1678896540,"creation_date":1678896540,"answer_id":75747279,"question_id":75385788,"body_markdown":"When we call a flow from service it good practice to call it from its own Thread to avoid Dead locks of transaction update.\r\n\r\nInside @CordaService class\r\n\r\n  \r\n\r\n    private companion object {\r\n            val executor: Executor = Executors.newCachedThreadPool()\r\n          }\r\n        -------------------------------------------------------------------\r\n          executor.execute {\r\n            serviceHub.startFlow(RegisterCarFlow(update))\r\n          }","link":"https://stackoverflow.com/questions/75385788/servicehub-startflow-from-a-cordaservice-class-versus-subflow-calling-from-corda/75747279#75747279","title":"serviceHub.startFlow from a cordaService class versus subFlow calling from Corda flow","body":"<p>When we call a flow from service it good practice to call it from its own Thread to avoid Dead locks of transaction update.</p>\n<p>Inside @CordaService class</p>\n<pre><code>private companion object {\n        val executor: Executor = Executors.newCachedThreadPool()\n      }\n    -------------------------------------------------------------------\n      executor.execute {\n        serviceHub.startFlow(RegisterCarFlow(update))\n      }\n</code></pre>\n"},{"comment_count":0,"score":0,"last_activity_date":1701106542,"creation_date":1701106542,"answer_id":77558889,"question_id":75385788,"body_markdown":"One problem associated with using custom threadPool is that it is complex to get the results back from the subFlow within the service or the flow which initiates the service. If we were to use Future or CompletableFuture then it would defeat the purpose of running these subflows concurrently.\r\nWe can use this approach more easily only when the subflow results are not needed for the initiator or the service.","link":"https://stackoverflow.com/questions/75385788/servicehub-startflow-from-a-cordaservice-class-versus-subflow-calling-from-corda/77558889#77558889","title":"serviceHub.startFlow from a cordaService class versus subFlow calling from Corda flow","body":"<p>One problem associated with using custom threadPool is that it is complex to get the results back from the subFlow within the service or the flow which initiates the service. If we were to use Future or CompletableFuture then it would defeat the purpose of running these subflows concurrently.\nWe can use this approach more easily only when the subflow results are not needed for the initiator or the service.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":63,"answer_count":2,"score":0,"last_activity_date":1701106542,"creation_date":1675859267,"last_edit_date":1676027666,"question_id":75385788,"body_markdown":"Is there a difference in calling one flow as **subflow** from another corda flow versus calling the same flow from a cordaservice class as **serviceHub.startFlow**?\r\n\r\nIn terms of thread utilization or suspending etc? \r\n\r\nI encountered a scenario where calling a flow from CordaService function got me error like \r\n`java.lang.IllegalArgumentException: Transaction context is missing. This might happen if a suspendable method is not annotated with @Suspendable annotation.`\r\n\r\nwhereas calling the same flows from another flow using subflows worked fine. ","link":"https://stackoverflow.com/questions/75385788/servicehub-startflow-from-a-cordaservice-class-versus-subflow-calling-from-corda","title":"serviceHub.startFlow from a cordaService class versus subFlow calling from Corda flow","body":"<p>Is there a difference in calling one flow as <strong>subflow</strong> from another corda flow versus calling the same flow from a cordaservice class as <strong>serviceHub.startFlow</strong>?</p>\n<p>In terms of thread utilization or suspending etc?</p>\n<p>I encountered a scenario where calling a flow from CordaService function got me error like\n<code>java.lang.IllegalArgumentException: Transaction context is missing. This might happen if a suspendable method is not annotated with @Suspendable annotation.</code></p>\n<p>whereas calling the same flows from another flow using subflows worked fine.</p>\n"},{"tags":["java","spring-boot","spring-data-cassandra","jakarta-validation"],"comments":[{"score":0,"post_type":"question","creation_date":1701106809,"post_id":77558870,"comment_id":136731405,"body_markdown":"Try to check whether isValid() method get invoked. If not, most likely you need to add @Validated on your controller","link":"https://stackoverflow.com/questions/77558870/how-do-i-properly-fail-a-validation-of-spring-data-cassandra-using-jakarta-valid#comment136731405_77558870","body":"Try to check whether isValid() method get invoked. If not, most likely you need to add @Validated on your controller"}],"comment_count":1,"is_answered":false,"view_count":25,"answer_count":0,"score":0,"last_activity_date":1701106326,"creation_date":1701106326,"question_id":77558870,"body_markdown":"I have the following...\r\n\r\n```java\r\n\r\n@Column\r\n@ContactInfo\r\nprivate String contactInfo;\r\n...\r\nprivate static final String EMAIL_PATTERN = &quot;^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,6}$&quot;;\r\n    \r\n@Override\r\npublic boolean isValid(String value, ConstraintValidatorContext context) {\r\n        if (value == null) {\r\n            return false;\r\n        }\r\n        PhoneNumberUtil phoneUtil = PhoneNumberUtil.getInstance();\r\n        try {\r\n            Phonenumber.PhoneNumber phoneNumber = phoneUtil.parse(value, &quot;US&quot;); // Specify default country code\r\n            if (phoneUtil.isValidNumber(phoneNumber)) {\r\n                return true; // Valid phone number\r\n            }\r\n        } catch (Exception e) {\r\n            // Not a valid phone number, try email next\r\n        }\r\n\r\n        // Next, try to validate as an email\r\n        return Pattern.matches(EMAIL_PATTERN, value);\r\n}\r\n\r\n@PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\npublic void addContact(@Valid PotentialContact contact) {\r\n        contact.setId(Uuids.timeBased());\r\n        potentialContactRepo.save(contact);\r\n}\r\n```\r\n\r\nBut when I run and pass sadsadsadsadsadas as contact info like this...\r\n\r\n```\r\nPOST http://localhost:8080/contact\r\n200\r\n36 ms\r\nPOST /contact HTTP/1.1\r\nUser-Agent: PostmanRuntime/7.31.0\r\nAccept: */*\r\nCache-Control: no-cache\r\nHost: localhost:8080\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\nContent-Type: application/x-www-form-urlencoded\r\nContent-Length: 109\r\nCookie: JSESSIONID=5CF0280370CFA0403A4645392E34A907\r\n \r\nname=sadsadsadsadsadas&amp;contactInfo=sadsadsadsadsadas&amp;location=sadsadsadsadsadas&amp;description=sadsadsadsadsadas\r\n \r\nHTTP/1.1 200 OK\r\n```\r\n\r\nI would expect to get a 400 but instead I get a 200. What am I missing? Is there a more native way to handle this in Spring?","link":"https://stackoverflow.com/questions/77558870/how-do-i-properly-fail-a-validation-of-spring-data-cassandra-using-jakarta-valid","title":"How do I properly fail a validation of spring data cassandra using jakarta validations when passed to controller?","body":"<p>I have the following...</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Column\n@ContactInfo\nprivate String contactInfo;\n...\nprivate static final String EMAIL_PATTERN = &quot;^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,6}$&quot;;\n    \n@Override\npublic boolean isValid(String value, ConstraintValidatorContext context) {\n        if (value == null) {\n            return false;\n        }\n        PhoneNumberUtil phoneUtil = PhoneNumberUtil.getInstance();\n        try {\n            Phonenumber.PhoneNumber phoneNumber = phoneUtil.parse(value, &quot;US&quot;); // Specify default country code\n            if (phoneUtil.isValidNumber(phoneNumber)) {\n                return true; // Valid phone number\n            }\n        } catch (Exception e) {\n            // Not a valid phone number, try email next\n        }\n\n        // Next, try to validate as an email\n        return Pattern.matches(EMAIL_PATTERN, value);\n}\n\n@PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\npublic void addContact(@Valid PotentialContact contact) {\n        contact.setId(Uuids.timeBased());\n        potentialContactRepo.save(contact);\n}\n</code></pre>\n<p>But when I run and pass sadsadsadsadsadas as contact info like this...</p>\n<pre><code>POST http://localhost:8080/contact\n200\n36 ms\nPOST /contact HTTP/1.1\nUser-Agent: PostmanRuntime/7.31.0\nAccept: */*\nCache-Control: no-cache\nHost: localhost:8080\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\nContent-Type: application/x-www-form-urlencoded\nContent-Length: 109\nCookie: JSESSIONID=5CF0280370CFA0403A4645392E34A907\n \nname=sadsadsadsadsadas&amp;contactInfo=sadsadsadsadsadas&amp;location=sadsadsadsadsadas&amp;description=sadsadsadsadsadas\n \nHTTP/1.1 200 OK\n</code></pre>\n<p>I would expect to get a 400 but instead I get a 200. What am I missing? Is there a more native way to handle this in Spring?</p>\n"},{"tags":["java","android","xml","kotlin","android-studio"],"comment_count":0,"is_answered":false,"view_count":17,"answer_count":0,"score":-2,"last_activity_date":1701106200,"creation_date":1701106200,"question_id":77558853,"body_markdown":"I have an issue with animations on some android devices. \r\n\r\nFor example I have Infinix X6516 where all animations are working fine. Then I have 8A and there is not working a single animation. To be more precise, animations such as PopupWindow.setAnimationStyle() or ActivityOptions.makeCustomAnimation() and so on. Does anybody has solution for this? Ive seen a case https://stackoverflow.com/questions/11904656/animation-not-working-on-all-devices, but I found no answer for my this.","link":"https://stackoverflow.com/questions/77558853/animations-not-working-on-all-android-devices","title":"Animations not working on all android devices","body":"<p>I have an issue with animations on some android devices.</p>\n<p>For example I have Infinix X6516 where all animations are working fine. Then I have 8A and there is not working a single animation. To be more precise, animations such as PopupWindow.setAnimationStyle() or ActivityOptions.makeCustomAnimation() and so on. Does anybody has solution for this? Ive seen a case <a href=\"https://stackoverflow.com/questions/11904656/animation-not-working-on-all-devices\">Animation not working on all devices</a>, but I found no answer for my this.</p>\n"},{"tags":["java","project-reactor"],"comments":[{"score":0,"post_type":"question","creation_date":1701096274,"post_id":77557671,"comment_id":136729162,"body_markdown":"check JMH Benchmarking Project :- https://github.com/openjdk/jmh","link":"https://stackoverflow.com/questions/77557671/performance-profiling-java-reactive-application#comment136729162_77557671","body":"check JMH Benchmarking Project :- <a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">github.com/openjdk/jmh</a>"},{"score":0,"post_type":"question","creation_date":1701097446,"post_id":77557671,"comment_id":136729398,"body_markdown":"@AmolGharpure thanks for commenting. I am looking for a tool that will work as jprofiler/asyncprofiler in nin-reactive apps. More like flame graphs that show which methods take most time and where are the hotspots that I could optimize. As far as I know jmh is a benchmark that can be used to find whether given workflow meets timing criteria, but it will not find the exact spot that is responsible for poor performance","link":"https://stackoverflow.com/questions/77557671/performance-profiling-java-reactive-application#comment136729398_77557671","body":"@AmolGharpure thanks for commenting. I am looking for a tool that will work as jprofiler/asyncprofiler in nin-reactive apps. More like flame graphs that show which methods take most time and where are the hotspots that I could optimize. As far as I know jmh is a benchmark that can be used to find whether given workflow meets timing criteria, but it will not find the exact spot that is responsible for poor performance"},{"score":0,"post_type":"question","creation_date":1701099536,"post_id":77557671,"comment_id":136729940,"body_markdown":"Questions asking us to [recommend or find a book](https://stackoverflow.com/help/on-topic), tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.","link":"https://stackoverflow.com/questions/77557671/performance-profiling-java-reactive-application#comment136729940_77557671","body":"Questions asking us to <a href=\"https://stackoverflow.com/help/on-topic\">recommend or find a book</a>, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it."},{"score":0,"post_type":"question","creation_date":1701103042,"post_id":77557671,"comment_id":136730676,"body_markdown":"@aled I appreciate your answer, but have you really read my question? The problem: finding hotspots in reactive application. What has been tried: I have used typical tools like visualVm to sample cpu. But the nature of reactive application makes it unusable","link":"https://stackoverflow.com/questions/77557671/performance-profiling-java-reactive-application#comment136730676_77557671","body":"@aled I appreciate your answer, but have you really read my question? The problem: finding hotspots in reactive application. What has been tried: I have used typical tools like visualVm to sample cpu. But the nature of reactive application makes it unusable"},{"score":0,"post_type":"question","creation_date":1701103773,"post_id":77557671,"comment_id":136730832,"body_markdown":"I was answering more to your previous comment: &quot;I am looking for a tool that will work as jprofiler/asyncprofiler in nin-reactive apps&quot;","link":"https://stackoverflow.com/questions/77557671/performance-profiling-java-reactive-application#comment136730832_77557671","body":"I was answering more to your previous comment: &quot;I am looking for a tool that will work as jprofiler/asyncprofiler in nin-reactive apps&quot;"}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701103402,"post_id":77558393,"comment_id":136730759,"body_markdown":"I know that zipkin automatically can track external calls (via grpc) or to db (littleharder, but doable with r2dbc).  How would you get timing of internal calls withing reactive application, like you mentioned, calls to services inside the app? Have you inserted some probes  by yourself in code?","link":"https://stackoverflow.com/questions/77557671/performance-profiling-java-reactive-application/77558393#comment136730759_77558393","body":"I know that zipkin automatically can track external calls (via grpc) or to db (littleharder, but doable with r2dbc).  How would you get timing of internal calls withing reactive application, like you mentioned, calls to services inside the app? Have you inserted some probes  by yourself in code?"},{"score":0,"post_type":"answer","creation_date":1701105975,"post_id":77558393,"comment_id":136731266,"body_markdown":"Edited post for tracking calls inside the app","link":"https://stackoverflow.com/questions/77557671/performance-profiling-java-reactive-application/77558393#comment136731266_77558393","body":"Edited post for tracking calls inside the app"},{"score":0,"post_type":"answer","creation_date":1701107288,"post_id":77558393,"comment_id":136731500,"body_markdown":"That looks really good. This could be the answer","link":"https://stackoverflow.com/questions/77557671/performance-profiling-java-reactive-application/77558393#comment136731500_77558393","body":"That looks really good. This could be the answer"}],"comment_count":3,"score":1,"last_activity_date":1701105952,"last_edit_date":1701105952,"creation_date":1701101878,"answer_id":77558393,"question_id":77557671,"body_markdown":"Maybe one solution could be to use a tracing system like sleuth/zipkin that would give you times across services and external calls.\r\nThen track down which service takes time depending on the request and then track with your visualvm\r\nAlso the zipkin can be used on prod afterwards if needed to keep tracking bottlenecks\r\n\r\nFor example a /first calls a /second service, all in reactor. The first has a sleep of 1.5s to simulate a slow response time.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AvCNt.png\r\n\r\n**To add specific method tracking**\r\neither register a bean\r\n\r\n    @Bean\r\n        public ObservedAspect observedAspect(ObservationRegistry observationRegistry) {\r\n            return new ObservedAspect(observationRegistry);\r\n        }\r\n\r\nthen you can use the **@Observed** annotation on the method you want to track.\r\n\r\nor use a decorator around a specific method (or directly create in the method but it&#39;s not clean)\r\n\r\n    Observation observation = Observation.start(&quot;MyImpl.findOne&quot;, observationRegistry);\r\n\r\nand do not forget to observation.stop()","link":"https://stackoverflow.com/questions/77557671/performance-profiling-java-reactive-application/77558393#77558393","title":"Performance profiling java reactive application","body":"<p>Maybe one solution could be to use a tracing system like sleuth/zipkin that would give you times across services and external calls.\nThen track down which service takes time depending on the request and then track with your visualvm\nAlso the zipkin can be used on prod afterwards if needed to keep tracking bottlenecks</p>\n<p>For example a /first calls a /second service, all in reactor. The first has a sleep of 1.5s to simulate a slow response time.\n<a href=\"https://i.stack.imgur.com/AvCNt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AvCNt.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>To add specific method tracking</strong>\neither register a bean</p>\n<pre><code>@Bean\n    public ObservedAspect observedAspect(ObservationRegistry observationRegistry) {\n        return new ObservedAspect(observationRegistry);\n    }\n</code></pre>\n<p>then you can use the <strong>@Observed</strong> annotation on the method you want to track.</p>\n<p>or use a decorator around a specific method (or directly create in the method but it's not clean)</p>\n<pre><code>Observation observation = Observation.start(&quot;MyImpl.findOne&quot;, observationRegistry);\n</code></pre>\n<p>and do not forget to observation.stop()</p>\n"}],"comment_count":5,"is_answered":true,"view_count":64,"answer_count":1,"score":0,"last_activity_date":1701105952,"creation_date":1701095451,"question_id":77557671,"body_markdown":"JVM has a great set of tools to find the hotspots in your application.\r\nBy enabling JMX and connecting with JProfiler / VisualVm we can quite quickly find methods that take most time in our workflow. \r\n\r\nHowever, reactive application (project-reactor) slices our workflow in unnamed tasks that may accept random threads. What is more, waiting for external resources is done in reactive manner, so we won&#39;t see that given access has blocked our workflow. \r\n\r\nDo you have any ideas how to profile reactive application efficiently?\r\nI would like to avoid inserting some probes in code and doing it by logging. \r\n\r\nProject reactor solved problem with shuttered stacktraces by introducing agent that gathers stacktraces when bubbling the error up, thus we can see the whole image of where was our program at the time of an error.\r\n\r\nWhat about profiling? Although methods that take some time by themselves (like fanaout when iterating on collections) will be spotted, most common problems that involve db or external services access will be not. \r\n\r\nLooking for your opinions.\r\nRegards","link":"https://stackoverflow.com/questions/77557671/performance-profiling-java-reactive-application","title":"Performance profiling java reactive application","body":"<p>JVM has a great set of tools to find the hotspots in your application.\nBy enabling JMX and connecting with JProfiler / VisualVm we can quite quickly find methods that take most time in our workflow.</p>\n<p>However, reactive application (project-reactor) slices our workflow in unnamed tasks that may accept random threads. What is more, waiting for external resources is done in reactive manner, so we won't see that given access has blocked our workflow.</p>\n<p>Do you have any ideas how to profile reactive application efficiently?\nI would like to avoid inserting some probes in code and doing it by logging.</p>\n<p>Project reactor solved problem with shuttered stacktraces by introducing agent that gathers stacktraces when bubbling the error up, thus we can see the whole image of where was our program at the time of an error.</p>\n<p>What about profiling? Although methods that take some time by themselves (like fanaout when iterating on collections) will be spotted, most common problems that involve db or external services access will be not.</p>\n<p>Looking for your opinions.\nRegards</p>\n"},{"tags":["java"],"comments":[{"score":4,"post_type":"question","creation_date":1701105802,"post_id":77558789,"comment_id":136731243,"body_markdown":"https://docs.oracle.com/javase/specs/jls/se21/html/jls-9.html#jls-9.8","link":"https://stackoverflow.com/questions/77558789/anonymous-functions-using-interface-with-multiple-methods#comment136731243_77558789","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-9.html#jls-9.8\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se21/html/jls-9.html#jls-9.&zwnj;&#8203;8</a>"},{"score":1,"post_type":"question","creation_date":1701106870,"post_id":77558789,"comment_id":136731418,"body_markdown":"The `Comparator` does not represent `Object#equals`, that method exists for _every_ object. Rather, `Comparator&lt;T&gt;` provides an `int compare(T left, T right);` abstract method (and explicitly re-states the `#equals` method). Note that you can have more than one method in a functional interface, but they must be static or defaulted. You can only have _one_ abstract method for an interface to be a _functional_ interface. The JLS link above adds an exception: public methods of `Object` are excluded (so 1:1 re-declaration of them will not count).","link":"https://stackoverflow.com/questions/77558789/anonymous-functions-using-interface-with-multiple-methods#comment136731418_77558789","body":"The <code>Comparator</code> does not represent <code>Object#equals</code>, that method exists for <i>every</i> object. Rather, <code>Comparator&lt;T&gt;</code> provides an <code>int compare(T left, T right);</code> abstract method (and explicitly re-states the <code>#equals</code> method). Note that you can have more than one method in a functional interface, but they must be static or defaulted. You can only have <i>one</i> abstract method for an interface to be a <i>functional</i> interface. The JLS link above adds an exception: public methods of <code>Object</code> are excluded (so 1:1 re-declaration of them will not count)."},{"score":0,"post_type":"question","creation_date":1701109509,"post_id":77558789,"comment_id":136731886,"body_markdown":"@Rogue https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html indicates equal and compare are both abstract so doesn’t Comparator have two abstract methods?","link":"https://stackoverflow.com/questions/77558789/anonymous-functions-using-interface-with-multiple-methods#comment136731886_77558789","body":"@Rogue <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a> indicates equal and compare are both abstract so doesn’t Comparator have two abstract methods?"},{"score":0,"post_type":"question","creation_date":1701112342,"post_id":77558789,"comment_id":136732342,"body_markdown":"@notaorb hence the exception from the JLS link: public methods of `Object` are excluded from this &quot;1 abstract method&quot; rule. Since `boolean equals(Object other)` is defined in `Object` (and no Object method is abstract to begin with, but that&#39;s an aside), then the abstract method `boolean equals(Object other);` isn&#39;t counted: it&#39;s already implicitly covered/implemented by anything that could implement the interface, including lambdas.","link":"https://stackoverflow.com/questions/77558789/anonymous-functions-using-interface-with-multiple-methods#comment136732342_77558789","body":"@notaorb hence the exception from the JLS link: public methods of <code>Object</code> are excluded from this &quot;1 abstract method&quot; rule. Since <code>boolean equals(Object other)</code> is defined in <code>Object</code> (and no Object method is abstract to begin with, but that&#39;s an aside), then the abstract method <code>boolean equals(Object other);</code> isn&#39;t counted: it&#39;s already implicitly covered/implemented by anything that could implement the interface, including lambdas."}],"comment_count":4,"is_answered":false,"view_count":48,"answer_count":0,"score":0,"last_activity_date":1701105634,"creation_date":1701105634,"question_id":77558789,"body_markdown":"What happens if `Predicate&lt;T&gt;` contains multiple methods?  It&#39;s my understanding if they have the same argument signature this is not allowed.\r\n\r\nI ask because I&#39;m considering the `Comparator&lt;T&gt;` interface and it has multiple methods in the interface, but with different signatures.  I look at `TreeSet&lt;T&gt;` constructor `TreeSet(Comparator&lt;? super E&gt; comparator)` and it accepts a lambda, yet I&#39;m confused how that lambda represents `equals(Object obj)`.  Can anyone clarify this?\r\n\r\n    interface Predicate&lt;T&gt; {\r\n        boolean test(T t);\r\n    }\r\n    \r\n    public static void printPersons(\r\n        List&lt;Person&gt; roster, Predicate&lt;Person&gt; tester) {\r\n    \r\n        for (Person p : roster) {\r\n            if (tester.test(p)) {\r\n                p.printPerson();\r\n            }\r\n        }\r\n    }\r\n    \r\n    printPersons(\r\n        roster,\r\n        (Person p) -&gt; p.getGender() == Person.Sex.MALE\r\n            &amp;&amp; p.getAge() &gt;= 18\r\n            &amp;&amp; p.getAge() &lt;= 25\r\n    );\r\n\r\n","link":"https://stackoverflow.com/questions/77558789/anonymous-functions-using-interface-with-multiple-methods","title":"Anonymous functions using interface with multiple methods?","body":"<p>What happens if <code>Predicate&lt;T&gt;</code> contains multiple methods?  It's my understanding if they have the same argument signature this is not allowed.</p>\n<p>I ask because I'm considering the <code>Comparator&lt;T&gt;</code> interface and it has multiple methods in the interface, but with different signatures.  I look at <code>TreeSet&lt;T&gt;</code> constructor <code>TreeSet(Comparator&lt;? super E&gt; comparator)</code> and it accepts a lambda, yet I'm confused how that lambda represents <code>equals(Object obj)</code>.  Can anyone clarify this?</p>\n<pre><code>interface Predicate&lt;T&gt; {\n    boolean test(T t);\n}\n\npublic static void printPersons(\n    List&lt;Person&gt; roster, Predicate&lt;Person&gt; tester) {\n\n    for (Person p : roster) {\n        if (tester.test(p)) {\n            p.printPerson();\n        }\n    }\n}\n\nprintPersons(\n    roster,\n    (Person p) -&gt; p.getGender() == Person.Sex.MALE\n        &amp;&amp; p.getAge() &gt;= 18\n        &amp;&amp; p.getAge() &lt;= 25\n);\n</code></pre>\n"},{"tags":["java","soap","digital-signature","xml-signature"],"comment_count":0,"is_answered":false,"view_count":33,"answer_count":0,"score":0,"last_activity_date":1701105442,"creation_date":1701084677,"last_edit_date":1701105442,"question_id":77556545,"body_markdown":"hello i am developing a service for a SOAP call with x509 authentication and i need to sign the body and timestamp, but i can&#39;t get it to work java side while in SoapUI it does.\r\n\r\n\r\nThe error (with java code) is SSF_API_SIGNER_ERORS A signing opration not be performed or failed\r\n\r\n\r\nthe configuration in soapUi is this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HXtLp.png\r\n\r\nwhile my signature code is this\r\n\r\n\r\n          private void createDetachedSignature(SOAPElement signatureElement, PrivateKey privateKey, SOAPElement securityTokenReference, SOAPBody soapBody, SOAPElement timestamp) throws Exception {\r\n            \r\n            \r\n                String providerName = System.getProperty\r\n                        (&quot;jsr105Provider&quot;, &quot;org.jcp.xml.dsig.internal.dom.XMLDSigRI&quot;);\r\n                XMLSignatureFactory xmlSignatureFactory = XMLSignatureFactory.getInstance(&quot;DOM&quot;,\r\n                        (Provider) Class.forName(providerName).newInstance());\r\n            \r\n            \r\n                //Digest method\r\n                javax.xml.crypto.dsig.DigestMethod digestMethod = xmlSignatureFactory.newDigestMethod(&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;, null);\r\n                ArrayList&lt;Transform&gt; transformList = new ArrayList&lt;Transform&gt;();\r\n            \r\n            \r\n                //Transform\r\n                Transform envTransform = xmlSignatureFactory.newTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;, (TransformParameterSpec) null);\r\n                transformList.add(envTransform);\r\n            \r\n            \r\n                //References\r\n            \r\n                ArrayList&lt;Reference&gt; refList = new ArrayList&lt;Reference&gt;();\r\n                Reference refTS = xmlSignatureFactory.newReference(&quot;#TS&quot;+UUID, digestMethod, transformList, null, null);\r\n                Reference refBody = xmlSignatureFactory.newReference(&quot;#Body&quot;+UUID, digestMethod, transformList, null, null);\r\n            \r\n            \r\n                refList.add(refBody);\r\n                refList.add(refTS);\r\n            \r\n            \r\n                javax.xml.crypto.dsig.CanonicalizationMethod cm = xmlSignatureFactory.newCanonicalizationMethod(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;,\r\n                        (C14NMethodParameterSpec) null);\r\n            \r\n                javax.xml.crypto.dsig.SignatureMethod sm = xmlSignatureFactory.newSignatureMethod(&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;, null);\r\n                SignedInfo signedInfo = xmlSignatureFactory.newSignedInfo(cm, sm, refList);\r\n            \r\n                signatureElement.setAttribute(&quot;Id&quot;, &quot;SIG&quot; + UUID);\r\n            \r\n                DOMSignContext signContext = new DOMSignContext(privateKey, signatureElement);\r\n                signContext.setDefaultNamespacePrefix(&quot;ds&quot;);\r\n                signContext.putNamespacePrefix(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;ds&quot;);\r\n            \r\n            \r\n                //These are required for new Java versions\r\n                signContext.setIdAttributeNS\r\n                        (soapBody,\r\n                                &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);\r\n            \r\n            \r\n                signContext.setIdAttributeNS\r\n                        (timestamp,\r\n                                &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);\r\n            \r\n            \r\n                KeyInfoFactory keyFactory = KeyInfoFactory.getInstance();\r\n                DOMStructure domKeyInfo = new DOMStructure(securityTokenReference);\r\n                javax.xml.crypto.dsig.keyinfo.KeyInfo keyInfo = keyFactory.newKeyInfo(java.util.Collections.singletonList(domKeyInfo));\r\n                if (securityTokenReference instanceof Element) {\r\n                    Element keyInfoElement = (Element) securityTokenReference;\r\n                    keyInfoElement.setAttribute(&quot;Id&quot;, &quot;KI&quot; + UUID);\r\n                }\r\n                javax.xml.crypto.dsig.XMLSignature signature = xmlSignatureFactory.newXMLSignature(signedInfo, keyInfo);\r\n                signContext.setBaseURI(&quot;&quot;);\r\n            \r\n            \r\n                signature.sign(signContext);\r\n                String signatureValue = getSignatureValueAsString(signatureElement);\r\n                System.out.println(&quot;Signature Value: &quot; + signatureValue);\r\n            \r\n            \r\n                Element canonicalizationMethodElement = (Element) signatureElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;CanonicalizationMethod&quot;).item(0);\r\n                addInclusiveNamespaces(canonicalizationMethodElement, &quot;soapenv urn&quot;);\r\n            \r\n                NodeList referenceNodes = signatureElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Reference&quot;);\r\n                for (int i = 0; i &lt; referenceNodes.getLength(); i++) {\r\n                    Element referenceElement = (Element) referenceNodes.item(i);\r\n                    Element transformsElement = (Element) referenceElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Transforms&quot;).item(0);\r\n                    Element transformElement = (Element) transformsElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Transform&quot;).item(0);\r\n            \r\n                    addInclusiveNamespaces(transformElement, &quot;wsse soapenv urn&quot;);\r\n                }\r\n            \r\n            \r\n            }\r\n\r\nI tried to compare the two requests and now I attach them to you\r\n\r\n\r\nSOAP UI REQUEST \r\n\r\n            &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n            xmlns:urn=&quot;urn:sap-com:document:sap:rfc:functions&quot;&gt;\r\n            &lt;soapenv:Header&gt;\r\n                &lt;wsse:Security\r\n                    xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n                    xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n                    &lt;wsse:BinarySecurityToken\r\n                        EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\r\n                        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\r\n                        wsu:Id=&quot;X509-8C92EF6DC231D5F4321700816423308691&quot;&gt;\r\n                        MIIIEjCCBfqgAwIBAgITHQAAZ/wkXidRhqKJ2wADAABn/DANBgkqhkiG...........&lt;/wsse:BinarySecurityToken&gt;\r\n                    &lt;wsu:Timestamp wsu:Id=&quot;TS-8C92EF6DC231D5F4321700816423307690&quot;&gt;\r\n                        &lt;wsu:Created&gt;2023-11-24T09:00:23Z&lt;/wsu:Created&gt;\r\n                        &lt;wsu:Expires&gt;2024-02-15T17:00:23Z&lt;/wsu:Expires&gt;\r\n                    &lt;/wsu:Timestamp&gt;\r\n                    &lt;ds:Signature Id=&quot;SIG-8C92EF6DC231D5F4321700816423348695&quot;\r\n                        xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n                        &lt;ds:SignedInfo&gt;\r\n                            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                &lt;ec:InclusiveNamespaces PrefixList=&quot;soapenv urn&quot;\r\n                                    xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n                            &lt;/ds:CanonicalizationMethod&gt;\r\n                            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\r\n                            &lt;ds:Reference URI=&quot;#TS-8C92EF6DC231D5F4321700816423307690&quot;&gt;\r\n                                &lt;ds:Transforms&gt;\r\n                                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                        &lt;ec:InclusiveNamespaces PrefixList=&quot;wsse soapenv urn&quot;\r\n                                            xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n                                    &lt;/ds:Transform&gt;\r\n                                &lt;/ds:Transforms&gt;\r\n                                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                                &lt;ds:DigestValue&gt;7KhZ1yTPuNhQ7OtTn32HcJQQ04U=&lt;/ds:DigestValue&gt;\r\n                            &lt;/ds:Reference&gt;\r\n                            &lt;ds:Reference URI=&quot;#id-8C92EF6DC231D5F4321700816423308694&quot;&gt;\r\n                                &lt;ds:Transforms&gt;\r\n                                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                        &lt;ec:InclusiveNamespaces PrefixList=&quot;&quot;\r\n                                            xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n                                    &lt;/ds:Transform&gt;\r\n                                &lt;/ds:Transforms&gt;\r\n                                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                                &lt;ds:DigestValue&gt;t5f22r+WwrehIN/rbI7EFwLq7tM=&lt;/ds:DigestValue&gt;\r\n                            &lt;/ds:Reference&gt;\r\n                        &lt;/ds:SignedInfo&gt;\r\n                        &lt;ds:SignatureValue&gt;\r\n                            KRttsmdFmqCRQyTmo6/Cgs1Vj8EZ1y9YbObETjtcvhNQUBRny7tIKZE3bH4TwR69L2x0MsosaAcefeuT/OkowAa............&lt;/ds:SignatureValue&gt;\r\n                        &lt;ds:KeyInfo Id=&quot;KI-8C92EF6DC231D5F4321700816423308692&quot;&gt;\r\n                            &lt;wsse:SecurityTokenReference wsu:Id=&quot;STR-8C92EF6DC231D5F4321700816423308693&quot;&gt;\r\n                                &lt;wsse:Reference URI=&quot;#X509-8C92EF6DC231D5F4321700816423308691&quot;\r\n                                    ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\r\n                            &lt;/wsse:SecurityTokenReference&gt;\r\n                        &lt;/ds:KeyInfo&gt;\r\n                    &lt;/ds:Signature&gt;\r\n                &lt;/wsse:Security&gt;\r\n            &lt;/soapenv:Header&gt;\r\n            &lt;soapenv:Body wsu:Id=&quot;id-8C92EF6DC231D5F4321700816423308694&quot;\r\n                xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n                &lt;urn:SCHEMA_CC&gt;\r\n                    &lt;IV_BP&gt;3960915933&lt;/IV_BP&gt;\r\n                &lt;/urn:SCHEMA_CC&gt;\r\n            &lt;/soapenv:Body&gt;\r\n        &lt;/soapenv:Envelope&gt;\r\n\r\n\r\nMy request java \r\n\r\n \r\n\r\n                &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n                xmlns:urn=&quot;urn:sap-com:document:sap:rfc:functions&quot;&gt;\r\n                &lt;soapenv:Header&gt;\r\n                    &lt;wsse:Security\r\n                        xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n                        xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n                        Id=&quot;SIG-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                        &lt;wsu:Timestamp wsu:Id=&quot;TS-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                            &lt;wsu:Created&gt;2023-11-24T08:18:32Z&lt;/wsu:Created&gt;\r\n                            &lt;wsu:Expires&gt;2023-11-24T08:19:02Z&lt;/wsu:Expires&gt;\r\n                        &lt;/wsu:Timestamp&gt;\r\n                        &lt;wsse:BinarySecurityToken\r\n                            EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\r\n                            ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\r\n                            wsu:Id=&quot;X509Token-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                            MIIIEjCCBfqgAwIBAgITHQAAZ/wkXidRhqKJ2wADAABn..........&lt;/wsse:BinarySecurityToken&gt;\r\n                        &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n                            &lt;ds:SignedInfo&gt;\r\n                                &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                    &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                                        PrefixList=&quot;soapenv urn&quot; /&gt;\r\n                                &lt;/ds:CanonicalizationMethod&gt;\r\n                                &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\r\n                                &lt;ds:Reference URI=&quot;#Body-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                                    &lt;ds:Transforms&gt;\r\n                                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                            &lt;ec:InclusiveNamespaces\r\n                                                xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                                                PrefixList=&quot;wsse soapenv urn&quot; /&gt;\r\n                                        &lt;/ds:Transform&gt;\r\n                                    &lt;/ds:Transforms&gt;\r\n                                    &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                                    &lt;ds:DigestValue&gt;qOQ+Nv9QAe63RePMKZkCfn2a8xI=&lt;/ds:DigestValue&gt;\r\n                                &lt;/ds:Reference&gt;\r\n                                &lt;ds:Reference URI=&quot;#TS-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                                    &lt;ds:Transforms&gt;\r\n                                        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                                            &lt;ec:InclusiveNamespaces\r\n                                                xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n                                                PrefixList=&quot;wsse soapenv urn&quot; /&gt;\r\n                                        &lt;/ds:Transform&gt;\r\n                                    &lt;/ds:Transforms&gt;\r\n                                    &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n                                    &lt;ds:DigestValue&gt;grbt4GpvYhKKUaetcW2HHMm91Mw=&lt;/ds:DigestValue&gt;\r\n                                &lt;/ds:Reference&gt;\r\n                            &lt;/ds:SignedInfo&gt;\r\n                            &lt;ds:SignatureValue&gt;agesPe4aOZPE9m1aI17MDz+oE5V7YNk7ox6q1WvmHWjd7EdH4XdqVq62dMnqkE2RRbI5TafX1qnK&amp;#13;\r\n                                udGLnMFcZu/gIYMUYmZ1RrwO6y39tLDWii8hEIZMYj/jIzAqi6d1jXh8GOjtmflYnIsRnidFgokV&amp;#13;\r\n                                /fgoMn7c548QlvEPyCokgFlS/aF4OF5uKqnb/yJ2ilRbeJBlG9QCO5rEUGmgeZ0untABzP+w76yg&amp;#13;\r\n                                PTkPaDTC8UHDQsG4XWMTYL+dyGfnHpYdqz5v+4BI53KfG0V7eqbdCZj9dzYN2MEel1NrgqQP2uQ8&amp;#13;\r\n                                .........&lt;/ds:SignatureValue&gt;\r\n                            &lt;ds:KeyInfo&gt;\r\n                                &lt;wsse:SecurityTokenReference Id=&quot;KI-1B1352404FC17AFA99AD1B962FA2A67E&quot;\r\n                                    wsu:Id=&quot;STR-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                                    &lt;wsse:Reference URI=&quot;#X509Token-1B1352404FC17AFA99AD1B962FA2A67E&quot;\r\n                                        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\r\n                                &lt;/wsse:SecurityTokenReference&gt;\r\n                            &lt;/ds:KeyInfo&gt;\r\n                        &lt;/ds:Signature&gt;\r\n                    &lt;/wsse:Security&gt;\r\n                &lt;/soapenv:Header&gt;\r\n                &lt;soapenv:Body\r\n                    xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n                    wsu:Id=&quot;Body-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\r\n                    &lt;urn:GET_SCHEMA_CC xmlns:urn=&quot;http://www.example.com/urn&quot;&gt;\r\n                            &lt;IV_BP&gt;3960915933&lt;/IV_BP&gt;\r\n                    \r\n                    &lt;/urn:GET_SCHEMA_CC&gt;\r\n                &lt;/soapenv:Body&gt;\r\n            &lt;/soapenv:Envelope&gt;\r\n\r\nThe way to put the certificate in the securityBinaryToken seems correct to me, while the signature I don&#39;t know if it is the correct way to do it.\r\n\r\n","link":"https://stackoverflow.com/questions/77556545/soap-sw-security-signature-binary-token-and-timestamp","title":"SOAP SW-SECURITY SIGNATURE BINARY_TOKEN AND TIMESTAMP","body":"<p>hello i am developing a service for a SOAP call with x509 authentication and i need to sign the body and timestamp, but i can't get it to work java side while in SoapUI it does.</p>\n<p>The error (with java code) is SSF_API_SIGNER_ERORS A signing opration not be performed or failed</p>\n<p>the configuration in soapUi is this</p>\n<p><a href=\"https://i.stack.imgur.com/HXtLp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HXtLp.png\" alt=\"enter image description here\" /></a></p>\n<p>while my signature code is this</p>\n<pre><code>      private void createDetachedSignature(SOAPElement signatureElement, PrivateKey privateKey, SOAPElement securityTokenReference, SOAPBody soapBody, SOAPElement timestamp) throws Exception {\n        \n        \n            String providerName = System.getProperty\n                    (&quot;jsr105Provider&quot;, &quot;org.jcp.xml.dsig.internal.dom.XMLDSigRI&quot;);\n            XMLSignatureFactory xmlSignatureFactory = XMLSignatureFactory.getInstance(&quot;DOM&quot;,\n                    (Provider) Class.forName(providerName).newInstance());\n        \n        \n            //Digest method\n            javax.xml.crypto.dsig.DigestMethod digestMethod = xmlSignatureFactory.newDigestMethod(&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;, null);\n            ArrayList&lt;Transform&gt; transformList = new ArrayList&lt;Transform&gt;();\n        \n        \n            //Transform\n            Transform envTransform = xmlSignatureFactory.newTransform(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;, (TransformParameterSpec) null);\n            transformList.add(envTransform);\n        \n        \n            //References\n        \n            ArrayList&lt;Reference&gt; refList = new ArrayList&lt;Reference&gt;();\n            Reference refTS = xmlSignatureFactory.newReference(&quot;#TS&quot;+UUID, digestMethod, transformList, null, null);\n            Reference refBody = xmlSignatureFactory.newReference(&quot;#Body&quot;+UUID, digestMethod, transformList, null, null);\n        \n        \n            refList.add(refBody);\n            refList.add(refTS);\n        \n        \n            javax.xml.crypto.dsig.CanonicalizationMethod cm = xmlSignatureFactory.newCanonicalizationMethod(&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;,\n                    (C14NMethodParameterSpec) null);\n        \n            javax.xml.crypto.dsig.SignatureMethod sm = xmlSignatureFactory.newSignatureMethod(&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;, null);\n            SignedInfo signedInfo = xmlSignatureFactory.newSignedInfo(cm, sm, refList);\n        \n            signatureElement.setAttribute(&quot;Id&quot;, &quot;SIG&quot; + UUID);\n        \n            DOMSignContext signContext = new DOMSignContext(privateKey, signatureElement);\n            signContext.setDefaultNamespacePrefix(&quot;ds&quot;);\n            signContext.putNamespacePrefix(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;ds&quot;);\n        \n        \n            //These are required for new Java versions\n            signContext.setIdAttributeNS\n                    (soapBody,\n                            &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);\n        \n        \n            signContext.setIdAttributeNS\n                    (timestamp,\n                            &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;, &quot;Id&quot;);\n        \n        \n            KeyInfoFactory keyFactory = KeyInfoFactory.getInstance();\n            DOMStructure domKeyInfo = new DOMStructure(securityTokenReference);\n            javax.xml.crypto.dsig.keyinfo.KeyInfo keyInfo = keyFactory.newKeyInfo(java.util.Collections.singletonList(domKeyInfo));\n            if (securityTokenReference instanceof Element) {\n                Element keyInfoElement = (Element) securityTokenReference;\n                keyInfoElement.setAttribute(&quot;Id&quot;, &quot;KI&quot; + UUID);\n            }\n            javax.xml.crypto.dsig.XMLSignature signature = xmlSignatureFactory.newXMLSignature(signedInfo, keyInfo);\n            signContext.setBaseURI(&quot;&quot;);\n        \n        \n            signature.sign(signContext);\n            String signatureValue = getSignatureValueAsString(signatureElement);\n            System.out.println(&quot;Signature Value: &quot; + signatureValue);\n        \n        \n            Element canonicalizationMethodElement = (Element) signatureElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;CanonicalizationMethod&quot;).item(0);\n            addInclusiveNamespaces(canonicalizationMethodElement, &quot;soapenv urn&quot;);\n        \n            NodeList referenceNodes = signatureElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Reference&quot;);\n            for (int i = 0; i &lt; referenceNodes.getLength(); i++) {\n                Element referenceElement = (Element) referenceNodes.item(i);\n                Element transformsElement = (Element) referenceElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Transforms&quot;).item(0);\n                Element transformElement = (Element) transformsElement.getElementsByTagNameNS(&quot;http://www.w3.org/2000/09/xmldsig#&quot;, &quot;Transform&quot;).item(0);\n        \n                addInclusiveNamespaces(transformElement, &quot;wsse soapenv urn&quot;);\n            }\n        \n        \n        }\n</code></pre>\n<p>I tried to compare the two requests and now I attach them to you</p>\n<p>SOAP UI REQUEST</p>\n<pre><code>        &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n        xmlns:urn=&quot;urn:sap-com:document:sap:rfc:functions&quot;&gt;\n        &lt;soapenv:Header&gt;\n            &lt;wsse:Security\n                xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\n                xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\n                &lt;wsse:BinarySecurityToken\n                    EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\n                    ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\n                    wsu:Id=&quot;X509-8C92EF6DC231D5F4321700816423308691&quot;&gt;\n                    MIIIEjCCBfqgAwIBAgITHQAAZ/wkXidRhqKJ2wADAABn/DANBgkqhkiG...........&lt;/wsse:BinarySecurityToken&gt;\n                &lt;wsu:Timestamp wsu:Id=&quot;TS-8C92EF6DC231D5F4321700816423307690&quot;&gt;\n                    &lt;wsu:Created&gt;2023-11-24T09:00:23Z&lt;/wsu:Created&gt;\n                    &lt;wsu:Expires&gt;2024-02-15T17:00:23Z&lt;/wsu:Expires&gt;\n                &lt;/wsu:Timestamp&gt;\n                &lt;ds:Signature Id=&quot;SIG-8C92EF6DC231D5F4321700816423348695&quot;\n                    xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n                    &lt;ds:SignedInfo&gt;\n                        &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                            &lt;ec:InclusiveNamespaces PrefixList=&quot;soapenv urn&quot;\n                                xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\n                        &lt;/ds:CanonicalizationMethod&gt;\n                        &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\n                        &lt;ds:Reference URI=&quot;#TS-8C92EF6DC231D5F4321700816423307690&quot;&gt;\n                            &lt;ds:Transforms&gt;\n                                &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                    &lt;ec:InclusiveNamespaces PrefixList=&quot;wsse soapenv urn&quot;\n                                        xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\n                                &lt;/ds:Transform&gt;\n                            &lt;/ds:Transforms&gt;\n                            &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                            &lt;ds:DigestValue&gt;7KhZ1yTPuNhQ7OtTn32HcJQQ04U=&lt;/ds:DigestValue&gt;\n                        &lt;/ds:Reference&gt;\n                        &lt;ds:Reference URI=&quot;#id-8C92EF6DC231D5F4321700816423308694&quot;&gt;\n                            &lt;ds:Transforms&gt;\n                                &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                    &lt;ec:InclusiveNamespaces PrefixList=&quot;&quot;\n                                        xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\n                                &lt;/ds:Transform&gt;\n                            &lt;/ds:Transforms&gt;\n                            &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                            &lt;ds:DigestValue&gt;t5f22r+WwrehIN/rbI7EFwLq7tM=&lt;/ds:DigestValue&gt;\n                        &lt;/ds:Reference&gt;\n                    &lt;/ds:SignedInfo&gt;\n                    &lt;ds:SignatureValue&gt;\n                        KRttsmdFmqCRQyTmo6/Cgs1Vj8EZ1y9YbObETjtcvhNQUBRny7tIKZE3bH4TwR69L2x0MsosaAcefeuT/OkowAa............&lt;/ds:SignatureValue&gt;\n                    &lt;ds:KeyInfo Id=&quot;KI-8C92EF6DC231D5F4321700816423308692&quot;&gt;\n                        &lt;wsse:SecurityTokenReference wsu:Id=&quot;STR-8C92EF6DC231D5F4321700816423308693&quot;&gt;\n                            &lt;wsse:Reference URI=&quot;#X509-8C92EF6DC231D5F4321700816423308691&quot;\n                                ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\n                        &lt;/wsse:SecurityTokenReference&gt;\n                    &lt;/ds:KeyInfo&gt;\n                &lt;/ds:Signature&gt;\n            &lt;/wsse:Security&gt;\n        &lt;/soapenv:Header&gt;\n        &lt;soapenv:Body wsu:Id=&quot;id-8C92EF6DC231D5F4321700816423308694&quot;\n            xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\n            &lt;urn:SCHEMA_CC&gt;\n                &lt;IV_BP&gt;3960915933&lt;/IV_BP&gt;\n            &lt;/urn:SCHEMA_CC&gt;\n        &lt;/soapenv:Body&gt;\n    &lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>My request java</p>\n<pre><code>            &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n            xmlns:urn=&quot;urn:sap-com:document:sap:rfc:functions&quot;&gt;\n            &lt;soapenv:Header&gt;\n                &lt;wsse:Security\n                    xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\n                    xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\n                    Id=&quot;SIG-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                    &lt;wsu:Timestamp wsu:Id=&quot;TS-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                        &lt;wsu:Created&gt;2023-11-24T08:18:32Z&lt;/wsu:Created&gt;\n                        &lt;wsu:Expires&gt;2023-11-24T08:19:02Z&lt;/wsu:Expires&gt;\n                    &lt;/wsu:Timestamp&gt;\n                    &lt;wsse:BinarySecurityToken\n                        EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\n                        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\n                        wsu:Id=&quot;X509Token-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                        MIIIEjCCBfqgAwIBAgITHQAAZ/wkXidRhqKJ2wADAABn..........&lt;/wsse:BinarySecurityToken&gt;\n                    &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n                        &lt;ds:SignedInfo&gt;\n                            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                                    PrefixList=&quot;soapenv urn&quot; /&gt;\n                            &lt;/ds:CanonicalizationMethod&gt;\n                            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt;\n                            &lt;ds:Reference URI=&quot;#Body-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                                &lt;ds:Transforms&gt;\n                                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                        &lt;ec:InclusiveNamespaces\n                                            xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                                            PrefixList=&quot;wsse soapenv urn&quot; /&gt;\n                                    &lt;/ds:Transform&gt;\n                                &lt;/ds:Transforms&gt;\n                                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                                &lt;ds:DigestValue&gt;qOQ+Nv9QAe63RePMKZkCfn2a8xI=&lt;/ds:DigestValue&gt;\n                            &lt;/ds:Reference&gt;\n                            &lt;ds:Reference URI=&quot;#TS-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                                &lt;ds:Transforms&gt;\n                                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                                        &lt;ec:InclusiveNamespaces\n                                            xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n                                            PrefixList=&quot;wsse soapenv urn&quot; /&gt;\n                                    &lt;/ds:Transform&gt;\n                                &lt;/ds:Transforms&gt;\n                                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\n                                &lt;ds:DigestValue&gt;grbt4GpvYhKKUaetcW2HHMm91Mw=&lt;/ds:DigestValue&gt;\n                            &lt;/ds:Reference&gt;\n                        &lt;/ds:SignedInfo&gt;\n                        &lt;ds:SignatureValue&gt;agesPe4aOZPE9m1aI17MDz+oE5V7YNk7ox6q1WvmHWjd7EdH4XdqVq62dMnqkE2RRbI5TafX1qnK&amp;#13;\n                            udGLnMFcZu/gIYMUYmZ1RrwO6y39tLDWii8hEIZMYj/jIzAqi6d1jXh8GOjtmflYnIsRnidFgokV&amp;#13;\n                            /fgoMn7c548QlvEPyCokgFlS/aF4OF5uKqnb/yJ2ilRbeJBlG9QCO5rEUGmgeZ0untABzP+w76yg&amp;#13;\n                            PTkPaDTC8UHDQsG4XWMTYL+dyGfnHpYdqz5v+4BI53KfG0V7eqbdCZj9dzYN2MEel1NrgqQP2uQ8&amp;#13;\n                            .........&lt;/ds:SignatureValue&gt;\n                        &lt;ds:KeyInfo&gt;\n                            &lt;wsse:SecurityTokenReference Id=&quot;KI-1B1352404FC17AFA99AD1B962FA2A67E&quot;\n                                wsu:Id=&quot;STR-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                                &lt;wsse:Reference URI=&quot;#X509Token-1B1352404FC17AFA99AD1B962FA2A67E&quot;\n                                    ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot; /&gt;\n                            &lt;/wsse:SecurityTokenReference&gt;\n                        &lt;/ds:KeyInfo&gt;\n                    &lt;/ds:Signature&gt;\n                &lt;/wsse:Security&gt;\n            &lt;/soapenv:Header&gt;\n            &lt;soapenv:Body\n                xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\n                wsu:Id=&quot;Body-1B1352404FC17AFA99AD1B962FA2A67E&quot;&gt;\n                &lt;urn:GET_SCHEMA_CC xmlns:urn=&quot;http://www.example.com/urn&quot;&gt;\n                        &lt;IV_BP&gt;3960915933&lt;/IV_BP&gt;\n                \n                &lt;/urn:GET_SCHEMA_CC&gt;\n            &lt;/soapenv:Body&gt;\n        &lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>The way to put the certificate in the securityBinaryToken seems correct to me, while the signature I don't know if it is the correct way to do it.</p>\n"},{"tags":["java","c#","serial-port","com-port"],"comments":[{"score":0,"post_type":"question","creation_date":1700729898,"post_id":77535130,"comment_id":136690971,"body_markdown":"Is the behavior also inverted for other devices on the C# program? Meaning: The particular device in question results in ok output in C# and fails in java. Other devices result in ok output on java, but do they fail on C#? **If so**, then my guess would be that there is a configuration _on that particular device_ that&#39;s probably different from the others. If not, it cannot hurt to check that, anyway.","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is#comment136690971_77535130","body":"Is the behavior also inverted for other devices on the C# program? Meaning: The particular device in question results in ok output in C# and fails in java. Other devices result in ok output on java, but do they fail on C#? <b>If so</b>, then my guess would be that there is a configuration <i>on that particular device</i> that&#39;s probably different from the others. If not, it cannot hurt to check that, anyway."},{"score":0,"post_type":"question","creation_date":1700730103,"post_id":77535130,"comment_id":136691005,"body_markdown":"The interesting code would have been the implementations of the reading parts, btw. That&#39;s in C# the DataReceived-EventHandler, for example. _Maybe_ (have seen that in the past) it&#39;s as simple as a config for which line-endings to use...","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is#comment136691005_77535130","body":"The interesting code would have been the implementations of the reading parts, btw. That&#39;s in C# the DataReceived-EventHandler, for example. <i>Maybe</i> (have seen that in the past) it&#39;s as simple as a config for which line-endings to use..."},{"score":0,"post_type":"question","creation_date":1700795979,"post_id":77535130,"comment_id":136699862,"body_markdown":"no, there is no inverted result, i have also tested on some other device, and both java and c# can receive normal output, but only this particular device will return corrupted data in java while C# can still run normally, and I really have no idea on fixing the Java program.","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is#comment136699862_77535130","body":"no, there is no inverted result, i have also tested on some other device, and both java and c# can receive normal output, but only this particular device will return corrupted data in java while C# can still run normally, and I really have no idea on fixing the Java program."},{"score":0,"post_type":"question","creation_date":1700811379,"post_id":77535130,"comment_id":136701163,"body_markdown":"That is _very_ odd. But that also means that this very particular device must be sending data that is oh so _slightly_ different to the others&#39; that it affects the java but not C#. Right now, I cannot think of anything outside a line-ending that could do that, but there may be other things. So, if you cannot just use the C#, it may be worthwhile to inspect the raw data minisculy &quot;under the microscope&quot; to detect any systematic differences. When you find some, you&#39;ll probably be able to track down their cause and either account for it or change it or both.","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is#comment136701163_77535130","body":"That is <i>very</i> odd. But that also means that this very particular device must be sending data that is oh so <i>slightly</i> different to the others&#39; that it affects the java but not C#. Right now, I cannot think of anything outside a line-ending that could do that, but there may be other things. So, if you cannot just use the C#, it may be worthwhile to inspect the raw data minisculy &quot;under the microscope&quot; to detect any systematic differences. When you find some, you&#39;ll probably be able to track down their cause and either account for it or change it or both."},{"score":0,"post_type":"question","creation_date":1701048786,"post_id":77535130,"comment_id":136723036,"body_markdown":"Thank you very much, I will try to investigate in this direction","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is#comment136723036_77535130","body":"Thank you very much, I will try to investigate in this direction"}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1700728449,"post_id":77535254,"comment_id":136690707,"body_markdown":"I&#39;m very sorry. I just discovered that I made a typo in the C# part. In fact, when I was testing this device, the settings for both programs were exactly the same.","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is/77535254#comment136690707_77535254","body":"I&#39;m very sorry. I just discovered that I made a typo in the C# part. In fact, when I was testing this device, the settings for both programs were exactly the same."},{"score":0,"post_type":"answer","creation_date":1700730276,"post_id":77535254,"comment_id":136691037,"body_markdown":"@LEEHin Look at https://github.com/Fazecast/jSerialComm/wiki/Usage-Examples  and choose according to your needs. You can choose `Event Based Reading`, because C# uses events too.","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is/77535254#comment136691037_77535254","body":"@LEEHin Look at <a href=\"https://github.com/Fazecast/jSerialComm/wiki/Usage-Examples\" rel=\"nofollow noreferrer\">github.com/Fazecast/jSerialComm/wiki/Usage-Examples</a>  and choose according to your needs. You can choose <code>Event Based Reading</code>, because C# uses events too."},{"score":0,"post_type":"answer","creation_date":1700794780,"post_id":77535254,"comment_id":136699786,"body_markdown":"I did use Event Based Reading in my java program, but still receiving the corrupted data, I just add the code section of Data listening of both program.","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is/77535254#comment136699786_77535254","body":"I did use Event Based Reading in my java program, but still receiving the corrupted data, I just add the code section of Data listening of both program."},{"score":0,"post_type":"answer","creation_date":1700804090,"post_id":77535254,"comment_id":136700378,"body_markdown":"@LEEHin I have added the code, please try it.","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is/77535254#comment136700378_77535254","body":"@LEEHin I have added the code, please try it."},{"score":0,"post_type":"answer","creation_date":1700816292,"post_id":77535254,"comment_id":136701929,"body_markdown":"@LEEHin Is the `last character` of your package a `CR LF` character? if so, you can use `ByteArrayOutputStream` to collect `readBuffer` until `CR LF` character are found. Don&#39;t forget to `reset()` the stream when the data has been found.","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is/77535254#comment136701929_77535254","body":"@LEEHin Is the <code>last character</code> of your package a <code>CR LF</code> character? if so, you can use <code>ByteArrayOutputStream</code> to collect <code>readBuffer</code> until <code>CR LF</code> character are found. Don&#39;t forget to <code>reset()</code> the stream when the data has been found."},{"score":0,"post_type":"answer","creation_date":1701048661,"post_id":77535254,"comment_id":136723026,"body_markdown":"Yes, my data does contain ```CR LF```. My java program will write log and proceed to the next step after receiving ```CR LF```. And the result is shown as the above java log.","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is/77535254#comment136723026_77535254","body":"Yes, my data does contain <code>CR LF</code>. My java program will write log and proceed to the next step after receiving <code>CR LF</code>. And the result is shown as the above java log."},{"score":0,"post_type":"answer","creation_date":1701105187,"post_id":77535254,"comment_id":136731122,"body_markdown":"@LEEHin I have updated the code,","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is/77535254#comment136731122_77535254","body":"@LEEHin I have updated the code,"}],"comment_count":7,"score":0,"last_activity_date":1701105090,"last_edit_date":1701105090,"creation_date":1700727063,"answer_id":77535254,"question_id":77535130,"body_markdown":"Try like this:\r\n\r\n\timport java.io.ByteArrayOutputStream;\r\n\timport java.io.IOException;\r\n\timport java.util.Arrays;\r\n\r\n    private final static char CR = (char)0x0D;\r\n    private final static char LF = (char)0x0A;\r\n    private final static ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n\r\n    public static String bytesToHex(byte[] bytes) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (byte b : bytes) {\r\n          sb.append(String.format(&quot;%02x&quot;, b));\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n\tpublic void readComm() {\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\t// if data available\r\n\t\t\tint length = serialPort.bytesAvailable();\r\n\r\n\t\t\tif(length &gt; 0) {\t\t\r\n\r\n\t\t\t\t// read buffer\r\n\t\t\t\tbyte[] readBuffer = new byte[length];\r\n\t\t\t\t\r\n\t\t\t\t// read bytes and store in read readBuffer\r\n\t\t\t\tint numRead = serialPort.readBytes(readBuffer, readBuffer.length);\r\n\r\n\t\t\t\t// print length of data\r\n\t\t\t\tSystem.out.println(&quot;Read &quot; + numRead + &quot; bytes.&quot;);\r\n\r\n                // append data to stream \r\n                stream.write(readBuffer);\r\n\r\n                // stream to byte array\r\n                byte[] packets = stream.toByteArray();\r\n\r\n                // parsing data\r\n                for (int i = 0; i &lt; packets.length; ++i) {\t\t\t\t\r\n\r\n\t\t\t\t\t// detect CR LF on packets\r\n                    if(((char)packets[i] == CR) &amp;&amp; ((char)packets[i+1] == LF)) {\r\n\r\n\t\t\t\t\t\t// read completed data\r\n\t\t\t\t\t\tbyte[] completed = Arrays.copyOfRange(packets, 0, i);\r\n\t\t\t\t\t\tSystem.out.println(bytesToHex(completed));\r\n\r\n\t\t\t\t\t\t// stream discarded\r\n\t\t\t\t\t\tstream.reset(); \r\n\r\n                        // out looping\r\n                        break;\r\n                    }\r\n                }\r\n\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\t\t\tSystem.out.println(ex.getMessage());\r\n\t\t}\r\n\t}","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is/77535254#77535254","title":"Data corruption issue in Java program using jSerialComm library, but in C# it is OK","body":"<p>Try like this:</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.Arrays;\n\nprivate final static char CR = (char)0x0D;\nprivate final static char LF = (char)0x0A;\nprivate final static ByteArrayOutputStream stream = new ByteArrayOutputStream();\n\npublic static String bytesToHex(byte[] bytes) {\n    StringBuilder sb = new StringBuilder();\n    for (byte b : bytes) {\n      sb.append(String.format(&quot;%02x&quot;, b));\n    }\n    return sb.toString();\n}\n\npublic void readComm() {\n    try {\n        \n        // if data available\n        int length = serialPort.bytesAvailable();\n\n        if(length &gt; 0) {        \n\n            // read buffer\n            byte[] readBuffer = new byte[length];\n            \n            // read bytes and store in read readBuffer\n            int numRead = serialPort.readBytes(readBuffer, readBuffer.length);\n\n            // print length of data\n            System.out.println(&quot;Read &quot; + numRead + &quot; bytes.&quot;);\n\n            // append data to stream \n            stream.write(readBuffer);\n\n            // stream to byte array\n            byte[] packets = stream.toByteArray();\n\n            // parsing data\n            for (int i = 0; i &lt; packets.length; ++i) {              \n\n                // detect CR LF on packets\n                if(((char)packets[i] == CR) &amp;&amp; ((char)packets[i+1] == LF)) {\n\n                    // read completed data\n                    byte[] completed = Arrays.copyOfRange(packets, 0, i);\n                    System.out.println(bytesToHex(completed));\n\n                    // stream discarded\n                    stream.reset(); \n\n                    // out looping\n                    break;\n                }\n            }\n        }\n    } catch (Exception ex) {\n        System.out.println(ex.getMessage());\n    }\n}\n</code></pre>\n"}],"comment_count":5,"is_answered":false,"view_count":105,"answer_count":1,"score":2,"last_activity_date":1701105090,"creation_date":1700725584,"last_edit_date":1700794673,"question_id":77535130,"body_markdown":"I have a Java program that communicates with various devices to retrieve data via serial communication. I&#39;m using the jSerialComm library for this purpose.\r\n\r\nHowever, when I retrieve data from a particular device using this Java program, the data appears to be corrupted.\r\n\r\nSurprisingly, when I use a C# program without any external libraries to retrieve data from the same device, the data is received correctly, without any corruption.\r\n\r\nThe device configuration settings are as follows:\r\n\r\n```\r\nPort: COM3\r\nBaudRate: 2400\r\nParity: EVEN\r\nDatabits: 7\r\nStopbits: 1\r\n```\r\n- In my Java program, I&#39;m using the jSerialComm library, while in the C# program, I&#39;m not utilizing any external libraries.\r\n\r\n- My Java program can successfully detect and retrieve normal data from other devices using the same communication settings. The data corruption issue seems to be specific to this particular device.\r\n\r\nI have compared the logs from both programs and observed that the C# program consistently receives the expected data, whereas the Java program consistently receives corrupted data from this specific device. I have also attempted to modify the baud rate and parity settings in the Java program, but the issue persists.\r\n\r\nJava Program Connect Device:\r\n\r\n```\r\nSerialPort[] serialPorts = SerialPort.getCommPorts();\r\nfor (SerialPort port : serialPorts) {\r\n                if (DEVICE_PORT.equals(port.getSystemPortName())) {\r\n                    bolFound = true;\r\n                    serialPort = port;\r\n                    try {\r\n                        log.info(&quot;Opening port &#39;&quot; + DEVICE_PORT + &quot;&#39;...&quot;);\r\n                        log.info(&quot;Connecting to device &#39;&quot; + DEVICE_NAME + &quot;&#39;...&quot;);\r\n\r\n                        serialPort.setComPortParameters(DEVICE_RATE, DEVICE_DATABITS, DEVICE_STOPBITS, DEVICE_PARITY);\r\n                        serialPort.addDataListener(this);\r\n                        serialPort.openPort();\r\n\r\n...........\r\n```\r\nJava Data listening:\r\n```\r\n@Override\r\npublic int getListeningEvents() {\r\n    return SerialPort.LISTENING_EVENT_DATA_AVAILABLE;\r\n}\r\n\r\n@Override\r\npublic void serialEvent(SerialPortEvent event) {\r\n    switch (event.getEventType()) {\r\n        case SerialPort.LISTENING_EVENT_DATA_AVAILABLE:\r\n            readComm();\r\n            break;\r\n        default:\r\n            log.info(&quot;XXX default&quot;);\r\n            break;\r\n    }\r\n}\r\n\r\npublic void readComm() {\r\n\tlog.info(AppConfig.getInstance().getProperty(AppConfig.KEY_TEST_PORT, String.class) + &quot; Reading Comm...&quot;);\r\n\tbyte[] readBuffer = new byte[1024];\r\n\ttry {\r\n\t\tinputStream = serialPort.getInputStream();\r\n\t\tint len = 0;\r\n\t\t\t\r\n\t\twhile ((len = inputStream.read(readBuffer)) != -1) {\r\n\t\t\tlog.info(&quot;Real Time Response:&quot; + new String(readBuffer, 0, len));\r\n\t\t\tvalue += new String(readBuffer, 0, len);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tlog.info(&quot;value:&quot; + value);\r\n\r\n\t\tif (isDataReady) {\r\n\t\t\t// process data\r\n\t\t\tvalue = &quot;&quot;; //reset data\r\n\t\t}\r\n\r\n\t} catch (IOException e) {\r\n\t\tintNumberOfFailure++;\r\n\t}\r\n}\r\n```\r\n\r\nJava Program Log File:\r\n```\r\n2023-11-09 10:38:58.165  INFO 21320 [Thread-117 thread] h.h.c.v.l.BaseListener                   : Trying to init Test Listener (COM5)...\r\n2023-11-09 10:38:58.350  INFO 21320 [Thread-117 thread] h.h.c.v.l.BaseListener                   : Opening port &#39;COM5&#39;...\r\n2023-11-09 10:38:58.350  INFO 21320 [Thread-117 thread] h.h.c.v.l.BaseListener                   : Connecting to device &#39;Testing&#39;...\r\n2023-11-09 10:38:58.350  INFO 21320 [Thread-117 thread] h.h.c.v.l.BaseListener                   : Opening port &#39;COM5&#39; Success\r\n2023-11-09 10:38:58.350  INFO 21320 [Thread-117 thread] h.h.c.v.l.BaseListener                   : Connecting to device &#39;Testing&#39; Success\r\n2023-11-09 10:38:59.211  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\r\n2023-11-09 10:38:59.215  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response:[ \r\n2023-11-09 10:38:59.217  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ \r\n2023-11-09 10:38:59.219  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\r\n2023-11-09 10:38:59.221  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response:l\r\n2023-11-09 10:38:59.222  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l\r\n2023-11-09 10:38:59.225  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\r\n2023-11-09 10:38:59.227  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response:@\t1\r\n2023-11-09 10:38:59.229  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l@\t1\r\n2023-11-09 10:39:00.215  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\r\n2023-11-09 10:39:00.215  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response:{=Um%\r\n2023-11-09 10:39:00.226  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l@\t1{=Um%\r\n2023-11-09 10:39:00.230  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\r\n2023-11-09 10:39:00.232  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response:l\r\n2023-11-09 10:39:00.232  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l@\t1{=Um%l\r\n2023-11-09 10:39:00.236  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\r\n2023-11-09 10:39:00.237  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response: ,a\r\n2023-11-09 10:39:00.238  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l@\t1{=Um%l ,a\r\n2023-11-09 10:39:00.241  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\r\n2023-11-09 10:39:00.242  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response: \r\n2023-11-09 10:39:00.243  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l@\t1{=Um%l ,a \r\n2023-11-09 10:39:01.202  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\r\n2023-11-09 10:39:01.217  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response:  \r\n2023-11-09 10:39:01.217  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l@\t1{=Um%l ,a   \r\n\r\n```\r\nC# Program Connect Device:\r\n\r\n```\r\nstring portName = &quot;COM3&quot;;\r\nint baudRate = 2400;\r\nParity parity = Parity.Even;\r\nint dataBits = 7;\r\nStopBits stopBits = StopBits.One;\r\n\r\n_serialPort = new SerialPort(portName, baudRate, parity, dataBits, stopBits);\r\n\r\n_serialPort.DataReceived += SerialPort_DataReceived;\r\n\r\n_serialPort.Open();\r\n```\r\nC# Program Data listening:\r\n\r\n```\r\nConsole.WriteLine(&quot;Serial port opened. Press Enter to stop reading.&quot;);\r\n        _logWriter = new StreamWriter(&quot;log.txt&quot;, true);\r\n\r\n        while (true)\r\n        {\r\n            if (_serialPort.BytesToRead &gt; 0)\r\n            {\r\n                string data = _serialPort.ReadExisting();\r\n                DateTime now = DateTime.Now;\r\n\r\n                string logMessage = $&quot;[{now}] Received data: {data}&quot;;\r\n\r\n                Console.WriteLine(logMessage);\r\n                _logWriter.WriteLine($&quot;[{now}] Received data: {data}&quot;);\r\n                _logWriter.Flush(); // Flush the buffer to ensure data is written immediately\r\n\r\n            }\r\n        }\r\n```\r\n\r\nC# Program Log File:\r\n\r\n```\r\n[09/11/2023 10:53:09] Received data: US,+000091.50 kg\r\n\r\n[09/11/2023 10:53:09] Received data: US,+000091.50 kg\r\n\r\n[09/11/2023 10:53:10] Received data: US,+000091.50 kg\r\n\r\n[09/11/2023 10:53:10] Received data: US,+000091.50 kg\r\n\r\n[09/11/2023 10:53:10] Received data: S\r\n[09/11/2023 10:53:10] Received data: T,+171.4 cm\r\n\r\n[09/11/2023 10:53:11] Received data: ST,+000091.50 kg\r\n\r\n[09/11/2023 10:53:11] Received data: US,+0000\r\n[09/11/2023 10:53:11] Received data: 91.50 kg\r\n\r\n[09/11/2023 10:53:12] Received data: US,+000091.50 kg\r\n\r\n[09/11/2023 10:53:12] Received data: US,+000091.50 kg\r\n\r\n[09/11/2023 10:53:13] Received data: US,+00\r\n[09/11/2023 10:53:13] Received data: 0091.50 kg\r\n\r\n[09/11/2023 10:53:13] Received data: US,+000091.50 kg\r\n```\r\nMy goal is to understand why the Java program using the jSerialComm library encounters data corruption only with this specific device, while it can successfully retrieve normal data from other devices. How to modify my Java program to receive the data correctly from this particular device?","link":"https://stackoverflow.com/questions/77535130/data-corruption-issue-in-java-program-using-jserialcomm-library-but-in-c-it-is","title":"Data corruption issue in Java program using jSerialComm library, but in C# it is OK","body":"<p>I have a Java program that communicates with various devices to retrieve data via serial communication. I'm using the jSerialComm library for this purpose.</p>\n<p>However, when I retrieve data from a particular device using this Java program, the data appears to be corrupted.</p>\n<p>Surprisingly, when I use a C# program without any external libraries to retrieve data from the same device, the data is received correctly, without any corruption.</p>\n<p>The device configuration settings are as follows:</p>\n<pre><code>Port: COM3\nBaudRate: 2400\nParity: EVEN\nDatabits: 7\nStopbits: 1\n</code></pre>\n<ul>\n<li><p>In my Java program, I'm using the jSerialComm library, while in the C# program, I'm not utilizing any external libraries.</p>\n</li>\n<li><p>My Java program can successfully detect and retrieve normal data from other devices using the same communication settings. The data corruption issue seems to be specific to this particular device.</p>\n</li>\n</ul>\n<p>I have compared the logs from both programs and observed that the C# program consistently receives the expected data, whereas the Java program consistently receives corrupted data from this specific device. I have also attempted to modify the baud rate and parity settings in the Java program, but the issue persists.</p>\n<p>Java Program Connect Device:</p>\n<pre><code>SerialPort[] serialPorts = SerialPort.getCommPorts();\nfor (SerialPort port : serialPorts) {\n                if (DEVICE_PORT.equals(port.getSystemPortName())) {\n                    bolFound = true;\n                    serialPort = port;\n                    try {\n                        log.info(&quot;Opening port '&quot; + DEVICE_PORT + &quot;'...&quot;);\n                        log.info(&quot;Connecting to device '&quot; + DEVICE_NAME + &quot;'...&quot;);\n\n                        serialPort.setComPortParameters(DEVICE_RATE, DEVICE_DATABITS, DEVICE_STOPBITS, DEVICE_PARITY);\n                        serialPort.addDataListener(this);\n                        serialPort.openPort();\n\n...........\n</code></pre>\n<p>Java Data listening:</p>\n<pre><code>@Override\npublic int getListeningEvents() {\n    return SerialPort.LISTENING_EVENT_DATA_AVAILABLE;\n}\n\n@Override\npublic void serialEvent(SerialPortEvent event) {\n    switch (event.getEventType()) {\n        case SerialPort.LISTENING_EVENT_DATA_AVAILABLE:\n            readComm();\n            break;\n        default:\n            log.info(&quot;XXX default&quot;);\n            break;\n    }\n}\n\npublic void readComm() {\n    log.info(AppConfig.getInstance().getProperty(AppConfig.KEY_TEST_PORT, String.class) + &quot; Reading Comm...&quot;);\n    byte[] readBuffer = new byte[1024];\n    try {\n        inputStream = serialPort.getInputStream();\n        int len = 0;\n            \n        while ((len = inputStream.read(readBuffer)) != -1) {\n            log.info(&quot;Real Time Response:&quot; + new String(readBuffer, 0, len));\n            value += new String(readBuffer, 0, len);\n            break;\n        }\n        log.info(&quot;value:&quot; + value);\n\n        if (isDataReady) {\n            // process data\n            value = &quot;&quot;; //reset data\n        }\n\n    } catch (IOException e) {\n        intNumberOfFailure++;\n    }\n}\n</code></pre>\n<p>Java Program Log File:</p>\n<pre><code>2023-11-09 10:38:58.165  INFO 21320 [Thread-117 thread] h.h.c.v.l.BaseListener                   : Trying to init Test Listener (COM5)...\n2023-11-09 10:38:58.350  INFO 21320 [Thread-117 thread] h.h.c.v.l.BaseListener                   : Opening port 'COM5'...\n2023-11-09 10:38:58.350  INFO 21320 [Thread-117 thread] h.h.c.v.l.BaseListener                   : Connecting to device 'Testing'...\n2023-11-09 10:38:58.350  INFO 21320 [Thread-117 thread] h.h.c.v.l.BaseListener                   : Opening port 'COM5' Success\n2023-11-09 10:38:58.350  INFO 21320 [Thread-117 thread] h.h.c.v.l.BaseListener                   : Connecting to device 'Testing' Success\n2023-11-09 10:38:59.211  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\n2023-11-09 10:38:59.215  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response:[ \n2023-11-09 10:38:59.217  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ \n2023-11-09 10:38:59.219  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\n2023-11-09 10:38:59.221  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response:l\n2023-11-09 10:38:59.222  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l\n2023-11-09 10:38:59.225  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\n2023-11-09 10:38:59.227  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response:@ 1\n2023-11-09 10:38:59.229  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l@   1\n2023-11-09 10:39:00.215  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\n2023-11-09 10:39:00.215  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response:{=Um%\n2023-11-09 10:39:00.226  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l@   1{=Um%\n2023-11-09 10:39:00.230  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\n2023-11-09 10:39:00.232  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response:l\n2023-11-09 10:39:00.232  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l@   1{=Um%l\n2023-11-09 10:39:00.236  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\n2023-11-09 10:39:00.237  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response: ,a\n2023-11-09 10:39:00.238  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l@   1{=Um%l ,a\n2023-11-09 10:39:00.241  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\n2023-11-09 10:39:00.242  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response: \n2023-11-09 10:39:00.243  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l@   1{=Um%l ,a \n2023-11-09 10:39:01.202  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : COM5 Reading Comm...\n2023-11-09 10:39:01.217  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : Real Time Response:  \n2023-11-09 10:39:01.217  INFO 21320 [Thread-120 thread] h.h.c.v.l.TestListener                   : value:[ l@   1{=Um%l ,a   \n\n</code></pre>\n<p>C# Program Connect Device:</p>\n<pre><code>string portName = &quot;COM3&quot;;\nint baudRate = 2400;\nParity parity = Parity.Even;\nint dataBits = 7;\nStopBits stopBits = StopBits.One;\n\n_serialPort = new SerialPort(portName, baudRate, parity, dataBits, stopBits);\n\n_serialPort.DataReceived += SerialPort_DataReceived;\n\n_serialPort.Open();\n</code></pre>\n<p>C# Program Data listening:</p>\n<pre><code>Console.WriteLine(&quot;Serial port opened. Press Enter to stop reading.&quot;);\n        _logWriter = new StreamWriter(&quot;log.txt&quot;, true);\n\n        while (true)\n        {\n            if (_serialPort.BytesToRead &gt; 0)\n            {\n                string data = _serialPort.ReadExisting();\n                DateTime now = DateTime.Now;\n\n                string logMessage = $&quot;[{now}] Received data: {data}&quot;;\n\n                Console.WriteLine(logMessage);\n                _logWriter.WriteLine($&quot;[{now}] Received data: {data}&quot;);\n                _logWriter.Flush(); // Flush the buffer to ensure data is written immediately\n\n            }\n        }\n</code></pre>\n<p>C# Program Log File:</p>\n<pre><code>[09/11/2023 10:53:09] Received data: US,+000091.50 kg\n\n[09/11/2023 10:53:09] Received data: US,+000091.50 kg\n\n[09/11/2023 10:53:10] Received data: US,+000091.50 kg\n\n[09/11/2023 10:53:10] Received data: US,+000091.50 kg\n\n[09/11/2023 10:53:10] Received data: S\n[09/11/2023 10:53:10] Received data: T,+171.4 cm\n\n[09/11/2023 10:53:11] Received data: ST,+000091.50 kg\n\n[09/11/2023 10:53:11] Received data: US,+0000\n[09/11/2023 10:53:11] Received data: 91.50 kg\n\n[09/11/2023 10:53:12] Received data: US,+000091.50 kg\n\n[09/11/2023 10:53:12] Received data: US,+000091.50 kg\n\n[09/11/2023 10:53:13] Received data: US,+00\n[09/11/2023 10:53:13] Received data: 0091.50 kg\n\n[09/11/2023 10:53:13] Received data: US,+000091.50 kg\n</code></pre>\n<p>My goal is to understand why the Java program using the jSerialComm library encounters data corruption only with this specific device, while it can successfully retrieve normal data from other devices. How to modify my Java program to receive the data correctly from this particular device?</p>\n"},{"tags":["java","spring-boot","gradle","openapi","openapi-generator"],"comments":[{"score":0,"post_type":"question","creation_date":1701248601,"post_id":77557530,"comment_id":136750912,"body_markdown":"@ojacomarket Yes I tried. But ChatGPT didn&#39;t provide any good solutions. I think in this case ChatGPT can&#39;t give any solution.","link":"https://stackoverflow.com/questions/77557530/generate-only-one-specific-endpoint-from-api#comment136750912_77557530","body":"@ojacomarket Yes I tried. But ChatGPT didn&#39;t provide any good solutions. I think in this case ChatGPT can&#39;t give any solution."}],"comment_count":1,"is_answered":false,"view_count":96,"answer_count":0,"score":2,"last_activity_date":1701105048,"creation_date":1701094165,"last_edit_date":1701105048,"question_id":77557530,"body_markdown":"My current setup for OpenAPI Generator in `build.gradle`.\r\n\r\n```groovy\r\ndef openApiGeneratorConfig = {\r\n    classpath configurations.openApiGenerator\r\n    systemProperties = [&quot;apis&quot;: &quot;&quot;, &quot;models&quot;: &quot;&quot;]\r\n    mainClass = &#39;org.openapitools.codegen.OpenAPIGenerator&#39;\r\n    args &#39;generate&#39;\r\n    args &#39;-o&#39;, &quot;$rootDir/external&quot;\r\n    args &#39;-t&#39;, &quot;$rootDir/external/src/main/resources/codegen/templates/&quot;\r\n    args &#39;--skip-validate-spec&#39;\r\n    args &quot;--import-mappings&quot;, &quot;Instant=java.time.Instant,YearMonth=java.time.YearMonth,LocalDateTime=java.time.LocalDateTime&quot;\r\n    args &quot;--type-mappings&quot;, &quot;double=BigDecimal&quot;\r\n}\r\n\r\ndef configFilesRoute = &quot;$rootDir/external/src/main/resources/config/swagger&quot;\r\n\r\ntask generateExternalApiClient(type: JavaExec) {\r\n    configure openApiGeneratorConfig\r\n    systemProperties = [&quot;apis&quot;: &quot;ContractSearch#findContractByCustomerId&quot;]\r\n    args &quot;-i&quot;, &quot;http://localhost:9901/v2/api-docs&quot;\r\n    args &quot;-c&quot;, &quot;$configFilesRoute/loan.json&quot;\r\n}\r\n```\r\n\r\nIn `ContractSearch` (Api) I have a lot of endpoints (operations) and I need to generate only one specific endpoint.\r\nSo before this (migrate to OpenAPI Generator), I used Swagger CodeGen and if I specified the operation after api with using symbol # as separator, then it worked fine, and it generated only one specific endpoint. \r\nBut now after migrating to OpenAPI Generator, it is not work in this behaviour. I googled and also checked documentation, didn&#39;t find any answer to my question.\r\n\r\nJava 17. Spring Boot 2.7, Gradle 8.2, OpenAPI Generator CLI 6.6.0\r\n\r\n\r\nI tried adding difference arguments in OpenAPI config, but also didn&#39;t help me.","link":"https://stackoverflow.com/questions/77557530/generate-only-one-specific-endpoint-from-api","title":"Generate only one specific endpoint from API","body":"<p>My current setup for OpenAPI Generator in <code>build.gradle</code>.</p>\n<pre><code>def openApiGeneratorConfig = {\n    classpath configurations.openApiGenerator\n    systemProperties = [&quot;apis&quot;: &quot;&quot;, &quot;models&quot;: &quot;&quot;]\n    mainClass = 'org.openapitools.codegen.OpenAPIGenerator'\n    args 'generate'\n    args '-o', &quot;$rootDir/external&quot;\n    args '-t', &quot;$rootDir/external/src/main/resources/codegen/templates/&quot;\n    args '--skip-validate-spec'\n    args &quot;--import-mappings&quot;, &quot;Instant=java.time.Instant,YearMonth=java.time.YearMonth,LocalDateTime=java.time.LocalDateTime&quot;\n    args &quot;--type-mappings&quot;, &quot;double=BigDecimal&quot;\n}\n\ndef configFilesRoute = &quot;$rootDir/external/src/main/resources/config/swagger&quot;\n\ntask generateExternalApiClient(type: JavaExec) {\n    configure openApiGeneratorConfig\n    systemProperties = [&quot;apis&quot;: &quot;ContractSearch#findContractByCustomerId&quot;]\n    args &quot;-i&quot;, &quot;http://localhost:9901/v2/api-docs&quot;\n    args &quot;-c&quot;, &quot;$configFilesRoute/loan.json&quot;\n}\n</code></pre>\n<p>In <code>ContractSearch</code> (Api) I have a lot of endpoints (operations) and I need to generate only one specific endpoint.\nSo before this (migrate to OpenAPI Generator), I used Swagger CodeGen and if I specified the operation after api with using symbol # as separator, then it worked fine, and it generated only one specific endpoint.\nBut now after migrating to OpenAPI Generator, it is not work in this behaviour. I googled and also checked documentation, didn't find any answer to my question.</p>\n<p>Java 17. Spring Boot 2.7, Gradle 8.2, OpenAPI Generator CLI 6.6.0</p>\n<p>I tried adding difference arguments in OpenAPI config, but also didn't help me.</p>\n"},{"tags":["java","spring-boot","mockito"],"comments":[{"score":0,"post_type":"question","creation_date":1701105013,"post_id":77558718,"comment_id":136731088,"body_markdown":"To what null fields are you referring?","link":"https://stackoverflow.com/questions/77558718/test-method-in-springboot-with-valid#comment136731088_77558718","body":"To what null fields are you referring?"},{"score":1,"post_type":"question","creation_date":1701106463,"post_id":77558718,"comment_id":136731350,"body_markdown":"Spring validation works only with AOP proxied beans. @InjectMocks creates simple object instance, so validation will not work. You must get NovaConferenciaGateway instance from the Spring context.","link":"https://stackoverflow.com/questions/77558718/test-method-in-springboot-with-valid#comment136731350_77558718","body":"Spring validation works only with AOP proxied beans. @InjectMocks creates simple object instance, so validation will not work. You must get NovaConferenciaGateway instance from the Spring context."},{"score":0,"post_type":"question","creation_date":1701108964,"post_id":77558718,"comment_id":136731792,"body_markdown":"tks @Irremediable","link":"https://stackoverflow.com/questions/77558718/test-method-in-springboot-with-valid#comment136731792_77558718","body":"tks @Irremediable"}],"comment_count":3,"is_answered":false,"view_count":38,"answer_count":0,"score":-1,"last_activity_date":1701104837,"creation_date":1701104837,"question_id":77558718,"body_markdown":"I have this class in a springboot project:\r\n\r\n\r\n\r\n    @Service\r\n    @Validated\r\n    public class NovaConferenciaGatewayImpl implements NovaConferenciaGateway {\r\n        private final ConferenciaMapper conferenciaMapper;\r\n        private final ConferenciaRepositoryGateway conferenciaRepositoryGateway;\r\n        private final ConferenciaItemRepositoryGateway conferenciaItemRepositoryGateway;\r\n    \r\n        public NovaConferenciaGatewayImpl(ConferenciaMapper conferenciaMapper, ConferenciaRepositoryGateway conferenciaRepositoryGateway, ConferenciaItemRepositoryGateway conferenciaItemRepositoryGateway) {\r\n            this.conferenciaMapper = conferenciaMapper;\r\n            this.conferenciaRepositoryGateway = conferenciaRepositoryGateway;\r\n            this.conferenciaItemRepositoryGateway = conferenciaItemRepositoryGateway;\r\n        }\r\n    \r\n        @Override\r\n        public Conferencia cadastrarConferencia(@NotNull UUID empresaId, @NotNull UUID usuarioId, @NotNull @Valid NovaConferenciaRequest novaConferenciaRequest) {\r\n            Conferencia novaConferencia = conferenciaMapper.fromRequest(novaConferenciaRequest);\r\n            novaConferencia.setCriado(LocalDateTime.now());\r\n            novaConferencia.setEmpresaId(empresaId);\r\n            novaConferencia.setUsuarioId(usuarioId);\r\n            return conferenciaRepositoryGateway.novaConferencia(novaConferencia);\r\n    \r\n        }\r\n    }\r\n\r\nIt&#39;s possibel to the @Valid in method cadastrarConferencia?\r\n\r\nI trying with this class\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @SpringBootTest\r\n    public class NovaConferenciaGatewayImplTest {\r\n    \r\n        @Spy\r\n        private  ConferenciaMapper conferenciaMapper = new ConferenciaMapperImpl();\r\n        @Mock\r\n        private  ConferenciaRepositoryGateway conferenciaRepositoryGateway;\r\n        @Mock\r\n        private  ConferenciaItemRepositoryGateway conferenciaItemRepositoryGateway;\r\n    \r\n        @InjectMocks\r\n        private NovaConferenciaGatewayImpl novaConferenciaGateway;\r\n    \r\n        @Test\r\n        public void cadastrarConferencia(){\r\n            @NotNull NovaConferenciaRequest novo = new NovaConferenciaRequest();\r\n            novo.setNome(&quot;Nome&quot;);\r\n            Conferencia conferencia = novaConferenciaGateway.cadastrarConferencia(UUID.fromString(&quot;e95d1fca-49fe-458e-92e2-df85b0786b49&quot;), UUID.fromString(&quot;2d1987af-b76a-4268-92da-1f37b7001ac5&quot;), novo);\r\n            Mockito.verify(conferenciaMapper).fromRequest(novo);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nand this is my class NovaConferencia\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class NovaConferenciaRequest {\r\n        @NotBlank\r\n        private String nome;\r\n        @NotEmpty\r\n        @Valid\r\n        private Endereco endereco;\r\n        private Point localizacao;\r\n        @NotEmpty\r\n        @Valid\r\n        private List&lt;Informacao&gt; informacoes;\r\n        @NotEmpty\r\n        @Valid\r\n        private List&lt;NovaConferenciaItemRequest&gt; itens;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nShouldn&#39;t my test return an error because of null fields?\r\n\r\ntks\r\n","link":"https://stackoverflow.com/questions/77558718/test-method-in-springboot-with-valid","title":"Test method in springboot with @Valid","body":"<p>I have this class in a springboot project:</p>\n<pre><code>@Service\n@Validated\npublic class NovaConferenciaGatewayImpl implements NovaConferenciaGateway {\n    private final ConferenciaMapper conferenciaMapper;\n    private final ConferenciaRepositoryGateway conferenciaRepositoryGateway;\n    private final ConferenciaItemRepositoryGateway conferenciaItemRepositoryGateway;\n\n    public NovaConferenciaGatewayImpl(ConferenciaMapper conferenciaMapper, ConferenciaRepositoryGateway conferenciaRepositoryGateway, ConferenciaItemRepositoryGateway conferenciaItemRepositoryGateway) {\n        this.conferenciaMapper = conferenciaMapper;\n        this.conferenciaRepositoryGateway = conferenciaRepositoryGateway;\n        this.conferenciaItemRepositoryGateway = conferenciaItemRepositoryGateway;\n    }\n\n    @Override\n    public Conferencia cadastrarConferencia(@NotNull UUID empresaId, @NotNull UUID usuarioId, @NotNull @Valid NovaConferenciaRequest novaConferenciaRequest) {\n        Conferencia novaConferencia = conferenciaMapper.fromRequest(novaConferenciaRequest);\n        novaConferencia.setCriado(LocalDateTime.now());\n        novaConferencia.setEmpresaId(empresaId);\n        novaConferencia.setUsuarioId(usuarioId);\n        return conferenciaRepositoryGateway.novaConferencia(novaConferencia);\n\n    }\n}\n</code></pre>\n<p>It's possibel to the @Valid in method cadastrarConferencia?</p>\n<p>I trying with this class</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@SpringBootTest\npublic class NovaConferenciaGatewayImplTest {\n\n    @Spy\n    private  ConferenciaMapper conferenciaMapper = new ConferenciaMapperImpl();\n    @Mock\n    private  ConferenciaRepositoryGateway conferenciaRepositoryGateway;\n    @Mock\n    private  ConferenciaItemRepositoryGateway conferenciaItemRepositoryGateway;\n\n    @InjectMocks\n    private NovaConferenciaGatewayImpl novaConferenciaGateway;\n\n    @Test\n    public void cadastrarConferencia(){\n        @NotNull NovaConferenciaRequest novo = new NovaConferenciaRequest();\n        novo.setNome(&quot;Nome&quot;);\n        Conferencia conferencia = novaConferenciaGateway.cadastrarConferencia(UUID.fromString(&quot;e95d1fca-49fe-458e-92e2-df85b0786b49&quot;), UUID.fromString(&quot;2d1987af-b76a-4268-92da-1f37b7001ac5&quot;), novo);\n        Mockito.verify(conferenciaMapper).fromRequest(novo);\n    }\n\n}\n</code></pre>\n<p>and this is my class NovaConferencia</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class NovaConferenciaRequest {\n    @NotBlank\n    private String nome;\n    @NotEmpty\n    @Valid\n    private Endereco endereco;\n    private Point localizacao;\n    @NotEmpty\n    @Valid\n    private List&lt;Informacao&gt; informacoes;\n    @NotEmpty\n    @Valid\n    private List&lt;NovaConferenciaItemRequest&gt; itens;\n}\n</code></pre>\n<p>Shouldn't my test return an error because of null fields?</p>\n<p>tks</p>\n"},{"tags":["java","apache-spark"],"comments":[{"score":0,"post_type":"question","creation_date":1701102595,"post_id":77558340,"comment_id":136730605,"body_markdown":"does sparkSession.sparkContext.setLogLevel(loggingLevel) work for you?","link":"https://stackoverflow.com/questions/77558340/how-to-set-the-log-level-from-spark-in-local-mode-from-a-java-application#comment136730605_77558340","body":"does sparkSession.sparkContext.setLogLevel(loggingLevel) work for you?"},{"score":0,"post_type":"question","creation_date":1701103513,"post_id":77558340,"comment_id":136730785,"body_markdown":"`log4j.xml` works for me, but you need to know the exact names of the loggers, as apparently the setup for root doesn&#39;t work for all of them.","link":"https://stackoverflow.com/questions/77558340/how-to-set-the-log-level-from-spark-in-local-mode-from-a-java-application#comment136730785_77558340","body":"<code>log4j.xml</code> works for me, but you need to know the exact names of the loggers, as apparently the setup for root doesn&#39;t work for all of them."}],"comment_count":2,"is_answered":false,"view_count":25,"answer_count":0,"score":0,"last_activity_date":1701104490,"creation_date":1701101415,"last_edit_date":1701104490,"question_id":77558340,"body_markdown":"I run Spark 3.5.0 on a single Ubuntu Linux machine in local mode (no Hadoop). I build, package and execute the application with Maven, but no matter what I do, the console output from my application drowns in page after page of Spark logs that I want to stop.\r\n\r\n - First I tried copying and editing the Spark provided log4j template file, setting all log levels to warn - for good measure I stored the edited version as both log4j2.properties &amp; log4j.properties in the spark conf directory - no luck same non-relevant logs still printed.\r\n - Then I tried various programmatic answers like for instance `Configurator.setRootLevel(Level.ERROR)` or `LogManager.getLogger(&quot;org&quot;).setLevel(Level.WARN)` and other - no luck there either.\r\n\r\nAny suggestions that actually work for this setup are very much appreciated!","link":"https://stackoverflow.com/questions/77558340/how-to-set-the-log-level-from-spark-in-local-mode-from-a-java-application","title":"How to set the log level from Spark in local mode from a Java application?","body":"<p>I run Spark 3.5.0 on a single Ubuntu Linux machine in local mode (no Hadoop). I build, package and execute the application with Maven, but no matter what I do, the console output from my application drowns in page after page of Spark logs that I want to stop.</p>\n<ul>\n<li>First I tried copying and editing the Spark provided log4j template file, setting all log levels to warn - for good measure I stored the edited version as both log4j2.properties &amp; log4j.properties in the spark conf directory - no luck same non-relevant logs still printed.</li>\n<li>Then I tried various programmatic answers like for instance <code>Configurator.setRootLevel(Level.ERROR)</code> or <code>LogManager.getLogger(&quot;org&quot;).setLevel(Level.WARN)</code> and other - no luck there either.</li>\n</ul>\n<p>Any suggestions that actually work for this setup are very much appreciated!</p>\n"},{"tags":["java","spring","security","oauth-2.0","keycloak"],"comments":[{"score":0,"post_type":"question","creation_date":1701073512,"post_id":77555031,"comment_id":136725083,"body_markdown":"In this case you have to use [resource-server](https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html) part not [client](https://docs.spring.io/spring-security/reference/servlet/oauth2/client/index.html) part","link":"https://stackoverflow.com/questions/77555031/keycloak-spring-3#comment136725083_77555031","body":"In this case you have to use <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html\" rel=\"nofollow noreferrer\">resource-server</a> part not <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/client/index.html\" rel=\"nofollow noreferrer\">client</a> part"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701103230,"creation_date":1701103230,"answer_id":77558544,"question_id":77555031,"body_markdown":"You &quot;login&quot; to an OAuth2 client (with `authorization_code` flow), not to an OAuth2 resource server and **requests to an OAuth2 client from a browser are authorized with sessions**, not `Bearer` tokens in authorization header. Before trying to configure your app as a resource server (and use tokens security), you should be sure that you can actually send tokens from what you are trying to consume it with (browsers are very bad candidates for that).\r\n\r\nAlso, **you should not mix `oauth2Login` and `oauth2ResourceServer` in the same filter chain**, the security is too different:\r\n- `oauth2Login` is based on sessions, requires CSRF protection (disabling it like you do is a mistake), and unauthorized requests to secured routes should probably be redirected to login (`302` status)\r\n- `oauth2ResourceServer` can (should?) be configured stateless (without session), is not exposed to CSRF attacks and unauthorized requests to secured routes should probably be answered `401 Unauthorized`.\r\n\r\nI suggest that you have a look at my [OAuth2 essentials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials) and tutorials.","link":"https://stackoverflow.com/questions/77555031/keycloak-spring-3/77558544#77558544","title":"Keycloak + Spring 3","body":"<p>You &quot;login&quot; to an OAuth2 client (with <code>authorization_code</code> flow), not to an OAuth2 resource server and <strong>requests to an OAuth2 client from a browser are authorized with sessions</strong>, not <code>Bearer</code> tokens in authorization header. Before trying to configure your app as a resource server (and use tokens security), you should be sure that you can actually send tokens from what you are trying to consume it with (browsers are very bad candidates for that).</p>\n<p>Also, <strong>you should not mix <code>oauth2Login</code> and <code>oauth2ResourceServer</code> in the same filter chain</strong>, the security is too different:</p>\n<ul>\n<li><code>oauth2Login</code> is based on sessions, requires CSRF protection (disabling it like you do is a mistake), and unauthorized requests to secured routes should probably be redirected to login (<code>302</code> status)</li>\n<li><code>oauth2ResourceServer</code> can (should?) be configured stateless (without session), is not exposed to CSRF attacks and unauthorized requests to secured routes should probably be answered <code>401 Unauthorized</code>.</li>\n</ul>\n<p>I suggest that you have a look at my <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\" rel=\"nofollow noreferrer\">OAuth2 essentials</a> and tutorials.</p>\n"}],"comment_count":1,"is_answered":false,"view_count":45,"answer_count":1,"score":0,"last_activity_date":1701103230,"creation_date":1701068643,"question_id":77555031,"body_markdown":"How I can enable **bearer-only ** mode for auth? \r\nNow when my request have no token app redirect me to KeyCloak login page but I want to get 403 forbidden.\r\n\r\nSecurityFilterChain\r\n```\r\n@Bean\r\npublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n    http.oauth2Login()\r\n            .and()\r\n            .csrf().disable();\r\n\r\n    http.oauth2ResourceServer().jwt();\r\n    http\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.ALWAYS);\r\n\r\n    http\r\n            .authorizeHttpRequests()\r\n            .requestMatchers(&quot;/test&quot;).permitAll()\r\n            .anyRequest().authenticated();\r\n\r\n    return http.build();\r\n}\r\n```\r\n\r\napplication.yml\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          keycloak:\r\n            client-id: paper_java\r\n            client-secret: JEEcO8mJhKzkcx2aZ2sgZ8E2JsSx4Lms\r\n            scope: openid\r\n            authorization-grant-type: authorization_code\r\n        provider:\r\n          keycloak:\r\n            issuer-uri: http://localhost:9999/realms/ss\r\n            user-name-attribute: preferred_username\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: http://localhost:9999/realms/ss\r\n```\r\n\r\nIm trying to make keycloak only checking token validation service, but got login page.","link":"https://stackoverflow.com/questions/77555031/keycloak-spring-3","title":"Keycloak + Spring 3","body":"<p>How I can enable **bearer-only ** mode for auth?\nNow when my request have no token app redirect me to KeyCloak login page but I want to get 403 forbidden.</p>\n<p>SecurityFilterChain</p>\n<pre><code>@Bean\npublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\n    http.oauth2Login()\n            .and()\n            .csrf().disable();\n\n    http.oauth2ResourceServer().jwt();\n    http\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.ALWAYS);\n\n    http\n            .authorizeHttpRequests()\n            .requestMatchers(&quot;/test&quot;).permitAll()\n            .anyRequest().authenticated();\n\n    return http.build();\n}\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          keycloak:\n            client-id: paper_java\n            client-secret: JEEcO8mJhKzkcx2aZ2sgZ8E2JsSx4Lms\n            scope: openid\n            authorization-grant-type: authorization_code\n        provider:\n          keycloak:\n            issuer-uri: http://localhost:9999/realms/ss\n            user-name-attribute: preferred_username\n      resourceserver:\n        jwt:\n          issuer-uri: http://localhost:9999/realms/ss\n</code></pre>\n<p>Im trying to make keycloak only checking token validation service, but got login page.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"score":1,"post_type":"question","creation_date":1701196953,"post_id":77558376,"comment_id":136744645,"body_markdown":"WebDriverWaits are sort of pre-configured fluent waits.  Usually you&#39;d be working with WebDriverWaits.  Your question, as is, isn&#39;t very clear.  Can you copy/paste what the interviewer&#39;s question was?","link":"https://stackoverflow.com/questions/77558376/what-is-the-alternative-function-for-fluent-wait-in-selenium-java#comment136744645_77558376","body":"WebDriverWaits are sort of pre-configured fluent waits.  Usually you&#39;d be working with WebDriverWaits.  Your question, as is, isn&#39;t very clear.  Can you copy/paste what the interviewer&#39;s question was?"},{"score":0,"post_type":"question","creation_date":1701226256,"post_id":77558376,"comment_id":136748379,"body_markdown":"Hey Cynol, If you have added code and asked for the solution , others can answer but you asked a general topic and multiple threads are already present for this. as @pcalkins suggested, in the realtime projects we gonna use customised waits as per project.","link":"https://stackoverflow.com/questions/77558376/what-is-the-alternative-function-for-fluent-wait-in-selenium-java#comment136748379_77558376","body":"Hey Cynol, If you have added code and asked for the solution , others can answer but you asked a general topic and multiple threads are already present for this. as @pcalkins suggested, in the realtime projects we gonna use customised waits as per project."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701226488,"post_id":77558471,"comment_id":136748400,"body_markdown":"I can see you got a downvote, possible reasons are your answer is not relevant to the problem, As you are the beginner, from next time please be specific to the question and sure shot solution. Instead of writing all functions, you can simply compare important waits ( ex: here fluent vs explicit ). No need of implicit , which can help the reporter &amp; stack community and also your score.","link":"https://stackoverflow.com/questions/77558376/what-is-the-alternative-function-for-fluent-wait-in-selenium-java/77558471#comment136748400_77558471","body":"I can see you got a downvote, possible reasons are your answer is not relevant to the problem, As you are the beginner, from next time please be specific to the question and sure shot solution. Instead of writing all functions, you can simply compare important waits ( ex: here fluent vs explicit ). No need of implicit , which can help the reporter &amp; stack community and also your score."}],"comment_count":1,"score":-1,"last_activity_date":1701102549,"creation_date":1701102549,"answer_id":77558471,"question_id":77558376,"body_markdown":"Implicit Wait:\r\n\r\nImplicit wait sets a maximum time for the WebDriver to wait for an element to be present in the DOM. It is applied globally and is set once for the entire session.\r\nExplicit Wait with ExpectedConditions:\r\n\r\nUse explicit waits in combination with ExpectedConditions for more fine-grained control over waiting conditions.\r\nThread.sleep:\r\n\r\nWhile not recommended in all cases due to its static nature, you can use Thread.sleep() to pause the execution for a specified period.\r\nCustom Wait Functions:\r\n\r\nYou can create your own custom wait functions using loops and conditions based on specific requirements.\r\n","link":"https://stackoverflow.com/questions/77558376/what-is-the-alternative-function-for-fluent-wait-in-selenium-java/77558471#77558471","title":"What is the alternative function for fluent wait in selenium java?","body":"<p>Implicit Wait:</p>\n<p>Implicit wait sets a maximum time for the WebDriver to wait for an element to be present in the DOM. It is applied globally and is set once for the entire session.\nExplicit Wait with ExpectedConditions:</p>\n<p>Use explicit waits in combination with ExpectedConditions for more fine-grained control over waiting conditions.\nThread.sleep:</p>\n<p>While not recommended in all cases due to its static nature, you can use Thread.sleep() to pause the execution for a specified period.\nCustom Wait Functions:</p>\n<p>You can create your own custom wait functions using loops and conditions based on specific requirements.</p>\n"}],"comment_count":2,"is_answered":false,"view_count":28,"answer_count":1,"score":0,"last_activity_date":1701102549,"creation_date":1701101712,"question_id":77558376,"body_markdown":"What is the alternative function for fluent wait in selenium java? For ex.:- We can achieve assert true using if else condition, the same way how we can achieve fluent wait?\r\n\r\nInterviewer told me that he doesn&#39;t need a fluent wait syntax.","link":"https://stackoverflow.com/questions/77558376/what-is-the-alternative-function-for-fluent-wait-in-selenium-java","title":"What is the alternative function for fluent wait in selenium java?","body":"<p>What is the alternative function for fluent wait in selenium java? For ex.:- We can achieve assert true using if else condition, the same way how we can achieve fluent wait?</p>\n<p>Interviewer told me that he doesn't need a fluent wait syntax.</p>\n"},{"tags":["java","open-telemetry","open-telemetry-java"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701102062,"creation_date":1701102062,"answer_id":77558409,"question_id":77545106,"body_markdown":"_Even though the question is a bit broad, let me try to give some hints to users that would read it._\r\n\r\n1. Auto instrumentation with the java agent and manual instrumentation may live together with two distinct `OpenTelemetry` instances. The java agent would instantiate and register the global instance (`GlobalOpenTelemetry`) and your code may instantiate another `OpenTelemetry` but not register it as the global one.\r\n    * **This will work but should probably be avoided as long as possible** because you may encounter situations where some telemetry data would be &quot;attached&quot; to one `OpenTelemetry` instance or the other and you&#39;d loose &quot;correlation&quot;. For instance, with traces, you may get two traces instead of one.\r\n    * In this scenario, manual instrumentation may be configured either entirely manually by instantiating a `OpenTelemetrySdk` with manual configs, or by using environment variables / system properties as the java agent is doing thanks to `opentelemetry-sdk-extension-autoconfigure` dependency.\r\n1. Another approach, better when possible, is to use the java agent, configure it with environment variables / system properties and then **reuse the global instance in your code** thanks to `GlobalOpenTelemetry.get()`.\r\n    * If you&#39;re using a DI framework (Spring, Guice...), your code should rely on having a `OpenTelemetry` instance and use your framework to provide it by calling `GlobalOpenTelemetry.get()` at startup.","link":"https://stackoverflow.com/questions/77545106/opentelemetry-configuration-for-auto-and-manual-instrumentation/77558409#77558409","title":"Opentelemetry configuration for auto and manual instrumentation","body":"<p><em>Even though the question is a bit broad, let me try to give some hints to users that would read it.</em></p>\n<ol>\n<li>Auto instrumentation with the java agent and manual instrumentation may live together with two distinct <code>OpenTelemetry</code> instances. The java agent would instantiate and register the global instance (<code>GlobalOpenTelemetry</code>) and your code may instantiate another <code>OpenTelemetry</code> but not register it as the global one.\n<ul>\n<li><strong>This will work but should probably be avoided as long as possible</strong> because you may encounter situations where some telemetry data would be &quot;attached&quot; to one <code>OpenTelemetry</code> instance or the other and you'd loose &quot;correlation&quot;. For instance, with traces, you may get two traces instead of one.</li>\n<li>In this scenario, manual instrumentation may be configured either entirely manually by instantiating a <code>OpenTelemetrySdk</code> with manual configs, or by using environment variables / system properties as the java agent is doing thanks to <code>opentelemetry-sdk-extension-autoconfigure</code> dependency.</li>\n</ul>\n</li>\n<li>Another approach, better when possible, is to use the java agent, configure it with environment variables / system properties and then <strong>reuse the global instance in your code</strong> thanks to <code>GlobalOpenTelemetry.get()</code>.\n<ul>\n<li>If you're using a DI framework (Spring, Guice...), your code should rely on having a <code>OpenTelemetry</code> instance and use your framework to provide it by calling <code>GlobalOpenTelemetry.get()</code> at startup.</li>\n</ul>\n</li>\n</ol>\n"}],"comment_count":0,"is_answered":false,"view_count":46,"answer_count":1,"score":-1,"last_activity_date":1701102062,"creation_date":1700851053,"last_edit_date":1700937115,"question_id":77545106,"body_markdown":"In an application auto instrumented with the javaagent, it looks possible to add manual instrumentation according to the documentation.\r\n\r\n- For auto instrumentation, I know we can use environment variables or system properties. For instance `OTEL_TRACES_EXPORTER=logging` to enable logging exporter for traces.\r\n- Now, for manual instrumentation, we should instantiate somehow a `OpenTelemetrySdk` and register a `SdkTracerProvider` (configured either manually or via env variables/system properties as well)\r\n\r\nWhat happens if auto instrumentation configures some exporters (logging for instance) and manual instrumentation define another one (OTLP/HTTP for instance)? \r\n\r\nIs there a unique instance of `OpenTelemetry` in this case or two living each in &quot;different contexts&quot;?\r\n\r\n**Several questions but related to the same topic: how manual and auto instrumentation live together?**\r\n\r\n_(For additional context, I&#39;m looking to have manual metrics, auto instrumented traces and potentially some manual traces as well)_","link":"https://stackoverflow.com/questions/77545106/opentelemetry-configuration-for-auto-and-manual-instrumentation","title":"Opentelemetry configuration for auto and manual instrumentation","body":"<p>In an application auto instrumented with the javaagent, it looks possible to add manual instrumentation according to the documentation.</p>\n<ul>\n<li>For auto instrumentation, I know we can use environment variables or system properties. For instance <code>OTEL_TRACES_EXPORTER=logging</code> to enable logging exporter for traces.</li>\n<li>Now, for manual instrumentation, we should instantiate somehow a <code>OpenTelemetrySdk</code> and register a <code>SdkTracerProvider</code> (configured either manually or via env variables/system properties as well)</li>\n</ul>\n<p>What happens if auto instrumentation configures some exporters (logging for instance) and manual instrumentation define another one (OTLP/HTTP for instance)?</p>\n<p>Is there a unique instance of <code>OpenTelemetry</code> in this case or two living each in &quot;different contexts&quot;?</p>\n<p><strong>Several questions but related to the same topic: how manual and auto instrumentation live together?</strong></p>\n<p><em>(For additional context, I'm looking to have manual metrics, auto instrumented traces and potentially some manual traces as well)</em></p>\n"},{"tags":["java","spring-boot","eclipse","debugging"],"comments":[{"score":0,"post_type":"question","creation_date":1701092034,"post_id":77557199,"comment_id":136728250,"body_markdown":"You&#39;re running maven, and maven is launching an entirely new JVM with your actual app. Which is entirely outside of eclipse&#39;s &quot;jurisdiction&quot; so to speak, and naturally wouldn&#39;t run any breakpoints. I&#39;m not posting this as an answer, because presumably you&#39;re looking for &quot;so, how do I fix that?&quot;. I don&#39;t have experience with m2 plugin / spring boot to tell you, unfortunately.","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint#comment136728250_77557199","body":"You&#39;re running maven, and maven is launching an entirely new JVM with your actual app. Which is entirely outside of eclipse&#39;s &quot;jurisdiction&quot; so to speak, and naturally wouldn&#39;t run any breakpoints. I&#39;m not posting this as an answer, because presumably you&#39;re looking for &quot;so, how do I fix that?&quot;. I don&#39;t have experience with m2 plugin / spring boot to tell you, unfortunately."},{"score":0,"post_type":"question","creation_date":1701092977,"post_id":77557199,"comment_id":136728424,"body_markdown":"A call stack changes continuously during execution and is therefore only displayed for paused threads (hit the _Pause_ button to get the call stack). Please verify that the code is actually called by adding the line `System.out.println(&quot;I was here!&quot;);` or `System.err.println(&quot;I was here!&quot;);` before the first break point. What is the reason to run/debug your application via Maven (via the `exec-maven-plugin`? - please show your `pom.xml`) instead of directly?","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint#comment136728424_77557199","body":"A call stack changes continuously during execution and is therefore only displayed for paused threads (hit the <i>Pause</i> button to get the call stack). Please verify that the code is actually called by adding the line <code>System.out.println(&quot;I was here!&quot;);</code> or <code>System.err.println(&quot;I was here!&quot;);</code> before the first break point. What is the reason to run/debug your application via Maven (via the <code>exec-maven-plugin</code>? - please show your <code>pom.xml</code>) instead of directly?"},{"score":0,"post_type":"question","creation_date":1701094619,"post_id":77557199,"comment_id":136728781,"body_markdown":"Please show your `pom.xml` as text, not as a cropped image.","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint#comment136728781_77557199","body":"Please show your <code>pom.xml</code> as text, not as a cropped image."},{"score":0,"post_type":"question","creation_date":1701094642,"post_id":77557199,"comment_id":136728786,"body_markdown":"@rzwitserloot I run maven from Eclipse not from outside. so normally it should still be under Eclipse&#39;s &quot;jurisdiction&quot; ?. But I agree with you upon the fact that it&#39;s a maven related issue. I run a JUnit test with a breakpoint, it works just fine.","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint#comment136728786_77557199","body":"@rzwitserloot I run maven from Eclipse not from outside. so normally it should still be under Eclipse&#39;s &quot;jurisdiction&quot; ?. But I agree with you upon the fact that it&#39;s a maven related issue. I run a JUnit test with a breakpoint, it works just fine."},{"score":0,"post_type":"question","creation_date":1701094864,"post_id":77557199,"comment_id":136728838,"body_markdown":"@howlger my code is called. the record is well added in H2 database, and also when I add a System.out, it&#39;s well displayed. I added the pom.xml as you requested.","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint#comment136728838_77557199","body":"@howlger my code is called. the record is well added in H2 database, and also when I add a System.out, it&#39;s well displayed. I added the pom.xml as you requested."},{"score":1,"post_type":"question","creation_date":1701095418,"post_id":77557199,"comment_id":136728953,"body_markdown":"you will probably have to start the application with an option to connect a remote debugger (`-agentlib:jdwp=transport=dt_socket,server=y,address=8000` or similar) and create/start a &quot;Remote Java Application&quot; configuration in Eclipse. I do not use Maven, no idea how to do that with it","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint#comment136728953_77557199","body":"you will probably have to start the application with an option to connect a remote debugger (<code>-agentlib:jdwp=transport=dt_socket,server=y,address=8000</code> or similar) and create/start a &quot;Remote Java Application&quot; configuration in Eclipse. I do not use Maven, no idea how to do that with it"},{"score":0,"post_type":"question","creation_date":1701096811,"post_id":77557199,"comment_id":136729278,"body_markdown":"@howlger, did the pom.xml as text give you any insights ?","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint#comment136729278_77557199","body":"@howlger, did the pom.xml as text give you any insights ?"},{"score":0,"post_type":"question","creation_date":1701097582,"post_id":77557199,"comment_id":136729431,"body_markdown":"You run/launch the Maven build script, which in turn executes your Spring Boot application. Better run/debug [the _start-class_](https://www.baeldung.com/spring-boot-main-class#maven) directly (in your `pom.xml` the _start-class_ is not configured; did you specified the _start-class_ via the Maven property [`loader.main`](https://www.baeldung.com/spring-boot-main-class#using-cli)?). Remote debugging is not needed, just run your Java application directly.","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint#comment136729431_77557199","body":"You run/launch the Maven build script, which in turn executes your Spring Boot application. Better run/debug <a href=\"https://www.baeldung.com/spring-boot-main-class#maven\" rel=\"nofollow noreferrer\">the <i>start-class</i></a> directly (in your <code>pom.xml</code> the <i>start-class</i> is not configured; did you specified the <i>start-class</i> via the Maven property <a href=\"https://www.baeldung.com/spring-boot-main-class#using-cli\" rel=\"nofollow noreferrer\"><code>loader.main</code></a>?). Remote debugging is not needed, just run your Java application directly."},{"score":0,"post_type":"question","creation_date":1701098877,"post_id":77557199,"comment_id":136729790,"body_markdown":"@howlger it worked fine, thanx ! I executed the project as a Java application with the main class as an entry point, and not a maven execution. I still don&#39;t understand why the maven execution build doesn&#39;t work but, the Java app execution worked ! You can add that as an answer so that I Accept it.","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint#comment136729790_77557199","body":"@howlger it worked fine, thanx ! I executed the project as a Java application with the main class as an entry point, and not a maven execution. I still don&#39;t understand why the maven execution build doesn&#39;t work but, the Java app execution worked ! You can add that as an answer so that I Accept it."},{"score":0,"post_type":"question","creation_date":1701101830,"post_id":77557199,"comment_id":136730468,"body_markdown":"I guess too (as @rzwitserloot suggested also). Although that&#39;s not what I would expect since maven is launched from Eclipse. I guess there might be an extra missing configuration somewhere to make the debug work from maven goal, or to &quot;synchronize&quot; the JVM launched by maven and Eclipse if I shall say.","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint#comment136730468_77557199","body":"I guess too (as @rzwitserloot suggested also). Although that&#39;s not what I would expect since maven is launched from Eclipse. I guess there might be an extra missing configuration somewhere to make the debug work from maven goal, or to &quot;synchronize&quot; the JVM launched by maven and Eclipse if I shall say."},{"score":0,"post_type":"question","creation_date":1701160007,"post_id":77557199,"comment_id":136737661,"body_markdown":"The forked Java VM child processes are not executed by Maven core, but by a Maven plugin which is not part of Eclipse and which is downloaded into the local Maven repository first. As far as I know, Maven does not provide an API for that. Maven plugins can do what they want and a new version of a plugin can do it in a different way. In case of Maven-Surefire a Maven property tells Surefire to run the tests in debug mode. Surefire prints the info required to attach the debugger to the console from which Eclipse reads it. This works with different and hopefully with upcoming Surefire versions.","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint#comment136737661_77557199","body":"The forked Java VM child processes are not executed by Maven core, but by a Maven plugin which is not part of Eclipse and which is downloaded into the local Maven repository first. As far as I know, Maven does not provide an API for that. Maven plugins can do what they want and a new version of a plugin can do it in a different way. In case of Maven-Surefire a Maven property tells Surefire to run the tests in debug mode. Surefire prints the info required to attach the debugger to the console from which Eclipse reads it. This works with different and hopefully with upcoming Surefire versions."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701101844,"post_id":77558333,"comment_id":136730472,"body_markdown":"Thanx for your help and your time.","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint/77558333#comment136730472_77558333","body":"Thanx for your help and your time."}],"comment_count":1,"score":0,"last_activity_date":1701101310,"creation_date":1701101310,"answer_id":77558333,"question_id":77557199,"body_markdown":"You debug the Maven build script, which in turn executes your Spring Boot application. If the Spring Boot application is executed in a separate (forked) JVM process (like e.g. [Maven-Surefire does][1]), then the application runs in a different Java VM instance than the one you debug (I don&#39;t know whether this is actually the case here).\r\n\r\nWhatever, better **debug your [Spring Boot start-class][2] directly as a *Java application***.\r\n\r\n\r\n  [1]: https://github.com/eclipse-m2e/m2e-core/blob/master/RELEASE_NOTES.md#automatically-launch-and-attach-remote-application-debugger-when-maven-plug-in-starts-a-forked-jvm-that-waits-for-a-debugger\r\n  [2]: https://www.baeldung.com/spring-boot-main-class#maven","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint/77558333#77558333","title":"Eclipse not stopping at Debug Breakpoint","body":"<p>You debug the Maven build script, which in turn executes your Spring Boot application. If the Spring Boot application is executed in a separate (forked) JVM process (like e.g. <a href=\"https://github.com/eclipse-m2e/m2e-core/blob/master/RELEASE_NOTES.md#automatically-launch-and-attach-remote-application-debugger-when-maven-plug-in-starts-a-forked-jvm-that-waits-for-a-debugger\" rel=\"nofollow noreferrer\">Maven-Surefire does</a>), then the application runs in a different Java VM instance than the one you debug (I don't know whether this is actually the case here).</p>\n<p>Whatever, better <strong>debug your <a href=\"https://www.baeldung.com/spring-boot-main-class#maven\" rel=\"nofollow noreferrer\">Spring Boot start-class</a> directly as a <em>Java application</em></strong>.</p>\n"}],"comment_count":11,"is_answered":true,"view_count":84,"answer_count":1,"score":-1,"last_activity_date":1701101310,"creation_date":1701090887,"last_edit_date":1701094737,"question_id":77557199,"body_markdown":"I have a simple java, sprint boot project and I wanted to debug the code inside but when I launch the debug, Eclipse doesn&#39;t stop at any breakpoint.\r\n\r\nI tried to **clean the workspace**, **update maven projects**, **Delete and reimport the project**. try **debugging another project**. I even **changed the eclipse version** but none of these solutions that I found on other StackOverflow posts worked.\r\n\r\nAlso, the **&quot;Skip All Breakpoints&quot; button is not toggled on**.\r\n\r\nI noticed that the callstack is empty and I wonder if the problem may come from it ?\r\n\r\nVersions used:\r\n\r\n - JDK: 17 Eclipse:\r\n - 2023-09 (4.29.0)\r\n - Spring boot: 3.0.1\r\n\r\nAny thoughts ?\r\n\r\nHere is the debug view:\r\n\r\n[![Debug view][1]][1]\r\n\r\n\r\nHere is the code sample I am trying to debug:\r\n\r\n[![Code Sample][2]][2]\r\n\r\nHere is the maven pom.xml file I&#39;m using:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/KMhCe.png\r\n  [2]: https://i.stack.imgur.com/sX08v.png\r\n\r\n","link":"https://stackoverflow.com/questions/77557199/eclipse-not-stopping-at-debug-breakpoint","title":"Eclipse not stopping at Debug Breakpoint","body":"<p>I have a simple java, sprint boot project and I wanted to debug the code inside but when I launch the debug, Eclipse doesn't stop at any breakpoint.</p>\n<p>I tried to <strong>clean the workspace</strong>, <strong>update maven projects</strong>, <strong>Delete and reimport the project</strong>. try <strong>debugging another project</strong>. I even <strong>changed the eclipse version</strong> but none of these solutions that I found on other StackOverflow posts worked.</p>\n<p>Also, the <strong>&quot;Skip All Breakpoints&quot; button is not toggled on</strong>.</p>\n<p>I noticed that the callstack is empty and I wonder if the problem may come from it ?</p>\n<p>Versions used:</p>\n<ul>\n<li>JDK: 17 Eclipse:</li>\n<li>2023-09 (4.29.0)</li>\n<li>Spring boot: 3.0.1</li>\n</ul>\n<p>Any thoughts ?</p>\n<p>Here is the debug view:</p>\n<p><a href=\"https://i.stack.imgur.com/KMhCe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KMhCe.png\" alt=\"Debug view\" /></a></p>\n<p>Here is the code sample I am trying to debug:</p>\n<p><a href=\"https://i.stack.imgur.com/sX08v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sX08v.png\" alt=\"Code Sample\" /></a></p>\n<p>Here is the maven pom.xml file I'm using:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"score":1,"post_type":"question","creation_date":1701101255,"post_id":77558282,"comment_id":136730350,"body_markdown":"You only print something if `s==i`. Seems that never evaluates to true. Set a breakpoint, debug this.","link":"https://stackoverflow.com/questions/77558282/finding-3-digit-armstrong-numbers-in-java#comment136730350_77558282","body":"You only print something if <code>s==i</code>. Seems that never evaluates to true. Set a breakpoint, debug this."},{"score":1,"post_type":"question","creation_date":1701104981,"post_id":77558282,"comment_id":136731077,"body_markdown":"You need to initialize s to 0 inside the outer loop.","link":"https://stackoverflow.com/questions/77558282/finding-3-digit-armstrong-numbers-in-java#comment136731077_77558282","body":"You need to initialize s to 0 inside the outer loop."},{"score":1,"post_type":"question","creation_date":1701105369,"post_id":77558282,"comment_id":136731151,"body_markdown":"Here&#39;s a tip.  In the future, put ubiquitous print statements inside your code to see what is going on, printing out interim values of variables. That is my first goto for debugging.  A debugger as @f1sh suggested would be better but there is a learning curve there which you should try and play with `before` you need it.   The best IDE&#39;s have them built in.","link":"https://stackoverflow.com/questions/77558282/finding-3-digit-armstrong-numbers-in-java#comment136731151_77558282","body":"Here&#39;s a tip.  In the future, put ubiquitous print statements inside your code to see what is going on, printing out interim values of variables. That is my first goto for debugging.  A debugger as @f1sh suggested would be better but there is a learning curve there which you should try and play with <code>before</code> you need it.   The best IDE&#39;s have them built in."}],"comment_count":3,"is_answered":false,"view_count":23,"answer_count":0,"score":-3,"last_activity_date":1701100882,"creation_date":1701100882,"question_id":77558282,"body_markdown":"I wrote following code and Ran:\r\npublic class Forloop1 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint i,n,d,s=0;\r\n\t\tfor(i=100;i&lt;1000;i++){\t\r\n\t\t\tn=i;\r\n\t\t\twhile(n&gt;0)\r\n\t\t\t{\r\n\t\t\t\td=n%10;\r\n\t\t\t\ts=s+(d*d*d);\r\n\t\t\t\tn=n/10;\r\n\t\t\t}\r\n\t\t\t\tif(s==i)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.println(i);\r\n\t\t\t\t\t}\t\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n\r\nNo errors shown. But, no output displayed.\r\nPlease correct.\r\n\r\nSolution / correction.\r\nTried below:\r\npublic class Forloop1 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint i,n,d,s=0;\r\n\t\tfor(i=100;i&lt;1000;i++){\t\r\n\t\t\tn=i;\r\n\t\t\twhile(n&gt;0)\r\n\t\t\t{\r\n\t\t\t\td=n%10;\r\n\t\t\t\ts=s+(d*d*d);\r\n\t\t\t\tn=n/10;\r\n\t\t\t}\r\n\t\t\t\tif(s==i)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.println(i);\r\n\t\t\t\t\t}\t\t\t\t\r\n\t\t}\r\n\t}\r\n}","link":"https://stackoverflow.com/questions/77558282/finding-3-digit-armstrong-numbers-in-java","title":"Finding 3 digit armstrong numbers in Java","body":"<p>I wrote following code and Ran:\npublic class Forloop1 {</p>\n<pre><code>public static void main(String[] args) {\n    int i,n,d,s=0;\n    for(i=100;i&lt;1000;i++){  \n        n=i;\n        while(n&gt;0)\n        {\n            d=n%10;\n            s=s+(d*d*d);\n            n=n/10;\n        }\n            if(s==i)\n                {\n                    System.out.println(i);\n                }               \n    }\n}\n</code></pre>\n<p>}</p>\n<p>No errors shown. But, no output displayed.\nPlease correct.</p>\n<p>Solution / correction.\nTried below:\npublic class Forloop1 {</p>\n<pre><code>public static void main(String[] args) {\n    int i,n,d,s=0;\n    for(i=100;i&lt;1000;i++){  \n        n=i;\n        while(n&gt;0)\n        {\n            d=n%10;\n            s=s+(d*d*d);\n            n=n/10;\n        }\n            if(s==i)\n                {\n                    System.out.println(i);\n                }               \n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android"],"comments":[{"score":0,"post_type":"question","creation_date":1701094484,"post_id":77557308,"comment_id":136728748,"body_markdown":"The Gradle build configuration has traditionally been Groovy and Kotlin is the &quot;new&quot; joiner. There was never a Java option, so either you are misremembering or you used a different tool. It seems like you&#39;re confusing the language for your application code with the language you use to configure your build. Please show us what your full code looks like and where you placed it relative to your project directory.","link":"https://stackoverflow.com/questions/77557308/where-is-the-java-build-configuration-language-in-android-studio-giraffe-2022#comment136728748_77557308","body":"The Gradle build configuration has traditionally been Groovy and Kotlin is the &quot;new&quot; joiner. There was never a Java option, so either you are misremembering or you used a different tool. It seems like you&#39;re confusing the language for your application code with the language you use to configure your build. Please show us what your full code looks like and where you placed it relative to your project directory."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701186141,"post_id":77558255,"comment_id":136742546,"body_markdown":"marcinj thanks for the Kotlin function info.... a few years back java was the default language and you could check a box to add Kotlin support.  So that is why I was confused.  How do I create a java app not a Kotlin app with android studio?","link":"https://stackoverflow.com/questions/77557308/where-is-the-java-build-configuration-language-in-android-studio-giraffe-2022/77558255#comment136742546_77558255","body":"marcinj thanks for the Kotlin function info.... a few years back java was the default language and you could check a box to add Kotlin support.  So that is why I was confused.  How do I create a java app not a Kotlin app with android studio?"},{"score":0,"post_type":"answer","creation_date":1701191200,"post_id":77558255,"comment_id":136743680,"body_markdown":"@Dean-O You can choose File-&gt;New-&gt;New Project, choose for example &quot;Empty Views Activity&quot;, then choose Language as Java, and your preferred Build configuration language, I think Groovy DSL is more common, by that I mean you will find more examples in this language on internet.","link":"https://stackoverflow.com/questions/77557308/where-is-the-java-build-configuration-language-in-android-studio-giraffe-2022/77558255#comment136743680_77558255","body":"@Dean-O You can choose File-&gt;New-&gt;New Project, choose for example &quot;Empty Views Activity&quot;, then choose Language as Java, and your preferred Build configuration language, I think Groovy DSL is more common, by that I mean you will find more examples in this language on internet."},{"score":0,"post_type":"answer","creation_date":1701484684,"post_id":77558255,"comment_id":136785176,"body_markdown":"Bingo thanks for the help","link":"https://stackoverflow.com/questions/77557308/where-is-the-java-build-configuration-language-in-android-studio-giraffe-2022/77558255#comment136785176_77558255","body":"Bingo thanks for the help"}],"comment_count":3,"score":0,"last_activity_date":1701100563,"creation_date":1701100563,"answer_id":77558255,"question_id":77557308,"body_markdown":"&gt;I have been away from android studio for a bit and there used to be a Java build configuration language option.\r\n\r\nCurrently for configuring builds gradle tool is used and scripting language is groovy or kotlin. Java was never an option here. For more details look in here:\r\n\r\nhttps://developer.android.com/build\r\n\r\n&gt; I tried using kotlin and I get an error of Expecting member declaration when I use public void startGame(View view){} I also imported android.view.View and it is gray. which says unused import. What am I missing?\r\n\r\nIt looks like you are trying to use java syntax in a kotlin file (*.kt). In kotlin you dont write `public void` for declaring functions, you should use `fun` keyword. A function should look like:\r\n\r\n    fun startGame(vide: View) {\r\n    }\r\n\r\nfor learning kotlin I suggest:\r\n\r\nhttps://developer.android.com/kotlin/learn","link":"https://stackoverflow.com/questions/77557308/where-is-the-java-build-configuration-language-in-android-studio-giraffe-2022/77558255#77558255","title":"where is the java build configuration language in Android Studio Giraffe | 2022.3.1","body":"<blockquote>\n<p>I have been away from android studio for a bit and there used to be a Java build configuration language option.</p>\n</blockquote>\n<p>Currently for configuring builds gradle tool is used and scripting language is groovy or kotlin. Java was never an option here. For more details look in here:</p>\n<p><a href=\"https://developer.android.com/build\" rel=\"nofollow noreferrer\">https://developer.android.com/build</a></p>\n<blockquote>\n<p>I tried using kotlin and I get an error of Expecting member declaration when I use public void startGame(View view){} I also imported android.view.View and it is gray. which says unused import. What am I missing?</p>\n</blockquote>\n<p>It looks like you are trying to use java syntax in a kotlin file (*.kt). In kotlin you dont write <code>public void</code> for declaring functions, you should use <code>fun</code> keyword. A function should look like:</p>\n<pre><code>fun startGame(vide: View) {\n}\n</code></pre>\n<p>for learning kotlin I suggest:</p>\n<p><a href=\"https://developer.android.com/kotlin/learn\" rel=\"nofollow noreferrer\">https://developer.android.com/kotlin/learn</a></p>\n"}],"comment_count":1,"is_answered":false,"view_count":57,"answer_count":1,"score":0,"last_activity_date":1701100849,"creation_date":1701091871,"last_edit_date":1701100849,"question_id":77557308,"body_markdown":"I have been away from android studio for a bit and there used to be a Java build configuration language option.  Not all that I see is 2 Kotlin options and one Groovy option.  I have an Udemy course I want to play with, and it is a Java based android tutorial.  I tried using Kotlin and I get an error of Expecting member declaration when I use public void startGame(View view){}  I also imported android.view.View and it is gray. Which says unused import.  What am I missing?\r\n\r\nI have googled for answers to this and have not found an option.  I have reached out to the Udemy author too and no reply.","link":"https://stackoverflow.com/questions/77557308/where-is-the-java-build-configuration-language-in-android-studio-giraffe-2022","title":"where is the java build configuration language in Android Studio Giraffe | 2022.3.1","body":"<p>I have been away from android studio for a bit and there used to be a Java build configuration language option.  Not all that I see is 2 Kotlin options and one Groovy option.  I have an Udemy course I want to play with, and it is a Java based android tutorial.  I tried using Kotlin and I get an error of Expecting member declaration when I use public void startGame(View view){}  I also imported android.view.View and it is gray. Which says unused import.  What am I missing?</p>\n<p>I have googled for answers to this and have not found an option.  I have reached out to the Udemy author too and no reply.</p>\n"},{"tags":["java","open-telemetry","open-telemetry-java"],"comments":[{"score":0,"post_type":"question","creation_date":1701118323,"post_id":77558266,"comment_id":136733308,"body_markdown":"high cardinality of akka http metrics sounds like a bug, can you report an issue with more details at https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues","link":"https://stackoverflow.com/questions/77558266/how-to-disable-auto-instrumentation-of-a-library-but-only-for-metrics-and-keep-t#comment136733308_77558266","body":"high cardinality of akka http metrics sounds like a bug, can you report an issue with more details at <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java-instrumentation&zwnj;&#8203;/&hellip;</a>"},{"score":0,"post_type":"question","creation_date":1701155433,"post_id":77558266,"comment_id":136736923,"body_markdown":"@trask I opened a [discussion](https://github.com/open-telemetry/opentelemetry-java-instrumentation/discussions/9959), not sure it&#39;s necessarily a bug","link":"https://stackoverflow.com/questions/77558266/how-to-disable-auto-instrumentation-of-a-library-but-only-for-metrics-and-keep-t#comment136736923_77558266","body":"@trask I opened a <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/discussions/9959\" rel=\"nofollow noreferrer\">discussion</a>, not sure it&#39;s necessarily a bug"}],"comment_count":2,"is_answered":false,"view_count":28,"answer_count":0,"score":0,"last_activity_date":1701100789,"creation_date":1701100716,"last_edit_date":1701100789,"question_id":77558266,"body_markdown":"When using OpenTelemetry Java agent, we get many libraries auto instrumented.\r\n\r\nIt&#39;s possible to disable a library instrumentation with `OTEL_INSTRUMENTATION_[NAME]_ENABLED` but this disables all sorts of instrumentation: metrics and traces for instance.\r\n\r\n**Is there a way to disable a library instrumentation for only for some &quot;scope&quot; like only disable metrics but keep traces?**\r\n\r\nOr is the only way out of this to implement some filtering later (in OpenTelemetry collector for instance if using it)?\r\n\r\n---\r\n\r\nThe concrete use case for this is that I&#39;m using Akka HTTP in my application and I do want to collect its traces, but I really don&#39;t care about its metrics (there&#39;s a label with the route which makes it have a huge cardinality moreover).","link":"https://stackoverflow.com/questions/77558266/how-to-disable-auto-instrumentation-of-a-library-but-only-for-metrics-and-keep-t","title":"How to disable auto instrumentation of a library but only for metrics and keep traces","body":"<p>When using OpenTelemetry Java agent, we get many libraries auto instrumented.</p>\n<p>It's possible to disable a library instrumentation with <code>OTEL_INSTRUMENTATION_[NAME]_ENABLED</code> but this disables all sorts of instrumentation: metrics and traces for instance.</p>\n<p><strong>Is there a way to disable a library instrumentation for only for some &quot;scope&quot; like only disable metrics but keep traces?</strong></p>\n<p>Or is the only way out of this to implement some filtering later (in OpenTelemetry collector for instance if using it)?</p>\n<hr />\n<p>The concrete use case for this is that I'm using Akka HTTP in my application and I do want to collect its traces, but I really don't care about its metrics (there's a label with the route which makes it have a huge cardinality moreover).</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"score":3,"post_type":"question","creation_date":1701079079,"post_id":77554644,"comment_id":136726074,"body_markdown":"Show your Spring Security `TRACE` logs. It shoud show the reason. But probably it is the missing CSRF token.","link":"https://stackoverflow.com/questions/77554644/why-is-spring-boot-returning-a-403-on-post-when-permitall-is-being-used#comment136726074_77554644","body":"Show your Spring Security <code>TRACE</code> logs. It shoud show the reason. But probably it is the missing CSRF token."},{"score":0,"post_type":"question","creation_date":1701099070,"post_id":77554644,"comment_id":136729837,"body_markdown":"@dur The answer in my case wasn&#39;t telling me the csrf thing because I had accidentally deleted that while I was debugging a 415 issue. See post for full explanation but yeah thank you for that direction.","link":"https://stackoverflow.com/questions/77554644/why-is-spring-boot-returning-a-403-on-post-when-permitall-is-being-used#comment136729837_77554644","body":"@dur The answer in my case wasn&#39;t telling me the csrf thing because I had accidentally deleted that while I was debugging a 415 issue. See post for full explanation but yeah thank you for that direction."}],"answers":[{"comments":[{"score":1,"post_type":"answer","creation_date":1701066357,"post_id":77554692,"comment_id":136724236,"body_markdown":"Spring Boot doesn&#39;t need any `@Enable*` annotations","link":"https://stackoverflow.com/questions/77554644/why-is-spring-boot-returning-a-403-on-post-when-permitall-is-being-used/77554692#comment136724236_77554692","body":"Spring Boot doesn&#39;t need any <code>@Enable*</code> annotations"},{"score":0,"post_type":"answer","creation_date":1701067193,"post_id":77554692,"comment_id":136724313,"body_markdown":"@ElyorbekIbrokhimov It depends ,Now cause the OP question talking about security issue as a solation he might need a  custom security configurations as an extra solation for his issue","link":"https://stackoverflow.com/questions/77554644/why-is-spring-boot-returning-a-403-on-post-when-permitall-is-being-used/77554692#comment136724313_77554692","body":"@ElyorbekIbrokhimov It depends ,Now cause the OP question talking about security issue as a solation he might need a  custom security configurations as an extra solation for his issue"},{"score":0,"post_type":"answer","creation_date":1701098114,"post_id":77554692,"comment_id":136729568,"body_markdown":"I take that back I must have deleted it one sec to find out the modern way","link":"https://stackoverflow.com/questions/77554644/why-is-spring-boot-returning-a-403-on-post-when-permitall-is-being-used/77554692#comment136729568_77554692","body":"I take that back I must have deleted it one sec to find out the modern way"},{"score":0,"post_type":"answer","creation_date":1701098524,"post_id":77554692,"comment_id":136729687,"body_markdown":"I would also make sure to update to `.csrf(AbstractHttpConfigurer::disable)`","link":"https://stackoverflow.com/questions/77554644/why-is-spring-boot-returning-a-403-on-post-when-permitall-is-being-used/77554692#comment136729687_77554692","body":"I would also make sure to update to <code>.csrf(AbstractHttpConfigurer::disable)</code>"}],"comment_count":4,"score":1,"last_activity_date":1701063101,"creation_date":1701063101,"answer_id":77554692,"question_id":77554644,"body_markdown":"It seems like Spring Security configuration what might be the cause for the 403 Forbidden response for your POST request. The `authorizeHttpRequests` method you&#39;ve shared is granting all requests `permitAll()` , so it should not be causing the issue. So i think Spring Security may be expecting a CSRF token for the POST request, and in Postman might not be sending it. Try disabling CSRF for now to see if it resolves the issue. You can do this by modifying your security configuration `.csrf().disable()` .\r\nAdd to your `authorizeHttpRequests` chain ::\r\n\r\n    .authorizeHttpRequests((authz) -&gt; authz\r\n        .anyRequest().permitAll()\r\n    )\r\n    .csrf().disable();\r\n\r\n\r\n\r\nSide Note : It is not a good idea Disabling CSRF for production, but it helps you in debugging\r\n\r\nAlso please check that you have the `@EnableWebSecurity` annotation added to your configuration class. This annotation enables Spring Security&#39;s web security support.\r\ne.g.\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {}\r\n\r\nHope this helps you \r\n\r\n","link":"https://stackoverflow.com/questions/77554644/why-is-spring-boot-returning-a-403-on-post-when-permitall-is-being-used/77554692#77554692","title":"Why is Spring Boot returning a 403 on POST when permitAll is being used?","body":"<p>It seems like Spring Security configuration what might be the cause for the 403 Forbidden response for your POST request. The <code>authorizeHttpRequests</code> method you've shared is granting all requests <code>permitAll()</code> , so it should not be causing the issue. So i think Spring Security may be expecting a CSRF token for the POST request, and in Postman might not be sending it. Try disabling CSRF for now to see if it resolves the issue. You can do this by modifying your security configuration <code>.csrf().disable()</code> .\nAdd to your <code>authorizeHttpRequests</code> chain ::</p>\n<pre><code>.authorizeHttpRequests((authz) -&gt; authz\n    .anyRequest().permitAll()\n)\n.csrf().disable();\n</code></pre>\n<p>Side Note : It is not a good idea Disabling CSRF for production, but it helps you in debugging</p>\n<p>Also please check that you have the <code>@EnableWebSecurity</code> annotation added to your configuration class. This annotation enables Spring Security's web security support.\ne.g.</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {}\n</code></pre>\n<p>Hope this helps you</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1701099220,"creation_date":1701099220,"answer_id":77558121,"question_id":77554644,"body_markdown":"In my case the real answer that helped was from @dur I added \r\n\r\n```\r\nlogging:\r\n  level:\r\n    org.springframework: TRACE\r\n```\r\n\r\nand without going down a rabbit hole this lead me to finally see...\r\n\r\n```\r\nContent-Type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; is not supported\r\n```\r\n\r\nWhich lead me to [this answer][1]\r\n\r\nMoral in my case was don&#39;t use `@RequestBody` with form encoded.\r\n\r\n  [1]: https://stackoverflow.com/questions/34782025/http-post-request-with-content-type-application-x-www-form-urlencoded-not-workin","link":"https://stackoverflow.com/questions/77554644/why-is-spring-boot-returning-a-403-on-post-when-permitall-is-being-used/77558121#77558121","title":"Why is Spring Boot returning a 403 on POST when permitAll is being used?","body":"<p>In my case the real answer that helped was from @dur I added</p>\n<pre><code>logging:\n  level:\n    org.springframework: TRACE\n</code></pre>\n<p>and without going down a rabbit hole this lead me to finally see...</p>\n<pre><code>Content-Type 'application/x-www-form-urlencoded;charset=UTF-8' is not supported\n</code></pre>\n<p>Which lead me to <a href=\"https://stackoverflow.com/questions/34782025/http-post-request-with-content-type-application-x-www-form-urlencoded-not-workin\">this answer</a></p>\n<p>Moral in my case was don't use <code>@RequestBody</code> with form encoded.</p>\n"}],"comment_count":2,"is_answered":true,"view_count":100,"answer_count":2,"score":0,"last_activity_date":1701099220,"creation_date":1701062190,"question_id":77554644,"body_markdown":"Ok I am a little confused, to debug I have reverted to this...\r\n\r\n```java \r\n.authorizeHttpRequests((authz) -&gt; authz.anyRequest().permitAll())\r\n```\r\n\r\nAnd I have the following\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;contact&quot;)\r\npublic class LeadController {\r\n    @Autowired\r\n    private PotentialContactRepo potentialContactRepo;\r\n\r\n    @PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n    public void addContact(@RequestBody PotentialContact contact) {\r\n        potentialContactRepo.save(contact);\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;String&gt; getContact() {\r\n        return ResponseEntity.ok(&quot;Hello&quot;);\r\n    }\r\n}\r\n```\r\n\r\nBut when I call the post endpoint with postman I get a 403 but when I call the get I get a 200.\r\n\r\n```\r\nPOST /contact HTTP/1.1\r\nUser-Agent: PostmanRuntime/7.31.0\r\nAccept: */*\r\nCache-Control: no-cache\r\nHost: localhost:8080\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\nContent-Type: application/x-www-form-urlencoded\r\nContent-Length: 151\r\n \r\nname=...&amp;contactInfo=...&amp;location=Wherever&amp;description=This%20is%20the%20description%3B!%40%23%24%23%24%40%24%40%23%24%40%23\r\n \r\nHTTP/1.1 403 Forbidden\r\nSet-Cookie: Path=/; HttpOnly\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 0\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nX-Frame-Options: DENY\r\nContent-Type: application/json\r\nTransfer-Encoding: chunked\r\nDate: Mon, 27 Nov 2023 05:10:11 GMT\r\nKeep-Alive: timeout=60\r\nConnection: keep-alive\r\n```\r\n\r\nWhat am I missing?","link":"https://stackoverflow.com/questions/77554644/why-is-spring-boot-returning-a-403-on-post-when-permitall-is-being-used","title":"Why is Spring Boot returning a 403 on POST when permitAll is being used?","body":"<p>Ok I am a little confused, to debug I have reverted to this...</p>\n<pre class=\"lang-java prettyprint-override\"><code>.authorizeHttpRequests((authz) -&gt; authz.anyRequest().permitAll())\n</code></pre>\n<p>And I have the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;contact&quot;)\npublic class LeadController {\n    @Autowired\n    private PotentialContactRepo potentialContactRepo;\n\n    @PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n    public void addContact(@RequestBody PotentialContact contact) {\n        potentialContactRepo.save(contact);\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;String&gt; getContact() {\n        return ResponseEntity.ok(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n<p>But when I call the post endpoint with postman I get a 403 but when I call the get I get a 200.</p>\n<pre><code>POST /contact HTTP/1.1\nUser-Agent: PostmanRuntime/7.31.0\nAccept: */*\nCache-Control: no-cache\nHost: localhost:8080\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\nContent-Type: application/x-www-form-urlencoded\nContent-Length: 151\n \nname=...&amp;contactInfo=...&amp;location=Wherever&amp;description=This%20is%20the%20description%3B!%40%23%24%23%24%40%24%40%23%24%40%23\n \nHTTP/1.1 403 Forbidden\nSet-Cookie: Path=/; HttpOnly\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 0\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nContent-Type: application/json\nTransfer-Encoding: chunked\nDate: Mon, 27 Nov 2023 05:10:11 GMT\nKeep-Alive: timeout=60\nConnection: keep-alive\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","spring","spring-security","security-context"],"comments":[{"score":1,"post_type":"question","creation_date":1701098519,"post_id":77541213,"comment_id":136729684,"body_markdown":"Why are you writing this yourself? There is cors support in Spring Security / Spring MVC. Your `SessionFilter` seems like to interfere with Spring Session and I don&#39;t get your authentication provider. Feels like you are trying to work around the frameworks you are using.","link":"https://stackoverflow.com/questions/77541213/authentication-information-in-security-context-is-null-for-other-pages-like-hom#comment136729684_77541213","body":"Why are you writing this yourself? There is cors support in Spring Security / Spring MVC. Your <code>SessionFilter</code> seems like to interfere with Spring Session and I don&#39;t get your authentication provider. Feels like you are trying to work around the frameworks you are using."},{"score":0,"post_type":"question","creation_date":1701100220,"post_id":77541213,"comment_id":136730103,"body_markdown":"can you please add the correct code for session filter and cors support. Also for security context for springboot. I also have one question that, in springboot should i use UserDetailsService interface of springboot or my custom user entity is enough??","link":"https://stackoverflow.com/questions/77541213/authentication-information-in-security-context-is-null-for-other-pages-like-hom#comment136730103_77541213","body":"can you please add the correct code for session filter and cors support. Also for security context for springboot. I also have one question that, in springboot should i use UserDetailsService interface of springboot or my custom user entity is enough??"},{"score":0,"post_type":"question","creation_date":1701103370,"post_id":77541213,"comment_id":136730751,"body_markdown":"can i ask why you havnt read the documentation before asking here?","link":"https://stackoverflow.com/questions/77541213/authentication-information-in-security-context-is-null-for-other-pages-like-hom#comment136730751_77541213","body":"can i ask why you havnt read the documentation before asking here?"},{"score":0,"post_type":"question","creation_date":1701104040,"post_id":77541213,"comment_id":136730881,"body_markdown":"I have read and implemented but it seems not working. can you suggest why my authentication information is not getting stored in security context for other pages after login??","link":"https://stackoverflow.com/questions/77541213/authentication-information-in-security-context-is-null-for-other-pages-like-hom#comment136730881_77541213","body":"I have read and implemented but it seems not working. can you suggest why my authentication information is not getting stored in security context for other pages after login??"},{"score":0,"post_type":"question","creation_date":1701157686,"post_id":77541213,"comment_id":136737246,"body_markdown":"You don&#39;t need to implement anything, cors support is build into Spring Security as well as Spring MVC. Your session filter is something that is already being handled by Spring Session itself. Why you chose to implement them yourself defeats me, the same for the authentication provider. You should just implement a `UserDetailsService` and use that (or just provide the queries to Spring Security to map your data to the Sring Security user).","link":"https://stackoverflow.com/questions/77541213/authentication-information-in-security-context-is-null-for-other-pages-like-hom#comment136737246_77541213","body":"You don&#39;t need to implement anything, cors support is build into Spring Security as well as Spring MVC. Your session filter is something that is already being handled by Spring Session itself. Why you chose to implement them yourself defeats me, the same for the authentication provider. You should just implement a <code>UserDetailsService</code> and use that (or just provide the queries to Spring Security to map your data to the Sring Security user)."},{"score":0,"post_type":"question","creation_date":1701182021,"post_id":77541213,"comment_id":136741681,"body_markdown":"@M.Deinum so is it mandatory to implement UserDetailsService of spring security?? without implementing it we can&#39;t authenticate or authorize user??","link":"https://stackoverflow.com/questions/77541213/authentication-information-in-security-context-is-null-for-other-pages-like-hom#comment136741681_77541213","body":"@M.Deinum so is it mandatory to implement UserDetailsService of spring security?? without implementing it we can&#39;t authenticate or authorize user??"},{"score":0,"post_type":"question","creation_date":1701182757,"post_id":77541213,"comment_id":136741860,"body_markdown":"You don&#39;t need to implement it you can provide queries if they come from a database. You could also use an `AuthenticationProvider` but yours doesn&#39;t make sense, nor does it add anything to the regular one if you would wrap your `CustomerRepository` with a `UserDetailsService`.","link":"https://stackoverflow.com/questions/77541213/authentication-information-in-security-context-is-null-for-other-pages-like-hom#comment136741860_77541213","body":"You don&#39;t need to implement it you can provide queries if they come from a database. You could also use an <code>AuthenticationProvider</code> but yours doesn&#39;t make sense, nor does it add anything to the regular one if you would wrap your <code>CustomerRepository</code> with a <code>UserDetailsService</code>."},{"score":0,"post_type":"question","creation_date":1701183957,"post_id":77541213,"comment_id":136742106,"body_markdown":"I don&#39;t understant you @M.Deinum. can you provide any example code if possible please","link":"https://stackoverflow.com/questions/77541213/authentication-information-in-security-context-is-null-for-other-pages-like-hom#comment136742106_77541213","body":"I don&#39;t understant you @M.Deinum. can you provide any example code if possible please"},{"score":0,"post_type":"question","creation_date":1701184126,"post_id":77541213,"comment_id":136742133,"body_markdown":"What is it you don&#39;t understand? Ditch the code you have, create a `UserDetailsService` that uses your `CustomerREpository` to retrieve the user and that is it. Spring Security will do all the other things (password checks, user validation etc. etc.). What you are doing and writing is already provided by all the other frameworks and libraries you are using, you are working around them by your implementations of the filters, authentication providers etc.","link":"https://stackoverflow.com/questions/77541213/authentication-information-in-security-context-is-null-for-other-pages-like-hom#comment136742133_77541213","body":"What is it you don&#39;t understand? Ditch the code you have, create a <code>UserDetailsService</code> that uses your <code>CustomerREpository</code> to retrieve the user and that is it. Spring Security will do all the other things (password checks, user validation etc. etc.). What you are doing and writing is already provided by all the other frameworks and libraries you are using, you are working around them by your implementations of the filters, authentication providers etc."},{"score":0,"post_type":"question","creation_date":1701230527,"post_id":77541213,"comment_id":136748765,"body_markdown":"Can you please provide any link for the same","link":"https://stackoverflow.com/questions/77541213/authentication-information-in-security-context-is-null-for-other-pages-like-hom#comment136748765_77541213","body":"Can you please provide any link for the same"}],"comment_count":10,"is_answered":false,"view_count":52,"answer_count":0,"score":-1,"last_activity_date":1701098301,"creation_date":1700808793,"last_edit_date":1701098301,"question_id":77541213,"body_markdown":"I am not able to set the authentication information in security context for whole application.but I am able to do it in /login page but after login when I access other pages it is giving me null. Why? What is this behaviour.please help me. I am stuck in this issue.\r\nPlease find below code for reference \r\n\r\n```\r\n@Component\r\n@Order(Ordered.HIGHEST_PRECEDENCE+2) \r\npublic class CorsFilter implements Filter{\r\n\t\r\n\t@Autowired\r\n\tprivate LoginAuthenticationProvider loginAuthenticationProvider;\r\n\t\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest req,ServletResponse res, FilterChain chain) throws IOException,ServletException{\r\n\t\tfinal HttpServletRequest request = (HttpServletRequest) req;\r\n\t\tfinal HttpServletResponse response = (HttpServletResponse) res;\r\n \r\n\t\tresponse.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n\t\tresponse.addHeader(&quot;Access-Control-Allow-Methods&quot;,&quot;GET,POST,PUT,DELETE,OPTIONS&quot;);\r\n\t\tresponse.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Authorization,Content-Type,CustomerID&quot;);\r\n\t\tresponse.addHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n \r\n\t\tif(&quot;OPTIONS&quot;.equalsIgnoreCase(((HttpServletRequest)req).getMethod()))\r\n\t\t\tresponse.setStatus(HttpServletResponse.SC_OK);\r\n\t\telse\r\n\t\t  chain.doFilter(req, res);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nBelow is my session filter\r\n\r\n```\r\n@Component\r\n@Order(Ordered.HIGHEST_PRECEDENCE+1)\r\npublic class SessionFilter implements Filter {\r\n\t\r\n\tprivate final Logger logger = LoggerFactory.getLogger(&quot;sessionFilterLogger&quot;);\r\n\tprivate boolean isCookiePresent = false;\r\n\tprivate String cookie = &quot;&quot;;\r\n\tprivate final long SESSION_TIMEOUT = 30*60*1000;\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate UserSessionRepository sessionRepository;\r\n\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n\t\t\tthrows IOException, ServletException {\r\n \r\n\t\tHttpServletRequest httpRequest = (HttpServletRequest) request;\r\n\t\tHttpServletResponse httpResponse = (HttpServletResponse) response;\r\n \r\n\t\tCookie[] cookies = httpRequest.getCookies();\r\n\t\tif(cookies==null) {\r\n\t\t\tlogger.debug(request.toString());\r\n\t\t\tchain.doFilter(request,response);\r\n\t\t\treturn;\r\n\t\t}\r\n \r\n\t\telse {\r\n\t\t\tfor(Cookie cookie:cookies) {\r\n\t\t\t\tif(cookie.getName().equals(&quot;username_session&quot;)) {\r\n\t\t\t\t\tthis.isCookiePresent = true;\r\n\t\t\t\t\tthis.cookie = cookie.getValue();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\r\n \r\n\t\tif(this.isCookiePresent &amp;&amp; this.cookie!=null &amp;&amp; !this.cookie.isEmpty()) {\r\n\t\t\tUserSession userSession = sessionRepository.findBySession(this.cookie).get();\r\n\t\t\tlong currentTime = System.currentTimeMillis();\r\n\t\t\tlong last_access_time = userSession.getLast_access_time().getTime();\r\n\t\t\tif(currentTime-last_access_time&gt;this.SESSION_TIMEOUT) {\r\n\t\t\t\thttpResponse.sendRedirect(&quot;/login&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t}else {\r\n\t\t\t\tUserSession usersession = new UserSession();\r\n\t\t\t\tusersession.setLast_access_time(new Timestamp(currentTime));\r\n\t\t\t\tsessionRepository.save(usersession);\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\thttpResponse.sendRedirect(&quot;/login&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tchain.doFilter(request, response);\r\n \r\n\t}\r\n\r\n}\r\n```\r\n\r\nBelow is my custom login provider\r\n\r\n\r\n```\r\n@Component\r\npublic class LoginAuthenticationProvider implements AuthenticationProvider {\r\n\t\r\n\t@Autowired\r\n\tprivate CustomerRepository customerRepository;\r\n\t\r\n\t@Autowired PasswordConfig passwordEncoder;\r\n\r\n\t@Override\r\n\tpublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n \r\n\t\tfinal Logger logger = LoggerFactory.getLogger(&quot;authProvider&quot;);\r\n \r\n\t\tString username = authentication.getName();\r\n\t\tString password = authentication.getCredentials().toString();\r\n\t\tCustomer user = customerRepository.getByUsername(username);\r\n \r\n\t\tif(password==null || password.isBlank() || password.isEmpty()) {\r\n//\t\t\tBoolean isUserExist = customerRepository.existsByUsername(username);\r\n\t\t\treturn new UsernamePasswordAuthenticationToken(username,user.getPassword());\r\n\t\t}\r\n\r\n \r\n\t\tif(passwordEncoder.encoder().matches(password, user.getPassword())) {\r\n\t\t\treturn new UsernamePasswordAuthenticationToken(username, password);\r\n\t\t}else {\r\n\t\t\tthrow new BadCredentialsException(&quot;Bad Credentials&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean supports(Class&lt;?&gt; authentication) {\r\n\t\treturn UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\r\n\t}\r\n\r\n}\r\n```\r\nthis is &quot;CustomerManagerImpl&quot; class where i am adding the logic to store setAuthentication is secuity context using custom login provider\r\n```\tSecurityContextHolder.setStrategyName(SecurityContextHolder.MODE_INHERITABLETHREADLOCAL);\r\nSecurityContext context = SecurityContextHolder.createEmptyContext();\r\n\r\nCollection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\nauthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\nAuthentication authenticationToken = new UsernamePasswordAuthenticationToken(data.getUsername(),&quot;&quot;,authorities);\r\ncontext.setAuthentication(authenticationToken);\r\nSecurityContextHolder.setContext(context);\r\n\r\nuserSessionManager.createSession(data.getUsername(),req);\r\nString sessionID = userSessionManager.getSession(data.getUsername());\r\n\r\nAuthentication getAuthentication = SecurityContextHolder.getContext().getAuthentication();\r\n\r\nCookie cookie = new Cookie(&quot;username_session&quot;,sessionID);\r\ncookie.setPath(&quot;/&quot;);\r\ncookie.setMaxAge(1800);\r\ncookie.setHttpOnly(true);\r\nres.addCookie(cookie);\r\n```\r\n\r\nNow tell me where I am wrong. Why am I not able to set the authentication information in security context for the whole application. also why am I not able to see the cookie for all subsequent requests. Should I add the logic in a filter to add cookie to each requests? if yes consider writing the code.\r\n\r\nI tried to add authentication in security context after logging in but after logging in it is not being added in security context. It is giving me null.","link":"https://stackoverflow.com/questions/77541213/authentication-information-in-security-context-is-null-for-other-pages-like-hom","title":"authentication information in security context is null for other pages like /home","body":"<p>I am not able to set the authentication information in security context for whole application.but I am able to do it in /login page but after login when I access other pages it is giving me null. Why? What is this behaviour.please help me. I am stuck in this issue.\nPlease find below code for reference</p>\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE+2) \npublic class CorsFilter implements Filter{\n    \n    @Autowired\n    private LoginAuthenticationProvider loginAuthenticationProvider;\n    \n    @Override\n    public void doFilter(ServletRequest req,ServletResponse res, FilterChain chain) throws IOException,ServletException{\n        final HttpServletRequest request = (HttpServletRequest) req;\n        final HttpServletResponse response = (HttpServletResponse) res;\n \n        response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Methods&quot;,&quot;GET,POST,PUT,DELETE,OPTIONS&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Authorization,Content-Type,CustomerID&quot;);\n        response.addHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n \n        if(&quot;OPTIONS&quot;.equalsIgnoreCase(((HttpServletRequest)req).getMethod()))\n            response.setStatus(HttpServletResponse.SC_OK);\n        else\n          chain.doFilter(req, res);\n    }\n\n}\n</code></pre>\n<p>Below is my session filter</p>\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE+1)\npublic class SessionFilter implements Filter {\n    \n    private final Logger logger = LoggerFactory.getLogger(&quot;sessionFilterLogger&quot;);\n    private boolean isCookiePresent = false;\n    private String cookie = &quot;&quot;;\n    private final long SESSION_TIMEOUT = 30*60*1000;\n    \n    \n    @Autowired\n    private UserSessionRepository sessionRepository;\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n \n        HttpServletRequest httpRequest = (HttpServletRequest) request;\n        HttpServletResponse httpResponse = (HttpServletResponse) response;\n \n        Cookie[] cookies = httpRequest.getCookies();\n        if(cookies==null) {\n            logger.debug(request.toString());\n            chain.doFilter(request,response);\n            return;\n        }\n \n        else {\n            for(Cookie cookie:cookies) {\n                if(cookie.getName().equals(&quot;username_session&quot;)) {\n                    this.isCookiePresent = true;\n                    this.cookie = cookie.getValue();\n                    break;\n                }\n            }           \n        }\n\n \n        if(this.isCookiePresent &amp;&amp; this.cookie!=null &amp;&amp; !this.cookie.isEmpty()) {\n            UserSession userSession = sessionRepository.findBySession(this.cookie).get();\n            long currentTime = System.currentTimeMillis();\n            long last_access_time = userSession.getLast_access_time().getTime();\n            if(currentTime-last_access_time&gt;this.SESSION_TIMEOUT) {\n                httpResponse.sendRedirect(&quot;/login&quot;);\n                return;\n            }else {\n                UserSession usersession = new UserSession();\n                usersession.setLast_access_time(new Timestamp(currentTime));\n                sessionRepository.save(usersession);\n            }\n        }else {\n            httpResponse.sendRedirect(&quot;/login&quot;);\n            return;\n        }\n\n        chain.doFilter(request, response);\n \n    }\n\n}\n</code></pre>\n<p>Below is my custom login provider</p>\n<pre><code>@Component\npublic class LoginAuthenticationProvider implements AuthenticationProvider {\n    \n    @Autowired\n    private CustomerRepository customerRepository;\n    \n    @Autowired PasswordConfig passwordEncoder;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n \n        final Logger logger = LoggerFactory.getLogger(&quot;authProvider&quot;);\n \n        String username = authentication.getName();\n        String password = authentication.getCredentials().toString();\n        Customer user = customerRepository.getByUsername(username);\n \n        if(password==null || password.isBlank() || password.isEmpty()) {\n//          Boolean isUserExist = customerRepository.existsByUsername(username);\n            return new UsernamePasswordAuthenticationToken(username,user.getPassword());\n        }\n\n \n        if(passwordEncoder.encoder().matches(password, user.getPassword())) {\n            return new UsernamePasswordAuthenticationToken(username, password);\n        }else {\n            throw new BadCredentialsException(&quot;Bad Credentials&quot;);\n        }\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\n    }\n\n}\n</code></pre>\n<p>this is &quot;CustomerManagerImpl&quot; class where i am adding the logic to store setAuthentication is secuity context using custom login provider</p>\n<pre><code>SecurityContext context = SecurityContextHolder.createEmptyContext();\n\nCollection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\nauthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\nAuthentication authenticationToken = new UsernamePasswordAuthenticationToken(data.getUsername(),&quot;&quot;,authorities);\ncontext.setAuthentication(authenticationToken);\nSecurityContextHolder.setContext(context);\n\nuserSessionManager.createSession(data.getUsername(),req);\nString sessionID = userSessionManager.getSession(data.getUsername());\n\nAuthentication getAuthentication = SecurityContextHolder.getContext().getAuthentication();\n\nCookie cookie = new Cookie(&quot;username_session&quot;,sessionID);\ncookie.setPath(&quot;/&quot;);\ncookie.setMaxAge(1800);\ncookie.setHttpOnly(true);\nres.addCookie(cookie);\n</code></pre>\n<p>Now tell me where I am wrong. Why am I not able to set the authentication information in security context for the whole application. also why am I not able to see the cookie for all subsequent requests. Should I add the logic in a filter to add cookie to each requests? if yes consider writing the code.</p>\n<p>I tried to add authentication in security context after logging in but after logging in it is not being added in security context. It is giving me null.</p>\n"},{"tags":["java"],"comments":[{"score":1,"post_type":"question","creation_date":1701060543,"post_id":77554546,"comment_id":136723760,"body_markdown":"Can you use [markdown](https://stackoverflow.com/editing-help) to better format the stack trace?","link":"https://stackoverflow.com/questions/77554546/weld-env-000028-weld-initialization-s-kipped-no-bean-archive-found#comment136723760_77554546","body":"Can you use <a href=\"https://stackoverflow.com/editing-help\">markdown</a> to better format the stack trace?"}],"comment_count":1,"is_answered":false,"view_count":15,"answer_count":0,"score":-1,"last_activity_date":1701097993,"creation_date":1701059958,"last_edit_date":1701097993,"question_id":77554546,"body_markdown":"while converting maven to gradle getting exception error stack\r\n\r\n```JSON\r\nClass&quot;:&quot;o.j.w.Bootstrap&quot;,&quot;Level&quot;:&quot; \r\n\r\nINFO&quot;,&quot;Thread&quot;:&quot;main&quot;,&quot;Message&quot;:&quot;WELD-ENV-000028: Weld initialization s\r\n\r\nkipped - no bean archive found;&quot;,&quot;TimeTaken&quot;:&quot;&quot;}\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \r\nCaused by: java.lang.RuntimeException: java`your text`.lang.IllegalStateException: Singleton not set for STATIC_INSTANCE =&gt; []\r\n        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\r\n        at com.ge.hc.cloud.app.query.Application.main(Application.java:55)\r\n        ... 8 more\r\nCaused by: java.lang.IllegalStateException: Singleton not set for STATIC_INSTANCE =&gt; []\r\n        at org.jboss.weld.bootstrap.api.helpers.RegistrySingletonProvider$RegistrySingleton.get(RegistrySingletonProvider.java:28)\r\n```\r\n \r\nI have tried with bean.xml also but still this error is getting","link":"https://stackoverflow.com/questions/77554546/weld-env-000028-weld-initialization-s-kipped-no-bean-archive-found","title":"WELD-ENV-000028: Weld initialization s kipped - no bean archive found;","body":"<p>while converting maven to gradle getting exception error stack</p>\n<pre><code>Class&quot;:&quot;o.j.w.Bootstrap&quot;,&quot;Level&quot;:&quot; \n\nINFO&quot;,&quot;Thread&quot;:&quot;main&quot;,&quot;Message&quot;:&quot;WELD-ENV-000028: Weld initialization s\n\nkipped - no bean archive found;&quot;,&quot;TimeTaken&quot;:&quot;&quot;}\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        \nCaused by: java.lang.RuntimeException: java`your text`.lang.IllegalStateException: Singleton not set for STATIC_INSTANCE =&gt; []\n        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\n        at com.ge.hc.cloud.app.query.Application.main(Application.java:55)\n        ... 8 more\nCaused by: java.lang.IllegalStateException: Singleton not set for STATIC_INSTANCE =&gt; []\n        at org.jboss.weld.bootstrap.api.helpers.RegistrySingletonProvider$RegistrySingleton.get(RegistrySingletonProvider.java:28)\n</code></pre>\n<p>I have tried with bean.xml also but still this error is getting</p>\n"},{"tags":["java","spring","spring-boot","microservices"],"comments":[{"score":1,"post_type":"question","creation_date":1701098316,"post_id":77557955,"comment_id":136729627,"body_markdown":"What do you mean rollback? Do you want to rollback the `repository.save` or the result of the `webclient.get` call? The latter isn&#39;t possible, the first should work out-of-the-box.","link":"https://stackoverflow.com/questions/77557955/can-i-use-the-transactional-annotation-to-rollback-on-unsuccessful-http-respons#comment136729627_77557955","body":"What do you mean rollback? Do you want to rollback the <code>repository.save</code> or the result of the <code>webclient.get</code> call? The latter isn&#39;t possible, the first should work out-of-the-box."},{"score":1,"post_type":"question","creation_date":1701098631,"post_id":77557955,"comment_id":136729711,"body_markdown":"@Transactional (and rollback on exception) is only for the current DB connection within the executing microservice, and does not cross HTTP requests.  Distributed transactions are really really hard to get right.  Search on distributed transactions, two phase commit, and eventual consistency.  [Here](https://www.baeldung.com/transactions-across-microservices) is a good jumping off point - it&#39;s a long fall.","link":"https://stackoverflow.com/questions/77557955/can-i-use-the-transactional-annotation-to-rollback-on-unsuccessful-http-respons#comment136729711_77557955","body":"@Transactional (and rollback on exception) is only for the current DB connection within the executing microservice, and does not cross HTTP requests.  Distributed transactions are really really hard to get right.  Search on distributed transactions, two phase commit, and eventual consistency.  <a href=\"https://www.baeldung.com/transactions-across-microservices\" rel=\"nofollow noreferrer\">Here</a> is a good jumping off point - it&#39;s a long fall."},{"score":0,"post_type":"question","creation_date":1701099763,"post_id":77557955,"comment_id":136729999,"body_markdown":"@M.Deinum yes I need to rollback every db task. So the db task behind `webclient.get` should get rollbacked by its own @Transactional annotation and `repository.save` should get rollbacked on the unsuccessful HTTP response.","link":"https://stackoverflow.com/questions/77557955/can-i-use-the-transactional-annotation-to-rollback-on-unsuccessful-http-respons#comment136729999_77557955","body":"@M.Deinum yes I need to rollback every db task. So the db task behind <code>webclient.get</code> should get rollbacked by its own @Transactional annotation and <code>repository.save</code> should get rollbacked on the unsuccessful HTTP response."},{"score":0,"post_type":"question","creation_date":1701157595,"post_id":77557955,"comment_id":136737235,"body_markdown":"As long as the transaction aspect sees the exception it will rollback.","link":"https://stackoverflow.com/questions/77557955/can-i-use-the-transactional-annotation-to-rollback-on-unsuccessful-http-respons#comment136737235_77557955","body":"As long as the transaction aspect sees the exception it will rollback."}],"comment_count":4,"is_answered":false,"view_count":42,"answer_count":0,"score":-1,"last_activity_date":1701097781,"creation_date":1701097781,"question_id":77557955,"body_markdown":"I use several spring boot microservices which also have to execute DB transactions across several services for more complex tasks. Is it possible with the @Transactional annotation to perform rollbacks on unsuccessful HTTP responses? If not, how can I proceed in such cases?\r\n\r\nSo far I have always used the @Transactional annotation to reset the changes in case of internal errors.\r\n\r\nI would think of something like this:\r\n\r\n\r\n```\r\n@Transactional(rollbackFor = Exception.class)\r\npublic Flux&lt;Entity&gt; updateComplexDBTask(Entity entity) throws Exception {\r\n    entity.setX(&quot;X&quot;);\r\n    repository.save(entity)\r\n    try {\r\n         return this.webClient.get()\r\n                .uri(builder.build().toUri())\r\n                .retrieve();\r\n    } catch (Exception e) {\r\n         throw new Exception(e);\r\n    }\r\n}\r\n```\r\n","link":"https://stackoverflow.com/questions/77557955/can-i-use-the-transactional-annotation-to-rollback-on-unsuccessful-http-respons","title":"Can I use the @Transactional Annotation to rollback on unsuccessful http responses?","body":"<p>I use several spring boot microservices which also have to execute DB transactions across several services for more complex tasks. Is it possible with the @Transactional annotation to perform rollbacks on unsuccessful HTTP responses? If not, how can I proceed in such cases?</p>\n<p>So far I have always used the @Transactional annotation to reset the changes in case of internal errors.</p>\n<p>I would think of something like this:</p>\n<pre><code>@Transactional(rollbackFor = Exception.class)\npublic Flux&lt;Entity&gt; updateComplexDBTask(Entity entity) throws Exception {\n    entity.setX(&quot;X&quot;);\n    repository.save(entity)\n    try {\n         return this.webClient.get()\n                .uri(builder.build().toUri())\n                .retrieve();\n    } catch (Exception e) {\n         throw new Exception(e);\n    }\n}\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"score":2,"post_type":"question","creation_date":1701098581,"post_id":77557951,"comment_id":136729697,"body_markdown":"Does this answer your question? [Replace or remove text from PDF with PDFbox in Java](https://stackoverflow.com/questions/63592078/replace-or-remove-text-from-pdf-with-pdfbox-in-java)","link":"https://stackoverflow.com/questions/77557951/remove-text-from-a-pdf-document#comment136729697_77557951","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63592078/replace-or-remove-text-from-pdf-with-pdfbox-in-java\">Replace or remove text from PDF with PDFbox in Java</a>"},{"score":0,"post_type":"question","creation_date":1701099894,"post_id":77557951,"comment_id":136730033,"body_markdown":"There is a RemoveAllText.java example in the source code download. However this removes all. You could look with PDFDebugger at the content stream to see if there is some easy way to identify what you want to remove. Or you&#39;ll have to use a commercial tool like compart docbridge mill.","link":"https://stackoverflow.com/questions/77557951/remove-text-from-a-pdf-document#comment136730033_77557951","body":"There is a RemoveAllText.java example in the source code download. However this removes all. You could look with PDFDebugger at the content stream to see if there is some easy way to identify what you want to remove. Or you&#39;ll have to use a commercial tool like compart docbridge mill."},{"score":0,"post_type":"question","creation_date":1701118662,"post_id":77557951,"comment_id":136733345,"body_markdown":"What do you actually mean by removing text? In particular do you hope that the remaining text will reflow? Or do you expect it to remain where it is? Also you say &quot;text&quot; - have you made sure that that &quot;text&quot; is drawn using text drawing instructions? Or does it merely have the look of text and actually is drawn as vector or bitmap images?","link":"https://stackoverflow.com/questions/77557951/remove-text-from-a-pdf-document#comment136733345_77557951","body":"What do you actually mean by removing text? In particular do you hope that the remaining text will reflow? Or do you expect it to remain where it is? Also you say &quot;text&quot; - have you made sure that that &quot;text&quot; is drawn using text drawing instructions? Or does it merely have the look of text and actually is drawn as vector or bitmap images?"},{"score":0,"post_type":"question","creation_date":1701170843,"post_id":77557951,"comment_id":136739574,"body_markdown":"@mkl Yes, it is a text data. I have seen it in the PDFDebugger (Operations Tj and Td). I want to remove the part of the text, and the text that was left must stay in the same place.","link":"https://stackoverflow.com/questions/77557951/remove-text-from-a-pdf-document#comment136739574_77557951","body":"@mkl Yes, it is a text data. I have seen it in the PDFDebugger (Operations Tj and Td). I want to remove the part of the text, and the text that was left must stay in the same place."},{"score":0,"post_type":"question","creation_date":1701180468,"post_id":77557951,"comment_id":136741342,"body_markdown":"Have you tried the answer @Pino has linked?","link":"https://stackoverflow.com/questions/77557951/remove-text-from-a-pdf-document#comment136741342_77557951","body":"Have you tried the answer @Pino has linked?"}],"comment_count":5,"is_answered":false,"view_count":38,"answer_count":0,"score":0,"last_activity_date":1701097757,"creation_date":1701097757,"question_id":77557951,"body_markdown":"I have some PDF files and I have to remove a part of the text, but I can&#39;t find out how can I do this. A ```PDPageContentStream``` does not have any ```get``` or ```remove``` methods. Can anyone give me advice or any ideas? \r\nI must use the ```PDFBOX``` library.","link":"https://stackoverflow.com/questions/77557951/remove-text-from-a-pdf-document","title":"Remove text from a PDF document","body":"<p>I have some PDF files and I have to remove a part of the text, but I can't find out how can I do this. A <code>PDPageContentStream</code> does not have any <code>get</code> or <code>remove</code> methods. Can anyone give me advice or any ideas?\nI must use the <code>PDFBOX</code> library.</p>\n"}],"has_more":true,"quota_max":300,"quota_remaining":285}