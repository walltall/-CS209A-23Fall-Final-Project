{"items":[{"tags":["java","maven","google-cloud-platform","google-secret-manager"],"comments":[{"score":0,"post_type":"question","creation_date":1701076661,"post_id":77553648,"comment_id":136725632,"body_markdown":"It should work out of the box. Can you share your code and not only your dependency management?","link":"https://stackoverflow.com/questions/77553648/java-maven-configuring-gcp-secret-manager-type-not-accessible-error-multiple#comment136725632_77553648","body":"It should work out of the box. Can you share your code and not only your dependency management?"}],"comment_count":1,"is_answered":false,"view_count":31,"answer_count":0,"score":0,"last_activity_date":1701037341,"creation_date":1701036238,"last_edit_date":1701037341,"question_id":77553648,"body_markdown":"I want to add the Google Cloud Platform to my Java application (https://cloud.google.com/secret-manager/docs/reference/libraries). I added dependencies to my `pom.xml` file as instructed:\r\n\r\n```\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n      &lt;version&gt;26.23.0&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n```\r\n\r\nAnd added the module to my `module-info.java` file:\r\n```\r\nrequires google.cloud.secretmanager;\r\n```\r\n\r\nIssue #1: Type Not Accessible Error\r\n\r\nWhen I import classes, as instructed:\r\n```\r\nimport com.google.cloud.secretmanager.v1.AccessSecretVersionResponse;\r\nimport com.google.cloud.secretmanager.v1.ProjectName;\r\nimport com.google.cloud.secretmanager.v1.Replication;\r\nimport com.google.cloud.secretmanager.v1.Secret;\r\nimport com.google.cloud.secretmanager.v1.SecretManagerServiceClient; //works\r\nimport com.google.cloud.secretmanager.v1.SecretPayload;\r\nimport com.google.cloud.secretmanager.v1.SecretVersion;\r\nimport com.google.protobuf.ByteString;\r\n```\r\nOnly the `import com.google.cloud.secretmanager.v1.SecretManagerServiceClient;` imports successfully, all of the other classes do not, giving me error: `The type com.google.cloud.secretmanager.v1.ListSecretsRequest is not accessible)`. \r\n\r\nIssue #2: ClassNotFoundException \r\n\r\nAs I tried to compile the code, using the VSCode debugger\r\n\r\n```\r\n&#39;C:\\Program Files\\Microsoft\\jdk-21.0.1.12-hotspot\\bin\\java.exe&#39; &#39;-agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:63218&#39; &#39;@C:\\Users\\phill\\AppData\\Local\\Temp\\cp_4rjb4t8mfd73pngxbgeub8e7.argfile&#39; &#39;-m&#39; &#39;NTagJavaSampleApp/com.sample.ntag.Main&#39;\r\n```\r\n\r\nIt started giving me compilation errors, such as:\r\n```\r\nCaused by: java.lang.Error: Unresolved compilation problems:\r\n        The type com.google.api.gax.core.BackgroundResource cannot be resolved. It is indirectly referenced from required type com.google.cloud.secretmanager.v1.SecretManagerServiceClient\r\n        The resource type SecretManagerServiceClient does not implement java.lang.AutoCloseable\r\n```\r\n\r\nWhich prompted me to install:\r\n```\r\n &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gax&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nAnd add: \r\n```\r\nrequires gax;\r\n```\r\n\r\nAnd gave the error:\r\n```\r\njava.lang.ClassNotFoundException: com.google.cloud.secretmanager.v1.ListSecretsRequest\r\n```\r\nIssue #3: Multiple Module Error\r\n\r\nIt turns out, the `google.cloud.secretmanager-2.24.0.jar` file contains the `com.google.cloud.secretmanager.v1.SecretManagerServiceClient` class (which is needed for the initializing the client), but not the `com.google.cloud.secretmanager.v1.ListSecretsRequest` class, which also declares the package `package com.google.cloud.secretmanager.v1` but is found in the `proto-google-cloud-secretmanager-v1-2.24.0.jar` file. \r\n\r\nSo, I installed that (https://mvnrepository.com/artifact/com.google.api.grpc/proto-google-cloud-secretmanager-v1):\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;proto-google-cloud-secretmanager-v1&lt;/artifactId&gt;\r\n    &lt;version&gt;2.23.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd added it:\r\n```\r\nrequires proto.google.cloud.secretmanager.v1;\r\n```\r\n\r\nBut now, when I try to import from any class from `com.google.cloud.secretmanager.v1`, (such as to initialize the client: import com.google.cloud.secretmanager.v1.SecretManagerServiceClient;\r\n), it gives the error `The package com.google.cloud.secretmanager.v1 is accessible from more than one module: google.cloud.secretmanager, proto.google.cloud.secretmanager.v1Java(8390063)`. I feel like it&#39;s trying to take me through a web of &quot;inner dependencies&quot;, accessing deeply nested libraries that should only be called on by higher libraries. However, I&#39;m having trouble importing the right classes, since the packages are dispersed between multiple jar files.\r\n\r\nFYI, I went down the rabbit hole of these errors, and ended up installing:\r\n```\r\n&lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;proto-google-common-protos&lt;/artifactId&gt;\r\n    &lt;version&gt;2.28.0&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n &lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gax&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n  &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\r\n  &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n  &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\r\n  &lt;version&gt;6.0.53&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd adding:\r\n```\r\n    requires com.google.api.apicommon;\r\n    requires protobuf.java;\r\n    requires grpc.protobuf;\r\n    requires grpc.stub;\r\n    requires annotations.api;\r\n    requires gax;\r\n    requires gax.grpc;\r\n``` \r\n\r\nBut I doubt that&#39;s the right way of doing it. ","link":"https://stackoverflow.com/questions/77553648/java-maven-configuring-gcp-secret-manager-type-not-accessible-error-multiple","title":"Java Maven: Configuring GCP Secret Manager. Type Not Accessible Error, Multiple Module Error, and ClassNotFoundException","body":"<p>I want to add the Google Cloud Platform to my Java application (<a href=\"https://cloud.google.com/secret-manager/docs/reference/libraries\" rel=\"nofollow noreferrer\">https://cloud.google.com/secret-manager/docs/reference/libraries</a>). I added dependencies to my <code>pom.xml</code> file as instructed:</p>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n      &lt;version&gt;26.23.0&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>And added the module to my <code>module-info.java</code> file:</p>\n<pre><code>requires google.cloud.secretmanager;\n</code></pre>\n<p>Issue #1: Type Not Accessible Error</p>\n<p>When I import classes, as instructed:</p>\n<pre><code>import com.google.cloud.secretmanager.v1.AccessSecretVersionResponse;\nimport com.google.cloud.secretmanager.v1.ProjectName;\nimport com.google.cloud.secretmanager.v1.Replication;\nimport com.google.cloud.secretmanager.v1.Secret;\nimport com.google.cloud.secretmanager.v1.SecretManagerServiceClient; //works\nimport com.google.cloud.secretmanager.v1.SecretPayload;\nimport com.google.cloud.secretmanager.v1.SecretVersion;\nimport com.google.protobuf.ByteString;\n</code></pre>\n<p>Only the <code>import com.google.cloud.secretmanager.v1.SecretManagerServiceClient;</code> imports successfully, all of the other classes do not, giving me error: <code>The type com.google.cloud.secretmanager.v1.ListSecretsRequest is not accessible)</code>.</p>\n<p>Issue #2: ClassNotFoundException</p>\n<p>As I tried to compile the code, using the VSCode debugger</p>\n<pre><code>'C:\\Program Files\\Microsoft\\jdk-21.0.1.12-hotspot\\bin\\java.exe' '-agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:63218' '@C:\\Users\\phill\\AppData\\Local\\Temp\\cp_4rjb4t8mfd73pngxbgeub8e7.argfile' '-m' 'NTagJavaSampleApp/com.sample.ntag.Main'\n</code></pre>\n<p>It started giving me compilation errors, such as:</p>\n<pre><code>Caused by: java.lang.Error: Unresolved compilation problems:\n        The type com.google.api.gax.core.BackgroundResource cannot be resolved. It is indirectly referenced from required type com.google.cloud.secretmanager.v1.SecretManagerServiceClient\n        The resource type SecretManagerServiceClient does not implement java.lang.AutoCloseable\n</code></pre>\n<p>Which prompted me to install:</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n        &lt;artifactId&gt;gax&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And add:</p>\n<pre><code>requires gax;\n</code></pre>\n<p>And gave the error:</p>\n<pre><code>java.lang.ClassNotFoundException: com.google.cloud.secretmanager.v1.ListSecretsRequest\n</code></pre>\n<p>Issue #3: Multiple Module Error</p>\n<p>It turns out, the <code>google.cloud.secretmanager-2.24.0.jar</code> file contains the <code>com.google.cloud.secretmanager.v1.SecretManagerServiceClient</code> class (which is needed for the initializing the client), but not the <code>com.google.cloud.secretmanager.v1.ListSecretsRequest</code> class, which also declares the package <code>package com.google.cloud.secretmanager.v1</code> but is found in the <code>proto-google-cloud-secretmanager-v1-2.24.0.jar</code> file.</p>\n<p>So, I installed that (<a href=\"https://mvnrepository.com/artifact/com.google.api.grpc/proto-google-cloud-secretmanager-v1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.api.grpc/proto-google-cloud-secretmanager-v1</a>):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;proto-google-cloud-secretmanager-v1&lt;/artifactId&gt;\n    &lt;version&gt;2.23.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And added it:</p>\n<pre><code>requires proto.google.cloud.secretmanager.v1;\n</code></pre>\n<p>But now, when I try to import from any class from <code>com.google.cloud.secretmanager.v1</code>, (such as to initialize the client: import com.google.cloud.secretmanager.v1.SecretManagerServiceClient;\n), it gives the error <code>The package com.google.cloud.secretmanager.v1 is accessible from more than one module: google.cloud.secretmanager, proto.google.cloud.secretmanager.v1Java(8390063)</code>. I feel like it's trying to take me through a web of &quot;inner dependencies&quot;, accessing deeply nested libraries that should only be called on by higher libraries. However, I'm having trouble importing the right classes, since the packages are dispersed between multiple jar files.</p>\n<p>FYI, I went down the rabbit hole of these errors, and ended up installing:</p>\n<pre><code>&lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;proto-google-common-protos&lt;/artifactId&gt;\n    &lt;version&gt;2.28.0&lt;/version&gt;\n   &lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n    &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n &lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n    &lt;artifactId&gt;gax&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\n  &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n  &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\n  &lt;version&gt;6.0.53&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And adding:</p>\n<pre><code>    requires com.google.api.apicommon;\n    requires protobuf.java;\n    requires grpc.protobuf;\n    requires grpc.stub;\n    requires annotations.api;\n    requires gax;\n    requires gax.grpc;\n</code></pre>\n<p>But I doubt that's the right way of doing it.</p>\n"},{"tags":["java","json"],"comments":[{"score":1,"post_type":"question","creation_date":1701030384,"post_id":77553358,"comment_id":136721568,"body_markdown":"An object is an &quot;*unordered collection of zero or more name/value pairs&quot;*, while an array is &quot;*an ordered sequence of zero or more values&quot;*. The question is unclear. Do you want the field of the object to have a fixed order (this is not possible according to  RFC 7159), or do you want the elements in the array to have a fixed order (this is possible according to RFC 7159)? Please [edit] the post and clarify.","link":"https://stackoverflow.com/questions/77553358/how-to-keep-jsonarray-elements-in-the-same-order-as-the-class-in-java#comment136721568_77553358","body":"An object is an &quot;<i>unordered collection of zero or more name/value pairs&quot;</i>, while an array is &quot;<i>an ordered sequence of zero or more values&quot;</i>. The question is unclear. Do you want the field of the object to have a fixed order (this is not possible according to  RFC 7159), or do you want the elements in the array to have a fixed order (this is possible according to RFC 7159)? Please <a href=\"https://stackoverflow.com/posts/77553358/edit\">edit</a> the post and clarify."},{"score":0,"post_type":"question","creation_date":1701030563,"post_id":77553358,"comment_id":136721588,"body_markdown":"@Turing85 Thanks for the feedback, I will edit the post with an example.","link":"https://stackoverflow.com/questions/77553358/how-to-keep-jsonarray-elements-in-the-same-order-as-the-class-in-java#comment136721588_77553358","body":"@Turing85 Thanks for the feedback, I will edit the post with an example."},{"score":2,"post_type":"question","creation_date":1701031688,"post_id":77553358,"comment_id":136721694,"body_markdown":"Depending on the order of fields of a json object is highly discouraged since [RFC 7159 (`datatracker.ietf.org`)](https://datatracker.ietf.org/doc/html/rfc7159/) explicitly says that field in an object are unordered. Why do you want/need to order the fields?","link":"https://stackoverflow.com/questions/77553358/how-to-keep-jsonarray-elements-in-the-same-order-as-the-class-in-java#comment136721694_77553358","body":"Depending on the order of fields of a json object is highly discouraged since <a href=\"https://datatracker.ietf.org/doc/html/rfc7159/\" rel=\"nofollow noreferrer\">RFC 7159 (<code>datatracker.ietf.org</code>)</a> explicitly says that field in an object are unordered. Why do you want/need to order the fields?"},{"score":0,"post_type":"question","creation_date":1701043626,"post_id":77553358,"comment_id":136722660,"body_markdown":"@Turing85, that&#39;s an _[RFC](https://en.wikipedia.org/wiki/Request_for_Comments)_.","link":"https://stackoverflow.com/questions/77553358/how-to-keep-jsonarray-elements-in-the-same-order-as-the-class-in-java#comment136722660_77553358","body":"@Turing85, that&#39;s an <i><a href=\"https://en.wikipedia.org/wiki/Request_for_Comments\" rel=\"nofollow noreferrer\">RFC</a></i>."},{"score":0,"post_type":"question","creation_date":1701045494,"post_id":77553358,"comment_id":136722779,"body_markdown":"@Reilas I know. I wrote &quot;RFC&quot;. Your point?","link":"https://stackoverflow.com/questions/77553358/how-to-keep-jsonarray-elements-in-the-same-order-as-the-class-in-java#comment136722779_77553358","body":"@Reilas I know. I wrote &quot;RFC&quot;. Your point?"},{"score":0,"post_type":"question","creation_date":1701046206,"post_id":77553358,"comment_id":136722830,"body_markdown":"For completion: RFC 7159 is obsolted by [RFC 8259 (`datatracker.ietf.org`)](https://datatracker.ietf.org/doc/html/rfc8259). The two sentences I mentioned earlier are still present in RFC 8259.","link":"https://stackoverflow.com/questions/77553358/how-to-keep-jsonarray-elements-in-the-same-order-as-the-class-in-java#comment136722830_77553358","body":"For completion: RFC 7159 is obsolted by <a href=\"https://datatracker.ietf.org/doc/html/rfc8259\" rel=\"nofollow noreferrer\">RFC 8259 (<code>datatracker.ietf.org</code>)</a>. The two sentences I mentioned earlier are still present in RFC 8259."}],"answers":[{"comments":[{"score":1,"post_type":"answer","creation_date":1701045945,"post_id":77553684,"comment_id":136722808,"body_markdown":"GSON does not make any guarantee on field order. Thus, we rely on undocumented behaviour that could change without prior notice.","link":"https://stackoverflow.com/questions/77553358/how-to-keep-jsonarray-elements-in-the-same-order-as-the-class-in-java/77553684#comment136722808_77553684","body":"GSON does not make any guarantee on field order. Thus, we rely on undocumented behaviour that could change without prior notice."},{"score":0,"post_type":"answer","creation_date":1701046896,"post_id":77553684,"comment_id":136722883,"body_markdown":"@Turing85, too funny.","link":"https://stackoverflow.com/questions/77553358/how-to-keep-jsonarray-elements-in-the-same-order-as-the-class-in-java/77553684#comment136722883_77553684","body":"@Turing85, too funny."},{"score":0,"post_type":"answer","creation_date":1701107409,"post_id":77553684,"comment_id":136731524,"body_markdown":"Thanks for the suggestion, but Im not allowed to use any other libraries other than the json one","link":"https://stackoverflow.com/questions/77553358/how-to-keep-jsonarray-elements-in-the-same-order-as-the-class-in-java/77553684#comment136731524_77553684","body":"Thanks for the suggestion, but Im not allowed to use any other libraries other than the json one"}],"comment_count":3,"score":0,"last_activity_date":1701036979,"creation_date":1701036979,"answer_id":77553684,"question_id":77553358,"body_markdown":"&gt; _&quot;... The idea is to create a .json file with the books in a particular order ...\\\r\n&gt;\\\r\n&gt; ... Meaning that the pair of keys/values would be displayed in the same order as the order they are put into the JSONObject. ...&quot;_\r\n\r\nIf you have no objection with using _[Gson](https://en.wikipedia.org/wiki/Gson)_, here is an example.\r\n\r\n```java\r\nGson g = new GsonBuilder().setPrettyPrinting().create();\r\nrecord Book(String id, String name, String author, String available, String isbn) { }\r\nList&lt;Book&gt; books = new ArrayList&lt;&gt;() {{\r\n    add(new Book(&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;));\r\n    add(new Book(&quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;));\r\n    add(new Book(&quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;));\r\n}};\r\nString s = g.toJson(books, List.class);\r\n```\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;id&quot;: &quot;a&quot;,\r\n    &quot;name&quot;: &quot;a&quot;,\r\n    &quot;author&quot;: &quot;a&quot;,\r\n    &quot;available&quot;: &quot;a&quot;,\r\n    &quot;isbn&quot;: &quot;a&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;b&quot;,\r\n    &quot;name&quot;: &quot;b&quot;,\r\n    &quot;author&quot;: &quot;b&quot;,\r\n    &quot;available&quot;: &quot;b&quot;,\r\n    &quot;isbn&quot;: &quot;b&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;c&quot;,\r\n    &quot;name&quot;: &quot;c&quot;,\r\n    &quot;author&quot;: &quot;c&quot;,\r\n    &quot;available&quot;: &quot;c&quot;,\r\n    &quot;isbn&quot;: &quot;c&quot;\r\n  }\r\n]\r\n```","link":"https://stackoverflow.com/questions/77553358/how-to-keep-jsonarray-elements-in-the-same-order-as-the-class-in-java/77553684#77553684","title":"How to keep JSONArray elements in the same order as the class in Java?","body":"<blockquote>\n<p><em>&quot;... The idea is to create a .json file with the books in a particular order ...<br />\n<br />\n... Meaning that the pair of keys/values would be displayed in the same order as the order they are put into the JSONObject. ...&quot;</em></p>\n</blockquote>\n<p>If you have no objection with using <em><a href=\"https://en.wikipedia.org/wiki/Gson\" rel=\"nofollow noreferrer\">Gson</a></em>, here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson g = new GsonBuilder().setPrettyPrinting().create();\nrecord Book(String id, String name, String author, String available, String isbn) { }\nList&lt;Book&gt; books = new ArrayList&lt;&gt;() {{\n    add(new Book(&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;));\n    add(new Book(&quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;));\n    add(new Book(&quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;));\n}};\nString s = g.toJson(books, List.class);\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;id&quot;: &quot;a&quot;,\n    &quot;name&quot;: &quot;a&quot;,\n    &quot;author&quot;: &quot;a&quot;,\n    &quot;available&quot;: &quot;a&quot;,\n    &quot;isbn&quot;: &quot;a&quot;\n  },\n  {\n    &quot;id&quot;: &quot;b&quot;,\n    &quot;name&quot;: &quot;b&quot;,\n    &quot;author&quot;: &quot;b&quot;,\n    &quot;available&quot;: &quot;b&quot;,\n    &quot;isbn&quot;: &quot;b&quot;\n  },\n  {\n    &quot;id&quot;: &quot;c&quot;,\n    &quot;name&quot;: &quot;c&quot;,\n    &quot;author&quot;: &quot;c&quot;,\n    &quot;available&quot;: &quot;c&quot;,\n    &quot;isbn&quot;: &quot;c&quot;\n  }\n]\n</code></pre>\n"}],"comment_count":6,"is_answered":false,"view_count":37,"answer_count":1,"score":0,"last_activity_date":1701036979,"creation_date":1701030004,"last_edit_date":1701031010,"question_id":77553358,"body_markdown":"I have the following snippet of code, where I take the books from the ArrayList booksList and put their values in a JSONObject, which then goes in a JSONArray. The idea is to create a .json file with the books in a particular order, specified by me:\r\n\r\n\r\n```\r\n JSONArray JSONbookList = new JSONArray();\r\n\t\tCollections.sort(booksList);\r\n\t\t//JSONbookList = new JSONArray(booksList); \r\n\t\tfor (Book book : booksList) {\r\n\t\t    JSONObject bookJson = new JSONObject();\r\n\t\t    bookJson.put(&quot;ID&quot;, book.getBookID().trim());\r\n\t\t    bookJson.put(&quot;Name&quot;, book.getBookName().trim().replace(&quot;\\n        &quot;, &quot; &quot;));\r\n\t\t    bookJson.put(&quot;ISBN&quot;, book.getBookISBN().trim());\r\n\t\t    bookJson.put(&quot;AuthorID&quot;, book.getBookAuthor().trim());\r\n\t\t    bookJson.put(&quot;Disp&quot;, book.getBookDisp().trim());\r\n\t\t    JSONbookList.put(bookJson);\r\n\t\t    \r\n\t\t}\r\n```\r\nthis is the book class for reference:\r\n\r\n```\r\npackage p2;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class Book implements Serializable , Comparable&lt;Book&gt;{\r\n\r\n    private String identificador;\r\n    private String nombre;\r\n    private String autor;\r\n    private String disponible;\r\n    private String ISBN;\r\n\r\n    public Book (String id, String name, String aut, String disp, String isbn) {\r\n\tthis.identificador = id;\r\n\tthis.nombre = name;\r\n\tthis.autor = aut;\r\n\tthis.disponible = disp;\r\n\tthis.ISBN = isbn;\r\n    }\r\n    \r\n    public Book getBook(String bookId) {\r\n\tif (this.identificador.equals(bookId)) {\r\n\t    return this;\r\n\t}\r\n\telse {\r\n\t    return null;\r\n\t}\r\n    }\r\n\r\n    //Getters\r\n    \r\n    public String getBookID () {\r\n\treturn this.identificador;\r\n    }\r\n\r\n    public String getBookName () {\r\n\treturn this.nombre;\r\n    }\r\n\r\n    public String getBookAuthor () {\r\n\treturn this.autor;\r\n    }\r\n\r\n    public String getBookDisp () {\r\n\treturn this.disponible;\r\n    }\r\n\r\n    public String getBookISBN () {\r\n\treturn this.ISBN;\r\n    }\r\n\r\n    //Setters\r\n    \r\n    public void setBookID (String id) {\r\n\tthis.identificador = id;\r\n    }\r\n\r\n    public void setBookName (String name) {\r\n\tthis.nombre = name;\r\n    }\r\n\r\n    public void setBookAuthor (String aut) {\r\n\tthis.autor = aut;\r\n    }\r\n\r\n    public void setBookDisp (String disp) {\r\n\tthis.disponible = disp;\r\n    }\r\n\r\n    public void setBookISBN (String isbn) {\r\n\tthis.ISBN = isbn;\r\n    }\r\n\r\n   public int compareTo(Book libro) {\r\n    String id1 = this.identificador;\r\n    String id2 = libro.identificador;\r\n    //Comparar alfabeticamente\r\n    return id1.compareTo(id2);\r\n}\r\n\r\n\r\n    public String toString() {\r\n\treturn &quot;Book{&quot; +\r\n\t    &quot;identificador=&#39;&quot; + identificador + &#39;\\&#39;&#39; +\r\n\t    &quot;, nombre=&#39;&quot; + nombre + &#39;\\&#39;&#39; +\r\n\t    &quot;, autor=&#39;&quot; + autor + &#39;\\&#39;&#39; +\r\n\t    &quot;, disponible=&#39;&quot; + disponible + &#39;\\&#39;&#39; +\r\n\t    &quot;, ISBN=&#39;&quot; + ISBN + &#39;\\&#39;&#39; +\r\n\t    &#39;}&#39;;\r\n    }\r\n    \r\n}\r\n```\r\n\r\nIdeally, the JSONObject would keep the same order of attributes as the class, or atleast, the order in which im putting them in, but it seems to use an arbitrary order. Now, if I&#39;m not mistaken, this is intended behaviour from the JSONObject class, but apparently, the JSONArray class should keep the order of values, but how can I use a JSONArray without a JSONObject? \r\n\r\nFor example, here is one of the books as it is displayed in the json file:\r\n\r\n    {&quot;Disp&quot;:&quot;no&quot;,&quot;AuthorID&quot;:&quot;4&quot;,&quot;ISBN&quot;:&quot;9781427900792&quot;,&quot;ID&quot;:&quot;104&quot;,&quot;Name&quot;:&quot;Los ba&#241;os de Argel&quot;},\r\n\r\nThe desired output would be \r\n\r\n    {&quot;id&quot;:&quot;104&quot;,&quot;Name&quot;:&quot;Los ba&#241;os de Argel&quot;,&quot;AuthorID&quot;:&quot;4&quot;,&quot;Disp&quot;:&quot;no&quot;,&quot;ISBN&quot;:&quot;9781427900792&quot;}\r\n\r\n Meaning that the pair of keys/values would be displayed in the same order as the order they are put into the JSONObject. Using a JSONObject is not mandatory necessarily, but it seems like the only way to work with JSONArrays, and the output does need to be a JSONArray/.json file.\r\n\r\nThis is a small part of an assignment so alternatives like the Jackson library are out of the question.\r\n\r\n\r\n\r\n\r\nI have also tried putting the Book Objects into a LinkedHashMap but it doesn&#39;t seem to work like that, the JSONObject will always disorganize them, since it uses a regular HashMap if I&#39;m not mistaken, so it gave the same result as the ArrayList, meaning that the class that I use to store my objects doesn&#39;t seem to matter.","link":"https://stackoverflow.com/questions/77553358/how-to-keep-jsonarray-elements-in-the-same-order-as-the-class-in-java","title":"How to keep JSONArray elements in the same order as the class in Java?","body":"<p>I have the following snippet of code, where I take the books from the ArrayList booksList and put their values in a JSONObject, which then goes in a JSONArray. The idea is to create a .json file with the books in a particular order, specified by me:</p>\n<pre><code> JSONArray JSONbookList = new JSONArray();\n        Collections.sort(booksList);\n        //JSONbookList = new JSONArray(booksList); \n        for (Book book : booksList) {\n            JSONObject bookJson = new JSONObject();\n            bookJson.put(&quot;ID&quot;, book.getBookID().trim());\n            bookJson.put(&quot;Name&quot;, book.getBookName().trim().replace(&quot;\\n        &quot;, &quot; &quot;));\n            bookJson.put(&quot;ISBN&quot;, book.getBookISBN().trim());\n            bookJson.put(&quot;AuthorID&quot;, book.getBookAuthor().trim());\n            bookJson.put(&quot;Disp&quot;, book.getBookDisp().trim());\n            JSONbookList.put(bookJson);\n            \n        }\n</code></pre>\n<p>this is the book class for reference:</p>\n<pre><code>package p2;\n\nimport java.io.Serializable;\n\npublic class Book implements Serializable , Comparable&lt;Book&gt;{\n\n    private String identificador;\n    private String nombre;\n    private String autor;\n    private String disponible;\n    private String ISBN;\n\n    public Book (String id, String name, String aut, String disp, String isbn) {\n    this.identificador = id;\n    this.nombre = name;\n    this.autor = aut;\n    this.disponible = disp;\n    this.ISBN = isbn;\n    }\n    \n    public Book getBook(String bookId) {\n    if (this.identificador.equals(bookId)) {\n        return this;\n    }\n    else {\n        return null;\n    }\n    }\n\n    //Getters\n    \n    public String getBookID () {\n    return this.identificador;\n    }\n\n    public String getBookName () {\n    return this.nombre;\n    }\n\n    public String getBookAuthor () {\n    return this.autor;\n    }\n\n    public String getBookDisp () {\n    return this.disponible;\n    }\n\n    public String getBookISBN () {\n    return this.ISBN;\n    }\n\n    //Setters\n    \n    public void setBookID (String id) {\n    this.identificador = id;\n    }\n\n    public void setBookName (String name) {\n    this.nombre = name;\n    }\n\n    public void setBookAuthor (String aut) {\n    this.autor = aut;\n    }\n\n    public void setBookDisp (String disp) {\n    this.disponible = disp;\n    }\n\n    public void setBookISBN (String isbn) {\n    this.ISBN = isbn;\n    }\n\n   public int compareTo(Book libro) {\n    String id1 = this.identificador;\n    String id2 = libro.identificador;\n    //Comparar alfabeticamente\n    return id1.compareTo(id2);\n}\n\n\n    public String toString() {\n    return &quot;Book{&quot; +\n        &quot;identificador='&quot; + identificador + '\\'' +\n        &quot;, nombre='&quot; + nombre + '\\'' +\n        &quot;, autor='&quot; + autor + '\\'' +\n        &quot;, disponible='&quot; + disponible + '\\'' +\n        &quot;, ISBN='&quot; + ISBN + '\\'' +\n        '}';\n    }\n    \n}\n</code></pre>\n<p>Ideally, the JSONObject would keep the same order of attributes as the class, or atleast, the order in which im putting them in, but it seems to use an arbitrary order. Now, if I'm not mistaken, this is intended behaviour from the JSONObject class, but apparently, the JSONArray class should keep the order of values, but how can I use a JSONArray without a JSONObject?</p>\n<p>For example, here is one of the books as it is displayed in the json file:</p>\n<pre><code>{&quot;Disp&quot;:&quot;no&quot;,&quot;AuthorID&quot;:&quot;4&quot;,&quot;ISBN&quot;:&quot;9781427900792&quot;,&quot;ID&quot;:&quot;104&quot;,&quot;Name&quot;:&quot;Los baños de Argel&quot;},\n</code></pre>\n<p>The desired output would be</p>\n<pre><code>{&quot;id&quot;:&quot;104&quot;,&quot;Name&quot;:&quot;Los baños de Argel&quot;,&quot;AuthorID&quot;:&quot;4&quot;,&quot;Disp&quot;:&quot;no&quot;,&quot;ISBN&quot;:&quot;9781427900792&quot;}\n</code></pre>\n<p>Meaning that the pair of keys/values would be displayed in the same order as the order they are put into the JSONObject. Using a JSONObject is not mandatory necessarily, but it seems like the only way to work with JSONArrays, and the output does need to be a JSONArray/.json file.</p>\n<p>This is a small part of an assignment so alternatives like the Jackson library are out of the question.</p>\n<p>I have also tried putting the Book Objects into a LinkedHashMap but it doesn't seem to work like that, the JSONObject will always disorganize them, since it uses a regular HashMap if I'm not mistaken, so it gave the same result as the ArrayList, meaning that the class that I use to store my objects doesn't seem to matter.</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-vision"],"comments":[{"score":0,"post_type":"question","creation_date":1701076562,"post_id":77552798,"comment_id":136725614,"body_markdown":"How do you define your storage client bean?","link":"https://stackoverflow.com/questions/77552798/problem-during-setup-google-gcp-vision-api#comment136725614_77552798","body":"How do you define your storage client bean?"}],"comment_count":1,"is_answered":false,"view_count":23,"answer_count":0,"score":0,"last_activity_date":1701035576,"creation_date":1701020602,"last_edit_date":1701035576,"question_id":77552798,"body_markdown":"I&#39;m trying to apply google cloud vision api to my project, but I can&#39;t start application with my code.\r\nPlease help me.\r\n\r\n``` yaml\r\nspring:\r\n  cloud:\r\n    gcp:\r\n      project-id: [projectId]\r\n      credentials:\r\n        location: classpath:[credentialfilename].json\r\n```\r\n\r\n``` gradle\r\ndependencies {\r\n    // Google vision api\r\n    implementation &#39;org.springframework.cloud:spring-cloud-gcp-starter-vision&#39;\r\n}\r\n\r\next {\r\n    set(&#39;springCloudVersion&#39;, &quot;2021.0.1&quot;)\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &#39;org.springframework.cloud:spring-cloud-gcp-dependencies:1.2.8.RELEASE&#39;\r\n        mavenBom &#39;org.springframework.boot:spring-boot-dependencies:2.7.10&#39;\r\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n    }\r\n}\r\n```\r\n\r\n``` java\r\npackage com.wakeUpTogetUp.togetUp.api.mission.service;\r\n\r\nimport com.google.cloud.vision.v1.AnnotateImageResponse;\r\nimport com.google.cloud.vision.v1.FaceAnnotation;\r\nimport com.google.cloud.vision.v1.Feature.Type;\r\nimport com.wakeUpTogetUp.togetUp.utils.ResourceConverter;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.cloud.gcp.vision.CloudVisionTemplate;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class GoogleVisionService {\r\n    private final CloudVisionTemplate cloudVisionTemplate;\r\n\r\n    public List&lt;FaceAnnotation&gt; getFaceRecognitionResult(MultipartFile file) throws IOException {\r\n        AnnotateImageResponse response =\r\n                this.cloudVisionTemplate.analyzeImage(\r\n                        ResourceConverter.convertMultipartFileToResource(file),\r\n                        Type.FACE_DETECTION);\r\n\r\n        return response.getFaceAnnotationsList();\r\n    }\r\n}\r\n```\r\n\r\nWhen I start my application, the error message below appear.\r\n\r\n``` text\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 1 of method documentOcrTemplate in org.springframework.cloud.gcp.autoconfigure.vision.CloudVisionAutoConfiguration$VisionOcrConfiguration required a bean of type &#39;com.google.cloud.storage.Storage&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.google.cloud.storage.Storage&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nAnd when I create the GoogleStoreConfig and run the application,\r\n\r\n``` text\r\n2023-11-27 02:37:41.409 ERROR 31988 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;storage&#39; defined in class path resource [com/wakeUpTogetUp/togetUp/config/GoogleStorageConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.storage.Storage]: Factory method &#39;storage&#39; threw exception; nested exception is java.lang.ExceptionInInitializerError\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n\tat com.wakeUpTogetUp.togetUp.TogetUpApplication.main(TogetUpApplication.java:21)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.storage.Storage]: Factory method &#39;storage&#39; threw exception; nested exception is java.lang.ExceptionInInitializerError\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 24 common frames omitted\r\nCaused by: java.lang.ExceptionInInitializerError: null\r\n\tat com.google.api.services.storage.Storage$Builder.build(Storage.java:11194)\r\n\tat com.google.cloud.storage.spi.v1.HttpStorageRpc.&lt;init&gt;(HttpStorageRpc.java:121)\r\n\tat com.google.cloud.storage.StorageOptions$DefaultStorageRpcFactory.create(StorageOptions.java:55)\r\n\tat com.google.cloud.storage.StorageOptions$DefaultStorageRpcFactory.create(StorageOptions.java:49)\r\n\tat com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:561)\r\n\tat com.google.cloud.storage.StorageOptions.getStorageRpcV1(StorageOptions.java:121)\r\n\tat com.google.cloud.storage.StorageImpl.&lt;init&gt;(StorageImpl.java:124)\r\n\tat com.google.cloud.storage.StorageOptions$DefaultStorageFactory.create(StorageOptions.java:45)\r\n\tat com.google.cloud.storage.StorageOptions$DefaultStorageFactory.create(StorageOptions.java:39)\r\n\tat com.google.cloud.ServiceOptions.getService(ServiceOptions.java:541)\r\n\tat com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig.storage(GoogleStorageConfig.java:12)\r\n\tat com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig$$EnhancerBySpringCGLIB$$63972087.CGLIB$storage$0(&lt;generated&gt;)\r\n\tat com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig$$EnhancerBySpringCGLIB$$63972087$$FastClassBySpringCGLIB$$16164cfd.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig$$EnhancerBySpringCGLIB$$63972087.storage(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 25 common frames omitted\r\nCaused by: java.lang.IllegalStateException: You are currently running with version 2.2.0 of google-api-client. You need at least version 1.31.1 of google-api-client to run version 1.31.0 of the Cloud Storage JSON API library.\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:532)\r\n\tat com.google.api.client.util.Preconditions.checkState(Preconditions.java:113)\r\n\tat com.google.api.services.storage.Storage.&lt;clinit&gt;(Storage.java:44)\r\n\t... 46 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nand when I change the version of google-api-client to 1.31.0,\r\n\r\n``` text\r\n2023-11-27 02:39:22.143 ERROR 32272 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;documentOcrTemplate&#39; defined in class path resource [org/springframework/cloud/gcp/autoconfigure/vision/CloudVisionAutoConfiguration$VisionOcrConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.gcp.vision.DocumentOcrTemplate] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1f89ab83]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n\tat com.wakeUpTogetUp.togetUp.TogetUpApplication.main(TogetUpApplication.java:21)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.gcp.vision.DocumentOcrTemplate] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1f89ab83]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\r\n\tat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:417)\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:388)\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:335)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1116)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/cloud/gcp/storage/GoogleStorageLocation\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\r\n\t... 26 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.cloud.gcp.storage.GoogleStorageLocation\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 30 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nthis appear. I think I can&#39;t traceback anymore. I want help desperately. Thank you for reading.","link":"https://stackoverflow.com/questions/77552798/problem-during-setup-google-gcp-vision-api","title":"Problem during setup google gcp vision api","body":"<p>I'm trying to apply google cloud vision api to my project, but I can't start application with my code.\nPlease help me.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    gcp:\n      project-id: [projectId]\n      credentials:\n        location: classpath:[credentialfilename].json\n</code></pre>\n<pre><code>dependencies {\n    // Google vision api\n    implementation 'org.springframework.cloud:spring-cloud-gcp-starter-vision'\n}\n\next {\n    set('springCloudVersion', &quot;2021.0.1&quot;)\n}\n\ndependencyManagement {\n    imports {\n        mavenBom 'org.springframework.cloud:spring-cloud-gcp-dependencies:1.2.8.RELEASE'\n        mavenBom 'org.springframework.boot:spring-boot-dependencies:2.7.10'\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.wakeUpTogetUp.togetUp.api.mission.service;\n\nimport com.google.cloud.vision.v1.AnnotateImageResponse;\nimport com.google.cloud.vision.v1.FaceAnnotation;\nimport com.google.cloud.vision.v1.Feature.Type;\nimport com.wakeUpTogetUp.togetUp.utils.ResourceConverter;\nimport java.io.IOException;\nimport java.util.List;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.cloud.gcp.vision.CloudVisionTemplate;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\n\n@Service\n@RequiredArgsConstructor\npublic class GoogleVisionService {\n    private final CloudVisionTemplate cloudVisionTemplate;\n\n    public List&lt;FaceAnnotation&gt; getFaceRecognitionResult(MultipartFile file) throws IOException {\n        AnnotateImageResponse response =\n                this.cloudVisionTemplate.analyzeImage(\n                        ResourceConverter.convertMultipartFileToResource(file),\n                        Type.FACE_DETECTION);\n\n        return response.getFaceAnnotationsList();\n    }\n}\n</code></pre>\n<p>When I start my application, the error message below appear.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of method documentOcrTemplate in org.springframework.cloud.gcp.autoconfigure.vision.CloudVisionAutoConfiguration$VisionOcrConfiguration required a bean of type 'com.google.cloud.storage.Storage' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.google.cloud.storage.Storage' in your configuration.\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>And when I create the GoogleStoreConfig and run the application,</p>\n<pre><code>2023-11-27 02:37:41.409 ERROR 31988 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'storage' defined in class path resource [com/wakeUpTogetUp/togetUp/config/GoogleStorageConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.storage.Storage]: Factory method 'storage' threw exception; nested exception is java.lang.ExceptionInInitializerError\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at com.wakeUpTogetUp.togetUp.TogetUpApplication.main(TogetUpApplication.java:21)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.storage.Storage]: Factory method 'storage' threw exception; nested exception is java.lang.ExceptionInInitializerError\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 24 common frames omitted\nCaused by: java.lang.ExceptionInInitializerError: null\n    at com.google.api.services.storage.Storage$Builder.build(Storage.java:11194)\n    at com.google.cloud.storage.spi.v1.HttpStorageRpc.&lt;init&gt;(HttpStorageRpc.java:121)\n    at com.google.cloud.storage.StorageOptions$DefaultStorageRpcFactory.create(StorageOptions.java:55)\n    at com.google.cloud.storage.StorageOptions$DefaultStorageRpcFactory.create(StorageOptions.java:49)\n    at com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:561)\n    at com.google.cloud.storage.StorageOptions.getStorageRpcV1(StorageOptions.java:121)\n    at com.google.cloud.storage.StorageImpl.&lt;init&gt;(StorageImpl.java:124)\n    at com.google.cloud.storage.StorageOptions$DefaultStorageFactory.create(StorageOptions.java:45)\n    at com.google.cloud.storage.StorageOptions$DefaultStorageFactory.create(StorageOptions.java:39)\n    at com.google.cloud.ServiceOptions.getService(ServiceOptions.java:541)\n    at com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig.storage(GoogleStorageConfig.java:12)\n    at com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig$$EnhancerBySpringCGLIB$$63972087.CGLIB$storage$0(&lt;generated&gt;)\n    at com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig$$EnhancerBySpringCGLIB$$63972087$$FastClassBySpringCGLIB$$16164cfd.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at com.wakeUpTogetUp.togetUp.config.GoogleStorageConfig$$EnhancerBySpringCGLIB$$63972087.storage(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 25 common frames omitted\nCaused by: java.lang.IllegalStateException: You are currently running with version 2.2.0 of google-api-client. You need at least version 1.31.1 of google-api-client to run version 1.31.0 of the Cloud Storage JSON API library.\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:532)\n    at com.google.api.client.util.Preconditions.checkState(Preconditions.java:113)\n    at com.google.api.services.storage.Storage.&lt;clinit&gt;(Storage.java:44)\n    ... 46 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>and when I change the version of google-api-client to 1.31.0,</p>\n<pre><code>2023-11-27 02:39:22.143 ERROR 32272 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'documentOcrTemplate' defined in class path resource [org/springframework/cloud/gcp/autoconfigure/vision/CloudVisionAutoConfiguration$VisionOcrConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.gcp.vision.DocumentOcrTemplate] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1f89ab83]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at com.wakeUpTogetUp.togetUp.TogetUpApplication.main(TogetUpApplication.java:21)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.gcp.vision.DocumentOcrTemplate] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1f89ab83]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\n    at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:417)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:388)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:335)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1116)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\n    ... 20 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/cloud/gcp/storage/GoogleStorageLocation\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\n    ... 26 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.cloud.gcp.storage.GoogleStorageLocation\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 30 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>this appear. I think I can't traceback anymore. I want help desperately. Thank you for reading.</p>\n"},{"tags":["java","arrays","string","for-loop"],"comments":[{"score":1,"post_type":"question","creation_date":1700945257,"post_id":77549536,"comment_id":136714941,"body_markdown":"Additionally update _sample_ from within the loop.","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t#comment136714941_77549536","body":"Additionally update <i>sample</i> from within the loop."},{"score":0,"post_type":"question","creation_date":1700945677,"post_id":77549536,"comment_id":136715001,"body_markdown":"How to update? @Reilas","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t#comment136715001_77549536","body":"How to update? @Reilas"},{"score":0,"post_type":"question","creation_date":1700950407,"post_id":77549536,"comment_id":136715389,"body_markdown":"There is no link between `String sample = &quot;Checking if this works&quot; +&quot; &quot; +m_id[m];` and subsequent changes to the value of `m`.","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t#comment136715389_77549536","body":"There is no link between <code>String sample = &quot;Checking if this works&quot; +&quot; &quot; +m_id[m];</code> and subsequent changes to the value of <code>m</code>."},{"score":2,"post_type":"question","creation_date":1700952016,"post_id":77549536,"comment_id":136715495,"body_markdown":"The problem seems to indicate a misunderstanding of the nature of [&#39;assignment&#39;](https://en.wikipedia.org/wiki/Assignment_(computer_science)) in imperative programming.","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t#comment136715495_77549536","body":"The problem seems to indicate a misunderstanding of the nature of <a href=\"https://en.wikipedia.org/wiki/Assignment_(computer_science)\" rel=\"nofollow noreferrer\">&#39;assignment&#39;</a> in imperative programming."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1700946962,"post_id":77549587,"comment_id":136715133,"body_markdown":"This is fine but is there any way to just update the string which is declared outside the loop before the iteration? Because i need multiple methods to access it.","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t/77549587#comment136715133_77549587","body":"This is fine but is there any way to just update the string which is declared outside the loop before the iteration? Because i need multiple methods to access it."},{"score":1,"post_type":"answer","creation_date":1700948066,"post_id":77549587,"comment_id":136715236,"body_markdown":"@SAMSONJACK consider updating your question with more details of what you really want. &quot;just update the string which is declared outside the loop before the iteration&quot; - that is exactly what I&#39;m doing in the code. Maybe you mean something else when you say &quot;update the string&quot; :)","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t/77549587#comment136715236_77549587","body":"@SAMSONJACK consider updating your question with more details of what you really want. &quot;just update the string which is declared outside the loop before the iteration&quot; - that is exactly what I&#39;m doing in the code. Maybe you mean something else when you say &quot;update the string&quot; :)"},{"score":0,"post_type":"answer","creation_date":1700948407,"post_id":77549587,"comment_id":136715254,"body_markdown":"@SAMSONJACK checkout my updated code, I have a blind guess, maybe that&#39;s what you want :)","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t/77549587#comment136715254_77549587","body":"@SAMSONJACK checkout my updated code, I have a blind guess, maybe that&#39;s what you want :)"},{"score":3,"post_type":"answer","creation_date":1700949439,"post_id":77549587,"comment_id":136715324,"body_markdown":"This sounds like an [XY Problem](https://xyproblem.info).  Please show your use case as to why you need to do this.","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t/77549587#comment136715324_77549587","body":"This sounds like an <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">XY Problem</a>.  Please show your use case as to why you need to do this."},{"score":1,"post_type":"answer","creation_date":1700952753,"post_id":77549587,"comment_id":136715552,"body_markdown":"There is no spooky action at a distance.","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t/77549587#comment136715552_77549587","body":"There is no spooky action at a distance."},{"score":0,"post_type":"answer","creation_date":1701075260,"post_id":77549587,"comment_id":136725342,"body_markdown":"Let me make it clear: I have multiple if else statements and a for loop inside it, everytime i run a for loop the value in the string should be updated. I don&#39;t have to declare the string in every loop. so i have commonly created the string outside the loop and expecting it to change values. Is there any possible ways or i am missing something here","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t/77549587#comment136725342_77549587","body":"Let me make it clear: I have multiple if else statements and a for loop inside it, everytime i run a for loop the value in the string should be updated. I don&#39;t have to declare the string in every loop. so i have commonly created the string outside the loop and expecting it to change values. Is there any possible ways or i am missing something here"},{"score":0,"post_type":"answer","creation_date":1701080935,"post_id":77549587,"comment_id":136726391,"body_markdown":"@SAMSONJACK but isn&#39;t it exactly what the code in my answer is doing? The string is created outside the loop and updated inside it.","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t/77549587#comment136726391_77549587","body":"@SAMSONJACK but isn&#39;t it exactly what the code in my answer is doing? The string is created outside the loop and updated inside it."},{"score":0,"post_type":"answer","creation_date":1701104831,"post_id":77549587,"comment_id":136731038,"body_markdown":"Thanks @AndrejIstomin, That works and that is what i was searching for.","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t/77549587#comment136731038_77549587","body":"Thanks @AndrejIstomin, That works and that is what i was searching for."},{"score":0,"post_type":"answer","creation_date":1701171712,"post_id":77549587,"comment_id":136739719,"body_markdown":"@SAMSONJACK I&#39;m glad it helped you :) Consider marking my answer as accepted :)","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t/77549587#comment136739719_77549587","body":"@SAMSONJACK I&#39;m glad it helped you :) Consider marking my answer as accepted :)"}],"comment_count":9,"score":2,"last_activity_date":1700948376,"last_edit_date":1700948376,"creation_date":1700946255,"answer_id":77549587,"question_id":77549536,"body_markdown":"Everything is fine with the variable `m`. The problem is that your string variable `sample` is not only declared, but also assigned outside the loop and never updated. Why do you expect it to change it&#39;s value? It always has the value that was assigned to it: &quot;Checking if this works 1&quot;, because `m` was 0 at the moment of assignment and the value that you got from the array was &quot;1&quot;.\r\n\r\nIn order to get the desired behaviour you should change your code in the following way:\r\n```\r\nString sample = &quot;&quot;;\r\n\r\nfor (i = 0; i &lt; num; i++) {\r\n    sample = &quot;Checking if this works&quot; + &quot; &quot; + m_id[m]; // update the value\r\n    System.out.println(sample);\r\n    m = m + 1;\r\n}\r\n``` \r\n\r\nYou also can do it like that:\r\n```\r\nString pattern = &quot;Checking if this works %s&quot;;\r\n\r\nfor (int i = 0; i &lt; num; i++) {\r\n    System.out.println(String.format(pattern, m_id[m]));\r\n    m = m + 1;\r\n}\r\n```","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t/77549587#77549587","title":"The value of the variable &quot;m&quot; is not getting updated when i am trying to print the string which is declared outside the loop","body":"<p>Everything is fine with the variable <code>m</code>. The problem is that your string variable <code>sample</code> is not only declared, but also assigned outside the loop and never updated. Why do you expect it to change it's value? It always has the value that was assigned to it: &quot;Checking if this works 1&quot;, because <code>m</code> was 0 at the moment of assignment and the value that you got from the array was &quot;1&quot;.</p>\n<p>In order to get the desired behaviour you should change your code in the following way:</p>\n<pre><code>String sample = &quot;&quot;;\n\nfor (i = 0; i &lt; num; i++) {\n    sample = &quot;Checking if this works&quot; + &quot; &quot; + m_id[m]; // update the value\n    System.out.println(sample);\n    m = m + 1;\n}\n</code></pre>\n<p>You also can do it like that:</p>\n<pre><code>String pattern = &quot;Checking if this works %s&quot;;\n\nfor (int i = 0; i &lt; num; i++) {\n    System.out.println(String.format(pattern, m_id[m]));\n    m = m + 1;\n}\n</code></pre>\n"},{"comment_count":0,"score":0,"last_activity_date":1701034698,"last_edit_date":1701034698,"creation_date":1700949893,"answer_id":77549726,"question_id":77549536,"body_markdown":"Replace this section :\r\n\r\n    String sample = &quot;Checking if this works&quot; +&quot; &quot; +m_id[m];    \r\n    for (i=0; i&lt;num; i++) \r\n    {\r\n        m=m+1;\r\n        System.out.println(sample);\r\n    }\r\n\r\nby this :\r\n\r\n    String sample = &quot;Checking if this works&quot; +&quot; &quot;; \r\n    for (i=0; i&lt;num; i++) \r\n    {\r\n        System.out.println(sample+m_id[m]);\r\n        m=m+1;\r\n       \r\n    }\r\n\r\nand also make your class public.","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t/77549726#77549726","title":"The value of the variable &quot;m&quot; is not getting updated when i am trying to print the string which is declared outside the loop","body":"<p>Replace this section :</p>\n<pre><code>String sample = &quot;Checking if this works&quot; +&quot; &quot; +m_id[m];    \nfor (i=0; i&lt;num; i++) \n{\n    m=m+1;\n    System.out.println(sample);\n}\n</code></pre>\n<p>by this :</p>\n<pre><code>String sample = &quot;Checking if this works&quot; +&quot; &quot;; \nfor (i=0; i&lt;num; i++) \n{\n    System.out.println(sample+m_id[m]);\n    m=m+1;\n   \n}\n</code></pre>\n<p>and also make your class public.</p>\n"}],"comment_count":4,"is_answered":true,"view_count":91,"answer_count":2,"score":1,"last_activity_date":1701034698,"creation_date":1700945047,"last_edit_date":1700945291,"question_id":77549536,"body_markdown":"This is the code I&#39;m trying to execute:\r\n\r\n```\r\nclass test {\r\n    public static void main(String[] args) {\r\n    int num = 5;\r\n\tvar i = 0;\r\n\tint m = 0;\r\n\tString[] m_id = {&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;};\r\n\tString sample = &quot;Checking if this works&quot; +&quot; &quot; +m_id[m];\r\n\t\r\n\tfor\t(i=0; i&lt;num; i++) \r\n\t{\r\n\t\tm=m+1;\r\n\t    System.out.println(sample);\r\n\t}\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\nI am getting the output as:\r\n\r\nChecking if this works 1  \r\nChecking if this works 1  \r\nChecking if this works 1  \r\nChecking if this works 1  \r\nChecking if this works 1\r\n\r\nInstead i need :\r\n\r\nChecking if this works 1  \r\nChecking if this works 2  \r\nChecking if this works 3  \r\nChecking if this works 4  \r\nChecking if this works 5\r\n","link":"https://stackoverflow.com/questions/77549536/the-value-of-the-variable-m-is-not-getting-updated-when-i-am-trying-to-print-t","title":"The value of the variable &quot;m&quot; is not getting updated when i am trying to print the string which is declared outside the loop","body":"<p>This is the code I'm trying to execute:</p>\n<pre><code>class test {\n    public static void main(String[] args) {\n    int num = 5;\n    var i = 0;\n    int m = 0;\n    String[] m_id = {&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;};\n    String sample = &quot;Checking if this works&quot; +&quot; &quot; +m_id[m];\n    \n    for (i=0; i&lt;num; i++) \n    {\n        m=m+1;\n        System.out.println(sample);\n    }\n  }\n}\n</code></pre>\n<p>I am getting the output as:</p>\n<p>Checking if this works 1<br />\nChecking if this works 1<br />\nChecking if this works 1<br />\nChecking if this works 1<br />\nChecking if this works 1</p>\n<p>Instead i need :</p>\n<p>Checking if this works 1<br />\nChecking if this works 2<br />\nChecking if this works 3<br />\nChecking if this works 4<br />\nChecking if this works 5</p>\n"},{"tags":["java","swing","event-dispatch-thread"],"comments":[{"score":1,"post_type":"question","creation_date":1701034927,"post_id":77553573,"comment_id":136721987,"body_markdown":"The only time I see it present `false` is when you close the dialog and seems to be part of the tear workflow, either of Swing or the JVM","link":"https://stackoverflow.com/questions/77553573/jdialog-isvisible-not-executing-on-event-dispatch-thread-when-it-should-be#comment136721987_77553573","body":"The only time I see it present <code>false</code> is when you close the dialog and seems to be part of the tear workflow, either of Swing or the JVM"},{"score":1,"post_type":"question","creation_date":1701105109,"post_id":77553573,"comment_id":136731107,"body_markdown":"Just try `if(!SwingUtilities.isEventDispatchThread()) Thread.dumpStack();`","link":"https://stackoverflow.com/questions/77553573/jdialog-isvisible-not-executing-on-event-dispatch-thread-when-it-should-be#comment136731107_77553573","body":"Just try <code>if(!SwingUtilities.isEventDispatchThread()) Thread.dumpStack();</code>"},{"score":0,"post_type":"question","creation_date":1701106685,"post_id":77553573,"comment_id":136731384,"body_markdown":"@MadProgrammer I definitely see false immediately after executing pack(), and before pushing Close. I am using JDK 17 on Windows 11 Pro.","link":"https://stackoverflow.com/questions/77553573/jdialog-isvisible-not-executing-on-event-dispatch-thread-when-it-should-be#comment136731384_77553573","body":"@MadProgrammer I definitely see false immediately after executing pack(), and before pushing Close. I am using JDK 17 on Windows 11 Pro."},{"score":0,"post_type":"question","creation_date":1701107218,"post_id":77553573,"comment_id":136731476,"body_markdown":"@Holger Thanks for the suggestion. I also printed out the thread name, which is AWT-Windows when isEventDispatchThread is false, and AWT-EventQueue-0 every other time. The stack trace starts with WToolkit.java (java.desktop/sun.awt.windows.WToolkit.run(WToolkit.java:365)).","link":"https://stackoverflow.com/questions/77553573/jdialog-isvisible-not-executing-on-event-dispatch-thread-when-it-should-be#comment136731476_77553573","body":"@Holger Thanks for the suggestion. I also printed out the thread name, which is AWT-Windows when isEventDispatchThread is false, and AWT-EventQueue-0 every other time. The stack trace starts with WToolkit.java (java.desktop/sun.awt.windows.WToolkit.run(WToolkit.java:365&zwnj;&#8203;))."},{"score":0,"post_type":"question","creation_date":1701114216,"post_id":77553573,"comment_id":136732659,"body_markdown":"@JackStraub Java 17.0.3.1 on MacOS - seems to be a platform specific issue","link":"https://stackoverflow.com/questions/77553573/jdialog-isvisible-not-executing-on-event-dispatch-thread-when-it-should-be#comment136732659_77553573","body":"@JackStraub Java 17.0.3.1 on MacOS - seems to be a platform specific issue"},{"score":1,"post_type":"question","creation_date":1701157506,"post_id":77553573,"comment_id":136737218,"body_markdown":"That’s an AWT toolkit specific thread, for processing native events.","link":"https://stackoverflow.com/questions/77553573/jdialog-isvisible-not-executing-on-event-dispatch-thread-when-it-should-be#comment136737218_77553573","body":"That’s an AWT toolkit specific thread, for processing native events."}],"comment_count":6,"is_answered":false,"view_count":52,"answer_count":0,"score":0,"last_activity_date":1701034664,"creation_date":1701034664,"question_id":77553573,"body_markdown":"I am building a JDialog on the EDT. As soon as I call pack() the JDialog&#39;s isVisible method is called several times. The first time it&#39;s called SwingUtilities.isEventDispatchThread() returns false. Why is that? Sample program follows.\r\n\r\n    public class EDTTest extends JDialog\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            SwingUtilities.invokeLater( () -&gt; {\r\n                EDTTest  dialog  = new EDTTest();\r\n                dialog.buildGUI();\r\n            });\r\n        }\r\n        \r\n        private void buildGUI()\r\n        {\r\n            JButton button  = new JButton( &quot;Exit&quot; );\r\n            JPanel  panel   = new JPanel();\r\n            \r\n            button.addActionListener( e -&gt; System.exit( 0 ) );\r\n            panel.add( button );\r\n            setContentPane( panel );\r\n            System.out.println( &quot;Packing&quot; );\r\n            pack();\r\n            setVisible( true );\r\n        }\r\n        \r\n        @Override\r\n        public boolean isVisible()\r\n        {\r\n            System.out.println( SwingUtilities.isEventDispatchThread() );\r\n            boolean isVis   = super.isVisible();\r\n            return isVis;\r\n        }\r\n    }","link":"https://stackoverflow.com/questions/77553573/jdialog-isvisible-not-executing-on-event-dispatch-thread-when-it-should-be","title":"JDialog.isVisible() Not Executing on Event Dispatch Thread When it Should Be?","body":"<p>I am building a JDialog on the EDT. As soon as I call pack() the JDialog's isVisible method is called several times. The first time it's called SwingUtilities.isEventDispatchThread() returns false. Why is that? Sample program follows.</p>\n<pre><code>public class EDTTest extends JDialog\n{\n    public static void main(String[] args)\n    {\n        SwingUtilities.invokeLater( () -&gt; {\n            EDTTest  dialog  = new EDTTest();\n            dialog.buildGUI();\n        });\n    }\n    \n    private void buildGUI()\n    {\n        JButton button  = new JButton( &quot;Exit&quot; );\n        JPanel  panel   = new JPanel();\n        \n        button.addActionListener( e -&gt; System.exit( 0 ) );\n        panel.add( button );\n        setContentPane( panel );\n        System.out.println( &quot;Packing&quot; );\n        pack();\n        setVisible( true );\n    }\n    \n    @Override\n    public boolean isVisible()\n    {\n        System.out.println( SwingUtilities.isEventDispatchThread() );\n        boolean isVis   = super.isVisible();\n        return isVis;\n    }\n}\n</code></pre>\n"},{"tags":["java","design-patterns"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1700843261,"post_id":77544459,"comment_id":136706336,"body_markdown":"thank you for your response. Ihave at least 12 methods .","link":"https://stackoverflow.com/questions/77544429/handle-methods-in-a-class-calling-shared-sub-methods-with-varying-order-and-freq/77544459#comment136706336_77544459","body":"thank you for your response. Ihave at least 12 methods ."},{"score":0,"post_type":"answer","creation_date":1700843371,"post_id":77544459,"comment_id":136706345,"body_markdown":"Is there any logic behind their order? If it&#39;s just mixing and matching without some more concise definition, I feat there&#39;s not a lot you can do.","link":"https://stackoverflow.com/questions/77544429/handle-methods-in-a-class-calling-shared-sub-methods-with-varying-order-and-freq/77544459#comment136706345_77544459","body":"Is there any logic behind their order? If it&#39;s just mixing and matching without some more concise definition, I feat there&#39;s not a lot you can do."}],"comment_count":2,"score":1,"last_activity_date":1700842787,"creation_date":1700842787,"answer_id":77544459,"question_id":77544429,"body_markdown":"If it&#39;s only a couple of methods, I wouldn&#39;t overthink it, and just hardcode the calls:\r\n\r\n```\r\npublic class MyClass {\r\n    public void subMethod1() {/* ... */}\r\n    public void subMethod2() {/* ... */}\r\n   \r\n    public void methodA() {\r\n        subMethod1();\r\n        subMethod2();\r\n    }\r\n\r\n    public void methodB() {\r\n        subMethod2();\r\n        subMethod1();\r\n    }\r\n}\r\n```\r\n\r\nOr, in other words - don&#39;t over-engineer where you don&#39;t have to.","link":"https://stackoverflow.com/questions/77544429/handle-methods-in-a-class-calling-shared-sub-methods-with-varying-order-and-freq/77544459#77544459","title":"handle methods in a class calling shared sub-methods with varying order and frequency in Java/Kotlin","body":"<p>If it's only a couple of methods, I wouldn't overthink it, and just hardcode the calls:</p>\n<pre><code>public class MyClass {\n    public void subMethod1() {/* ... */}\n    public void subMethod2() {/* ... */}\n   \n    public void methodA() {\n        subMethod1();\n        subMethod2();\n    }\n\n    public void methodB() {\n        subMethod2();\n        subMethod1();\n    }\n}\n</code></pre>\n<p>Or, in other words - don't over-engineer where you don't have to.</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1701028441,"creation_date":1701028441,"answer_id":77553259,"question_id":77544429,"body_markdown":"I am not familiar and do not have an IDE with Java, but I  would like to share with idea how it is possible to run methods in order that you want. \r\n\r\nThe following code is using C# and I found a link how you can [imitate delegates in Java][1]. Basically, what you need is just an array where you add your references to your method in a desired order.\r\n\r\nSo the complete code would look like this.\r\n\r\n    public class MyClass\r\n    {\r\n        public void RunInYourOrder(IEnumerable&lt;Action&gt; someMethodsInYourDesiredOrder) \r\n        {\r\n            foreach (var method in someMethodsInYourDesiredOrder)\r\n            {\r\n                method?.Invoke();\r\n            }\r\n        }\r\n    \r\n        public void Method1() \r\n        {\r\n            Console.WriteLine(&quot;Method 1 is called&quot;);\r\n        }\r\n    \r\n        public void Method2()\r\n        {\r\n            Console.WriteLine(&quot;Method 2 is called&quot;);\r\n        }\r\n    }\r\n\r\nAnd code to run would look like this:\r\n\r\n    MyClass myClass= new MyClass();\r\n    List&lt;Action&gt; methodsToBeRun = new List&lt;Action&gt;()\r\n    { \r\n        () =&gt; myClass.Method2(),\r\n        () =&gt; myClass.Method1(),\r\n    };\r\n    myClass.RunInYourOrder(methodsToBeRun);\r\n\r\nOUTPUT:\r\n\r\n    Method 2 is called\r\n    Method 1 is called\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44912/java-delegates\r\n\r\n","link":"https://stackoverflow.com/questions/77544429/handle-methods-in-a-class-calling-shared-sub-methods-with-varying-order-and-freq/77553259#77553259","title":"handle methods in a class calling shared sub-methods with varying order and frequency in Java/Kotlin","body":"<p>I am not familiar and do not have an IDE with Java, but I  would like to share with idea how it is possible to run methods in order that you want.</p>\n<p>The following code is using C# and I found a link how you can <a href=\"https://stackoverflow.com/questions/44912/java-delegates\">imitate delegates in Java</a>. Basically, what you need is just an array where you add your references to your method in a desired order.</p>\n<p>So the complete code would look like this.</p>\n<pre><code>public class MyClass\n{\n    public void RunInYourOrder(IEnumerable&lt;Action&gt; someMethodsInYourDesiredOrder) \n    {\n        foreach (var method in someMethodsInYourDesiredOrder)\n        {\n            method?.Invoke();\n        }\n    }\n\n    public void Method1() \n    {\n        Console.WriteLine(&quot;Method 1 is called&quot;);\n    }\n\n    public void Method2()\n    {\n        Console.WriteLine(&quot;Method 2 is called&quot;);\n    }\n}\n</code></pre>\n<p>And code to run would look like this:</p>\n<pre><code>MyClass myClass= new MyClass();\nList&lt;Action&gt; methodsToBeRun = new List&lt;Action&gt;()\n{ \n    () =&gt; myClass.Method2(),\n    () =&gt; myClass.Method1(),\n};\nmyClass.RunInYourOrder(methodsToBeRun);\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>Method 2 is called\nMethod 1 is called\n</code></pre>\n"}],"comment_count":0,"is_answered":true,"view_count":38,"answer_count":2,"score":0,"last_activity_date":1701028441,"creation_date":1700842309,"last_edit_date":1700844063,"question_id":77544429,"body_markdown":"How can I implement multiple methods in a Java/Kotlin class that invoke the same sub-methods but in a different order, or sometimes a method calls more sub-methods than another? Is there a design pattern for this scenario?\r\n\r\n    \r\n\r\n                      +------------------+\r\n                      |   My Class       |\r\n                      +------------------+\r\n                               |\r\n                +--------------+--------------+\r\n                |                             |\r\n     +------------------+         +------------------+\r\n     | Method A         |         | Method B         |\r\n     +------------------+         +------------------+\r\n     | Call SubMethod 1 |         | Call SubMethod 2 |\r\n     | Call SubMethod 2 |         | Call SubMethod 1 |\r\n     | ...              |         | ...              |\r\n     +------------------+         +------------------+\r\n                    \r\n    \r\n      +------------------+         +------------------+\r\n      | SubMethod 1      |         | SubMethod 2      |\r\n      +------------------+         +------------------+\r\n      | Implementation   |         | Implementation   |\r\n      | ...              |         | ...              |\r\n      +------------------+         +------------------+\r\n\r\n\r\nI have a lot of methods to implement on the same class.","link":"https://stackoverflow.com/questions/77544429/handle-methods-in-a-class-calling-shared-sub-methods-with-varying-order-and-freq","title":"handle methods in a class calling shared sub-methods with varying order and frequency in Java/Kotlin","body":"<p>How can I implement multiple methods in a Java/Kotlin class that invoke the same sub-methods but in a different order, or sometimes a method calls more sub-methods than another? Is there a design pattern for this scenario?</p>\n<pre><code>                  +------------------+\n                  |   My Class       |\n                  +------------------+\n                           |\n            +--------------+--------------+\n            |                             |\n +------------------+         +------------------+\n | Method A         |         | Method B         |\n +------------------+         +------------------+\n | Call SubMethod 1 |         | Call SubMethod 2 |\n | Call SubMethod 2 |         | Call SubMethod 1 |\n | ...              |         | ...              |\n +------------------+         +------------------+\n                \n\n  +------------------+         +------------------+\n  | SubMethod 1      |         | SubMethod 2      |\n  +------------------+         +------------------+\n  | Implementation   |         | Implementation   |\n  | ...              |         | ...              |\n  +------------------+         +------------------+\n</code></pre>\n<p>I have a lot of methods to implement on the same class.</p>\n"},{"tags":["java","oop","ide","shortcut"],"comments":[{"score":0,"post_type":"question","creation_date":1701024423,"post_id":77553021,"comment_id":136720957,"body_markdown":"If I remember correctly, Ctrl+1 brings up the quick fix.","link":"https://stackoverflow.com/questions/77553021/what-is-netbeanss-ctrli-shortcut-equivalent-in-eclipse#comment136720957_77553021","body":"If I remember correctly, Ctrl+1 brings up the quick fix."},{"score":0,"post_type":"question","creation_date":1701024627,"post_id":77553021,"comment_id":136720977,"body_markdown":"Use intelliJ from jetbrains","link":"https://stackoverflow.com/questions/77553021/what-is-netbeanss-ctrli-shortcut-equivalent-in-eclipse#comment136720977_77553021","body":"Use intelliJ from jetbrains"},{"score":0,"post_type":"question","creation_date":1701027315,"post_id":77553021,"comment_id":136721239,"body_markdown":"you can use (SHIFT + ALT + S) to generate getter/setter or constructor with fields or equals and hash code","link":"https://stackoverflow.com/questions/77553021/what-is-netbeanss-ctrli-shortcut-equivalent-in-eclipse#comment136721239_77553021","body":"you can use (SHIFT + ALT + S) to generate getter/setter or constructor with fields or equals and hash code"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701027980,"last_edit_date":1701027980,"creation_date":1701027488,"answer_id":77553199,"question_id":77553021,"body_markdown":"There&#39;s a couple options:\r\n - **Ctrl+1** -&gt; **Create getter and setter for &#39;*variable*&#39;...** like Robert said\r\n - **menu Source** -&gt; **Generate Getters and Setters...** (same as **Alt+S**, then **R**)\r\n - **Alt+Shift+S**, then **R**\r\n\r\n\r\n**Ctrl+1** is mostly used when you&#39;re generating just one (because it&#39;s used for many many other things as well), but the menu option is better when you&#39;re generating several at once.","link":"https://stackoverflow.com/questions/77553021/what-is-netbeanss-ctrli-shortcut-equivalent-in-eclipse/77553199#77553199","title":"What is NetBeans&#39;s Ctrl+I shortcut equivalent in Eclipse?","body":"<p>There's a couple options:</p>\n<ul>\n<li><strong>Ctrl+1</strong> -&gt; <strong>Create getter and setter for '<em>variable</em>'...</strong> like Robert said</li>\n<li><strong>menu Source</strong> -&gt; <strong>Generate Getters and Setters...</strong> (same as <strong>Alt+S</strong>, then <strong>R</strong>)</li>\n<li><strong>Alt+Shift+S</strong>, then <strong>R</strong></li>\n</ul>\n<p><strong>Ctrl+1</strong> is mostly used when you're generating just one (because it's used for many many other things as well), but the menu option is better when you're generating several at once.</p>\n"}],"comment_count":3,"is_answered":false,"view_count":35,"answer_count":1,"score":-3,"last_activity_date":1701027980,"creation_date":1701024324,"question_id":77553021,"body_markdown":"In the video that I&#39;m using to learn Java, I discovered that in NetBeans you can generate getter and setter methods using this shortcut, and I want to do it too, but I&#39;m using Eclipse.\r\n\r\nI tried googling it, but couldn&#39;t find it.","link":"https://stackoverflow.com/questions/77553021/what-is-netbeanss-ctrli-shortcut-equivalent-in-eclipse","title":"What is NetBeans&#39;s Ctrl+I shortcut equivalent in Eclipse?","body":"<p>In the video that I'm using to learn Java, I discovered that in NetBeans you can generate getter and setter methods using this shortcut, and I want to do it too, but I'm using Eclipse.</p>\n<p>I tried googling it, but couldn't find it.</p>\n"},{"tags":["java","xml","eclipse"],"comments":[{"score":0,"post_type":"question","creation_date":1701029333,"post_id":77553124,"comment_id":136721445,"body_markdown":"Ant don&#39;t use the Eclipse .classpath - you have to configure it separately in the Ant build.xml","link":"https://stackoverflow.com/questions/77553124/unavailable-classpath-jar-file-in-eclipse#comment136721445_77553124","body":"Ant don&#39;t use the Eclipse .classpath - you have to configure it separately in the Ant build.xml"},{"score":0,"post_type":"question","creation_date":1701029654,"post_id":77553124,"comment_id":136721476,"body_markdown":"If you are building with Ant to get that error why don&#39;t you share the Ant script?","link":"https://stackoverflow.com/questions/77553124/unavailable-classpath-jar-file-in-eclipse#comment136721476_77553124","body":"If you are building with Ant to get that error why don&#39;t you share the Ant script?"},{"score":0,"post_type":"question","creation_date":1701078399,"post_id":77553124,"comment_id":136725960,"body_markdown":"See answer 4 to configure your project : https://stackoverflow.com/questions/3451378/how-to-run-javah-from-eclipse","link":"https://stackoverflow.com/questions/77553124/unavailable-classpath-jar-file-in-eclipse#comment136725960_77553124","body":"See answer 4 to configure your project : <a href=\"https://stackoverflow.com/questions/3451378/how-to-run-javah-from-eclipse\" title=\"how to run javah from eclipse\">stackoverflow.com/questions/3451378/&hellip;</a>"}],"comment_count":3,"is_answered":false,"view_count":34,"answer_count":0,"score":-1,"last_activity_date":1701027330,"creation_date":1701026151,"last_edit_date":1701027330,"question_id":77553124,"body_markdown":"I have an external jar (commons-codec-1.15) that I have added to my projects &quot;lib&quot; folder and configured in my classpath that is not accessible. \r\n\r\nThis is the error message I get in console when I try to build with the build.xml file. Eclipse does not give me any errors.\r\n\r\n```\r\n:23: error: package org.apache.commons.codec.digest does not exist\r\nString test = org.apache.commons.codec.digest.DigestUtils.sha1Hex(&quot;test&quot;);\r\n```\r\n\r\nHere is my classpath for reference\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;var&quot; path=&quot;JRE_LIB&quot; sourcepath=&quot;JRE_SRC&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;C:/SoftLabs/SD/sd-lab-23-24/strava/Facebook_Server/bin&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin&quot; path=&quot;src&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/commons-codec-1.15.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n&lt;/classpath&gt;\r\n```\r\n\r\nI am coding in Eclipse Version: 2023-09 (4.29.0) with OpenJDK 17.0.8.1\r\n\r\nI have tried adding it to my classpath manually and through the buildpath configuration of eclipse. I have also tried Project -\\&gt; Clean.\r\n\r\nI know that the jar file is not corrupted because I am using it in another java project folder that is inside the same workspace with a near identical classpath. This jar seems to work in one project, but not the other. Both projects are ant builds with .xml files and only this project fails to build.","link":"https://stackoverflow.com/questions/77553124/unavailable-classpath-jar-file-in-eclipse","title":"Unavailable Classpath Jar File in Eclipse","body":"<p>I have an external jar (commons-codec-1.15) that I have added to my projects &quot;lib&quot; folder and configured in my classpath that is not accessible.</p>\n<p>This is the error message I get in console when I try to build with the build.xml file. Eclipse does not give me any errors.</p>\n<pre><code>:23: error: package org.apache.commons.codec.digest does not exist\nString test = org.apache.commons.codec.digest.DigestUtils.sha1Hex(&quot;test&quot;);\n</code></pre>\n<p>Here is my classpath for reference</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;var&quot; path=&quot;JRE_LIB&quot; sourcepath=&quot;JRE_SRC&quot;/&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;C:/SoftLabs/SD/sd-lab-23-24/strava/Facebook_Server/bin&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin&quot; path=&quot;src&quot;/&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/commons-codec-1.15.jar&quot;/&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n<p>I am coding in Eclipse Version: 2023-09 (4.29.0) with OpenJDK 17.0.8.1</p>\n<p>I have tried adding it to my classpath manually and through the buildpath configuration of eclipse. I have also tried Project -&gt; Clean.</p>\n<p>I know that the jar file is not corrupted because I am using it in another java project folder that is inside the same workspace with a near identical classpath. This jar seems to work in one project, but not the other. Both projects are ant builds with .xml files and only this project fails to build.</p>\n"},{"tags":["java","javafx"],"comments":[{"score":3,"post_type":"question","creation_date":1701038694,"post_id":77552126,"comment_id":136722311,"body_markdown":"Update the model, your `ObservableList`, and the view, your `TableView`, will update itself in response. If a problem remains, please [edit] your question to include a [mre] that illustrates the problem you encounter. See also [Why should I avoid using PropertyValueFactory in JavaFX?](https://stackoverflow.com/q/72437983/230513)","link":"https://stackoverflow.com/questions/77552126/how-to-makesure-that-my-tableview-updates-with-the-questions-i-created#comment136722311_77552126","body":"Update the model, your <code>ObservableList</code>, and the view, your <code>TableView</code>, will update itself in response. If a problem remains, please <a href=\"https://stackoverflow.com/posts/77552126/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that illustrates the problem you encounter. See also <a href=\"https://stackoverflow.com/q/72437983/230513\">Why should I avoid using PropertyValueFactory in JavaFX?</a>"},{"score":1,"post_type":"question","creation_date":1701048750,"post_id":77552126,"comment_id":136723034,"body_markdown":"The recommended way to do this is to use a [MVC-type approach](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx). If you don’t want to do that, and want to keep the data in the controller, then you need to call `addQuestion(…)` on the actual controller.","link":"https://stackoverflow.com/questions/77552126/how-to-makesure-that-my-tableview-updates-with-the-questions-i-created#comment136723034_77552126","body":"The recommended way to do this is to use a <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC-type approach</a>. If you don’t want to do that, and want to keep the data in the controller, then you need to call <code>addQuestion(…)</code> on the actual controller."},{"score":0,"post_type":"question","creation_date":1701049075,"post_id":77552126,"comment_id":136723055,"body_markdown":"Also note that your `updateTableView()` method doesn’t do what you want.  `showQuestions.getItems()` returns `questionList` (since you previously call `showQuestions.setItems(questionList)`), so `showQuestions.getItems().clear()` results both in `questionList` being empty and the table having no data to display. Then `showQuestions.getItems().addAll(questionList)` is a no-op (add no items to the list) and the table will be empty. The method is completely redundant anyway: remove it all all calls to it.","link":"https://stackoverflow.com/questions/77552126/how-to-makesure-that-my-tableview-updates-with-the-questions-i-created#comment136723055_77552126","body":"Also note that your <code>updateTableView()</code> method doesn’t do what you want.  <code>showQuestions.getItems()</code> returns <code>questionList</code> (since you previously call <code>showQuestions.setItems(questionList)</code>), so <code>showQuestions.getItems().clear()</code> results both in <code>questionList</code> being empty and the table having no data to display. Then <code>showQuestions.getItems().addAll(questionList)</code> is a no-op (add no items to the list) and the table will be empty. The method is completely redundant anyway: remove it all all calls to it."},{"score":0,"post_type":"question","creation_date":1701058887,"post_id":77552126,"comment_id":136723665,"body_markdown":"Maybe if I gave you the package you can take a look I guess? Here&#39;s the link to the package from my Google Drive:\n\nhttps://drive.google.com/file/d/1byC7ShScYWKRslLn2lm-fybWLKtosX25/view?usp=sharing","link":"https://stackoverflow.com/questions/77552126/how-to-makesure-that-my-tableview-updates-with-the-questions-i-created#comment136723665_77552126","body":"Maybe if I gave you the package you can take a look I guess? Here&#39;s the link to the package from my Google Drive:  <a href=\"https://drive.google.com/file/d/1byC7ShScYWKRslLn2lm-fybWLKtosX25/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1byC7ShScYWKRslLn2lm-fybWLKtosX25/&hellip;</a>"},{"score":2,"post_type":"question","creation_date":1701081847,"post_id":77552126,"comment_id":136726534,"body_markdown":"What’s wrong with the suggestions I already made?","link":"https://stackoverflow.com/questions/77552126/how-to-makesure-that-my-tableview-updates-with-the-questions-i-created#comment136726534_77552126","body":"What’s wrong with the suggestions I already made?"},{"score":1,"post_type":"question","creation_date":1701092761,"post_id":77552126,"comment_id":136728386,"body_markdown":"First, study the problem in isolation, perhaps using this related [example](https://stackoverflow.com/a/76497248/230513).","link":"https://stackoverflow.com/questions/77552126/how-to-makesure-that-my-tableview-updates-with-the-questions-i-created#comment136728386_77552126","body":"First, study the problem in isolation, perhaps using this related <a href=\"https://stackoverflow.com/a/76497248/230513\">example</a>."},{"score":2,"post_type":"question","creation_date":1701098190,"post_id":77552126,"comment_id":136729584,"body_markdown":"It is (almost) always wrong to instantiate a class you are using as a controller for an FXML file. It is absolutely always wrong to instantiate fields that are annotated `@FXML`: the annotation explicitly says the fields are intended to be initialized by the `FXMLLoader`.","link":"https://stackoverflow.com/questions/77552126/how-to-makesure-that-my-tableview-updates-with-the-questions-i-created#comment136729584_77552126","body":"It is (almost) always wrong to instantiate a class you are using as a controller for an FXML file. It is absolutely always wrong to instantiate fields that are annotated <code>@FXML</code>: the annotation explicitly says the fields are intended to be initialized by the <code>FXMLLoader</code>."},{"score":2,"post_type":"question","creation_date":1701106282,"post_id":77552126,"comment_id":136731311,"body_markdown":"@James_D&#39;s observation is examined in detail [here](https://stackoverflow.com/a/77546686/230513).","link":"https://stackoverflow.com/questions/77552126/how-to-makesure-that-my-tableview-updates-with-the-questions-i-created#comment136731311_77552126","body":"@James_D&#39;s observation is examined in detail <a href=\"https://stackoverflow.com/a/77546686/230513\">here</a>."},{"score":0,"post_type":"question","creation_date":1701128306,"post_id":77552126,"comment_id":136734567,"body_markdown":"*&quot;Here&#39;s the link to the package from my Google Drive&quot;* -&gt; That is not [the way this site is supposed to work](https://meta.stackoverflow.com/questions/359303/providing-a-github-url-in-questions).  Questions should be self-contained  - and it may require work to be able to do that and create a requested [mcve] or similar example, but, so be it.","link":"https://stackoverflow.com/questions/77552126/how-to-makesure-that-my-tableview-updates-with-the-questions-i-created#comment136734567_77552126","body":"<i>&quot;Here&#39;s the link to the package from my Google Drive&quot;</i> -&gt; That is not <a href=\"https://meta.stackoverflow.com/questions/359303/providing-a-github-url-in-questions\">the way this site is supposed to work</a>.  Questions should be self-contained  - and it may require work to be able to do that and create a requested <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or similar example, but, so be it."}],"comment_count":9,"is_answered":false,"view_count":66,"answer_count":0,"score":0,"last_activity_date":1701026743,"creation_date":1701009646,"last_edit_date":1701026743,"question_id":77552126,"body_markdown":"How to makesure that my `TableView` updates with the questions I created, with `TableView` showing the row of the question. I want to make sure that my `OpenEndedController` file adds in the question I created in my survey creator, in which the `TableView` in my `SurveyCreator.java` file should display the row with the question ID and question `Type`, but somehow it doesn&#39;t work. May someone help analyze it?\r\n\r\nOpenEndedController.java file\r\n\r\n    package com.example.assignmentsurvey;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Alert;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class OpenEndedController {\r\n    \r\n        @FXML\r\n        private TextArea AnswerField;\r\n    \r\n        @FXML\r\n        private Button ExitOE;\r\n    \r\n        @FXML\r\n        private TextField QuestionTitle;\r\n    \r\n        @FXML\r\n        private Button addToTable;\r\n    \r\n        @FXML\r\n        private TextField questionID;\r\n    \r\n        private String question;\r\n        private String id;\r\n        private String answer;\r\n        public SurveyCreator surveyCreator;\r\n    \r\n        // initialize surveyCreator\r\n        public OpenEndedController() {\r\n            this.surveyCreator = new SurveyCreator();\r\n        }\r\n    \r\n        @FXML\r\n        void addOpenEnded(ActionEvent event) throws IOException {\r\n            Main add = new Main();\r\n            try {\r\n                // Get values from UI components`\r\n                id = questionID.getText();\r\n                question = QuestionTitle.getText();\r\n                answer = AnswerField.getText();\r\n    \r\n                // Check if the title is not empty\r\n                if (question.isEmpty()) {\r\n                    showAlert(&quot;Error&quot;, &quot;Title cannot be empty.&quot;);\r\n                } else {\r\n                    // Create Open-Ended question using the Question class\r\n                    Question openEndedQuestion = new Question(id,&quot;Open-Ended&quot;, question, answer);\r\n                     // Assuming you have a setAnswer method in your Question class\r\n    \r\n                    // Add Open-Ended question to SurveyCreator\r\n                    if (surveyCreator != null) {\r\n                        surveyCreator.addQuestion(openEndedQuestion);\r\n                    } else {\r\n                        showAlert(&quot;Error&quot;, &quot;SurveyCreator instance is null. Cannot add question.&quot;);\r\n                        return;\r\n                    }\r\n    \r\n                    // Clear the input fields\r\n                    clearFields();\r\n    \r\n                    // Inform the user that the question was added\r\n                    showAlert(&quot;Success&quot;, &quot;Open-Ended question added successfully!&quot;);\r\n    \r\n                    // update tableview\r\n                    surveyCreator.updateTableView();\r\n    \r\n                    // return to survey creator\r\n                    add.changeScene(&quot;surveycreator.fxml&quot;);\r\n                }\r\n            } catch (NumberFormatException e) {\r\n                showAlert(&quot;Error&quot;, &quot;Please enter a valid numeric ID.&quot;);\r\n            }\r\n        }\r\n    \r\n        @FXML\r\n        public void exitOpenEnded(ActionEvent event) throws IOException {\r\n            Main exit = new Main();\r\n            exit.changeScene(&quot;surveycreator.fxml&quot;);\r\n        }\r\n    \r\n        @FXML\r\n        public void getAnswer(ActionEvent event) {\r\n            AnswerField.getText();\r\n        }\r\n    \r\n        @FXML\r\n        public void getQuestionID(ActionEvent event) {\r\n            String id = questionID.getText();\r\n        }\r\n    \r\n        @FXML\r\n        public void getQuestionTitle(ActionEvent event)  {\r\n            QuestionTitle.getText();\r\n        }\r\n    \r\n    \r\n        private void showAlert(String title, String content) {\r\n            Alert alert = new Alert(Alert.AlertType.ERROR);\r\n            alert.setTitle(title);\r\n            alert.setContentText(content);\r\n            alert.showAndWait();\r\n        }\r\n    \r\n        private void clearFields() {\r\n            questionID.clear();\r\n            QuestionTitle.clear();\r\n            AnswerField.clear();\r\n        }\r\n    }\r\n\r\nSurveyCreator.java file:\r\n\r\n    package com.example.assignmentsurvey;\r\n    \r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    import javafx.stage.FileChooser;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.*;\r\n    \r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    \r\n    import static javafx.application.Application.launch;\r\n    \r\n    public class SurveyCreator implements Initializable {\r\n        FileChooser fileChooser = new FileChooser();\r\n        FXMLLoader loader = new FXMLLoader();\r\n        private String username;\r\n        private String textArea;\r\n    \r\n    \r\n        // Table\r\n        @FXML\r\n        public TableView&lt;Question&gt; showquestions;\r\n        private ObservableList&lt;Question&gt; questionList = FXCollections.observableArrayList();\r\n    \r\n        // Column\r\n        @FXML\r\n        public TableColumn&lt;Question, String&gt; ID;\r\n    \r\n        @FXML\r\n        public TableColumn&lt;Question, String&gt; Type;\r\n    \r\n    \r\n        @FXML\r\n        private Button surveycreatorDelete;\r\n    \r\n        @FXML\r\n        private Button surveycreatorEdit;\r\n    \r\n        @FXML\r\n        private Button surveycreatorExit;\r\n    \r\n        @FXML\r\n        private Button surveycreatorMCQ;\r\n    \r\n        @FXML\r\n        private Button surveycreatorOpenEnded;\r\n    \r\n        @FXML\r\n        private Button surveycreatorPublish;\r\n    \r\n        @FXML\r\n        private Button surveycreatorRating;\r\n    \r\n        @FXML\r\n        private Button surveycreatorSave;\r\n    \r\n        private Stage stage;\r\n    \r\n        private Question questionHandler = new Question();\r\n    \r\n        // update TableView\r\n        public void updateTableView() {\r\n            showquestions.getItems().clear();\r\n            showquestions.getItems().addAll(questionList);\r\n        }\r\n    \r\n    \r\n        // add question\r\n        public void addQuestion(Question question) {\r\n            questionHandler.create(question);\r\n            questionList.add(question);\r\n            showquestions.setItems(questionList);\r\n        }\r\n    \r\n        ObservableList&lt;Question&gt; list = FXCollections.observableArrayList();\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n            ID.setCellValueFactory(new PropertyValueFactory&lt;Question, String&gt;(&quot;ID&quot;));\r\n            Type.setCellValueFactory(new PropertyValueFactory&lt;Question, String&gt;(&quot;Type&quot;));\r\n        }\r\n    \r\n        // read question\r\n        public Question getQuestionById(String targetID) {\r\n            return questionHandler.read(targetID);\r\n        }\r\n    \r\n        // update question\r\n        public void updateQuestion(Question question) {\r\n            questionHandler.update(question);\r\n            showquestions.setItems(questionList);\r\n        }\r\n    \r\n        // delete question\r\n        public void deleteQuestion(String targetID) {\r\n            questionHandler.delete(targetID);\r\n            questionList.removeIf(q -&gt; q.getId().equals(targetID));\r\n            showquestions.setItems(questionList);\r\n        }\r\n    \r\n        // initialize\r\n        public SurveyCreator() {\r\n            this.showquestions = new TableView&lt;&gt;();\r\n            this.ID = new TableColumn&lt;&gt;();\r\n            this.Type = new TableColumn&lt;&gt;();\r\n            showquestions.setItems(questionList);\r\n        }\r\n    \r\n    \r\n        // load .csv file\r\n        public void loadSurvey(File surveyFile) {\r\n            try (BufferedReader reader = new BufferedReader(new FileReader(surveyFile))) {\r\n                String line;\r\n    \r\n                while ((line = reader.readLine()) != null) {\r\n    \r\n    \r\n                    String[] parts = line.split(&quot;,&quot;);\r\n    \r\n                    // create question object\r\n                    Question newQuestion = new Question(parts[0], parts[1], parts[2], parts[3]);\r\n                    showquestions.getItems().add(newQuestion);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    \r\n        public void exitSurveyCreator(ActionEvent event) throws Exception {\r\n            Main e = new Main();\r\n    \r\n            // get usernames from login check\r\n            String adminUsername = LogIn.getAdminUsername();\r\n            String userUsername = LogIn.getUserUsername();\r\n    \r\n    \r\n            if (adminUsername != null &amp;&amp; adminUsername.equals(&quot;admin&quot;)) {\r\n                e.changeScene(&quot;adminpage.fxml&quot;);\r\n    \r\n            } else if (userUsername != null &amp;&amp; userUsername.equals(&quot;user&quot;)) {\r\n                e.changeScene(&quot;userpage.fxml&quot;);\r\n            }\r\n        }\r\n    \r\n        public void setDelete(ActionEvent event) throws Exception {\r\n            Question selectedQuestion = showquestions.getSelectionModel().getSelectedItem();\r\n    \r\n            // Check if item is selected\r\n            if (selectedQuestion == null) {\r\n               checkDelete(selectedQuestion.getId());\r\n            }\r\n        }\r\n    \r\n        private void checkDelete(String targetID) throws Exception {\r\n            questionList.removeIf(q -&gt; q.getId().equals(targetID));\r\n            showquestions.setItems(questionList);\r\n        }\r\n    \r\n        public void setEdit(ActionEvent event) throws Exception {\r\n            Question selectedQuestion = showquestions.getSelectionModel().getSelectedItem();\r\n    \r\n            // check if item is selected\r\n            if (selectedQuestion != null) {\r\n                navigateToScene(selectedQuestion);\r\n            }\r\n        }\r\n    \r\n        private void navigateToScene(Question question) throws Exception  {\r\n            // initialize variables\r\n            String Type = question.getType();\r\n            String id = question.getId();\r\n    \r\n            switch (Type) {\r\n                case &quot;MCQ&quot;:\r\n                    loader.setLocation(getClass().getResource(&quot;MCQ.fxml&quot;));\r\n                    break;\r\n                case &quot;Open-Ended&quot;:\r\n                    loader.setLocation(getClass().getResource(&quot;open_ended.fxml&quot;));\r\n                    break;\r\n                case &quot;Rating&quot;:\r\n                    loader.setLocation(getClass().getResource(&quot;rating.fxml&quot;));\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    \r\n        public void setMCQ(ActionEvent event) throws Exception {\r\n            checkMCQ();\r\n        }\r\n    \r\n        private void checkMCQ() throws Exception {\r\n            Main MCQ = new Main();\r\n            MCQ.changeQuestion(&quot;MCQ.fxml&quot;);\r\n        }\r\n    \r\n        public void setOpenEnded(ActionEvent event) throws Exception {\r\n            openOpenEndedController();\r\n        }\r\n    \r\n        private void openOpenEndedController() throws Exception {\r\n            Main oe = new Main();\r\n            oe.changeQuestion(&quot;open_ended.fxml&quot;);\r\n        }\r\n    \r\n        public void setRating(ActionEvent event) throws Exception {\r\n            checkRating();\r\n        }\r\n    \r\n        private void checkRating() throws Exception {\r\n            Main Rating = new Main();\r\n            Rating.changeQuestion(&quot;rating.fxml&quot;);\r\n        }\r\n    \r\n        public void setSave(ActionEvent event) throws Exception {\r\n            Main s = new Main();\r\n    \r\n            // get usernames\r\n            String adminUsername = LogIn.getAdminUsername();\r\n            String userUsername = LogIn.getUserUsername();\r\n    \r\n            // Save questions to CSV\r\n            CSVHandler&lt;Question&gt; csvHandler = new CSVHandler&lt;&gt;(&quot;ID,Type,Title,Answer&quot;, &quot;,&quot;, &quot;\\n&quot;);\r\n            csvHandler.writeCSV(questionList, &quot;survey1.csv&quot;, false);\r\n    \r\n            // save in this format\r\n            fileChooser.setTitle(&quot;Save Survey&quot;);\r\n            fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;Java Files&quot;, &quot;*.java&quot;));\r\n    \r\n            // show save dialog\r\n            File selectedFile = fileChooser.showSaveDialog(null);\r\n    \r\n            // save function\r\n            if (selectedFile != null) {\r\n                try {\r\n                    FileWriter writer = new FileWriter(selectedFile);\r\n                    writer.write(&quot;public class Survey {/n/n}&quot;);\r\n    \r\n                    // feature to return to pages\r\n                    if (adminUsername!= null &amp;&amp; adminUsername.equals(&quot;admin&quot;)) {\r\n                        s.changeScene(&quot;adminpage.fxml&quot;);\r\n                        writer.close();\r\n                    }\r\n    \r\n                    else if (userUsername != null &amp;&amp; userUsername.equals(&quot;user&quot;)) {\r\n                        s.changeScene(&quot;userpage.fxml&quot;);\r\n                        writer.close();\r\n                    }\r\n                }\r\n    \r\n                catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) { launch(); }\r\n    \r\n    \r\n    }\r\n\r\nAnd for good measure, I have my UserPage.java file (basically a user interface for anyone who is logged in as a user, not admin)\r\n\r\nUserPage.java:\r\n\r\n    package com.example.assignmentsurvey;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Alert;\r\n    import javafx.scene.control.Button;\r\n    import javafx.stage.FileChooser;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    \r\n    import static javafx.application.Application.launch;\r\n    \r\n    public class UserPage {\r\n        @FXML\r\n        private Button logout;\r\n        @FXML\r\n        private Button addsurvey;\r\n        @FXML\r\n        private Button deletesurvey;\r\n        @FXML\r\n        private Button editsurvey;\r\n    \r\n        private static Stage stg;\r\n        FileChooser fileChooser= new FileChooser();\r\n        public void setLogout(ActionEvent event) throws IOException {\r\n            checkLogout();\r\n        }\r\n    \r\n        private void checkLogout() throws IOException {\r\n            Main m = new Main();\r\n            m.changeScene(&quot;logintest.fxml&quot;);\r\n        }\r\n    \r\n        // connected to a button in the userpage.fxml file\r\n        public void setAdd(ActionEvent event) throws IOException {\r\n            addSurvey();\r\n        }\r\n    \r\n        // the function to create a new survey file\r\n        private void addSurvey() {\r\n            // set directory of where to save the file\r\n            File defaultDirectory = new File(&quot;C:\\\\Users\\\\adruc\\\\IdeaProjects\\\\assignmentsurvey\\\\src\\\\main\\\\java\\\\com\\\\example\\\\Surveys&quot;);\r\n            fileChooser.setInitialDirectory(defaultDirectory);\r\n    \r\n            // set the upper title of the dialog\r\n            fileChooser.setTitle(&quot;Add File&quot;);\r\n    \r\n            // show open file dialog name the newly created file\r\n            fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;CSV Files&quot;, &quot;*.csv&quot;));\r\n            java.io.File selectedFile = fileChooser.showSaveDialog(null);\r\n    \r\n            if (selectedFile != null) {\r\n                // name the file\r\n                try {\r\n                    String fileName = selectedFile.getName();\r\n                    if (!fileName.endsWith(&quot;.csv&quot;)) {\r\n                        fileName += &quot;.csv&quot;;\r\n                    }\r\n                    FileWriter writer = new FileWriter(selectedFile.getParent() + &quot;/&quot; + fileName);\r\n                    writer.write(&quot;public class Survey {\\n\\n}&quot;);\r\n                    writer.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void setDelete(ActionEvent event) throws IOException {\r\n            deleteSurvey();\r\n        }\r\n    \r\n        private void deleteSurvey() throws IOException {\r\n            fileChooser.setTitle(&quot;Delete File&quot;);\r\n    \r\n            // show open file dialog\r\n            java.io.File selectedFile = fileChooser.showOpenDialog(stg);\r\n    \r\n            if (selectedFile != null) {\r\n                boolean result = selectedFile.delete();\r\n    \r\n                if (result) {\r\n                    Alert alert1 = new Alert(Alert.AlertType.CONFIRMATION);\r\n                    alert1.setTitle(&quot;File deleted&quot;);\r\n                    alert1.setHeaderText(&quot;Success!&quot;);\r\n                    alert1.setContentText(&quot;File has been successfully deleted.&quot;);\r\n    \r\n                }\r\n                else {\r\n                    Alert alert2 = new Alert(Alert.AlertType.ERROR);\r\n                    alert2.setTitle(&quot;Error&quot;);\r\n                    alert2.setHeaderText(&quot;Error&quot;);\r\n                    alert2.setContentText(&quot;There was an issue trying to delete the file.&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void setEdit(ActionEvent event) throws IOException {\r\n            editSurvey();\r\n        }\r\n    \r\n        private void editSurvey() throws IOException {\r\n            // set initial directory\r\n            File defaultDirectory = new File(&quot;C:\\\\Users\\\\adruc\\\\IdeaProjects\\\\assignmentsurvey\\\\src\\\\main\\\\java\\\\com\\\\example\\\\Surveys&quot;);\r\n            fileChooser.setInitialDirectory(defaultDirectory);\r\n            fileChooser.setTitle(&quot;Edit File&quot;);\r\n    \r\n            // show open dialog\r\n            fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;CSV Files&quot;, &quot;*.csv&quot;));\r\n            java.io.File selectedFile = fileChooser.showOpenDialog(null);\r\n    \r\n            // select the file\r\n            if (selectedFile != null) {\r\n                try {\r\n                    Main edit = new Main();\r\n                    edit.changeQuestion(&quot;surveycreator.fxml&quot;);\r\n                }\r\n                catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\nI do have some other files, such as Main.java:\r\n\r\n    package com.example.assignmentsurvey;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Objects;\r\n    \r\n    public class Main extends Application {\r\n    \r\n        private static Stage stg;\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception{\r\n            stg = primaryStage;\r\n            primaryStage.setResizable(false);\r\n            Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;logintest.fxml&quot;)));\r\n            primaryStage.setScene(new Scene(root, 600, 400));\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public void changeScene(String fxml) throws IOException {\r\n            Parent pane = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(fxml)));\r\n            stg.getScene().setRoot(pane);\r\n        }\r\n    \r\n        public void changeQuestion(String fxml) throws IOException {\r\n            Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(fxml)));\r\n            stg.setScene(new Scene(root, 900, 650));\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\nCSVHandler.java:\r\n\r\n    package com.example.assignmentsurvey;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import java.io.*;\r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.Modifier;\r\n    import java.util.*;\r\n    \r\n    \r\n    \r\n    public class CSVHandler &lt;T&gt;{\r\n        private String delimiter = &quot;,&quot;;\r\n        private String newline = &quot;\\n&quot;;\r\n        private String header;\r\n    \r\n        public CSVHandler(String header, String delimiter, String newline) {\r\n            this.header = header;\r\n            this.delimiter = delimiter;\r\n            this.newline = newline;\r\n        }\r\n    \r\n        public void writeCSV(List&lt;T&gt; data, String fileName, boolean append) {\r\n            FileWriter fileWriter = null;\r\n            try {\r\n                File file = new File(fileName);\r\n                fileWriter = new FileWriter(file, append);\r\n                if (!append) {\r\n                    fileWriter.append(header);\r\n                    fileWriter.append(newline);\r\n                }\r\n                for (T element : data) {\r\n                    // int rows = data.size();\r\n                    Field[] fields = element.getClass().getDeclaredFields();\r\n                    int discard = 0;\r\n                    for (Field f : fields) {\r\n                        // get rid of public var, which are shared variables\r\n                        if (Modifier.isPublic(f.getModifiers())) {\r\n                            discard += 1;\r\n                        }\r\n                    }\r\n                    int columns = fields.length - discard;\r\n                    int count = 0;\r\n                    for (Field f : fields) {\r\n                        // only list private variables internal to a class\r\n                        if (Modifier.isPrivate(f.getModifiers())) {\r\n                            count += 1;\r\n                            f.setAccessible(true);\r\n                            fileWriter.append(f.get(element).toString());\r\n                            if (count % columns != 0) {\r\n                                fileWriter.append(delimiter);\r\n                            }\r\n                        }\r\n                    }\r\n                    fileWriter.append(newline);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    fileWriter.flush();\r\n                    fileWriter.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public List&lt;T&gt; readCSV(String fileName, CSVParser&lt;T&gt; parser) {\r\n            BufferedReader bReader = null;\r\n            File file = new File(fileName);\r\n            List&lt;T&gt; data = new ArrayList&lt;&gt;();\r\n            if (file.exists()) {\r\n                try {\r\n                    String line = &quot;&quot;;\r\n                    bReader = new BufferedReader(new FileReader(file));\r\n                    bReader.readLine();\r\n    \r\n                    while ((line = bReader.readLine()) != null) {\r\n                        T element = parser.parseLine(line.split(delimiter));\r\n                        if (element != null)\r\n                            data.add(element);\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        if (bReader != null)\r\n                            bReader.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n            return data;\r\n        }\r\n    \r\n        public List&lt;UserDetails&gt; readJSON(String fileName, Class&lt;UserDetails[]&gt; clazz) {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            List&lt;UserDetails&gt; data = new ArrayList&lt;&gt;();\r\n            try {\r\n                File file = new File(fileName);\r\n                if (file.exists()) {\r\n                    data = Arrays.asList(mapper.readValue(file, clazz));\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return data;\r\n        }\r\n    }\r\n\r\n","link":"https://stackoverflow.com/questions/77552126/how-to-makesure-that-my-tableview-updates-with-the-questions-i-created","title":"How to makesure that my TableView updates with the questions I created","body":"<p>How to makesure that my <code>TableView</code> updates with the questions I created, with <code>TableView</code> showing the row of the question. I want to make sure that my <code>OpenEndedController</code> file adds in the question I created in my survey creator, in which the <code>TableView</code> in my <code>SurveyCreator.java</code> file should display the row with the question ID and question <code>Type</code>, but somehow it doesn't work. May someone help analyze it?</p>\n<p>OpenEndedController.java file</p>\n<pre><code>package com.example.assignmentsurvey;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\n\nimport java.io.IOException;\n\npublic class OpenEndedController {\n\n    @FXML\n    private TextArea AnswerField;\n\n    @FXML\n    private Button ExitOE;\n\n    @FXML\n    private TextField QuestionTitle;\n\n    @FXML\n    private Button addToTable;\n\n    @FXML\n    private TextField questionID;\n\n    private String question;\n    private String id;\n    private String answer;\n    public SurveyCreator surveyCreator;\n\n    // initialize surveyCreator\n    public OpenEndedController() {\n        this.surveyCreator = new SurveyCreator();\n    }\n\n    @FXML\n    void addOpenEnded(ActionEvent event) throws IOException {\n        Main add = new Main();\n        try {\n            // Get values from UI components`\n            id = questionID.getText();\n            question = QuestionTitle.getText();\n            answer = AnswerField.getText();\n\n            // Check if the title is not empty\n            if (question.isEmpty()) {\n                showAlert(&quot;Error&quot;, &quot;Title cannot be empty.&quot;);\n            } else {\n                // Create Open-Ended question using the Question class\n                Question openEndedQuestion = new Question(id,&quot;Open-Ended&quot;, question, answer);\n                 // Assuming you have a setAnswer method in your Question class\n\n                // Add Open-Ended question to SurveyCreator\n                if (surveyCreator != null) {\n                    surveyCreator.addQuestion(openEndedQuestion);\n                } else {\n                    showAlert(&quot;Error&quot;, &quot;SurveyCreator instance is null. Cannot add question.&quot;);\n                    return;\n                }\n\n                // Clear the input fields\n                clearFields();\n\n                // Inform the user that the question was added\n                showAlert(&quot;Success&quot;, &quot;Open-Ended question added successfully!&quot;);\n\n                // update tableview\n                surveyCreator.updateTableView();\n\n                // return to survey creator\n                add.changeScene(&quot;surveycreator.fxml&quot;);\n            }\n        } catch (NumberFormatException e) {\n            showAlert(&quot;Error&quot;, &quot;Please enter a valid numeric ID.&quot;);\n        }\n    }\n\n    @FXML\n    public void exitOpenEnded(ActionEvent event) throws IOException {\n        Main exit = new Main();\n        exit.changeScene(&quot;surveycreator.fxml&quot;);\n    }\n\n    @FXML\n    public void getAnswer(ActionEvent event) {\n        AnswerField.getText();\n    }\n\n    @FXML\n    public void getQuestionID(ActionEvent event) {\n        String id = questionID.getText();\n    }\n\n    @FXML\n    public void getQuestionTitle(ActionEvent event)  {\n        QuestionTitle.getText();\n    }\n\n\n    private void showAlert(String title, String content) {\n        Alert alert = new Alert(Alert.AlertType.ERROR);\n        alert.setTitle(title);\n        alert.setContentText(content);\n        alert.showAndWait();\n    }\n\n    private void clearFields() {\n        questionID.clear();\n        QuestionTitle.clear();\n        AnswerField.clear();\n    }\n}\n</code></pre>\n<p>SurveyCreator.java file:</p>\n<pre><code>package com.example.assignmentsurvey;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.*;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.stage.FileChooser;\nimport javafx.stage.Stage;\n\nimport java.io.*;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\n\nimport static javafx.application.Application.launch;\n\npublic class SurveyCreator implements Initializable {\n    FileChooser fileChooser = new FileChooser();\n    FXMLLoader loader = new FXMLLoader();\n    private String username;\n    private String textArea;\n\n\n    // Table\n    @FXML\n    public TableView&lt;Question&gt; showquestions;\n    private ObservableList&lt;Question&gt; questionList = FXCollections.observableArrayList();\n\n    // Column\n    @FXML\n    public TableColumn&lt;Question, String&gt; ID;\n\n    @FXML\n    public TableColumn&lt;Question, String&gt; Type;\n\n\n    @FXML\n    private Button surveycreatorDelete;\n\n    @FXML\n    private Button surveycreatorEdit;\n\n    @FXML\n    private Button surveycreatorExit;\n\n    @FXML\n    private Button surveycreatorMCQ;\n\n    @FXML\n    private Button surveycreatorOpenEnded;\n\n    @FXML\n    private Button surveycreatorPublish;\n\n    @FXML\n    private Button surveycreatorRating;\n\n    @FXML\n    private Button surveycreatorSave;\n\n    private Stage stage;\n\n    private Question questionHandler = new Question();\n\n    // update TableView\n    public void updateTableView() {\n        showquestions.getItems().clear();\n        showquestions.getItems().addAll(questionList);\n    }\n\n\n    // add question\n    public void addQuestion(Question question) {\n        questionHandler.create(question);\n        questionList.add(question);\n        showquestions.setItems(questionList);\n    }\n\n    ObservableList&lt;Question&gt; list = FXCollections.observableArrayList();\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        ID.setCellValueFactory(new PropertyValueFactory&lt;Question, String&gt;(&quot;ID&quot;));\n        Type.setCellValueFactory(new PropertyValueFactory&lt;Question, String&gt;(&quot;Type&quot;));\n    }\n\n    // read question\n    public Question getQuestionById(String targetID) {\n        return questionHandler.read(targetID);\n    }\n\n    // update question\n    public void updateQuestion(Question question) {\n        questionHandler.update(question);\n        showquestions.setItems(questionList);\n    }\n\n    // delete question\n    public void deleteQuestion(String targetID) {\n        questionHandler.delete(targetID);\n        questionList.removeIf(q -&gt; q.getId().equals(targetID));\n        showquestions.setItems(questionList);\n    }\n\n    // initialize\n    public SurveyCreator() {\n        this.showquestions = new TableView&lt;&gt;();\n        this.ID = new TableColumn&lt;&gt;();\n        this.Type = new TableColumn&lt;&gt;();\n        showquestions.setItems(questionList);\n    }\n\n\n    // load .csv file\n    public void loadSurvey(File surveyFile) {\n        try (BufferedReader reader = new BufferedReader(new FileReader(surveyFile))) {\n            String line;\n\n            while ((line = reader.readLine()) != null) {\n\n\n                String[] parts = line.split(&quot;,&quot;);\n\n                // create question object\n                Question newQuestion = new Question(parts[0], parts[1], parts[2], parts[3]);\n                showquestions.getItems().add(newQuestion);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    public void exitSurveyCreator(ActionEvent event) throws Exception {\n        Main e = new Main();\n\n        // get usernames from login check\n        String adminUsername = LogIn.getAdminUsername();\n        String userUsername = LogIn.getUserUsername();\n\n\n        if (adminUsername != null &amp;&amp; adminUsername.equals(&quot;admin&quot;)) {\n            e.changeScene(&quot;adminpage.fxml&quot;);\n\n        } else if (userUsername != null &amp;&amp; userUsername.equals(&quot;user&quot;)) {\n            e.changeScene(&quot;userpage.fxml&quot;);\n        }\n    }\n\n    public void setDelete(ActionEvent event) throws Exception {\n        Question selectedQuestion = showquestions.getSelectionModel().getSelectedItem();\n\n        // Check if item is selected\n        if (selectedQuestion == null) {\n           checkDelete(selectedQuestion.getId());\n        }\n    }\n\n    private void checkDelete(String targetID) throws Exception {\n        questionList.removeIf(q -&gt; q.getId().equals(targetID));\n        showquestions.setItems(questionList);\n    }\n\n    public void setEdit(ActionEvent event) throws Exception {\n        Question selectedQuestion = showquestions.getSelectionModel().getSelectedItem();\n\n        // check if item is selected\n        if (selectedQuestion != null) {\n            navigateToScene(selectedQuestion);\n        }\n    }\n\n    private void navigateToScene(Question question) throws Exception  {\n        // initialize variables\n        String Type = question.getType();\n        String id = question.getId();\n\n        switch (Type) {\n            case &quot;MCQ&quot;:\n                loader.setLocation(getClass().getResource(&quot;MCQ.fxml&quot;));\n                break;\n            case &quot;Open-Ended&quot;:\n                loader.setLocation(getClass().getResource(&quot;open_ended.fxml&quot;));\n                break;\n            case &quot;Rating&quot;:\n                loader.setLocation(getClass().getResource(&quot;rating.fxml&quot;));\n                break;\n            default:\n                break;\n        }\n    }\n\n    public void setMCQ(ActionEvent event) throws Exception {\n        checkMCQ();\n    }\n\n    private void checkMCQ() throws Exception {\n        Main MCQ = new Main();\n        MCQ.changeQuestion(&quot;MCQ.fxml&quot;);\n    }\n\n    public void setOpenEnded(ActionEvent event) throws Exception {\n        openOpenEndedController();\n    }\n\n    private void openOpenEndedController() throws Exception {\n        Main oe = new Main();\n        oe.changeQuestion(&quot;open_ended.fxml&quot;);\n    }\n\n    public void setRating(ActionEvent event) throws Exception {\n        checkRating();\n    }\n\n    private void checkRating() throws Exception {\n        Main Rating = new Main();\n        Rating.changeQuestion(&quot;rating.fxml&quot;);\n    }\n\n    public void setSave(ActionEvent event) throws Exception {\n        Main s = new Main();\n\n        // get usernames\n        String adminUsername = LogIn.getAdminUsername();\n        String userUsername = LogIn.getUserUsername();\n\n        // Save questions to CSV\n        CSVHandler&lt;Question&gt; csvHandler = new CSVHandler&lt;&gt;(&quot;ID,Type,Title,Answer&quot;, &quot;,&quot;, &quot;\\n&quot;);\n        csvHandler.writeCSV(questionList, &quot;survey1.csv&quot;, false);\n\n        // save in this format\n        fileChooser.setTitle(&quot;Save Survey&quot;);\n        fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;Java Files&quot;, &quot;*.java&quot;));\n\n        // show save dialog\n        File selectedFile = fileChooser.showSaveDialog(null);\n\n        // save function\n        if (selectedFile != null) {\n            try {\n                FileWriter writer = new FileWriter(selectedFile);\n                writer.write(&quot;public class Survey {/n/n}&quot;);\n\n                // feature to return to pages\n                if (adminUsername!= null &amp;&amp; adminUsername.equals(&quot;admin&quot;)) {\n                    s.changeScene(&quot;adminpage.fxml&quot;);\n                    writer.close();\n                }\n\n                else if (userUsername != null &amp;&amp; userUsername.equals(&quot;user&quot;)) {\n                    s.changeScene(&quot;userpage.fxml&quot;);\n                    writer.close();\n                }\n            }\n\n            catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n    public static void main(String[] args) { launch(); }\n\n\n}\n</code></pre>\n<p>And for good measure, I have my UserPage.java file (basically a user interface for anyone who is logged in as a user, not admin)</p>\n<p>UserPage.java:</p>\n<pre><code>package com.example.assignmentsurvey;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.stage.FileChooser;\nimport javafx.stage.Stage;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\nimport static javafx.application.Application.launch;\n\npublic class UserPage {\n    @FXML\n    private Button logout;\n    @FXML\n    private Button addsurvey;\n    @FXML\n    private Button deletesurvey;\n    @FXML\n    private Button editsurvey;\n\n    private static Stage stg;\n    FileChooser fileChooser= new FileChooser();\n    public void setLogout(ActionEvent event) throws IOException {\n        checkLogout();\n    }\n\n    private void checkLogout() throws IOException {\n        Main m = new Main();\n        m.changeScene(&quot;logintest.fxml&quot;);\n    }\n\n    // connected to a button in the userpage.fxml file\n    public void setAdd(ActionEvent event) throws IOException {\n        addSurvey();\n    }\n\n    // the function to create a new survey file\n    private void addSurvey() {\n        // set directory of where to save the file\n        File defaultDirectory = new File(&quot;C:\\\\Users\\\\adruc\\\\IdeaProjects\\\\assignmentsurvey\\\\src\\\\main\\\\java\\\\com\\\\example\\\\Surveys&quot;);\n        fileChooser.setInitialDirectory(defaultDirectory);\n\n        // set the upper title of the dialog\n        fileChooser.setTitle(&quot;Add File&quot;);\n\n        // show open file dialog name the newly created file\n        fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;CSV Files&quot;, &quot;*.csv&quot;));\n        java.io.File selectedFile = fileChooser.showSaveDialog(null);\n\n        if (selectedFile != null) {\n            // name the file\n            try {\n                String fileName = selectedFile.getName();\n                if (!fileName.endsWith(&quot;.csv&quot;)) {\n                    fileName += &quot;.csv&quot;;\n                }\n                FileWriter writer = new FileWriter(selectedFile.getParent() + &quot;/&quot; + fileName);\n                writer.write(&quot;public class Survey {\\n\\n}&quot;);\n                writer.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public void setDelete(ActionEvent event) throws IOException {\n        deleteSurvey();\n    }\n\n    private void deleteSurvey() throws IOException {\n        fileChooser.setTitle(&quot;Delete File&quot;);\n\n        // show open file dialog\n        java.io.File selectedFile = fileChooser.showOpenDialog(stg);\n\n        if (selectedFile != null) {\n            boolean result = selectedFile.delete();\n\n            if (result) {\n                Alert alert1 = new Alert(Alert.AlertType.CONFIRMATION);\n                alert1.setTitle(&quot;File deleted&quot;);\n                alert1.setHeaderText(&quot;Success!&quot;);\n                alert1.setContentText(&quot;File has been successfully deleted.&quot;);\n\n            }\n            else {\n                Alert alert2 = new Alert(Alert.AlertType.ERROR);\n                alert2.setTitle(&quot;Error&quot;);\n                alert2.setHeaderText(&quot;Error&quot;);\n                alert2.setContentText(&quot;There was an issue trying to delete the file.&quot;);\n            }\n        }\n    }\n\n    public void setEdit(ActionEvent event) throws IOException {\n        editSurvey();\n    }\n\n    private void editSurvey() throws IOException {\n        // set initial directory\n        File defaultDirectory = new File(&quot;C:\\\\Users\\\\adruc\\\\IdeaProjects\\\\assignmentsurvey\\\\src\\\\main\\\\java\\\\com\\\\example\\\\Surveys&quot;);\n        fileChooser.setInitialDirectory(defaultDirectory);\n        fileChooser.setTitle(&quot;Edit File&quot;);\n\n        // show open dialog\n        fileChooser.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;CSV Files&quot;, &quot;*.csv&quot;));\n        java.io.File selectedFile = fileChooser.showOpenDialog(null);\n\n        // select the file\n        if (selectedFile != null) {\n            try {\n                Main edit = new Main();\n                edit.changeQuestion(&quot;surveycreator.fxml&quot;);\n            }\n            catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>I do have some other files, such as Main.java:</p>\n<pre><code>package com.example.assignmentsurvey;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class Main extends Application {\n\n    private static Stage stg;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        stg = primaryStage;\n        primaryStage.setResizable(false);\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;logintest.fxml&quot;)));\n        primaryStage.setScene(new Scene(root, 600, 400));\n        primaryStage.show();\n    }\n\n    public void changeScene(String fxml) throws IOException {\n        Parent pane = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(fxml)));\n        stg.getScene().setRoot(pane);\n    }\n\n    public void changeQuestion(String fxml) throws IOException {\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(fxml)));\n        stg.setScene(new Scene(root, 900, 650));\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>CSVHandler.java:</p>\n<pre><code>package com.example.assignmentsurvey;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.*;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Modifier;\nimport java.util.*;\n\n\n\npublic class CSVHandler &lt;T&gt;{\n    private String delimiter = &quot;,&quot;;\n    private String newline = &quot;\\n&quot;;\n    private String header;\n\n    public CSVHandler(String header, String delimiter, String newline) {\n        this.header = header;\n        this.delimiter = delimiter;\n        this.newline = newline;\n    }\n\n    public void writeCSV(List&lt;T&gt; data, String fileName, boolean append) {\n        FileWriter fileWriter = null;\n        try {\n            File file = new File(fileName);\n            fileWriter = new FileWriter(file, append);\n            if (!append) {\n                fileWriter.append(header);\n                fileWriter.append(newline);\n            }\n            for (T element : data) {\n                // int rows = data.size();\n                Field[] fields = element.getClass().getDeclaredFields();\n                int discard = 0;\n                for (Field f : fields) {\n                    // get rid of public var, which are shared variables\n                    if (Modifier.isPublic(f.getModifiers())) {\n                        discard += 1;\n                    }\n                }\n                int columns = fields.length - discard;\n                int count = 0;\n                for (Field f : fields) {\n                    // only list private variables internal to a class\n                    if (Modifier.isPrivate(f.getModifiers())) {\n                        count += 1;\n                        f.setAccessible(true);\n                        fileWriter.append(f.get(element).toString());\n                        if (count % columns != 0) {\n                            fileWriter.append(delimiter);\n                        }\n                    }\n                }\n                fileWriter.append(newline);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                fileWriter.flush();\n                fileWriter.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public List&lt;T&gt; readCSV(String fileName, CSVParser&lt;T&gt; parser) {\n        BufferedReader bReader = null;\n        File file = new File(fileName);\n        List&lt;T&gt; data = new ArrayList&lt;&gt;();\n        if (file.exists()) {\n            try {\n                String line = &quot;&quot;;\n                bReader = new BufferedReader(new FileReader(file));\n                bReader.readLine();\n\n                while ((line = bReader.readLine()) != null) {\n                    T element = parser.parseLine(line.split(delimiter));\n                    if (element != null)\n                        data.add(element);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                try {\n                    if (bReader != null)\n                        bReader.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        return data;\n    }\n\n    public List&lt;UserDetails&gt; readJSON(String fileName, Class&lt;UserDetails[]&gt; clazz) {\n        ObjectMapper mapper = new ObjectMapper();\n        List&lt;UserDetails&gt; data = new ArrayList&lt;&gt;();\n        try {\n            File file = new File(fileName);\n            if (file.exists()) {\n                data = Arrays.asList(mapper.readValue(file, clazz));\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return data;\n    }\n}\n</code></pre>\n"},{"tags":["java","string","char","counter","frequency"],"comments":[{"score":5,"post_type":"question","creation_date":1701020800,"post_id":77552804,"comment_id":136720555,"body_markdown":"Please, take some time to read [how to ask](/help/how-to-ask) and [How to create a Minimal, Reproducible Example](/help/minimal-reproducible-example). What do have tried so far? Code, input...","link":"https://stackoverflow.com/questions/77552804/is-there-any-function-that-can-count-with-char-value#comment136720555_77552804","body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>. What do have tried so far? Code, input..."},{"score":1,"post_type":"question","creation_date":1701021169,"post_id":77552804,"comment_id":136720592,"body_markdown":"I find your question confusing.  Please post the solution  you tried.  And before posting again, please take the [tour].","link":"https://stackoverflow.com/questions/77552804/is-there-any-function-that-can-count-with-char-value#comment136720592_77552804","body":"I find your question confusing.  Please post the solution  you tried.  And before posting again, please take the <a href=\"https://stackoverflow.com/tour\">tour</a>."},{"score":0,"post_type":"question","creation_date":1701023549,"post_id":77552804,"comment_id":136720844,"body_markdown":"_I tried this with if loop_ there is not a thing like an &quot;if loop&quot; - an if statement does not loop. There are &quot;for&quot; loops and &quot;while&quot; loops and &quot;do ... while&quot; loops and IMHO any of these three loops should work.","link":"https://stackoverflow.com/questions/77552804/is-there-any-function-that-can-count-with-char-value#comment136720844_77552804","body":"<i>I tried this with if loop</i> there is not a thing like an &quot;if loop&quot; - an if statement does not loop. There are &quot;for&quot; loops and &quot;while&quot; loops and &quot;do ... while&quot; loops and IMHO any of these three loops should work."},{"score":0,"post_type":"question","creation_date":1701023737,"post_id":77552804,"comment_id":136720872,"body_markdown":"I am sorry Mr. Thomas, thank you for correcting me","link":"https://stackoverflow.com/questions/77552804/is-there-any-function-that-can-count-with-char-value#comment136720872_77552804","body":"I am sorry Mr. Thomas, thank you for correcting me"},{"score":0,"post_type":"question","creation_date":1701024113,"post_id":77552804,"comment_id":136720922,"body_markdown":"We can help you a lot better if you post what you have tried so far. Otherwise we are just coding it for you and not actually helping you.","link":"https://stackoverflow.com/questions/77552804/is-there-any-function-that-can-count-with-char-value#comment136720922_77552804","body":"We can help you a lot better if you post what you have tried so far. Otherwise we are just coding it for you and not actually helping you."},{"score":0,"post_type":"question","creation_date":1701024245,"post_id":77552804,"comment_id":136720939,"body_markdown":"Sure, Mr. Matthew but it has error","link":"https://stackoverflow.com/questions/77552804/is-there-any-function-that-can-count-with-char-value#comment136720939_77552804","body":"Sure, Mr. Matthew but it has error"},{"score":0,"post_type":"question","creation_date":1701024833,"post_id":77552804,"comment_id":136721008,"body_markdown":"My code:- \nimport java.util.Scanner;\n\npublic class sen\n{\npublic static void main(String args[])\n{\n(\n\nScanner sc new Scanner(System.in);\n\nString sen &quot;&quot;. wd&quot;:\n\nchar ch\n\nint i, slen, vc-0, cc-0;\n\nSystem.out.println(&quot;Enter a sentence: &quot;);\n\nsen sc.nextLine();\n\nsen sen.toUpperCase();\n\nsen sen+&quot; &quot;;\n\nslen sen.length();\n\nSystem.out.println(&quot;WORD COUNT:-&quot;);\n\nfor (i = 0; i&lt;slen; i++)\n{\nch sen.charAt(1);\n\nif (ch= &#39;A&#39; || ch== &#39;E&#39; || ch== &#39;I&#39; || ch==&#39;0&#39; || ch== &#39;U&#39;)\n\n{\n\nvc++;\n\n} \n\nelse if(ch != &#39;A&#39; || ch!= &#39;E&#39; || ch!= &#39;I&#39; || ch!=&#39;0&#39; || ch!=&#39;U&#39; || ch!=&#39;&#39;)","link":"https://stackoverflow.com/questions/77552804/is-there-any-function-that-can-count-with-char-value#comment136721008_77552804","body":"My code:-  import java.util.Scanner;  public class sen { public static void main(String args[]) { (  Scanner sc new Scanner(System.in);  String sen &quot;&quot;. wd&quot;:  char ch  int i, slen, vc-0, cc-0;  System.out.println(&quot;Enter a sentence: &quot;);  sen sc.nextLine();  sen sen.toUpperCase();  sen sen+&quot; &quot;;  slen sen.length();  System.out.println(&quot;WORD COUNT:-&quot;);  for (i = 0; i&lt;slen; i++) { ch sen.charAt(1);  if (ch= &#39;A&#39; || ch== &#39;E&#39; || ch== &#39;I&#39; || ch==&#39;0&#39; || ch== &#39;U&#39;)  {  vc++;  }   else if(ch != &#39;A&#39; || ch!= &#39;E&#39; || ch!= &#39;I&#39; || ch!=&#39;0&#39; || ch!=&#39;U&#39; || ch!=&#39;&#39;)"},{"score":0,"post_type":"question","creation_date":1701024862,"post_id":77552804,"comment_id":136721016,"body_markdown":"cc++;\n\n}\n\nif (ch==&#39; &#39;)\n\n{ \nSystem.out.print(wd+&quot; &quot;);\n\nwd=&quot;&quot;:\n}\nelse\nwd=wd+ch;\n\n}\n}\nfor (int j = 0; j&lt;vc; j++)\n{\nSystem.out.print(&quot;V&quot;);\n\n}\n\nSystem.out.println();\n\nfor (int k = 0; k&lt;cc; k++)\n\n{\n\nSystem.out.print(&quot;C&quot;);\n}\nSystem.out.println();\n\nfor (i = 0; i&lt;slen; i++)\n\n{\n\nch sen.charAt(i);\n\nif (ch==&#39;.&#39; || ch== &#39;?&#39; || ch==&#39;&#39;)\n\nSystem.out.println(&quot;INCORRECT TERMINATING CHARACTER. INVALID INPUT.&quot;);\n}\n}\n\n}","link":"https://stackoverflow.com/questions/77552804/is-there-any-function-that-can-count-with-char-value#comment136721016_77552804","body":"cc++;  }  if (ch==&#39; &#39;)  {  System.out.print(wd+&quot; &quot;);  wd=&quot;&quot;: } else wd=wd+ch;  } } for (int j = 0; j&lt;vc; j++) { System.out.print(&quot;V&quot;);  }  System.out.println();  for (int k = 0; k&lt;cc; k++)  {  System.out.print(&quot;C&quot;); } System.out.println();  for (i = 0; i&lt;slen; i++)  {  ch sen.charAt(i);  if (ch==&#39;.&#39; || ch== &#39;?&#39; || ch==&#39;&#39;)  System.out.println(&quot;INCORRECT TERMINATING CHARACTER. INVALID INPUT.&quot;); } }  }"},{"score":2,"post_type":"question","creation_date":1701024915,"post_id":77552804,"comment_id":136721026,"body_markdown":"Please re-edit your question and put your code there.","link":"https://stackoverflow.com/questions/77552804/is-there-any-function-that-can-count-with-char-value#comment136721026_77552804","body":"Please re-edit your question and put your code there."},{"score":0,"post_type":"question","creation_date":1701025290,"post_id":77552804,"comment_id":136721066,"body_markdown":"That says that it is too long","link":"https://stackoverflow.com/questions/77552804/is-there-any-function-that-can-count-with-char-value#comment136721066_77552804","body":"That says that it is too long"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701024843,"last_edit_date":1701024843,"creation_date":1701024257,"answer_id":77553018,"question_id":77552804,"body_markdown":"Here is an example.\r\n\r\nMaintain a _String_ for both _vowels_, and _consonants_; I&#39;m using _a_ and _b_.\\\r\nDivide the text, _s_, with the _[String#split](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String))_ _method_, and traverse each value.\\\r\nFrom here, increment _x_ by _1_ for vowels, and _y_ by _1_ for _consonants_.\\\r\nAfter the _loop_, print out an occurrence of either _&quot;V&quot;_, or _&quot;C&quot;_, for each _x_ and _y_, with the _[String#repeat](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#repeat(int))_ method.\r\n\r\n```java\r\nString s = &quot;HOW ARE YOU?&quot;,\r\n       a = &quot;aeiou&quot;, b = &quot;bcdfghjklmnpqrstvwxyz&quot;;\r\nint i, n, x, y;\r\nchar c;\r\nfor (String w : s.split(&quot; +&quot;)) {\r\n    System.out.println(w);\r\n    x = y = 0;\r\n    for (i = 0, n = w.length(); i &lt; n; i++) {\r\n        c = Character.toLowerCase(w.charAt(i));\r\n        if (a.indexOf(c) != -1) x++;\r\n        else if (b.indexOf(c) != -1) y++;\r\n    }\r\n    System.out.println(&quot;V&quot;.repeat(x));\r\n    System.out.println(&quot;C&quot;.repeat(y));\r\n    System.out.println();\r\n}\r\n```\r\n\r\nAlternately, utilize the _[Scanner](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html)_ class to traverse each word.\r\n\r\n```java\r\nScanner s = new Scanner(&quot;HOW ARE YOU?&quot;);\r\nString w, a = &quot;aeiou&quot;, b = &quot;bcdfghjklmnpqrstvwxyz&quot;;\r\nint i, n, x, y;\r\nchar c;\r\nwhile (s.hasNext()) {\r\n    System.out.println(w = s.next());\r\n    x = y = 0;\r\n    for (i = 0, n = w.length(); i &lt; n; i++) {\r\n        c = Character.toLowerCase(w.charAt(i));\r\n        if (a.indexOf(c) != -1) x++;\r\n        else if (b.indexOf(c) != -1) y++;\r\n    }\r\n    System.out.println(&quot;V&quot;.repeat(x));\r\n    System.out.println(&quot;C&quot;.repeat(y));\r\n    System.out.println();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nHOW\r\nV\r\nCC\r\n\r\nARE\r\nVV\r\nC\r\n\r\nYOU?\r\nVV\r\nC\r\n```","link":"https://stackoverflow.com/questions/77552804/is-there-any-function-that-can-count-with-char-value/77553018#77553018","title":"Is there any function that can count with char value?","body":"<p>Here is an example.</p>\n<p>Maintain a <em>String</em> for both <em>vowels</em>, and <em>consonants</em>; I'm using <em>a</em> and <em>b</em>.<br />\nDivide the text, <em>s</em>, with the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String#split</a></em> <em>method</em>, and traverse each value.<br />\nFrom here, increment <em>x</em> by <em>1</em> for vowels, and <em>y</em> by <em>1</em> for <em>consonants</em>.<br />\nAfter the <em>loop</em>, print out an occurrence of either <em>&quot;V&quot;</em>, or <em>&quot;C&quot;</em>, for each <em>x</em> and <em>y</em>, with the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\">String#repeat</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;HOW ARE YOU?&quot;,\n       a = &quot;aeiou&quot;, b = &quot;bcdfghjklmnpqrstvwxyz&quot;;\nint i, n, x, y;\nchar c;\nfor (String w : s.split(&quot; +&quot;)) {\n    System.out.println(w);\n    x = y = 0;\n    for (i = 0, n = w.length(); i &lt; n; i++) {\n        c = Character.toLowerCase(w.charAt(i));\n        if (a.indexOf(c) != -1) x++;\n        else if (b.indexOf(c) != -1) y++;\n    }\n    System.out.println(&quot;V&quot;.repeat(x));\n    System.out.println(&quot;C&quot;.repeat(y));\n    System.out.println();\n}\n</code></pre>\n<p>Alternately, utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></em> class to traverse each word.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner s = new Scanner(&quot;HOW ARE YOU?&quot;);\nString w, a = &quot;aeiou&quot;, b = &quot;bcdfghjklmnpqrstvwxyz&quot;;\nint i, n, x, y;\nchar c;\nwhile (s.hasNext()) {\n    System.out.println(w = s.next());\n    x = y = 0;\n    for (i = 0, n = w.length(); i &lt; n; i++) {\n        c = Character.toLowerCase(w.charAt(i));\n        if (a.indexOf(c) != -1) x++;\n        else if (b.indexOf(c) != -1) y++;\n    }\n    System.out.println(&quot;V&quot;.repeat(x));\n    System.out.println(&quot;C&quot;.repeat(y));\n    System.out.println();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>HOW\nV\nCC\n\nARE\nVV\nC\n\nYOU?\nVV\nC\n</code></pre>\n"}],"comment_count":10,"is_answered":true,"view_count":92,"answer_count":1,"score":-3,"last_activity_date":1701026228,"creation_date":1701020663,"last_edit_date":1701024759,"question_id":77552804,"body_markdown":"Write a program to accept a sentence and perform the following tasks:\r\n\r\n1) **Count number of vowels  and consonants present in each word**\r\n\r\n2) Generate the output of the frequency in form of a bar graph, where **V denotes vowels and C denotes consonants** as shown below:\r\n\r\n\r\nExample:\r\n\r\n**INPUT:-**\r\n\r\nHOW ARE YOU?\r\n\r\n\r\n\r\n**OUTPUT:-**\r\n\r\n\r\nWORD COUNT:\r\n\r\nHOW   \r\n  **V**\r\n        \r\n**CC**\r\n\r\n\r\nARE      \r\n **VV**\r\n          \r\n**C**\r\n\r\n\r\n\r\nYOU      \r\n  **VV**\r\n           \r\n**C**\r\n\r\nThe thing I am asking is that how can I print  V and C, the number of times the vowels and consonants is occurring.. because I can perform this with digits(like if 2 vowel are there so print 2) but I can&#39;t figure that out with char value(here, V and C)\r\n\r\nI tried this with for loop with if statement.. but that ain&#39;t working\r\n\r\n\r\nPlease help me with this... **exams are round the corner**","link":"https://stackoverflow.com/questions/77552804/is-there-any-function-that-can-count-with-char-value","title":"Is there any function that can count with char value?","body":"<p>Write a program to accept a sentence and perform the following tasks:</p>\n<ol>\n<li><p><strong>Count number of vowels  and consonants present in each word</strong></p>\n</li>\n<li><p>Generate the output of the frequency in form of a bar graph, where <strong>V denotes vowels and C denotes consonants</strong> as shown below:</p>\n</li>\n</ol>\n<p>Example:</p>\n<p><strong>INPUT:-</strong></p>\n<p>HOW ARE YOU?</p>\n<p><strong>OUTPUT:-</strong></p>\n<p>WORD COUNT:</p>\n<p>HOW<br />\n<strong>V</strong></p>\n<p><strong>CC</strong></p>\n<p>ARE<br />\n<strong>VV</strong></p>\n<p><strong>C</strong></p>\n<p>YOU<br />\n<strong>VV</strong></p>\n<p><strong>C</strong></p>\n<p>The thing I am asking is that how can I print  V and C, the number of times the vowels and consonants is occurring.. because I can perform this with digits(like if 2 vowel are there so print 2) but I can't figure that out with char value(here, V and C)</p>\n<p>I tried this with for loop with if statement.. but that ain't working</p>\n<p>Please help me with this... <strong>exams are round the corner</strong></p>\n"},{"tags":["java","ehcache"],"comment_count":0,"is_answered":false,"view_count":25,"answer_count":0,"score":0,"last_activity_date":1701025863,"creation_date":1701025863,"question_id":77553105,"body_markdown":"I&#39;ve read that caching a `findAll` method using Ehcache 3 is considered an anti-pattern. Why is that exactly?\r\n\r\nFor demo purposes, I&#39;ve created a simple Java application that implements caching using Ehcache 3.\r\n\r\nSo, here&#39;s a `findById` method that exploits caching.\r\n```\r\n    public Person findById(Long id) {\r\n        Optional&lt;Person&gt; optPerson = personCache.get(id);\r\n        if (optPerson.isPresent()) {\r\n            return optPerson.get();\r\n        }\r\n        try (PreparedStatement statement = connection.prepareStatement(&quot;SELECT * FROM person WHERE id = ?&quot;)) {\r\n            statement.setLong(1, id);\r\n            ResultSet rs = statement.executeQuery();\r\n            if (rs.next()) {\r\n                Long actualId = rs.getLong(&quot;id&quot;);\r\n                String firstName = rs.getString(&quot;first_name&quot;);\r\n                String lastName = rs.getString(&quot;last_name&quot;);\r\n                Integer age = rs.getInt(&quot;age&quot;);\r\n                Person person = new Person(actualId, firstName, lastName, age);\r\n                personCache.put(person);\r\n                return person;\r\n            }\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return null;\r\n    }\r\n```\r\nIt works as expected.\r\n\r\nHowever, I also would like to store the `findAll` (`SELECT * FROM person`) query. I&#39;m not sure how to do that, and why is it an anti-pattern.\r\n\r\nIs it because the number of tuples in the database is unknown? Caching too much can be rather counter-productive, but there&#39;s still a solution to cache only when `findAll` would return less than X values.\r\n\r\nHow do I go about storing `findAll` with Ehcache in pure Java?","link":"https://stackoverflow.com/questions/77553105/caching-the-result-of-findall-method-ehcache","title":"Caching the result of findAll method | Ehcache","body":"<p>I've read that caching a <code>findAll</code> method using Ehcache 3 is considered an anti-pattern. Why is that exactly?</p>\n<p>For demo purposes, I've created a simple Java application that implements caching using Ehcache 3.</p>\n<p>So, here's a <code>findById</code> method that exploits caching.</p>\n<pre><code>    public Person findById(Long id) {\n        Optional&lt;Person&gt; optPerson = personCache.get(id);\n        if (optPerson.isPresent()) {\n            return optPerson.get();\n        }\n        try (PreparedStatement statement = connection.prepareStatement(&quot;SELECT * FROM person WHERE id = ?&quot;)) {\n            statement.setLong(1, id);\n            ResultSet rs = statement.executeQuery();\n            if (rs.next()) {\n                Long actualId = rs.getLong(&quot;id&quot;);\n                String firstName = rs.getString(&quot;first_name&quot;);\n                String lastName = rs.getString(&quot;last_name&quot;);\n                Integer age = rs.getInt(&quot;age&quot;);\n                Person person = new Person(actualId, firstName, lastName, age);\n                personCache.put(person);\n                return person;\n            }\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n        return null;\n    }\n</code></pre>\n<p>It works as expected.</p>\n<p>However, I also would like to store the <code>findAll</code> (<code>SELECT * FROM person</code>) query. I'm not sure how to do that, and why is it an anti-pattern.</p>\n<p>Is it because the number of tuples in the database is unknown? Caching too much can be rather counter-productive, but there's still a solution to cache only when <code>findAll</code> would return less than X values.</p>\n<p>How do I go about storing <code>findAll</code> with Ehcache in pure Java?</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701025759,"creation_date":1701025759,"answer_id":77553100,"question_id":77551249,"body_markdown":"This can be achieved by using [deferContextual(Function)][1] \r\n &amp; [transformDeferredContextual(BiFunction)][2]\r\n\r\n```java\r\n\r\n@Component\r\npublic class YourFilter implements WebFilter {\r\n\r\n  @Override\r\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n    return Mono.deferContextual(contextView -&gt; chain.filter(exchange)\r\n        .contextWrite(context -&gt; context.put(&quot;KEY&quot;, &quot;VALUE&quot;)));\r\n  }\r\n}\r\n\r\n// controller\r\n @Override\r\n  public Mono&lt;String&gt; testApi(ServerWebExchange exchange) {\r\n    return Mono.just(&quot;OK&quot;)\r\n        .transformDeferredContextual((data, context) -&gt; {\r\n          log.info(&quot;context is {}&quot;, (Object) context.get(&quot;KEY&quot;));\r\n          return data;\r\n        });\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/3.4.11/api/reactor/core/publisher/Mono.html#deferContextual-java.util.function.Function-\r\n  [2]: https://projectreactor.io/docs/core/3.4.11/api/reactor/core/publisher/Mono.html#transformDeferredContextual-java.util.function.BiFunction-","link":"https://stackoverflow.com/questions/77551249/spring-boot-webflux-webfilter-not-working/77553100#77553100","title":"Spring boot WebFlux: WebFilter not working","body":"<p>This can be achieved by using <a href=\"https://projectreactor.io/docs/core/3.4.11/api/reactor/core/publisher/Mono.html#deferContextual-java.util.function.Function-\" rel=\"nofollow noreferrer\">deferContextual(Function)</a>\n&amp; <a href=\"https://projectreactor.io/docs/core/3.4.11/api/reactor/core/publisher/Mono.html#transformDeferredContextual-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">transformDeferredContextual(BiFunction)</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component\npublic class YourFilter implements WebFilter {\n\n  @Override\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n    return Mono.deferContextual(contextView -&gt; chain.filter(exchange)\n        .contextWrite(context -&gt; context.put(&quot;KEY&quot;, &quot;VALUE&quot;)));\n  }\n}\n\n// controller\n @Override\n  public Mono&lt;String&gt; testApi(ServerWebExchange exchange) {\n    return Mono.just(&quot;OK&quot;)\n        .transformDeferredContextual((data, context) -&gt; {\n          log.info(&quot;context is {}&quot;, (Object) context.get(&quot;KEY&quot;));\n          return data;\n        });\n  }\n</code></pre>\n"}],"comment_count":0,"is_answered":false,"view_count":51,"answer_count":1,"score":1,"last_activity_date":1701025759,"creation_date":1700993868,"question_id":77551249,"body_markdown":"I have the below controller which returns a Mono of string\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;api/v1/test&quot;)\r\n    public class TestController {\r\n    \r\n        @PostMapping\r\n        public Mono&lt;String&gt; getDraft() {\r\n            return Mono.just(&quot;ok&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nI added the bean WebFilter to do some treatment when a request comes in, the problem is that the message in the bean does not display in the console, i tried to add a breakpoint to debug but when i test the api it&#39;s not stopping in the breakpoint. In the `actuator/beans` i found the bean `slf4jMdcFilter`. There&#39;s another config to add ?\r\n\r\n    @Configuration\r\n    public class WebConfig {\r\n    \r\n        public static final String TRX_ID = &quot;transactionId&quot;;\r\n        public static final String PATH_URI = &quot;pathUri&quot;;\r\n    \r\n        @Bean\r\n        @Order(Ordered.HIGHEST_PRECEDENCE)\r\n        WebFilter slf4jMdcFilter() {\r\n            return (exchange, chain) -&gt; {\r\n                System.out.println(&quot;Filtering request&quot;);\r\n                String requestId = exchange.getRequest().getId();\r\n                return chain.filter(exchange)\r\n                        .contextWrite(Context.of(TRX_ID, requestId)\r\n                                .put(PATH_URI, exchange.getRequest().getPath()));\r\n            };\r\n        }\r\n    \r\n    }","link":"https://stackoverflow.com/questions/77551249/spring-boot-webflux-webfilter-not-working","title":"Spring boot WebFlux: WebFilter not working","body":"<p>I have the below controller which returns a Mono of string</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/v1/test&quot;)\npublic class TestController {\n\n    @PostMapping\n    public Mono&lt;String&gt; getDraft() {\n        return Mono.just(&quot;ok&quot;);\n    }\n\n}\n</code></pre>\n<p>I added the bean WebFilter to do some treatment when a request comes in, the problem is that the message in the bean does not display in the console, i tried to add a breakpoint to debug but when i test the api it's not stopping in the breakpoint. In the <code>actuator/beans</code> i found the bean <code>slf4jMdcFilter</code>. There's another config to add ?</p>\n<pre><code>@Configuration\npublic class WebConfig {\n\n    public static final String TRX_ID = &quot;transactionId&quot;;\n    public static final String PATH_URI = &quot;pathUri&quot;;\n\n    @Bean\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    WebFilter slf4jMdcFilter() {\n        return (exchange, chain) -&gt; {\n            System.out.println(&quot;Filtering request&quot;);\n            String requestId = exchange.getRequest().getId();\n            return chain.filter(exchange)\n                    .contextWrite(Context.of(TRX_ID, requestId)\n                            .put(PATH_URI, exchange.getRequest().getPath()));\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"score":1,"post_type":"question","creation_date":1701027518,"post_id":77553032,"comment_id":136721259,"body_markdown":"Set `spring.servlet.multipart.max-file-size=-1` and `spring.servlet.multipart.max-request-size=-1`.","link":"https://stackoverflow.com/questions/77553032/spring-boot-3-tomcat-sizelimitexceededexception#comment136721259_77553032","body":"Set <code>spring.servlet.multipart.max-file-size=-1</code> and <code>spring.servlet.multipart.max-request-size=-1</code>."}],"comment_count":1,"is_answered":false,"view_count":22,"answer_count":0,"score":0,"last_activity_date":1701024675,"creation_date":1701024483,"last_edit_date":1701024675,"question_id":77553032,"body_markdown":"I am currently making a backend for my fileShare client, which is according to my plans would be something like onedrive or nextcloud in the end.\r\nI am creating the backend in Spring Boot 3.1.4 under Java 17. I have made an entry point like this:\r\n\r\n    @PostMapping(&quot;/upload&quot;)\r\n        public ResponseEntity&lt;String&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile multipartFile,\r\n                                                 @RequestParam(&quot;isFolder&quot;) Boolean isFolder,\r\n                                                 @RequestParam(&quot;destFolder&quot;) String destFolder){\r\n            try{\r\n                Path path = fileAccessService.uploadFile(multipartFile, isFolder.booleanValue(), destFolder);\r\n                if(path == null){\r\n                    return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;The file or folder already exists&quot;);\r\n                }\r\n                return ResponseEntity.status(HttpStatus.OK).body(&quot;The upload was successful. The file has been uploaded to: &quot; + path);\r\n            }\r\n            catch (IOException ex){\r\n                log.error(&quot;There was an error while trying to transfer file to the server: &quot; + ex.getMessage());\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n            }\r\n        }\r\n\r\nBut whenever I try to test this using either my half done application or postman with a kinda large file (around 400kB) I get this exception:\r\n\r\n`org.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException: the request was rejected because its size (414187747) exceeds the configured maximum (10485760)`\r\n\r\nI have NOT configured this at all, so I am guessing this is a default value.\r\n\r\nMy question is how can I configure either tomcat or Spring Boot to accept (ideally) infintely large files.\r\n\r\nP.S.: I have not installed tomcat spearately, I am running the program in IntelliJ&#39;s debugger, and planning to deploy it onto a Linux based server using maven (which server also doesn&#39;t have a tomcat installed separatelly). I already have other Spring Boot apps running on the said server.\r\n\r\nMy first atempt was to try and configure this from the properties file:\r\n`server.tomcat.max-swallow-size=1000GB\r\nserver.tomcat.max-http-post-size=1000GB`\r\nWithout any luck.","link":"https://stackoverflow.com/questions/77553032/spring-boot-3-tomcat-sizelimitexceededexception","title":"Spring Boot 3, tomcat SizeLimitExceededException","body":"<p>I am currently making a backend for my fileShare client, which is according to my plans would be something like onedrive or nextcloud in the end.\nI am creating the backend in Spring Boot 3.1.4 under Java 17. I have made an entry point like this:</p>\n<pre><code>@PostMapping(&quot;/upload&quot;)\n    public ResponseEntity&lt;String&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile multipartFile,\n                                             @RequestParam(&quot;isFolder&quot;) Boolean isFolder,\n                                             @RequestParam(&quot;destFolder&quot;) String destFolder){\n        try{\n            Path path = fileAccessService.uploadFile(multipartFile, isFolder.booleanValue(), destFolder);\n            if(path == null){\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;The file or folder already exists&quot;);\n            }\n            return ResponseEntity.status(HttpStatus.OK).body(&quot;The upload was successful. The file has been uploaded to: &quot; + path);\n        }\n        catch (IOException ex){\n            log.error(&quot;There was an error while trying to transfer file to the server: &quot; + ex.getMessage());\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n        }\n    }\n</code></pre>\n<p>But whenever I try to test this using either my half done application or postman with a kinda large file (around 400kB) I get this exception:</p>\n<p><code>org.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException: the request was rejected because its size (414187747) exceeds the configured maximum (10485760)</code></p>\n<p>I have NOT configured this at all, so I am guessing this is a default value.</p>\n<p>My question is how can I configure either tomcat or Spring Boot to accept (ideally) infintely large files.</p>\n<p>P.S.: I have not installed tomcat spearately, I am running the program in IntelliJ's debugger, and planning to deploy it onto a Linux based server using maven (which server also doesn't have a tomcat installed separatelly). I already have other Spring Boot apps running on the said server.</p>\n<p>My first atempt was to try and configure this from the properties file:\n<code>server.tomcat.max-swallow-size=1000GB server.tomcat.max-http-post-size=1000GB</code>\nWithout any luck.</p>\n"},{"tags":["java","android","service","android-11","caller-id"],"comments":[{"score":0,"post_type":"question","creation_date":1701024315,"post_id":77552971,"comment_id":136720947,"body_markdown":"Don&#39;t assume we have any idea what those apps are.  Explain what functionality in them you&#39;re trying to emulate.","link":"https://stackoverflow.com/questions/77552971/endless-service-in-android-11-without-auto-launch-or-extra-background-permission#comment136720947_77552971","body":"Don&#39;t assume we have any idea what those apps are.  Explain what functionality in them you&#39;re trying to emulate."},{"score":0,"post_type":"question","creation_date":1701024382,"post_id":77552971,"comment_id":136720955,"body_markdown":"Also, even with a foreground service you cannot assure your app will always run.  So it&#39;s unlikely to be the correct solution for whatever you&#39;re trying to do.","link":"https://stackoverflow.com/questions/77552971/endless-service-in-android-11-without-auto-launch-or-extra-background-permission#comment136720955_77552971","body":"Also, even with a foreground service you cannot assure your app will always run.  So it&#39;s unlikely to be the correct solution for whatever you&#39;re trying to do."},{"score":0,"post_type":"question","creation_date":1701024658,"post_id":77552971,"comment_id":136720979,"body_markdown":"@GabeSechan please check my question again i have updated and what do u think how should i fix my problem.","link":"https://stackoverflow.com/questions/77552971/endless-service-in-android-11-without-auto-launch-or-extra-background-permission#comment136720979_77552971","body":"@GabeSechan please check my question again i have updated and what do u think how should i fix my problem."}],"comment_count":3,"is_answered":false,"view_count":26,"answer_count":0,"score":-1,"last_activity_date":1701024401,"creation_date":1701023615,"last_edit_date":1701024401,"question_id":77552971,"body_markdown":"Actually i&#39;m working on a application like Truecaller and Whoscall that&#39;s why i want to setup foreground service.\r\nand i got good code [Git Repo robertohuertasm][1] but it not work **After mobile Boot (restart)** without Auto Run (Auto launch) permission.\r\n\r\nand same developer maybe say it&#39;s mandatory but TrueCaller, WhosCall and also many popular app work really good without give background and Auto launch permission.\r\n\r\n**What should I do to run my foreground service without use Auto Run permission.**\r\n\r\n            &lt;receiver android:enabled=&quot;true&quot; android:name=&quot;.StartReceiver&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.NEW_OUTGOING_CALL&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**StartReceiver class**\r\n\r\n    class StartReceiver : BroadcastReceiver() {\r\n\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        Toast.makeText(context,&quot;StartReceiver&quot;, Toast.LENGTH_LONG).show();\r\n        if (true//intent.action == Intent.ACTION_BOOT_COMPLETED\r\n\r\n            ) {\r\n            if (!isServiceRunning(context, EndlessService::class.java)) {\r\n                Intent(context, EndlessService::class.java).also {\r\n                    it.action = Actions.START.name\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                        log(&quot;Starting the service in &gt;=26 Mode from a BroadcastReceiver&quot;)\r\n                        context.startForegroundService(it)\r\n                        return\r\n                    }\r\n                    log(&quot;Starting the service in &lt; 26 Mode from a BroadcastReceiver&quot;)\r\n                    context.startService(it)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    fun isServiceRunning(context: Context, serviceClass: Class&lt;*&gt;): Boolean {\r\n        val manager = context.getSystemService(Context.ACTIVITY_SERVICE) as ActivityManager\r\n        for (service in manager.getRunningServices(Int.MAX_VALUE)) {\r\n            if (serviceClass.name == service.service.className) {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Logs**\r\n\r\n    BroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\r\n    BroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\r\n    BroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\r\n    BroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\r\n\r\n\r\nplease help and happy coding.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/robertohuertasm/endless-service","link":"https://stackoverflow.com/questions/77552971/endless-service-in-android-11-without-auto-launch-or-extra-background-permission","title":"Endless service in android 11 without auto launch or extra background permission","body":"<p>Actually i'm working on a application like Truecaller and Whoscall that's why i want to setup foreground service.\nand i got good code <a href=\"https://github.com/robertohuertasm/endless-service\" rel=\"nofollow noreferrer\">Git Repo robertohuertasm</a> but it not work <strong>After mobile Boot (restart)</strong> without Auto Run (Auto launch) permission.</p>\n<p>and same developer maybe say it's mandatory but TrueCaller, WhosCall and also many popular app work really good without give background and Auto launch permission.</p>\n<p><strong>What should I do to run my foreground service without use Auto Run permission.</strong></p>\n<pre><code>        &lt;receiver android:enabled=&quot;true&quot; android:name=&quot;.StartReceiver&quot;\n            android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.NEW_OUTGOING_CALL&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n<p><strong>StartReceiver class</strong></p>\n<pre><code>class StartReceiver : BroadcastReceiver() {\n\noverride fun onReceive(context: Context, intent: Intent) {\n    Toast.makeText(context,&quot;StartReceiver&quot;, Toast.LENGTH_LONG).show();\n    if (true//intent.action == Intent.ACTION_BOOT_COMPLETED\n\n        ) {\n        if (!isServiceRunning(context, EndlessService::class.java)) {\n            Intent(context, EndlessService::class.java).also {\n                it.action = Actions.START.name\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    log(&quot;Starting the service in &gt;=26 Mode from a BroadcastReceiver&quot;)\n                    context.startForegroundService(it)\n                    return\n                }\n                log(&quot;Starting the service in &lt; 26 Mode from a BroadcastReceiver&quot;)\n                context.startService(it)\n            }\n        }\n    }\n}\n\nfun isServiceRunning(context: Context, serviceClass: Class&lt;*&gt;): Boolean {\n    val manager = context.getSystemService(Context.ACTIVITY_SERVICE) as ActivityManager\n    for (service in manager.getRunningServices(Int.MAX_VALUE)) {\n        if (serviceClass.name == service.service.className) {\n            return true\n        }\n    }\n    return false\n}\n</code></pre>\n<p>}</p>\n<p><strong>Logs</strong></p>\n<pre><code>BroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\nBroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\nBroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\nBroadcastQueue          pid-2700                             W  Permission Denial: receiving Intent { act=android.intent.action.PHONE_STATE flg=0x1000010 (has extras) } to com.robertohuertas.endless/.StartReceiver requires android.permission.READ_PRIVILEGED_PHONE_STATE due to sender android (uid 1000)\n</code></pre>\n<p>please help and happy coding.</p>\n"},{"tags":["java","maven","google-cloud-firestore"],"comments":[{"score":2,"post_type":"question","creation_date":1700981435,"post_id":77550226,"comment_id":136717034,"body_markdown":"Are you getting an error for missing dependencies, if yes please share.\nAlso check this [Link](https://stackoverflow.com/questions/55463978/is-it-possible-to-use-apifuture-in-gradle-android-project)and [Thread](https://github.com/googleapis/java-pubsub)","link":"https://stackoverflow.com/questions/77550226/reading-data-from-firestore-resolving-the-apifuture-import#comment136717034_77550226","body":"Are you getting an error for missing dependencies, if yes please share. Also check this <a href=\"https://stackoverflow.com/questions/55463978/is-it-possible-to-use-apifuture-in-gradle-android-project\">Link</a>and <a href=\"https://github.com/googleapis/java-pubsub\" rel=\"nofollow noreferrer\">Thread</a>"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701024340,"creation_date":1701024340,"answer_id":77553023,"question_id":77550226,"body_markdown":"I realized that the `com.google.api.core` module was actually found in the `com.google.api.apicommon` module https://cloud.google.com/java/docs/reference/api-common/latest/overview). I needed to add `requires com.google.api.apicommon;` to my `module-info.java` package. ","link":"https://stackoverflow.com/questions/77550226/reading-data-from-firestore-resolving-the-apifuture-import/77553023#77553023","title":"Reading data from Firestore. Resolving the ApiFuture import","body":"<p>I realized that the <code>com.google.api.core</code> module was actually found in the <code>com.google.api.apicommon</code> module <a href=\"https://cloud.google.com/java/docs/reference/api-common/latest/overview\" rel=\"nofollow noreferrer\">https://cloud.google.com/java/docs/reference/api-common/latest/overview</a>). I needed to add <code>requires com.google.api.apicommon;</code> to my <code>module-info.java</code> package.</p>\n"}],"comment_count":1,"is_answered":true,"view_count":45,"answer_count":1,"score":0,"last_activity_date":1701024340,"creation_date":1700965185,"last_edit_date":1700998363,"question_id":77550226,"body_markdown":"I want to read from a Firestore database in a Java application. I am following the guide here: https://firebase.google.com/docs/firestore/quickstart#read_data.\r\n\r\nIn order to read documents, I need to declare the type `ApiFuture`, which is found in the following import, `import com.google.api.core.ApiFuture`. In order to import it, I need to add the Google API Client, found here: https://developers.google.com/api-client-library/java/. \r\n\r\nI followed the instructions for Maven, adding the following dependencies in my `pom.xml` file:\r\n ```xml\r\n &lt;project&gt;\r\n  &lt;dependencies&gt;\r\n   &lt;dependency&gt;\r\n     &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n     &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n     &lt;version&gt;1.32.1&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n &lt;/project&gt;\r\n```\r\n\r\nI have added the following modules in my `module-info.java` file:\r\n```\r\nrequires google.api.client;\r\nrequires google.cloud.core;\r\nrequires com.google.api.core;\r\n```\r\n\r\nIn the `ApiFuture.class` file, it defines the package as:\r\n```\r\npackage com.google.api.core;\r\n\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.Future;\r\n\r\n/**\r\n * A Future that can have a listener added.\r\n *\r\n * &lt;p&gt;Similar to Guava&#39;s {@code ListenableFuture}, but redeclared so that Guava could be shaded.\r\n */\r\npublic interface ApiFuture&lt;V&gt; extends Future&lt;V&gt; {\r\n  void addListener(Runnable listener, Executor executor);\r\n}\r\n```\r\n\r\nBut none of them seem to work. What is the correct way to require the module? Where can I find it? \r\n","link":"https://stackoverflow.com/questions/77550226/reading-data-from-firestore-resolving-the-apifuture-import","title":"Reading data from Firestore. Resolving the ApiFuture import","body":"<p>I want to read from a Firestore database in a Java application. I am following the guide here: <a href=\"https://firebase.google.com/docs/firestore/quickstart#read_data\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/quickstart#read_data</a>.</p>\n<p>In order to read documents, I need to declare the type <code>ApiFuture</code>, which is found in the following import, <code>import com.google.api.core.ApiFuture</code>. In order to import it, I need to add the Google API Client, found here: <a href=\"https://developers.google.com/api-client-library/java/\" rel=\"nofollow noreferrer\">https://developers.google.com/api-client-library/java/</a>.</p>\n<p>I followed the instructions for Maven, adding the following dependencies in my <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n &lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n    &lt;version&gt;1.32.1&lt;/version&gt;\n  &lt;/dependency&gt;\n &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have added the following modules in my <code>module-info.java</code> file:</p>\n<pre><code>requires google.api.client;\nrequires google.cloud.core;\nrequires com.google.api.core;\n</code></pre>\n<p>In the <code>ApiFuture.class</code> file, it defines the package as:</p>\n<pre><code>package com.google.api.core;\n\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Future;\n\n/**\n * A Future that can have a listener added.\n *\n * &lt;p&gt;Similar to Guava's {@code ListenableFuture}, but redeclared so that Guava could be shaded.\n */\npublic interface ApiFuture&lt;V&gt; extends Future&lt;V&gt; {\n  void addListener(Runnable listener, Executor executor);\n}\n</code></pre>\n<p>But none of them seem to work. What is the correct way to require the module? Where can I find it?</p>\n"},{"tags":["java","android","nullpointerexception"],"comment_count":0,"is_answered":false,"view_count":22,"answer_count":0,"score":-2,"last_activity_date":1701024186,"creation_date":1701021139,"last_edit_date":1701024186,"question_id":77552837,"body_markdown":"here is my java code:\r\n\r\n\r\n`Java File Named: Looper.Java`\r\n\r\n    private static final String TAG = &quot;Looper&quot;;\r\n\r\n    // sThreadLocal.get() will return null unless you&#39;ve called prepare().\r\n    @UnsupportedAppUsage\r\n    static final ThreadLocal&lt;Looper&gt; sThreadLocal = new ThreadLocal&lt;Looper&gt;();\r\n    @UnsupportedAppUsage\r\n    private static Looper sMainLooper;  // guarded by Looper.class\r\n    private static Observer sObserver;\r\n\r\n    @UnsupportedAppUsage\r\n    final MessageQueue mQueue;\r\n    final Thread mThread;\r\n    private boolean mInLoop;\r\n\r\n    @UnsupportedAppUsage\r\n    private Printer mLogging;\r\n    private long mTraceTag;\r\n\r\n    /**\r\n     * If set, the looper will show a warning log if a message dispatch takes longer than this.\r\n     */\r\n    private long mSlowDispatchThresholdMs;\r\n\r\n    /**\r\n     * If set, the looper will show a warning log if a message delivery (actual delivery time -\r\n     * post time) takes longer than this.\r\n     */\r\n    private long mSlowDeliveryThresholdMs;\r\n\r\n    /**\r\n     * True if a message delivery takes longer than {@link #mSlowDeliveryThresholdMs}.\r\n     */\r\n    private boolean mSlowDeliveryDetected;\r\n\r\n    /** Initialize the current thread as a looper.\r\n      * This gives you a chance to create handlers that then reference\r\n      * this looper, before actually starting the loop. Be sure to call\r\n      * {@link #loop()} after calling this method, and end it by calling\r\n      * {@link #quit()}.\r\n      */\r\n    public static void prepare() {\r\n        prepare(true);\r\n    }\r\n\r\n    private static void prepare(boolean quitAllowed) {\r\n        if (sThreadLocal.get() != null) {\r\n            throw new RuntimeException(&quot;Only one Looper may be created per thread&quot;);\r\n        }\r\n        sThreadLocal.set(new Looper(quitAllowed));\r\n    }\r\n\r\n    /**\r\n     * Initialize the current thread as a looper, marking it as an\r\n     * application&#39;s main looper. See also: {@link #prepare()}\r\n     *\r\n     * @deprecated The main looper for your application is created by the Android environment,\r\n     *   so you should never need to call this function yourself.\r\n     */\r\n    @Deprecated\r\n    public static void prepareMainLooper() {\r\n        prepare(false);\r\n        synchronized (Looper.class) {\r\n            if (sMainLooper != null) {\r\n                throw new IllegalStateException(&quot;The main Looper has already been prepared.&quot;);\r\n            }\r\n            sMainLooper = myLooper();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns the application&#39;s main looper, which lives in the main thread of the application.\r\n     */\r\n    public static Looper getMainLooper() {\r\n        synchronized (Looper.class) {\r\n            return sMainLooper;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set the transaction observer for all Loopers in this process.\r\n     *\r\n     * @hide\r\n     */\r\n    public static void setObserver(@Nullable Observer observer) {\r\n        sObserver = observer;\r\n    }\r\n\r\n    /**\r\n     * Poll and deliver single message, return true if the outer loop should continue.\r\n     */\r\n    @SuppressWarnings({&quot;UnusedTokenOfOriginalCallingIdentity&quot;,\r\n            &quot;ClearIdentityCallNotFollowedByTryFinally&quot;})\r\n    private static boolean loopOnce(final Looper me,\r\n            final long ident, final int thresholdOverride) {\r\n        Message msg = me.mQueue.next(); // might block\r\n        if (msg == null) {\r\n            // No message indicates that the message queue is quitting.\r\n            return false;\r\n        }\r\n\r\n        // This must be in a local variable, in case a UI event sets the logger\r\n        final Printer logging = me.mLogging;\r\n        if (logging != null) {\r\n            logging.println(&quot;&gt;&gt;&gt;&gt;&gt; Dispatching to &quot; + msg.target + &quot; &quot;\r\n                    + msg.callback + &quot;: &quot; + msg.what);\r\n        }\r\n        // Make sure the observer won&#39;t change while processing a transaction.\r\n        final Observer observer = sObserver;\r\n\r\n        final long traceTag = me.mTraceTag;\r\n        long slowDispatchThresholdMs = me.mSlowDispatchThresholdMs;\r\n        long slowDeliveryThresholdMs = me.mSlowDeliveryThresholdMs;\r\n\r\n        final boolean hasOverride = thresholdOverride &gt;= 0;\r\n        if (hasOverride) {\r\n            slowDispatchThresholdMs = thresholdOverride;\r\n            slowDeliveryThresholdMs = thresholdOverride;\r\n        }\r\n        final boolean logSlowDelivery = (slowDeliveryThresholdMs &gt; 0 || hasOverride)\r\n                &amp;&amp; (msg.when &gt; 0);\r\n        final boolean logSlowDispatch = (slowDispatchThresholdMs &gt; 0 || hasOverride);\r\n\r\n        final boolean needStartTime = logSlowDelivery || logSlowDispatch;\r\n        final boolean needEndTime = logSlowDispatch;\r\n\r\n        if (traceTag != 0 &amp;&amp; Trace.isTagEnabled(traceTag)) {\r\n            Trace.traceBegin(traceTag, msg.target.getTraceName(msg));\r\n        }\r\n\r\n        final long dispatchStart = needStartTime ? SystemClock.uptimeMillis() : 0;\r\n        final long dispatchEnd;\r\n        Object token = null;\r\n        if (observer != null) {\r\n            token = observer.messageDispatchStarting();\r\n        }\r\n        long origWorkSource = ThreadLocalWorkSource.setUid(msg.workSourceUid);\r\n        try {\r\n            msg.target.dispatchMessage(msg);\r\n            if (observer != null) {\r\n                observer.messageDispatched(token, msg);\r\n            }\r\n            dispatchEnd = needEndTime ? SystemClock.uptimeMillis() : 0;\r\n        } catch (Exception exception) {\r\n            if (observer != null) {\r\n                observer.dispatchingThrewException(token, msg, exception);\r\n            }\r\n            throw exception;\r\n        } finally {\r\n            ThreadLocalWorkSource.restore(origWorkSource);\r\n            if (traceTag != 0) {\r\n                Trace.traceEnd(traceTag);\r\n            }\r\n        }\r\n        if (logSlowDelivery) {\r\n            if (me.mSlowDeliveryDetected) {\r\n                if ((dispatchStart - msg.when) &lt;= 10) {\r\n                    Slog.w(TAG, &quot;Drained&quot;);\r\n                    me.mSlowDeliveryDetected = false;\r\n                }\r\n            } else {\r\n                if (showSlowLog(slowDeliveryThresholdMs, msg.when, dispatchStart, &quot;delivery&quot;,\r\n                        msg)) {\r\n                    // Once we write a slow delivery log, suppress until the queue drains.\r\n                    me.mSlowDeliveryDetected = true;\r\n                }\r\n            }\r\n        }\r\n        if (logSlowDispatch) {\r\n            showSlowLog(slowDispatchThresholdMs, dispatchStart, dispatchEnd, &quot;dispatch&quot;, msg);\r\n        }\r\n\r\n        if (logging != null) {\r\n            logging.println(&quot;&lt;&lt;&lt;&lt;&lt; Finished to &quot; + msg.target + &quot; &quot; + msg.callback);\r\n        }\r\n\r\n        // Make sure that during the course of dispatching the\r\n        // identity of the thread wasn&#39;t corrupted.\r\n        final long newIdent = Binder.clearCallingIdentity();\r\n        if (ident != newIdent) {\r\n            Log.wtf(TAG, &quot;Thread identity changed from 0x&quot;\r\n                    + Long.toHexString(ident) + &quot; to 0x&quot;\r\n                    + Long.toHexString(newIdent) + &quot; while dispatching to &quot;\r\n                    + msg.target.getClass().getName() + &quot; &quot;\r\n                    + msg.callback + &quot; what=&quot; + msg.what);\r\n        }\r\n\r\n        msg.recycleUnchecked();\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Run the message queue in this thread. Be sure to call\r\n     * {@link #quit()} to end the loop.\r\n     */\r\n    @SuppressWarnings({&quot;UnusedTokenOfOriginalCallingIdentity&quot;,\r\n            &quot;ClearIdentityCallNotFollowedByTryFinally&quot;,\r\n            &quot;ResultOfClearIdentityCallNotStoredInVariable&quot;})\r\n    public static void loop() {\r\n        final Looper me = myLooper();\r\n        if (me == null) {\r\n            throw new RuntimeException(&quot;No Looper; Looper.prepare() wasn&#39;t called on this thread.&quot;);\r\n        }\r\n        if (me.mInLoop) {\r\n            Slog.w(TAG, &quot;Loop again would have the queued messages be executed&quot;\r\n                    + &quot; before this one completed.&quot;);\r\n        }\r\n\r\n        me.mInLoop = true;\r\n\r\n        // Make sure the identity of this thread is that of the local process,\r\n        // and keep track of what that identity token actually is.\r\n        Binder.clearCallingIdentity();\r\n        final long ident = Binder.clearCallingIdentity();\r\n\r\n        // Allow overriding a threshold with a system prop. e.g.\r\n        // adb shell &#39;setprop log.looper.1000.main.slow 1 &amp;&amp; stop &amp;&amp; start&#39;\r\n        final int thresholdOverride =\r\n                SystemProperties.getInt(&quot;log.looper.&quot;\r\n                        + Process.myUid() + &quot;.&quot;\r\n                        + Thread.currentThread().getName()\r\n                        + &quot;.slow&quot;, -1);\r\n\r\n        me.mSlowDeliveryDetected = false;\r\n\r\n        for (;;) {\r\n            if (!loopOnce(me, ident, thresholdOverride)) {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n`Further`\r\n\r\n    private static boolean showSlowLog(long threshold, long measureStart, long measureEnd,\r\n            String what, Message msg) {\r\n        final long actualTime = measureEnd - measureStart;\r\n        if (actualTime &lt; threshold) {\r\n            return false;\r\n        }\r\n        // For slow delivery, the current message isn&#39;t really important, but log it anyway.\r\n        Slog.w(TAG, &quot;Slow &quot; + what + &quot; took &quot; + actualTime + &quot;ms &quot;\r\n                + Thread.currentThread().getName() + &quot; h=&quot;\r\n                + msg.target.getClass().getName() + &quot; c=&quot; + msg.callback + &quot; m=&quot; + msg.what);\r\n        return true;\r\n    }\r\n\r\n    public static @NonNull MessageQueue myQueue() {\r\n        return myLooper().mQueue;\r\n    }\r\n\r\n    private Looper(boolean quitAllowed) {\r\n        mQueue = new MessageQueue(quitAllowed);\r\n        mThread = Thread.currentThread();\r\n    }\r\n\r\n    /**\r\n     * Returns true if the current thread is this looper&#39;s thread.\r\n     */\r\n    public boolean isCurrentThread() {\r\n        return Thread.currentThread() == mThread;\r\n    }\r\n\r\n    /**\r\n     * Control logging of messages as they are processed by this Looper.  If\r\n     * enabled, a log message will be written to &lt;var&gt;printer&lt;/var&gt;\r\n     * at the beginning and ending of each message dispatch, identifying the\r\n     * target Handler and message contents.\r\n     *\r\n     * @param printer A Printer object that will receive log messages, or\r\n     * null to disable message logging.\r\n     */\r\n    public void setMessageLogging(@Nullable Printer printer) {\r\n        mLogging = printer;\r\n    }\r\n\r\n    /** {@hide} */\r\n    @UnsupportedAppUsage\r\n    public void setTraceTag(long traceTag) {\r\n        mTraceTag = traceTag;\r\n    }\r\n\r\n    /**\r\n     * Set a thresholds for slow dispatch/delivery log.\r\n     * {@hide}\r\n     */\r\n    public void setSlowLogThresholdMs(long slowDispatchThresholdMs, long slowDeliveryThresholdMs) {\r\n        mSlowDispatchThresholdMs = slowDispatchThresholdMs;\r\n        mSlowDeliveryThresholdMs = slowDeliveryThresholdMs;\r\n    }\r\n\r\n    /**\r\n     * Quits the looper.\r\n     * &lt;p&gt;\r\n     * Causes the {@link #loop} method to terminate without processing any\r\n     * more messages in the message queue.\r\n     * &lt;/p&gt;&lt;p&gt;\r\n     * Any attempt to post messages to the queue after the looper is asked to quit will fail.\r\n     * For example, the {@link Handler#sendMessage(Message)} method will return false.\r\n     * &lt;/p&gt;&lt;p class=&quot;note&quot;&gt;\r\n     * Using this method may be unsafe because some messages may not be delivered\r\n     * before the looper terminates.  Consider using {@link #quitSafely} instead to ensure\r\n     * that all pending work is completed in an orderly manner.\r\n     * &lt;/p&gt;\r\n     *\r\n     * @see #quitSafely\r\n     */\r\n    public void quit() {\r\n        mQueue.quit(false);\r\n    }\r\n\r\n    /**\r\n     * Quits the looper safely.\r\n     * &lt;p&gt;\r\n     * Causes the {@link #loop} method to terminate as soon as all remaining messages\r\n     * in the message queue that are already due to be delivered have been handled.\r\n     * However pending delayed messages with due times in the future will not be\r\n     * delivered before the loop terminates.\r\n     * &lt;/p&gt;&lt;p&gt;\r\n     * Any attempt to post messages to the queue after the looper is asked to quit will fail.\r\n     * For example, the {@link Handler#sendMessage(Message)} method will return false.\r\n     * &lt;/p&gt;\r\n     */\r\n    public void quitSafely() {\r\n        mQueue.quit(true);\r\n    }\r\n\r\n    /**\r\n     * Gets the Thread associated with this Looper.\r\n     *\r\n     * @return The looper&#39;s thread.\r\n     */\r\n    public @NonNull Thread getThread() {\r\n        return mThread;\r\n    }\r\n\r\n    /**\r\n     * Gets this looper&#39;s message queue.\r\n     *\r\n     * @return The looper&#39;s message queue.\r\n     */\r\n    public @NonNull MessageQueue getQueue() {\r\n        return mQueue;\r\n    }\r\n\r\n    /**\r\n     * Dumps the state of the looper for debugging purposes.\r\n     *\r\n     * @param pw A printer to receive the contents of the dump.\r\n     * @param prefix A prefix to prepend to each line which is printed.\r\n     */\r\n    public void dump(@NonNull Printer pw, @NonNull String prefix) {\r\n        pw.println(prefix + toString());\r\n        mQueue.dump(pw, prefix + &quot;  &quot;, null);\r\n    }\r\n\r\n    /**\r\n     * Dumps the state of the looper for debugging purposes.\r\n     *\r\n     * @param pw A printer to receive the contents of the dump.\r\n     * @param prefix A prefix to prepend to each line which is printed.\r\n     * @param handler Only dump messages for this Handler.\r\n     * @hide\r\n     */\r\n    public void dump(@NonNull Printer pw, @NonNull String prefix, Handler handler) {\r\n        pw.println(prefix + toString());\r\n        mQueue.dump(pw, prefix + &quot;  &quot;, handler);\r\n    }\r\n\r\n    /** @hide */\r\n    public void dumpDebug(ProtoOutputStream proto, long fieldId) {\r\n        final long looperToken = proto.start(fieldId);\r\n        proto.write(LooperProto.THREAD_NAME, mThread.getName());\r\n        proto.write(LooperProto.THREAD_ID, mThread.getId());\r\n        if (mQueue != null) {\r\n            mQueue.dumpDebug(proto, LooperProto.QUEUE);\r\n        }\r\n        proto.end(looperToken);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Looper (&quot; + mThread.getName() + &quot;, tid &quot; + mThread.getId()\r\n                + &quot;) {&quot; + Integer.toHexString(System.identityHashCode(this)) + &quot;}&quot;;\r\n    }\r\n\r\n    /** {@hide} */\r\n    public interface Observer {\r\n        /**\r\n         * Called right before a message is dispatched.\r\n         *\r\n         * &lt;p&gt; The token type is not specified to allow the implementation to specify its own type.\r\n         *\r\n         * @return a token used for collecting telemetry when dispatching a single message.\r\n         *         The token token must be passed back exactly once to either\r\n         *         {@link Observer#messageDispatched} or {@link Observer#dispatchingThrewException}\r\n         *         and must not be reused again.\r\n         *\r\n         */\r\n        Object messageDispatchStarting();\r\n\r\n        /**\r\n         * Called when a message was processed by a Handler.\r\n         *\r\n         * @param token Token obtained by previously calling\r\n         *              {@link Observer#messageDispatchStarting} on the same Observer instance.\r\n         * @param msg The message that was dispatched.\r\n         */\r\n        void messageDispatched(Object token, Message msg);\r\n\r\n        /**\r\n         * Called when an exception was thrown while processing a message.\r\n         *\r\n         * @param token Token obtained by previously calling\r\n         *              {@link Observer#messageDispatchStarting} on the same Observer instance.\r\n         * @param msg The message that was dispatched and caused an exception.\r\n         * @param exception The exception that was thrown.\r\n         */\r\n        void dispatchingThrewException(Object token, Message msg, Exception exception);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nand here is my stack trace file:\r\n`Got from Firebase`\r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String a.all.tvlive.Models.ChildModel.getName()&#39; on a null object reference\r\n    a.all.tvlive.Adapters.ChildAdapter.onBindViewHolder(ChildAdapter.java:76)\r\n    a.all.tvlive.Adapters.ChildAdapter.onBindViewHolder(ChildAdapter.java:42)\r\n    androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\r\n    androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\r\n    androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\r\n`Next Part`\r\n    androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\r\n    androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\r\n    androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\r\n    androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\r\n    androidx.recyclerview.widget.GridLayoutManager.layoutChunk(GridLayoutManager.java:561)\r\n    androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\r\n    androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\r\n    androidx.recyclerview.widget.GridLayoutManager.onLayoutChildren(GridLayoutManager.java:170)\r\n    androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\r\n    androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3540)","link":"https://stackoverflow.com/questions/77552837/i-am-facing-an-issue-with-null-pointer-exception-in-java-i","title":"I am facing an issue with null pointer exception in Java I","body":"<p>here is my java code:</p>\n<p><code>Java File Named: Looper.Java</code></p>\n<pre><code>private static final String TAG = &quot;Looper&quot;;\n\n// sThreadLocal.get() will return null unless you've called prepare().\n@UnsupportedAppUsage\nstatic final ThreadLocal&lt;Looper&gt; sThreadLocal = new ThreadLocal&lt;Looper&gt;();\n@UnsupportedAppUsage\nprivate static Looper sMainLooper;  // guarded by Looper.class\nprivate static Observer sObserver;\n\n@UnsupportedAppUsage\nfinal MessageQueue mQueue;\nfinal Thread mThread;\nprivate boolean mInLoop;\n\n@UnsupportedAppUsage\nprivate Printer mLogging;\nprivate long mTraceTag;\n\n/**\n * If set, the looper will show a warning log if a message dispatch takes longer than this.\n */\nprivate long mSlowDispatchThresholdMs;\n\n/**\n * If set, the looper will show a warning log if a message delivery (actual delivery time -\n * post time) takes longer than this.\n */\nprivate long mSlowDeliveryThresholdMs;\n\n/**\n * True if a message delivery takes longer than {@link #mSlowDeliveryThresholdMs}.\n */\nprivate boolean mSlowDeliveryDetected;\n\n/** Initialize the current thread as a looper.\n  * This gives you a chance to create handlers that then reference\n  * this looper, before actually starting the loop. Be sure to call\n  * {@link #loop()} after calling this method, and end it by calling\n  * {@link #quit()}.\n  */\npublic static void prepare() {\n    prepare(true);\n}\n\nprivate static void prepare(boolean quitAllowed) {\n    if (sThreadLocal.get() != null) {\n        throw new RuntimeException(&quot;Only one Looper may be created per thread&quot;);\n    }\n    sThreadLocal.set(new Looper(quitAllowed));\n}\n\n/**\n * Initialize the current thread as a looper, marking it as an\n * application's main looper. See also: {@link #prepare()}\n *\n * @deprecated The main looper for your application is created by the Android environment,\n *   so you should never need to call this function yourself.\n */\n@Deprecated\npublic static void prepareMainLooper() {\n    prepare(false);\n    synchronized (Looper.class) {\n        if (sMainLooper != null) {\n            throw new IllegalStateException(&quot;The main Looper has already been prepared.&quot;);\n        }\n        sMainLooper = myLooper();\n    }\n}\n\n/**\n * Returns the application's main looper, which lives in the main thread of the application.\n */\npublic static Looper getMainLooper() {\n    synchronized (Looper.class) {\n        return sMainLooper;\n    }\n}\n\n/**\n * Set the transaction observer for all Loopers in this process.\n *\n * @hide\n */\npublic static void setObserver(@Nullable Observer observer) {\n    sObserver = observer;\n}\n\n/**\n * Poll and deliver single message, return true if the outer loop should continue.\n */\n@SuppressWarnings({&quot;UnusedTokenOfOriginalCallingIdentity&quot;,\n        &quot;ClearIdentityCallNotFollowedByTryFinally&quot;})\nprivate static boolean loopOnce(final Looper me,\n        final long ident, final int thresholdOverride) {\n    Message msg = me.mQueue.next(); // might block\n    if (msg == null) {\n        // No message indicates that the message queue is quitting.\n        return false;\n    }\n\n    // This must be in a local variable, in case a UI event sets the logger\n    final Printer logging = me.mLogging;\n    if (logging != null) {\n        logging.println(&quot;&gt;&gt;&gt;&gt;&gt; Dispatching to &quot; + msg.target + &quot; &quot;\n                + msg.callback + &quot;: &quot; + msg.what);\n    }\n    // Make sure the observer won't change while processing a transaction.\n    final Observer observer = sObserver;\n\n    final long traceTag = me.mTraceTag;\n    long slowDispatchThresholdMs = me.mSlowDispatchThresholdMs;\n    long slowDeliveryThresholdMs = me.mSlowDeliveryThresholdMs;\n\n    final boolean hasOverride = thresholdOverride &gt;= 0;\n    if (hasOverride) {\n        slowDispatchThresholdMs = thresholdOverride;\n        slowDeliveryThresholdMs = thresholdOverride;\n    }\n    final boolean logSlowDelivery = (slowDeliveryThresholdMs &gt; 0 || hasOverride)\n            &amp;&amp; (msg.when &gt; 0);\n    final boolean logSlowDispatch = (slowDispatchThresholdMs &gt; 0 || hasOverride);\n\n    final boolean needStartTime = logSlowDelivery || logSlowDispatch;\n    final boolean needEndTime = logSlowDispatch;\n\n    if (traceTag != 0 &amp;&amp; Trace.isTagEnabled(traceTag)) {\n        Trace.traceBegin(traceTag, msg.target.getTraceName(msg));\n    }\n\n    final long dispatchStart = needStartTime ? SystemClock.uptimeMillis() : 0;\n    final long dispatchEnd;\n    Object token = null;\n    if (observer != null) {\n        token = observer.messageDispatchStarting();\n    }\n    long origWorkSource = ThreadLocalWorkSource.setUid(msg.workSourceUid);\n    try {\n        msg.target.dispatchMessage(msg);\n        if (observer != null) {\n            observer.messageDispatched(token, msg);\n        }\n        dispatchEnd = needEndTime ? SystemClock.uptimeMillis() : 0;\n    } catch (Exception exception) {\n        if (observer != null) {\n            observer.dispatchingThrewException(token, msg, exception);\n        }\n        throw exception;\n    } finally {\n        ThreadLocalWorkSource.restore(origWorkSource);\n        if (traceTag != 0) {\n            Trace.traceEnd(traceTag);\n        }\n    }\n    if (logSlowDelivery) {\n        if (me.mSlowDeliveryDetected) {\n            if ((dispatchStart - msg.when) &lt;= 10) {\n                Slog.w(TAG, &quot;Drained&quot;);\n                me.mSlowDeliveryDetected = false;\n            }\n        } else {\n            if (showSlowLog(slowDeliveryThresholdMs, msg.when, dispatchStart, &quot;delivery&quot;,\n                    msg)) {\n                // Once we write a slow delivery log, suppress until the queue drains.\n                me.mSlowDeliveryDetected = true;\n            }\n        }\n    }\n    if (logSlowDispatch) {\n        showSlowLog(slowDispatchThresholdMs, dispatchStart, dispatchEnd, &quot;dispatch&quot;, msg);\n    }\n\n    if (logging != null) {\n        logging.println(&quot;&lt;&lt;&lt;&lt;&lt; Finished to &quot; + msg.target + &quot; &quot; + msg.callback);\n    }\n\n    // Make sure that during the course of dispatching the\n    // identity of the thread wasn't corrupted.\n    final long newIdent = Binder.clearCallingIdentity();\n    if (ident != newIdent) {\n        Log.wtf(TAG, &quot;Thread identity changed from 0x&quot;\n                + Long.toHexString(ident) + &quot; to 0x&quot;\n                + Long.toHexString(newIdent) + &quot; while dispatching to &quot;\n                + msg.target.getClass().getName() + &quot; &quot;\n                + msg.callback + &quot; what=&quot; + msg.what);\n    }\n\n    msg.recycleUnchecked();\n\n    return true;\n}\n\n/**\n * Run the message queue in this thread. Be sure to call\n * {@link #quit()} to end the loop.\n */\n@SuppressWarnings({&quot;UnusedTokenOfOriginalCallingIdentity&quot;,\n        &quot;ClearIdentityCallNotFollowedByTryFinally&quot;,\n        &quot;ResultOfClearIdentityCallNotStoredInVariable&quot;})\npublic static void loop() {\n    final Looper me = myLooper();\n    if (me == null) {\n        throw new RuntimeException(&quot;No Looper; Looper.prepare() wasn't called on this thread.&quot;);\n    }\n    if (me.mInLoop) {\n        Slog.w(TAG, &quot;Loop again would have the queued messages be executed&quot;\n                + &quot; before this one completed.&quot;);\n    }\n\n    me.mInLoop = true;\n\n    // Make sure the identity of this thread is that of the local process,\n    // and keep track of what that identity token actually is.\n    Binder.clearCallingIdentity();\n    final long ident = Binder.clearCallingIdentity();\n\n    // Allow overriding a threshold with a system prop. e.g.\n    // adb shell 'setprop log.looper.1000.main.slow 1 &amp;&amp; stop &amp;&amp; start'\n    final int thresholdOverride =\n            SystemProperties.getInt(&quot;log.looper.&quot;\n                    + Process.myUid() + &quot;.&quot;\n                    + Thread.currentThread().getName()\n                    + &quot;.slow&quot;, -1);\n\n    me.mSlowDeliveryDetected = false;\n\n    for (;;) {\n        if (!loopOnce(me, ident, thresholdOverride)) {\n            return;\n        }\n    }\n}\n</code></pre>\n<p><code>Further</code></p>\n<pre><code>private static boolean showSlowLog(long threshold, long measureStart, long measureEnd,\n        String what, Message msg) {\n    final long actualTime = measureEnd - measureStart;\n    if (actualTime &lt; threshold) {\n        return false;\n    }\n    // For slow delivery, the current message isn't really important, but log it anyway.\n    Slog.w(TAG, &quot;Slow &quot; + what + &quot; took &quot; + actualTime + &quot;ms &quot;\n            + Thread.currentThread().getName() + &quot; h=&quot;\n            + msg.target.getClass().getName() + &quot; c=&quot; + msg.callback + &quot; m=&quot; + msg.what);\n    return true;\n}\n\npublic static @NonNull MessageQueue myQueue() {\n    return myLooper().mQueue;\n}\n\nprivate Looper(boolean quitAllowed) {\n    mQueue = new MessageQueue(quitAllowed);\n    mThread = Thread.currentThread();\n}\n\n/**\n * Returns true if the current thread is this looper's thread.\n */\npublic boolean isCurrentThread() {\n    return Thread.currentThread() == mThread;\n}\n\n/**\n * Control logging of messages as they are processed by this Looper.  If\n * enabled, a log message will be written to &lt;var&gt;printer&lt;/var&gt;\n * at the beginning and ending of each message dispatch, identifying the\n * target Handler and message contents.\n *\n * @param printer A Printer object that will receive log messages, or\n * null to disable message logging.\n */\npublic void setMessageLogging(@Nullable Printer printer) {\n    mLogging = printer;\n}\n\n/** {@hide} */\n@UnsupportedAppUsage\npublic void setTraceTag(long traceTag) {\n    mTraceTag = traceTag;\n}\n\n/**\n * Set a thresholds for slow dispatch/delivery log.\n * {@hide}\n */\npublic void setSlowLogThresholdMs(long slowDispatchThresholdMs, long slowDeliveryThresholdMs) {\n    mSlowDispatchThresholdMs = slowDispatchThresholdMs;\n    mSlowDeliveryThresholdMs = slowDeliveryThresholdMs;\n}\n\n/**\n * Quits the looper.\n * &lt;p&gt;\n * Causes the {@link #loop} method to terminate without processing any\n * more messages in the message queue.\n * &lt;/p&gt;&lt;p&gt;\n * Any attempt to post messages to the queue after the looper is asked to quit will fail.\n * For example, the {@link Handler#sendMessage(Message)} method will return false.\n * &lt;/p&gt;&lt;p class=&quot;note&quot;&gt;\n * Using this method may be unsafe because some messages may not be delivered\n * before the looper terminates.  Consider using {@link #quitSafely} instead to ensure\n * that all pending work is completed in an orderly manner.\n * &lt;/p&gt;\n *\n * @see #quitSafely\n */\npublic void quit() {\n    mQueue.quit(false);\n}\n\n/**\n * Quits the looper safely.\n * &lt;p&gt;\n * Causes the {@link #loop} method to terminate as soon as all remaining messages\n * in the message queue that are already due to be delivered have been handled.\n * However pending delayed messages with due times in the future will not be\n * delivered before the loop terminates.\n * &lt;/p&gt;&lt;p&gt;\n * Any attempt to post messages to the queue after the looper is asked to quit will fail.\n * For example, the {@link Handler#sendMessage(Message)} method will return false.\n * &lt;/p&gt;\n */\npublic void quitSafely() {\n    mQueue.quit(true);\n}\n\n/**\n * Gets the Thread associated with this Looper.\n *\n * @return The looper's thread.\n */\npublic @NonNull Thread getThread() {\n    return mThread;\n}\n\n/**\n * Gets this looper's message queue.\n *\n * @return The looper's message queue.\n */\npublic @NonNull MessageQueue getQueue() {\n    return mQueue;\n}\n\n/**\n * Dumps the state of the looper for debugging purposes.\n *\n * @param pw A printer to receive the contents of the dump.\n * @param prefix A prefix to prepend to each line which is printed.\n */\npublic void dump(@NonNull Printer pw, @NonNull String prefix) {\n    pw.println(prefix + toString());\n    mQueue.dump(pw, prefix + &quot;  &quot;, null);\n}\n\n/**\n * Dumps the state of the looper for debugging purposes.\n *\n * @param pw A printer to receive the contents of the dump.\n * @param prefix A prefix to prepend to each line which is printed.\n * @param handler Only dump messages for this Handler.\n * @hide\n */\npublic void dump(@NonNull Printer pw, @NonNull String prefix, Handler handler) {\n    pw.println(prefix + toString());\n    mQueue.dump(pw, prefix + &quot;  &quot;, handler);\n}\n\n/** @hide */\npublic void dumpDebug(ProtoOutputStream proto, long fieldId) {\n    final long looperToken = proto.start(fieldId);\n    proto.write(LooperProto.THREAD_NAME, mThread.getName());\n    proto.write(LooperProto.THREAD_ID, mThread.getId());\n    if (mQueue != null) {\n        mQueue.dumpDebug(proto, LooperProto.QUEUE);\n    }\n    proto.end(looperToken);\n}\n\n@Override\npublic String toString() {\n    return &quot;Looper (&quot; + mThread.getName() + &quot;, tid &quot; + mThread.getId()\n            + &quot;) {&quot; + Integer.toHexString(System.identityHashCode(this)) + &quot;}&quot;;\n}\n\n/** {@hide} */\npublic interface Observer {\n    /**\n     * Called right before a message is dispatched.\n     *\n     * &lt;p&gt; The token type is not specified to allow the implementation to specify its own type.\n     *\n     * @return a token used for collecting telemetry when dispatching a single message.\n     *         The token token must be passed back exactly once to either\n     *         {@link Observer#messageDispatched} or {@link Observer#dispatchingThrewException}\n     *         and must not be reused again.\n     *\n     */\n    Object messageDispatchStarting();\n\n    /**\n     * Called when a message was processed by a Handler.\n     *\n     * @param token Token obtained by previously calling\n     *              {@link Observer#messageDispatchStarting} on the same Observer instance.\n     * @param msg The message that was dispatched.\n     */\n    void messageDispatched(Object token, Message msg);\n\n    /**\n     * Called when an exception was thrown while processing a message.\n     *\n     * @param token Token obtained by previously calling\n     *              {@link Observer#messageDispatchStarting} on the same Observer instance.\n     * @param msg The message that was dispatched and caused an exception.\n     * @param exception The exception that was thrown.\n     */\n    void dispatchingThrewException(Object token, Message msg, Exception exception);\n}\n</code></pre>\n<p>}</p>\n<p>and here is my stack trace file:\n<code>Got from Firebase</code></p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String a.all.tvlive.Models.ChildModel.getName()' on a null object reference\na.all.tvlive.Adapters.ChildAdapter.onBindViewHolder(ChildAdapter.java:76)\na.all.tvlive.Adapters.ChildAdapter.onBindViewHolder(ChildAdapter.java:42)\nandroidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\nandroidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\nandroidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\n<code>Next Part</code>\nandroidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\nandroidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\nandroidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\nandroidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\nandroidx.recyclerview.widget.GridLayoutManager.layoutChunk(GridLayoutManager.java:561)\nandroidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\nandroidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\nandroidx.recyclerview.widget.GridLayoutManager.onLayoutChildren(GridLayoutManager.java:170)\nandroidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\nandroidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3540)</p>\n"},{"tags":["java","barcode","barcode-printing"],"comments":[{"score":1,"post_type":"question","creation_date":1694189358,"post_id":77067963,"comment_id":135863263,"body_markdown":"Do you really need to program that yourself?  When I wanted to print barcodes, I found it was a simple matter of selecting the appropriate barcode font. Of course, that meant the barcode fonts had to be installed on the machine I was using.","link":"https://stackoverflow.com/questions/77067963/how-to-convert-a-string-to-a-barcode-code-128#comment135863263_77067963","body":"Do you really need to program that yourself?  When I wanted to print barcodes, I found it was a simple matter of selecting the appropriate barcode font. Of course, that meant the barcode fonts had to be installed on the machine I was using."}],"answers":[{"comment_count":0,"score":2,"last_activity_date":1701023641,"last_edit_date":1701023641,"creation_date":1694230210,"answer_id":77070735,"question_id":77067963,"body_markdown":"Barcode 128 is an oddity for programming as it is non-conventional encoding in its application. Let&#39;s start with the output. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can check that is correct here https://zxing.org/w/decode?u=https%3A%2F%2Fi.stack.imgur.com%2F8tQm7.png  \r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou can also see to get that font as output we need in PDF binary terms an input of `0110100100001110000000010001001001101010` which does not match the pixel output. However 01101001 00001110 00000001 00010010 01101010 as hex is `69 0e 01 12 6a` which as ASCII / ANSI = `&#210;.!2&#211;`.\r\n\r\nSo the rules of generation are\r\n\r\n- Use the start numeric character `&#210;`\r\n- add a ligature glyph for 14 = `.`\r\n- add a ligature glyph for 01 = `!`\r\n- add the calculated check character `2`\r\n- round of with a stop character `&#211;`\r\n\r\nwrite those 5 characters using any of several Code 128 fonts.\r\n\r\nIt is a lot easier if you use a cut and paste tool that calculates ligatures and Mod 103 check bytes.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHere we see it as text in a PDF where the text is now `6C 11 04 15 6D` since it gets remapped characters (by the MS PDF generator) which in this case seems to have added +3 to each glyph!\r\n\r\n[![enter image description here][4]][4]\r\n\r\n```\r\n13 0 obj\r\n&lt;&lt;/Length 158&gt;&gt;\r\nstream\r\nq\r\nq\r\n.75 0 0 -.75 0 841.92007 cm\r\n0 0 0 rg\r\nBT\r\n/F1 96.0037 Tf\r\n1 0 0 -1 94.56 150.4 Tm\r\n[&lt;006C&gt;-.695313&lt;0011&gt;-.554688&lt;0004&gt;-.554688&lt;0015&gt;-.554688&lt;006D&gt;] TJ\r\nET\r\nQ\r\nQ\r\n```\r\n\r\nCalculations in Excel (see https://en.wikipedia.org/wiki/Code_128#Bar_code_widths)\r\n\r\n[![enter image description here][5]][5]\r\n\r\nWhat is odd is that the concept of using Code128 is compaction yet that method of fonts requires many times the resources compared to pixels\r\n\r\nHere even with overheads the 54 bars (I added extra 4 white `&#255;` bars each end, for guarding) is a total file size of just over 750 bytes, but as a font embedded file it is heading for 4 times bigger e.g. 3,199 bytes for the bars without the normal embedded 1401 text.\r\n\r\n```\r\n%PDF-1.3\r\n1 0 obj &lt;&lt;/Pages 2 0 R/Type/Catalog&gt;&gt; endobj\r\n2 0 obj &lt;&lt;/Count 1/Kids[3 0 R]/Type/Pages&gt;&gt; endobj\r\n3 0 obj &lt;&lt;/Contents 5 0 R/CropBox[0 0 595.32 841.92]/MediaBox[0 0 595.32 841.92]/Parent 2 0 R/Resources&lt;&lt;/XObject&lt;&lt;/Image1 4 0 R&gt;&gt;&gt;&gt;/Rotate 0/Type/Page&gt;&gt; endobj\r\n4 0 obj &lt;&lt;/BitsPerComponent 8/ColorSpace/DeviceGray/Width 54/Height 1/Length 54/Subtype/Image/Type/XObject&gt;&gt;\r\nstream\r\n&#255;&#255;&#255;&#255;  &#255; &#255;&#255;   &#255;&#255; &#255;&#255;  &#255;&#255;   &#255;  &#255;&#255;  &#255;  &#255;&#255;  &#255;&#255;&#255;   &#255; &#255;  &#255;&#255;&#255;&#255;\r\nendstream\r\nendobj\r\n5 0 obj &lt;&lt;/Length 81&gt;&gt;\r\nstream\r\nq 0 g 108 0 0 60 160 700 cm /Image1 Do Q\r\nq BT /F1 18 Tf 195 675 Td (1401) Tj ET Q\r\nendstream\r\nendobj\r\n\r\nxref\r\n0 6\r\n0000000000 65536 f \r\n0000000009 00000 n \r\n0000000054 00000 n \r\n0000000105 00000 n \r\n0000000266 00000 n \r\n0000000454 00000 n \r\n\r\ntrailer\r\n&lt;&lt;/Size 6/Root 1 0 R&gt;&gt;\r\nstartxref\r\n584\r\n%%EOF\r\n```\r\nNote cut and paste above will usually distort the bars due to bitrot(ation).\r\n\r\n[![enter image description here][6]][6]\r\n\r\nSo it will be cleaner white than this (ensure you save as ANSI NOT UTF-8).\r\n\r\nSo here is how the binary pattern looks as binary on off values, top is the odds and even pairing then shown using * as whitespace for convenience where the black1 will be nul and the white * will become &#255;\r\n\r\n[![enter image description here][7]][7]\r\n\r\n  [1]: https://i.stack.imgur.com/8tQm7.png\r\n  [2]: https://i.stack.imgur.com/t43TS.png\r\n  [3]: https://i.stack.imgur.com/6c7N8.png\r\n  [4]: https://i.stack.imgur.com/5gr3T.png\r\n  [5]: https://i.stack.imgur.com/xcuUA.png\r\n  [6]: https://i.stack.imgur.com/Ovryk.png\r\n  [7]: https://i.stack.imgur.com/TVLBK.png","link":"https://stackoverflow.com/questions/77067963/how-to-convert-a-string-to-a-barcode-code-128/77070735#77070735","title":"How to convert a string to a barcode code 128","body":"<p>Barcode 128 is an oddity for programming as it is non-conventional encoding in its application. Let's start with the output.</p>\n<p><a href=\"https://i.stack.imgur.com/8tQm7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8tQm7.png\" alt=\"enter image description here\" /></a></p>\n<p>You can check that is correct here <a href=\"https://zxing.org/w/decode?u=https%3A%2F%2Fi.stack.imgur.com%2F8tQm7.png\" rel=\"nofollow noreferrer\">https://zxing.org/w/decode?u=https%3A%2F%2Fi.stack.imgur.com%2F8tQm7.png</a></p>\n<p><a href=\"https://i.stack.imgur.com/t43TS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t43TS.png\" alt=\"enter image description here\" /></a></p>\n<p>You can also see to get that font as output we need in PDF binary terms an input of <code>0110100100001110000000010001001001101010</code> which does not match the pixel output. However 01101001 00001110 00000001 00010010 01101010 as hex is <code>69 0e 01 12 6a</code> which as ASCII / ANSI = <code>Ò.!2Ó</code>.</p>\n<p>So the rules of generation are</p>\n<ul>\n<li>Use the start numeric character <code>Ò</code></li>\n<li>add a ligature glyph for 14 = <code>.</code></li>\n<li>add a ligature glyph for 01 = <code>!</code></li>\n<li>add the calculated check character <code>2</code></li>\n<li>round of with a stop character <code>Ó</code></li>\n</ul>\n<p>write those 5 characters using any of several Code 128 fonts.</p>\n<p>It is a lot easier if you use a cut and paste tool that calculates ligatures and Mod 103 check bytes.</p>\n<p><a href=\"https://i.stack.imgur.com/6c7N8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6c7N8.png\" alt=\"enter image description here\" /></a></p>\n<p>Here we see it as text in a PDF where the text is now <code>6C 11 04 15 6D</code> since it gets remapped characters (by the MS PDF generator) which in this case seems to have added +3 to each glyph!</p>\n<p><a href=\"https://i.stack.imgur.com/5gr3T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5gr3T.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>13 0 obj\n&lt;&lt;/Length 158&gt;&gt;\nstream\nq\nq\n.75 0 0 -.75 0 841.92007 cm\n0 0 0 rg\nBT\n/F1 96.0037 Tf\n1 0 0 -1 94.56 150.4 Tm\n[&lt;006C&gt;-.695313&lt;0011&gt;-.554688&lt;0004&gt;-.554688&lt;0015&gt;-.554688&lt;006D&gt;] TJ\nET\nQ\nQ\n</code></pre>\n<p>Calculations in Excel (see <a href=\"https://en.wikipedia.org/wiki/Code_128#Bar_code_widths\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Code_128#Bar_code_widths</a>)</p>\n<p><a href=\"https://i.stack.imgur.com/xcuUA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xcuUA.png\" alt=\"enter image description here\" /></a></p>\n<p>What is odd is that the concept of using Code128 is compaction yet that method of fonts requires many times the resources compared to pixels</p>\n<p>Here even with overheads the 54 bars (I added extra 4 white <code>ÿ</code> bars each end, for guarding) is a total file size of just over 750 bytes, but as a font embedded file it is heading for 4 times bigger e.g. 3,199 bytes for the bars without the normal embedded 1401 text.</p>\n<pre><code>%PDF-1.3\n1 0 obj &lt;&lt;/Pages 2 0 R/Type/Catalog&gt;&gt; endobj\n2 0 obj &lt;&lt;/Count 1/Kids[3 0 R]/Type/Pages&gt;&gt; endobj\n3 0 obj &lt;&lt;/Contents 5 0 R/CropBox[0 0 595.32 841.92]/MediaBox[0 0 595.32 841.92]/Parent 2 0 R/Resources&lt;&lt;/XObject&lt;&lt;/Image1 4 0 R&gt;&gt;&gt;&gt;/Rotate 0/Type/Page&gt;&gt; endobj\n4 0 obj &lt;&lt;/BitsPerComponent 8/ColorSpace/DeviceGray/Width 54/Height 1/Length 54/Subtype/Image/Type/XObject&gt;&gt;\nstream\nÿÿÿÿ  ÿ ÿÿ   ÿÿ ÿÿ  ÿÿ   ÿ  ÿÿ  ÿ  ÿÿ  ÿÿÿ   ÿ ÿ  ÿÿÿÿ\nendstream\nendobj\n5 0 obj &lt;&lt;/Length 81&gt;&gt;\nstream\nq 0 g 108 0 0 60 160 700 cm /Image1 Do Q\nq BT /F1 18 Tf 195 675 Td (1401) Tj ET Q\nendstream\nendobj\n\nxref\n0 6\n0000000000 65536 f \n0000000009 00000 n \n0000000054 00000 n \n0000000105 00000 n \n0000000266 00000 n \n0000000454 00000 n \n\ntrailer\n&lt;&lt;/Size 6/Root 1 0 R&gt;&gt;\nstartxref\n584\n%%EOF\n</code></pre>\n<p>Note cut and paste above will usually distort the bars due to bitrot(ation).</p>\n<p><a href=\"https://i.stack.imgur.com/Ovryk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ovryk.png\" alt=\"enter image description here\" /></a></p>\n<p>So it will be cleaner white than this (ensure you save as ANSI NOT UTF-8).</p>\n<p>So here is how the binary pattern looks as binary on off values, top is the odds and even pairing then shown using * as whitespace for convenience where the black1 will be nul and the white * will become ÿ</p>\n<p><a href=\"https://i.stack.imgur.com/TVLBK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TVLBK.png\" alt=\"enter image description here\" /></a></p>\n"}],"comment_count":1,"is_answered":true,"view_count":342,"answer_count":1,"score":1,"last_activity_date":1701023641,"creation_date":1694185262,"question_id":77067963,"body_markdown":"I need to convert a string to a barcode Code 128\r\nI found a procedure which converts the original string into the formatted string, including the special characters of the Code 128 [From Here][1]. I didn&#39;t directly use the code on this page, but I translated it into the language used by genexus, maybe there was some error in this conversion?\r\n\r\nBy doing a test, the string &quot;1401&quot; is converted into &quot;&#210;QPL&#211;&quot; but when I go to print the string setting the code128 font, it is badly formatted, in particular the initial and final characters remain untranslated. I tested this both in word and in a pdf document generated with the genexus program and I get this barcode\r\n\r\n[![enter image description here][2]][2]\r\n\r\n(word add the three line after the second O too, I don&#39;t know why)\r\nI believe that the two accented O&#39;s are the characters set by the procedure with the ASCII codes (210 for example is the first O), perhaps there was a misunderstanding here?\r\nWhat am I doing wrong? Is the procedure incorrect? Is it a character set problem? Or what else? Did I misunderstand those lines and don&#39;t they represent ASCII codes?\r\n\r\nI tried with a barcode reader and there is no way to read this. If I generate the barcode with an [online generator][3] everything works fine\r\n\r\n\r\n  [1]: http://www.java2s.com/example/csharp/system/convert-a-string-to-a-bar-code-that-can-be-printed-with-code128ttf-fo.html\r\n  [2]: https://i.stack.imgur.com/ejvdS.png\r\n  [3]: https://barcode.tec-it.com/it/Code128?data=1401","link":"https://stackoverflow.com/questions/77067963/how-to-convert-a-string-to-a-barcode-code-128","title":"How to convert a string to a barcode code 128","body":"<p>I need to convert a string to a barcode Code 128\nI found a procedure which converts the original string into the formatted string, including the special characters of the Code 128 <a href=\"http://www.java2s.com/example/csharp/system/convert-a-string-to-a-bar-code-that-can-be-printed-with-code128ttf-fo.html\" rel=\"nofollow noreferrer\">From Here</a>. I didn't directly use the code on this page, but I translated it into the language used by genexus, maybe there was some error in this conversion?</p>\n<p>By doing a test, the string &quot;1401&quot; is converted into &quot;ÒQPLÓ&quot; but when I go to print the string setting the code128 font, it is badly formatted, in particular the initial and final characters remain untranslated. I tested this both in word and in a pdf document generated with the genexus program and I get this barcode</p>\n<p><a href=\"https://i.stack.imgur.com/ejvdS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ejvdS.png\" alt=\"enter image description here\" /></a></p>\n<p>(word add the three line after the second O too, I don't know why)\nI believe that the two accented O's are the characters set by the procedure with the ASCII codes (210 for example is the first O), perhaps there was a misunderstanding here?\nWhat am I doing wrong? Is the procedure incorrect? Is it a character set problem? Or what else? Did I misunderstand those lines and don't they represent ASCII codes?</p>\n<p>I tried with a barcode reader and there is no way to read this. If I generate the barcode with an <a href=\"https://barcode.tec-it.com/it/Code128?data=1401\" rel=\"nofollow noreferrer\">online generator</a> everything works fine</p>\n"},{"tags":["java","spring-boot","java-time"],"comments":[{"score":0,"post_type":"question","creation_date":1700949859,"post_id":77549703,"comment_id":136715352,"body_markdown":"Not an expert on JPA, but what version of JPA are you using?  This [webpage suggest](https://www.baeldung.com/jpa-java-time) that you should be using `java.sql.Time` or `java.sql.Date` as the type.","link":"https://stackoverflow.com/questions/77549703/getting-null-value-for-java-time-localdatetime-defined-in-jpa-entity-class#comment136715352_77549703","body":"Not an expert on JPA, but what version of JPA are you using?  This <a href=\"https://www.baeldung.com/jpa-java-time\" rel=\"nofollow noreferrer\">webpage suggest</a> that you should be using <code>java.sql.Time</code> or <code>java.sql.Date</code> as the type."},{"score":0,"post_type":"question","creation_date":1700950562,"post_id":77549703,"comment_id":136715403,"body_markdown":"spring-boot-starter-data-jpa-2.1.3.RELEASE.jar","link":"https://stackoverflow.com/questions/77549703/getting-null-value-for-java-time-localdatetime-defined-in-jpa-entity-class#comment136715403_77549703","body":"spring-boot-starter-data-jpa-2.1.3.RELEASE.jar"},{"score":0,"post_type":"question","creation_date":1700950887,"post_id":77549703,"comment_id":136715428,"body_markdown":"I changed it to 2.2.2.RELEASE. maven update. build. Still returning null","link":"https://stackoverflow.com/questions/77549703/getting-null-value-for-java-time-localdatetime-defined-in-jpa-entity-class#comment136715428_77549703","body":"I changed it to 2.2.2.RELEASE. maven update. build. Still returning null"},{"score":0,"post_type":"question","creation_date":1700956518,"post_id":77549703,"comment_id":136715766,"body_markdown":"What database engine? And *exactly* what data type of the column? (Likely you should be using `OffsetDateTime` rather than `LocalDateTime`.)","link":"https://stackoverflow.com/questions/77549703/getting-null-value-for-java-time-localdatetime-defined-in-jpa-entity-class#comment136715766_77549703","body":"What database engine? And <i>exactly</i> what data type of the column? (Likely you should be using <code>OffsetDateTime</code> rather than <code>LocalDateTime</code>.)"},{"score":0,"post_type":"question","creation_date":1700956899,"post_id":77549703,"comment_id":136715794,"body_markdown":"Database is mysql version 8. Column datatype is datetime.","link":"https://stackoverflow.com/questions/77549703/getting-null-value-for-java-time-localdatetime-defined-in-jpa-entity-class#comment136715794_77549703","body":"Database is mysql version 8. Column datatype is datetime."},{"score":0,"post_type":"question","creation_date":1700956956,"post_id":77549703,"comment_id":136715800,"body_markdown":"POM file dependency is `\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n\t\t&lt;/dependency&gt;`","link":"https://stackoverflow.com/questions/77549703/getting-null-value-for-java-time-localdatetime-defined-in-jpa-entity-class#comment136715800_77549703","body":"POM file dependency is `\t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; \t\t&lt;/dependency&gt;`"},{"score":0,"post_type":"question","creation_date":1700957210,"post_id":77549703,"comment_id":136715820,"body_markdown":"Post those details as edits to your Question rather than as Comments.","link":"https://stackoverflow.com/questions/77549703/getting-null-value-for-java-time-localdatetime-defined-in-jpa-entity-class#comment136715820_77549703","body":"Post those details as edits to your Question rather than as Comments."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700956358,"creation_date":1700956358,"answer_id":77549976,"question_id":77549703,"body_markdown":"    @Column(name = &quot;otp_validity&quot;, columnDefinition = &quot;TIMESTAMP&quot;)\r\n    private LocalDateTime getOptValidity() {\r\n        return this.otpValidity;\r\n    }\r\n\r\n","link":"https://stackoverflow.com/questions/77549703/getting-null-value-for-java-time-localdatetime-defined-in-jpa-entity-class/77549976#77549976","title":"getting null value for java.time.LocalDateTime defined in jpa entity class","body":"<pre><code>@Column(name = &quot;otp_validity&quot;, columnDefinition = &quot;TIMESTAMP&quot;)\nprivate LocalDateTime getOptValidity() {\n    return this.otpValidity;\n}\n</code></pre>\n"},{"comment_count":0,"score":1,"last_activity_date":1700961072,"creation_date":1700961072,"answer_id":77550116,"question_id":77549703,"body_markdown":"You need an `AttributeConverter` since your field in the database is `TIMESTAMP`.\r\n\r\n```java\r\nimport java.sql.Timestamp;\r\nimport java.time.LocalDateTime;\r\n\r\nimport javax.persistence.AttributeConverter;\r\nimport javax.persistence.Converter;\r\n\r\n@Converter(autoApply = true)\r\npublic class TimestampToLocalDateTimeAttributeConverter implements AttributeConverter&lt;LocalDateTime, Timestamp&gt; {\r\n\r\n\t@Override\r\n\tpublic Timestamp convertToDatabaseColumn(final LocalDateTime localDateTime) {\r\n\t\treturn localDateTime == null ? null : Timestamp.valueOf(localDateTime);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic LocalDateTime convertToEntityAttribute(final Timestamp sqlTimestamp) {\r\n\t\treturn sqlTimestamp == null ? null : sqlTimestamp.toLocalDateTime();\r\n\t}\r\n}\r\n```\r\n\r\nThis will automatically convert all your `LocalDateTime` fields in your entities to their corresponding `TIMESTAMP` in the database and vice-versa (for read/write).","link":"https://stackoverflow.com/questions/77549703/getting-null-value-for-java-time-localdatetime-defined-in-jpa-entity-class/77550116#77550116","title":"getting null value for java.time.LocalDateTime defined in jpa entity class","body":"<p>You need an <code>AttributeConverter</code> since your field in the database is <code>TIMESTAMP</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Timestamp;\nimport java.time.LocalDateTime;\n\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\n@Converter(autoApply = true)\npublic class TimestampToLocalDateTimeAttributeConverter implements AttributeConverter&lt;LocalDateTime, Timestamp&gt; {\n\n    @Override\n    public Timestamp convertToDatabaseColumn(final LocalDateTime localDateTime) {\n        return localDateTime == null ? null : Timestamp.valueOf(localDateTime);\n    }\n\n    @Override\n    public LocalDateTime convertToEntityAttribute(final Timestamp sqlTimestamp) {\n        return sqlTimestamp == null ? null : sqlTimestamp.toLocalDateTime();\n    }\n}\n</code></pre>\n<p>This will automatically convert all your <code>LocalDateTime</code> fields in your entities to their corresponding <code>TIMESTAMP</code> in the database and vice-versa (for read/write).</p>\n"}],"comment_count":7,"is_answered":true,"view_count":97,"answer_count":2,"score":0,"last_activity_date":1701023330,"creation_date":1700949212,"last_edit_date":1701023330,"question_id":77549703,"body_markdown":"From my `JpaRepository` method, I am getting `null` as value for `java.time.LocalDateTime` defined in `jpa` entity class.\r\n\r\n**Entity class**\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;cust_detail&quot;)\r\n    public class CustDetail implements java.io.Serializable {\r\n    \r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate Integer id;\r\n    \tprivate String name;\r\n    \tprivate String address;\r\n    \t@Column(name = &quot;dob&quot;, nullable = false,columnDefinition = &quot;TIMESTAMP&quot;)\r\n    \tprivate java.time.LocalDateTime dob;\r\n    \tprivate String city;\r\n    \tprivate String state;\r\n    \tprivate String country;\r\n    \tpublic CustDetail() {\r\n    \t}\r\n    \r\n\r\n    }\r\n\r\n**repository**\r\n\r\n    public interface CustDetailRepository extends JpaRepository&lt;CustDetail, Integer&gt;{\r\n    \t\tCustDetail findByCity(String city);\r\n    }\r\n\r\n**controller**\r\n\r\n    @Autowired\r\n    CustDetailRepository custRepo;\r\n    @GetMapping(value=&quot;test&quot;)\r\n    public CustDetail test(){\r\n    \r\n    \tCustDetail custObj=  custRepo.findByCity(&quot;JK&quot;);\r\n    \treturn custObj;\r\n    }\r\n\r\n**Response**\r\n\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;city&quot;: &quot;jk&quot;,\r\n        &quot;state&quot;: &quot;CALF&quot;,\r\n        &quot;dob&quot;: null //Why am I getting null here?\r\n     \r\n    }\r\n\r\n","link":"https://stackoverflow.com/questions/77549703/getting-null-value-for-java-time-localdatetime-defined-in-jpa-entity-class","title":"getting null value for java.time.LocalDateTime defined in jpa entity class","body":"<p>From my <code>JpaRepository</code> method, I am getting <code>null</code> as value for <code>java.time.LocalDateTime</code> defined in <code>jpa</code> entity class.</p>\n<p><strong>Entity class</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;cust_detail&quot;)\npublic class CustDetail implements java.io.Serializable {\n\n\n    private static final long serialVersionUID = 1L;\n    private Integer id;\n    private String name;\n    private String address;\n    @Column(name = &quot;dob&quot;, nullable = false,columnDefinition = &quot;TIMESTAMP&quot;)\n    private java.time.LocalDateTime dob;\n    private String city;\n    private String state;\n    private String country;\n    public CustDetail() {\n    }\n\n\n}\n</code></pre>\n<p><strong>repository</strong></p>\n<pre><code>public interface CustDetailRepository extends JpaRepository&lt;CustDetail, Integer&gt;{\n        CustDetail findByCity(String city);\n}\n</code></pre>\n<p><strong>controller</strong></p>\n<pre><code>@Autowired\nCustDetailRepository custRepo;\n@GetMapping(value=&quot;test&quot;)\npublic CustDetail test(){\n\n    CustDetail custObj=  custRepo.findByCity(&quot;JK&quot;);\n    return custObj;\n}\n</code></pre>\n<p><strong>Response</strong></p>\n<pre><code>{\n    &quot;id&quot;: 3,\n    &quot;city&quot;: &quot;jk&quot;,\n    &quot;state&quot;: &quot;CALF&quot;,\n    &quot;dob&quot;: null //Why am I getting null here?\n \n}\n</code></pre>\n"},{"tags":["java","eclipse","drools"],"comments":[{"score":0,"post_type":"question","creation_date":1701021001,"post_id":77552818,"comment_id":136720575,"body_markdown":"Can you please show the full stack trace?","link":"https://stackoverflow.com/questions/77552818/cant-run-drools-project-on-eclipse#comment136720575_77552818","body":"Can you please show the full stack trace?"},{"score":0,"post_type":"question","creation_date":1701021361,"post_id":77552818,"comment_id":136720611,"body_markdown":"Ok, I&#39;ve just updated the question","link":"https://stackoverflow.com/questions/77552818/cant-run-drools-project-on-eclipse#comment136720611_77552818","body":"Ok, I&#39;ve just updated the question"},{"score":0,"post_type":"question","creation_date":1701022090,"post_id":77552818,"comment_id":136720687,"body_markdown":"Can you try either updating your dependencies or using Java 8 for _executing_ your application?","link":"https://stackoverflow.com/questions/77552818/cant-run-drools-project-on-eclipse#comment136720687_77552818","body":"Can you try either updating your dependencies or using Java 8 for <i>executing</i> your application?"},{"score":0,"post_type":"question","creation_date":1701022940,"post_id":77552818,"comment_id":136720776,"body_markdown":"Running as Java 8 doesn&#39;t help and I don&#39;t know where to find my dependencies since I was required to select &quot;Build the project using Java and Drools Runtime Classes&quot; instead of maven and therefore i dont see the dependency xml file","link":"https://stackoverflow.com/questions/77552818/cant-run-drools-project-on-eclipse#comment136720776_77552818","body":"Running as Java 8 doesn&#39;t help and I don&#39;t know where to find my dependencies since I was required to select &quot;Build the project using Java and Drools Runtime Classes&quot; instead of maven and therefore i dont see the dependency xml file"},{"score":2,"post_type":"question","creation_date":1701091367,"post_id":77552818,"comment_id":136728141,"body_markdown":"If you are still getting `InaccessibleObjectException` you are not using Java 8 as that exception didn&#39;t exist in Java 8.","link":"https://stackoverflow.com/questions/77552818/cant-run-drools-project-on-eclipse#comment136728141_77552818","body":"If you are still getting <code>InaccessibleObjectException</code> you are not using Java 8 as that exception didn&#39;t exist in Java 8."}],"comment_count":5,"is_answered":false,"view_count":43,"answer_count":0,"score":-1,"last_activity_date":1701021312,"creation_date":1701020866,"last_edit_date":1701021312,"question_id":77552818,"body_markdown":"I have an academic task focused on rule generation models that necessitates working within the Eclipse environment. I&#39;ve followed the provided instructions as directed.\r\n\r\n1. Install eclipse ( I use 2023-09)\r\n\r\n2. Install JBoss Drools plugin (Hel -\\&gt; Install new software)\r\n\r\n3. Add it to the Eclipse ( Window -\\&gt; Preferences -\\&gt; Drools -\\&gt; Installed Drools Runtimes)\r\n\r\n4. Create a new Drools project.\r\n\r\nUnfortunately when i try to run it I get this error:\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\njava.lang.ExceptionInInitializerError\r\n\tat com.thoughtworks.xstream.XStream.setupConverters(XStream.java:832)\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:496)\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:465)\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:411)\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:378)\r\n\tat org.kie.internal.xstream.XStreamUtils.createXStream(XStreamUtils.java:30)\r\n\tat org.drools.compiler.kproject.models.KieModuleModelImpl$kModuleMarshaller.&lt;init&gt;(KieModuleModelImpl.java:170)\r\n\tat org.drools.compiler.kproject.models.KieModuleModelImpl$kModuleMarshaller.&lt;init&gt;(KieModuleModelImpl.java:169)\r\n\tat org.drools.compiler.kproject.models.KieModuleModelImpl.&lt;clinit&gt;(KieModuleModelImpl.java:167)\r\n\tat org.drools.compiler.kie.builder.impl.ClasspathKieProject.fetchKModule(ClasspathKieProject.java:179)\r\n\tat org.drools.compiler.kie.builder.impl.ClasspathKieProject.fetchKModule(ClasspathKieProject.java:141)\r\n\tat org.drools.compiler.kie.builder.impl.ClasspathKieProject.discoverKieModules(ClasspathKieProject.java:112)\r\n\tat org.drools.compiler.kie.builder.impl.ClasspathKieProject.init(ClasspathKieProject.java:84)\r\n\tat org.drools.compiler.kie.builder.impl.KieContainerImpl.&lt;init&gt;(KieContainerImpl.java:142)\r\n\tat org.drools.compiler.kie.builder.impl.KieServicesImpl.newKieClasspathContainer(KieServicesImpl.java:135)\r\n\tat org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:101)\r\n\tat org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:79)\r\n\tat com.sample.DroolsTest.main(DroolsTest.java:16)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @3f191845\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:40)\r\n\tat com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\r\n\t... 19 more\r\n\r\n```\r\n\r\nI tried different compiler compliance level and downloading both slf4j-api-2.0.9.jar and logback-classic-1.4.11.jar and adding it to classpath in java build path but I still get this error.\r\n\r\nCan you help me build my program so that I can start doing my academic assignments? If it&#39;s possible explain it like I&#39;m 5, because I have never worked with drools or eclipse before. I&#39;m just beginning to learn about it.","link":"https://stackoverflow.com/questions/77552818/cant-run-drools-project-on-eclipse","title":"Can&#39;t run Drools project on Eclipse","body":"<p>I have an academic task focused on rule generation models that necessitates working within the Eclipse environment. I've followed the provided instructions as directed.</p>\n<ol>\n<li><p>Install eclipse ( I use 2023-09)</p>\n</li>\n<li><p>Install JBoss Drools plugin (Hel -&gt; Install new software)</p>\n</li>\n<li><p>Add it to the Eclipse ( Window -&gt; Preferences -&gt; Drools -&gt; Installed Drools Runtimes)</p>\n</li>\n<li><p>Create a new Drools project.</p>\n</li>\n</ol>\n<p>Unfortunately when i try to run it I get this error:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\njava.lang.ExceptionInInitializerError\n    at com.thoughtworks.xstream.XStream.setupConverters(XStream.java:832)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:496)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:465)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:411)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:378)\n    at org.kie.internal.xstream.XStreamUtils.createXStream(XStreamUtils.java:30)\n    at org.drools.compiler.kproject.models.KieModuleModelImpl$kModuleMarshaller.&lt;init&gt;(KieModuleModelImpl.java:170)\n    at org.drools.compiler.kproject.models.KieModuleModelImpl$kModuleMarshaller.&lt;init&gt;(KieModuleModelImpl.java:169)\n    at org.drools.compiler.kproject.models.KieModuleModelImpl.&lt;clinit&gt;(KieModuleModelImpl.java:167)\n    at org.drools.compiler.kie.builder.impl.ClasspathKieProject.fetchKModule(ClasspathKieProject.java:179)\n    at org.drools.compiler.kie.builder.impl.ClasspathKieProject.fetchKModule(ClasspathKieProject.java:141)\n    at org.drools.compiler.kie.builder.impl.ClasspathKieProject.discoverKieModules(ClasspathKieProject.java:112)\n    at org.drools.compiler.kie.builder.impl.ClasspathKieProject.init(ClasspathKieProject.java:84)\n    at org.drools.compiler.kie.builder.impl.KieContainerImpl.&lt;init&gt;(KieContainerImpl.java:142)\n    at org.drools.compiler.kie.builder.impl.KieServicesImpl.newKieClasspathContainer(KieServicesImpl.java:135)\n    at org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:101)\n    at org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:79)\n    at com.sample.DroolsTest.main(DroolsTest.java:16)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @3f191845\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:40)\n    at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\n    ... 19 more\n\n</code></pre>\n<p>I tried different compiler compliance level and downloading both slf4j-api-2.0.9.jar and logback-classic-1.4.11.jar and adding it to classpath in java build path but I still get this error.</p>\n<p>Can you help me build my program so that I can start doing my academic assignments? If it's possible explain it like I'm 5, because I have never worked with drools or eclipse before. I'm just beginning to learn about it.</p>\n"},{"tags":["java","scala","maven","apache-spark"],"comments":[{"score":0,"post_type":"question","creation_date":1701075185,"post_id":77552820,"comment_id":136725325,"body_markdown":"Shouldn&#39;t your scala code reside in `src/main/scala` directory instead of just `src/`? To my knowledge that&#39;s the maven&#39;s defaults and also what you configured in `pom.xml`","link":"https://stackoverflow.com/questions/77552820/error-running-spark-submit-unable-to-locate-application-scala-file#comment136725325_77552820","body":"Shouldn&#39;t your scala code reside in <code>src&#47;main&#47;scala</code> directory instead of just <code>src&#47;</code>? To my knowledge that&#39;s the maven&#39;s defaults and also what you configured in <code>pom.xml</code>"}],"comment_count":1,"is_answered":false,"view_count":21,"answer_count":0,"score":0,"last_activity_date":1701020900,"creation_date":1701020900,"question_id":77552820,"body_markdown":"I&#39;m encountering an issue while attempting to execute spark-submit for my Scala application. I&#39;m receiving an error indicating that the Application.scala file cannot be found, even though it exists within my project. I&#39;d like to understand why this error is occurring and how I can rectify it.\r\n\r\nMy directory structure and files are as follows:\r\n\r\n``` \r\ngit-scala-streaming\r\n|\r\n| src/streaming/Tools/Tools.scala\r\n| src/streaming/Application.scala\r\n| execute_spark_streaming.sh\r\n| pom.xml \r\n```\r\n\r\n\r\nHere&#39;s the content of the relevant files:\r\n\r\npom.xml:\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;debug.spark-example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-example&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1-&lt;/version&gt;\r\n    &lt;inceptionYear&gt;2015&lt;/inceptionYear&gt;\r\n    &lt;properties&gt;\r\n        &lt;scala.majorVersion&gt;2.11&lt;/scala.majorVersion&gt;\r\n        &lt;scala.minorVersion&gt;.2&lt;/scala.minorVersion&gt;\r\n        &lt;spark.version&gt;1.4.1&lt;/spark.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;scala-tools.org&lt;/id&gt;\r\n            &lt;name&gt;Scala-Tools Maven2 Repository&lt;/name&gt;\r\n            &lt;url&gt;http://scala-tools.org/repo-releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;scala-tools.org&lt;/id&gt;\r\n            &lt;name&gt;Scala-Tools Maven2 Repository&lt;/name&gt;\r\n            &lt;url&gt;http://scala-tools.org/repo-releases&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n            &lt;version&gt;${scala.majorVersion}${scala.minorVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_${scala.majorVersion}&lt;/artifactId&gt;\r\n            &lt;version&gt;${spark.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src/main/scala&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.scala-tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-scala-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n                    &lt;buildcommands&gt;\r\n                        &lt;buildcommand&gt;ch.epfl.lamp.sdt.core.scalabuilder&lt;/buildcommand&gt;\r\n                    &lt;/buildcommands&gt;\r\n                    &lt;additionalProjectnatures&gt;\r\n                        &lt;projectnature&gt;ch.epfl.lamp.sdt.core.scalanature&lt;/projectnature&gt;\r\n                    &lt;/additionalProjectnatures&gt;\r\n                    &lt;classpathContainers&gt;\r\n                        &lt;classpathContainer&gt;org.eclipse.jdt.launching.JRE_CONTAINER&lt;/classpathContainer&gt;\r\n                        &lt;classpathContainer&gt;ch.epfl.lamp.sdt.launching.SCALA_CONTAINER&lt;/classpathContainer&gt;\r\n                    &lt;/classpathContainers&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;attached&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;tarLongFileMode&gt;gnu&lt;/tarLongFileMode&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;minimizeJar&gt;false&lt;/minimizeJar&gt;\r\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                            &lt;artifactSet&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;!-- Include here the dependencies you want to be packed in your fat jar --&gt;\r\n                                    &lt;include&gt;*:*&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                            &lt;/artifactSet&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                                    &lt;resource&gt;reference.conf&lt;/resource&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;reporting&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.scala-tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-scala-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nApplication.scala:\r\n\r\n```\r\npackage streaming\r\n\r\nimport org.apache.spark.sql.SparkSession\r\n\r\nobject Application {\r\n\r\n  def main(args: Array[String]): Unit = {\r\n    val app = new Application()\r\n    app.run()\r\n  }\r\n}\r\n\r\nclass Application {\r\n\r\n  lazy private val conf = ConfigFactory.load\r\n  lazy private val spark = getSession\r\n\r\n  private def run(): Unit = {\r\n    // Your application code can be called here\r\n    val versionInfo = this.versionInfo\r\n    versionInfo.foreach(println)\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\nexecute_spark_streaming.sh:\r\n```\r\n#!/bin/bash\r\n\r\n\r\nspark-submit --master local[*] --class streaming.Application /home/myprofile/IdeaProjects/git-scala-streaming/target/spark-example-0.1--jar-with-dependencies.jar\r\n\r\n```\r\nI&#39;ve tried checking the directory structure, executed mvn clean package to compile the project, and verified that the path to the JAR file in the execute_spark_streaming.sh script is correct. However, I continue to receive the error when running spark-submit.\r\n\r\nI&#39;d appreciate any guidance on how to troubleshoot this issue.\r\n\r\nError:\r\n\r\n```\r\nError: Failed to load class streaming.Application.\r\n23/11/26 14:41:05 INFO ShutdownHookManager: Shutdown hook called\r\n23/11/26 14:41:05 INFO ShutdownHookManager: Deleting directory /tmp/spark-f5493a3b-f207-41bf-8b9b-737ab90ca80e\r\n\r\n```\r\n","link":"https://stackoverflow.com/questions/77552820/error-running-spark-submit-unable-to-locate-application-scala-file","title":"Error running spark-submit - Unable to locate Application.scala file","body":"<p>I'm encountering an issue while attempting to execute spark-submit for my Scala application. I'm receiving an error indicating that the Application.scala file cannot be found, even though it exists within my project. I'd like to understand why this error is occurring and how I can rectify it.</p>\n<p>My directory structure and files are as follows:</p>\n<pre><code>git-scala-streaming\n|\n| src/streaming/Tools/Tools.scala\n| src/streaming/Application.scala\n| execute_spark_streaming.sh\n| pom.xml \n</code></pre>\n<p>Here's the content of the relevant files:</p>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;debug.spark-example&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-example&lt;/artifactId&gt;\n    &lt;version&gt;0.1-&lt;/version&gt;\n    &lt;inceptionYear&gt;2015&lt;/inceptionYear&gt;\n    &lt;properties&gt;\n        &lt;scala.majorVersion&gt;2.11&lt;/scala.majorVersion&gt;\n        &lt;scala.minorVersion&gt;.2&lt;/scala.minorVersion&gt;\n        &lt;spark.version&gt;1.4.1&lt;/spark.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;scala-tools.org&lt;/id&gt;\n            &lt;name&gt;Scala-Tools Maven2 Repository&lt;/name&gt;\n            &lt;url&gt;http://scala-tools.org/repo-releases&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;scala-tools.org&lt;/id&gt;\n            &lt;name&gt;Scala-Tools Maven2 Repository&lt;/name&gt;\n            &lt;url&gt;http://scala-tools.org/repo-releases&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n            &lt;version&gt;${scala.majorVersion}${scala.minorVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_${scala.majorVersion}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/scala&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.scala-tools&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-scala-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;buildcommands&gt;\n                        &lt;buildcommand&gt;ch.epfl.lamp.sdt.core.scalabuilder&lt;/buildcommand&gt;\n                    &lt;/buildcommands&gt;\n                    &lt;additionalProjectnatures&gt;\n                        &lt;projectnature&gt;ch.epfl.lamp.sdt.core.scalanature&lt;/projectnature&gt;\n                    &lt;/additionalProjectnatures&gt;\n                    &lt;classpathContainers&gt;\n                        &lt;classpathContainer&gt;org.eclipse.jdt.launching.JRE_CONTAINER&lt;/classpathContainer&gt;\n                        &lt;classpathContainer&gt;ch.epfl.lamp.sdt.launching.SCALA_CONTAINER&lt;/classpathContainer&gt;\n                    &lt;/classpathContainers&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;attached&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;tarLongFileMode&gt;gnu&lt;/tarLongFileMode&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;minimizeJar&gt;false&lt;/minimizeJar&gt;\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                            &lt;artifactSet&gt;\n                                &lt;includes&gt;\n                                    &lt;!-- Include here the dependencies you want to be packed in your fat jar --&gt;\n                                    &lt;include&gt;*:*&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/artifactSet&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                                    &lt;resource&gt;reference.conf&lt;/resource&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.scala-tools&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-scala-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Application.scala:</p>\n<pre><code>package streaming\n\nimport org.apache.spark.sql.SparkSession\n\nobject Application {\n\n  def main(args: Array[String]): Unit = {\n    val app = new Application()\n    app.run()\n  }\n}\n\nclass Application {\n\n  lazy private val conf = ConfigFactory.load\n  lazy private val spark = getSession\n\n  private def run(): Unit = {\n    // Your application code can be called here\n    val versionInfo = this.versionInfo\n    versionInfo.foreach(println)\n  }\n\n}\n\n</code></pre>\n<p>execute_spark_streaming.sh:</p>\n<pre><code>#!/bin/bash\n\n\nspark-submit --master local[*] --class streaming.Application /home/myprofile/IdeaProjects/git-scala-streaming/target/spark-example-0.1--jar-with-dependencies.jar\n\n</code></pre>\n<p>I've tried checking the directory structure, executed mvn clean package to compile the project, and verified that the path to the JAR file in the execute_spark_streaming.sh script is correct. However, I continue to receive the error when running spark-submit.</p>\n<p>I'd appreciate any guidance on how to troubleshoot this issue.</p>\n<p>Error:</p>\n<pre><code>Error: Failed to load class streaming.Application.\n23/11/26 14:41:05 INFO ShutdownHookManager: Shutdown hook called\n23/11/26 14:41:05 INFO ShutdownHookManager: Deleting directory /tmp/spark-f5493a3b-f207-41bf-8b9b-737ab90ca80e\n\n</code></pre>\n"},{"tags":["java","asynchronous","nfc","smartcardio"],"comment_count":0,"is_answered":false,"view_count":19,"answer_count":0,"score":0,"last_activity_date":1701020836,"creation_date":1701020836,"question_id":77552815,"body_markdown":"I am trying to accomplish something similar to the post here: https://stackoverflow.com/questions/18516946/reading-events-from-javax-smartcardio-to-detect-presence-of-nfc-tag, where an action is performed only when an NFC card is tapped to the reader.  Ideally, it would be something like:\r\n```\r\nnfcReader.onTap(()-&gt;{\r\n    //do something for that NFC card\r\n})\r\n\r\n``` \r\nBut the SmartCardIO library doesn&#39;t have anything like that. \r\n\r\nI&#39;ve tried using the `waitForCardPresent` and `waitForCardAbsent` method (https://docs.oracle.com/javase/8/docs/jre/api/security/smartcardio/spec/javax/smartcardio/CardTerminal.html), which blocks the code until a card is placed/removed, but unfortunately it stops the application while it&#39;s waiting. Additionally, I am leveraging a for loop, where unique data is written to each card, and the application is unresponsive until the loop finishes. The logic is as below:\r\n```\r\nfor (String customData : data){\r\n     mPresenter.iSmartCardManager.waitForCardPresent();\r\n    // Write customData to card\r\n    mPresenter.iSmartCardManager.waitForCardAbsent();\r\n}\r\n``` \r\n\r\nDuring the entire time the code above is executing, I am unable to interface with the application. I am using a JavaFX library (leveraging the TapLinx sample application https://www.mifare.net/developer/home/), and the application is unable to have buttons pressed or logs updated in this non-responsive state. This isn&#39;t ideal when I have multiple cards that need to be read/written, with logs that need to be updated for each card. \r\n\r\nIn order to overcome the blocking nature of the `waitForCardPresent` method, I&#39;ve tried multiple async options so that the application won&#39;t wait on the `waitForCardPresent` method, from this doc: https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-C0FEE349-D998-4C9D-B032-E01D06BE55F2. \r\n\r\n```\r\nThread thread = Thread.ofVirtual().start(() -&gt; {\r\n\ttagPresent = mPresenter.iSmartCardManager.waitForCardPresent();\r\n\t});\r\nthread.join();\r\n```\r\n```\r\ntry (ExecutorService myExecutor =\r\n\tExecutors.newVirtualThreadPerTaskExecutor()) {\r\n\tFuture&lt;?&gt; future = myExecutor.submit(() -&gt; {\r\n\ttagPresent = mPresenter.iSmartCardManager.waitForCardPresent();\r\n\t});\r\n\tfuture.get();\r\n} catch (Exception e) {\r\n\tLOG.error(&quot;Error in thread&quot;, e);\r\n}\r\n```\r\n```\r\nThread t = new Thread(new Runnable() {\r\n\tpublic void run() {\r\n\t\ttagPresent = mPresenter.iSmartCardManager.waitForCardPresent();\r\n\r\n\t}\r\n\t});\r\nt.start();\r\n```\r\n\r\nNone of these work, the application still blocks and is unresponsive. Is it possible to have an `onTap()` method that triggers when an NFC tag is placed on the reader? Or, to have a running for-loop that waits for the card to be placed/removed without causing the application to be unresponsive?\r\n\r\nThanks!","link":"https://stackoverflow.com/questions/77552815/java-smartcardio-and-javafx-nfc-on-tap-functionality-or-non-blocking-waiting-fo","title":"Java SmartCardIO and JavaFX: NFC On-Tap Functionality or Non-Blocking Waiting for Card Present","body":"<p>I am trying to accomplish something similar to the post here: <a href=\"https://stackoverflow.com/questions/18516946/reading-events-from-javax-smartcardio-to-detect-presence-of-nfc-tag\">Reading events from javax.smartcardio to detect presence of NFC tag</a>, where an action is performed only when an NFC card is tapped to the reader.  Ideally, it would be something like:</p>\n<pre><code>nfcReader.onTap(()-&gt;{\n    //do something for that NFC card\n})\n\n</code></pre>\n<p>But the SmartCardIO library doesn't have anything like that.</p>\n<p>I've tried using the <code>waitForCardPresent</code> and <code>waitForCardAbsent</code> method (<a href=\"https://docs.oracle.com/javase/8/docs/jre/api/security/smartcardio/spec/javax/smartcardio/CardTerminal.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/jre/api/security/smartcardio/spec/javax/smartcardio/CardTerminal.html</a>), which blocks the code until a card is placed/removed, but unfortunately it stops the application while it's waiting. Additionally, I am leveraging a for loop, where unique data is written to each card, and the application is unresponsive until the loop finishes. The logic is as below:</p>\n<pre><code>for (String customData : data){\n     mPresenter.iSmartCardManager.waitForCardPresent();\n    // Write customData to card\n    mPresenter.iSmartCardManager.waitForCardAbsent();\n}\n</code></pre>\n<p>During the entire time the code above is executing, I am unable to interface with the application. I am using a JavaFX library (leveraging the TapLinx sample application <a href=\"https://www.mifare.net/developer/home/\" rel=\"nofollow noreferrer\">https://www.mifare.net/developer/home/</a>), and the application is unable to have buttons pressed or logs updated in this non-responsive state. This isn't ideal when I have multiple cards that need to be read/written, with logs that need to be updated for each card.</p>\n<p>In order to overcome the blocking nature of the <code>waitForCardPresent</code> method, I've tried multiple async options so that the application won't wait on the <code>waitForCardPresent</code> method, from this doc: <a href=\"https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-C0FEE349-D998-4C9D-B032-E01D06BE55F2\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-C0FEE349-D998-4C9D-B032-E01D06BE55F2</a>.</p>\n<pre><code>Thread thread = Thread.ofVirtual().start(() -&gt; {\n    tagPresent = mPresenter.iSmartCardManager.waitForCardPresent();\n    });\nthread.join();\n</code></pre>\n<pre><code>try (ExecutorService myExecutor =\n    Executors.newVirtualThreadPerTaskExecutor()) {\n    Future&lt;?&gt; future = myExecutor.submit(() -&gt; {\n    tagPresent = mPresenter.iSmartCardManager.waitForCardPresent();\n    });\n    future.get();\n} catch (Exception e) {\n    LOG.error(&quot;Error in thread&quot;, e);\n}\n</code></pre>\n<pre><code>Thread t = new Thread(new Runnable() {\n    public void run() {\n        tagPresent = mPresenter.iSmartCardManager.waitForCardPresent();\n\n    }\n    });\nt.start();\n</code></pre>\n<p>None of these work, the application still blocks and is unresponsive. Is it possible to have an <code>onTap()</code> method that triggers when an NFC tag is placed on the reader? Or, to have a running for-loop that waits for the card to be placed/removed without causing the application to be unresponsive?</p>\n<p>Thanks!</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"score":0,"post_type":"question","creation_date":1701013886,"post_id":77551810,"comment_id":136719773,"body_markdown":"When i am trying to run the program it shows me an error on localhost server:-  java.lang.Error: Unresolved compilation problem: \n\tThe method getSubmittedFileName() is undefined for the type Part.","link":"https://stackoverflow.com/questions/77551810/the-method-getsubmittedfilename-is-undefined-for-the-type-part#comment136719773_77551810","body":"When i am trying to run the program it shows me an error on localhost server:-  java.lang.Error: Unresolved compilation problem:  \tThe method getSubmittedFileName() is undefined for the type Part."},{"score":0,"post_type":"question","creation_date":1701019412,"post_id":77551810,"comment_id":136720371,"body_markdown":"well i am using servlet version :- 4.0 ....tomcat apache server:- 9.0.82  ......i am trying to build dynamic web project and want to fetch userinput data into server, for that i am using javax.servlet ..i tried jakarta.servlet as well, but it throwing me error of /path not found. so i went back to javax.servlet.","link":"https://stackoverflow.com/questions/77551810/the-method-getsubmittedfilename-is-undefined-for-the-type-part#comment136720371_77551810","body":"well i am using servlet version :- 4.0 ....tomcat apache server:- 9.0.82  ......i am trying to build dynamic web project and want to fetch userinput data into server, for that i am using javax.servlet ..i tried jakarta.servlet as well, but it throwing me error of /path not found. so i went back to javax.servlet."},{"score":0,"post_type":"question","creation_date":1701020437,"post_id":77551810,"comment_id":136720513,"body_markdown":"hi, i&#39;ve added dependencies in my question, plz help me","link":"https://stackoverflow.com/questions/77551810/the-method-getsubmittedfilename-is-undefined-for-the-type-part#comment136720513_77551810","body":"hi, i&#39;ve added dependencies in my question, plz help me"}],"comment_count":3,"is_answered":false,"view_count":37,"answer_count":0,"score":0,"last_activity_date":1701020400,"creation_date":1701004323,"last_edit_date":1701020400,"question_id":77551810,"body_markdown":"Here&#39;s the code snippet of .java file...I&#39;ve imported javax.servlet.http.part to use getsubmittedFileName method, but it&#39;s not working. \r\nEven i have servlet version 4.0..\r\ntomcat version 9.0.82..\r\nHow can i fix the problem?\r\n\r\n\r\n\r\n```\r\npackage com.admin.servlet;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.MultipartConfig;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.Part;\r\n\r\n\r\n@WebServlet(&quot;/add_books&quot;)\r\n@MultipartConfig\r\npublic class BooksAdd  extends HttpServlet{\r\n\r\n\t@Override\r\n\tprotected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tString bookName=req.getParameter(&quot;bname&quot;);\r\n\t\t\tString author=req.getParameter(&quot;author&quot;);\r\n\t\t\tDouble price=Double.parseDouble(req.getParameter(&quot;price&quot;));\r\n\t\t\tString categories=req.getParameter(&quot;btype&quot;);\r\n\t\t\tString status=req.getParameter(&quot;bstatus&quot;);\r\n\t\t\tPart part=req.getPart(&quot;bimg&quot;);\r\n\t\t\tString fileName=part.getSubmittedFileName();\r\n\t\t\t\r\n\t\t\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\n```\r\nnote:- it&#39;s a maven project.......\r\nhere are the dependencies which are in the project....\r\n```\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.servlet.jsp.jstl/jakarta.servlet.jsp.jstl-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\t\t\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.22&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n```","link":"https://stackoverflow.com/questions/77551810/the-method-getsubmittedfilename-is-undefined-for-the-type-part","title":"The method getSubmittedFileName is undefined for the type Part","body":"<p>Here's the code snippet of .java file...I've imported javax.servlet.http.part to use getsubmittedFileName method, but it's not working.\nEven i have servlet version 4.0..\ntomcat version 9.0.82..\nHow can i fix the problem?</p>\n<pre><code>package com.admin.servlet;\n\nimport java.io.IOException;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.MultipartConfig;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.Part;\n\n\n@WebServlet(&quot;/add_books&quot;)\n@MultipartConfig\npublic class BooksAdd  extends HttpServlet{\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        \n        try {\n            \n            String bookName=req.getParameter(&quot;bname&quot;);\n            String author=req.getParameter(&quot;author&quot;);\n            Double price=Double.parseDouble(req.getParameter(&quot;price&quot;));\n            String categories=req.getParameter(&quot;btype&quot;);\n            String status=req.getParameter(&quot;bstatus&quot;);\n            Part part=req.getPart(&quot;bimg&quot;);\n            String fileName=part.getSubmittedFileName();\n            \n        \n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    \n    \n\n}\n\n</code></pre>\n<p>note:- it's a maven project.......\nhere are the dependencies which are in the project....</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n                &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet.jsp.jstl/jakarta.servlet.jsp.jstl-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n        \n\n            &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.22&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n</code></pre>\n"},{"tags":["java","css","vaadin","production","brotli"],"comments":[{"score":0,"post_type":"question","creation_date":1700138157,"post_id":77490856,"comment_id":136619228,"body_markdown":"I suppose the most straightforward way would be to set up a reverse proxy for that?","link":"https://stackoverflow.com/questions/77490856/how-to-enable-brotli-compression-for-static-resources-in-vaadin#comment136619228_77490856","body":"I suppose the most straightforward way would be to set up a reverse proxy for that?"},{"score":0,"post_type":"question","creation_date":1701019970,"post_id":77490856,"comment_id":136720450,"body_markdown":"Thank you good idea, but I like to keep for all kind of locations of my static images the same concept. I found in the meanwhile a solution.","link":"https://stackoverflow.com/questions/77490856/how-to-enable-brotli-compression-for-static-resources-in-vaadin#comment136720450_77490856","body":"Thank you good idea, but I like to keep for all kind of locations of my static images the same concept. I found in the meanwhile a solution."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701020366,"creation_date":1701020366,"answer_id":77552786,"question_id":77490856,"body_markdown":"Vaadin offers to overwrite the vite config in `vite.config.ts`. There I could add a plugin to compress the additional files.\r\n\r\ne.g. `vite.config.ts` :\r\n\r\n```\r\nimport brotli from &quot;rollup-plugin-brotli&quot;;\r\nimport {readdir, readFile} from &#39;node:fs/promises&#39;;\r\nimport {resolve} from &#39;node:path&#39;;\r\n\r\n// helper function to read files recursively\r\nasync function * getFiles(dir) {\r\n    for (const dirent of await readdir(dir, {withFileTypes: true})) {\r\n        const res = resolve(dir, dirent.name);\r\n        if (dirent.isDirectory()) {\r\n            yield * getFiles(res);\r\n        } else {\r\n            yield res;\r\n        }\r\n    }\r\n}\r\n\r\nlet targetfiles : string[] = []; \r\n// read the additional css file directory recursively \r\n// and add it as absolute file paths to the target files list.\r\nfor await (const file of getFiles(myAdditionalCSSFilesPath)) {\r\n    if (file.endsWith(&quot;.css&quot;)) {\r\n       targetfiles.push(file);\r\n    }\r\n}\r\n\r\nconst customConfig: UserConfigFn = (env) =&gt; ({\r\n  // Here you can add custom Vite parameters\r\n  // https://vitejs.dev/config/\r\n\tplugins: [\r\n      brotli({\r\n\t\tadditional : targetfiles,\r\n\t  }),\r\n    ]\r\n});\r\n```","link":"https://stackoverflow.com/questions/77490856/how-to-enable-brotli-compression-for-static-resources-in-vaadin/77552786#77552786","title":"How to enable brotli compression for static resources in Vaadin?","body":"<p>Vaadin offers to overwrite the vite config in <code>vite.config.ts</code>. There I could add a plugin to compress the additional files.</p>\n<p>e.g. <code>vite.config.ts</code> :</p>\n<pre><code>import brotli from &quot;rollup-plugin-brotli&quot;;\nimport {readdir, readFile} from 'node:fs/promises';\nimport {resolve} from 'node:path';\n\n// helper function to read files recursively\nasync function * getFiles(dir) {\n    for (const dirent of await readdir(dir, {withFileTypes: true})) {\n        const res = resolve(dir, dirent.name);\n        if (dirent.isDirectory()) {\n            yield * getFiles(res);\n        } else {\n            yield res;\n        }\n    }\n}\n\nlet targetfiles : string[] = []; \n// read the additional css file directory recursively \n// and add it as absolute file paths to the target files list.\nfor await (const file of getFiles(myAdditionalCSSFilesPath)) {\n    if (file.endsWith(&quot;.css&quot;)) {\n       targetfiles.push(file);\n    }\n}\n\nconst customConfig: UserConfigFn = (env) =&gt; ({\n  // Here you can add custom Vite parameters\n  // https://vitejs.dev/config/\n    plugins: [\n      brotli({\n        additional : targetfiles,\n      }),\n    ]\n});\n</code></pre>\n"}],"comment_count":2,"is_answered":false,"view_count":38,"answer_count":1,"score":0,"last_activity_date":1701020366,"creation_date":1700081674,"last_edit_date":1700167378,"question_id":77490856,"body_markdown":"I like to put some of the CSS file under the static java resources folder `${project}/src/main/resources/META-INF/resources` in Vaadin so I can share it across the different themes and can be loaded and exchanged dynamically at runtime when needed. See also \r\nhttps://vaadin.com/docs/latest/styling/advanced/loading-styles-dynamically \r\n\r\nMy Problem: When I do now a production build I noticed that these css files in the resource folder get not compressed for brotli.Only those which are in the `${project}/frontend/themes` folder seems to be picked up. Any idea what can be done so these css files will also be prepared?\r\n","link":"https://stackoverflow.com/questions/77490856/how-to-enable-brotli-compression-for-static-resources-in-vaadin","title":"How to enable brotli compression for static resources in Vaadin?","body":"<p>I like to put some of the CSS file under the static java resources folder <code>${project}/src/main/resources/META-INF/resources</code> in Vaadin so I can share it across the different themes and can be loaded and exchanged dynamically at runtime when needed. See also\n<a href=\"https://vaadin.com/docs/latest/styling/advanced/loading-styles-dynamically\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/styling/advanced/loading-styles-dynamically</a></p>\n<p>My Problem: When I do now a production build I noticed that these css files in the resource folder get not compressed for brotli.Only those which are in the <code>${project}/frontend/themes</code> folder seems to be picked up. Any idea what can be done so these css files will also be prepared?</p>\n"},{"tags":["java","apache-spark","hadoop","apache-spark-sql"],"comments":[{"score":0,"post_type":"question","creation_date":1700423578,"post_id":77512237,"comment_id":136649664,"body_markdown":"Provide evidence that file exists and that code has permissions to use it.","link":"https://stackoverflow.com/questions/77512237/org-apache-hadoop-fs-parentnotdirectoryexception-is-not-a-directory#comment136649664_77512237","body":"Provide evidence that file exists and that code has permissions to use it."},{"score":0,"post_type":"question","creation_date":1700424992,"post_id":77512237,"comment_id":136649805,"body_markdown":"@possum updated with evidence that file exists and stack trace contains the dataframe ```show()``` output that confirms the code has permission to use the input csv file","link":"https://stackoverflow.com/questions/77512237/org-apache-hadoop-fs-parentnotdirectoryexception-is-not-a-directory#comment136649805_77512237","body":"@possum updated with evidence that file exists and stack trace contains the dataframe <code>show()</code> output that confirms the code has permission to use the input csv file"}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701019880,"last_edit_date":1701019880,"creation_date":1700984112,"answer_id":77550839,"question_id":77512237,"body_markdown":"Update your logic to this:\r\n\r\n    import org.apache.spark.api.java.JavaSparkContext;\r\n    import org.apache.spark.sql.Dataset;\r\n    import org.apache.spark.sql.Row;\r\n    import org.apache.spark.sql.RowFactory;\r\n    import org.apache.spark.sql.SparkSession;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    public class InsertApp {\r\n    \r\n        public static void main(String[] args) {\r\n            InsertApp inApp = new InsertApp();\r\n            inApp.append();\r\n        }\r\n    \r\n        private void append() {\r\n            SparkSession spark = SparkSession.builder()\r\n                    .appName(&quot;InsertProcessor&quot;)\r\n                    .master(&quot;local[*]&quot;).getOrCreate();\r\n            Dataset&lt;Row&gt; df = spark.read()\r\n                    .option(&quot;inferSchema&quot;, true)\r\n                    .option(&quot;header&quot;, true)\r\n                    .csv(&quot;hdfs://localhost:8020/tmp/spark/input/csv/orders.csv&quot;);\r\n    \r\n            df.createOrReplaceTempView(&quot;order_view&quot;);\r\n            try(JavaSparkContext jsc = new JavaSparkContext(spark.sparkContext())) {\r\n                Dataset&lt;Row&gt; newDf = spark.createDataFrame(\r\n                        jsc.parallelize(\r\n                                Collections.singletonList(RowFactory.create(&quot;V&quot;, &quot;S&quot;, &quot;TN&quot;, 10, 20, 1551904299))\r\n                        ),\r\n                        df.schema()\r\n                );\r\n                newDf.createOrReplaceTempView(&quot;new_order_view&quot;);\r\n                Dataset&lt;Row&gt; df1 = spark.sql(&quot;SELECT * from order_view&quot;);\r\n                System.out.println(&quot;Data From Order View:&quot;);\r\n                df1.show();\r\n                Dataset&lt;Row&gt; df2 = spark.sql(&quot;SELECT * from new_order_view&quot;);\r\n                System.out.println(&quot;Data From New Order View:&quot;);\r\n                df2.show();\r\n                Dataset&lt;Row&gt; mergedDf = df1.union(df2).distinct();\r\n                mergedDf.createOrReplaceTempView(&quot;order_view&quot;);\r\n                Dataset&lt;Row&gt; df3 = spark.sql(&quot;SELECT * from order_view&quot;);\r\n                System.out.println(&quot;Data From Order View After Merging:&quot;);\r\n                df3.show();\r\n                df3.write().mode(SaveMode.Overwrite)\r\n                    .option(&quot;inferSchema&quot;, true)\r\n                    .option(&quot;header&quot;, true).csv(&quot;hdfs://localhost:8020/tmp/spark/input/csv/orders.csv&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nOutput :\r\n\r\n\r\n    Data From Order View:\r\n    +------------+--------+-----+--------+-------+----------+\r\n    |   firstName|lastName|state|quantity|revenue| timestamp|\r\n    +------------+--------+-----+--------+-------+----------+\r\n    |Jean Georges|  Perrin|   NC|       1|    300|1551903533|\r\n    |Jean Georges|  Perrin|   NC|       2|    120|1551903567|\r\n    |Jean Georges|  Perrin|   CA|       4|     75|1551903599|\r\n    |      Holden|   Karau|   CA|       6|     37|1551904299|\r\n    |       Ginni| Rometty|   NY|       7|     91|1551916792|\r\n    |      Holden|   Karau|   CA|       4|    153|1552876129|\r\n    +------------+--------+-----+--------+-------+----------+\r\n    \r\n    Data From New Order View:\r\n    +---------+--------+-----+--------+-------+----------+\r\n    |firstName|lastName|state|quantity|revenue| timestamp|\r\n    +---------+--------+-----+--------+-------+----------+\r\n    |        V|       S|   TN|      10|     20|1551904299|\r\n    +---------+--------+-----+--------+-------+----------+\r\n    \r\n    Data From Order View After Merging:\r\n    +------------+--------+-----+--------+-------+----------+\r\n    |   firstName|lastName|state|quantity|revenue| timestamp|\r\n    +------------+--------+-----+--------+-------+----------+\r\n    |Jean Georges|  Perrin|   CA|       4|     75|1551903599|\r\n    |       Ginni| Rometty|   NY|       7|     91|1551916792|\r\n    |Jean Georges|  Perrin|   NC|       1|    300|1551903533|\r\n    |      Holden|   Karau|   CA|       4|    153|1552876129|\r\n    |Jean Georges|  Perrin|   NC|       2|    120|1551903567|\r\n    |      Holden|   Karau|   CA|       6|     37|1551904299|\r\n    |           V|       S|   TN|      10|     20|1551904299|\r\n    +------------+--------+-----+--------+-------+----------+\r\n\r\nFew points to mention:\r\n\r\n- Use `csv` method to load `.csv` files instead of `load` method.\r\n- I have used `union` method to combine both rows from two different table views and taken the distinct of it by using `distinct` method and then replaced the existing data of **order_view** by newly created merged data to get the job done.\r\n\r\nHadoop UI Output (containing new merged data):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2] \r\n\r\nI guess this will be an easier way to approach. See if this helps. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7sY7Q.png\r\n  [2]: https://i.stack.imgur.com/ilYZW.png","link":"https://stackoverflow.com/questions/77512237/org-apache-hadoop-fs-parentnotdirectoryexception-is-not-a-directory/77550839#77550839","title":"org.apache.hadoop.fs.ParentNotDirectoryException - is not a directory","body":"<p>Update your logic to this:</p>\n<pre><code>import org.apache.spark.api.java.JavaSparkContext;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.RowFactory;\nimport org.apache.spark.sql.SparkSession;\n\nimport java.util.Collections;\n\npublic class InsertApp {\n\n    public static void main(String[] args) {\n        InsertApp inApp = new InsertApp();\n        inApp.append();\n    }\n\n    private void append() {\n        SparkSession spark = SparkSession.builder()\n                .appName(&quot;InsertProcessor&quot;)\n                .master(&quot;local[*]&quot;).getOrCreate();\n        Dataset&lt;Row&gt; df = spark.read()\n                .option(&quot;inferSchema&quot;, true)\n                .option(&quot;header&quot;, true)\n                .csv(&quot;hdfs://localhost:8020/tmp/spark/input/csv/orders.csv&quot;);\n\n        df.createOrReplaceTempView(&quot;order_view&quot;);\n        try(JavaSparkContext jsc = new JavaSparkContext(spark.sparkContext())) {\n            Dataset&lt;Row&gt; newDf = spark.createDataFrame(\n                    jsc.parallelize(\n                            Collections.singletonList(RowFactory.create(&quot;V&quot;, &quot;S&quot;, &quot;TN&quot;, 10, 20, 1551904299))\n                    ),\n                    df.schema()\n            );\n            newDf.createOrReplaceTempView(&quot;new_order_view&quot;);\n            Dataset&lt;Row&gt; df1 = spark.sql(&quot;SELECT * from order_view&quot;);\n            System.out.println(&quot;Data From Order View:&quot;);\n            df1.show();\n            Dataset&lt;Row&gt; df2 = spark.sql(&quot;SELECT * from new_order_view&quot;);\n            System.out.println(&quot;Data From New Order View:&quot;);\n            df2.show();\n            Dataset&lt;Row&gt; mergedDf = df1.union(df2).distinct();\n            mergedDf.createOrReplaceTempView(&quot;order_view&quot;);\n            Dataset&lt;Row&gt; df3 = spark.sql(&quot;SELECT * from order_view&quot;);\n            System.out.println(&quot;Data From Order View After Merging:&quot;);\n            df3.show();\n            df3.write().mode(SaveMode.Overwrite)\n                .option(&quot;inferSchema&quot;, true)\n                .option(&quot;header&quot;, true).csv(&quot;hdfs://localhost:8020/tmp/spark/input/csv/orders.csv&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Output :</p>\n<pre><code>Data From Order View:\n+------------+--------+-----+--------+-------+----------+\n|   firstName|lastName|state|quantity|revenue| timestamp|\n+------------+--------+-----+--------+-------+----------+\n|Jean Georges|  Perrin|   NC|       1|    300|1551903533|\n|Jean Georges|  Perrin|   NC|       2|    120|1551903567|\n|Jean Georges|  Perrin|   CA|       4|     75|1551903599|\n|      Holden|   Karau|   CA|       6|     37|1551904299|\n|       Ginni| Rometty|   NY|       7|     91|1551916792|\n|      Holden|   Karau|   CA|       4|    153|1552876129|\n+------------+--------+-----+--------+-------+----------+\n\nData From New Order View:\n+---------+--------+-----+--------+-------+----------+\n|firstName|lastName|state|quantity|revenue| timestamp|\n+---------+--------+-----+--------+-------+----------+\n|        V|       S|   TN|      10|     20|1551904299|\n+---------+--------+-----+--------+-------+----------+\n\nData From Order View After Merging:\n+------------+--------+-----+--------+-------+----------+\n|   firstName|lastName|state|quantity|revenue| timestamp|\n+------------+--------+-----+--------+-------+----------+\n|Jean Georges|  Perrin|   CA|       4|     75|1551903599|\n|       Ginni| Rometty|   NY|       7|     91|1551916792|\n|Jean Georges|  Perrin|   NC|       1|    300|1551903533|\n|      Holden|   Karau|   CA|       4|    153|1552876129|\n|Jean Georges|  Perrin|   NC|       2|    120|1551903567|\n|      Holden|   Karau|   CA|       6|     37|1551904299|\n|           V|       S|   TN|      10|     20|1551904299|\n+------------+--------+-----+--------+-------+----------+\n</code></pre>\n<p>Few points to mention:</p>\n<ul>\n<li>Use <code>csv</code> method to load <code>.csv</code> files instead of <code>load</code> method.</li>\n<li>I have used <code>union</code> method to combine both rows from two different table views and taken the distinct of it by using <code>distinct</code> method and then replaced the existing data of <strong>order_view</strong> by newly created merged data to get the job done.</li>\n</ul>\n<p>Hadoop UI Output (containing new merged data):</p>\n<p><a href=\"https://i.stack.imgur.com/7sY7Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7sY7Q.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ilYZW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ilYZW.png\" alt=\"enter image description here\" /></a></p>\n<p>I guess this will be an easier way to approach. See if this helps.</p>\n"}],"comment_count":2,"is_answered":true,"view_count":128,"answer_count":1,"score":0,"last_activity_date":1701019880,"creation_date":1700423237,"last_edit_date":1701000554,"question_id":77512237,"body_markdown":"I am trying to append new records into existing csv file using Spark SQL. \r\n\r\nGetting ```Exception in thread &quot;main&quot; org.apache.hadoop.fs.ParentNotDirectoryException: /tmp/spark/input/csv/orders.csv (is not a directory)``` as the input is a File and not a directory.\r\n\r\nSpark (Java) code and exception stack trace mentioned below.\r\n\r\nHow to resolve this?\r\n\r\n**Environment Info - Mac OS**\r\n\r\n    MyiCloud@MyMC someDir % uname -a\r\n    Darwin MyMC.local 21.6.0 Darwin Kernel Version 21.6.0: Fri Sep 15 16:17:23 PDT 2023; root:xnu-8020.240.18.703.5~1/RELEASE_X86_64 x86_64\r\n\r\n**Hadoop Environment Info**\r\n\r\n    MyiCloud@MyMC someDir % hadoop version\r\n\r\n    Hadoop 3.3.6\r\n    Source code repository https://github.com/apache/hadoop.git -r 1be78238728da9266a4f88195058f08fd012bf9c\r\n    Compiled by ubuntu on 2023-06-18T08:22Z\r\n    Compiled on platform linux-x86_64\r\n    Compiled with protoc 3.7.1\r\n    From source with checksum 5652179ad55f76cb287d9c633bb53bbd\r\n    This command was run using /usr/local/Cellar/hadoop/3.3.6/libexec/share/hadoop/common/hadoop-common-3.3.6.jar\r\n\r\n**File Permission - HDFS**\r\n\r\n    MyiCloud@MyMC sbin % hdfs dfs -ls /tmp/spark/input/csv/\r\n    2023-11-20 01:35:51,752 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n    Found 1 items\r\n    -rwxr-xr-x   1 MyiCloud supergroup        268 2023-11-20 00:58 /tmp/spark/input/csv/orders.csv\r\n\r\n**Input file - orders.csv**\r\n\r\n    firstName,lastName,state,quantity,revenue,timestamp\r\n    Jean Georges,Perrin,NC,1,300,1551903533\r\n    Jean Georges,Perrin,NC,2,120,1551903567\r\n    Jean Georges,Perrin,CA,4,75,1551903599\r\n    Holden,Karau,CA,6,37,1551904299\r\n    Ginni,Rometty,NY,7,91,1551916792\r\n    Holden,Karau,CA,4,153,1552876129\r\n\r\n**Apache Spark with Java Code**\r\n\r\n    package org.example.ch11;\r\n    \r\n    import org.apache.spark.api.java.JavaSparkContext;\r\n    import org.apache.spark.sql.Dataset;\r\n    import org.apache.spark.sql.Row;\r\n    import org.apache.spark.sql.RowFactory;\r\n    import org.apache.spark.sql.SparkSession;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    public class InsertApp {\r\n    \r\n        public static void main(String[] args) {\r\n            InsertApp inApp = new InsertApp();\r\n            inApp.append();\r\n        }\r\n    \r\n        private void append() {\r\n            SparkSession spark = SparkSession.builder()\r\n                    .appName(&quot;InsertProcessor&quot;)\r\n                    .master(&quot;local[*]&quot;).getOrCreate();\r\n            Dataset&lt;Row&gt; df = spark.read().format(&quot;csv&quot;)\r\n                    .option(&quot;inferSchema&quot;, true)\r\n                    .option(&quot;header&quot;, true)\r\n                    .load(&quot;hdfs://localhost:8020/tmp/spark/input/csv/orders.csv&quot;);\r\n            System.out.println(&quot;Printing csv content..&quot;);\r\n            df.show();\r\n    \r\n            df.createOrReplaceTempView(&quot;orders_view&quot;);\r\n            try(JavaSparkContext jsc = new JavaSparkContext(spark.sparkContext())) {\r\n                Dataset&lt;Row&gt; newDf = spark.createDataFrame(\r\n                        jsc.parallelize(\r\n                                Collections.singletonList(RowFactory.create(&quot;V&quot;, &quot;S&quot;, &quot;TN&quot;, 10, 20, 1551904299))\r\n                        ),\r\n                        df.schema()\r\n                );\r\n                newDf.createOrReplaceTempView(&quot;new_order_view&quot;);\r\n    \r\n                System.out.println(&quot;Inserting data into orders_view view from new_order_view view...&quot;);\r\n                Dataset&lt;Row&gt; mergedDf = spark.sql(&quot;INSERT INTO orders_view SELECT * FROM new_order_view&quot;);\r\n                mergedDf.show();\r\n                System.out.println(&quot;Completed...&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**Exception - Stack Trace**\r\n\r\n    Printing csv content..\r\n    23/11/20 01:38:10 INFO FileSourceStrategy: Pushed Filters: \r\n    23/11/20 01:38:10 INFO FileSourceStrategy: Post-Scan Filters: \r\n    23/11/20 01:38:10 INFO FileSourceStrategy: Output Data Schema: struct&lt;firstName: string, lastName: string, state: string, quantity: int, revenue: int ... 1 more field&gt;\r\n    23/11/20 01:38:10 INFO CodeGenerator: Code generated in 22.283375 ms\r\n    23/11/20 01:38:10 INFO MemoryStore: Block broadcast_4 stored as values in memory (estimated size 302.5 KiB, free 2003.6 MiB)\r\n    23/11/20 01:38:10 INFO MemoryStore: Block broadcast_4_piece0 stored as bytes in memory (estimated size 27.3 KiB, free 2003.6 MiB)\r\n    23/11/20 01:38:10 INFO BlockManagerInfo: Added broadcast_4_piece0 in memory on 192.168.0.6:49627 (size: 27.3 KiB, free: 2004.5 MiB)\r\n    23/11/20 01:38:10 INFO SparkContext: Created broadcast 4 from show at InsertApp.java:27\r\n    23/11/20 01:38:10 INFO FileSourceScanExec: Planning scan with bin packing, max size: 4194304 bytes, open cost is considered as scanning 4194304 bytes.\r\n    23/11/20 01:38:10 INFO SparkContext: Starting job: show at InsertApp.java:27\r\n    23/11/20 01:38:10 INFO DAGScheduler: Got job 2 (show at InsertApp.java:27) with 1 output partitions\r\n    23/11/20 01:38:10 INFO DAGScheduler: Final stage: ResultStage 2 (show at InsertApp.java:27)\r\n    23/11/20 01:38:10 INFO DAGScheduler: Parents of final stage: List()\r\n    23/11/20 01:38:10 INFO DAGScheduler: Missing parents: List()\r\n    23/11/20 01:38:10 INFO DAGScheduler: Submitting ResultStage 2 (MapPartitionsRDD[13] at show at InsertApp.java:27), which has no missing parents\r\n    23/11/20 01:38:10 INFO MemoryStore: Block broadcast_5 stored as values in memory (estimated size 14.4 KiB, free 2003.6 MiB)\r\n    23/11/20 01:38:10 INFO MemoryStore: Block broadcast_5_piece0 stored as bytes in memory (estimated size 6.8 KiB, free 2003.6 MiB)\r\n    23/11/20 01:38:10 INFO BlockManagerInfo: Added broadcast_5_piece0 in memory on 192.168.0.6:49627 (size: 6.8 KiB, free: 2004.5 MiB)\r\n    23/11/20 01:38:10 INFO SparkContext: Created broadcast 5 from broadcast at DAGScheduler.scala:1388\r\n    23/11/20 01:38:10 INFO DAGScheduler: Submitting 1 missing tasks from ResultStage 2 (MapPartitionsRDD[13] at show at InsertApp.java:27) (first 15 tasks are for partitions Vector(0))\r\n    23/11/20 01:38:10 INFO TaskSchedulerImpl: Adding task set 2.0 with 1 tasks resource profile 0\r\n    23/11/20 01:38:10 INFO TaskSetManager: Starting task 0.0 in stage 2.0 (TID 2) (192.168.0.6, executor driver, partition 0, NODE_LOCAL, 4877 bytes) taskResourceAssignments Map()\r\n    23/11/20 01:38:10 INFO Executor: Running task 0.0 in stage 2.0 (TID 2)\r\n    23/11/20 01:38:10 INFO BlockManagerInfo: Removed broadcast_3_piece0 on 192.168.0.6:49627 in memory (size: 7.7 KiB, free: 2004.5 MiB)\r\n    23/11/20 01:38:10 INFO FileScanRDD: Reading File path: hdfs://localhost:8020/tmp/spark/input/csv/orders.csv, range: 0-268, partition values: [empty row]\r\n    23/11/20 01:38:10 INFO CodeGenerator: Code generated in 19.008744 ms\r\n    23/11/20 01:38:10 INFO Executor: Finished task 0.0 in stage 2.0 (TID 2). 1789 bytes result sent to driver\r\n    23/11/20 01:38:10 INFO TaskSetManager: Finished task 0.0 in stage 2.0 (TID 2) in 115 ms on 192.168.0.6 (executor driver) (1/1)\r\n    23/11/20 01:38:10 INFO TaskSchedulerImpl: Removed TaskSet 2.0, whose tasks have all completed, from pool \r\n    23/11/20 01:38:10 INFO DAGScheduler: ResultStage 2 (show at InsertApp.java:27) finished in 0.141 s\r\n    23/11/20 01:38:10 INFO DAGScheduler: Job 2 is finished. Cancelling potential speculative or zombie tasks for this job\r\n    23/11/20 01:38:10 INFO TaskSchedulerImpl: Killing all running tasks in stage 2: Stage finished\r\n    23/11/20 01:38:10 INFO DAGScheduler: Job 2 finished: show at InsertApp.java:27, took 0.150319 s\r\n    23/11/20 01:38:10 INFO CodeGenerator: Code generated in 40.368014 ms\r\n    +------------+--------+-----+--------+-------+----------+\r\n    |   firstName|lastName|state|quantity|revenue| timestamp|\r\n    +------------+--------+-----+--------+-------+----------+\r\n    |Jean Georges|  Perrin|   NC|       1|    300|1551903533|\r\n    |Jean Georges|  Perrin|   NC|       2|    120|1551903567|\r\n    |Jean Georges|  Perrin|   CA|       4|     75|1551903599|\r\n    |      Holden|   Karau|   CA|       6|     37|1551904299|\r\n    |       Ginni| Rometty|   NY|       7|     91|1551916792|\r\n    |      Holden|   Karau|   CA|       4|    153|1552876129|\r\n    +------------+--------+-----+--------+-------+----------+\r\n    \r\n    Inserting data into orders_view view from new_order_view view...\r\n    23/11/20 01:38:10 INFO FileOutputCommitter: File Output Committer Algorithm version is 1\r\n    23/11/20 01:38:10 INFO FileOutputCommitter: FileOutputCommitter skip cleanup _temporary folders under output directory:false, ignore cleanup failures: false\r\n    23/11/20 01:38:10 INFO SQLHadoopMapReduceCommitProtocol: Using output committer class org.apache.hadoop.mapreduce.lib.output.FileOutputCommitter\r\n    23/11/20 01:38:10 INFO SparkUI: Stopped Spark web UI at http://192.168.0.6:4040\r\n    23/11/20 01:38:10 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\r\n    23/11/20 01:38:10 INFO MemoryStore: MemoryStore cleared\r\n    23/11/20 01:38:10 INFO BlockManager: BlockManager stopped\r\n    23/11/20 01:38:10 INFO BlockManagerMaster: BlockManagerMaster stopped\r\n    23/11/20 01:38:10 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\r\n    23/11/20 01:38:10 INFO SparkContext: Successfully stopped SparkContext\r\n    Exception in thread &quot;main&quot; org.apache.hadoop.fs.ParentNotDirectoryException: /tmp/spark/input/csv/orders.csv (is not a directory)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkIsDirectory(FSPermissionChecker.java:745)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkSimpleTraverse(FSPermissionChecker.java:736)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkTraverse(FSPermissionChecker.java:711)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1892)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1910)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.resolvePath(FSDirectory.java:727)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirMkdirOp.mkdirs(FSDirMkdirOp.java:51)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.mkdirs(FSNamesystem.java:3441)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.mkdirs(NameNodeRpcServer.java:1167)\r\n    \tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.mkdirs(ClientNamenodeProtocolServerSideTranslatorPB.java:742)\r\n    \tat org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:621)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:589)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:573)\r\n    \tat org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1227)\r\n    \tat org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1094)\r\n    \tat org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1017)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1899)\r\n    \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:3048)\r\n    \r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.apache.hadoop.ipc.RemoteException.instantiateException(RemoteException.java:121)\r\n    \tat org.apache.hadoop.ipc.RemoteException.unwrapRemoteException(RemoteException.java:88)\r\n    \tat org.apache.hadoop.hdfs.DFSClient.primitiveMkdir(DFSClient.java:2426)\r\n    \tat org.apache.hadoop.hdfs.DFSClient.mkdirs(DFSClient.java:2400)\r\n    \tat org.apache.hadoop.hdfs.DistributedFileSystem$27.doCall(DistributedFileSystem.java:1324)\r\n    \tat org.apache.hadoop.hdfs.DistributedFileSystem$27.doCall(DistributedFileSystem.java:1321)\r\n    \tat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\r\n    \tat org.apache.hadoop.hdfs.DistributedFileSystem.mkdirsInternal(DistributedFileSystem.java:1338)\r\n    \tat org.apache.hadoop.hdfs.DistributedFileSystem.mkdirs(DistributedFileSystem.java:1313)\r\n    \tat org.apache.hadoop.fs.FileSystem.mkdirs(FileSystem.java:2275)\r\n    \tat org.apache.hadoop.mapreduce.lib.output.FileOutputCommitter.setupJob(FileOutputCommitter.java:354)\r\n    \tat org.apache.spark.internal.io.HadoopMapReduceCommitProtocol.setupJob(HadoopMapReduceCommitProtocol.scala:178)\r\n    \tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:173)\r\n    \tat org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:188)\r\n    \tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:108)\r\n    \tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:106)\r\n    \tat org.apache.spark.sql.execution.command.DataWritingCommandExec.executeCollect(commands.scala:120)\r\n    \tat org.apache.spark.sql.Dataset.$anonfun$logicalPlan$1(Dataset.scala:228)\r\n    \tat org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3687)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n    \tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n    \tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n    \tat org.apache.spark.sql.Dataset.withAction(Dataset.scala:3685)\r\n    \tat org.apache.spark.sql.Dataset.&lt;init&gt;(Dataset.scala:228)\r\n    \tat org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:99)\r\n    \tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n    \tat org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:96)\r\n    \tat org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:618)\r\n    \tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n    \tat org.apache.spark.sql.SparkSession.sql(SparkSession.scala:613)\r\n    \tat org.example.ch11.InsertApp.append(InsertApp.java:40)\r\n    \tat org.example.ch11.InsertApp.main(InsertApp.java:15)\r\n    Caused by: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.fs.ParentNotDirectoryException): /tmp/spark/input/csv/orders.csv (is not a directory)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkIsDirectory(FSPermissionChecker.java:745)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkSimpleTraverse(FSPermissionChecker.java:736)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkTraverse(FSPermissionChecker.java:711)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1892)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1910)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirectory.resolvePath(FSDirectory.java:727)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSDirMkdirOp.mkdirs(FSDirMkdirOp.java:51)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.FSNamesystem.mkdirs(FSNamesystem.java:3441)\r\n    \tat org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.mkdirs(NameNodeRpcServer.java:1167)\r\n    \tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.mkdirs(ClientNamenodeProtocolServerSideTranslatorPB.java:742)\r\n    \tat org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:621)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:589)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:573)\r\n    \tat org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1227)\r\n    \tat org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1094)\r\n    \tat org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1017)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1899)\r\n    \tat org.apache.hadoop.ipc.Server$Handler.run(Server.java:3048)\r\n    \r\n    \tat org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)\r\n    \tat org.apache.hadoop.ipc.Client.call(Client.java:1457)\r\n    \tat org.apache.hadoop.ipc.Client.call(Client.java:1367)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)\r\n    \tat com.sun.proxy.$Proxy18.mkdirs(Unknown Source)\r\n    \tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.mkdirs(ClientNamenodeProtocolTranslatorPB.java:656)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)\r\n    \tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)\r\n    \tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)\r\n    \tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)\r\n    \tat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)\r\n    \tat com.sun.proxy.$Proxy19.mkdirs(Unknown Source)\r\n    \tat org.apache.hadoop.hdfs.DFSClient.primitiveMkdir(DFSClient.java:2424)\r\n    \t... 31 more\r\n    23/11/20 01:38:11 INFO ShutdownHookManager: Shutdown hook called\r\n    23/11/20 01:38:11 INFO ShutdownHookManager: Deleting directory /private/var/folders/6w/v2bcqfkd6kl5ylt9k5_q0lb80000gn/T/spark-cf226489-3921-439a-9653-b33159d3a230\r\n    \r\n    Process finished with exit code 1","link":"https://stackoverflow.com/questions/77512237/org-apache-hadoop-fs-parentnotdirectoryexception-is-not-a-directory","title":"org.apache.hadoop.fs.ParentNotDirectoryException - is not a directory","body":"<p>I am trying to append new records into existing csv file using Spark SQL.</p>\n<p>Getting <code>Exception in thread &quot;main&quot; org.apache.hadoop.fs.ParentNotDirectoryException: /tmp/spark/input/csv/orders.csv (is not a directory)</code> as the input is a File and not a directory.</p>\n<p>Spark (Java) code and exception stack trace mentioned below.</p>\n<p>How to resolve this?</p>\n<p><strong>Environment Info - Mac OS</strong></p>\n<pre><code>MyiCloud@MyMC someDir % uname -a\nDarwin MyMC.local 21.6.0 Darwin Kernel Version 21.6.0: Fri Sep 15 16:17:23 PDT 2023; root:xnu-8020.240.18.703.5~1/RELEASE_X86_64 x86_64\n</code></pre>\n<p><strong>Hadoop Environment Info</strong></p>\n<pre><code>MyiCloud@MyMC someDir % hadoop version\n\nHadoop 3.3.6\nSource code repository https://github.com/apache/hadoop.git -r 1be78238728da9266a4f88195058f08fd012bf9c\nCompiled by ubuntu on 2023-06-18T08:22Z\nCompiled on platform linux-x86_64\nCompiled with protoc 3.7.1\nFrom source with checksum 5652179ad55f76cb287d9c633bb53bbd\nThis command was run using /usr/local/Cellar/hadoop/3.3.6/libexec/share/hadoop/common/hadoop-common-3.3.6.jar\n</code></pre>\n<p><strong>File Permission - HDFS</strong></p>\n<pre><code>MyiCloud@MyMC sbin % hdfs dfs -ls /tmp/spark/input/csv/\n2023-11-20 01:35:51,752 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nFound 1 items\n-rwxr-xr-x   1 MyiCloud supergroup        268 2023-11-20 00:58 /tmp/spark/input/csv/orders.csv\n</code></pre>\n<p><strong>Input file - orders.csv</strong></p>\n<pre><code>firstName,lastName,state,quantity,revenue,timestamp\nJean Georges,Perrin,NC,1,300,1551903533\nJean Georges,Perrin,NC,2,120,1551903567\nJean Georges,Perrin,CA,4,75,1551903599\nHolden,Karau,CA,6,37,1551904299\nGinni,Rometty,NY,7,91,1551916792\nHolden,Karau,CA,4,153,1552876129\n</code></pre>\n<p><strong>Apache Spark with Java Code</strong></p>\n<pre><code>package org.example.ch11;\n\nimport org.apache.spark.api.java.JavaSparkContext;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.RowFactory;\nimport org.apache.spark.sql.SparkSession;\n\nimport java.util.Collections;\n\npublic class InsertApp {\n\n    public static void main(String[] args) {\n        InsertApp inApp = new InsertApp();\n        inApp.append();\n    }\n\n    private void append() {\n        SparkSession spark = SparkSession.builder()\n                .appName(&quot;InsertProcessor&quot;)\n                .master(&quot;local[*]&quot;).getOrCreate();\n        Dataset&lt;Row&gt; df = spark.read().format(&quot;csv&quot;)\n                .option(&quot;inferSchema&quot;, true)\n                .option(&quot;header&quot;, true)\n                .load(&quot;hdfs://localhost:8020/tmp/spark/input/csv/orders.csv&quot;);\n        System.out.println(&quot;Printing csv content..&quot;);\n        df.show();\n\n        df.createOrReplaceTempView(&quot;orders_view&quot;);\n        try(JavaSparkContext jsc = new JavaSparkContext(spark.sparkContext())) {\n            Dataset&lt;Row&gt; newDf = spark.createDataFrame(\n                    jsc.parallelize(\n                            Collections.singletonList(RowFactory.create(&quot;V&quot;, &quot;S&quot;, &quot;TN&quot;, 10, 20, 1551904299))\n                    ),\n                    df.schema()\n            );\n            newDf.createOrReplaceTempView(&quot;new_order_view&quot;);\n\n            System.out.println(&quot;Inserting data into orders_view view from new_order_view view...&quot;);\n            Dataset&lt;Row&gt; mergedDf = spark.sql(&quot;INSERT INTO orders_view SELECT * FROM new_order_view&quot;);\n            mergedDf.show();\n            System.out.println(&quot;Completed...&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Exception - Stack Trace</strong></p>\n<pre><code>Printing csv content..\n23/11/20 01:38:10 INFO FileSourceStrategy: Pushed Filters: \n23/11/20 01:38:10 INFO FileSourceStrategy: Post-Scan Filters: \n23/11/20 01:38:10 INFO FileSourceStrategy: Output Data Schema: struct&lt;firstName: string, lastName: string, state: string, quantity: int, revenue: int ... 1 more field&gt;\n23/11/20 01:38:10 INFO CodeGenerator: Code generated in 22.283375 ms\n23/11/20 01:38:10 INFO MemoryStore: Block broadcast_4 stored as values in memory (estimated size 302.5 KiB, free 2003.6 MiB)\n23/11/20 01:38:10 INFO MemoryStore: Block broadcast_4_piece0 stored as bytes in memory (estimated size 27.3 KiB, free 2003.6 MiB)\n23/11/20 01:38:10 INFO BlockManagerInfo: Added broadcast_4_piece0 in memory on 192.168.0.6:49627 (size: 27.3 KiB, free: 2004.5 MiB)\n23/11/20 01:38:10 INFO SparkContext: Created broadcast 4 from show at InsertApp.java:27\n23/11/20 01:38:10 INFO FileSourceScanExec: Planning scan with bin packing, max size: 4194304 bytes, open cost is considered as scanning 4194304 bytes.\n23/11/20 01:38:10 INFO SparkContext: Starting job: show at InsertApp.java:27\n23/11/20 01:38:10 INFO DAGScheduler: Got job 2 (show at InsertApp.java:27) with 1 output partitions\n23/11/20 01:38:10 INFO DAGScheduler: Final stage: ResultStage 2 (show at InsertApp.java:27)\n23/11/20 01:38:10 INFO DAGScheduler: Parents of final stage: List()\n23/11/20 01:38:10 INFO DAGScheduler: Missing parents: List()\n23/11/20 01:38:10 INFO DAGScheduler: Submitting ResultStage 2 (MapPartitionsRDD[13] at show at InsertApp.java:27), which has no missing parents\n23/11/20 01:38:10 INFO MemoryStore: Block broadcast_5 stored as values in memory (estimated size 14.4 KiB, free 2003.6 MiB)\n23/11/20 01:38:10 INFO MemoryStore: Block broadcast_5_piece0 stored as bytes in memory (estimated size 6.8 KiB, free 2003.6 MiB)\n23/11/20 01:38:10 INFO BlockManagerInfo: Added broadcast_5_piece0 in memory on 192.168.0.6:49627 (size: 6.8 KiB, free: 2004.5 MiB)\n23/11/20 01:38:10 INFO SparkContext: Created broadcast 5 from broadcast at DAGScheduler.scala:1388\n23/11/20 01:38:10 INFO DAGScheduler: Submitting 1 missing tasks from ResultStage 2 (MapPartitionsRDD[13] at show at InsertApp.java:27) (first 15 tasks are for partitions Vector(0))\n23/11/20 01:38:10 INFO TaskSchedulerImpl: Adding task set 2.0 with 1 tasks resource profile 0\n23/11/20 01:38:10 INFO TaskSetManager: Starting task 0.0 in stage 2.0 (TID 2) (192.168.0.6, executor driver, partition 0, NODE_LOCAL, 4877 bytes) taskResourceAssignments Map()\n23/11/20 01:38:10 INFO Executor: Running task 0.0 in stage 2.0 (TID 2)\n23/11/20 01:38:10 INFO BlockManagerInfo: Removed broadcast_3_piece0 on 192.168.0.6:49627 in memory (size: 7.7 KiB, free: 2004.5 MiB)\n23/11/20 01:38:10 INFO FileScanRDD: Reading File path: hdfs://localhost:8020/tmp/spark/input/csv/orders.csv, range: 0-268, partition values: [empty row]\n23/11/20 01:38:10 INFO CodeGenerator: Code generated in 19.008744 ms\n23/11/20 01:38:10 INFO Executor: Finished task 0.0 in stage 2.0 (TID 2). 1789 bytes result sent to driver\n23/11/20 01:38:10 INFO TaskSetManager: Finished task 0.0 in stage 2.0 (TID 2) in 115 ms on 192.168.0.6 (executor driver) (1/1)\n23/11/20 01:38:10 INFO TaskSchedulerImpl: Removed TaskSet 2.0, whose tasks have all completed, from pool \n23/11/20 01:38:10 INFO DAGScheduler: ResultStage 2 (show at InsertApp.java:27) finished in 0.141 s\n23/11/20 01:38:10 INFO DAGScheduler: Job 2 is finished. Cancelling potential speculative or zombie tasks for this job\n23/11/20 01:38:10 INFO TaskSchedulerImpl: Killing all running tasks in stage 2: Stage finished\n23/11/20 01:38:10 INFO DAGScheduler: Job 2 finished: show at InsertApp.java:27, took 0.150319 s\n23/11/20 01:38:10 INFO CodeGenerator: Code generated in 40.368014 ms\n+------------+--------+-----+--------+-------+----------+\n|   firstName|lastName|state|quantity|revenue| timestamp|\n+------------+--------+-----+--------+-------+----------+\n|Jean Georges|  Perrin|   NC|       1|    300|1551903533|\n|Jean Georges|  Perrin|   NC|       2|    120|1551903567|\n|Jean Georges|  Perrin|   CA|       4|     75|1551903599|\n|      Holden|   Karau|   CA|       6|     37|1551904299|\n|       Ginni| Rometty|   NY|       7|     91|1551916792|\n|      Holden|   Karau|   CA|       4|    153|1552876129|\n+------------+--------+-----+--------+-------+----------+\n\nInserting data into orders_view view from new_order_view view...\n23/11/20 01:38:10 INFO FileOutputCommitter: File Output Committer Algorithm version is 1\n23/11/20 01:38:10 INFO FileOutputCommitter: FileOutputCommitter skip cleanup _temporary folders under output directory:false, ignore cleanup failures: false\n23/11/20 01:38:10 INFO SQLHadoopMapReduceCommitProtocol: Using output committer class org.apache.hadoop.mapreduce.lib.output.FileOutputCommitter\n23/11/20 01:38:10 INFO SparkUI: Stopped Spark web UI at http://192.168.0.6:4040\n23/11/20 01:38:10 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\n23/11/20 01:38:10 INFO MemoryStore: MemoryStore cleared\n23/11/20 01:38:10 INFO BlockManager: BlockManager stopped\n23/11/20 01:38:10 INFO BlockManagerMaster: BlockManagerMaster stopped\n23/11/20 01:38:10 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\n23/11/20 01:38:10 INFO SparkContext: Successfully stopped SparkContext\nException in thread &quot;main&quot; org.apache.hadoop.fs.ParentNotDirectoryException: /tmp/spark/input/csv/orders.csv (is not a directory)\n    at org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkIsDirectory(FSPermissionChecker.java:745)\n    at org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkSimpleTraverse(FSPermissionChecker.java:736)\n    at org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkTraverse(FSPermissionChecker.java:711)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1892)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1910)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirectory.resolvePath(FSDirectory.java:727)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirMkdirOp.mkdirs(FSDirMkdirOp.java:51)\n    at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.mkdirs(FSNamesystem.java:3441)\n    at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.mkdirs(NameNodeRpcServer.java:1167)\n    at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.mkdirs(ClientNamenodeProtocolServerSideTranslatorPB.java:742)\n    at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:621)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:589)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:573)\n    at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1227)\n    at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1094)\n    at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1017)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1899)\n    at org.apache.hadoop.ipc.Server$Handler.run(Server.java:3048)\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.apache.hadoop.ipc.RemoteException.instantiateException(RemoteException.java:121)\n    at org.apache.hadoop.ipc.RemoteException.unwrapRemoteException(RemoteException.java:88)\n    at org.apache.hadoop.hdfs.DFSClient.primitiveMkdir(DFSClient.java:2426)\n    at org.apache.hadoop.hdfs.DFSClient.mkdirs(DFSClient.java:2400)\n    at org.apache.hadoop.hdfs.DistributedFileSystem$27.doCall(DistributedFileSystem.java:1324)\n    at org.apache.hadoop.hdfs.DistributedFileSystem$27.doCall(DistributedFileSystem.java:1321)\n    at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\n    at org.apache.hadoop.hdfs.DistributedFileSystem.mkdirsInternal(DistributedFileSystem.java:1338)\n    at org.apache.hadoop.hdfs.DistributedFileSystem.mkdirs(DistributedFileSystem.java:1313)\n    at org.apache.hadoop.fs.FileSystem.mkdirs(FileSystem.java:2275)\n    at org.apache.hadoop.mapreduce.lib.output.FileOutputCommitter.setupJob(FileOutputCommitter.java:354)\n    at org.apache.spark.internal.io.HadoopMapReduceCommitProtocol.setupJob(HadoopMapReduceCommitProtocol.scala:178)\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:173)\n    at org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:188)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:108)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:106)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.executeCollect(commands.scala:120)\n    at org.apache.spark.sql.Dataset.$anonfun$logicalPlan$1(Dataset.scala:228)\n    at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3687)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n    at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3685)\n    at org.apache.spark.sql.Dataset.&lt;init&gt;(Dataset.scala:228)\n    at org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:99)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:96)\n    at org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:618)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.SparkSession.sql(SparkSession.scala:613)\n    at org.example.ch11.InsertApp.append(InsertApp.java:40)\n    at org.example.ch11.InsertApp.main(InsertApp.java:15)\nCaused by: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.fs.ParentNotDirectoryException): /tmp/spark/input/csv/orders.csv (is not a directory)\n    at org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkIsDirectory(FSPermissionChecker.java:745)\n    at org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkSimpleTraverse(FSPermissionChecker.java:736)\n    at org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker.checkTraverse(FSPermissionChecker.java:711)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1892)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirectory.checkTraverse(FSDirectory.java:1910)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirectory.resolvePath(FSDirectory.java:727)\n    at org.apache.hadoop.hdfs.server.namenode.FSDirMkdirOp.mkdirs(FSDirMkdirOp.java:51)\n    at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.mkdirs(FSNamesystem.java:3441)\n    at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.mkdirs(NameNodeRpcServer.java:1167)\n    at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.mkdirs(ClientNamenodeProtocolServerSideTranslatorPB.java:742)\n    at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:621)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:589)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:573)\n    at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1227)\n    at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1094)\n    at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1017)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1899)\n    at org.apache.hadoop.ipc.Server$Handler.run(Server.java:3048)\n\n    at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)\n    at org.apache.hadoop.ipc.Client.call(Client.java:1457)\n    at org.apache.hadoop.ipc.Client.call(Client.java:1367)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)\n    at com.sun.proxy.$Proxy18.mkdirs(Unknown Source)\n    at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.mkdirs(ClientNamenodeProtocolTranslatorPB.java:656)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)\n    at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)\n    at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)\n    at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)\n    at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)\n    at com.sun.proxy.$Proxy19.mkdirs(Unknown Source)\n    at org.apache.hadoop.hdfs.DFSClient.primitiveMkdir(DFSClient.java:2424)\n    ... 31 more\n23/11/20 01:38:11 INFO ShutdownHookManager: Shutdown hook called\n23/11/20 01:38:11 INFO ShutdownHookManager: Deleting directory /private/var/folders/6w/v2bcqfkd6kl5ylt9k5_q0lb80000gn/T/spark-cf226489-3921-439a-9653-b33159d3a230\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","junit","junit5"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701018825,"creation_date":1701018825,"answer_id":77552684,"question_id":77551820,"body_markdown":"The [example](https://junit.org/junit5/docs/current/user-guide/#extensions-execution-order-wrapping-behavior) using an `AbstractDatabaseTest` is there to demonstrate that &quot;JUnit Jupiter also [in addition to registered extensions] guarantees wrapping behavior within class and interface hierarchies […]&quot;.\r\n\r\nFrom the [user guide](https://junit.org/junit5/docs/snapshot/user-guide/#overview-what-is-junit-5):\r\n\r\n&gt;**JUnit Jupiter** is the combination of the [programming model](https://junit.org/junit5/docs/snapshot/user-guide/#writing-tests) and [extension model](https://junit.org/junit5/docs/snapshot/user-guide/#extensions) for writing tests […]\r\n\r\nExtensions are a core JUnit Jupiter feature and are considered more idiomatic than using inheritance.\r\n\r\nWhile JUnit Jupiter also supports inheritance (many annotations are [`@Inherited`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Inherited.html)), the extensions mechanism follows the principle of [composition over inheritance](https://en.wikipedia.org/wiki/Composition_over_inheritance). This gives you, for instance, more flexibility as you can use multiple extensions, whereas inheritance is limited to a single class.","link":"https://stackoverflow.com/questions/77551820/junit-5-code-configuration-reuse-should-i-use-abstract-test-class-or-an-extensi/77552684#77552684","title":"junit 5 code/configuration reuse. should i use abstract test class or an extension?","body":"<p>The <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-execution-order-wrapping-behavior\" rel=\"nofollow noreferrer\">example</a> using an <code>AbstractDatabaseTest</code> is there to demonstrate that &quot;JUnit Jupiter also [in addition to registered extensions] guarantees wrapping behavior within class and interface hierarchies […]&quot;.</p>\n<p>From the <a href=\"https://junit.org/junit5/docs/snapshot/user-guide/#overview-what-is-junit-5\" rel=\"nofollow noreferrer\">user guide</a>:</p>\n<blockquote>\n<p><strong>JUnit Jupiter</strong> is the combination of the <a href=\"https://junit.org/junit5/docs/snapshot/user-guide/#writing-tests\" rel=\"nofollow noreferrer\">programming model</a> and <a href=\"https://junit.org/junit5/docs/snapshot/user-guide/#extensions\" rel=\"nofollow noreferrer\">extension model</a> for writing tests […]</p>\n</blockquote>\n<p>Extensions are a core JUnit Jupiter feature and are considered more idiomatic than using inheritance.</p>\n<p>While JUnit Jupiter also supports inheritance (many annotations are <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Inherited.html\" rel=\"nofollow noreferrer\"><code>@Inherited</code></a>), the extensions mechanism follows the principle of <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">composition over inheritance</a>. This gives you, for instance, more flexibility as you can use multiple extensions, whereas inheritance is limited to a single class.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":49,"answer_count":1,"score":1,"last_activity_date":1701018825,"creation_date":1701004507,"question_id":77551820,"body_markdown":"junit 5 docs is using [AbstractDatabaseTests](https://junit.org/junit5/docs/current/user-guide/#:~:text=AbstractDatabaseTests)  \r\n\r\nbut i remember recommended way for junit 4 was to use rules rather than extending classes.","link":"https://stackoverflow.com/questions/77551820/junit-5-code-configuration-reuse-should-i-use-abstract-test-class-or-an-extensi","title":"junit 5 code/configuration reuse. should i use abstract test class or an extension?","body":"<p>junit 5 docs is using <a href=\"https://junit.org/junit5/docs/current/user-guide/#:%7E:text=AbstractDatabaseTests\" rel=\"nofollow noreferrer\">AbstractDatabaseTests</a></p>\n<p>but i remember recommended way for junit 4 was to use rules rather than extending classes.</p>\n"},{"tags":["java","android","android-camerax"],"comments":[{"score":0,"post_type":"question","creation_date":1700130811,"post_id":77493976,"comment_id":136617987,"body_markdown":"Can you share the crash log with us?","link":"https://stackoverflow.com/questions/77493976/android-camerax-crahses-on-second-launch-of-the-intent-on-physical-devices-but-i#comment136617987_77493976","body":"Can you share the crash log with us?"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701017868,"creation_date":1701017868,"answer_id":77552623,"question_id":77493976,"body_markdown":"You are trying to get the display rotation before the display is ready. Usually, you don&#39;t even have to set the target rotation. If absent, CameraX will use the default display&#39;s rotation.\r\n\r\nOtherwise, there are 2 ways that you can try:\r\n\r\n1) You can handle it yourself by waiting until the display is ready, or\r\n\r\n2) You can use the high level API [CameraController](https://developer.android.com/reference/androidx/camera/view/CameraController) which handles the rotation for you.","link":"https://stackoverflow.com/questions/77493976/android-camerax-crahses-on-second-launch-of-the-intent-on-physical-devices-but-i/77552623#77552623","title":"Android CameraX crahses on second launch of the intent on physical devices but it works fine on the emulator. What could be the issues here?","body":"<p>You are trying to get the display rotation before the display is ready. Usually, you don't even have to set the target rotation. If absent, CameraX will use the default display's rotation.</p>\n<p>Otherwise, there are 2 ways that you can try:</p>\n<ol>\n<li><p>You can handle it yourself by waiting until the display is ready, or</p>\n</li>\n<li><p>You can use the high level API <a href=\"https://developer.android.com/reference/androidx/camera/view/CameraController\" rel=\"nofollow noreferrer\">CameraController</a> which handles the rotation for you.</p>\n</li>\n</ol>\n"}],"comment_count":1,"is_answered":false,"view_count":27,"answer_count":1,"score":0,"last_activity_date":1701017868,"creation_date":1700130039,"last_edit_date":1700153738,"question_id":77493976,"body_markdown":"I was implementing CameraX into camera class and cameraAcvitity class such as    \r\n\r\nThis is the activity launches the cameraX\r\n```\r\n\r\n/**\r\n * Represents a custom camera activity. This activity allows the user to capture images using the device&#39;s camera.\r\n */\r\npublic class CustomCameraActivity extends AppCompatActivity {\r\n    private CustomCamera customCamera;\r\n    private PreviewView previewView;\r\n    private ImageView capturedImage;\r\n    private Button okButton;\r\n    private Button reTryButton;\r\n\r\n    private ImageButton captureBtn,flipCameraBtn;\r\n\r\n    // Asking for Permission to capture Camera\r\n    private final ActivityResultLauncher&lt;String&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), result -&gt; {\r\n        if (result) {\r\n            startCamera();\r\n        }\r\n    });\r\n\r\n\r\n    /**\r\n     * Initializes the activity, sets up the camera and the buttons.\r\n     *\r\n     * @param savedInstanceState If the activity is being re-initialized after previously being shut down, this contains the data it most recently supplied in onSaveInstanceState(Bundle). Otherwise, it is null.\r\n     */\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_custom_camera);\r\n        int cameraFacing = CameraSelector.LENS_FACING_BACK;\r\n        previewView = findViewById(R.id.customPreview);\r\n        captureBtn = findViewById(R.id.capture_btn);\r\n        okButton = findViewById(R.id.ok_btn);\r\n        reTryButton = findViewById(R.id.retry_btn);\r\n        capturedImage = findViewById(R.id.capture_image);\r\n        flipCameraBtn = findViewById(R.id.flipCamera_btn);\r\n        if (ContextCompat.checkSelfPermission(CustomCameraActivity.this, android.Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n            activityResultLauncher.launch(android.Manifest.permission.CAMERA);\r\n        } else {\r\n            startCamera();\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Starts the camera and sets up the capture and flip camera buttons.\r\n     */\r\n    private void startCamera() {\r\n        // Initialize your custom CameraX instance\r\n        previewView.setVisibility(View.VISIBLE);\r\n        captureBtn.setVisibility(View.VISIBLE);\r\n        flipCameraBtn.setVisibility(View.VISIBLE);\r\n        okButton.setVisibility(View.INVISIBLE);\r\n        reTryButton.setVisibility(View.INVISIBLE);\r\n        capturedImage.setVisibility(View.INVISIBLE);\r\n        customCamera = new CustomCamera(previewView);\r\n        customCamera.startCamera(this);\r\n        captureBtn.setOnClickListener(v -&gt; captureImage());\r\n        flipCameraBtn.setOnClickListener(view -&gt; {\r\n            customCamera.flipCamera();\r\n            customCamera.startCamera(CustomCameraActivity.this);\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     *\r\n     * Starts the camera and sets up the capture and flip camera buttons.\r\n     *\r\n     */\r\n    private void captureImage() {\r\n        final File photoFile = new File(getExternalFilesDir(null), System.currentTimeMillis() + &quot;.jpg&quot;);\r\n        //File photoFile = createImageFile();\r\n\r\n        ImageCapture.OnImageSavedCallback callback = new ImageCapture.OnImageSavedCallback() {\r\n               /**\r\n                 * Sets buttons to visible or invisible for an image\r\n                 * @param outputFileResults the image that was taken\r\n                 */\r\n\r\n            @Override\r\n            public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\r\n                runOnUiThread(() -&gt; {\r\n                    Uri imageUri = outputFileResults.getSavedUri();\r\n                    previewView.setVisibility(View.INVISIBLE);\r\n                    captureBtn.setVisibility(View.INVISIBLE);\r\n                    flipCameraBtn.setVisibility(View.INVISIBLE);\r\n                    okButton.setVisibility(View.VISIBLE);\r\n                    reTryButton.setVisibility(View.VISIBLE);\r\n                    capturedImage.setVisibility(View.VISIBLE);\r\n                    capturedImage.setImageURI(imageUri);\r\n                    okButton.setOnClickListener(v -&gt; {\r\n                        Toast.makeText(CustomCameraActivity.this, &quot;ImageSaved: &quot;, Toast.LENGTH_SHORT).show();\r\n                        Uri imageUri1 = outputFileResults.getSavedUri();\r\n                        Intent resultIntent = new Intent();\r\n                        resultIntent.setData(imageUri1);\r\n                        setResult(Activity.RESULT_OK, resultIntent);\r\n                        finish();\r\n                    });\r\n                    reTryButton.setOnClickListener(v -&gt; startCamera());\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onError(@NonNull ImageCaptureException exception) {\r\n                // Handle error\r\n                runOnUiThread(() -&gt; Toast.makeText(CustomCameraActivity.this, &quot;Image saved at: &quot; + photoFile.getPath(), Toast.LENGTH_SHORT).show());\r\n\r\n            }\r\n        };\r\n        customCamera.captureImage(photoFile, callback);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param height the height of the screen on camera(Y axis)\r\n     * @param width the width of the screen on camera(X axis)\r\n     * @return AspectRatio that the ratio of camera in scale\r\n     */\r\n    private int aspectRatio(int width, int height) {\r\n        double previewRatio = (double) Math.max(width, height) / Math.min(width, height);\r\n        if (Math.abs(previewRatio - 4.0 / 3.0) &lt;= Math.abs(previewRatio - 16.0 / 9.0)) {\r\n            return AspectRatio.RATIO_4_3;\r\n        }\r\n        return AspectRatio.RATIO_16_9;\r\n    }\r\n\r\n    /**\r\n     * Creates an image file with a unique name in the &quot;CameraXImages&quot; directory.\r\n     *\r\n     * @return The created image file.\r\n     */\r\n    private File createImageFile() {\r\n        // Create an image file name\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.getDefault()).format(new Date());\r\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n        File storageDir = new File(getExternalFilesDir(null), &quot;CameraXImages&quot;);\r\n\r\n        try {\r\n            File image = File.createTempFile(\r\n                    imageFileName,  /* prefix */\r\n                    &quot;.jpg&quot;,         /* suffix */\r\n                    storageDir      /* directory */\r\n            );\r\n\r\n            String currentPhotoPath = image.getAbsolutePath();\r\n            return image;\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nThe customCameraX class is:\r\n```\r\n\r\n\r\n/**\r\n * Represents a custom camera that can capture images and switch between front and back camera.\r\n */\r\npublic class CustomCamera {\r\n\r\n    private PreviewView previewView;\r\n    private ImageCapture imageCapture;\r\n    private Executor executor = Executors.newSingleThreadExecutor();\r\n    private int cameraFacing;\r\n    ProcessCameraProvider cameraProvider;\r\n\r\n    /**\r\n     * Constructs a new CustomCamera with the given PreviewView.\r\n     *\r\n     * @param previewView The PreviewView where the camera preview will be displayed.\r\n     */\r\n    public CustomCamera(PreviewView previewView) {\r\n        this.previewView = previewView;\r\n        this.cameraFacing=CameraSelector.LENS_FACING_BACK;\r\n    }\r\n\r\n    /**\r\n     * Flips the camera from back to front, or from front to back.\r\n     */\r\n    public void flipCamera(){\r\n        if(this.cameraFacing == CameraSelector.LENS_FACING_BACK){\r\n            this.cameraFacing= CameraSelector.LENS_FACING_FRONT;\r\n        }\r\n        else{\r\n            this.cameraFacing=CameraSelector.LENS_FACING_BACK;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Starts the camera and binds it to the lifecycle of the given LifecycleOwner.\r\n     *\r\n     * @param lifecycleOwner The LifecycleOwner that the camera is bound to.\r\n     */\r\n    public void startCamera(LifecycleOwner lifecycleOwner) {\r\n        ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(previewView.getContext());\r\n\r\n        cameraProviderFuture.addListener(() -&gt; {\r\n            try {\r\n                 cameraProvider = cameraProviderFuture.get();\r\n\r\n                // Set up the camera use cases\r\n                bindCameraUseCases(lifecycleOwner);\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }, ContextCompat.getMainExecutor(previewView.getContext()));\r\n    }\r\n\r\n    /**\r\n     * Binds the camera use cases to the given ProcessCameraProvider and LifecycleOwner.\r\n     * @param lifecycleOwner The LifecycleOwner that the camera use cases are bound to.\r\n     */\r\n    private void bindCameraUseCases(LifecycleOwner lifecycleOwner) {\r\n        Preview preview = new Preview.Builder().build();\r\n        CameraSelector cameraSelector = new CameraSelector.Builder()\r\n                .requireLensFacing(cameraFacing)\r\n                .build();\r\n\r\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n\r\n        imageCapture = new ImageCapture.Builder()\r\n                .setTargetRotation(previewView.getDisplay().getRotation())\r\n                .build();\r\n\r\n        cameraProvider.unbindAll();\r\n        cameraProvider.bindToLifecycle(lifecycleOwner, cameraSelector, preview, imageCapture);\r\n    }\r\n    /**\r\n     * Captures an image and saves it to the given file. If the image capture is not initialized, this method does nothing.\r\n     *\r\n     * @param outputFile The file where the image will be saved.\r\n     * @param callback The callback that will be invoked after the image has been captured.\r\n     */\r\n    public void captureImage(File outputFile, ImageCapture.OnImageSavedCallback callback) {\r\n        if (imageCapture != null) {\r\n            ImageCapture.OutputFileOptions outputOptions = new ImageCapture.OutputFileOptions.Builder(outputFile).build();\r\n            imageCapture.takePicture(outputOptions, executor, callback);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nI am starting this activity as `pictureActivityResultLauncher.launch(cameraIntent)` and recieve the data as\r\n```\r\n  ActivityResultLauncher&lt;Intent&gt; pictureActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        // There are no request codes\r\n                        Intent data = result.getData();\r\n                        ......\r\n                      }\r\n            });\r\n       \r\n```\r\nWhen I run on the android emulator on android studio, it worked fine. However when I connect to the actual devices and first picture works fine but it crashes on the second launch of camera intent.\r\nI tried to solve it by creating releasing methods that unbinds the cameraProvider in camera class and release it when the the camera activity closes but it does not make any changes. I am still quite not sure why it crashes on physical devices only not in the emulator the log says\r\n\r\n&gt; FATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.team29project, PID: 29992\r\n                                                                                                    java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.view.Display.getRotation()&#39; on a null object reference\r\n                                                                                                    \tat com.example.team29project.Model.CustomCamera.bindCameraUseCases(CustomCamera.java:85)\r\n                                                                                                    \tat com.example.team29project.Model.CustomCamera.lambda$startCamera$0$com-example-team29project-Model-CustomCamera(CustomCamera.java:65)\r\n                                                                                                    \tat com.example.team29project.Model.CustomCamera$$ExternalSyntheticLambda0.run(Unknown Source:6)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:942)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:226)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:313)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8762)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\r\n\r\n\r\n\r\nEdit: I figured it out. It was the setTargetRotation from bindCamerauUseCases methods. I removed it and it works fine now.","link":"https://stackoverflow.com/questions/77493976/android-camerax-crahses-on-second-launch-of-the-intent-on-physical-devices-but-i","title":"Android CameraX crahses on second launch of the intent on physical devices but it works fine on the emulator. What could be the issues here?","body":"<p>I was implementing CameraX into camera class and cameraAcvitity class such as</p>\n<p>This is the activity launches the cameraX</p>\n<pre><code>\n/**\n * Represents a custom camera activity. This activity allows the user to capture images using the device's camera.\n */\npublic class CustomCameraActivity extends AppCompatActivity {\n    private CustomCamera customCamera;\n    private PreviewView previewView;\n    private ImageView capturedImage;\n    private Button okButton;\n    private Button reTryButton;\n\n    private ImageButton captureBtn,flipCameraBtn;\n\n    // Asking for Permission to capture Camera\n    private final ActivityResultLauncher&lt;String&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), result -&gt; {\n        if (result) {\n            startCamera();\n        }\n    });\n\n\n    /**\n     * Initializes the activity, sets up the camera and the buttons.\n     *\n     * @param savedInstanceState If the activity is being re-initialized after previously being shut down, this contains the data it most recently supplied in onSaveInstanceState(Bundle). Otherwise, it is null.\n     */\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_custom_camera);\n        int cameraFacing = CameraSelector.LENS_FACING_BACK;\n        previewView = findViewById(R.id.customPreview);\n        captureBtn = findViewById(R.id.capture_btn);\n        okButton = findViewById(R.id.ok_btn);\n        reTryButton = findViewById(R.id.retry_btn);\n        capturedImage = findViewById(R.id.capture_image);\n        flipCameraBtn = findViewById(R.id.flipCamera_btn);\n        if (ContextCompat.checkSelfPermission(CustomCameraActivity.this, android.Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n            activityResultLauncher.launch(android.Manifest.permission.CAMERA);\n        } else {\n            startCamera();\n        }\n\n    }\n\n    /**\n     * Starts the camera and sets up the capture and flip camera buttons.\n     */\n    private void startCamera() {\n        // Initialize your custom CameraX instance\n        previewView.setVisibility(View.VISIBLE);\n        captureBtn.setVisibility(View.VISIBLE);\n        flipCameraBtn.setVisibility(View.VISIBLE);\n        okButton.setVisibility(View.INVISIBLE);\n        reTryButton.setVisibility(View.INVISIBLE);\n        capturedImage.setVisibility(View.INVISIBLE);\n        customCamera = new CustomCamera(previewView);\n        customCamera.startCamera(this);\n        captureBtn.setOnClickListener(v -&gt; captureImage());\n        flipCameraBtn.setOnClickListener(view -&gt; {\n            customCamera.flipCamera();\n            customCamera.startCamera(CustomCameraActivity.this);\n        });\n\n    }\n\n    /**\n     *\n     * Starts the camera and sets up the capture and flip camera buttons.\n     *\n     */\n    private void captureImage() {\n        final File photoFile = new File(getExternalFilesDir(null), System.currentTimeMillis() + &quot;.jpg&quot;);\n        //File photoFile = createImageFile();\n\n        ImageCapture.OnImageSavedCallback callback = new ImageCapture.OnImageSavedCallback() {\n               /**\n                 * Sets buttons to visible or invisible for an image\n                 * @param outputFileResults the image that was taken\n                 */\n\n            @Override\n            public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\n                runOnUiThread(() -&gt; {\n                    Uri imageUri = outputFileResults.getSavedUri();\n                    previewView.setVisibility(View.INVISIBLE);\n                    captureBtn.setVisibility(View.INVISIBLE);\n                    flipCameraBtn.setVisibility(View.INVISIBLE);\n                    okButton.setVisibility(View.VISIBLE);\n                    reTryButton.setVisibility(View.VISIBLE);\n                    capturedImage.setVisibility(View.VISIBLE);\n                    capturedImage.setImageURI(imageUri);\n                    okButton.setOnClickListener(v -&gt; {\n                        Toast.makeText(CustomCameraActivity.this, &quot;ImageSaved: &quot;, Toast.LENGTH_SHORT).show();\n                        Uri imageUri1 = outputFileResults.getSavedUri();\n                        Intent resultIntent = new Intent();\n                        resultIntent.setData(imageUri1);\n                        setResult(Activity.RESULT_OK, resultIntent);\n                        finish();\n                    });\n                    reTryButton.setOnClickListener(v -&gt; startCamera());\n                });\n            }\n\n            @Override\n            public void onError(@NonNull ImageCaptureException exception) {\n                // Handle error\n                runOnUiThread(() -&gt; Toast.makeText(CustomCameraActivity.this, &quot;Image saved at: &quot; + photoFile.getPath(), Toast.LENGTH_SHORT).show());\n\n            }\n        };\n        customCamera.captureImage(photoFile, callback);\n    }\n\n    /**\n     *\n     * @param height the height of the screen on camera(Y axis)\n     * @param width the width of the screen on camera(X axis)\n     * @return AspectRatio that the ratio of camera in scale\n     */\n    private int aspectRatio(int width, int height) {\n        double previewRatio = (double) Math.max(width, height) / Math.min(width, height);\n        if (Math.abs(previewRatio - 4.0 / 3.0) &lt;= Math.abs(previewRatio - 16.0 / 9.0)) {\n            return AspectRatio.RATIO_4_3;\n        }\n        return AspectRatio.RATIO_16_9;\n    }\n\n    /**\n     * Creates an image file with a unique name in the &quot;CameraXImages&quot; directory.\n     *\n     * @return The created image file.\n     */\n    private File createImageFile() {\n        // Create an image file name\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.getDefault()).format(new Date());\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n        File storageDir = new File(getExternalFilesDir(null), &quot;CameraXImages&quot;);\n\n        try {\n            File image = File.createTempFile(\n                    imageFileName,  /* prefix */\n                    &quot;.jpg&quot;,         /* suffix */\n                    storageDir      /* directory */\n            );\n\n            String currentPhotoPath = image.getAbsolutePath();\n            return image;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return null;\n        }\n\n    }\n\n\n}\n</code></pre>\n<p>The customCameraX class is:</p>\n<pre><code>\n\n/**\n * Represents a custom camera that can capture images and switch between front and back camera.\n */\npublic class CustomCamera {\n\n    private PreviewView previewView;\n    private ImageCapture imageCapture;\n    private Executor executor = Executors.newSingleThreadExecutor();\n    private int cameraFacing;\n    ProcessCameraProvider cameraProvider;\n\n    /**\n     * Constructs a new CustomCamera with the given PreviewView.\n     *\n     * @param previewView The PreviewView where the camera preview will be displayed.\n     */\n    public CustomCamera(PreviewView previewView) {\n        this.previewView = previewView;\n        this.cameraFacing=CameraSelector.LENS_FACING_BACK;\n    }\n\n    /**\n     * Flips the camera from back to front, or from front to back.\n     */\n    public void flipCamera(){\n        if(this.cameraFacing == CameraSelector.LENS_FACING_BACK){\n            this.cameraFacing= CameraSelector.LENS_FACING_FRONT;\n        }\n        else{\n            this.cameraFacing=CameraSelector.LENS_FACING_BACK;\n        }\n    }\n\n    /**\n     * Starts the camera and binds it to the lifecycle of the given LifecycleOwner.\n     *\n     * @param lifecycleOwner The LifecycleOwner that the camera is bound to.\n     */\n    public void startCamera(LifecycleOwner lifecycleOwner) {\n        ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(previewView.getContext());\n\n        cameraProviderFuture.addListener(() -&gt; {\n            try {\n                 cameraProvider = cameraProviderFuture.get();\n\n                // Set up the camera use cases\n                bindCameraUseCases(lifecycleOwner);\n            } catch (ExecutionException | InterruptedException e) {\n                e.printStackTrace();\n            }\n        }, ContextCompat.getMainExecutor(previewView.getContext()));\n    }\n\n    /**\n     * Binds the camera use cases to the given ProcessCameraProvider and LifecycleOwner.\n     * @param lifecycleOwner The LifecycleOwner that the camera use cases are bound to.\n     */\n    private void bindCameraUseCases(LifecycleOwner lifecycleOwner) {\n        Preview preview = new Preview.Builder().build();\n        CameraSelector cameraSelector = new CameraSelector.Builder()\n                .requireLensFacing(cameraFacing)\n                .build();\n\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\n\n        imageCapture = new ImageCapture.Builder()\n                .setTargetRotation(previewView.getDisplay().getRotation())\n                .build();\n\n        cameraProvider.unbindAll();\n        cameraProvider.bindToLifecycle(lifecycleOwner, cameraSelector, preview, imageCapture);\n    }\n    /**\n     * Captures an image and saves it to the given file. If the image capture is not initialized, this method does nothing.\n     *\n     * @param outputFile The file where the image will be saved.\n     * @param callback The callback that will be invoked after the image has been captured.\n     */\n    public void captureImage(File outputFile, ImageCapture.OnImageSavedCallback callback) {\n        if (imageCapture != null) {\n            ImageCapture.OutputFileOptions outputOptions = new ImageCapture.OutputFileOptions.Builder(outputFile).build();\n            imageCapture.takePicture(outputOptions, executor, callback);\n        }\n    }\n}\n\n\n</code></pre>\n<p>I am starting this activity as <code>pictureActivityResultLauncher.launch(cameraIntent)</code> and recieve the data as</p>\n<pre><code>  ActivityResultLauncher&lt;Intent&gt; pictureActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        // There are no request codes\n                        Intent data = result.getData();\n                        ......\n                      }\n            });\n       \n</code></pre>\n<p>When I run on the android emulator on android studio, it worked fine. However when I connect to the actual devices and first picture works fine but it crashes on the second launch of camera intent.\nI tried to solve it by creating releasing methods that unbinds the cameraProvider in camera class and release it when the the camera activity closes but it does not make any changes. I am still quite not sure why it crashes on physical devices only not in the emulator the log says</p>\n<blockquote>\n<p>FATAL EXCEPTION: main\nProcess: com.example.team29project, PID: 29992\njava.lang.NullPointerException: Attempt to invoke virtual method 'int android.view.Display.getRotation()' on a null object reference\nat com.example.team29project.Model.CustomCamera.bindCameraUseCases(CustomCamera.java:85)\nat com.example.team29project.Model.CustomCamera.lambda$startCamera$0$com-example-team29project-Model-CustomCamera(CustomCamera.java:65)\nat com.example.team29project.Model.CustomCamera$$ExternalSyntheticLambda0.run(Unknown Source:6)\nat android.os.Handler.handleCallback(Handler.java:942)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loopOnce(Looper.java:226)\nat android.os.Looper.loop(Looper.java:313)\nat android.app.ActivityThread.main(ActivityThread.java:8762)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)</p>\n</blockquote>\n<p>Edit: I figured it out. It was the setTargetRotation from bindCamerauUseCases methods. I removed it and it works fine now.</p>\n"},{"tags":["java","permissions","keystore"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701896301,"post_id":76733561,"comment_id":136833182,"body_markdown":"@Andreas-Gusenbauer a candidate fix for JDK-8313367 is pending review:  https://github.com/openjdk/jdk/pull/16687","link":"https://stackoverflow.com/questions/75255985/java-keystore-type-windows-my-root-localmachine-requires-administrator-permissio/76733561#comment136833182_76733561","body":"@Andreas-Gusenbauer a candidate fix for JDK-8313367 is pending review:  <a href=\"https://github.com/openjdk/jdk/pull/16687\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/pull/16687</a>"}],"comment_count":1,"score":0,"last_activity_date":1691507495,"last_edit_date":1691507495,"creation_date":1689885618,"answer_id":76733561,"question_id":75255985,"body_markdown":"I have experienced the same issue with accessing a code signing certificate deployed to the Windows-MY-LOCALMACHINE key store using the OpenJDK `jarsigner` utility.   I have concluded that the SunMSCAPI provider enhancement created to resolve [JDK-6782021][1] is incomplete, since it fails to work for a user who has read access to the private key but is not in the local Administrators group.\r\n\r\n&gt; *A post from 2019 explains how Microsoft&#39;s singtool can access a Local Machine code signing certificate from a non-elevated prompt.   But it\r\n&gt; did not discuss the similar issue with the OpenJDK&#39;s SunMSCAPI key\r\n&gt; store access provider:*\r\n&gt; \r\n&gt; [Why does signtool.exe only find certificate when run as admin?][2]\r\n&gt; \r\n&gt; *Note also that the user in that case was granted Full Control access to the private key, whereas only Read is access is needed if the use\r\n&gt; is strictly for signing code.*\r\n\r\nTo demonstrate the unfinished work in the JDK-6782021 enhancement, first create a self signed code signing certificate in the Local Computer&#39;s Personal certificate store from an elevated PowerShell:\r\n\r\n    $cert = New-SelfSignedCertificate -DNSName &quot;JDK-6782021 Read Only Test&quot; -CertStoreLocation Cert:\\LocalMachine\\My -Type CodeSigningCert -FriendlyName &quot;JDK-6782021&quot;\r\n&gt; Here is Microsoft&#39;s reference on how this works:\r\n&gt; \r\n&gt; [Powershell New-SelfSignedCert cmdlet][3]\r\n\r\nFrom a non-elevated command prompt, if you attempt to sign an EXE file with your new certificate using signtool.exe, it will fail.  This is because the user does not yet have read access to the private key.  Likewise, an attempt to sign a JAR file using jarsigner.exe will fail for the same underlying reason.  For example:\r\n\r\n    C:\\temp\\JDK-6782021_test&gt; signtool sign /sm /sm /i &quot;JDK-6782021 Read Only Test&quot; MyApp.exe\r\n    SignTool Error: No certificates were found that met all the given criteria.\r\n    \r\n    C:\\temp\\JDK-6782021_test&gt; jarsigner -keystore NONE -storetype Windows-MY-LocalMachine -providerClass sun.security.mscapi.SunMSCAPI MyPkg.jar JDK-6782021\r\n    jarsigner error: java.lang.RuntimeException: keystore load: java.security.KeyStoreException: error 5, Access is denied.\r\n\r\nRunning the same commands from an elevated prompt results in success because, as we&#39;ll see below, the Administrators group was granted Full Control access when the certificate was created:\r\n\r\n    C:\\temp\\JDK-6782021_test&gt; signtool sign /sm /i &quot;JDK-6782021 Read Only Test&quot;  MyApp.exe\r\n    Done Adding Additional Store\r\n    Successfully signed: MyApp.exe\r\n    \r\n    C:\\temp\\JDK-6782021_test&gt; jarsigner -keystore NONE -storetype Windows-MY-LOCALMACHINE -providerClass sun.security.mscapi.SunMSCAPI MyPkg.jar JDK-6782021\r\n    jar signed.\r\n\r\nTo grant access from the non-elevated prompt, launch the MMC, add the Certificates snap-in, select the Computer account, select the Local Computer, click Finish, and click Okay. Expand Certificates(Local Computer), expand Personal, and click Certificates.   Select the certificate issues to/by &quot;JDK-6782021 Read Only Test&quot;.   From the right click menu, select &quot;All Tasks / Manage Private Keys ...&quot;.   A Permissions dialog will pop up.  From there, Add your user to the list, and Allow only Read access.  Here is how it should should look:\r\n\r\n\r\n[![enter image description here][4]][4]\r\n \r\nOnce again test the code signing commands from the non-elevated command prompt:\r\n\r\n    C:\\temp\\JDK-6782021_test&gt; signtool sign /sm /i &quot;JDK-6782021 Read Only Test&quot;  MyApp.exe\r\n    Done Adding Additional Store\r\n    Successfully signed: MyApp.exe\r\n    \r\n    C:\\temp\\JDK-6782021_test&gt; jarsigner -keystore NONE -storetype Windows-MY-LOCALMACHINE -providerClass sun.security.mscapi.SunMSCAPI MyPkg.jar JDK-6782021\r\n    jarsigner error: java.lang.RuntimeException: keystore load: java.security.KeyStoreException: error 5, Access is denied.\r\n\r\nThe failure of the jarsigner in this circumstance was not expected.  Since `signtool` succeeded, `jarsigner` should also have succeeded.  If elevation is required for the SunMSCAPI key store access provider to access a Local Machine certificate, then `jarsigner` should have self-elevated.\r\n\r\nThe test case covering a non-administrative user, including read-only access to the private key of the certificate being accessed, may have been omitted in the testing of JDK-6782021.  It might also have been inadvertently tested from an elevated prompt.  Whatever the cause, the net result is that this functionality will fail for users forbidden from being members of a local Administrators group.\r\n\r\n**Update**:  A simple Java application can be used to trigger the exception reported by the OP.  For example:\r\n\r\n&gt; To prove the issue is with the SunMSCAPI provider, and not with\r\n&gt; jarsigner, run the following Java code in place of jarsigner in the\r\n&gt; test above:\r\n&gt; \r\n&gt;         try {\r\n&gt;             Security.addProvider(new SunMSCAPI());\r\n&gt;             KeyStore keyStore = KeyStore.getInstance(&quot;Windows-MY-LOCALMACHINE&quot;);\r\n&gt; \t\t\tkeyStore.load(null, null);\r\n&gt;             Enumeration&lt;String&gt; aliases = keyStore.aliases();\r\n&gt;             for (int i = 0 ; aliases.hasMoreElements() ; i++) {\r\n&gt; \t\t\t\tSystem.out.println( aliases.nextElement() );\r\n&gt;             }\r\n&gt;         } catch (Exception e) {\r\n&gt;             throw new RuntimeException(e);\r\n&gt;         }\r\n&gt; \r\n&gt; When executed without elevation, executing this code will also output\r\n&gt; the same stack trace reported above.  Otherwise, when executed with\r\n&gt; elevation, it will list the friendly names (aliases) of all\r\n&gt; certificates in the Windows Local Computer&#39;s personal certificates\r\n&gt; keystore, including &quot;JDK-6782021&quot;.\r\n\r\n\r\n**Update 2**:  This issue was opened as bug report for OpenJDK 17 and 20 on July 26, 2023:\r\n\r\n&gt; [**JDK-8313367** SunMSCAPI cannot read Local Computer certs w/o\r\n&gt; Windows elevation][5]\r\n\r\nTools used:\r\n - signtool.exe version 10.0.17763.0\r\n - jarsigner.exe and java.exe from OpenJDK 17.0.8 or 20.0.2\r\n\r\nOperating systems used:\r\n - Windows Server 2019\r\n - Windows 11 version 22H2\r\n\r\n \r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-6782021\r\n  [2]: https://stackoverflow.com/questions/56563732\r\n  [3]: https://learn.microsoft.com/en-us/powershell/module/pki/new-selfsignedcertificate?view=windowsserver2022-ps\r\n  [4]: https://i.stack.imgur.com/CixpL.png\r\n  [5]: https://bugs.openjdk.org/browse/JDK-8313367\r\n\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/75255985/java-keystore-type-windows-my-root-localmachine-requires-administrator-permissio/76733561#76733561","title":"Java Keystore type Windows-MY/ROOT-LOCALMACHINE requires administrator permissions","body":"<p>I have experienced the same issue with accessing a code signing certificate deployed to the Windows-MY-LOCALMACHINE key store using the OpenJDK <code>jarsigner</code> utility.   I have concluded that the SunMSCAPI provider enhancement created to resolve <a href=\"https://bugs.openjdk.org/browse/JDK-6782021\" rel=\"nofollow noreferrer\">JDK-6782021</a> is incomplete, since it fails to work for a user who has read access to the private key but is not in the local Administrators group.</p>\n<blockquote>\n<p><em>A post from 2019 explains how Microsoft's singtool can access a Local Machine code signing certificate from a non-elevated prompt.   But it\ndid not discuss the similar issue with the OpenJDK's SunMSCAPI key\nstore access provider:</em></p>\n<p><a href=\"https://stackoverflow.com/questions/56563732\">Why does signtool.exe only find certificate when run as admin?</a></p>\n<p><em>Note also that the user in that case was granted Full Control access to the private key, whereas only Read is access is needed if the use\nis strictly for signing code.</em></p>\n</blockquote>\n<p>To demonstrate the unfinished work in the JDK-6782021 enhancement, first create a self signed code signing certificate in the Local Computer's Personal certificate store from an elevated PowerShell:</p>\n<pre><code>$cert = New-SelfSignedCertificate -DNSName &quot;JDK-6782021 Read Only Test&quot; -CertStoreLocation Cert:\\LocalMachine\\My -Type CodeSigningCert -FriendlyName &quot;JDK-6782021&quot;\n</code></pre>\n<blockquote>\n<p>Here is Microsoft's reference on how this works:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/powershell/module/pki/new-selfsignedcertificate?view=windowsserver2022-ps\" rel=\"nofollow noreferrer\">Powershell New-SelfSignedCert cmdlet</a></p>\n</blockquote>\n<p>From a non-elevated command prompt, if you attempt to sign an EXE file with your new certificate using signtool.exe, it will fail.  This is because the user does not yet have read access to the private key.  Likewise, an attempt to sign a JAR file using jarsigner.exe will fail for the same underlying reason.  For example:</p>\n<pre><code>C:\\temp\\JDK-6782021_test&gt; signtool sign /sm /sm /i &quot;JDK-6782021 Read Only Test&quot; MyApp.exe\nSignTool Error: No certificates were found that met all the given criteria.\n\nC:\\temp\\JDK-6782021_test&gt; jarsigner -keystore NONE -storetype Windows-MY-LocalMachine -providerClass sun.security.mscapi.SunMSCAPI MyPkg.jar JDK-6782021\njarsigner error: java.lang.RuntimeException: keystore load: java.security.KeyStoreException: error 5, Access is denied.\n</code></pre>\n<p>Running the same commands from an elevated prompt results in success because, as we'll see below, the Administrators group was granted Full Control access when the certificate was created:</p>\n<pre><code>C:\\temp\\JDK-6782021_test&gt; signtool sign /sm /i &quot;JDK-6782021 Read Only Test&quot;  MyApp.exe\nDone Adding Additional Store\nSuccessfully signed: MyApp.exe\n\nC:\\temp\\JDK-6782021_test&gt; jarsigner -keystore NONE -storetype Windows-MY-LOCALMACHINE -providerClass sun.security.mscapi.SunMSCAPI MyPkg.jar JDK-6782021\njar signed.\n</code></pre>\n<p>To grant access from the non-elevated prompt, launch the MMC, add the Certificates snap-in, select the Computer account, select the Local Computer, click Finish, and click Okay. Expand Certificates(Local Computer), expand Personal, and click Certificates.   Select the certificate issues to/by &quot;JDK-6782021 Read Only Test&quot;.   From the right click menu, select &quot;All Tasks / Manage Private Keys ...&quot;.   A Permissions dialog will pop up.  From there, Add your user to the list, and Allow only Read access.  Here is how it should should look:</p>\n<p><a href=\"https://i.stack.imgur.com/CixpL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CixpL.png\" alt=\"enter image description here\" /></a></p>\n<p>Once again test the code signing commands from the non-elevated command prompt:</p>\n<pre><code>C:\\temp\\JDK-6782021_test&gt; signtool sign /sm /i &quot;JDK-6782021 Read Only Test&quot;  MyApp.exe\nDone Adding Additional Store\nSuccessfully signed: MyApp.exe\n\nC:\\temp\\JDK-6782021_test&gt; jarsigner -keystore NONE -storetype Windows-MY-LOCALMACHINE -providerClass sun.security.mscapi.SunMSCAPI MyPkg.jar JDK-6782021\njarsigner error: java.lang.RuntimeException: keystore load: java.security.KeyStoreException: error 5, Access is denied.\n</code></pre>\n<p>The failure of the jarsigner in this circumstance was not expected.  Since <code>signtool</code> succeeded, <code>jarsigner</code> should also have succeeded.  If elevation is required for the SunMSCAPI key store access provider to access a Local Machine certificate, then <code>jarsigner</code> should have self-elevated.</p>\n<p>The test case covering a non-administrative user, including read-only access to the private key of the certificate being accessed, may have been omitted in the testing of JDK-6782021.  It might also have been inadvertently tested from an elevated prompt.  Whatever the cause, the net result is that this functionality will fail for users forbidden from being members of a local Administrators group.</p>\n<p><strong>Update</strong>:  A simple Java application can be used to trigger the exception reported by the OP.  For example:</p>\n<blockquote>\n<p>To prove the issue is with the SunMSCAPI provider, and not with\njarsigner, run the following Java code in place of jarsigner in the\ntest above:</p>\n<pre><code>    try {\n        Security.addProvider(new SunMSCAPI());\n        KeyStore keyStore = KeyStore.getInstance(&quot;Windows-MY-LOCALMACHINE&quot;);\n      keyStore.load(null, null);\n        Enumeration&lt;String&gt; aliases = keyStore.aliases();\n        for (int i = 0 ; aliases.hasMoreElements() ; i++) {\n          System.out.println( aliases.nextElement() );\n        }\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<p>When executed without elevation, executing this code will also output\nthe same stack trace reported above.  Otherwise, when executed with\nelevation, it will list the friendly names (aliases) of all\ncertificates in the Windows Local Computer's personal certificates\nkeystore, including &quot;JDK-6782021&quot;.</p>\n</blockquote>\n<p><strong>Update 2</strong>:  This issue was opened as bug report for OpenJDK 17 and 20 on July 26, 2023:</p>\n<blockquote>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8313367\" rel=\"nofollow noreferrer\"><strong>JDK-8313367</strong> SunMSCAPI cannot read Local Computer certs w/o\nWindows elevation</a></p>\n</blockquote>\n<p>Tools used:</p>\n<ul>\n<li>signtool.exe version 10.0.17763.0</li>\n<li>jarsigner.exe and java.exe from OpenJDK 17.0.8 or 20.0.2</li>\n</ul>\n<p>Operating systems used:</p>\n<ul>\n<li>Windows Server 2019</li>\n<li>Windows 11 version 22H2</li>\n</ul>\n"},{"comment_count":0,"score":0,"last_activity_date":1701016526,"creation_date":1701016526,"answer_id":77552557,"question_id":75255985,"body_markdown":"If it helps to have code that works independent of whether any of the JDK bugs (mentioned elsewhere on this page) are fixed, consider this alternative: https://stackoverflow.com/a/77552537/2452569","link":"https://stackoverflow.com/questions/75255985/java-keystore-type-windows-my-root-localmachine-requires-administrator-permissio/77552557#77552557","title":"Java Keystore type Windows-MY/ROOT-LOCALMACHINE requires administrator permissions","body":"<p>If it helps to have code that works independent of whether any of the JDK bugs (mentioned elsewhere on this page) are fixed, consider this alternative: <a href=\"https://stackoverflow.com/a/77552537/2452569\">https://stackoverflow.com/a/77552537/2452569</a></p>\n"}],"comment_count":0,"is_answered":false,"view_count":534,"answer_count":2,"score":1,"last_activity_date":1701016526,"creation_date":1674810527,"question_id":75255985,"body_markdown":"Last year they finally fixed the issue with accessing certificates from the local machine (https://bugs.openjdk.org/browse/JDK-6782021).\r\nBut it seems that accessing these certificates requires local administrator permissions - even if the user has the permission for certain certificates. How does this make sense?\r\nSo I can automatically deploy certificates to certain machines via a certificate template and grant &quot;Local service&quot; users permissions to the private key, but I&#39;m not able to get these certificates! I would understand that I cann&#39;t change/store certificates, but why cann&#39;t I read them?\r\nIf i run the application as administrator or the used service user is a local administrator everything works fine. But I don&#39;t want to use such users due security reasons.\r\n\r\nI don&#39;t want to use this hack anymore ;)\r\nhttps://stackoverflow.com/questions/51205158/access-windows-local-machine-personal-keystore-with-java-sunmscapi/51855449\r\n\r\nfinal KeyStore keyStore = KeyStore.getInstance(&quot;Windows-MY-LOCALMACHINE&quot;, &quot;SunMSCAPI&quot;);\r\nkeyStore.load(null, null);\r\n\r\njava.io.IOException: java.security.KeyStoreException: Access is denied\r\n\tat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore.engineLoad(CKeyStore.java:737)\r\n\tat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore$MYLocalMachine.engineLoad(CKeyStore.java:72)\r\n\tat java.base/java.security.KeyStore.load(KeyStore.java:1473)\r\n\tat KeyStoreUtil.main(KeyStoreUtil.java:65)\r\nCaused by: java.security.KeyStoreException: Access is denied\r\n\tat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore.loadKeysOrCertificateChains(Native Method)\r\n\tat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore.engineLoad(CKeyStore.java:734)\r\n\t... 3 more","link":"https://stackoverflow.com/questions/75255985/java-keystore-type-windows-my-root-localmachine-requires-administrator-permissio","title":"Java Keystore type Windows-MY/ROOT-LOCALMACHINE requires administrator permissions","body":"<p>Last year they finally fixed the issue with accessing certificates from the local machine (<a href=\"https://bugs.openjdk.org/browse/JDK-6782021\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-6782021</a>).\nBut it seems that accessing these certificates requires local administrator permissions - even if the user has the permission for certain certificates. How does this make sense?\nSo I can automatically deploy certificates to certain machines via a certificate template and grant &quot;Local service&quot; users permissions to the private key, but I'm not able to get these certificates! I would understand that I cann't change/store certificates, but why cann't I read them?\nIf i run the application as administrator or the used service user is a local administrator everything works fine. But I don't want to use such users due security reasons.</p>\n<p>I don't want to use this hack anymore ;)\n<a href=\"https://stackoverflow.com/questions/51205158/access-windows-local-machine-personal-keystore-with-java-sunmscapi/51855449\">Access Windows Local Machine Personal Keystore with Java (SunMSCAPI)</a></p>\n<p>final KeyStore keyStore = KeyStore.getInstance(&quot;Windows-MY-LOCALMACHINE&quot;, &quot;SunMSCAPI&quot;);\nkeyStore.load(null, null);</p>\n<p>java.io.IOException: java.security.KeyStoreException: Access is denied\nat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore.engineLoad(CKeyStore.java:737)\nat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore$MYLocalMachine.engineLoad(CKeyStore.java:72)\nat java.base/java.security.KeyStore.load(KeyStore.java:1473)\nat KeyStoreUtil.main(KeyStoreUtil.java:65)\nCaused by: java.security.KeyStoreException: Access is denied\nat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore.loadKeysOrCertificateChains(Native Method)\nat jdk.crypto.mscapi/sun.security.mscapi.CKeyStore.engineLoad(CKeyStore.java:734)\n... 3 more</p>\n"},{"tags":["java","amazon-cognito","custom-authentication"],"comments":[{"score":0,"post_type":"question","creation_date":1700990460,"post_id":77550958,"comment_id":136717634,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","link":"https://stackoverflow.com/questions/77550958/automate-login-of-application-that-uses-aws-cognito-with-custom-auth-authenticat#comment136717634_77550958","body":"Please provide enough code so others can better understand or reproduce the problem."}],"comment_count":1,"is_answered":false,"view_count":30,"answer_count":0,"score":0,"last_activity_date":1701015848,"creation_date":1700987172,"last_edit_date":1701015848,"question_id":77550958,"body_markdown":"I&#39;m trying to automate the login of my application but it uses AWS cognito service for authentication and the auth flow is CUSTOM_AUTH. Is it possible to automate this login using the initiateAuth if I just have the username, clientId and user pool id   along with the AWS java SDK without the access key and client secret?I&#39;m trying to get the accessToken and ID token as the the response of initiateAuth.\r\n\r\nTried out the below code but getting error &#39;com.amazonaws.services.cognitoidp.model.UserLambdaValidationException: DefineAuthChallenge failed with error Cannot read properties of undefined (reading &#39;challengeName&#39;)&#39;\r\n\r\n    final String clientId = &quot;clientId&quot;;\r\n        final String region = &quot;region&quot;;\r\n        final String username = &quot;username&quot;;\r\n        final String password = &quot;pwd&quot;;\r\n\r\n        AWSCognitoIdentityProvider cognitoClient = AWSCognitoIdentityProviderClientBuilder.standard()\r\n                .withRegion(region)\r\n                .build();\r\n        final Map&lt;String, String&gt; authParams = new HashMap&lt;&gt;();\r\n        authParams.put(&quot;USERNAME&quot;, username);\r\n        authParams.put(&quot;PASSWORD&quot;, password);\r\n        final InitiateAuthRequest authRequest = new InitiateAuthRequest();\r\n        authRequest.withAuthFlow(AuthFlowType.CUSTOM_AUTH)\r\n                .withClientId(clientId)\r\n                .withAuthParameters(authParams);\r\n        InitiateAuthResult result = cognitoClient.initiateAuth(authRequest);\r\n","link":"https://stackoverflow.com/questions/77550958/automate-login-of-application-that-uses-aws-cognito-with-custom-auth-authenticat","title":"Automate login of application that uses AWS cognito with CUSTOM_AUTH authentication flow","body":"<p>I'm trying to automate the login of my application but it uses AWS cognito service for authentication and the auth flow is CUSTOM_AUTH. Is it possible to automate this login using the initiateAuth if I just have the username, clientId and user pool id   along with the AWS java SDK without the access key and client secret?I'm trying to get the accessToken and ID token as the the response of initiateAuth.</p>\n<p>Tried out the below code but getting error 'com.amazonaws.services.cognitoidp.model.UserLambdaValidationException: DefineAuthChallenge failed with error Cannot read properties of undefined (reading 'challengeName')'</p>\n<pre><code>final String clientId = &quot;clientId&quot;;\n    final String region = &quot;region&quot;;\n    final String username = &quot;username&quot;;\n    final String password = &quot;pwd&quot;;\n\n    AWSCognitoIdentityProvider cognitoClient = AWSCognitoIdentityProviderClientBuilder.standard()\n            .withRegion(region)\n            .build();\n    final Map&lt;String, String&gt; authParams = new HashMap&lt;&gt;();\n    authParams.put(&quot;USERNAME&quot;, username);\n    authParams.put(&quot;PASSWORD&quot;, password);\n    final InitiateAuthRequest authRequest = new InitiateAuthRequest();\n    authRequest.withAuthFlow(AuthFlowType.CUSTOM_AUTH)\n            .withClientId(clientId)\n            .withAuthParameters(authParams);\n    InitiateAuthResult result = cognitoClient.initiateAuth(authRequest);\n</code></pre>\n"},{"tags":["java","intellij-idea","java.util.concurrent","java-21"],"comments":[{"score":2,"post_type":"question","creation_date":1701000292,"post_id":77551293,"comment_id":136718447,"body_markdown":"Looks like an IntelliJ cache problem. Try removing the out directory and rebuild it again, if that doesn&#39;t help try to invalidate the IntelliJ cache and restart.","link":"https://stackoverflow.com/questions/77551293/intellij-idea-jdk-21-issue-with-java-util-concurrent-package-timeunit-class#comment136718447_77551293","body":"Looks like an IntelliJ cache problem. Try removing the out directory and rebuild it again, if that doesn&#39;t help try to invalidate the IntelliJ cache and restart."},{"score":0,"post_type":"question","creation_date":1701095097,"post_id":77551293,"comment_id":136728880,"body_markdown":"Actually, I&#39;ve tried to invalidate caches and recreated .idea folder, but it didn&#39;t help. As I mentioned in the answer, only IntelliJ update to the last version fixed this issue.","link":"https://stackoverflow.com/questions/77551293/intellij-idea-jdk-21-issue-with-java-util-concurrent-package-timeunit-class#comment136728880_77551293","body":"Actually, I&#39;ve tried to invalidate caches and recreated .idea folder, but it didn&#39;t help. As I mentioned in the answer, only IntelliJ update to the last version fixed this issue."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701015206,"post_id":77551294,"comment_id":136719908,"body_markdown":"[Invalidating caches](https://www.jetbrains.com/help/idea/invalidate-caches.html) might be a less drastic solution.","link":"https://stackoverflow.com/questions/77551293/intellij-idea-jdk-21-issue-with-java-util-concurrent-package-timeunit-class/77551294#comment136719908_77551294","body":"<a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"nofollow noreferrer\">Invalidating caches</a> might be a less drastic solution."},{"score":0,"post_type":"answer","creation_date":1701095118,"post_id":77551294,"comment_id":136728883,"body_markdown":"Actually, I&#39;ve tried to invalidate caches and recreated .idea folder, but it didn&#39;t help. As I mentioned in the answer, only IntelliJ update to the last version fixed this issue.","link":"https://stackoverflow.com/questions/77551293/intellij-idea-jdk-21-issue-with-java-util-concurrent-package-timeunit-class/77551294#comment136728883_77551294","body":"Actually, I&#39;ve tried to invalidate caches and recreated .idea folder, but it didn&#39;t help. As I mentioned in the answer, only IntelliJ update to the last version fixed this issue."}],"comment_count":2,"score":2,"last_activity_date":1700994896,"creation_date":1700994896,"answer_id":77551294,"question_id":77551293,"body_markdown":"While searching, I found a solution. \r\n\r\nFollowing [the same kind of issue discussed in this topic][1], I manually updated IntelliJ to version 2023.2.5 one more time, and now the issue is resolved.\r\n\r\n**It appears that when updating IntelliJ, it may be necessary to perform the update process multiple times consecutively.**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77141340/cant-use-latest-java-version-jdk-21-in-intellij-idea","link":"https://stackoverflow.com/questions/77551293/intellij-idea-jdk-21-issue-with-java-util-concurrent-package-timeunit-class/77551294#77551294","title":"IntelliJ IDEA + JDK 21 issue with java.util.concurrent package - TimeUnit class not available","body":"<p>While searching, I found a solution.</p>\n<p>Following <a href=\"https://stackoverflow.com/questions/77141340/cant-use-latest-java-version-jdk-21-in-intellij-idea\">the same kind of issue discussed in this topic</a>, I manually updated IntelliJ to version 2023.2.5 one more time, and now the issue is resolved.</p>\n<p><strong>It appears that when updating IntelliJ, it may be necessary to perform the update process multiple times consecutively.</strong></p>\n"}],"comment_count":2,"is_answered":true,"view_count":564,"answer_count":1,"score":1,"last_activity_date":1701015406,"creation_date":1700994896,"last_edit_date":1701015406,"question_id":77551293,"body_markdown":"I have an issue when I am trying to use TimeUnit class from java.util.concurrent. It happens with **Oracle JDK 21.0.1** (configurations are below) + **IntelliJ IDEA 2023.1.5** (Community Edition) - *the latest update at the current moment (UPDATE: As I thought in the beginning since I&#39;ve run update - look a solution below).*\r\n\r\nConfiguration on my computer (get by *java -version* in console):\r\n\r\n&gt; java version &quot;21.0.1&quot; 2023-10-17 LTS \r\n\r\n&gt; Java(TM) SE Runtime Environment (build 21.0.1+12-LTS-29) \r\n\r\n&gt; Java HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)\r\n\r\nAnd I&#39;ve checked that I set up JDK 21 in IntelliJ Project Structure menu including Project and Modules sections.\r\n\r\nOn the screenshot below you can see a basic class created for test purposes. Some concurrent package classes are imported fine, but not `TimeUnit` class for some reason.\r\n\r\n[![The issue screenshot][1]][1]\r\n\r\nMeanwhile you can see on the screenshot that app works despite the issue when I run it.\r\n\r\nWhen I am using java 17 in IDE configurations, I don&#39;t see the issue.\r\n\r\n**Could you please help to understand why this issue happens and how to fix it?**\r\n\r\nOne more thing. When I go to &quot;About IntelliJ IDEA&quot; menu, I see the next configuration:\r\n&gt; Runtime version: 17.0.7+10-b829.16 aarch64 VM: OpenJDK 64-Bit Server\r\n&gt; VM by JetBrains s.r.o.\r\n\r\nI am not sure why it says version 17, **could it be a reason of the issue?**\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PCU1D.png","link":"https://stackoverflow.com/questions/77551293/intellij-idea-jdk-21-issue-with-java-util-concurrent-package-timeunit-class","title":"IntelliJ IDEA + JDK 21 issue with java.util.concurrent package - TimeUnit class not available","body":"<p>I have an issue when I am trying to use TimeUnit class from java.util.concurrent. It happens with <strong>Oracle JDK 21.0.1</strong> (configurations are below) + <strong>IntelliJ IDEA 2023.1.5</strong> (Community Edition) - <em>the latest update at the current moment (UPDATE: As I thought in the beginning since I've run update - look a solution below).</em></p>\n<p>Configuration on my computer (get by <em>java -version</em> in console):</p>\n<blockquote>\n<p>java version &quot;21.0.1&quot; 2023-10-17 LTS</p>\n</blockquote>\n<blockquote>\n<p>Java(TM) SE Runtime Environment (build 21.0.1+12-LTS-29)</p>\n</blockquote>\n<blockquote>\n<p>Java HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)</p>\n</blockquote>\n<p>And I've checked that I set up JDK 21 in IntelliJ Project Structure menu including Project and Modules sections.</p>\n<p>On the screenshot below you can see a basic class created for test purposes. Some concurrent package classes are imported fine, but not <code>TimeUnit</code> class for some reason.</p>\n<p><a href=\"https://i.stack.imgur.com/PCU1D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PCU1D.png\" alt=\"The issue screenshot\" /></a></p>\n<p>Meanwhile you can see on the screenshot that app works despite the issue when I run it.</p>\n<p>When I am using java 17 in IDE configurations, I don't see the issue.</p>\n<p><strong>Could you please help to understand why this issue happens and how to fix it?</strong></p>\n<p>One more thing. When I go to &quot;About IntelliJ IDEA&quot; menu, I see the next configuration:</p>\n<blockquote>\n<p>Runtime version: 17.0.7+10-b829.16 aarch64 VM: OpenJDK 64-Bit Server\nVM by JetBrains s.r.o.</p>\n</blockquote>\n<p>I am not sure why it says version 17, <strong>could it be a reason of the issue?</strong></p>\n"},{"tags":["java","intellij-idea","plugins"],"comments":[{"score":0,"post_type":"question","creation_date":1701016806,"post_id":77551813,"comment_id":136720083,"body_markdown":"Did you try contacting the maintainer of that plugin/creating an issue in the corresponding issue tracker?","link":"https://stackoverflow.com/questions/77551813/thread-access-info-plugin-for-inteliji-idea#comment136720083_77551813","body":"Did you try contacting the maintainer of that plugin/creating an issue in the corresponding issue tracker?"},{"score":0,"post_type":"question","creation_date":1701036894,"post_id":77551813,"comment_id":136722156,"body_markdown":"Earlier did not write, now sent an email, will wait for a response, but in any case if anyone has encountered such a problem and can explain the reasons why the plugin may not work, would be grateful.","link":"https://stackoverflow.com/questions/77551813/thread-access-info-plugin-for-inteliji-idea#comment136722156_77551813","body":"Earlier did not write, now sent an email, will wait for a response, but in any case if anyone has encountered such a problem and can explain the reasons why the plugin may not work, would be grateful."}],"comment_count":2,"is_answered":false,"view_count":25,"answer_count":0,"score":1,"last_activity_date":1701014824,"creation_date":1701004336,"last_edit_date":1701014824,"question_id":77551813,"body_markdown":"I have installed the &#39;Thread Access Info&#39; plugin in IntelliJ IDEA, but it seems not to be working. Ideally, when debugging code, a separate &#39;Thread Access&#39; tab should appear, showing what&#39;s happening with the thread, but it&#39;s not showing up for me. I&#39;m coding in Java.\r\n\r\nCould you please help me understand why it&#39;s not working?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nInstalled the plugin, tried reinstalling, nothing helped\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WHXff.jpg\r\n  [2]: https://i.stack.imgur.com/OXvV5.jpg","link":"https://stackoverflow.com/questions/77551813/thread-access-info-plugin-for-inteliji-idea","title":"Thread access info plugin for Inteliji Idea","body":"<p>I have installed the 'Thread Access Info' plugin in IntelliJ IDEA, but it seems not to be working. Ideally, when debugging code, a separate 'Thread Access' tab should appear, showing what's happening with the thread, but it's not showing up for me. I'm coding in Java.</p>\n<p>Could you please help me understand why it's not working?</p>\n<p><a href=\"https://i.stack.imgur.com/WHXff.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WHXff.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/OXvV5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OXvV5.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Installed the plugin, tried reinstalling, nothing helped</p>\n"},{"tags":["java","swing","user-interface","netbeans","drag-and-drop"],"answers":[{"comments":[{"score":1,"post_type":"answer","creation_date":1701006713,"post_id":77551823,"comment_id":136719061,"body_markdown":"It worked! thx.","link":"https://stackoverflow.com/questions/77551725/java-gui-window-would-freeeze-in-start/77551823#comment136719061_77551823","body":"It worked! thx."}],"comment_count":1,"score":3,"last_activity_date":1701005165,"last_edit_date":1701005165,"creation_date":1701004524,"answer_id":77551823,"question_id":77551725,"body_markdown":"What you are doing wrong\r\n------------------------\r\n\r\nOn line 75 in the `initComponents` method you are using `setEnabled(false)` **this disables the window and all of its children** (all of the components on the frame) hence it feels like your window is frozen.\r\n\r\nTo fix this issue simply remove the line `setEnabled(false)` **from the following code**\r\n```\r\n/* Rest of your code */\r\n\r\njRadioButton2.setText(&quot;jRadioButton2&quot;);\r\n\r\nsetDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\nsetTitle(&quot;Auto Tech and Mech Services&quot;);\r\nsetEnabled(false); //Line causing this issue\r\n\r\njLabel1.setText(&quot;Welcome to Auto Tech and Mech Services&quot;);\r\n\r\n/* Rest of your code */\r\n```\r\n***\r\n\r\nA few more important things to remember\r\n---------------------------------------\r\n\r\n• Remember [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)! Avoid naming your class `demo.java` instead use `Demo.java`.\r\n\r\n• Secondly you don&#39;t need a seperate method to process the action performed just move it directly into the `button.addActionListener`&#39;s action listener.\r\n\r\n• Thirdly (It is personal preference), you don&#39;t need to use -\r\n```\r\njava.awt.EventQueue.invokeLater(new Runnable() {\r\n    public void run() {\r\n         new Demo().setVisible(true);\r\n    }\r\n});\r\n```\r\nYou can use lambdas to shorten this code (learn more about that [here](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html)) and make the code only one line as demonstrated below.\r\n```\r\njava.awt.EventQueue.invokeLater(() -&gt; new Demo().setVisible(true));\r\n```","link":"https://stackoverflow.com/questions/77551725/java-gui-window-would-freeeze-in-start/77551823#77551823","title":"Java GUI window would freeeze in start","body":"<h2>What you are doing wrong</h2>\n<p>On line 75 in the <code>initComponents</code> method you are using <code>setEnabled(false)</code> <strong>this disables the window and all of its children</strong> (all of the components on the frame) hence it feels like your window is frozen.</p>\n<p>To fix this issue simply remove the line <code>setEnabled(false)</code> <strong>from the following code</strong></p>\n<pre><code>/* Rest of your code */\n\njRadioButton2.setText(&quot;jRadioButton2&quot;);\n\nsetDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\nsetTitle(&quot;Auto Tech and Mech Services&quot;);\nsetEnabled(false); //Line causing this issue\n\njLabel1.setText(&quot;Welcome to Auto Tech and Mech Services&quot;);\n\n/* Rest of your code */\n</code></pre>\n<hr />\n<h2>A few more important things to remember</h2>\n<p>• Remember <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a>! Avoid naming your class <code>demo.java</code> instead use <code>Demo.java</code>.</p>\n<p>• Secondly you don't need a seperate method to process the action performed just move it directly into the <code>button.addActionListener</code>'s action listener.</p>\n<p>• Thirdly (It is personal preference), you don't need to use -</p>\n<pre><code>java.awt.EventQueue.invokeLater(new Runnable() {\n    public void run() {\n         new Demo().setVisible(true);\n    }\n});\n</code></pre>\n<p>You can use lambdas to shorten this code (learn more about that <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">here</a>) and make the code only one line as demonstrated below.</p>\n<pre><code>java.awt.EventQueue.invokeLater(() -&gt; new Demo().setVisible(true));\n</code></pre>\n"}],"comment_count":0,"is_answered":true,"view_count":53,"answer_count":1,"score":0,"last_activity_date":1701014436,"creation_date":1701002906,"last_edit_date":1701014436,"question_id":77551725,"body_markdown":"This a gui program of a car wash. consists of two class demo and total that would display total in a new window after calculations. everything was working fine, dicided to run it one more time for screenshot to sumbit but it stucks, like program is running but window freezes. I am using net bean drag and drop method.\r\n[enter image description here](https://i.stack.imgur.com/4dGqO.png)\r\ndemo class\r\n```\r\npackage car.wash_05;\r\n\r\npublic class demo extends javax.swing.JFrame {\r\n    private double small_Engine = 100.0;\r\n    private double big_engine = 200.0;\r\n    private double battery = 100.0;\r\n    private double oi_filter = 70.0;\r\n    private double brakes = 100.0;\r\n    private double gears = 100.0;\r\n    private double regular_wash = 50.0;\r\n    private double wash_Compound = 100.0;\r\n\r\n    // Declare variables to store the selected services\r\n    private boolean smallEngineSelected = false;\r\n    private boolean bigEngineSelected = false;\r\n    private boolean batterySelected = false;\r\n    private boolean oilAndFilterSelected = false;\r\n    private boolean brakesSelected = false;\r\n    private boolean gearsSelected = false;\r\n    private boolean regularWashSelected = false;\r\n    private boolean washAndCompoundSelected = false;\r\n\r\n    // Declare a variable to store the subtotal price\r\n    private double subtotal = 0.0;\r\n    \r\n    public demo() {\r\n        System.out.println(&quot;Before GUI initialization&quot;);\r\ninitComponents();\r\nSystem.out.println(&quot;After GUI initialization&quot;);\r\n    }\r\n    \r\n     private void updateSubtotal() {\r\n        subtotal = 0.0;\r\n\r\n        if (smallEngineSelected) \r\n            subtotal += small_Engine;\r\n\r\n        if (bigEngineSelected)\r\n            subtotal += big_engine;\r\n\r\n        if (batterySelected) \r\n            subtotal += battery;\r\n\r\n        if (oilAndFilterSelected)\r\n            subtotal += oi_filter;\r\n\r\n        if (brakesSelected) \r\n            subtotal += brakes;\r\n\r\n        if (gearsSelected) \r\n            subtotal += gears;\r\n     }\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jRadioButton2 = new javax.swing.JRadioButton();\r\n        jLabel1 = new javax.swing.JLabel();\r\n        jPanel1 = new javax.swing.JPanel();\r\n        jRadioButton1 = new javax.swing.JRadioButton();\r\n        jRadioButton3 = new javax.swing.JRadioButton();\r\n        jPanel2 = new javax.swing.JPanel();\r\n        jRadioButton4 = new javax.swing.JRadioButton();\r\n        jRadioButton5 = new javax.swing.JRadioButton();\r\n        jRadioButton6 = new javax.swing.JRadioButton();\r\n        jPanel3 = new javax.swing.JPanel();\r\n        jCheckBox1 = new javax.swing.JCheckBox();\r\n        jCheckBox2 = new javax.swing.JCheckBox();\r\n        jCheckBox3 = new javax.swing.JCheckBox();\r\n        jCheckBox4 = new javax.swing.JCheckBox();\r\n        jButton1 = new javax.swing.JButton();\r\n        jButton2 = new javax.swing.JButton();\r\n\r\n        jRadioButton2.setText(&quot;jRadioButton2&quot;);\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n        setTitle(&quot;Auto Tech and Mech Services&quot;);\r\n        setEnabled(false);\r\n\r\n        jLabel1.setText(&quot;Welcome to Auto Tech and Mech Services&quot;);\r\n\r\n        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());\r\n        jPanel1.setToolTipText(&quot;&quot;);\r\n\r\n        jRadioButton1.setText(&quot;Small&quot;);\r\n        jRadioButton1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jRadioButton1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jRadioButton3.setText(&quot;Big&quot;);\r\n        jRadioButton3.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jRadioButton3ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\r\n        jPanel1.setLayout(jPanel1Layout);\r\n        jPanel1Layout.setHorizontalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(jRadioButton1)\r\n                    .addComponent(jRadioButton3))\r\n                .addContainerGap(10, Short.MAX_VALUE))\r\n        );\r\n        jPanel1Layout.setVerticalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                .addGap(39, 39, 39)\r\n                .addComponent(jRadioButton1)\r\n                .addGap(29, 29, 29)\r\n                .addComponent(jRadioButton3)\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n\r\n        jPanel2.setBorder(javax.swing.BorderFactory.createEtchedBorder());\r\n        jPanel2.setName(&quot;&quot;); // NOI18N\r\n\r\n        jRadioButton4.setText(&quot;None&quot;);\r\n        jRadioButton4.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jRadioButton4ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jRadioButton5.setText(&quot;Regular Wash&quot;);\r\n        jRadioButton5.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jRadioButton5ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jRadioButton6.setText(&quot;Wash &amp; Compound&quot;);\r\n        jRadioButton6.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jRadioButton6ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);\r\n        jPanel2.setLayout(jPanel2Layout);\r\n        jPanel2Layout.setHorizontalGroup(\r\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel2Layout.createSequentialGroup()\r\n                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(jRadioButton4)\r\n                    .addComponent(jRadioButton5)\r\n                    .addComponent(jRadioButton6))\r\n                .addGap(0, 0, Short.MAX_VALUE))\r\n        );\r\n        jPanel2Layout.setVerticalGroup(\r\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel2Layout.createSequentialGroup()\r\n                .addGap(28, 28, 28)\r\n                .addComponent(jRadioButton4)\r\n                .addGap(28, 28, 28)\r\n                .addComponent(jRadioButton5)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addComponent(jRadioButton6)\r\n                .addGap(14, 14, 14))\r\n        );\r\n\r\n        jPanel3.setBorder(javax.swing.BorderFactory.createEtchedBorder());\r\n        jPanel3.setToolTipText(&quot;&quot;);\r\n        jPanel3.setName(&quot;&quot;); // NOI18N\r\n\r\n        jCheckBox1.setText(&quot;Battery&quot;);\r\n        jCheckBox1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jCheckBox1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jCheckBox2.setText(&quot;Oil Filters&quot;);\r\n        jCheckBox2.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jCheckBox2ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jCheckBox3.setText(&quot;Brakes&quot;);\r\n        jCheckBox3.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jCheckBox3ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jCheckBox4.setText(&quot;Gear&quot;);\r\n        jCheckBox4.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jCheckBox4ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);\r\n        jPanel3.setLayout(jPanel3Layout);\r\n        jPanel3Layout.setHorizontalGroup(\r\n            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel3Layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(jCheckBox1)\r\n                    .addComponent(jCheckBox2)\r\n                    .addComponent(jCheckBox3)\r\n                    .addComponent(jCheckBox4))\r\n                .addContainerGap(105, Short.MAX_VALUE))\r\n        );\r\n        jPanel3Layout.setVerticalGroup(\r\n            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel3Layout.createSequentialGroup()\r\n                .addGap(19, 19, 19)\r\n                .addComponent(jCheckBox1)\r\n                .addGap(18, 18, 18)\r\n                .addComponent(jCheckBox2)\r\n                .addGap(18, 18, 18)\r\n                .addComponent(jCheckBox3)\r\n                .addGap(18, 18, 18)\r\n                .addComponent(jCheckBox4)\r\n                .addContainerGap(8, Short.MAX_VALUE))\r\n        );\r\n\r\n        jButton1.setText(&quot;Calculate&quot;);\r\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jButton2.setText(&quot;Exit&quot;);\r\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton2ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(jLabel1)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addComponent(jButton1)\r\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                                .addComponent(jButton2))\r\n                            .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                        .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(12, 12, 12)\r\n                .addComponent(jLabel1)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\r\n                    .addComponent(jPanel3, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                    .addComponent(jPanel1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jButton1)\r\n                    .addComponent(jButton2))\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n\r\n        jPanel1.getAccessibleContext().setAccessibleName(&quot;&quot;);\r\n        jPanel2.getAccessibleContext().setAccessibleName(&quot;&quot;);\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n    //Small engine ratio button\r\n    private void jRadioButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\n\r\n                smallEngineSelected = true;\r\n                bigEngineSelected = false;\r\n                jRadioButton3.setSelected(false);\r\n                updateSubtotal();\r\n    }                                             \r\n    \r\n    //big engine ratio button\r\n    private void jRadioButton3ActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\n        bigEngineSelected = true;\r\n        smallEngineSelected = false;\r\n        jRadioButton1.setSelected(false);\r\n        updateSubtotal();\r\n    }                                             \r\n\r\n    //Oil filter check button\r\n    private void jCheckBox2ActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n       oilAndFilterSelected = jCheckBox2.isSelected();\r\n                updateSubtotal();\r\n    }                                          \r\n\r\n    //none ration button\r\n    private void jRadioButton4ActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\nwashAndCompoundSelected = false;\r\n         regularWashSelected = false ; \r\n         jRadioButton5.setSelected(false);\r\n         jRadioButton6.setSelected(false);\r\n    }                                             \r\n    \r\n    //battery check button\r\n    private void jCheckBox1ActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        batterySelected = jCheckBox1.isSelected();\r\n                updateSubtotal();\r\n    }                                          \r\n\r\n    //Brakes check button\r\n    private void jCheckBox3ActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        brakesSelected = jCheckBox3.isSelected();\r\n                updateSubtotal();\r\n    }                                          \r\n    \r\n    //gear check button\r\n    private void jCheckBox4ActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        gearsSelected = jCheckBox4.isSelected();\r\n                updateSubtotal();\r\n    }                                          \r\n\r\n    //rugular was ration button\r\n    private void jRadioButton5ActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\n        regularWashSelected = true;\r\n        washAndCompoundSelected =false;\r\n        jRadioButton6.setSelected(false);\r\n                updateSubtotal();\r\n    }                                             \r\n\r\n    //Wash and compound ration button\r\n    private void jRadioButton6ActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\n         washAndCompoundSelected = true;\r\n         regularWashSelected = false;\r\n         jRadioButton5.setSelected(false);\r\n                updateSubtotal();\r\n    }                                             \r\n    \r\n    //calculate button\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        double total = subtotal + (subtotal * 0.1);\r\n        double tax=subtotal * 0.1;\r\n        Total totalFrame = new Total(total, subtotal, tax);\r\n        totalFrame.setVisible(true);\r\n        \r\n    }                                        \r\n\r\n    //exit button\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        System.exit(0);\r\n    }                                        \r\n\r\n    public static void main(String args[]) {\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new demo().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton jButton1;\r\n    private javax.swing.JButton jButton2;\r\n    private javax.swing.JCheckBox jCheckBox1;\r\n    private javax.swing.JCheckBox jCheckBox2;\r\n    private javax.swing.JCheckBox jCheckBox3;\r\n    private javax.swing.JCheckBox jCheckBox4;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JPanel jPanel1;\r\n    private javax.swing.JPanel jPanel2;\r\n    private javax.swing.JPanel jPanel3;\r\n    private javax.swing.JRadioButton jRadioButton1;\r\n    private javax.swing.JRadioButton jRadioButton2;\r\n    private javax.swing.JRadioButton jRadioButton3;\r\n    private javax.swing.JRadioButton jRadioButton4;\r\n    private javax.swing.JRadioButton jRadioButton5;\r\n    private javax.swing.JRadioButton jRadioButton6;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\ntotal class\r\n```\r\n\r\npackage car.wash_05;\r\npublic class Total extends javax.swing.JFrame {\r\n\r\n    public Total() {\r\n        \r\n    }\r\n\r\n    public Total(double tota, double subtota, double ta) {\r\n        initComponents();\r\n        jLabel1.setText(&quot;Subtotal: $&quot; + subtota);\r\n        jLabel2.setText(&quot;tax: $&quot; + ta);\r\n        jLabel3.setText(&quot;Total: $&quot; + tota);\r\n        \r\n    }\r\n\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jButton1 = new javax.swing.JButton();\r\n        jLabel1 = new javax.swing.JLabel();\r\n        jLabel2 = new javax.swing.JLabel();\r\n        jLabel3 = new javax.swing.JLabel();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n        setTitle(&quot;Total&quot;);\r\n\r\n        jButton1.setText(&quot;Ok&quot;);\r\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jLabel1.setText(&quot;jLabel1&quot;);\r\n\r\n        jLabel2.setText(&quot;jLabel2&quot;);\r\n\r\n        jLabel3.setText(&quot;jLabel3&quot;);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(32, 32, 32)\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\r\n                            .addComponent(jLabel2)\r\n                            .addComponent(jLabel1)\r\n                            .addComponent(jLabel3)))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(101, 101, 101)\r\n                        .addComponent(jButton1)))\r\n                .addContainerGap(105, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\r\n                .addContainerGap(20, Short.MAX_VALUE)\r\n                .addComponent(jLabel1)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addComponent(jLabel2)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addComponent(jLabel3)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                .addComponent(jButton1)\r\n                .addContainerGap())\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n//ok button\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n         this.dispose();\r\n    }                                        \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new Total().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton jButton1;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel3;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI trid adding check, restarting the system and reinstalling java. it wouldn&#39;t work.it just freezes, not even the close and other buttons would work, have to force chose it from task manager.","link":"https://stackoverflow.com/questions/77551725/java-gui-window-would-freeeze-in-start","title":"Java GUI window would freeeze in start","body":"<p>This a gui program of a car wash. consists of two class demo and total that would display total in a new window after calculations. everything was working fine, dicided to run it one more time for screenshot to sumbit but it stucks, like program is running but window freezes. I am using net bean drag and drop method.\n<a href=\"https://i.stack.imgur.com/4dGqO.png\" rel=\"nofollow noreferrer\">enter image description here</a>\ndemo class</p>\n<pre><code>package car.wash_05;\n\npublic class demo extends javax.swing.JFrame {\n    private double small_Engine = 100.0;\n    private double big_engine = 200.0;\n    private double battery = 100.0;\n    private double oi_filter = 70.0;\n    private double brakes = 100.0;\n    private double gears = 100.0;\n    private double regular_wash = 50.0;\n    private double wash_Compound = 100.0;\n\n    // Declare variables to store the selected services\n    private boolean smallEngineSelected = false;\n    private boolean bigEngineSelected = false;\n    private boolean batterySelected = false;\n    private boolean oilAndFilterSelected = false;\n    private boolean brakesSelected = false;\n    private boolean gearsSelected = false;\n    private boolean regularWashSelected = false;\n    private boolean washAndCompoundSelected = false;\n\n    // Declare a variable to store the subtotal price\n    private double subtotal = 0.0;\n    \n    public demo() {\n        System.out.println(&quot;Before GUI initialization&quot;);\ninitComponents();\nSystem.out.println(&quot;After GUI initialization&quot;);\n    }\n    \n     private void updateSubtotal() {\n        subtotal = 0.0;\n\n        if (smallEngineSelected) \n            subtotal += small_Engine;\n\n        if (bigEngineSelected)\n            subtotal += big_engine;\n\n        if (batterySelected) \n            subtotal += battery;\n\n        if (oilAndFilterSelected)\n            subtotal += oi_filter;\n\n        if (brakesSelected) \n            subtotal += brakes;\n\n        if (gearsSelected) \n            subtotal += gears;\n     }\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jRadioButton2 = new javax.swing.JRadioButton();\n        jLabel1 = new javax.swing.JLabel();\n        jPanel1 = new javax.swing.JPanel();\n        jRadioButton1 = new javax.swing.JRadioButton();\n        jRadioButton3 = new javax.swing.JRadioButton();\n        jPanel2 = new javax.swing.JPanel();\n        jRadioButton4 = new javax.swing.JRadioButton();\n        jRadioButton5 = new javax.swing.JRadioButton();\n        jRadioButton6 = new javax.swing.JRadioButton();\n        jPanel3 = new javax.swing.JPanel();\n        jCheckBox1 = new javax.swing.JCheckBox();\n        jCheckBox2 = new javax.swing.JCheckBox();\n        jCheckBox3 = new javax.swing.JCheckBox();\n        jCheckBox4 = new javax.swing.JCheckBox();\n        jButton1 = new javax.swing.JButton();\n        jButton2 = new javax.swing.JButton();\n\n        jRadioButton2.setText(&quot;jRadioButton2&quot;);\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        setTitle(&quot;Auto Tech and Mech Services&quot;);\n        setEnabled(false);\n\n        jLabel1.setText(&quot;Welcome to Auto Tech and Mech Services&quot;);\n\n        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());\n        jPanel1.setToolTipText(&quot;&quot;);\n\n        jRadioButton1.setText(&quot;Small&quot;);\n        jRadioButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jRadioButton1ActionPerformed(evt);\n            }\n        });\n\n        jRadioButton3.setText(&quot;Big&quot;);\n        jRadioButton3.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jRadioButton3ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\n        jPanel1.setLayout(jPanel1Layout);\n        jPanel1Layout.setHorizontalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jRadioButton1)\n                    .addComponent(jRadioButton3))\n                .addContainerGap(10, Short.MAX_VALUE))\n        );\n        jPanel1Layout.setVerticalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addGap(39, 39, 39)\n                .addComponent(jRadioButton1)\n                .addGap(29, 29, 29)\n                .addComponent(jRadioButton3)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        jPanel2.setBorder(javax.swing.BorderFactory.createEtchedBorder());\n        jPanel2.setName(&quot;&quot;); // NOI18N\n\n        jRadioButton4.setText(&quot;None&quot;);\n        jRadioButton4.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jRadioButton4ActionPerformed(evt);\n            }\n        });\n\n        jRadioButton5.setText(&quot;Regular Wash&quot;);\n        jRadioButton5.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jRadioButton5ActionPerformed(evt);\n            }\n        });\n\n        jRadioButton6.setText(&quot;Wash &amp; Compound&quot;);\n        jRadioButton6.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jRadioButton6ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);\n        jPanel2.setLayout(jPanel2Layout);\n        jPanel2Layout.setHorizontalGroup(\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel2Layout.createSequentialGroup()\n                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jRadioButton4)\n                    .addComponent(jRadioButton5)\n                    .addComponent(jRadioButton6))\n                .addGap(0, 0, Short.MAX_VALUE))\n        );\n        jPanel2Layout.setVerticalGroup(\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel2Layout.createSequentialGroup()\n                .addGap(28, 28, 28)\n                .addComponent(jRadioButton4)\n                .addGap(28, 28, 28)\n                .addComponent(jRadioButton5)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addComponent(jRadioButton6)\n                .addGap(14, 14, 14))\n        );\n\n        jPanel3.setBorder(javax.swing.BorderFactory.createEtchedBorder());\n        jPanel3.setToolTipText(&quot;&quot;);\n        jPanel3.setName(&quot;&quot;); // NOI18N\n\n        jCheckBox1.setText(&quot;Battery&quot;);\n        jCheckBox1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jCheckBox1ActionPerformed(evt);\n            }\n        });\n\n        jCheckBox2.setText(&quot;Oil Filters&quot;);\n        jCheckBox2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jCheckBox2ActionPerformed(evt);\n            }\n        });\n\n        jCheckBox3.setText(&quot;Brakes&quot;);\n        jCheckBox3.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jCheckBox3ActionPerformed(evt);\n            }\n        });\n\n        jCheckBox4.setText(&quot;Gear&quot;);\n        jCheckBox4.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jCheckBox4ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);\n        jPanel3.setLayout(jPanel3Layout);\n        jPanel3Layout.setHorizontalGroup(\n            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel3Layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jCheckBox1)\n                    .addComponent(jCheckBox2)\n                    .addComponent(jCheckBox3)\n                    .addComponent(jCheckBox4))\n                .addContainerGap(105, Short.MAX_VALUE))\n        );\n        jPanel3Layout.setVerticalGroup(\n            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel3Layout.createSequentialGroup()\n                .addGap(19, 19, 19)\n                .addComponent(jCheckBox1)\n                .addGap(18, 18, 18)\n                .addComponent(jCheckBox2)\n                .addGap(18, 18, 18)\n                .addComponent(jCheckBox3)\n                .addGap(18, 18, 18)\n                .addComponent(jCheckBox4)\n                .addContainerGap(8, Short.MAX_VALUE))\n        );\n\n        jButton1.setText(&quot;Calculate&quot;);\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        jButton2.setText(&quot;Exit&quot;);\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton2ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jLabel1)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\n                            .addGroup(layout.createSequentialGroup()\n                                .addComponent(jButton1)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                .addComponent(jButton2))\n                            .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(12, 12, 12)\n                .addComponent(jLabel1)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\n                    .addComponent(jPanel3, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .addComponent(jPanel1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jButton1)\n                    .addComponent(jButton2))\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        jPanel1.getAccessibleContext().setAccessibleName(&quot;&quot;);\n        jPanel2.getAccessibleContext().setAccessibleName(&quot;&quot;);\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n    //Small engine ratio button\n    private void jRadioButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                              \n\n                smallEngineSelected = true;\n                bigEngineSelected = false;\n                jRadioButton3.setSelected(false);\n                updateSubtotal();\n    }                                             \n    \n    //big engine ratio button\n    private void jRadioButton3ActionPerformed(java.awt.event.ActionEvent evt) {                                              \n        bigEngineSelected = true;\n        smallEngineSelected = false;\n        jRadioButton1.setSelected(false);\n        updateSubtotal();\n    }                                             \n\n    //Oil filter check button\n    private void jCheckBox2ActionPerformed(java.awt.event.ActionEvent evt) {                                           \n       oilAndFilterSelected = jCheckBox2.isSelected();\n                updateSubtotal();\n    }                                          \n\n    //none ration button\n    private void jRadioButton4ActionPerformed(java.awt.event.ActionEvent evt) {                                              \nwashAndCompoundSelected = false;\n         regularWashSelected = false ; \n         jRadioButton5.setSelected(false);\n         jRadioButton6.setSelected(false);\n    }                                             \n    \n    //battery check button\n    private void jCheckBox1ActionPerformed(java.awt.event.ActionEvent evt) {                                           \n        batterySelected = jCheckBox1.isSelected();\n                updateSubtotal();\n    }                                          \n\n    //Brakes check button\n    private void jCheckBox3ActionPerformed(java.awt.event.ActionEvent evt) {                                           \n        brakesSelected = jCheckBox3.isSelected();\n                updateSubtotal();\n    }                                          \n    \n    //gear check button\n    private void jCheckBox4ActionPerformed(java.awt.event.ActionEvent evt) {                                           \n        gearsSelected = jCheckBox4.isSelected();\n                updateSubtotal();\n    }                                          \n\n    //rugular was ration button\n    private void jRadioButton5ActionPerformed(java.awt.event.ActionEvent evt) {                                              \n        regularWashSelected = true;\n        washAndCompoundSelected =false;\n        jRadioButton6.setSelected(false);\n                updateSubtotal();\n    }                                             \n\n    //Wash and compound ration button\n    private void jRadioButton6ActionPerformed(java.awt.event.ActionEvent evt) {                                              \n         washAndCompoundSelected = true;\n         regularWashSelected = false;\n         jRadioButton5.setSelected(false);\n                updateSubtotal();\n    }                                             \n    \n    //calculate button\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        double total = subtotal + (subtotal * 0.1);\n        double tax=subtotal * 0.1;\n        Total totalFrame = new Total(total, subtotal, tax);\n        totalFrame.setVisible(true);\n        \n    }                                        \n\n    //exit button\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        System.exit(0);\n    }                                        \n\n    public static void main(String args[]) {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new demo().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JButton jButton2;\n    private javax.swing.JCheckBox jCheckBox1;\n    private javax.swing.JCheckBox jCheckBox2;\n    private javax.swing.JCheckBox jCheckBox3;\n    private javax.swing.JCheckBox jCheckBox4;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JPanel jPanel1;\n    private javax.swing.JPanel jPanel2;\n    private javax.swing.JPanel jPanel3;\n    private javax.swing.JRadioButton jRadioButton1;\n    private javax.swing.JRadioButton jRadioButton2;\n    private javax.swing.JRadioButton jRadioButton3;\n    private javax.swing.JRadioButton jRadioButton4;\n    private javax.swing.JRadioButton jRadioButton5;\n    private javax.swing.JRadioButton jRadioButton6;\n    // End of variables declaration                   \n}\n\n</code></pre>\n<p>total class</p>\n<pre><code>\npackage car.wash_05;\npublic class Total extends javax.swing.JFrame {\n\n    public Total() {\n        \n    }\n\n    public Total(double tota, double subtota, double ta) {\n        initComponents();\n        jLabel1.setText(&quot;Subtotal: $&quot; + subtota);\n        jLabel2.setText(&quot;tax: $&quot; + ta);\n        jLabel3.setText(&quot;Total: $&quot; + tota);\n        \n    }\n\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jButton1 = new javax.swing.JButton();\n        jLabel1 = new javax.swing.JLabel();\n        jLabel2 = new javax.swing.JLabel();\n        jLabel3 = new javax.swing.JLabel();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        setTitle(&quot;Total&quot;);\n\n        jButton1.setText(&quot;Ok&quot;);\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        jLabel1.setText(&quot;jLabel1&quot;);\n\n        jLabel2.setText(&quot;jLabel2&quot;);\n\n        jLabel3.setText(&quot;jLabel3&quot;);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(32, 32, 32)\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\n                            .addComponent(jLabel2)\n                            .addComponent(jLabel1)\n                            .addComponent(jLabel3)))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(101, 101, 101)\n                        .addComponent(jButton1)))\n                .addContainerGap(105, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                .addContainerGap(20, Short.MAX_VALUE)\n                .addComponent(jLabel1)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(jLabel2)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(jLabel3)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addComponent(jButton1)\n                .addContainerGap())\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n//ok button\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n         this.dispose();\n    }                                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Total().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    // End of variables declaration                   \n}\n\n</code></pre>\n<p>I trid adding check, restarting the system and reinstalling java. it wouldn't work.it just freezes, not even the close and other buttons would work, have to force chose it from task manager.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security"],"comments":[{"score":0,"post_type":"question","creation_date":1692620943,"post_id":76945106,"comment_id":135644069,"body_markdown":"[Migration Guide](https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html)","link":"https://stackoverflow.com/questions/76945106/springboot-securityfilterchain#comment135644069_76945106","body":"<a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"nofollow noreferrer\">Migration Guide</a>"},{"score":0,"post_type":"question","creation_date":1692621379,"post_id":76945106,"comment_id":135644171,"body_markdown":"[Securing-web](https://spring.io/guides/gs/securing-web/), this 2 resources will be enough to cover this topic","link":"https://stackoverflow.com/questions/76945106/springboot-securityfilterchain#comment135644171_76945106","body":"<a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow noreferrer\">Securing-web</a>, this 2 resources will be enough to cover this topic"},{"score":0,"post_type":"question","creation_date":1692641364,"post_id":76945106,"comment_id":135648539,"body_markdown":"please do not post any pictures of text ... post text itself","link":"https://stackoverflow.com/questions/76945106/springboot-securityfilterchain#comment135648539_76945106","body":"please do not post any pictures of text ... post text itself"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1697122299,"creation_date":1697122299,"answer_id":77281672,"question_id":76945106,"body_markdown":"Try this \r\n```\r\n  @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n\r\n\r\n    } ","link":"https://stackoverflow.com/questions/76945106/springboot-securityfilterchain/77281672#77281672","title":"Springboot SecurityFilterChain","body":"<p>Try this</p>\n<pre><code>  @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n\n\n    } \n</code></pre>\n"}],"comment_count":3,"is_answered":false,"view_count":166,"answer_count":1,"score":1,"last_activity_date":1701012896,"creation_date":1692619379,"last_edit_date":1692641319,"question_id":76945106,"body_markdown":"im just tryna to learn springbootsecurity and in this bloc there s many error &#39;csrf()&#39; and &#39;authorizeHttpRequests()&#39; are deprecated and marked for removal  and theres also problem in JwtAuthenticationFilter it said \r\nCannot resolve symbol &#39;JwtAuthenticationFilter&#39;\r\n\r\n![enter image description here](https://i.stack.imgur.com/H4b2K.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/JV92o.png) \r\n\r\ncould someone help me  for solving this \r\npublic class SecurityConfig {\r\n\r\n\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n\r\n    //les listes n est authentifies mais les autres doivent etres authentication\r\n    @Bean\r\n    public SecurityFilterChain SecurityFilterChain(HttpSecurity http)throws Exception{\r\n\r\n        http\r\n              .csrf()\r\n              .disable()\r\n              .authorizeHttpRequests()\r\n            \r\n              .authenticated()\r\n              .and()\r\n              .sessionManagement()\r\n              .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n          \r\n              .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n\r\n        return http.build();\r\n","link":"https://stackoverflow.com/questions/76945106/springboot-securityfilterchain","title":"Springboot SecurityFilterChain","body":"<p>im just tryna to learn springbootsecurity and in this bloc there s many error 'csrf()' and 'authorizeHttpRequests()' are deprecated and marked for removal  and theres also problem in JwtAuthenticationFilter it said\nCannot resolve symbol 'JwtAuthenticationFilter'</p>\n<p><img src=\"https://i.stack.imgur.com/H4b2K.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/JV92o.png\" alt=\"enter image description here\" /></p>\n<p>could someone help me  for solving this\npublic class SecurityConfig {</p>\n<pre><code>private final JwtAuthenticationFilter jwtAuthFilter;\nprivate final AuthenticationProvider authenticationProvider;\n\n//les listes n est authentifies mais les autres doivent etres authentication\n@Bean\npublic SecurityFilterChain SecurityFilterChain(HttpSecurity http)throws Exception{\n\n    http\n          .csrf()\n          .disable()\n          .authorizeHttpRequests()\n        \n          .authenticated()\n          .and()\n          .sessionManagement()\n          .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n      \n          .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n\n    return http.build();\n</code></pre>\n"},{"tags":["java","eclipse"],"comment_count":0,"is_answered":false,"view_count":14,"answer_count":0,"score":0,"last_activity_date":1701012339,"creation_date":1700984568,"last_edit_date":1701012339,"question_id":77550859,"body_markdown":"When I create a new project in Eclipse 2019, I always get this error. Tried changing workspace, but nothing worked for me. What to do now?\r\n\r\n[![Ecplise IDE Error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ai7yC.png","link":"https://stackoverflow.com/questions/77550859/getting-error-when-creating-a-new-dynamic-project-in-jsp-using-ecplise-ide-2019","title":"Getting error when creating a new Dynamic Project in JSP using Ecplise IDE 2019","body":"<p>When I create a new project in Eclipse 2019, I always get this error. Tried changing workspace, but nothing worked for me. What to do now?</p>\n<p><a href=\"https://i.stack.imgur.com/ai7yC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ai7yC.png\" alt=\"Ecplise IDE Error\" /></a></p>\n"},{"tags":["java","console"],"comments":[{"score":0,"post_type":"question","creation_date":1701011371,"post_id":77552205,"comment_id":136719481,"body_markdown":"You need to change the file association to java.exe *from* javaw.exe","link":"https://stackoverflow.com/questions/77552205/how-to-make-an-executable-jar-use-the-console#comment136719481_77552205","body":"You need to change the file association to java.exe <i>from</i> javaw.exe"},{"score":0,"post_type":"question","creation_date":1701011571,"post_id":77552205,"comment_id":136719504,"body_markdown":"Thanks for your answer. Yes, this works on my computer. But I want to be able to deploy the app without forcing others to change their associations. That&#39;s why I am looking for a different approach.","link":"https://stackoverflow.com/questions/77552205/how-to-make-an-executable-jar-use-the-console#comment136719504_77552205","body":"Thanks for your answer. Yes, this works on my computer. But I want to be able to deploy the app without forcing others to change their associations. That&#39;s why I am looking for a different approach."},{"score":0,"post_type":"question","creation_date":1701011845,"post_id":77552205,"comment_id":136719535,"body_markdown":"If you want to deploy and share a program that requires user interaction, then don&#39;t create and deploy a console app. Instead, create a GUI with your choice of GUI library, e.g., Swing, JavaFX, and then the problem is solved with no need to change association.","link":"https://stackoverflow.com/questions/77552205/how-to-make-an-executable-jar-use-the-console#comment136719535_77552205","body":"If you want to deploy and share a program that requires user interaction, then don&#39;t create and deploy a console app. Instead, create a GUI with your choice of GUI library, e.g., Swing, JavaFX, and then the problem is solved with no need to change association."},{"score":0,"post_type":"question","creation_date":1701012019,"post_id":77552205,"comment_id":136719562,"body_markdown":"Thanks for your comment. I am learning how to create a GUI and you are right. I just thought that there has to be a simple way of doing what I want to do. Because I would literally use JavaFX to build a cmd.exe clone.","link":"https://stackoverflow.com/questions/77552205/how-to-make-an-executable-jar-use-the-console#comment136719562_77552205","body":"Thanks for your comment. I am learning how to create a GUI and you are right. I just thought that there has to be a simple way of doing what I want to do. Because I would literally use JavaFX to build a cmd.exe clone."},{"score":0,"post_type":"question","creation_date":1701012160,"post_id":77552205,"comment_id":136719578,"body_markdown":"What? No, don&#39;t build a command-line clone. There are much cleaner ways of interacting with the user that you should be learning and using.","link":"https://stackoverflow.com/questions/77552205/how-to-make-an-executable-jar-use-the-console#comment136719578_77552205","body":"What? No, don&#39;t build a command-line clone. There are much cleaner ways of interacting with the user that you should be learning and using."},{"score":0,"post_type":"question","creation_date":1701014765,"post_id":77552205,"comment_id":136719857,"body_markdown":"The other way to make a Java app easy for non-technical people to install and use is to create an installer that will setup and install the app an embedded Java installation, wrapper scripts and anything else it needs.  That should be able to deal with the &quot;launch with a console&quot; problem.  (But apps that use the console for ... anything ... are very non-Windows.)","link":"https://stackoverflow.com/questions/77552205/how-to-make-an-executable-jar-use-the-console#comment136719857_77552205","body":"The other way to make a Java app easy for non-technical people to install and use is to create an installer that will setup and install the app an embedded Java installation, wrapper scripts and anything else it needs.  That should be able to deal with the &quot;launch with a console&quot; problem.  (But apps that use the console for ... anything ... are very non-Windows.)"}],"comment_count":6,"is_answered":false,"view_count":44,"answer_count":0,"score":-2,"last_activity_date":1701012334,"creation_date":1701010882,"question_id":77552205,"body_markdown":"I have got a simple java app. If I run this app from cmd.exe everything works fine. The console then is use for input and output.\r\n\r\nNow I made an execute jar out of this app. If I start this jar from cmd.exe everything works fine again.\r\n\r\nBut I want to start the app by double clicking the jar file. In this case there is no console and no input or output.\r\n\r\nI am now looking for a way to fix it.\r\n\r\nI figured out, that the problem occurres because when starting the jar with a double click results in usage if javaw.exe instead of java.exe wich lacks a console.\r\n\r\nOne way to fix this would be changing the systems behaviour to start jars with java.exe instead of javaw.exe. Except from the problem that the console won&#39;t stay open in this case, this works.\r\n\r\nI still want to find another way because I want to be able to deploy my app without the need of changing the .jar association.\r\n\r\nThis leads me to the question if there&#39;s a simple way to make a executable jar that has been started by a double click behave like it had been start from a console.\r\n\r\nAny help is much appreciated!","link":"https://stackoverflow.com/questions/77552205/how-to-make-an-executable-jar-use-the-console","title":"How to make an executable jar use the console?","body":"<p>I have got a simple java app. If I run this app from cmd.exe everything works fine. The console then is use for input and output.</p>\n<p>Now I made an execute jar out of this app. If I start this jar from cmd.exe everything works fine again.</p>\n<p>But I want to start the app by double clicking the jar file. In this case there is no console and no input or output.</p>\n<p>I am now looking for a way to fix it.</p>\n<p>I figured out, that the problem occurres because when starting the jar with a double click results in usage if javaw.exe instead of java.exe wich lacks a console.</p>\n<p>One way to fix this would be changing the systems behaviour to start jars with java.exe instead of javaw.exe. Except from the problem that the console won't stay open in this case, this works.</p>\n<p>I still want to find another way because I want to be able to deploy my app without the need of changing the .jar association.</p>\n<p>This leads me to the question if there's a simple way to make a executable jar that has been started by a double click behave like it had been start from a console.</p>\n<p>Any help is much appreciated!</p>\n"},{"tags":["java","encryption","aes","encryption-symmetric","pbkdf2"],"comments":[{"score":2,"post_type":"question","creation_date":1674837892,"post_id":75260818,"comment_id":132805337,"body_markdown":"Decryption fails because a different IV is used than in encryption (since `getInitializationVector()` generates a random IV). The correct way is to pass the IV used during encryption together with the ciphertext to the decrypting side (note that the IV is not secret).","link":"https://stackoverflow.com/questions/75260818/encryption-decryption-fails#comment132805337_75260818","body":"Decryption fails because a different IV is used than in encryption (since <code>getInitializationVector()</code> generates a random IV). The correct way is to pass the IV used during encryption together with the ciphertext to the decrypting side (note that the IV is not secret)."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1675193123,"post_id":75285369,"comment_id":132874811,"body_markdown":"This isn&#39;t the correct way of solving this problem, as it reduces the security of the encrypted data. While you want to have the same IV for encryption and decryption of some data, you don&#39;t want to use the same IV in your program for encrypting everything.","link":"https://stackoverflow.com/questions/75260818/encryption-decryption-fails/75285369#comment132874811_75285369","body":"This isn&#39;t the correct way of solving this problem, as it reduces the security of the encrypted data. While you want to have the same IV for encryption and decryption of some data, you don&#39;t want to use the same IV in your program for encrypting everything."}],"comment_count":1,"score":0,"last_activity_date":1675086700,"creation_date":1675086700,"answer_id":75285369,"question_id":75260818,"body_markdown":"Solved the problem above with the help of Topaco&#39;s comment. Instead of picking a new random number each time I run through method:\r\n\r\n    public static IvParameterSpec getInitializationVector() {\r\n        byte[] iv = new byte[16];\r\n        new SecureRandom().nextBytes(iv);\r\n        return new IvParameterSpec(iv);\r\n    }\r\n\r\nI am using a hard coded byte array now:\r\n\r\n    public static IvParameterSpec getInitializationVector() {\r\n        byte[] iv = {1, 2, 3, ... 16};\r\n        return new IvParameterSpec(iv);\r\n    }\r\n\r\nPlease note that this solution is not exactly safe, was the IV is hard coded and can be extracted from source code. However, I choose not to pass it to the outside as my application is not very critical. I a proper solution, the random number needs to be returned together with the IvParameterSpec.","link":"https://stackoverflow.com/questions/75260818/encryption-decryption-fails/75285369#75285369","title":"Encryption/decryption fails","body":"<p>Solved the problem above with the help of Topaco's comment. Instead of picking a new random number each time I run through method:</p>\n<pre><code>public static IvParameterSpec getInitializationVector() {\n    byte[] iv = new byte[16];\n    new SecureRandom().nextBytes(iv);\n    return new IvParameterSpec(iv);\n}\n</code></pre>\n<p>I am using a hard coded byte array now:</p>\n<pre><code>public static IvParameterSpec getInitializationVector() {\n    byte[] iv = {1, 2, 3, ... 16};\n    return new IvParameterSpec(iv);\n}\n</code></pre>\n<p>Please note that this solution is not exactly safe, was the IV is hard coded and can be extracted from source code. However, I choose not to pass it to the outside as my application is not very critical. I a proper solution, the random number needs to be returned together with the IvParameterSpec.</p>\n"},{"comment_count":0,"score":1,"last_activity_date":1701011142,"last_edit_date":1701011142,"creation_date":1675196993,"answer_id":75302791,"question_id":75260818,"body_markdown":"Here is my attempt at solving this problem and also removing other security problems I&#39;ve noticed in your code. It is obvious you just copied the code without understanding the underlying concepts behind it.\r\n\r\nFirst things first, you need to differentiate between encryption and hashing. \r\n\r\nIn cryptography domain, one of the usage of hashing is to store user passwords in a form which isn&#39;t a plaintext. This is possible because the hash function are a one way functions, meaning that you cannot derive a password from a hash. Usually when hashing, a password&#39;s salt is used. Salt should be random bits of data that are unique for every hash you create. Also, there are security guidelines when it comes to salt sizes. I think the current recommended length of a salt should be at least 32 bits according to [NIST](https://www.nist.gov).\r\n\r\n`hashing_function(input, salt) -&gt; hashed_input`\r\n\r\nWhen using symmetric encryption, you will need to choose an algorithm, mode and a padding schema alongside a unique IV value. In your code you have chosen AES algorithm with CBC mode and PKCS5 padding. If you reuse an IV, you open yourself up to attacks which are easier to execute than those when you use a unique IV. Every time you encrypt a new sequence, you should use a new IV value. For example, you will use one, unique, IV value when encrypting one file or a message, but as soon as you want to encrypt another one you should use a new IV value. The main difference between hashing and encrypting is that encryption is not a one way function, meaning that with a proper key and iv you can decrypt your encrypted data.\r\n\r\n```\r\nk - encryption key\r\niv - initialization vector\r\np - plaintext\r\nc - ciphertext\r\nE - encryption function\r\nD - decryption function\r\n\r\n=&gt; E(p, k, iv) = c\r\n=&gt; D(c, k, iv) = p\r\n```\r\n\r\nThe reason why you are hashing your password is because you want to transform your text password into an encryption key. This is known as key stretching. You are using PBKDF2 algorithm with HMAC-SHA1 with 65,536 iterations. I think the current NIST recommendation is to use over 70,000 iterations with HMAC-SHA256. Keep in mind this is a recommendation, the combination of algorithms, iterations and other parameters depend on your desired level of security.\r\n\r\nIn this example, the reason why your unit test fails is that you are using different IV values for encryption and decryption. Once you fix this, your test will pass. However, in your code, your salt value, which you use for password hashing which is then used as a key for your symmetric encryption isn&#39;t correct. The salt should be unique and in the code snipped you provided you are hashing your password by using your own password as a salt. Essentially, you have this: `hashing_function(input, input) -&gt; hashed_input`, where input in this case is your password.\r\n\r\nI would solve this problem by adding another method called `getSalt()` and I would update the encryption and decryption methods, by adding an IV to methods parameters.\r\n```\r\n    public static byte[] getSalt() {\r\n        byte[] salt = new byte[32];\r\n        new SecureRandom().nextBytes(salt);\r\n        return salt;\r\n    }\r\n\r\n    public static String encrypt(String input, String password, byte[] salt, IvParameterSpec iv)\r\n            throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\r\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\r\n\r\n        SecretKey secretKey = null;\r\n        try {\r\n            secretKey = getSecretKey(password, salt);\r\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n            // code\r\n        }\r\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey, iv);\r\n        byte[] cipherText = cipher.doFinal(input.getBytes());\r\n        return Base64.getEncoder().encodeToString(cipherText);\r\n    }\r\n\r\n    public static String decrypt(String encryptedText, String password, byte[] salt, IvParameterSpec iv)\r\n            throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\r\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\r\n        SecretKey secretKey = null;\r\n        try {\r\n            secretKey = getSecretKey(password, salt);\r\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n            // code\r\n        }\r\n        cipher.init(Cipher.DECRYPT_MODE, secretKey, iv);\r\n        byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(encryptedText));\r\n        return new String(plainText);\r\n    }\r\n```\r\nThen I would use/test the code like this:\r\n```\r\n@Test\r\npublic void testDecrypt() {\r\n    String encryptedString;\r\n    String decryptedString;\r\n    String plaintext = &quot;some string&quot;;\r\n    String password = &quot;password&quot;;\r\n    byte[] salt = CryptoHelper.getSalt();\r\n    IvParameterSpec iv = CryptoHelper.getInitializationVector();\r\n\r\n    encryptedString = CryptoHelper.encrypt(plaintext, password, salt, iv);\r\n    decryptedString = CryptoHelper.decrypt(encryptedString, password, salt, iv);\r\n\r\n    assertEquals(plaintext,decryptedString)\r\n}\r\n```\r\nFinally, I would consider removing the try-catch from your test code as it doesn&#39;t, in its current form, provide any value. If an exception is thrown from the code being tested then the test will fail and that is normally what you want to happen. One exception would be when your test wants to provoke an exception.","link":"https://stackoverflow.com/questions/75260818/encryption-decryption-fails/75302791#75302791","title":"Encryption/decryption fails","body":"<p>Here is my attempt at solving this problem and also removing other security problems I've noticed in your code. It is obvious you just copied the code without understanding the underlying concepts behind it.</p>\n<p>First things first, you need to differentiate between encryption and hashing.</p>\n<p>In cryptography domain, one of the usage of hashing is to store user passwords in a form which isn't a plaintext. This is possible because the hash function are a one way functions, meaning that you cannot derive a password from a hash. Usually when hashing, a password's salt is used. Salt should be random bits of data that are unique for every hash you create. Also, there are security guidelines when it comes to salt sizes. I think the current recommended length of a salt should be at least 32 bits according to <a href=\"https://www.nist.gov\" rel=\"nofollow noreferrer\">NIST</a>.</p>\n<p><code>hashing_function(input, salt) -&gt; hashed_input</code></p>\n<p>When using symmetric encryption, you will need to choose an algorithm, mode and a padding schema alongside a unique IV value. In your code you have chosen AES algorithm with CBC mode and PKCS5 padding. If you reuse an IV, you open yourself up to attacks which are easier to execute than those when you use a unique IV. Every time you encrypt a new sequence, you should use a new IV value. For example, you will use one, unique, IV value when encrypting one file or a message, but as soon as you want to encrypt another one you should use a new IV value. The main difference between hashing and encrypting is that encryption is not a one way function, meaning that with a proper key and iv you can decrypt your encrypted data.</p>\n<pre><code>k - encryption key\niv - initialization vector\np - plaintext\nc - ciphertext\nE - encryption function\nD - decryption function\n\n=&gt; E(p, k, iv) = c\n=&gt; D(c, k, iv) = p\n</code></pre>\n<p>The reason why you are hashing your password is because you want to transform your text password into an encryption key. This is known as key stretching. You are using PBKDF2 algorithm with HMAC-SHA1 with 65,536 iterations. I think the current NIST recommendation is to use over 70,000 iterations with HMAC-SHA256. Keep in mind this is a recommendation, the combination of algorithms, iterations and other parameters depend on your desired level of security.</p>\n<p>In this example, the reason why your unit test fails is that you are using different IV values for encryption and decryption. Once you fix this, your test will pass. However, in your code, your salt value, which you use for password hashing which is then used as a key for your symmetric encryption isn't correct. The salt should be unique and in the code snipped you provided you are hashing your password by using your own password as a salt. Essentially, you have this: <code>hashing_function(input, input) -&gt; hashed_input</code>, where input in this case is your password.</p>\n<p>I would solve this problem by adding another method called <code>getSalt()</code> and I would update the encryption and decryption methods, by adding an IV to methods parameters.</p>\n<pre><code>    public static byte[] getSalt() {\n        byte[] salt = new byte[32];\n        new SecureRandom().nextBytes(salt);\n        return salt;\n    }\n\n    public static String encrypt(String input, String password, byte[] salt, IvParameterSpec iv)\n            throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\n\n        SecretKey secretKey = null;\n        try {\n            secretKey = getSecretKey(password, salt);\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            // code\n        }\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey, iv);\n        byte[] cipherText = cipher.doFinal(input.getBytes());\n        return Base64.getEncoder().encodeToString(cipherText);\n    }\n\n    public static String decrypt(String encryptedText, String password, byte[] salt, IvParameterSpec iv)\n            throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\n        SecretKey secretKey = null;\n        try {\n            secretKey = getSecretKey(password, salt);\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            // code\n        }\n        cipher.init(Cipher.DECRYPT_MODE, secretKey, iv);\n        byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(encryptedText));\n        return new String(plainText);\n    }\n</code></pre>\n<p>Then I would use/test the code like this:</p>\n<pre><code>@Test\npublic void testDecrypt() {\n    String encryptedString;\n    String decryptedString;\n    String plaintext = &quot;some string&quot;;\n    String password = &quot;password&quot;;\n    byte[] salt = CryptoHelper.getSalt();\n    IvParameterSpec iv = CryptoHelper.getInitializationVector();\n\n    encryptedString = CryptoHelper.encrypt(plaintext, password, salt, iv);\n    decryptedString = CryptoHelper.decrypt(encryptedString, password, salt, iv);\n\n    assertEquals(plaintext,decryptedString)\n}\n</code></pre>\n<p>Finally, I would consider removing the try-catch from your test code as it doesn't, in its current form, provide any value. If an exception is thrown from the code being tested then the test will fail and that is normally what you want to happen. One exception would be when your test wants to provoke an exception.</p>\n"}],"comment_count":1,"is_answered":true,"view_count":715,"answer_count":2,"score":0,"last_activity_date":1701011142,"creation_date":1674836915,"last_edit_date":1675203925,"question_id":75260818,"body_markdown":"I have a helper class AES encrypting/decrypting a String which is mostly a clone of the code provided in [Baeldung AES encryption example][1]\r\n\r\nThe code looks as follows:\r\n\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.KeySpec;\r\n    import java.util.Arrays;\r\n    import java.util.Base64;\r\n    \r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class CryptoHelper {\r\n    \r\n        private static final String CIPHER_ALGORITM_NAME = &quot;AES/CBC/PKCS5Padding&quot;;\r\n        private static final String HASHING_ALGO_NAME = &quot;PBKDF2WithHmacSHA1&quot;;\r\n        private static final int KEY_TARGET_LENGTH = 256;\r\n        private static final int HASHING_ITERATIONS = 65536;\r\n    \r\n        public static SecretKey getSecretKey(String string, byte[] salt)\r\n                throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n    \r\n            KeySpec spec = new PBEKeySpec(string.toCharArray(), salt, HASHING_ITERATIONS, KEY_TARGET_LENGTH);\r\n    \r\n            try {\r\n                SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(HASHING_ALGO_NAME);\r\n                SecretKey encryptedPassword = new SecretKeySpec(keyFactory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\r\n                return encryptedPassword;\r\n            } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n                throw e;\r\n            }\r\n    \r\n        }\r\n    \r\n        public static IvParameterSpec getInitializationVector() {\r\n            byte[] iv = new byte[16];\r\n            new SecureRandom().nextBytes(iv);\r\n            return new IvParameterSpec(iv);\r\n        }\r\n    \r\n        public static String encrypt(String input, String password, byte[] salt)\r\n                throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\r\n                InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n    \r\n            Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\r\n    \r\n            SecretKey secretKey = null;\r\n            try {\r\n                secretKey = getSecretKey(password, salt);\r\n            } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n                // code\r\n            }\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey, getInitializationVector());\r\n            byte[] cipherText = cipher.doFinal(input.getBytes());\r\n            return Base64.getEncoder().encodeToString(cipherText);\r\n        }\r\n    \r\n        public static String decrypt(String encryptedText, String password, byte[] salt)\r\n                throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\r\n                InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n    \r\n            Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\r\n            SecretKey secretKey = null;\r\n            try {\r\n                secretKey = getSecretKey(password, salt);\r\n            } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n                // code\r\n            }\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, getInitializationVector());\r\n            byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(encryptedText));\r\n            return new String(plainText);\r\n        }\r\n    }\r\n\r\n\r\nNow I test this with a unit test, but this test fails with\r\n\r\n&gt; javax.crypto.BadPaddingException: Given final block not properly\r\n&gt; padded. Such issues can arise if a bad key is used during decryption.\r\n\r\n    @Test\r\n    public void testDecrypt() {\r\n        String encryptedString = &quot;&quot;;\r\n        String password = &quot;password&quot;;\r\n\r\n        try {\r\n            encryptedString = CryptoHelper.encrypt(&quot;some string&quot;, password, password.getBytes());\r\n        } catch (InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException\r\n                | InvalidAlgorithmParameterException | BadPaddingException | IllegalBlockSizeException e) {\r\n            e.printStackTrace();\r\n            assertNull(e);\r\n        }\r\n\r\n        try {\r\n            CryptoHelper.decrypt(encryptedString, password, password.getBytes());\r\n        } catch (InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException\r\n                | InvalidAlgorithmParameterException | BadPaddingException | IllegalBlockSizeException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nWhat is wrong here?\r\n\r\n  [1]: https://www.baeldung.com/java-aes-encryption-decryption","link":"https://stackoverflow.com/questions/75260818/encryption-decryption-fails","title":"Encryption/decryption fails","body":"<p>I have a helper class AES encrypting/decrypting a String which is mostly a clone of the code provided in <a href=\"https://www.baeldung.com/java-aes-encryption-decryption\" rel=\"nofollow noreferrer\">Baeldung AES encryption example</a></p>\n<p>The code looks as follows:</p>\n<pre><code>import java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Arrays;\nimport java.util.Base64;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class CryptoHelper {\n\n    private static final String CIPHER_ALGORITM_NAME = &quot;AES/CBC/PKCS5Padding&quot;;\n    private static final String HASHING_ALGO_NAME = &quot;PBKDF2WithHmacSHA1&quot;;\n    private static final int KEY_TARGET_LENGTH = 256;\n    private static final int HASHING_ITERATIONS = 65536;\n\n    public static SecretKey getSecretKey(String string, byte[] salt)\n            throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n        KeySpec spec = new PBEKeySpec(string.toCharArray(), salt, HASHING_ITERATIONS, KEY_TARGET_LENGTH);\n\n        try {\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(HASHING_ALGO_NAME);\n            SecretKey encryptedPassword = new SecretKeySpec(keyFactory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\n            return encryptedPassword;\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            throw e;\n        }\n\n    }\n\n    public static IvParameterSpec getInitializationVector() {\n        byte[] iv = new byte[16];\n        new SecureRandom().nextBytes(iv);\n        return new IvParameterSpec(iv);\n    }\n\n    public static String encrypt(String input, String password, byte[] salt)\n            throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\n\n        SecretKey secretKey = null;\n        try {\n            secretKey = getSecretKey(password, salt);\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            // code\n        }\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey, getInitializationVector());\n        byte[] cipherText = cipher.doFinal(input.getBytes());\n        return Base64.getEncoder().encodeToString(cipherText);\n    }\n\n    public static String decrypt(String encryptedText, String password, byte[] salt)\n            throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException,\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITM_NAME);\n        SecretKey secretKey = null;\n        try {\n            secretKey = getSecretKey(password, salt);\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            // code\n        }\n        cipher.init(Cipher.DECRYPT_MODE, secretKey, getInitializationVector());\n        byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(encryptedText));\n        return new String(plainText);\n    }\n}\n</code></pre>\n<p>Now I test this with a unit test, but this test fails with</p>\n<blockquote>\n<p>javax.crypto.BadPaddingException: Given final block not properly\npadded. Such issues can arise if a bad key is used during decryption.</p>\n</blockquote>\n<pre><code>@Test\npublic void testDecrypt() {\n    String encryptedString = &quot;&quot;;\n    String password = &quot;password&quot;;\n\n    try {\n        encryptedString = CryptoHelper.encrypt(&quot;some string&quot;, password, password.getBytes());\n    } catch (InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException\n            | InvalidAlgorithmParameterException | BadPaddingException | IllegalBlockSizeException e) {\n        e.printStackTrace();\n        assertNull(e);\n    }\n\n    try {\n        CryptoHelper.decrypt(encryptedString, password, password.getBytes());\n    } catch (InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException\n            | InvalidAlgorithmParameterException | BadPaddingException | IllegalBlockSizeException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>What is wrong here?</p>\n"},{"tags":["java","swing","animation","button"],"comments":[{"score":2,"post_type":"question","creation_date":1700962989,"post_id":77550070,"comment_id":136716158,"body_markdown":"You REALLY should be making use of the `ButtonUI` as a starting point for [example](https://stackoverflow.com/questions/47339013/why-paintcomponent-is-defined-on-jcomponent/47341727#47341727), [example](https://stackoverflow.com/questions/76151080/how-do-i-extend-jbutton-but-modify-actionperformed/76151919#76151919), [example](https://stackoverflow.com/questions/76167851/button-corners-dont-get-painted-over-by-borders-they-are-moved-outwards-instea/76168325#76168325)","link":"https://stackoverflow.com/questions/77550070/how-can-i-change-the-button-pressing-animation-in-java-swing#comment136716158_77550070","body":"You REALLY should be making use of the <code>ButtonUI</code> as a starting point for <a href=\"https://stackoverflow.com/questions/47339013/why-paintcomponent-is-defined-on-jcomponent/47341727#47341727\">example</a>, <a href=\"https://stackoverflow.com/questions/76151080/how-do-i-extend-jbutton-but-modify-actionperformed/76151919#76151919\">example</a>, <a href=\"https://stackoverflow.com/questions/76167851/button-corners-dont-get-painted-over-by-borders-they-are-moved-outwards-instea/76168325#76168325\">example</a>"},{"score":0,"post_type":"question","creation_date":1700978003,"post_id":77550070,"comment_id":136716843,"body_markdown":"Always remember [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)!","link":"https://stackoverflow.com/questions/77550070/how-can-i-change-the-button-pressing-animation-in-java-swing#comment136716843_77550070","body":"Always remember <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a>!"}],"comment_count":2,"is_answered":false,"view_count":53,"answer_count":0,"score":0,"last_activity_date":1701010970,"creation_date":1700959342,"last_edit_date":1701010970,"question_id":77550070,"body_markdown":"I am making a Java Swing program, and created a special class for creating a customized button with rounded corners and a drop shadow. However, when I click it, it just uses its default animation, which is completely off with the button&#39;s look. How can I change that?\r\n\r\nHere is the code with the class i created:\r\n```\r\n    class RoundedButton extends JButton {\r\n\r\n        public RoundedButton(String text){\r\n            setText(text);\r\n            setContentAreaFilled(false);\r\n            setBorder(new EmptyBorder(8, 8, 8, 8));\r\n            setForeground(Color.WHITE);\r\n        }\r\n        \r\n\r\n        @Override\r\n        protected void paintComponent(Graphics g){\r\n            Graphics2D g2d = (Graphics2D) g.create();\r\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            int x=0, y=0, width=getWidth(), height=getHeight();\r\n            Area area = new Area(new RoundRectangle2D.Double(x, y, width, height, 10, 10));\r\n            g2d.setColor(new Color(70, 70, 70));\r\n            g2d.fill(area);\r\n            area.subtract(new Area(new RoundRectangle2D.Double(x, y, width, height-4, 10, 10)));\r\n            g2d.setColor(new Color(60, 60, 60));\r\n            g2d.fill(area);\r\n            g2d.dispose();\r\n            super.paintComponent(g);\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\nSo far I&#39;ve tried to add a mouse listener to the button, and make it so that it reruns the paintComponent function differently, changing the button&#39;s look accordingly, but even though it worked, it has quite a lot of delay, and still doesn&#39;t get rid of the old animation.\r\n\r\n```\r\n\r\n    applyButton.addMouseListener(new MouseAdapter() {\r\n       @Override\r\n       public void mousePressed(MouseEvent e) {\r\n           applyButton.setClicked(true);\r\n           applyButton.paintComponent(applyB.getGraphics());\r\n           super.mousePressed(e);\r\n       }\r\n\r\n       @Override\r\n       public void mouseReleased(MouseEvent e) {\r\n           applyButton.setClicked(false);\r\n           applyButton.paintComponent(applyB.getGraphics());\r\n           super.mouseReleased(e);\r\n       }\r\n   });\r\n```\r\n\r\n```class RoundedButton extends JButton {\r\n\r\n    public RoundedButton(String text){\r\n        setText(text);\r\n        setContentAreaFilled(false);\r\n        setBorder(new EmptyBorder(8, 8, 8, 8));\r\n        setForeground(Color.WHITE);\r\n    }\r\n\r\n    boolean c=false;\r\n\r\n    public void setClicked(boolean c){\r\n        this.c = c;\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g){\r\n        Graphics2D g2d = (Graphics2D) g.create();\r\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        int x=0, y=0, width=getWidth(), height=getHeight();\r\n        if(!c) {\r\n            Area area = new Area(new RoundRectangle2D.Double(x, y, width, height, 10, 10));\r\n            g2d.setColor(new Color(70, 70, 70));\r\n            g2d.fill(area);\r\n            area.subtract(new Area(new RoundRectangle2D.Double(x, y, width, height - 4, 10, 10)));\r\n            g2d.setColor(new Color(60, 60, 60));\r\n            g2d.fill(area);\r\n            g2d.dispose();\r\n        }else{\r\n            Area area = new Area(new RoundRectangle2D.Double(x, y, width, height, 10, 10));\r\n            g2d.setColor(new Color(50, 50, 50));\r\n            g2d.fill(area);\r\n            g2d.dispose();\r\n        }\r\n        super.paintComponent(g);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThanks in advance!\r\n\r\n","link":"https://stackoverflow.com/questions/77550070/how-can-i-change-the-button-pressing-animation-in-java-swing","title":"How can I change the button pressing animation in Java Swing?","body":"<p>I am making a Java Swing program, and created a special class for creating a customized button with rounded corners and a drop shadow. However, when I click it, it just uses its default animation, which is completely off with the button's look. How can I change that?</p>\n<p>Here is the code with the class i created:</p>\n<pre><code>    class RoundedButton extends JButton {\n\n        public RoundedButton(String text){\n            setText(text);\n            setContentAreaFilled(false);\n            setBorder(new EmptyBorder(8, 8, 8, 8));\n            setForeground(Color.WHITE);\n        }\n        \n\n        @Override\n        protected void paintComponent(Graphics g){\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            int x=0, y=0, width=getWidth(), height=getHeight();\n            Area area = new Area(new RoundRectangle2D.Double(x, y, width, height, 10, 10));\n            g2d.setColor(new Color(70, 70, 70));\n            g2d.fill(area);\n            area.subtract(new Area(new RoundRectangle2D.Double(x, y, width, height-4, 10, 10)));\n            g2d.setColor(new Color(60, 60, 60));\n            g2d.fill(area);\n            g2d.dispose();\n            super.paintComponent(g);\n        }\n\n    }\n</code></pre>\n<p>So far I've tried to add a mouse listener to the button, and make it so that it reruns the paintComponent function differently, changing the button's look accordingly, but even though it worked, it has quite a lot of delay, and still doesn't get rid of the old animation.</p>\n<pre><code>\n    applyButton.addMouseListener(new MouseAdapter() {\n       @Override\n       public void mousePressed(MouseEvent e) {\n           applyButton.setClicked(true);\n           applyButton.paintComponent(applyB.getGraphics());\n           super.mousePressed(e);\n       }\n\n       @Override\n       public void mouseReleased(MouseEvent e) {\n           applyButton.setClicked(false);\n           applyButton.paintComponent(applyB.getGraphics());\n           super.mouseReleased(e);\n       }\n   });\n</code></pre>\n<pre><code>\n    public RoundedButton(String text){\n        setText(text);\n        setContentAreaFilled(false);\n        setBorder(new EmptyBorder(8, 8, 8, 8));\n        setForeground(Color.WHITE);\n    }\n\n    boolean c=false;\n\n    public void setClicked(boolean c){\n        this.c = c;\n    }\n\n    @Override\n    protected void paintComponent(Graphics g){\n        Graphics2D g2d = (Graphics2D) g.create();\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        int x=0, y=0, width=getWidth(), height=getHeight();\n        if(!c) {\n            Area area = new Area(new RoundRectangle2D.Double(x, y, width, height, 10, 10));\n            g2d.setColor(new Color(70, 70, 70));\n            g2d.fill(area);\n            area.subtract(new Area(new RoundRectangle2D.Double(x, y, width, height - 4, 10, 10)));\n            g2d.setColor(new Color(60, 60, 60));\n            g2d.fill(area);\n            g2d.dispose();\n        }else{\n            Area area = new Area(new RoundRectangle2D.Double(x, y, width, height, 10, 10));\n            g2d.setColor(new Color(50, 50, 50));\n            g2d.fill(area);\n            g2d.dispose();\n        }\n        super.paintComponent(g);\n    }\n\n}\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","spring-security","auth0"],"comments":[{"score":1,"post_type":"question","creation_date":1701034740,"post_id":77552167,"comment_id":136721975,"body_markdown":"`I&#39;ve searched across the web and went deeply into documentations but there seem to be something I&#39;m missing` this is obviously not true, if that was in case the facts, then why have you posted code that contains some home made security filter taken from a random poorly written blog. Handing out jwt tokens to browsers is not recommended and there is reason to why this type of security does not exist in spring security. So delete that filter, and actually read the architecture chapters in the spring security docs.","link":"https://stackoverflow.com/questions/77552167/m2m-between-nodejs-java-and-auth0#comment136721975_77552167","body":"<code>I&#39;ve searched across the web and went deeply into documentations but there seem to be something I&#39;m missing</code> this is obviously not true, if that was in case the facts, then why have you posted code that contains some home made security filter taken from a random poorly written blog. Handing out jwt tokens to browsers is not recommended and there is reason to why this type of security does not exist in spring security. So delete that filter, and actually read the architecture chapters in the spring security docs."},{"score":1,"post_type":"question","creation_date":1701035008,"post_id":77552167,"comment_id":136721996,"body_markdown":"what you are looking for is called the _resource server_ part of the aouth2 specification. You clearly did not read docs, because its all in the oauth2 rfc. There is an entire chapter in spring security docs on it https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html and there are several blogs about it https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1","link":"https://stackoverflow.com/questions/77552167/m2m-between-nodejs-java-and-auth0#comment136721996_77552167","body":"what you are looking for is called the <i>resource server</i> part of the aouth2 specification. You clearly did not read docs, because its all in the oauth2 rfc. There is an entire chapter in spring security docs on it <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a> and there are several blogs about it <a href=\"https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1\" rel=\"nofollow noreferrer\">thomasandolf.medium.com/&hellip;</a>"},{"score":0,"post_type":"question","creation_date":1701088065,"post_id":77552167,"comment_id":136727540,"body_markdown":"I don&#39;t know why me saying I read docs and actually researched touched such a sensitive spot for you, but I literally spent hours reading through Java class docs (Like HttpSecurity, FilterChain,, Auth0&#39;s jwt etc.) but clearly I was looking at the wrong place. My mistakes were rooted in misunderstanding the flow and architecture rather than missing the right functions in Java.\n\nEither way your answer was helpful and sent me on the right direction to research so even though it was unnecessarily hostile, I appreciate it and thank you for your time and wisdom you shared","link":"https://stackoverflow.com/questions/77552167/m2m-between-nodejs-java-and-auth0#comment136727540_77552167","body":"I don&#39;t know why me saying I read docs and actually researched touched such a sensitive spot for you, but I literally spent hours reading through Java class docs (Like HttpSecurity, FilterChain,, Auth0&#39;s jwt etc.) but clearly I was looking at the wrong place. My mistakes were rooted in misunderstanding the flow and architecture rather than missing the right functions in Java.  Either way your answer was helpful and sent me on the right direction to research so even though it was unnecessarily hostile, I appreciate it and thank you for your time and wisdom you shared"}],"comment_count":3,"is_answered":false,"view_count":44,"answer_count":0,"score":-2,"last_activity_date":1701010274,"creation_date":1701010274,"question_id":77552167,"body_markdown":"I&#39;m having a hard time building a working security flow on our Java backend (using Spring, and specifically Spring Security). I&#39;ve searched across the web and went deeply into documentations but there seem to be something I&#39;m missing.\r\n\r\nHere&#39;s the problem - \r\nWe have a nodejs backend that handles all our api calls, we implemented Auth0 successfully on that backend. Now that backend need to make some calls to our Java backend and here&#39;s where things get weird.\r\nThe flow in my head is something along the lines of nodeJs authenticates against auth0 service, gets authorization token -&gt; nodejs makes API call to Java providing that token -&gt; Java validates that token using Auth0 -&gt; responses accordingly\r\nNow I had that working by doing something like this in my security config:\r\n\r\n        @Bean\r\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .requestMatchers(&quot;/my-api&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class)\r\n        return http.build();\r\n    }\r\n\r\nAnd it worked fine for a while, but now we want to add Swagger to the project that is not secured by that filter, or any filter for that matter.\r\nI&#39;ve tried editing my security config in so many ways it&#39;ll hours to just list them here, but I keep running into issues where either everything is secured with my JwtTokenFilter, or nothing is, or I got it to work where swagger wasn&#39;t protected, my API was protected but it was also protected by the normal filter chain so even after providing valid token I was sent to the login page to authenticate. \r\nI&#39;ve tried replacing the Spring Security&#39;s default security chain with my own filter chain but I did not success in doing so.\r\n\r\nCan anyone shed some light on how to do that? Or otherwise provide reasonable explanation why this is bad practice and I shouldn&#39;t do it?\r\nI just want swagger to not be protected, then in the API call require Authorization header, and then run my filter on that header and accept/reject the request based just on that.\r\n\r\nThanks and sorry for the incredibly long post. If there is any more information needed please let me know.\r\n","link":"https://stackoverflow.com/questions/77552167/m2m-between-nodejs-java-and-auth0","title":"m2m between nodejs, Java and auth0","body":"<p>I'm having a hard time building a working security flow on our Java backend (using Spring, and specifically Spring Security). I've searched across the web and went deeply into documentations but there seem to be something I'm missing.</p>\n<p>Here's the problem -\nWe have a nodejs backend that handles all our api calls, we implemented Auth0 successfully on that backend. Now that backend need to make some calls to our Java backend and here's where things get weird.\nThe flow in my head is something along the lines of nodeJs authenticates against auth0 service, gets authorization token -&gt; nodejs makes API call to Java providing that token -&gt; Java validates that token using Auth0 -&gt; responses accordingly\nNow I had that working by doing something like this in my security config:</p>\n<pre><code>    @Bean\npublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\n    http\n            .authorizeHttpRequests(authorize -&gt; authorize\n                    .requestMatchers(&quot;/my-api&quot;).permitAll()\n                    .anyRequest().authenticated()\n            )\n            .addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class)\n    return http.build();\n}\n</code></pre>\n<p>And it worked fine for a while, but now we want to add Swagger to the project that is not secured by that filter, or any filter for that matter.\nI've tried editing my security config in so many ways it'll hours to just list them here, but I keep running into issues where either everything is secured with my JwtTokenFilter, or nothing is, or I got it to work where swagger wasn't protected, my API was protected but it was also protected by the normal filter chain so even after providing valid token I was sent to the login page to authenticate.\nI've tried replacing the Spring Security's default security chain with my own filter chain but I did not success in doing so.</p>\n<p>Can anyone shed some light on how to do that? Or otherwise provide reasonable explanation why this is bad practice and I shouldn't do it?\nI just want swagger to not be protected, then in the API call require Authorization header, and then run my filter on that header and accept/reject the request based just on that.</p>\n<p>Thanks and sorry for the incredibly long post. If there is any more information needed please let me know.</p>\n"},{"tags":["java","swing"],"comments":[{"score":1,"post_type":"question","creation_date":1701014278,"post_id":77550995,"comment_id":136719814,"body_markdown":"*to select rows one by one and if I click button...* - It would seem to me that you need two buttons. The first button (&quot;Add to List&quot;) would be to add the selected row(s) to a List to allow you to select multiple items. Then you need a second button (&quot;Generate Billk&quot;) to generate the bill once you are finished with the selections.","link":"https://stackoverflow.com/questions/77550995/i-want-to-select-multiple-rows-from-jtable-and-get-them-on-jtextarea-to-generate#comment136719814_77550995","body":"<i>to select rows one by one and if I click button...</i> - It would seem to me that you need two buttons. The first button (&quot;Add to List&quot;) would be to add the selected row(s) to a List to allow you to select multiple items. Then you need a second button (&quot;Generate Billk&quot;) to generate the bill once you are finished with the selections."}],"comment_count":1,"is_answered":false,"view_count":14,"answer_count":0,"score":0,"last_activity_date":1701010271,"creation_date":1700988008,"last_edit_date":1701010271,"question_id":77550995,"body_markdown":"```\r\npublic void bill() {\r\n    int[] selectedRows = jTable2.getSelectedRows();\r\n\r\n    // Initialize total amount\r\n    double totalAmount = 0.0;\r\n\r\n    // Use a StringBuilder to construct the entire bill content\r\n    StringBuilder billContent = new StringBuilder();\r\n\r\n    // Append &quot;THE BILL&quot; header only if there are selected rows and the header hasn&#39;t been added\r\n    if (selectedRows.length &gt; 0 &amp;&amp; !headerAdded) {\r\n        billContent.append(&quot;==================================\\n&quot;);\r\n        billContent.append(&quot;\\t THE BILL \\n&quot;);\r\n        billContent.append(&quot;==================================\\n&quot;);\r\n        billContent.append(&quot;\\t&quot; + &quot;Prod_name&quot; + &quot;\\t&quot; + &quot;price&quot; + &quot;\\n&quot;);\r\n\r\n        // Update the flag after adding the header\r\n        headerAdded = true;\r\n    }\r\n\r\n    // Append selected rows in the order they are selected\r\n    for (int i : selectedRows) {\r\n        String prodName = jTable2.getValueAt(i, 0).toString();\r\n        String priceStr = jTable2.getValueAt(i, 1).toString();\r\n\r\n        // Extract numerical part of the price string\r\n        String priceValue = extractNumericValue(priceStr);\r\n\r\n        billContent.append(&quot;\\t&quot; + prodName + &quot;\\t&quot; + priceValue + &quot;\\n&quot;);\r\n\r\n        // Update the total amount\r\n        totalAmount += Double.parseDouble(priceValue);\r\n    }\r\n\r\n    // Additional formatting and display the total amount only once\r\n    if (selectedRows.length &gt; 0 &amp;&amp; !footerAdded) {\r\n        // Append the footer to the StringBuilder\r\n        billContent.append(&quot;\\n&quot;);\r\n        billContent.append(&quot;==================================\\n&quot;);\r\n        billContent.append(&quot;\\t TOTAL: \\t&quot; + totalAmount + &quot;\\n&quot;);\r\n        billContent.append(&quot;\\t THANK YOU!!!! \\n&quot;);\r\n\r\n        // Set the content of the text area with the entire bill\r\n        Area.setText(billContent.toString());\r\n\r\n        // Update the total amount in jTextField1\r\n        jTextField1.setText(String.valueOf(totalAmount));\r\n\r\n        // Update the flag after adding the footer\r\n        footerAdded = true;\r\n    }\r\n}\r\n```\r\nthis is my code but it does not work as I want it to.\r\n\r\nI am trying to get something like this\r\n```\r\n\t THE BILL \r\n==================================\r\n\tProd_name\tprice\r\n\tcake1\t500\r\n\tcapucino\t500\r\n\tbiscuit\t100\r\n\tcafe\t300\r\n\r\n==================================\r\n\t TOTAL: \t1400.0\r\n\t THANK YOU!!!!  \r\n```\r\n In the code I provided, I am just getting the provided output once I select multiple rows at once and click the JButton to achieve it and what I want is to select rows one by one and if I click button I get the desired output as provided.\r\n","link":"https://stackoverflow.com/questions/77550995/i-want-to-select-multiple-rows-from-jtable-and-get-them-on-jtextarea-to-generate","title":"I want to select multiple rows from JTable and get them on JTextArea to generate the bill","body":"<pre><code>public void bill() {\n    int[] selectedRows = jTable2.getSelectedRows();\n\n    // Initialize total amount\n    double totalAmount = 0.0;\n\n    // Use a StringBuilder to construct the entire bill content\n    StringBuilder billContent = new StringBuilder();\n\n    // Append &quot;THE BILL&quot; header only if there are selected rows and the header hasn't been added\n    if (selectedRows.length &gt; 0 &amp;&amp; !headerAdded) {\n        billContent.append(&quot;==================================\\n&quot;);\n        billContent.append(&quot;\\t THE BILL \\n&quot;);\n        billContent.append(&quot;==================================\\n&quot;);\n        billContent.append(&quot;\\t&quot; + &quot;Prod_name&quot; + &quot;\\t&quot; + &quot;price&quot; + &quot;\\n&quot;);\n\n        // Update the flag after adding the header\n        headerAdded = true;\n    }\n\n    // Append selected rows in the order they are selected\n    for (int i : selectedRows) {\n        String prodName = jTable2.getValueAt(i, 0).toString();\n        String priceStr = jTable2.getValueAt(i, 1).toString();\n\n        // Extract numerical part of the price string\n        String priceValue = extractNumericValue(priceStr);\n\n        billContent.append(&quot;\\t&quot; + prodName + &quot;\\t&quot; + priceValue + &quot;\\n&quot;);\n\n        // Update the total amount\n        totalAmount += Double.parseDouble(priceValue);\n    }\n\n    // Additional formatting and display the total amount only once\n    if (selectedRows.length &gt; 0 &amp;&amp; !footerAdded) {\n        // Append the footer to the StringBuilder\n        billContent.append(&quot;\\n&quot;);\n        billContent.append(&quot;==================================\\n&quot;);\n        billContent.append(&quot;\\t TOTAL: \\t&quot; + totalAmount + &quot;\\n&quot;);\n        billContent.append(&quot;\\t THANK YOU!!!! \\n&quot;);\n\n        // Set the content of the text area with the entire bill\n        Area.setText(billContent.toString());\n\n        // Update the total amount in jTextField1\n        jTextField1.setText(String.valueOf(totalAmount));\n\n        // Update the flag after adding the footer\n        footerAdded = true;\n    }\n}\n</code></pre>\n<p>this is my code but it does not work as I want it to.</p>\n<p>I am trying to get something like this</p>\n<pre><code>     THE BILL \n==================================\n    Prod_name   price\n    cake1   500\n    capucino    500\n    biscuit 100\n    cafe    300\n\n==================================\n     TOTAL:     1400.0\n     THANK YOU!!!!  \n</code></pre>\n<p>In the code I provided, I am just getting the provided output once I select multiple rows at once and click the JButton to achieve it and what I want is to select rows one by one and if I click button I get the desired output as provided.</p>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy","android-bluetooth"],"comments":[{"score":0,"post_type":"question","creation_date":1701005283,"post_id":77551814,"comment_id":136718910,"body_markdown":"&quot;the App crashes&quot; -- [use Logcat to examine the stack trace](https://commonsware.com/Jetpack/pages/chap-debug-001.html). Also, please get rid of that `Toast` -- use `Log.e()` to log the exception to Logcat, so you can see it.","link":"https://stackoverflow.com/questions/77551814/startforeground-service-still-does-not-work#comment136718910_77551814","body":"&quot;the App crashes&quot; -- <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">use Logcat to examine the stack trace</a>. Also, please get rid of that <code>Toast</code> -- use <code>Log.e()</code> to log the exception to Logcat, so you can see it."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701009385,"creation_date":1701009385,"answer_id":77552108,"question_id":77551814,"body_markdown":"Your code is outdated: Replace the two lines\r\n\r\n    PendingIntent pendingIntent = ...\r\n    Notification n = ...\r\n\r\nby\r\n\r\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\r\n    NotificationChannel notificationChannel = new NotificationChannel(&quot;your_Channel_ID&quot;, &quot;your channel name&quot;, NotificationManager.IMPORTANCE_LOW);\r\n    getSystemService(NotificationManager.class).createNotificationChannel(notificationChannel);\r\n    Notification n = new Notification.Builder(this, &quot;your_Channel_ID&quot;)\r\n\r\n","link":"https://stackoverflow.com/questions/77551814/startforeground-service-still-does-not-work/77552108#77552108","title":"StartForeground_Service still does not work","body":"<p>Your code is outdated: Replace the two lines</p>\n<pre><code>PendingIntent pendingIntent = ...\nNotification n = ...\n</code></pre>\n<p>by</p>\n<pre><code>PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\nNotificationChannel notificationChannel = new NotificationChannel(&quot;your_Channel_ID&quot;, &quot;your channel name&quot;, NotificationManager.IMPORTANCE_LOW);\ngetSystemService(NotificationManager.class).createNotificationChannel(notificationChannel);\nNotification n = new Notification.Builder(this, &quot;your_Channel_ID&quot;)\n</code></pre>\n"}],"comment_count":1,"is_answered":true,"view_count":54,"answer_count":1,"score":0,"last_activity_date":1701009855,"creation_date":1701004351,"last_edit_date":1701009855,"question_id":77551814,"body_markdown":"I&#39;m working on a Bluetooth Advertisement Program. It compiles in SDK 28. As required by the documentation I added the permission android.permission.FOREGROUND. But even now, if the button for BluetoothAdvertisements is clicked and startForeground() gets called the App crashes.\r\n\r\nAfter i added the permission the catch is never reached. Before i added the permission i would still reach the catch sequence and the message told me, that I have to add the FOREGROUND_SERVICE permission as mentioned above.\r\n\r\nFor this App I&#39;m using Java.\r\n\r\n    `/**\r\n         * Starts BLE Advertising.\r\n         */\r\n        private void startAdvertising() {\r\n            goForeground();\r\n\r\n        Log.d(TAG, &quot;Service: Starting Advertising&quot;);\r\n\r\n        if (mAdvertiseCallback == null) {\r\n            AdvertiseSettings settings = buildAdvertiseSettings();\r\n            AdvertiseData data = buildAdvertiseData();\r\n            mAdvertiseCallback = new SampleAdvertiseCallback();\r\n\r\n            if (mBluetoothLeAdvertiser != null) {\r\n                mBluetoothLeAdvertiser.startAdvertising(settings, data,\r\n                        mAdvertiseCallback);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Move service to the foreground, to avoid execution limits on background processes.\r\n     *\r\n     * Callers should call stopForeground(true) when background work is complete.\r\n     */\r\n    private void goForeground() {\r\n        Intent notificationIntent = new Intent(this, MainActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0,\r\n                notificationIntent, 0);\r\n        Notification n = new Notification.Builder(this)\r\n                .setContentTitle(&quot;Advertising device via Bluetooth&quot;)\r\n                .setContentText(&quot;This device is discoverable to others nearby.&quot;)\r\n                .setSmallIcon(R.drawable.ic_launcher)\r\n                .setContentIntent(pendingIntent)\r\n                .build();\r\n        //TODO: startForeground throws Exception. Has to be Fixed\r\n        try{\r\n            startForeground(FOREGROUND_NOTIFICATION_ID, n);\r\n        } catch (SecurityException e) {\r\n            Toast toast = Toast.makeText(this, e.getMessage() + &quot; Exception Throwed&quot;, Toast.LENGTH_SHORT);\r\n            toast.getView().setBackgroundColor(Color.parseColor(&quot;#FF0FF0&quot;));\r\n            toast.show();\r\n        }\r\n\r\n    }`\r\n\r\n\r\nI was asked for Stack Trace, so here is it:\r\n\r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.android.bluetoothadvertisements, PID: 9760\r\n                                                                                                    android.app.RemoteServiceException$CannotPostForegroundServiceNotificationException: Bad notification for startForeground\r\n                                                                                                    \tat android.app.ActivityThread.throwRemoteServiceException(ActivityThread.java:1983)\r\n                                                                                                    \tat android.app.ActivityThread.-$$Nest$mthrowRemoteServiceException(Unknown Source:0)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2242)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7898)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)","link":"https://stackoverflow.com/questions/77551814/startforeground-service-still-does-not-work","title":"StartForeground_Service still does not work","body":"<p>I'm working on a Bluetooth Advertisement Program. It compiles in SDK 28. As required by the documentation I added the permission android.permission.FOREGROUND. But even now, if the button for BluetoothAdvertisements is clicked and startForeground() gets called the App crashes.</p>\n<p>After i added the permission the catch is never reached. Before i added the permission i would still reach the catch sequence and the message told me, that I have to add the FOREGROUND_SERVICE permission as mentioned above.</p>\n<p>For this App I'm using Java.</p>\n<pre><code>`/**\n     * Starts BLE Advertising.\n     */\n    private void startAdvertising() {\n        goForeground();\n\n    Log.d(TAG, &quot;Service: Starting Advertising&quot;);\n\n    if (mAdvertiseCallback == null) {\n        AdvertiseSettings settings = buildAdvertiseSettings();\n        AdvertiseData data = buildAdvertiseData();\n        mAdvertiseCallback = new SampleAdvertiseCallback();\n\n        if (mBluetoothLeAdvertiser != null) {\n            mBluetoothLeAdvertiser.startAdvertising(settings, data,\n                    mAdvertiseCallback);\n        }\n    }\n}\n\n/**\n * Move service to the foreground, to avoid execution limits on background processes.\n *\n * Callers should call stopForeground(true) when background work is complete.\n */\nprivate void goForeground() {\n    Intent notificationIntent = new Intent(this, MainActivity.class);\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0,\n            notificationIntent, 0);\n    Notification n = new Notification.Builder(this)\n            .setContentTitle(&quot;Advertising device via Bluetooth&quot;)\n            .setContentText(&quot;This device is discoverable to others nearby.&quot;)\n            .setSmallIcon(R.drawable.ic_launcher)\n            .setContentIntent(pendingIntent)\n            .build();\n    //TODO: startForeground throws Exception. Has to be Fixed\n    try{\n        startForeground(FOREGROUND_NOTIFICATION_ID, n);\n    } catch (SecurityException e) {\n        Toast toast = Toast.makeText(this, e.getMessage() + &quot; Exception Throwed&quot;, Toast.LENGTH_SHORT);\n        toast.getView().setBackgroundColor(Color.parseColor(&quot;#FF0FF0&quot;));\n        toast.show();\n    }\n\n}`\n</code></pre>\n<p>I was asked for Stack Trace, so here is it:</p>\n<p>FATAL EXCEPTION: main\nProcess: com.example.android.bluetoothadvertisements, PID: 9760\nandroid.app.RemoteServiceException$CannotPostForegroundServiceNotificationException: Bad notification for startForeground\nat android.app.ActivityThread.throwRemoteServiceException(ActivityThread.java:1983)\nat android.app.ActivityThread.-$$Nest$mthrowRemoteServiceException(Unknown Source:0)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2242)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.app.ActivityThread.main(ActivityThread.java:7898)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)</p>\n"},{"tags":["java","android"],"comments":[{"score":0,"post_type":"question","creation_date":1701013776,"post_id":77552035,"comment_id":136719762,"body_markdown":"May you have set `inset` in your XML Button and As far as I can see, there is no public method to set `insets` runtime","link":"https://stackoverflow.com/questions/77552035/copying-a-button-problems-with-size#comment136719762_77552035","body":"May you have set <code>inset</code> in your XML Button and As far as I can see, there is no public method to set <code>insets</code> runtime"},{"score":0,"post_type":"question","creation_date":1701044447,"post_id":77552035,"comment_id":136722717,"body_markdown":"I would really not recommend creating a button in this way.  If you really need to create a layout at runtime, put it into a xml file and inflate the xml.  You&#39;ll have more easily maintained code by removing the layout information from the java/kotlin.","link":"https://stackoverflow.com/questions/77552035/copying-a-button-problems-with-size#comment136722717_77552035","body":"I would really not recommend creating a button in this way.  If you really need to create a layout at runtime, put it into a xml file and inflate the xml.  You&#39;ll have more easily maintained code by removing the layout information from the java/kotlin."},{"score":0,"post_type":"question","creation_date":1701067166,"post_id":77552035,"comment_id":136724309,"body_markdown":"What use case are you trying to achieve? Why do you want to create a button in this way? If you can update your question with this information, I think there will be a better way to do the same, as suggested by @GabeSechan also.","link":"https://stackoverflow.com/questions/77552035/copying-a-button-problems-with-size#comment136724309_77552035","body":"What use case are you trying to achieve? Why do you want to create a button in this way? If you can update your question with this information, I think there will be a better way to do the same, as suggested by @GabeSechan also."}],"comment_count":3,"is_answered":false,"view_count":31,"answer_count":0,"score":0,"last_activity_date":1701009435,"creation_date":1701008168,"last_edit_date":1701009435,"question_id":77552035,"body_markdown":"I honestly have no idea why, but when i copy the LayoutParams from the original button, it comes out diffrent in the copied button. I just want to copy a button, and it has already taken me a week. I can&#39;t use setBackground() because it will delete the ripple animation (for some reason).\r\n\r\nHere is the problem:\r\n\r\n[The current state of the application](https://i.stack.imgur.com/x3MSt.png)\r\n\r\nXML file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;coś tam&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.366&quot; /&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/Frame&quot;\r\n        android:layout_width=&quot;340dp&quot;\r\n        android:layout_height=&quot;519dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.491&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.057&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/Nazwa&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;0dp&quot;\r\n            android:text=&quot;Nazwa&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/godzinyOtwarcia&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;70dp&quot;\r\n            android:text=&quot;godziny otwarcia&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/ulica&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;35dp&quot;\r\n            android:text=&quot;ulica&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/but&quot;\r\n            android:layout_width=&quot;100dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_marginTop=&quot;100dp&quot;\r\n            android:contextClickable=&quot;true&quot;\r\n            android:insetLeft=&quot;-13dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:insetTop=&quot;0dp&quot;\r\n            android:insetRight=&quot;-13dp&quot;\r\n            android:insetBottom=&quot;0dp&quot;\r\n            android:onClick=&quot;butClick&quot;\r\n            android:text=&quot;Szczeg&#243;ły&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;14sp&quot;\r\n            app:rippleColor=&quot;#000000&quot; /&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n\r\nThe button copying thing:\r\n\r\n\r\n```\r\npackage com.example.aplikacjakolejna;\r\n\r\nimport android.content.Context;\r\nimport android.content.res.ColorStateList;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.graphics.drawable.RippleDrawable;\r\nimport android.view.Gravity;\r\nimport android.view.ViewGroup;\r\nimport android.view.animation.Animation;\r\nimport android.view.animation.ScaleAnimation;\r\nimport android.widget.Button;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.constraintlayout.widget.ConstraintSet;\r\n\r\npublic class CreateFrame extends AppCompatActivity {\r\n    private Context context;\r\n\r\n    private ViewGroup parentLayout;\r\n\r\n    public CreateFrame(Context context, ViewGroup parentLayout) {\r\n        this.context = context;\r\n        this.parentLayout = parentLayout;\r\n    }\r\n\r\n    public void LumpexCreateFrame(Button but){   // This is a constructor so the button is somewhere else...\r\n\r\n        Button Newbut = new Button(context);\r\n\r\n\r\n        Drawable buttonDrawable = Newbut.getBackground();\r\n        if (buttonDrawable instanceof RippleDrawable) {\r\n            RippleDrawable rippleDrawable = (RippleDrawable) buttonDrawable;\r\n            rippleDrawable.setColor(ColorStateList.valueOf(Color.parseColor(&quot;#FFFFFFFF&quot;)));\r\n        }\r\n\r\n        Drawable buttonDrawable1 = but.getBackground();\r\n        if (buttonDrawable1 instanceof RippleDrawable) {\r\n            RippleDrawable rippleDrawable = (RippleDrawable) buttonDrawable1;\r\n            rippleDrawable.setColor(ColorStateList.valueOf(Color.parseColor(&quot;#FFFFFFFF&quot;)));\r\n        }\r\n\r\n        Newbut.setBackground(buttonDrawable);\r\n        but.setBackground(buttonDrawable1);\r\n\r\n        Newbut.setText(but.getText());\r\n        Newbut.setTextColor(but.getCurrentTextColor());\r\n        Newbut.setTextSize(14);\r\n        Newbut.setAllCaps(false);\r\n        Newbut.setBottom(but.getBottom());\r\n        Newbut.setTop(but.getTop());\r\n        Newbut.setScaleX(but.getScaleX());\r\n        Newbut.setScaleY(but.getScaleY());\r\n        Newbut.setId(Lumpex.getId());\r\n        Newbut.setElevation(0f);\r\n        Newbut.setStateListAnimator(null);\r\n        Newbut.setGravity(but.getGravity());\r\n        Newbut.setMinimumHeight(but.getMinimumHeight());\r\n        Newbut.setBackgroundTintList(but.getBackgroundTintList());\r\n        Newbut.setLayoutParams(but.getLayoutParams());\r\n        Newbut.setPadding(but.getPaddingLeft(), but.getPaddingTop(), but.getPaddingRight(), but.getBottom());\r\n\r\n        parentLayout.addView(Newbut);\r\n\r\n        Newbut.setX(but.getX());\r\n        Newbut.setY(but.getY());\r\n        Newbut.setTranslationY(Lumpex.getId() * 300 - 300);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nAlso the X coordinate of the button moved for some reason too.\r\n\r\n","link":"https://stackoverflow.com/questions/77552035/copying-a-button-problems-with-size","title":"Copying a button - Problems with size","body":"<p>I honestly have no idea why, but when i copy the LayoutParams from the original button, it comes out diffrent in the copied button. I just want to copy a button, and it has already taken me a week. I can't use setBackground() because it will delete the ripple animation (for some reason).</p>\n<p>Here is the problem:</p>\n<p><a href=\"https://i.stack.imgur.com/x3MSt.png\" rel=\"nofollow noreferrer\">The current state of the application</a></p>\n<p>XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;coś tam&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.366&quot; /&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/Frame&quot;\n        android:layout_width=&quot;340dp&quot;\n        android:layout_height=&quot;519dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.491&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\n        app:layout_constraintVertical_bias=&quot;0.057&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/Nazwa&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;0dp&quot;\n            android:text=&quot;Nazwa&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/godzinyOtwarcia&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;70dp&quot;\n            android:text=&quot;godziny otwarcia&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/ulica&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;35dp&quot;\n            android:text=&quot;ulica&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/but&quot;\n            android:layout_width=&quot;100dp&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:layout_marginTop=&quot;100dp&quot;\n            android:contextClickable=&quot;true&quot;\n            android:insetLeft=&quot;-13dp&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            android:insetTop=&quot;0dp&quot;\n            android:insetRight=&quot;-13dp&quot;\n            android:insetBottom=&quot;0dp&quot;\n            android:onClick=&quot;butClick&quot;\n            android:text=&quot;Szczegóły&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textSize=&quot;14sp&quot;\n            app:rippleColor=&quot;#000000&quot; /&gt;\n\n    &lt;/FrameLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>The button copying thing:</p>\n<pre><code>package com.example.aplikacjakolejna;\n\nimport android.content.Context;\nimport android.content.res.ColorStateList;\nimport android.graphics.Color;\nimport android.graphics.drawable.ColorDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.graphics.drawable.RippleDrawable;\nimport android.view.Gravity;\nimport android.view.ViewGroup;\nimport android.view.animation.Animation;\nimport android.view.animation.ScaleAnimation;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.constraintlayout.widget.ConstraintSet;\n\npublic class CreateFrame extends AppCompatActivity {\n    private Context context;\n\n    private ViewGroup parentLayout;\n\n    public CreateFrame(Context context, ViewGroup parentLayout) {\n        this.context = context;\n        this.parentLayout = parentLayout;\n    }\n\n    public void LumpexCreateFrame(Button but){   // This is a constructor so the button is somewhere else...\n\n        Button Newbut = new Button(context);\n\n\n        Drawable buttonDrawable = Newbut.getBackground();\n        if (buttonDrawable instanceof RippleDrawable) {\n            RippleDrawable rippleDrawable = (RippleDrawable) buttonDrawable;\n            rippleDrawable.setColor(ColorStateList.valueOf(Color.parseColor(&quot;#FFFFFFFF&quot;)));\n        }\n\n        Drawable buttonDrawable1 = but.getBackground();\n        if (buttonDrawable1 instanceof RippleDrawable) {\n            RippleDrawable rippleDrawable = (RippleDrawable) buttonDrawable1;\n            rippleDrawable.setColor(ColorStateList.valueOf(Color.parseColor(&quot;#FFFFFFFF&quot;)));\n        }\n\n        Newbut.setBackground(buttonDrawable);\n        but.setBackground(buttonDrawable1);\n\n        Newbut.setText(but.getText());\n        Newbut.setTextColor(but.getCurrentTextColor());\n        Newbut.setTextSize(14);\n        Newbut.setAllCaps(false);\n        Newbut.setBottom(but.getBottom());\n        Newbut.setTop(but.getTop());\n        Newbut.setScaleX(but.getScaleX());\n        Newbut.setScaleY(but.getScaleY());\n        Newbut.setId(Lumpex.getId());\n        Newbut.setElevation(0f);\n        Newbut.setStateListAnimator(null);\n        Newbut.setGravity(but.getGravity());\n        Newbut.setMinimumHeight(but.getMinimumHeight());\n        Newbut.setBackgroundTintList(but.getBackgroundTintList());\n        Newbut.setLayoutParams(but.getLayoutParams());\n        Newbut.setPadding(but.getPaddingLeft(), but.getPaddingTop(), but.getPaddingRight(), but.getBottom());\n\n        parentLayout.addView(Newbut);\n\n        Newbut.setX(but.getX());\n        Newbut.setY(but.getY());\n        Newbut.setTranslationY(Lumpex.getId() * 300 - 300);\n    }\n\n\n}\n\n</code></pre>\n<p>Also the X coordinate of the button moved for some reason too.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"score":1,"post_type":"question","creation_date":1701001723,"post_id":77551154,"comment_id":136718607,"body_markdown":"&quot;Questions seeking debugging help (&#39;**why isn&#39;t this code working?**&#39;) must include the desired behavior, a *specific problem or error* and *the shortest code necessary* to reproduce it **in the question itself**. Questions without **a clear problem statement** are not useful to other readers. See: [How to create a Minimal, Complete, and Verifiable example.](http://stackoverflow.com/help/mcve)&quot; and [Build a minimal, complete, reproducible example](https://overflow.tips/write-good-question/minimal-complete-reproducible-example)","link":"https://stackoverflow.com/questions/77551154/is-it-possible-to-read-or-fetch-checkbox-data-from-firebase-to-android-studio#comment136718607_77551154","body":"&quot;Questions seeking debugging help (&#39;<b>why isn&#39;t this code working?</b>&#39;) must include the desired behavior, a <i>specific problem or error</i> and <i>the shortest code necessary</i> to reproduce it <b>in the question itself</b>. Questions without <b>a clear problem statement</b> are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example.</a>&quot; and <a href=\"https://overflow.tips/write-good-question/minimal-complete-reproducible-example\" rel=\"nofollow noreferrer\">Build a minimal, complete, reproducible example</a>"},{"score":0,"post_type":"question","creation_date":1701003661,"post_id":77551154,"comment_id":136718764,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","link":"https://stackoverflow.com/questions/77551154/is-it-possible-to-read-or-fetch-checkbox-data-from-firebase-to-android-studio#comment136718764_77551154","body":"Please edit your question and add the information Frank asked for, and please also respond using @."},{"score":1,"post_type":"question","creation_date":1701007433,"post_id":77551154,"comment_id":136719138,"body_markdown":"What you&#39;re after is pretty clear but we need to see the code you attempted. Additionally, be sure to tag the question with the Firebase product you&#39;re using as there are many. You are likely using Firestore or the Realtime Database, so add the tag (and perhaps your coding platform as well).","link":"https://stackoverflow.com/questions/77551154/is-it-possible-to-read-or-fetch-checkbox-data-from-firebase-to-android-studio#comment136719138_77551154","body":"What you&#39;re after is pretty clear but we need to see the code you attempted. Additionally, be sure to tag the question with the Firebase product you&#39;re using as there are many. You are likely using Firestore or the Realtime Database, so add the tag (and perhaps your coding platform as well)."},{"score":0,"post_type":"question","creation_date":1701008633,"post_id":77551154,"comment_id":136719248,"body_markdown":"I&#39;ve made the necessary changes and updated the question with a sample of the code that I was using kindly assist. @AlexMamo","link":"https://stackoverflow.com/questions/77551154/is-it-possible-to-read-or-fetch-checkbox-data-from-firebase-to-android-studio#comment136719248_77551154","body":"I&#39;ve made the necessary changes and updated the question with a sample of the code that I was using kindly assist. @AlexMamo"},{"score":0,"post_type":"question","creation_date":1701071330,"post_id":77551154,"comment_id":136724801,"body_markdown":"Is your `onDataChange` even triggered?","link":"https://stackoverflow.com/questions/77551154/is-it-possible-to-read-or-fetch-checkbox-data-from-firebase-to-android-studio#comment136724801_77551154","body":"Is your <code>onDataChange</code> even triggered?"}],"comment_count":5,"is_answered":false,"view_count":31,"answer_count":0,"score":0,"last_activity_date":1701008690,"creation_date":1700991718,"last_edit_date":1701008690,"question_id":77551154,"body_markdown":"I have been trying to access values or data from a checkbox in which the user selected courses. I am trying to access this data from firebase to Android Studio and it is posing a challenge. I can access the student Id from the database, but not the selected courses of the user under the user information. \r\n\r\nHere is a description of my Firebase real-time database.\r\n```\r\n├── userId1\r\n│   ├── studentId: &quot;someStudentId1&quot;\r\n│   ├── email: &quot;user1@example.com&quot;\r\n│   ├── role: &quot;student&quot;\r\n│   └── selectedCourses\r\n│       ├── MTH1010: true\r\n│       ├── ENG1020: true\r\n│       └── ...\r\n├── userId2\r\n│   ├── studentId: &quot;someStudentId2&quot;\r\n│   ├── email: &quot;user2@example.com&quot;\r\n│   ├── role: &quot;student&quot;\r\n│   └── selectedCourses\r\n│       ├── MTH1010: true\r\n│       ├── ENG1020: true\r\n│       └── ...\r\n└── ...\r\n\r\nAnd here is my code to access the selectedCourses \r\n\r\n private void populateSpinner2(String userId) {\r\n        Log.d(&quot;Firebase&quot;, &quot;Fetching selected courses for user: &quot; + userId);\r\n        DatabaseReference userSelectedCoursesRef = FirebaseDatabase.getInstance()\r\n                .getReference(&quot;users&quot;).child(userId)\r\n                .child(&quot;selectedCourses&quot;);\r\n\r\n        userSelectedCoursesRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                List&lt;String&gt; selectedCourses = new ArrayList&lt;&gt;();\r\n\r\n                for (DataSnapshot courseSnapshot : dataSnapshot.getChildren()) {\r\n                    // Use boolean value directly instead of getValue(Boolean.class)\r\n                    boolean isSelected = courseSnapshot.getValue(Boolean.class);\r\n\r\n                    // Check if the course is selected (true)\r\n                    if (isSelected) {\r\n                        // Add the course ID to the list\r\n                        selectedCourses.add(courseSnapshot.getKey());\r\n                    }\r\n                }\r\n\r\n                // populate spinner2 with these course IDs\r\n                populateSpinner2WithCourses(selectedCourses);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                Toast.makeText(GRADE.this, &quot;Failed to fetch selected courses: &quot; + databaseError.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void populateSpinner2WithCourses(List&lt;String&gt; selectedCourses) {\r\n        // Use the course IDs from selectedCourses to populate spinner2\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(GRADE.this, android.R.layout.simple_spinner_item, selectedCourses);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner2.setAdapter(adapter);\r\n    }\r\n\r\n\r\n```\r\nI am expecting to access the users selected courses and display them in a dropdown menu. ","link":"https://stackoverflow.com/questions/77551154/is-it-possible-to-read-or-fetch-checkbox-data-from-firebase-to-android-studio","title":"is it possible to read or fetch checkbox data from firebase to android studio","body":"<p>I have been trying to access values or data from a checkbox in which the user selected courses. I am trying to access this data from firebase to Android Studio and it is posing a challenge. I can access the student Id from the database, but not the selected courses of the user under the user information.</p>\n<p>Here is a description of my Firebase real-time database.</p>\n<pre><code>├── userId1\n│   ├── studentId: &quot;someStudentId1&quot;\n│   ├── email: &quot;user1@example.com&quot;\n│   ├── role: &quot;student&quot;\n│   └── selectedCourses\n│       ├── MTH1010: true\n│       ├── ENG1020: true\n│       └── ...\n├── userId2\n│   ├── studentId: &quot;someStudentId2&quot;\n│   ├── email: &quot;user2@example.com&quot;\n│   ├── role: &quot;student&quot;\n│   └── selectedCourses\n│       ├── MTH1010: true\n│       ├── ENG1020: true\n│       └── ...\n└── ...\n\nAnd here is my code to access the selectedCourses \n\n private void populateSpinner2(String userId) {\n        Log.d(&quot;Firebase&quot;, &quot;Fetching selected courses for user: &quot; + userId);\n        DatabaseReference userSelectedCoursesRef = FirebaseDatabase.getInstance()\n                .getReference(&quot;users&quot;).child(userId)\n                .child(&quot;selectedCourses&quot;);\n\n        userSelectedCoursesRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                List&lt;String&gt; selectedCourses = new ArrayList&lt;&gt;();\n\n                for (DataSnapshot courseSnapshot : dataSnapshot.getChildren()) {\n                    // Use boolean value directly instead of getValue(Boolean.class)\n                    boolean isSelected = courseSnapshot.getValue(Boolean.class);\n\n                    // Check if the course is selected (true)\n                    if (isSelected) {\n                        // Add the course ID to the list\n                        selectedCourses.add(courseSnapshot.getKey());\n                    }\n                }\n\n                // populate spinner2 with these course IDs\n                populateSpinner2WithCourses(selectedCourses);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                Toast.makeText(GRADE.this, &quot;Failed to fetch selected courses: &quot; + databaseError.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    private void populateSpinner2WithCourses(List&lt;String&gt; selectedCourses) {\n        // Use the course IDs from selectedCourses to populate spinner2\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(GRADE.this, android.R.layout.simple_spinner_item, selectedCourses);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner2.setAdapter(adapter);\n    }\n\n\n</code></pre>\n<p>I am expecting to access the users selected courses and display them in a dropdown menu.</p>\n"},{"tags":["java","typescript","spring","vue.js","jwt"],"comments":[{"score":0,"post_type":"question","creation_date":1701010925,"post_id":77552044,"comment_id":136719444,"body_markdown":"I&#39;m confused: you&#39;re sending accesstokens for every REST call, so you keep your accesstoken in the browser obviously. Don&#39;t you keep your refresh token in the browser too? Why do you need a tokenRepository in the server? Is your server not completely stateless?","link":"https://stackoverflow.com/questions/77552044/how-to-handle-expired-tokens-when-logging-out-using-vue-js-and-jwt#comment136719444_77552044","body":"I&#39;m confused: you&#39;re sending accesstokens for every REST call, so you keep your accesstoken in the browser obviously. Don&#39;t you keep your refresh token in the browser too? Why do you need a tokenRepository in the server? Is your server not completely stateless?"},{"score":0,"post_type":"question","creation_date":1701012833,"post_id":77552044,"comment_id":136719665,"body_markdown":"@GeertPt Now I see. The approach to access token (i.e. axiso interceptor) seems to be wrong. Whenever the router changes, it is issued an access token using the refresh token, but the interpreter seems to have tried to access the access token without changing the router. So where should I set the refresh step? I don&#39;t think I can refresh it anymore on the router. If you import the authStore from the p.s interceptor and refresh it, it takes infinite loading.","link":"https://stackoverflow.com/questions/77552044/how-to-handle-expired-tokens-when-logging-out-using-vue-js-and-jwt#comment136719665_77552044","body":"@GeertPt Now I see. The approach to access token (i.e. axiso interceptor) seems to be wrong. Whenever the router changes, it is issued an access token using the refresh token, but the interpreter seems to have tried to access the access token without changing the router. So where should I set the refresh step? I don&#39;t think I can refresh it anymore on the router. If you import the authStore from the p.s interceptor and refresh it, it takes infinite loading."}],"comment_count":2,"is_answered":false,"view_count":33,"answer_count":0,"score":0,"last_activity_date":1701008301,"creation_date":1701008301,"question_id":77552044,"body_markdown":"I&#39;m developing the front end using Vue.js, and processing authentication using JWT tokens. The current logout processing logic is as follows.\r\n\r\n 1. The client sends a logout request.\r\n 2. The server uses the access token to identify the user, and invalidates all tokens(AT and RT) of the user stored in the DB.\r\n\r\nIn this process, if the client has an expired token, the server will experience an error when trying to extract the username from the expired token. I thought of two ways to deal with this.\r\n\r\n 1. It checks whether the token has expired, and if it has expired, logout processing is performed immediately without extracting the user name.\r\n 2. Process the expiration of tokens within the extractUsername function. Even if the token expires, the payload is still valid, so it ignores the expiration of the token and extracts the user name from the payload.\r\n\r\nThe first method is a good security method, but there is a problem that a user with expired tokens cannot handle logouts when they request them to log out. The second method can handle logouts, but using expired tokens can be a bad security method.\r\n\r\nI&#39;d like to hear what you think of this problem, or if there&#39;s any other good solution. Thank you.\r\n\r\nLogoutService\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class LogoutService implements LogoutHandler {\r\n\r\n\tprivate final JwtService jwtService;\r\n\tprivate final TokenRepository tokenRepository;\r\n\r\n\t@Override\r\n\tpublic void logout(HttpServletRequest request, HttpServletResponse response, Authentication authentication) {\r\n\t\tfinal String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n\t\tfinal String accessToken;\r\n\t\tif (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\taccessToken = authHeader.substring(7);\r\n\t\tif (StringUtils.hasText(accessToken)) {\r\n\t\t\tfinal String username = jwtService.extractUsername(accessToken);\r\n\t\t\trevokeAllTokensByUsername(username);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void revokeAllTokensByUsername(String username) {\r\n\t\tList&lt;Tokens&gt; validTokens = tokenRepository.findAllValidTokenByUsername(username);\r\n\t\tif (!validTokens.isEmpty()) {\r\n\t\t\tvalidTokens.forEach(t -&gt; {\r\n\t\t\t\tt.setExpired(true);\r\n\t\t\t\tt.setRevoked(true);\r\n\t\t\t\ttokenRepository.save(t);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nJwtService\r\n```java\r\nprivate Claims extractAllClaims(String token) {\r\n\t\treturn Jwts.parser()\r\n\t\t\t\t.verifyWith(getSignInKey()).build()\r\n\t\t\t\t.parseSignedClaims(token)\r\n\t\t\t\t.getPayload();\r\n\t}\r\n\t\r\n\tpublic String extractUsername(String token) {\r\n\t\treturn extrectClaim(token, Claims::getSubject);\r\n\t}\r\n\r\n\tprivate Date extractExpiration(String token) {\r\n\t\treturn extrectClaim(token, Claims::getExpiration);\r\n\t}\r\n\r\n\tpublic &lt;T&gt; T extrectClaim(String token, Function&lt;Claims, T&gt; claimResolver) {\r\n\t\tfinal Claims claims = extractAllClaims(token);\r\n\t\treturn claimResolver.apply(claims);\r\n\t}\r\n```\r\n\r\nAuthStore.ts\r\n```typescript\r\n  async function logout() {\r\n    await instance.post(&quot;/auth/logout&quot;);\r\n    token.value = &quot;&quot;;\r\n    user.value = &quot;&quot;;\r\n    await router.push(&quot;/auth/login&quot;);\r\n  }\r\n\r\n  return {\r\n    user,\r\n    token,\r\n    returnURL,\r\n    getUser,\r\n    getToken,\r\n    login,\r\n    refresh,\r\n    logout,\r\n  };\r\n```\r\n\r\nAxios-interceptors.ts\r\n```typescript\r\ninstance.interceptors.request.use(\r\n  (config) =&gt; {\r\n    const auth = useAuthStore();\r\n    config.headers[&quot;Content-Type&quot;] = &quot;application/json&quot;;\r\n    config.headers[&quot;Authorization&quot;] = `Bearer ${auth.getToken}`;\r\n    return config;\r\n  },\r\n  (error) =&gt; {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n```\r\n\r\nview.vue\r\n```vue\r\n&lt;script lang=&quot;ts&quot; setup&gt;\r\nasync function logout() {\r\n  authStore.logout();\r\n}\r\n&lt;/script&gt;\r\n\r\n...\r\n&lt;v-sheet class=&quot;ma-3&quot;&gt;\r\n        &lt;v-btn size=&quot;small&quot; @click=&quot;logout&quot;&gt;logout&lt;/v-btn&gt;\r\n&lt;/v-sheet&gt;\r\n...\r\n```","link":"https://stackoverflow.com/questions/77552044/how-to-handle-expired-tokens-when-logging-out-using-vue-js-and-jwt","title":"How to handle expired tokens when logging out using Vue.js and JWT?","body":"<p>I'm developing the front end using Vue.js, and processing authentication using JWT tokens. The current logout processing logic is as follows.</p>\n<ol>\n<li>The client sends a logout request.</li>\n<li>The server uses the access token to identify the user, and invalidates all tokens(AT and RT) of the user stored in the DB.</li>\n</ol>\n<p>In this process, if the client has an expired token, the server will experience an error when trying to extract the username from the expired token. I thought of two ways to deal with this.</p>\n<ol>\n<li>It checks whether the token has expired, and if it has expired, logout processing is performed immediately without extracting the user name.</li>\n<li>Process the expiration of tokens within the extractUsername function. Even if the token expires, the payload is still valid, so it ignores the expiration of the token and extracts the user name from the payload.</li>\n</ol>\n<p>The first method is a good security method, but there is a problem that a user with expired tokens cannot handle logouts when they request them to log out. The second method can handle logouts, but using expired tokens can be a bad security method.</p>\n<p>I'd like to hear what you think of this problem, or if there's any other good solution. Thank you.</p>\n<p>LogoutService</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class LogoutService implements LogoutHandler {\n\n    private final JwtService jwtService;\n    private final TokenRepository tokenRepository;\n\n    @Override\n    public void logout(HttpServletRequest request, HttpServletResponse response, Authentication authentication) {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String accessToken;\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            return;\n        }\n        accessToken = authHeader.substring(7);\n        if (StringUtils.hasText(accessToken)) {\n            final String username = jwtService.extractUsername(accessToken);\n            revokeAllTokensByUsername(username);\n        }\n    }\n\n    private void revokeAllTokensByUsername(String username) {\n        List&lt;Tokens&gt; validTokens = tokenRepository.findAllValidTokenByUsername(username);\n        if (!validTokens.isEmpty()) {\n            validTokens.forEach(t -&gt; {\n                t.setExpired(true);\n                t.setRevoked(true);\n                tokenRepository.save(t);\n            });\n        }\n    }\n}\n</code></pre>\n<p>JwtService</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Claims extractAllClaims(String token) {\n        return Jwts.parser()\n                .verifyWith(getSignInKey()).build()\n                .parseSignedClaims(token)\n                .getPayload();\n    }\n    \n    public String extractUsername(String token) {\n        return extrectClaim(token, Claims::getSubject);\n    }\n\n    private Date extractExpiration(String token) {\n        return extrectClaim(token, Claims::getExpiration);\n    }\n\n    public &lt;T&gt; T extrectClaim(String token, Function&lt;Claims, T&gt; claimResolver) {\n        final Claims claims = extractAllClaims(token);\n        return claimResolver.apply(claims);\n    }\n</code></pre>\n<p>AuthStore.ts</p>\n<pre class=\"lang-js prettyprint-override\"><code>  async function logout() {\n    await instance.post(&quot;/auth/logout&quot;);\n    token.value = &quot;&quot;;\n    user.value = &quot;&quot;;\n    await router.push(&quot;/auth/login&quot;);\n  }\n\n  return {\n    user,\n    token,\n    returnURL,\n    getUser,\n    getToken,\n    login,\n    refresh,\n    logout,\n  };\n</code></pre>\n<p>Axios-interceptors.ts</p>\n<pre class=\"lang-js prettyprint-override\"><code>instance.interceptors.request.use(\n  (config) =&gt; {\n    const auth = useAuthStore();\n    config.headers[&quot;Content-Type&quot;] = &quot;application/json&quot;;\n    config.headers[&quot;Authorization&quot;] = `Bearer ${auth.getToken}`;\n    return config;\n  },\n  (error) =&gt; {\n    return Promise.reject(error);\n  }\n);\n</code></pre>\n<p>view.vue</p>\n<pre class=\"lang-js prettyprint-override\"><code>&lt;script lang=&quot;ts&quot; setup&gt;\nasync function logout() {\n  authStore.logout();\n}\n&lt;/script&gt;\n\n...\n&lt;v-sheet class=&quot;ma-3&quot;&gt;\n        &lt;v-btn size=&quot;small&quot; @click=&quot;logout&quot;&gt;logout&lt;/v-btn&gt;\n&lt;/v-sheet&gt;\n...\n</code></pre>\n"},{"tags":["java"],"comments":[{"score":2,"post_type":"question","creation_date":1701005408,"post_id":77551875,"comment_id":136718927,"body_markdown":"Try using `String.split()` to separate the tokens.","link":"https://stackoverflow.com/questions/77551875/how-to-store-string-tokens-into-array#comment136718927_77551875","body":"Try using <code>String.split()</code> to separate the tokens."},{"score":0,"post_type":"question","creation_date":1701005825,"post_id":77551875,"comment_id":136718966,"body_markdown":"&quot;stores it [a string] in a **collection**.&quot; As an _array_ is fixed length, use for instance a growing `ArrayList&lt;String&gt;`. A List is a Collection.","link":"https://stackoverflow.com/questions/77551875/how-to-store-string-tokens-into-array#comment136718966_77551875","body":"&quot;stores it [a string] in a <b>collection</b>.&quot; As an <i>array</i> is fixed length, use for instance a growing <code>ArrayList&lt;String&gt;</code>. A List is a Collection."},{"score":0,"post_type":"question","creation_date":1701039214,"post_id":77551875,"comment_id":136722359,"body_markdown":"Regarding, _&quot;... stores it in the collection.&quot;_, I imagine it&#39;s a generalization; an _array_ is technically a collection.  In other words they don&#39;t want you to use a _List_, which would be much more convenient.","link":"https://stackoverflow.com/questions/77551875/how-to-store-string-tokens-into-array#comment136722359_77551875","body":"Regarding, <i>&quot;... stores it in the collection.&quot;</i>, I imagine it&#39;s a generalization; an <i>array</i> is technically a collection.  In other words they don&#39;t want you to use a <i>List</i>, which would be much more convenient."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701007017,"creation_date":1701007017,"answer_id":77551963,"question_id":77551875,"body_markdown":"I suggest you address your problem in two steps.\r\n\r\nFirst, the ingest part: you need to accept input words from the user and store each word in a `ArrayList&lt;String&gt;` instead of a fixed-size array, since you do not know in advance how many inputs you will get.\r\n\r\nAn example code could look like the following.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String input;\r\n    List&lt;String&gt; ingestWords = new ArrayList&lt;&gt;();\r\n\r\n    Scanner sentence = new Scanner(System.in);\r\n        \r\n    while (sentence.hasNext()) {\r\n        input = sentence.next();\r\n            \r\n        if (input.equals(&quot;exit&quot;)) { // To stop receiving input\r\n            break;\r\n        }\r\n            \r\n        ingestWords.add(input);         \r\n    }\r\n    sentence.close();\r\n}\r\n```\r\n\r\nSecond, the appearance part: given a string, you need to iterate over your list of words from the ingest part, and check which ones start with the given string.\r\n\r\nFor example, you can make a helper function like so.\r\n\r\n```java\r\nvoid hasPrefix(String word, String str) {\r\n    return word.startsWith(str);\r\n}\r\n```\r\n\r\nApplying this function to each word in `ingestWords` will give you the number of words that have `str` as a prefix. And you can figure out the percentage of appearance from it.\r\n","link":"https://stackoverflow.com/questions/77551875/how-to-store-string-tokens-into-array/77551963#77551963","title":"How to store string tokens into array","body":"<p>I suggest you address your problem in two steps.</p>\n<p>First, the ingest part: you need to accept input words from the user and store each word in a <code>ArrayList&lt;String&gt;</code> instead of a fixed-size array, since you do not know in advance how many inputs you will get.</p>\n<p>An example code could look like the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String input;\n    List&lt;String&gt; ingestWords = new ArrayList&lt;&gt;();\n\n    Scanner sentence = new Scanner(System.in);\n        \n    while (sentence.hasNext()) {\n        input = sentence.next();\n            \n        if (input.equals(&quot;exit&quot;)) { // To stop receiving input\n            break;\n        }\n            \n        ingestWords.add(input);         \n    }\n    sentence.close();\n}\n</code></pre>\n<p>Second, the appearance part: given a string, you need to iterate over your list of words from the ingest part, and check which ones start with the given string.</p>\n<p>For example, you can make a helper function like so.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void hasPrefix(String word, String str) {\n    return word.startsWith(str);\n}\n</code></pre>\n<p>Applying this function to each word in <code>ingestWords</code> will give you the number of words that have <code>str</code> as a prefix. And you can figure out the percentage of appearance from it.</p>\n"}],"comment_count":3,"is_answered":false,"view_count":76,"answer_count":1,"score":-1,"last_activity_date":1701007017,"creation_date":1701005193,"last_edit_date":1701005338,"question_id":77551875,"body_markdown":"I reference to some sample to extract each part of the user input successfully. However, it can only extract 1 times. There should be 2 loop for extracting multiple input and saving the tokens in array. I am stuck on the array, how could I do it?\r\n\r\n&gt;  Question:\r\n&gt; \r\n&gt;   Write a program that accepts string tokens in the format of token1:token2:token3:token4 , where : is used as delimiter to separate tokens. There should be two functions, ingest and appearance.\r\n&gt;     \r\n&gt; - ingest takes a string, and stores it in the collection.\r\n&gt;     \r\n&gt; - appearance takes a string as input . It returns a normalized value\r\n&gt;        between 0 to 1,  where the value represents the percentage of\r\n&gt;        appearances of stored tokens which have input as the prefix.\r\n&gt;     \r\n&gt;  - State the space and time complexity of your solution.\r\n\r\nExpected Result:\r\n\r\n    ingest(&#39;McDonal:uk:employeeA&#39;)\r\n    ingest(&#39;McDonal:hk:employeeA&#39;)\r\n    ingest(&#39;McDonal:hk:employeeB&#39;)\r\n    ingest(&#39;McDonal:hk:employeeC&#39;)\r\n    ingest(&#39;fastfood&#39;)\r\n\r\n    appearance(&#39;McDonal&#39;)\r\n    # &gt; 0.8\r\n    appearance(&#39;McDonal:hk&#39;)\r\n    # &gt; 0.6\r\n\r\nMy Code:\r\n\r\n     String input;\r\n       \r\n            \r\n     // For user input\r\n     Scanner sentense = new Scanner(System.in);\r\n     input = sentense.nextLine();   \r\n     String[] ingestWords = {};\r\n           \r\n                 \r\n     // Use &#39;:&#39; to seperate input\r\n     StringTokenizer st = new StringTokenizer(input, &quot;:&quot;);\r\n     while(st.hasMoreTokens()) { \r\n       System.out.println(st.nextToken());\r\n     }","link":"https://stackoverflow.com/questions/77551875/how-to-store-string-tokens-into-array","title":"How to store string tokens into array","body":"<p>I reference to some sample to extract each part of the user input successfully. However, it can only extract 1 times. There should be 2 loop for extracting multiple input and saving the tokens in array. I am stuck on the array, how could I do it?</p>\n<blockquote>\n<p>Question:</p>\n<p>Write a program that accepts string tokens in the format of token1:token2:token3:token4 , where : is used as delimiter to separate tokens. There should be two functions, ingest and appearance.</p>\n<ul>\n<li><p>ingest takes a string, and stores it in the collection.</p>\n</li>\n<li><p>appearance takes a string as input . It returns a normalized value\nbetween 0 to 1,  where the value represents the percentage of\nappearances of stored tokens which have input as the prefix.</p>\n</li>\n<li><p>State the space and time complexity of your solution.</p>\n</li>\n</ul>\n</blockquote>\n<p>Expected Result:</p>\n<pre><code>ingest('McDonal:uk:employeeA')\ningest('McDonal:hk:employeeA')\ningest('McDonal:hk:employeeB')\ningest('McDonal:hk:employeeC')\ningest('fastfood')\n\nappearance('McDonal')\n# &gt; 0.8\nappearance('McDonal:hk')\n# &gt; 0.6\n</code></pre>\n<p>My Code:</p>\n<pre><code> String input;\n   \n        \n // For user input\n Scanner sentense = new Scanner(System.in);\n input = sentense.nextLine();   \n String[] ingestWords = {};\n       \n             \n // Use ':' to seperate input\n StringTokenizer st = new StringTokenizer(input, &quot;:&quot;);\n while(st.hasMoreTokens()) { \n   System.out.println(st.nextToken());\n }\n</code></pre>\n"},{"tags":["java","data-structures","breadth-first-search"],"comments":[{"score":1,"post_type":"question","creation_date":1700992839,"post_id":77551196,"comment_id":136717834,"body_markdown":"Maybe removing some of the large whitespaces from your code could help in reading it more easily (its kinda annoying ;))","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136717834_77551196","body":"Maybe removing some of the large whitespaces from your code could help in reading it more easily (its kinda annoying ;))"},{"score":0,"post_type":"question","creation_date":1700992842,"post_id":77551196,"comment_id":136717836,"body_markdown":"So what does this have to do with `[artificial-intelligence]` ?","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136717836_77551196","body":"So what does this have to do with <code>[artificial-intelligence]</code> ?"},{"score":0,"post_type":"question","creation_date":1700993298,"post_id":77551196,"comment_id":136717868,"body_markdown":"Because AIs use blind search algorithms.","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136717868_77551196","body":"Because AIs use blind search algorithms."},{"score":0,"post_type":"question","creation_date":1700994089,"post_id":77551196,"comment_id":136717933,"body_markdown":"1) No they don&#39;t.  Or at least ... not if they are &quot;intelligent&quot;.  2) Even if they did, that doesn&#39;t  make this question relevant to AI&#39;s.","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136717933_77551196","body":"1) No they don&#39;t.  Or at least ... not if they are &quot;intelligent&quot;.  2) Even if they did, that doesn&#39;t  make this question relevant to AI&#39;s."},{"score":0,"post_type":"question","creation_date":1700994244,"post_id":77551196,"comment_id":136717941,"body_markdown":"But either way, I&#39;m not going to try to read your code in its current (hard to read) state.","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136717941_77551196","body":"But either way, I&#39;m not going to try to read your code in its current (hard to read) state."},{"score":0,"post_type":"question","creation_date":1700995242,"post_id":77551196,"comment_id":136718017,"body_markdown":"@GrindingForReputation there are not more than 2-3 empty lines in my code imo.","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136718017_77551196","body":"@GrindingForReputation there are not more than 2-3 empty lines in my code imo."},{"score":0,"post_type":"question","creation_date":1700995314,"post_id":77551196,"comment_id":136718028,"body_markdown":"@StephenC funny because the class im taking in my university is called &quot;Artificial Intelligence&quot; and we are being taught these in the first 3 chapters.So I guess universities teach the wrong things , hmm ?","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136718028_77551196","body":"@StephenC funny because the class im taking in my university is called &quot;Artificial Intelligence&quot; and we are being taught these in the first 3 chapters.So I guess universities teach the wrong things , hmm ?"},{"score":0,"post_type":"question","creation_date":1700995513,"post_id":77551196,"comment_id":136718041,"body_markdown":"@RootGroves if you&#39;re using eclipse use ctrl+shift+f to format your code I&#39;m not joking when i say its annoying to read.","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136718041_77551196","body":"@RootGroves if you&#39;re using eclipse use ctrl+shift+f to format your code I&#39;m not joking when i say its annoying to read."},{"score":0,"post_type":"question","creation_date":1700995671,"post_id":77551196,"comment_id":136718054,"body_markdown":"You want every line to have code?","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136718054_77551196","body":"You want every line to have code?"},{"score":0,"post_type":"question","creation_date":1700996016,"post_id":77551196,"comment_id":136718074,"body_markdown":"Not exactly, what I am asking you to do is to change the following in your code -&gt; Remove 2-3 empty lines, one works fine. Secondly fix the indentation (1 indent = 4 spaces). Remove unnecessary empty lines, you dont need an empty line after     `int[] e = i;` and `e[1]++;`","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136718074_77551196","body":"Not exactly, what I am asking you to do is to change the following in your code -&gt; Remove 2-3 empty lines, one works fine. Secondly fix the indentation (1 indent = 4 spaces). Remove unnecessary empty lines, you dont need an empty line after     <code>int[] e = i;</code> and <code>e[1]++;</code>"},{"score":0,"post_type":"question","creation_date":1700996062,"post_id":77551196,"comment_id":136718080,"body_markdown":"You have already said :&quot; Go and ask your AI course lecturer if they think that a question about debugging a BFS code is about artificial intelligence&quot; and &quot;1) No they don&#39;t. Or at least ... not if they are &quot;intelligent&quot;. 2) Even if they did, that doesn&#39;t make this question relevant to AI&#39;s.&quot;","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136718080_77551196","body":"You have already said :&quot; Go and ask your AI course lecturer if they think that a question about debugging a BFS code is about artificial intelligence&quot; and &quot;1) No they don&#39;t. Or at least ... not if they are &quot;intelligent&quot;. 2) Even if they did, that doesn&#39;t make this question relevant to AI&#39;s.&quot;"},{"score":0,"post_type":"question","creation_date":1700996070,"post_id":77551196,"comment_id":136718081,"body_markdown":"No.  I&#39;m trying to get you to &gt;fix&lt; your question.  So is Grinding.  And all you are doing is wasting everyone&#39;s time by arguing about stupid things and calling people names an.","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136718081_77551196","body":"No.  I&#39;m trying to get you to &gt;fix&lt; your question.  So is Grinding.  And all you are doing is wasting everyone&#39;s time by arguing about stupid things and calling people names an."},{"score":0,"post_type":"question","creation_date":1700996111,"post_id":77551196,"comment_id":136718083,"body_markdown":"Ok I will remove off the tag artificial intelligence, ok?","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136718083_77551196","body":"Ok I will remove off the tag artificial intelligence, ok?"},{"score":0,"post_type":"question","creation_date":1700996137,"post_id":77551196,"comment_id":136718088,"body_markdown":"[PLONK](https://news.ycombinator.com/item?id=26890646)","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136718088_77551196","body":"<a href=\"https://news.ycombinator.com/item?id=26890646\" rel=\"nofollow noreferrer\">PLONK</a>"},{"score":0,"post_type":"question","creation_date":1700996150,"post_id":77551196,"comment_id":136718092,"body_markdown":"@RootGroves Stephen is not wrong, this is a simple program that is not related with artificial intelligence at all (or at least not directly), you think this program is directly related to something as complicated as ai? Maybe it is but could be a really really small portion of what ai needs to make decisions.","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136718092_77551196","body":"@RootGroves Stephen is not wrong, this is a simple program that is not related with artificial intelligence at all (or at least not directly), you think this program is directly related to something as complicated as ai? Maybe it is but could be a really really small portion of what ai needs to make decisions."},{"score":0,"post_type":"question","creation_date":1700996317,"post_id":77551196,"comment_id":136718103,"body_markdown":"I would post an edit but I have too many pending edits currently so I cannot format the code myself.","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136718103_77551196","body":"I would post an edit but I have too many pending edits currently so I cannot format the code myself."},{"score":0,"post_type":"question","creation_date":1700996512,"post_id":77551196,"comment_id":136718113,"body_markdown":"Its been done!No need of worries.","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136718113_77551196","body":"Its been done!No need of worries."},{"score":0,"post_type":"question","creation_date":1701005648,"post_id":77551196,"comment_id":136718946,"body_markdown":"Please provide enough code for us to be able to copy &amp; run it. As it stands now, your question lists several pieces of code, with references to variables that are not known. Although a link to your previous question is informative, it does not mean you don&#39;t have to provide the code necessary to understand the current question. Each question should be self-contained, and we should be able to run the code without having to invent stuff to make it compile. And when we run it, it should produce the problem.","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136718946_77551196","body":"Please provide enough code for us to be able to copy &amp; run it. As it stands now, your question lists several pieces of code, with references to variables that are not known. Although a link to your previous question is informative, it does not mean you don&#39;t have to provide the code necessary to understand the current question. Each question should be self-contained, and we should be able to run the code without having to invent stuff to make it compile. And when we run it, it should produce the problem."},{"score":0,"post_type":"question","creation_date":1701007834,"post_id":77551196,"comment_id":136719173,"body_markdown":"Please check out [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173/) as well as the [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) links. They won&#39;t solve the actual problem but can give you steps that help you either solve it, or help you to focus the issue more which can help you improve this question. Otherwise, you&#39;re learning how to dump work for others to solve and not how solve code problems yourself.","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong#comment136719173_77551196","body":"Please check out <a href=\"https://stackoverflow.com/q/25385173/\">What is a debugger and how can it help me diagnose problems?</a> as well as the <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a> links. They won&#39;t solve the actual problem but can give you steps that help you either solve it, or help you to focus the issue more which can help you improve this question. Otherwise, you&#39;re learning how to dump work for others to solve and not how solve code problems yourself."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701008297,"post_id":77551946,"comment_id":136719220,"body_markdown":"I have already solved it!You need to say that for e.g path to the right i[0]++; int[] c = i.clone();","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong/77551946#comment136719220_77551946","body":"I have already solved it!You need to say that for e.g path to the right i[0]++; int[] c = i.clone();"},{"score":0,"post_type":"answer","creation_date":1701009225,"post_id":77551946,"comment_id":136719296,"body_markdown":"There are several ways to do it. With `clone` you still need a variable assignment. What I proposed here is to have an expression that generates the array as argument. But in my opinion, all this is less readable code than using separate integers. And if you do `i[0]++`, you need still a `i[0]--` to restore `i` to its original value as otherwise the next `if` blocks will again go astray. If you want to use `clone`, then do `int[] c = i.clone(); c[0]++;`. That way you don&#39;t mutate `i`, which is what you need.","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong/77551946#comment136719296_77551946","body":"There are several ways to do it. With <code>clone</code> you still need a variable assignment. What I proposed here is to have an expression that generates the array as argument. But in my opinion, all this is less readable code than using separate integers. And if you do <code>i[0]++</code>, you need still a <code>i[0]--</code> to restore <code>i</code> to its original value as otherwise the next <code>if</code> blocks will again go astray. If you want to use <code>clone</code>, then do <code>int[] c = i.clone(); c[0]++;</code>. That way you don&#39;t mutate <code>i</code>, which is what you need."}],"comment_count":2,"score":0,"last_activity_date":1701006770,"creation_date":1701006770,"answer_id":77551946,"question_id":77551196,"body_markdown":"Your are not dealing correctly with the positions. This code mutates `i`:\r\n\r\n```\r\n    int[] c = i;\r\n    c[0]++;\r\n```\r\n\r\nYou seem to think that `c` is a *copy* of the *array*, but it is not. It merely references the array that `i` references, and so when you do `c[0]++`, that *single* array now has that incremented value. The next time you apply this kind of code (in one of the next `if` blocks), you&#39;ll not start with the original position, but with the already mutated `i`, and so your &quot;steps&quot; are going astray.\r\n\r\nHonestly, I had already indicated in [my answer to your previous question](https://stackoverflow.com/a/77541631/5459839) that working with the idea of array-type positions leads to less elegant code, and now we see how easy it is to introduce bugs with it.\r\n\r\nIf you work with such arrays, you&#39;ll have to really construct new arrays and copy the contents of the original array.\r\n\r\nHere is the correction of that part of your code:\r\n\r\n```\r\n        if (i[0] &lt; gridLength - 1) {\r\n            arrayDeque.add(new int[] {i[0]+1, i[1]});\r\n        }\r\n        if (i[0] &gt; 0) {\r\n            arrayDeque.add(new int[] {i[0]-1, i[1]});\r\n        }\r\n        if (i[1] &lt; gridLength - 1) {\r\n            arrayDeque.add(new int[] {i[0], i[1]+1});\r\n        }\r\n        if (i[1] &gt; 0) {\r\n            arrayDeque.add(new int[] {i[0], i[1]-1});\r\n        }\r\n```  \r\n","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong/77551946#77551946","title":"Breadth first search algorithm is wrong","body":"<p>Your are not dealing correctly with the positions. This code mutates <code>i</code>:</p>\n<pre><code>    int[] c = i;\n    c[0]++;\n</code></pre>\n<p>You seem to think that <code>c</code> is a <em>copy</em> of the <em>array</em>, but it is not. It merely references the array that <code>i</code> references, and so when you do <code>c[0]++</code>, that <em>single</em> array now has that incremented value. The next time you apply this kind of code (in one of the next <code>if</code> blocks), you'll not start with the original position, but with the already mutated <code>i</code>, and so your &quot;steps&quot; are going astray.</p>\n<p>Honestly, I had already indicated in <a href=\"https://stackoverflow.com/a/77541631/5459839\">my answer to your previous question</a> that working with the idea of array-type positions leads to less elegant code, and now we see how easy it is to introduce bugs with it.</p>\n<p>If you work with such arrays, you'll have to really construct new arrays and copy the contents of the original array.</p>\n<p>Here is the correction of that part of your code:</p>\n<pre><code>        if (i[0] &lt; gridLength - 1) {\n            arrayDeque.add(new int[] {i[0]+1, i[1]});\n        }\n        if (i[0] &gt; 0) {\n            arrayDeque.add(new int[] {i[0]-1, i[1]});\n        }\n        if (i[1] &lt; gridLength - 1) {\n            arrayDeque.add(new int[] {i[0], i[1]+1});\n        }\n        if (i[1] &gt; 0) {\n            arrayDeque.add(new int[] {i[0], i[1]-1});\n        }\n</code></pre>\n"}],"comment_count":19,"is_answered":true,"view_count":97,"answer_count":1,"score":-3,"last_activity_date":1701006770,"creation_date":1700992587,"last_edit_date":1700997462,"question_id":77551196,"body_markdown":"[Yesterday](https://stackoverflow.com/questions/77541166/depth-first-search-implementation-algorithm-keeps-on-searching-out-only-to-the) I asked a question on the DFS. Today I am trying to implement the BFS.\r\n\r\nThe .java classes not given out in this thread are taken from the previous question.\r\n\r\nI have written this class:\r\n\r\n`BreadthFirstSearch.java`\r\n```\r\nimport java.util.ArrayDeque;\r\nimport java.lang.System;\r\n\r\npublic class BreadthFirstSearch extends SearchAlgorithm{\r\n\r\n    public BreadthFirstSearch(int gridSize)\r\n    {\r\n        super(gridSize);\r\n    }\r\n\r\n    public void calc(int[]pos)\r\n    {\r\n        ArrayDeque&lt;int[]&gt;arrayDeque = new ArrayDeque&lt;&gt;();\r\n        arrayDeque.add(pos);\r\n        while(!arrayDeque.isEmpty())\r\n        {\r\n            for(int[]i:arrayDeque) {\r\n                System.out.println(grid[i[0]][i[1]].getPosition());\r\n                if (grid[i[0]][i[1]].getIsExit()) {\r\n                    System.out.println(&quot;Path been found!&quot;);\r\n                    arrayDeque.remove(i);\r\n                } else if (grid[i[0]][i[1]].getType() == 1) {\r\n                    System.out.println(&quot;Path been blocked!&quot;);\r\n                    arrayDeque.remove(i);\r\n                } else if (grid[i[0]][i[1]].getIsVisited()) {\r\n                    arrayDeque.remove(i);\r\n                }\r\n                else\r\n                {\r\n                    grid[i[0]][i[1]].setIsVisited(true);\r\n                    if (i[0] &lt; gridLength - 1) {\r\n                        int[] c = i;\r\n                        c[0]++;\r\n                        arrayDeque.add(c);\r\n                    }\r\n                    if (i[0] &gt; 0) {\r\n                        int[] d = i;\r\n                        d[0]--;\r\n                        arrayDeque.add(d);\r\n                    }\r\n                    if (i[1] &lt; gridLength - 1) {\r\n                        int[] e = i;\r\n                        e[1]++;\r\n                        arrayDeque.add(e);\r\n                    }\r\n                    if (i[1] &gt; 0) {\r\n                        int[] f = i;\r\n                        f[1]--;\r\n                        arrayDeque.add(f);\r\n                    }\r\n                    arrayDeque.remove(i);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand I have added in the Main.java class this:\r\n\r\n```\r\nBreadthFirstSearch bfs = new BreadthFirstSearch(9);\r\nbfs.print();\r\nbfs.calc(pos);\r\n```\r\n\r\nFor the constructor of `BreadthFirstSearch.java` I get this matrix:\r\n```none\r\nPosition:0 Type:0 Position:1 Type:0 Position:2 Type:1 \r\nPosition:3 Type:0 Position:4 Type:1 Position:5 Type:1 \r\nPosition:6 Type:1 Position:7 Type:0 Position:8 Type:0\r\n```\r\n```\r\nwhile(!arrayDeque.isEmpty())\r\n{\r\n    for(int[]i:arrayDeque) {\r\n        System.out.println(grid[i[0]][i[1]].getPosition());\r\n        if (grid[i[0]][i[1]].getIsExit()) {\r\n            System.out.println(&quot;Path been found!&quot;);\r\n            arrayDeque.remove(i);\r\n        } else if (grid[i[0]][i[1]].getType() == 1) {\r\n            System.out.println(&quot;Path been blocked!&quot;);\r\n            arrayDeque.remove(i);\r\n        } else if (grid[i[0]][i[1]].getIsVisited()) {\r\n            arrayDeque.remove(i);\r\n        }\r\n```\r\nnone of these conditions are true in the beginning so we can skip them.\r\n\r\n```\r\nelse\r\n{\r\n    grid[i[0]][i[1]].setIsVisited(true);\r\n```\r\nI set the node with position = visited, so I don&#39;t get to check it out again.\r\n\r\nOut of these conditions only (1) and (3) are true, so we add 2 int[] arrays to the deque:\r\n\r\n```\r\nif (i[0] &lt; gridLength - 1) {\r\n    int[] c = i;\r\n    c[0]++;\r\n    arrayDeque.add(c);\r\n}\r\nif (i[0] &gt; 0) {\r\n    int[] d = i;\r\n    d[0]--;\r\n    arrayDeque.add(d);\r\n}\r\nif (i[1] &lt; gridLength - 1) {\r\n    int[] e = i;\r\n    e[1]++;\r\n    arrayDeque.add(e);\r\n}\r\nif (i[1] &gt; 0) {\r\n    int[] f = i;\r\n    f[1]--;\r\n    arrayDeque.add(f);\r\n}\r\n```\r\n\r\nLastly, we remove the visited node:\r\n\r\n```\r\narrayDeque.remove(i);\r\n```\r\n\r\nWhat I get in the output is:\r\n\r\n```none\r\n0\r\n0\r\n0\r\n0\r\n0\r\n```\r\nSo where is the code off?\r\n\r\n\r\n\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77551196/breadth-first-search-algorithm-is-wrong","title":"Breadth first search algorithm is wrong","body":"<p><a href=\"https://stackoverflow.com/questions/77541166/depth-first-search-implementation-algorithm-keeps-on-searching-out-only-to-the\">Yesterday</a> I asked a question on the DFS. Today I am trying to implement the BFS.</p>\n<p>The .java classes not given out in this thread are taken from the previous question.</p>\n<p>I have written this class:</p>\n<p><code>BreadthFirstSearch.java</code></p>\n<pre><code>import java.util.ArrayDeque;\nimport java.lang.System;\n\npublic class BreadthFirstSearch extends SearchAlgorithm{\n\n    public BreadthFirstSearch(int gridSize)\n    {\n        super(gridSize);\n    }\n\n    public void calc(int[]pos)\n    {\n        ArrayDeque&lt;int[]&gt;arrayDeque = new ArrayDeque&lt;&gt;();\n        arrayDeque.add(pos);\n        while(!arrayDeque.isEmpty())\n        {\n            for(int[]i:arrayDeque) {\n                System.out.println(grid[i[0]][i[1]].getPosition());\n                if (grid[i[0]][i[1]].getIsExit()) {\n                    System.out.println(&quot;Path been found!&quot;);\n                    arrayDeque.remove(i);\n                } else if (grid[i[0]][i[1]].getType() == 1) {\n                    System.out.println(&quot;Path been blocked!&quot;);\n                    arrayDeque.remove(i);\n                } else if (grid[i[0]][i[1]].getIsVisited()) {\n                    arrayDeque.remove(i);\n                }\n                else\n                {\n                    grid[i[0]][i[1]].setIsVisited(true);\n                    if (i[0] &lt; gridLength - 1) {\n                        int[] c = i;\n                        c[0]++;\n                        arrayDeque.add(c);\n                    }\n                    if (i[0] &gt; 0) {\n                        int[] d = i;\n                        d[0]--;\n                        arrayDeque.add(d);\n                    }\n                    if (i[1] &lt; gridLength - 1) {\n                        int[] e = i;\n                        e[1]++;\n                        arrayDeque.add(e);\n                    }\n                    if (i[1] &gt; 0) {\n                        int[] f = i;\n                        f[1]--;\n                        arrayDeque.add(f);\n                    }\n                    arrayDeque.remove(i);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>and I have added in the Main.java class this:</p>\n<pre><code>BreadthFirstSearch bfs = new BreadthFirstSearch(9);\nbfs.print();\nbfs.calc(pos);\n</code></pre>\n<p>For the constructor of <code>BreadthFirstSearch.java</code> I get this matrix:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Position:0 Type:0 Position:1 Type:0 Position:2 Type:1 \nPosition:3 Type:0 Position:4 Type:1 Position:5 Type:1 \nPosition:6 Type:1 Position:7 Type:0 Position:8 Type:0\n</code></pre>\n<pre><code>while(!arrayDeque.isEmpty())\n{\n    for(int[]i:arrayDeque) {\n        System.out.println(grid[i[0]][i[1]].getPosition());\n        if (grid[i[0]][i[1]].getIsExit()) {\n            System.out.println(&quot;Path been found!&quot;);\n            arrayDeque.remove(i);\n        } else if (grid[i[0]][i[1]].getType() == 1) {\n            System.out.println(&quot;Path been blocked!&quot;);\n            arrayDeque.remove(i);\n        } else if (grid[i[0]][i[1]].getIsVisited()) {\n            arrayDeque.remove(i);\n        }\n</code></pre>\n<p>none of these conditions are true in the beginning so we can skip them.</p>\n<pre><code>else\n{\n    grid[i[0]][i[1]].setIsVisited(true);\n</code></pre>\n<p>I set the node with position = visited, so I don't get to check it out again.</p>\n<p>Out of these conditions only (1) and (3) are true, so we add 2 int[] arrays to the deque:</p>\n<pre><code>if (i[0] &lt; gridLength - 1) {\n    int[] c = i;\n    c[0]++;\n    arrayDeque.add(c);\n}\nif (i[0] &gt; 0) {\n    int[] d = i;\n    d[0]--;\n    arrayDeque.add(d);\n}\nif (i[1] &lt; gridLength - 1) {\n    int[] e = i;\n    e[1]++;\n    arrayDeque.add(e);\n}\nif (i[1] &gt; 0) {\n    int[] f = i;\n    f[1]--;\n    arrayDeque.add(f);\n}\n</code></pre>\n<p>Lastly, we remove the visited node:</p>\n<pre><code>arrayDeque.remove(i);\n</code></pre>\n<p>What I get in the output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>0\n0\n0\n0\n0\n</code></pre>\n<p>So where is the code off?</p>\n"},{"tags":["java","android","google-maps","maps","google-maps-android-api-2"],"comment_count":0,"is_answered":false,"view_count":38,"answer_count":0,"score":0,"last_activity_date":1701006400,"creation_date":1701006400,"question_id":77551927,"body_markdown":"I&#39;m facing an unusual issue in my Android application where the initial GPS location doesn&#39;t update properly when the app is loaded for the first time. Here&#39;s the relevant code snippet:\r\n\r\n```\r\npublic class MapFragment extends Fragment implements OnMapReadyCallback {\r\n    private final int LOCATION_PERMISSION_REQUEST_CODE = 1;\r\n    private boolean firstFetch = true;\r\n    private boolean recenterOnLocationChange = false;\r\n    private Location currentLocation;\r\n    private FusedLocationProviderClient fusedLocationProviderClient;\r\n    private CameraPosition prevCameraPosition;\r\n\r\n\r\n    private GoogleMap mMap;\r\n\r\n    private final ActivityResultLauncher&lt;String[]&gt; requestPermissionLauncher =\r\n            registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), isGranted -&gt; {\r\n                boolean allPermissionsGranted = true;\r\n                for (Boolean granted : isGranted.values()) {\r\n                    if (!granted) {\r\n                        allPermissionsGranted = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (allPermissionsGranted) {\r\n                    getLastLocation();\r\n                    System.out.println(&quot;!!!!!!!!!!!!!!!Here!!!!!!!!!!!!!!!!!&quot;);\r\n                } else {\r\n                    // Permission is denied, handle it\r\n                }\r\n            });\r\n\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View rootView = inflater.inflate(R.layout.fragment_map, container, false);\r\n        // FrameLayout mapContainer = rootView.findViewById(R.id.mapContainer);\r\n       // mapContainer.addView(super.onCreateView(inflater, container, savedInstanceState));\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(getContext());\r\n        SupportMapFragment supportMapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.mapContainer);\r\n        supportMapFragment.getMapAsync(this);\r\n        return rootView;\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        mMap.setPadding(0, 200, 0, 0);\r\n        requestPermissions();\r\n    }\r\n    private void requestPermissions() {\r\n        String[] permissions = {Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION};\r\n        if (ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n            getLastLocation();\r\n        } else {\r\n            // Request permissions\r\n            requestPermissionLauncher.launch(permissions);\r\n        }\r\n    }\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    public void getLastLocation(){\r\n        mMap.setMyLocationEnabled(true);\r\n        fusedLocationProviderClient.requestLocationUpdates(\r\n                new LocationRequest()\r\n                        .setInterval(1000) // Update every second\r\n                        .setFastestInterval(500), // Update as often as possible\r\n                new LocationCallback() {\r\n                    @Override\r\n                    public void onLocationResult(LocationResult locationResult) {\r\n                        currentLocation = locationResult.getLastLocation();\r\n                        if (currentLocation != null) {\r\n                            LatLng myLocation = new LatLng(currentLocation.getLatitude(),currentLocation.getLongitude());\r\n                            if(firstFetch) {\r\n                                mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(myLocation, 50));\r\n                                prevCameraPosition = mMap.getCameraPosition();\r\n                                firstFetch = false;\r\n                            }else{\r\n                                if(prevCameraPosition.equals(mMap.getCameraPosition())){\r\n                                    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(myLocation, 50));\r\n                                    prevCameraPosition = mMap.getCameraPosition();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }, Looper.myLooper()\r\n        );\r\n        // Set a click listener for the &quot;My Location&quot; button\r\n        mMap.setOnMyLocationButtonClickListener(() -&gt; {\r\n            if (currentLocation != null) {\r\n                LatLng myLocation = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\r\n                mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(myLocation, 50));\r\n            }\r\n            prevCameraPosition = mMap.getCameraPosition();\r\n            return true; // Indicates that the listener has consumed the event\r\n        });\r\n    }\r\n    public Location getCurrentLocation() {\r\n        return currentLocation;\r\n    }\r\n}\r\n```\r\nThe issue is that the initial GPS location doesn&#39;t update properly when the app is launched. However, if I navigate to another fragment and then return, the new location updates correctly. Subsequent location changes also work as expected. I&#39;ve tried introducing a delay of 1 second before calling getLastLocation(), but the problem persists.\r\n\r\nI&#39;d appreciate any insights or suggestions on how to resolve this issue. Thank you!\r\n\r\nIssue video:\r\n[text](https://streamable.com/q4v87m)\r\n\r\n\r\nI&#39;ve tried introducing a delay of 1 second before calling getLastLocation().","link":"https://stackoverflow.com/questions/77551927/track-my-location-only-when-im-load-this-app-fragment-at-the-second-time","title":"Track my location only when I&#39;m load this app / fragment at the second time","body":"<p>I'm facing an unusual issue in my Android application where the initial GPS location doesn't update properly when the app is loaded for the first time. Here's the relevant code snippet:</p>\n<pre><code>public class MapFragment extends Fragment implements OnMapReadyCallback {\n    private final int LOCATION_PERMISSION_REQUEST_CODE = 1;\n    private boolean firstFetch = true;\n    private boolean recenterOnLocationChange = false;\n    private Location currentLocation;\n    private FusedLocationProviderClient fusedLocationProviderClient;\n    private CameraPosition prevCameraPosition;\n\n\n    private GoogleMap mMap;\n\n    private final ActivityResultLauncher&lt;String[]&gt; requestPermissionLauncher =\n            registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), isGranted -&gt; {\n                boolean allPermissionsGranted = true;\n                for (Boolean granted : isGranted.values()) {\n                    if (!granted) {\n                        allPermissionsGranted = false;\n                        break;\n                    }\n                }\n                if (allPermissionsGranted) {\n                    getLastLocation();\n                    System.out.println(&quot;!!!!!!!!!!!!!!!Here!!!!!!!!!!!!!!!!!&quot;);\n                } else {\n                    // Permission is denied, handle it\n                }\n            });\n\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_map, container, false);\n        // FrameLayout mapContainer = rootView.findViewById(R.id.mapContainer);\n       // mapContainer.addView(super.onCreateView(inflater, container, savedInstanceState));\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(getContext());\n        SupportMapFragment supportMapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.mapContainer);\n        supportMapFragment.getMapAsync(this);\n        return rootView;\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n        mMap.setPadding(0, 200, 0, 0);\n        requestPermissions();\n    }\n    private void requestPermissions() {\n        String[] permissions = {Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION};\n        if (ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp;\n                ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n            getLastLocation();\n        } else {\n            // Request permissions\n            requestPermissionLauncher.launch(permissions);\n        }\n    }\n    @SuppressLint(&quot;MissingPermission&quot;)\n    public void getLastLocation(){\n        mMap.setMyLocationEnabled(true);\n        fusedLocationProviderClient.requestLocationUpdates(\n                new LocationRequest()\n                        .setInterval(1000) // Update every second\n                        .setFastestInterval(500), // Update as often as possible\n                new LocationCallback() {\n                    @Override\n                    public void onLocationResult(LocationResult locationResult) {\n                        currentLocation = locationResult.getLastLocation();\n                        if (currentLocation != null) {\n                            LatLng myLocation = new LatLng(currentLocation.getLatitude(),currentLocation.getLongitude());\n                            if(firstFetch) {\n                                mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(myLocation, 50));\n                                prevCameraPosition = mMap.getCameraPosition();\n                                firstFetch = false;\n                            }else{\n                                if(prevCameraPosition.equals(mMap.getCameraPosition())){\n                                    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(myLocation, 50));\n                                    prevCameraPosition = mMap.getCameraPosition();\n                                }\n                            }\n                        }\n                    }\n                }, Looper.myLooper()\n        );\n        // Set a click listener for the &quot;My Location&quot; button\n        mMap.setOnMyLocationButtonClickListener(() -&gt; {\n            if (currentLocation != null) {\n                LatLng myLocation = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\n                mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(myLocation, 50));\n            }\n            prevCameraPosition = mMap.getCameraPosition();\n            return true; // Indicates that the listener has consumed the event\n        });\n    }\n    public Location getCurrentLocation() {\n        return currentLocation;\n    }\n}\n</code></pre>\n<p>The issue is that the initial GPS location doesn't update properly when the app is launched. However, if I navigate to another fragment and then return, the new location updates correctly. Subsequent location changes also work as expected. I've tried introducing a delay of 1 second before calling getLastLocation(), but the problem persists.</p>\n<p>I'd appreciate any insights or suggestions on how to resolve this issue. Thank you!</p>\n<p>Issue video:\n<a href=\"https://streamable.com/q4v87m\" rel=\"nofollow noreferrer\">text</a></p>\n<p>I've tried introducing a delay of 1 second before calling getLastLocation().</p>\n"},{"tags":["java","kotlin","junit5","resource-leak"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1695985992,"creation_date":1695985992,"answer_id":77201466,"question_id":77199575,"body_markdown":"### General resource leaks ###\r\nConsider static code analysis for the problem of detecting resource leaks generally.  For instance Sonar has some help: https://rules.sonarsource.com/java/tag/leak/RSPEC-2095/\r\n\r\n### Leaks specific to JUnit ###\r\nSure, static code analysers may not spot problems where the resource is undetectable, e.g. in the case of `@TempDir`, so you should suggest this directly the JUnit team... provide a PR even!","link":"https://stackoverflow.com/questions/77199575/detecting-resource-leak-in-production-code-via-tests/77201466#77201466","title":"detecting resource leak in production code via tests","body":"<h3>General resource leaks</h3>\n<p>Consider static code analysis for the problem of detecting resource leaks generally.  For instance Sonar has some help: <a href=\"https://rules.sonarsource.com/java/tag/leak/RSPEC-2095/\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/tag/leak/RSPEC-2095/</a></p>\n<h3>Leaks specific to JUnit</h3>\n<p>Sure, static code analysers may not spot problems where the resource is undetectable, e.g. in the case of <code>@TempDir</code>, so you should suggest this directly the JUnit team... provide a PR even!</p>\n"},{"comments":[{"score":1,"post_type":"answer","creation_date":1701054429,"post_id":77551889,"comment_id":136723392,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","link":"https://stackoverflow.com/questions/77199575/detecting-resource-leak-in-production-code-via-tests/77551889#comment136723392_77551889","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77551889/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"comment_count":1,"score":-1,"last_activity_date":1701005657,"creation_date":1701005657,"answer_id":77551889,"question_id":77199575,"body_markdown":"recently found a great tool, rather than tests it&#39;s more of a linter. or static analyzer as they say.\r\n\r\nhttps://checkerframework.org/\r\n\r\ni have not tried it, but it seems good.","link":"https://stackoverflow.com/questions/77199575/detecting-resource-leak-in-production-code-via-tests/77551889#77551889","title":"detecting resource leak in production code via tests","body":"<p>recently found a great tool, rather than tests it's more of a linter. or static analyzer as they say.</p>\n<p><a href=\"https://checkerframework.org/\" rel=\"nofollow noreferrer\">https://checkerframework.org/</a></p>\n<p>i have not tried it, but it seems good.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":40,"answer_count":2,"score":-2,"last_activity_date":1701005657,"creation_date":1695964709,"question_id":77199575,"body_markdown":"i am trying to find if there&#39;s a way to detect resource leak in tests. with junit or any other library.\r\n\r\nlast time, i was using junit5 @TempDir and i had my outputstream not closed it was throwing unable to delete temporary folder. it didn&#39;t listed the correct reason, nor i could find online. i just guessed and i checked if i am close my FileOutputStream and it was it. then it started working. no exception by junit.\r\n\r\nbut this is not very useful. is there a good way to find in tests if any resource is not closed.\r\n","link":"https://stackoverflow.com/questions/77199575/detecting-resource-leak-in-production-code-via-tests","title":"detecting resource leak in production code via tests","body":"<p>i am trying to find if there's a way to detect resource leak in tests. with junit or any other library.</p>\n<p>last time, i was using junit5 @TempDir and i had my outputstream not closed it was throwing unable to delete temporary folder. it didn't listed the correct reason, nor i could find online. i just guessed and i checked if i am close my FileOutputStream and it was it. then it started working. no exception by junit.</p>\n<p>but this is not very useful. is there a good way to find in tests if any resource is not closed.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701007770,"post_id":77551866,"comment_id":136719168,"body_markdown":"Thanks for answering. I know the other ways to achieve the functionality, but I&#39;m just wondering that why my code is not working or how to make it work.","link":"https://stackoverflow.com/questions/77551806/i-dont-know-how-to-resolve-this-nextline-thing-and-make-it-work/77551866#comment136719168_77551866","body":"Thanks for answering. I know the other ways to achieve the functionality, but I&#39;m just wondering that why my code is not working or how to make it work."}],"comment_count":1,"score":0,"last_activity_date":1701005096,"creation_date":1701005096,"answer_id":77551866,"question_id":77551806,"body_markdown":"I wouldn&#39;t use a `do...while` loop for this. You could easily do this by making an infinite loop that stops if the answer is not &quot;Y&quot;. I am assuming that you want to loop on user input `Y` and stop on anything else. If it&#39;s the opposite, just flip the boolean in the if statement. Try something like this:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            while (true) {\r\n                System.out.println(&quot;write in format \\&quot;firstname lastname\\&quot;&quot;);\r\n                String[] tempArr = sc.nextLine().split(&quot; &quot;);\r\n                System.out.println(&quot;Hello &quot; + tempArr[0]);\r\n                System.out.println(&quot;Do you want to do it again Y/N&quot;);\r\n                String answer = sc.nextLine();\r\n                if (!answer.equalsIgnoreCase(&quot;Y&quot;)) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }","link":"https://stackoverflow.com/questions/77551806/i-dont-know-how-to-resolve-this-nextline-thing-and-make-it-work/77551866#77551866","title":"I don&#39;t know how to resolve this nextLine thing and make it work","body":"<p>I wouldn't use a <code>do...while</code> loop for this. You could easily do this by making an infinite loop that stops if the answer is not &quot;Y&quot;. I am assuming that you want to loop on user input <code>Y</code> and stop on anything else. If it's the opposite, just flip the boolean in the if statement. Try something like this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        while (true) {\n            System.out.println(&quot;write in format \\&quot;firstname lastname\\&quot;&quot;);\n            String[] tempArr = sc.nextLine().split(&quot; &quot;);\n            System.out.println(&quot;Hello &quot; + tempArr[0]);\n            System.out.println(&quot;Do you want to do it again Y/N&quot;);\n            String answer = sc.nextLine();\n            if (!answer.equalsIgnoreCase(&quot;Y&quot;)) {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"comment_count":0,"is_answered":false,"view_count":49,"answer_count":1,"score":0,"last_activity_date":1701005096,"creation_date":1701004237,"question_id":77551806,"body_markdown":"```\r\n    do {\r\n        System.out.println(&quot;write in format \\&quot;firstname lastname\\&quot;&quot;);\r\n            \r\n        //just want to scan a sentence with spaces\r\n        String[] tempArr = sc.nextLine().split(&quot; &quot;);\r\n            \r\n        System.out.println(&quot;Hello &quot; + tempArr[0]);\r\n\r\n        System.out.println(&quot;Do you want to do it again Y/N&quot;);\r\n\r\n    }while(sc.next().equals(&quot;Y&quot;));\r\n```\r\n\r\nI don&#39;t know to how to prevent the nextline scanner to scan the blank after first iteration\r\n\r\nI want the loop to run until anything other than &quot;Y&quot; is being entered","link":"https://stackoverflow.com/questions/77551806/i-dont-know-how-to-resolve-this-nextline-thing-and-make-it-work","title":"I don&#39;t know how to resolve this nextLine thing and make it work","body":"<pre><code>    do {\n        System.out.println(&quot;write in format \\&quot;firstname lastname\\&quot;&quot;);\n            \n        //just want to scan a sentence with spaces\n        String[] tempArr = sc.nextLine().split(&quot; &quot;);\n            \n        System.out.println(&quot;Hello &quot; + tempArr[0]);\n\n        System.out.println(&quot;Do you want to do it again Y/N&quot;);\n\n    }while(sc.next().equals(&quot;Y&quot;));\n</code></pre>\n<p>I don't know to how to prevent the nextline scanner to scan the blank after first iteration</p>\n<p>I want the loop to run until anything other than &quot;Y&quot; is being entered</p>\n"},{"tags":["java","spring-boot","guava"],"comments":[{"score":0,"post_type":"question","creation_date":1701001636,"post_id":77548188,"comment_id":136718596,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","link":"https://stackoverflow.com/questions/77548188/guava-cache-one-to-many-key-values#comment136718596_77548188","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1700924354,"post_id":77548281,"comment_id":136712806,"body_markdown":"Thank you for the reply. The solution you suggested requires additional queries to the db, probably more than the &quot;required&quot; ones. Is there another way to handle the one-to-many key-values relation I&#39;m facing?","link":"https://stackoverflow.com/questions/77548188/guava-cache-one-to-many-key-values/77548281#comment136712806_77548281","body":"Thank you for the reply. The solution you suggested requires additional queries to the db, probably more than the &quot;required&quot; ones. Is there another way to handle the one-to-many key-values relation I&#39;m facing?"},{"score":0,"post_type":"answer","creation_date":1700925214,"post_id":77548281,"comment_id":136712881,"body_markdown":"As I mentioned then it would be option to trigger refresh when you are adding values to the DB (if that goes through your service)","link":"https://stackoverflow.com/questions/77548188/guava-cache-one-to-many-key-values/77548281#comment136712881_77548281","body":"As I mentioned then it would be option to trigger refresh when you are adding values to the DB (if that goes through your service)"}],"comment_count":2,"score":0,"last_activity_date":1700923365,"last_edit_date":1700923365,"creation_date":1700923262,"answer_id":77548281,"question_id":77548188,"body_markdown":"You can add `refreshAfterWrite` to the cache builder so it automatically refreshes the cache after certain time period.\r\n\r\n     LoadingCache&lt;String, List&lt;String&gt;&gt; cache = CacheBuilder.newBuilder()\r\n                .refreshAfterWrite(5, TimeUnit.MINUTES) // Set a refresh interval, e.g., every 5 minutes\r\n                .build(new CacheLoader&lt;String, List&lt;String&gt;&gt;() {\r\n                    @Override\r\n                    public List&lt;String&gt; load(String key) {\r\n                        // Load the list of values for the given key from the database\r\n                        List&lt;String&gt; valuesFromDB = loadValuesFromDB(key);\r\n\r\n                        // Return the loaded values\r\n                        return valuesFromDB;\r\n                    }\r\n     });\r\n\r\nBut the best option would be if you have access to the part of code that does value update in DB to update the cache after it.","link":"https://stackoverflow.com/questions/77548188/guava-cache-one-to-many-key-values/77548281#77548281","title":"Guava cache, one to many key-values","body":"<p>You can add <code>refreshAfterWrite</code> to the cache builder so it automatically refreshes the cache after certain time period.</p>\n<pre><code> LoadingCache&lt;String, List&lt;String&gt;&gt; cache = CacheBuilder.newBuilder()\n            .refreshAfterWrite(5, TimeUnit.MINUTES) // Set a refresh interval, e.g., every 5 minutes\n            .build(new CacheLoader&lt;String, List&lt;String&gt;&gt;() {\n                @Override\n                public List&lt;String&gt; load(String key) {\n                    // Load the list of values for the given key from the database\n                    List&lt;String&gt; valuesFromDB = loadValuesFromDB(key);\n\n                    // Return the loaded values\n                    return valuesFromDB;\n                }\n });\n</code></pre>\n<p>But the best option would be if you have access to the part of code that does value update in DB to update the cache after it.</p>\n"}],"comment_count":1,"is_answered":false,"view_count":56,"answer_count":1,"score":0,"last_activity_date":1701004259,"creation_date":1700921658,"last_edit_date":1701004259,"question_id":77548188,"body_markdown":"This is my first time posting a question here,and I&#39;m new to Guava Cache, so please bare with me :).\r\n\r\nRegarding the cache keys - In the DB itself the relation between my key to the values I&#39;m extracting is one-to-many.\r\n\r\nLet&#39;s say I have the following scenario when my cache is configured as &lt;String, List&lt;OBJ&gt;&gt; - \r\nLooking for &quot;key1&quot;.\r\n\r\nIn a given cache state I have:\r\n\r\n    &quot;key1&quot; -&gt; (val1, val2, val3,...).\r\n\r\nAnd in the DB I have in addition:\r\n\r\n     &quot;key1&quot; - val4, &quot;key1&quot; - val5.\r\n\r\nNow, as I understand it, only if the LoadingCache will notice there&#39;s a missing key it&#39;ll query the db. So in this scenario It won&#39;t load the missing values I need, as it sees the keys in the cache - resulting in missing data loading.\r\n\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77548188/guava-cache-one-to-many-key-values","title":"Guava cache, one to many key-values","body":"<p>This is my first time posting a question here,and I'm new to Guava Cache, so please bare with me :).</p>\n<p>Regarding the cache keys - In the DB itself the relation between my key to the values I'm extracting is one-to-many.</p>\n<p>Let's say I have the following scenario when my cache is configured as &lt;String, List&gt; -\nLooking for &quot;key1&quot;.</p>\n<p>In a given cache state I have:</p>\n<pre><code>&quot;key1&quot; -&gt; (val1, val2, val3,...).\n</code></pre>\n<p>And in the DB I have in addition:</p>\n<pre><code> &quot;key1&quot; - val4, &quot;key1&quot; - val5.\n</code></pre>\n<p>Now, as I understand it, only if the LoadingCache will notice there's a missing key it'll query the db. So in this scenario It won't load the missing values I need, as it sees the keys in the cache - resulting in missing data loading.</p>\n"},{"tags":["java","android","imageview","ontouchlistener"],"comment_count":0,"is_answered":false,"view_count":31,"answer_count":0,"score":0,"last_activity_date":1701003598,"creation_date":1700948722,"last_edit_date":1701003598,"question_id":77549680,"body_markdown":"I&#39;m trying to implement a feature in my Android app where users can pan and zoom images within an ImageView that has its scaleType set to centerCrop and loading image by `Glide` into `ImageView`. The goal is to allow users to view the entire image, even though it may be larger than the ImageView itself. When the user lifts their finger, the image should smoothly snap back to its original position.\r\n\r\nI&#39;ve provided the XML code for the ImageView and the Java code for handling touch events, but the image is not moving or zooming. Can anyone help me fix the code so that the user can move image inside imageview to view complete center-crop image?\r\n\r\n**XML Code:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;androidx.core.widget.NestedScrollView\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:fillViewport=&quot;true&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;&gt;\r\n    \r\n    \r\n    \r\n    \r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/newPost_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;&gt;\r\n    \r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/newPost_preview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:minHeight=&quot;300dp&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/newPost_statusText&quot;\r\n    \r\n            /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n**Java Code:**\r\n\r\n    preview.setOnTouchListener(new View.OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View view, MotionEvent event) {\r\n                    // Switch based on the touch event action\r\n                    switch (event.getAction() &amp; MotionEvent.ACTION_MASK) {\r\n                        case MotionEvent.ACTION_DOWN: // When finger is pressed down\r\n                            // Save the current image transformation matrix\r\n                            matrix.set(preview.getImageMatrix());\r\n                            // Record the touch position for later calculation\r\n                            lastTouchX = event.getX();\r\n                            lastTouchY = event.getY();\r\n    \r\n                            // Set the active pointer ID for tracking subsequent moves\r\n                            activePointerId = event.getPointerId(0);\r\n                            break;\r\n    \r\n                        case MotionEvent.ACTION_MOVE: // When finger is moving\r\n                            // Find the index of the active pointer\r\n                            int pointerIndex = event.findPointerIndex(activePointerId);\r\n    \r\n                            // Check if the active pointer is still valid\r\n                            if (pointerIndex != -1) {\r\n                                // Calculate the difference between the current touch position and the previous touch position\r\n                                float dx = event.getX(pointerIndex) - lastTouchX;\r\n                                float dy = event.getY(pointerIndex) - lastTouchY;\r\n    \r\n                                // Apply the translation to the image transformation matrix\r\n                                matrix.postTranslate(dx, dy);\r\n    \r\n                                // Update the image view with the transformed matrix\r\n                                preview.setImageMatrix(matrix);\r\n    \r\n                                // Update the last touch position for the next move\r\n                                lastTouchX = event.getX(pointerIndex);\r\n                                lastTouchY = event.getY(pointerIndex);\r\n                            }\r\n                            break;\r\n    \r\n                        case MotionEvent.ACTION_UP: // When finger is lifted up\r\n                            // Reset the active pointer ID\r\n                            activePointerId = INVALID_POINTER_ID;\r\n    \r\n                            // Apply any remaining translation to the image view\r\n                            preview.setImageMatrix(matrix);\r\n    \r\n                            break;\r\n    \r\n                        case MotionEvent.ACTION_POINTER_UP: // When a second finger is lifted up\r\n                            // Find the index of the pointer that was lifted up\r\n                            int pointerIndexUP = (event.getAction() &amp; MotionEvent.ACTION_POINTER_INDEX_MASK) &gt;&gt; MotionEvent.ACTION_POINTER_INDEX_SHIFT;\r\n                            int pointerId = event.getPointerId(pointerIndexUP);\r\n    \r\n                            // Check if the lifted pointer is the active pointer\r\n                            if (pointerId == activePointerId) {\r\n                                // Update the active pointer ID to the remaining finger\r\n                                int newPointerIndex = pointerIndexUP == 0 ? 1 : 0;\r\n                                lastTouchX = event.getX(newPointerIndex);\r\n                                lastTouchY = event.getY(newPointerIndex);\r\n                                activePointerId = event.getPointerId(newPointerIndex);\r\n                            }\r\n                            break;\r\n                    }\r\n    \r\n                    return true;\r\n                }\r\n            });","link":"https://stackoverflow.com/questions/77549680/panning-and-zooming-images-with-centercrop-in-android","title":"Panning and Zooming Images with CenterCrop in Android","body":"<p>I'm trying to implement a feature in my Android app where users can pan and zoom images within an ImageView that has its scaleType set to centerCrop and loading image by <code>Glide</code> into <code>ImageView</code>. The goal is to allow users to view the entire image, even though it may be larger than the ImageView itself. When the user lifts their finger, the image should smoothly snap back to its original position.</p>\n<p>I've provided the XML code for the ImageView and the Java code for handling touch events, but the image is not moving or zooming. Can anyone help me fix the code so that the user can move image inside imageview to view complete center-crop image?</p>\n<p><strong>XML Code:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;androidx.core.widget.NestedScrollView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:fillViewport=&quot;true&quot;\n    android:clickable=&quot;true&quot;\n    android:focusable=&quot;true&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_width=&quot;match_parent&quot;&gt;\n\n\n\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:id=&quot;@+id/newPost_parent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_margin=&quot;10dp&quot;\n    android:clickable=&quot;true&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    android:focusable=&quot;true&quot;\n    android:focusableInTouchMode=&quot;true&quot;&gt;\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/newPost_preview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:minHeight=&quot;300dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/newPost_statusText&quot;\n\n        /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n<p><strong>Java Code:</strong></p>\n<pre><code>preview.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View view, MotionEvent event) {\n                // Switch based on the touch event action\n                switch (event.getAction() &amp; MotionEvent.ACTION_MASK) {\n                    case MotionEvent.ACTION_DOWN: // When finger is pressed down\n                        // Save the current image transformation matrix\n                        matrix.set(preview.getImageMatrix());\n                        // Record the touch position for later calculation\n                        lastTouchX = event.getX();\n                        lastTouchY = event.getY();\n\n                        // Set the active pointer ID for tracking subsequent moves\n                        activePointerId = event.getPointerId(0);\n                        break;\n\n                    case MotionEvent.ACTION_MOVE: // When finger is moving\n                        // Find the index of the active pointer\n                        int pointerIndex = event.findPointerIndex(activePointerId);\n\n                        // Check if the active pointer is still valid\n                        if (pointerIndex != -1) {\n                            // Calculate the difference between the current touch position and the previous touch position\n                            float dx = event.getX(pointerIndex) - lastTouchX;\n                            float dy = event.getY(pointerIndex) - lastTouchY;\n\n                            // Apply the translation to the image transformation matrix\n                            matrix.postTranslate(dx, dy);\n\n                            // Update the image view with the transformed matrix\n                            preview.setImageMatrix(matrix);\n\n                            // Update the last touch position for the next move\n                            lastTouchX = event.getX(pointerIndex);\n                            lastTouchY = event.getY(pointerIndex);\n                        }\n                        break;\n\n                    case MotionEvent.ACTION_UP: // When finger is lifted up\n                        // Reset the active pointer ID\n                        activePointerId = INVALID_POINTER_ID;\n\n                        // Apply any remaining translation to the image view\n                        preview.setImageMatrix(matrix);\n\n                        break;\n\n                    case MotionEvent.ACTION_POINTER_UP: // When a second finger is lifted up\n                        // Find the index of the pointer that was lifted up\n                        int pointerIndexUP = (event.getAction() &amp; MotionEvent.ACTION_POINTER_INDEX_MASK) &gt;&gt; MotionEvent.ACTION_POINTER_INDEX_SHIFT;\n                        int pointerId = event.getPointerId(pointerIndexUP);\n\n                        // Check if the lifted pointer is the active pointer\n                        if (pointerId == activePointerId) {\n                            // Update the active pointer ID to the remaining finger\n                            int newPointerIndex = pointerIndexUP == 0 ? 1 : 0;\n                            lastTouchX = event.getX(newPointerIndex);\n                            lastTouchY = event.getY(newPointerIndex);\n                            activePointerId = event.getPointerId(newPointerIndex);\n                        }\n                        break;\n                }\n\n                return true;\n            }\n        });\n</code></pre>\n"},{"tags":["java","dependency-inversion"],"comments":[{"score":0,"post_type":"question","creation_date":1700958131,"post_id":77550025,"comment_id":136715890,"body_markdown":"When you need a sword to sharpen it then change the parameter type to `Sword`.  Or use a new interface to describe something that can be sharpened. What exactly seems to be the problem?","link":"https://stackoverflow.com/questions/77550025/based-on-dependency-inversion-principle-how-do-i-access-functions-that-are-only#comment136715890_77550025","body":"When you need a sword to sharpen it then change the parameter type to <code>Sword</code>.  Or use a new interface to describe something that can be sharpened. What exactly seems to be the problem?"},{"score":0,"post_type":"question","creation_date":1700965140,"post_id":77550025,"comment_id":136716269,"body_markdown":"The derived class inherited from the interface (parent class) can be expanded than the parent class. According to the based on  dependency inversion if we are to access the child classes through the interface, I wonder how we approach functions that are only available to the child class, not in the interface?","link":"https://stackoverflow.com/questions/77550025/based-on-dependency-inversion-principle-how-do-i-access-functions-that-are-only#comment136716269_77550025","body":"The derived class inherited from the interface (parent class) can be expanded than the parent class. According to the based on  dependency inversion if we are to access the child classes through the interface, I wonder how we approach functions that are only available to the child class, not in the interface?"},{"score":0,"post_type":"question","creation_date":1700992100,"post_id":77550025,"comment_id":136717773,"body_markdown":"You can&#39;t, unless you cast the object or use reflection. If you have other requirement to the value of the parameter, you can use a different type of interface which has the `sharpen()` method. Please [edit] your question to include a detailed description of what you want to do, what you have tried and what the problems are.","link":"https://stackoverflow.com/questions/77550025/based-on-dependency-inversion-principle-how-do-i-access-functions-that-are-only#comment136717773_77550025","body":"You can&#39;t, unless you cast the object or use reflection. If you have other requirement to the value of the parameter, you can use a different type of interface which has the <code>sharpen()</code> method. Please <a href=\"https://stackoverflow.com/posts/77550025/edit\">edit</a> your question to include a detailed description of what you want to do, what you have tried and what the problems are."},{"score":0,"post_type":"question","creation_date":1701002099,"post_id":77550025,"comment_id":136718650,"body_markdown":"I have revised my question in accordance with your advice, aligning it with my intentions and what I wish to achieve, most respectfully.","link":"https://stackoverflow.com/questions/77550025/based-on-dependency-inversion-principle-how-do-i-access-functions-that-are-only#comment136718650_77550025","body":"I have revised my question in accordance with your advice, aligning it with my intentions and what I wish to achieve, most respectfully."},{"score":0,"post_type":"question","creation_date":1701002783,"post_id":77550025,"comment_id":136718702,"body_markdown":"You can cast your object, see https://stackoverflow.com/questions/2701182/call-a-method-of-subclass-in-java or https://stackoverflow.com/questions/35140291/proper-way-of-calling-a-method-in-a-subclass-if-its-referenced-as-a-super-class","link":"https://stackoverflow.com/questions/77550025/based-on-dependency-inversion-principle-how-do-i-access-functions-that-are-only#comment136718702_77550025","body":"You can cast your object, see <a href=\"https://stackoverflow.com/questions/2701182/call-a-method-of-subclass-in-java\" title=\"call a method of subclass in java\">stackoverflow.com/questions/2701182/&hellip;</a> or <a href=\"https://stackoverflow.com/questions/35140291/proper-way-of-calling-a-method-in-a-subclass-if-its-referenced-as-a-super-class\" title=\"proper way of calling a method in a subclass if its referenced as a super class\">stackoverflow.com/questions/35140291/&hellip;</a>"},{"score":0,"post_type":"question","creation_date":1701044405,"post_id":77550025,"comment_id":136722711,"body_markdown":"The first method I know of is to create an object of the subclass and access it from BattleService. However, dependency inversion is not about depending on a low-level module, but rather about writing code that depends on an abstracted Interface or other high-level modules. If we call functions directly in the BattleService from the low-level module (sword, bow class), doesn&#39;t this violate the principle of dependency inversion? In other words, shouldn&#39;t we access through the Weapon Interface to adhere to the principle?","link":"https://stackoverflow.com/questions/77550025/based-on-dependency-inversion-principle-how-do-i-access-functions-that-are-only#comment136722711_77550025","body":"The first method I know of is to create an object of the subclass and access it from BattleService. However, dependency inversion is not about depending on a low-level module, but rather about writing code that depends on an abstracted Interface or other high-level modules. If we call functions directly in the BattleService from the low-level module (sword, bow class), doesn&#39;t this violate the principle of dependency inversion? In other words, shouldn&#39;t we access through the Weapon Interface to adhere to the principle?"},{"score":0,"post_type":"question","creation_date":1701044440,"post_id":77550025,"comment_id":136722716,"body_markdown":"The second method involves creating a separate interface for functions only available in the subclass and registering it. However, this also seems to violate dependency inversion, as it makes the high-level module dependent on the low-level module, doesn&#39;t it?","link":"https://stackoverflow.com/questions/77550025/based-on-dependency-inversion-principle-how-do-i-access-functions-that-are-only#comment136722716_77550025","body":"The second method involves creating a separate interface for functions only available in the subclass and registering it. However, this also seems to violate dependency inversion, as it makes the high-level module dependent on the low-level module, doesn&#39;t it?"}],"comment_count":7,"is_answered":false,"view_count":57,"answer_count":0,"score":0,"last_activity_date":1701002627,"creation_date":1700957791,"last_edit_date":1701002627,"question_id":77550025,"body_markdown":"How to access A and B function that is only in a sword class and is not in Weapon interface. \r\nBecause the sword, bow class are child so that they can be more extended than the weapon class.\r\n\r\nThe parent class &#39;Weapon&#39; has the abstract function A from its child classes &#39;Sword&#39; and &#39;Bow&#39;. However, due to the unique characteristics of &#39;Sword&#39; and &#39;Bow&#39;, &#39;Sword&#39; possesses function B, while &#39;Bow&#39; possesses function C.&quot;\r\n\r\nThe client can access the &#39;Weapon&#39; class through the &#39;BattleService&#39; class, which takes it as an argument in function A. However, it cannot access functions B and C, which are exclusive to the &#39;Sword&#39; and &#39;Bow&#39; classes respectively, as they are not part of the interface. How can access be granted in such cases based on dependency Inversion?\r\n\r\nI want to output functions B and C from BattleService while adhering to the principle of dependency inversion.\r\n\r\n``` \r\npublic interface Weapon {\r\n  void A();\r\n}\r\n\r\n\r\npublic class Sword implements Weapon {\r\n  @Override\r\n  public void A() {\r\n    System.out.println(&quot;Sword A&quot;);\r\n  }\r\n   public void B() {\r\n      System.out.println(&quot;Sword B&quot;);\r\n}\r\n\r\n\r\npublic class Bow implements Weapon {\r\n  @Override\r\n  public void A() {\r\n    System.out.println(&quot;Bow A&quot;);\r\n  }\r\n  public void C() {\r\n    System.out.println(&quot;Bow C&quot;);\r\n  }\r\n}\r\n\r\npublic class BattleService {\r\n\r\n  private Weapon weapon;\r\n\r\n  public BattleService(Weapon weapon) {\r\n    this.weapon = weapon;\r\n  }\r\n\r\n  public void A() {\r\n    weapon.A();\r\n  }\r\n}\r\n\r\n\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    Weapon sword = new Sword();\r\n    Weapon bow = new Bow();\r\n\r\n    BattleService battleService = new BattleService(sword);\r\n    battleService.A(); \r\n\r\n    battleService = new BattleService(bow);\r\n    battleService.A(); \r\n  }\r\n}\r\n```","link":"https://stackoverflow.com/questions/77550025/based-on-dependency-inversion-principle-how-do-i-access-functions-that-are-only","title":"based on dependency inversion principle, How do I access functions that are only in my child class and not in my interface?","body":"<p>How to access A and B function that is only in a sword class and is not in Weapon interface.\nBecause the sword, bow class are child so that they can be more extended than the weapon class.</p>\n<p>The parent class 'Weapon' has the abstract function A from its child classes 'Sword' and 'Bow'. However, due to the unique characteristics of 'Sword' and 'Bow', 'Sword' possesses function B, while 'Bow' possesses function C.&quot;</p>\n<p>The client can access the 'Weapon' class through the 'BattleService' class, which takes it as an argument in function A. However, it cannot access functions B and C, which are exclusive to the 'Sword' and 'Bow' classes respectively, as they are not part of the interface. How can access be granted in such cases based on dependency Inversion?</p>\n<p>I want to output functions B and C from BattleService while adhering to the principle of dependency inversion.</p>\n<pre><code>public interface Weapon {\n  void A();\n}\n\n\npublic class Sword implements Weapon {\n  @Override\n  public void A() {\n    System.out.println(&quot;Sword A&quot;);\n  }\n   public void B() {\n      System.out.println(&quot;Sword B&quot;);\n}\n\n\npublic class Bow implements Weapon {\n  @Override\n  public void A() {\n    System.out.println(&quot;Bow A&quot;);\n  }\n  public void C() {\n    System.out.println(&quot;Bow C&quot;);\n  }\n}\n\npublic class BattleService {\n\n  private Weapon weapon;\n\n  public BattleService(Weapon weapon) {\n    this.weapon = weapon;\n  }\n\n  public void A() {\n    weapon.A();\n  }\n}\n\n\n\npublic class Main {\n  public static void main(String[] args) {\n    Weapon sword = new Sword();\n    Weapon bow = new Bow();\n\n    BattleService battleService = new BattleService(sword);\n    battleService.A(); \n\n    battleService = new BattleService(bow);\n    battleService.A(); \n  }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"score":0,"post_type":"question","creation_date":1700977943,"post_id":77550529,"comment_id":136716840,"body_markdown":"Provide any error messages.","link":"https://stackoverflow.com/questions/77550529/data-not-save-in-realtime-database-in-firebase#comment136716840_77550529","body":"Provide any error messages."},{"score":0,"post_type":"question","creation_date":1701001122,"post_id":77550529,"comment_id":136718545,"body_markdown":"NOT SHOWING ANY ERROR WHEN I CLICK SAVE BUTTON THEN AUTOMATIC SHOW TOAST AND INTENT GOING TO NEXT ACTIVITY AFTER WHEN I SEE REALTIME DATABSE DO NOT SHOW ANY KIND OF DATA","link":"https://stackoverflow.com/questions/77550529/data-not-save-in-realtime-database-in-firebase#comment136718545_77550529","body":"NOT SHOWING ANY ERROR WHEN I CLICK SAVE BUTTON THEN AUTOMATIC SHOW TOAST AND INTENT GOING TO NEXT ACTIVITY AFTER WHEN I SEE REALTIME DATABSE DO NOT SHOW ANY KIND OF DATA"},{"score":0,"post_type":"question","creation_date":1701001361,"post_id":77550529,"comment_id":136718566,"body_markdown":"I see. you dont have to write in capital letters!!","link":"https://stackoverflow.com/questions/77550529/data-not-save-in-realtime-database-in-firebase#comment136718566_77550529","body":"I see. you dont have to write in capital letters!!"},{"score":2,"post_type":"question","creation_date":1701001633,"post_id":77550529,"comment_id":136718595,"body_markdown":"double check your document name id. check if the user is authenticated.","link":"https://stackoverflow.com/questions/77550529/data-not-save-in-realtime-database-in-firebase#comment136718595_77550529","body":"double check your document name id. check if the user is authenticated."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701002467,"creation_date":1701002467,"answer_id":77551696,"question_id":77550529,"body_markdown":"The security rules you set on your database require that the user is signed in to Firebase Authentication. Yet in the code for your application, you don&#39;t check that - nor do you check whether the write operation succeeds.\r\n```\r\nfirebaseAuth = FirebaseAuth.getInstance();\r\ndatabaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\nif (firebaseAuth.getCurrentUser() != null) { // &#128072; Check if the user is signed in\r\n    String userId = firebaseAuth.getCurrentUser().getUid(); // &#128072; Use the user&#39;s UID\r\n    User user = new User(username, profession);\r\n    \r\n    databaseReference.child(userId).setValue(user)\r\n        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() { // &#128072; Handle success\r\n            @Override\r\n            public void onSuccess(Void aVoid) {\r\n                Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        })\r\n        .addOnFailureListener(new OnFailureListener() { // &#128072; Handle failure\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                // Write failed\r\n                Log.e(&quot;Database&quot;, &quot;Write failed&quot;, e);\r\n            }\r\n        });\r\n    \r\n    ...\r\n}\r\nelse {\r\n    Log.w(&quot;Database&quot;, &quot;No user was signed in&quot;); // &#128072; No user was signed in, write to logcat\r\n}\r\n```\r\n","link":"https://stackoverflow.com/questions/77550529/data-not-save-in-realtime-database-in-firebase/77551696#77551696","title":"Data not save in realtime database in firebase","body":"<p>The security rules you set on your database require that the user is signed in to Firebase Authentication. Yet in the code for your application, you don't check that - nor do you check whether the write operation succeeds.</p>\n<pre><code>firebaseAuth = FirebaseAuth.getInstance();\ndatabaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\nif (firebaseAuth.getCurrentUser() != null) { // 👈 Check if the user is signed in\n    String userId = firebaseAuth.getCurrentUser().getUid(); // 👈 Use the user's UID\n    User user = new User(username, profession);\n    \n    databaseReference.child(userId).setValue(user)\n        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() { // 👈 Handle success\n            @Override\n            public void onSuccess(Void aVoid) {\n                Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n            }\n        })\n        .addOnFailureListener(new OnFailureListener() { // 👈 Handle failure\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                // Write failed\n                Log.e(&quot;Database&quot;, &quot;Write failed&quot;, e);\n            }\n        });\n    \n    ...\n}\nelse {\n    Log.w(&quot;Database&quot;, &quot;No user was signed in&quot;); // 👈 No user was signed in, write to logcat\n}\n</code></pre>\n"}],"comment_count":4,"is_answered":false,"view_count":46,"answer_count":1,"score":0,"last_activity_date":1701002467,"creation_date":1700975533,"last_edit_date":1701002141,"question_id":77550529,"body_markdown":"I have created a user profile and connected with Firebase, but after save button the data is not shown in realtime database.\r\n\r\nI have try many times and this is the realtime database rules, which are:\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: &quot;auth != null&quot;,\r\n    &quot;.write&quot;: &quot;auth != null&quot;\r\n  }\r\n}\r\n```\r\n\r\n```\r\nbtnsaveprofile.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        username = edtxtusername.getText().toString().trim();\r\n        profession = spinnerprofession.getSelectedItem().toString();\r\n\r\n        if (username.isEmpty()){\r\n            Toast.makeText(getApplicationContext(), &quot;Please Enter Your Name&quot;, Toast.LENGTH_SHORT).show();\r\n        } else if (profession.equals(getString(R.string.select_profession))) {\r\n            Toast.makeText(getApplicationContext(), &quot;Please Select Your Profession&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n\r\n            mprogressbarofsaveprofile.setVisibility(View.VISIBLE);\r\n            btnsaveprofile.setVisibility(View.INVISIBLE);\r\n\r\n            firebaseAuth = FirebaseAuth.getInstance();\r\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n            String userId = databaseReference.push().getKey();\r\n            User user = new User(username, profession);\r\n            \r\n            databaseReference.child(userId).setValue(user);\r\n\r\n            Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n            Intent intent = new Intent(getApplicationContext(), NexusHome.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n            startActivity(intent);\r\n\r\n            btnsaveprofile.setVisibility(View.VISIBLE);\r\n            mprogressbarofsaveprofile.setVisibility(View.INVISIBLE);\r\n        }\r\n    }\r\n});\r\n```\r\n\r\n\r\nand this is User.class java code\r\n\r\n```\r\npublic class User {\r\n    private String username;\r\n    private String profession;\r\n\r\n    public User() {\r\n    }\r\n    public User(String username, String profession) {\r\n        this.username = username;\r\n        this.profession = profession;\r\n\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n    public String getProfession() {\r\n        return profession;\r\n    }\r\n    public void setProfession(String profession) {\r\n        this.profession = profession;\r\n    }\r\n}\r\n```\r\n\r\n\r\nPlease help me to correct this code and so can i save data in firebase.","link":"https://stackoverflow.com/questions/77550529/data-not-save-in-realtime-database-in-firebase","title":"Data not save in realtime database in firebase","body":"<p>I have created a user profile and connected with Firebase, but after save button the data is not shown in realtime database.</p>\n<p>I have try many times and this is the realtime database rules, which are:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: &quot;auth != null&quot;,\n    &quot;.write&quot;: &quot;auth != null&quot;\n  }\n}\n</code></pre>\n<pre><code>btnsaveprofile.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        username = edtxtusername.getText().toString().trim();\n        profession = spinnerprofession.getSelectedItem().toString();\n\n        if (username.isEmpty()){\n            Toast.makeText(getApplicationContext(), &quot;Please Enter Your Name&quot;, Toast.LENGTH_SHORT).show();\n        } else if (profession.equals(getString(R.string.select_profession))) {\n            Toast.makeText(getApplicationContext(), &quot;Please Select Your Profession&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n\n            mprogressbarofsaveprofile.setVisibility(View.VISIBLE);\n            btnsaveprofile.setVisibility(View.INVISIBLE);\n\n            firebaseAuth = FirebaseAuth.getInstance();\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n            String userId = databaseReference.push().getKey();\n            User user = new User(username, profession);\n            \n            databaseReference.child(userId).setValue(user);\n\n            Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n            Intent intent = new Intent(getApplicationContext(), NexusHome.class);\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n            startActivity(intent);\n\n            btnsaveprofile.setVisibility(View.VISIBLE);\n            mprogressbarofsaveprofile.setVisibility(View.INVISIBLE);\n        }\n    }\n});\n</code></pre>\n<p>and this is User.class java code</p>\n<pre><code>public class User {\n    private String username;\n    private String profession;\n\n    public User() {\n    }\n    public User(String username, String profession) {\n        this.username = username;\n        this.profession = profession;\n\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n    public String getProfession() {\n        return profession;\n    }\n    public void setProfession(String profession) {\n        this.profession = profession;\n    }\n}\n</code></pre>\n<p>Please help me to correct this code and so can i save data in firebase.</p>\n"},{"tags":["java","java.util.scanner"],"comment_count":0,"is_answered":false,"view_count":45,"answer_count":0,"score":-4,"last_activity_date":1701002244,"creation_date":1700858565,"last_edit_date":1701002244,"question_id":77545587,"body_markdown":"I am new to java, there is no problem with the scanner in the first cycle, but in the second cycle, the first scanner goes to the second one without working. I don&#39;t understand what the problem is\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        Student[] arr = {new Student(), new Student()};\r\n\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            System.out.println(&quot;name&quot;);\r\n            arr[i].name = sc.nextLine();\r\n\r\n           System.out.println(&quot;age&quot;);\r\n            arr[i].age = sc.nextInt();\r\n\r\n            System.out.println(&quot;surname&quot;);\r\n            arr[i].surname = sc.nextLine();\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n```\r\npublic class Student {\r\n\r\n    public String name;\r\n    public String surname;\r\n    public int age;\r\n}\r\n```","link":"https://stackoverflow.com/questions/77545587/i-can-not-use-scanner","title":"i can not use Scanner","body":"<p>I am new to java, there is no problem with the scanner in the first cycle, but in the second cycle, the first scanner goes to the second one without working. I don't understand what the problem is</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        Student[] arr = {new Student(), new Student()};\n\n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.println(&quot;name&quot;);\n            arr[i].name = sc.nextLine();\n\n           System.out.println(&quot;age&quot;);\n            arr[i].age = sc.nextInt();\n\n            System.out.println(&quot;surname&quot;);\n            arr[i].surname = sc.nextLine();\n\n        }\n\n    }\n\n}\n</code></pre>\n<pre><code>public class Student {\n\n    public String name;\n    public String surname;\n    public int age;\n}\n</code></pre>\n"},{"tags":["java","math","curve"],"comments":[{"score":0,"post_type":"question","creation_date":1700920883,"post_id":77547769,"comment_id":136712535,"body_markdown":"A curve between two points can be almost anything.  Assuming that you want the starting and ending of the curve to be perpendicular, you can easily calculate the two center points, as you have done.  Using your example of 50,50 and 100,0, assuming drawing coordinates, one curve starts at 0 degrees and curves to 90 degrees while the other starts at 90 degrees and curves to 0 degrees, with 0 degrees as north and clockwise positive degrees.  I made so many assumptions in this comment, as you haven&#39;t defined your coordinate system in your question.","link":"https://stackoverflow.com/questions/77547769/finding-the-correct-intersection-point-for-a-right-hand-bend#comment136712535_77547769","body":"A curve between two points can be almost anything.  Assuming that you want the starting and ending of the curve to be perpendicular, you can easily calculate the two center points, as you have done.  Using your example of 50,50 and 100,0, assuming drawing coordinates, one curve starts at 0 degrees and curves to 90 degrees while the other starts at 90 degrees and curves to 0 degrees, with 0 degrees as north and clockwise positive degrees.  I made so many assumptions in this comment, as you haven&#39;t defined your coordinate system in your question."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700921081,"creation_date":1700921081,"answer_id":77548157,"question_id":77547769,"body_markdown":"You can use trigonometric calculations to find the center of the circle that forms the curve.\r\n\r\n    public static Vector2D calculatePoint(Vector2D[] vectors, double alpha, double startingAlpha) {\r\n        // Calculate the angle between the two vectors\r\n        double angle = Math.abs(alpha - startingAlpha);\r\n    \r\n        // Calculate the direction of the curve (right or left)\r\n        int direction = (startingAlpha + angle &lt;= 360) ? 1 : -1;\r\n    \r\n        // Calculate the center of the curve using trigonometry\r\n        double centerX = vectors[0].getX() + direction * vectors[0].distanceTo(vectors[1]) / Math.tan(Math.toRadians(angle / 2));\r\n        double centerY = vectors[0].getY() - direction * vectors[0].distanceTo(vectors[1]) / Math.sin(Math.toRadians(angle / 2));\r\n    \r\n        return new Vector2D(centerX, centerY);\r\n    }","link":"https://stackoverflow.com/questions/77547769/finding-the-correct-intersection-point-for-a-right-hand-bend/77548157#77548157","title":"Finding the correct intersection point for a right-hand bend","body":"<p>You can use trigonometric calculations to find the center of the circle that forms the curve.</p>\n<pre><code>public static Vector2D calculatePoint(Vector2D[] vectors, double alpha, double startingAlpha) {\n    // Calculate the angle between the two vectors\n    double angle = Math.abs(alpha - startingAlpha);\n\n    // Calculate the direction of the curve (right or left)\n    int direction = (startingAlpha + angle &lt;= 360) ? 1 : -1;\n\n    // Calculate the center of the curve using trigonometry\n    double centerX = vectors[0].getX() + direction * vectors[0].distanceTo(vectors[1]) / Math.tan(Math.toRadians(angle / 2));\n    double centerY = vectors[0].getY() - direction * vectors[0].distanceTo(vectors[1]) / Math.sin(Math.toRadians(angle / 2));\n\n    return new Vector2D(centerX, centerY);\n}\n</code></pre>\n"}],"comment_count":1,"is_answered":false,"view_count":28,"answer_count":1,"score":0,"last_activity_date":1701002111,"creation_date":1700913734,"last_edit_date":1701002111,"question_id":77547769,"body_markdown":"I am trying to calculate curves (their coordinates), for this I have the start point and the end point. I need the center so that I can draw the curve in the right direction. Now the question is, how do I get the correct center?\r\n\r\nI have the intersection points of the two circles, and one of these intersection points would be the correct center. But which one is it?\r\n\r\nFor example, if I have a start point at (50, 50) and an end point at (100, 0), the lower intersection point would be the correct one for a curve to the right.\r\n\r\n\r\n```\r\npublic static Vector2D calculatePoint(Vector2D[] vectors, double alpha, double startingAlpha) {\r\n\r\n    if (startingAlpha == 0 &amp;&amp; alpha &lt; 180) {\r\n        return getLower(vectors);\r\n    }\r\n\r\n    if (startingAlpha == 0 &amp;&amp; alpha == 180) {\r\n        return getLeft(vectors);\r\n    }\r\n\r\n    if (startingAlpha == 0 &amp;&amp; alpha &gt; 180) {\r\n        return getHigher(vectors);\r\n    }\r\n\r\n    if (startingAlpha == 90 &amp;&amp; alpha &lt; 180) {\r\n        return getHigher(vectors);\r\n    }\r\n\r\n    return null;\r\n\r\n}\r\n```\r\nThe variable `alpha` is the new angle, `startingalpha` is the angle it already has and vectors is the array with the two points.\r\n\r\nI have made an example with the `startingAlpha` of 0&#176;.\r\n`Startingalpha` can be between 0&#176; and 360&#176;.\r\n\r\n\r\n\r\nThe simple addition of `startingAlpha` and `alpha` would not work either, for example, because in the case of 90&#176; starting and 90&#176; alpha 180&#176; would result and then the left angle would have to be taken. However, since the curve is not 180&#176; but only 90&#176;, **this is wrong.**\r\n\r\n","link":"https://stackoverflow.com/questions/77547769/finding-the-correct-intersection-point-for-a-right-hand-bend","title":"Finding the correct intersection point for a right-hand bend","body":"<p>I am trying to calculate curves (their coordinates), for this I have the start point and the end point. I need the center so that I can draw the curve in the right direction. Now the question is, how do I get the correct center?</p>\n<p>I have the intersection points of the two circles, and one of these intersection points would be the correct center. But which one is it?</p>\n<p>For example, if I have a start point at (50, 50) and an end point at (100, 0), the lower intersection point would be the correct one for a curve to the right.</p>\n<pre><code>public static Vector2D calculatePoint(Vector2D[] vectors, double alpha, double startingAlpha) {\n\n    if (startingAlpha == 0 &amp;&amp; alpha &lt; 180) {\n        return getLower(vectors);\n    }\n\n    if (startingAlpha == 0 &amp;&amp; alpha == 180) {\n        return getLeft(vectors);\n    }\n\n    if (startingAlpha == 0 &amp;&amp; alpha &gt; 180) {\n        return getHigher(vectors);\n    }\n\n    if (startingAlpha == 90 &amp;&amp; alpha &lt; 180) {\n        return getHigher(vectors);\n    }\n\n    return null;\n\n}\n</code></pre>\n<p>The variable <code>alpha</code> is the new angle, <code>startingalpha</code> is the angle it already has and vectors is the array with the two points.</p>\n<p>I have made an example with the <code>startingAlpha</code> of 0°.\n<code>Startingalpha</code> can be between 0° and 360°.</p>\n<p>The simple addition of <code>startingAlpha</code> and <code>alpha</code> would not work either, for example, because in the case of 90° starting and 90° alpha 180° would result and then the left angle would have to be taken. However, since the curve is not 180° but only 90°, <strong>this is wrong.</strong></p>\n"},{"tags":["java","spring","spring-boot","neo4j","spring-data-neo4j"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701043609,"post_id":77551513,"comment_id":136722659,"body_markdown":"But the above query is counting the number of nodes before the `SET` operation is done, right? What I actually want is to get the number of nodes that are updated after the `SET` operation. For example, if the input is 3 and somehow the nodes are successfully updated is 2, the sdn should return 2 instead of the size of input.","link":"https://stackoverflow.com/questions/77546470/spring-data-neo4j-return-count-of-affected-nodes-after-update-operation/77551513#comment136722659_77551513","body":"But the above query is counting the number of nodes before the <code>SET</code> operation is done, right? What I actually want is to get the number of nodes that are updated after the <code>SET</code> operation. For example, if the input is 3 and somehow the nodes are successfully updated is 2, the sdn should return 2 instead of the size of input."},{"score":0,"post_type":"answer","creation_date":1701077050,"post_id":77551513,"comment_id":136725731,"body_markdown":"The first query returns the number of nodes for which `SET` was _invoked_. The second returns the number of nodes where the value has been _changed_.","link":"https://stackoverflow.com/questions/77546470/spring-data-neo4j-return-count-of-affected-nodes-after-update-operation/77551513#comment136725731_77551513","body":"The first query returns the number of nodes for which <code>SET</code> was <i>invoked</i>. The second returns the number of nodes where the value has been <i>changed</i>."},{"score":0,"post_type":"answer","creation_date":1702007021,"post_id":77551513,"comment_id":136847677,"body_markdown":"After executing the query through java driver it returns a result object where you can get resultSummary which contains the no of nodes that got updated, created on executing the query. In similar fashion can you check if those are available in spring?\n\nFor Reference:\nhttps://neo4j.com/docs/api/java-driver/current/org.neo4j.driver/org/neo4j/driver/Result.html\n\nhttps://neo4j.com/docs/api/java-driver/current/org.neo4j.driver/org/neo4j/driver/summary/ResultSummary.htmlw\n\nhttps://neo4j.com/docs/api/java-driver/current/org.neo4j.driver/org/neo4j/driver/summary/SummaryCounters.html","link":"https://stackoverflow.com/questions/77546470/spring-data-neo4j-return-count-of-affected-nodes-after-update-operation/77551513#comment136847677_77551513","body":"After executing the query through java driver it returns a result object where you can get resultSummary which contains the no of nodes that got updated, created on executing the query. In similar fashion can you check if those are available in spring?  For Reference: <a href=\"https://neo4j.com/docs/api/java-driver/current/org.neo4j.driver/org/neo4j/driver/Result.html\" rel=\"nofollow noreferrer\">neo4j.com/docs/api/java-driver/current/org.neo4j.driver/org/&zwnj;&#8203;&hellip;</a>  <a href=\"https://neo4j.com/docs/api/java-driver/current/org.neo4j.driver/org/neo4j/driver/summary/ResultSummary.htmlw\" rel=\"nofollow noreferrer\">neo4j.com/docs/api/java-driver/current/org.neo4j.driver/org/&zwnj;&#8203;&hellip;</a>  <a href=\"https://neo4j.com/docs/api/java-driver/current/org.neo4j.driver/org/neo4j/driver/summary/SummaryCounters.html\" rel=\"nofollow noreferrer\">neo4j.com/docs/api/java-driver/current/org.neo4j.driver/org/&zwnj;&#8203;&hellip;</a>"}],"comment_count":3,"score":0,"last_activity_date":1700999067,"creation_date":1700999067,"answer_id":77551513,"question_id":77546470,"body_markdown":"If you want the count of nodes to which the `SET` was applied, return the count of rows:\r\n\r\n```sql\r\nMATCH (n:Student) WHERE n.id IN $idList \r\nSET n.isRegistered = true\r\nRETURN count(*) AS numAffected\r\n```\r\n\r\nIf you want the count of nodes whose value of `isRegistered` was changed, remove nodes that already have `isRegistered = true` with the `WHERE` clause:\r\n\r\n```sql\r\nMATCH (n:Student) \r\nWHERE n.id IN $idList AND NOT coalesce(n.isRegistered, false) \r\nSET n.isRegistered = true\r\nRETURN count(*) AS numAffected\r\n```\r\n\r\n(I&#39;ve just formatted as stand-alone Cypher to make it easier read.)","link":"https://stackoverflow.com/questions/77546470/spring-data-neo4j-return-count-of-affected-nodes-after-update-operation/77551513#77551513","title":"Spring Data Neo4j return count of affected nodes after update operation","body":"<p>If you want the count of nodes to which the <code>SET</code> was applied, return the count of rows:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>MATCH (n:Student) WHERE n.id IN $idList \nSET n.isRegistered = true\nRETURN count(*) AS numAffected\n</code></pre>\n<p>If you want the count of nodes whose value of <code>isRegistered</code> was changed, remove nodes that already have <code>isRegistered = true</code> with the <code>WHERE</code> clause:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>MATCH (n:Student) \nWHERE n.id IN $idList AND NOT coalesce(n.isRegistered, false) \nSET n.isRegistered = true\nRETURN count(*) AS numAffected\n</code></pre>\n<p>(I've just formatted as stand-alone Cypher to make it easier read.)</p>\n"}],"comment_count":0,"is_answered":false,"view_count":32,"answer_count":1,"score":0,"last_activity_date":1700999067,"creation_date":1700880286,"question_id":77546470,"body_markdown":"Is there any way to return the count of affected nodes after doing the update operation with Spring Data Neo4j repository?\r\n\r\ne.g\r\n```\r\n@Query(&quot;MATCH (n:Student) WHERE n.id IN $idList SET n.isRegistered = true&quot;)\r\nInteger updateRegisterInfo(@Param(&quot;idList&quot;) List&lt;String&gt; idList);\r\n```\r\n\r\nBut sdn can only return void/null value for such operation.\r\n\r\nThanks","link":"https://stackoverflow.com/questions/77546470/spring-data-neo4j-return-count-of-affected-nodes-after-update-operation","title":"Spring Data Neo4j return count of affected nodes after update operation","body":"<p>Is there any way to return the count of affected nodes after doing the update operation with Spring Data Neo4j repository?</p>\n<p>e.g</p>\n<pre><code>@Query(&quot;MATCH (n:Student) WHERE n.id IN $idList SET n.isRegistered = true&quot;)\nInteger updateRegisterInfo(@Param(&quot;idList&quot;) List&lt;String&gt; idList);\n</code></pre>\n<p>But sdn can only return void/null value for such operation.</p>\n<p>Thanks</p>\n"},{"tags":["java","swing","jframe","overriding","look-and-feel"],"comments":[{"score":1,"post_type":"question","creation_date":1700983197,"post_id":77550771,"comment_id":136717140,"body_markdown":"The biggest thing I see wrong in your code fragment is using one character field names.  You haven&#39;t provided enough context to your question for anyone to comment.  Are you developing a [look and feel](https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html)?","link":"https://stackoverflow.com/questions/77550771/how-to-prevent-jframe-from-being-decorated#comment136717140_77550771","body":"The biggest thing I see wrong in your code fragment is using one character field names.  You haven&#39;t provided enough context to your question for anyone to comment.  Are you developing a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html\" rel=\"nofollow noreferrer\">look and feel</a>?"},{"score":1,"post_type":"question","creation_date":1700987956,"post_id":77550771,"comment_id":136717452,"body_markdown":"The answer to the question _How to override a method of an already existing instance_ is: __You cannot do that__. There _might_ be a way to accomplish the goal your body text asks, so I&#39;m posting this as a comment and not an answer, but going by the question asked by the title? Nope.","link":"https://stackoverflow.com/questions/77550771/how-to-prevent-jframe-from-being-decorated#comment136717452_77550771","body":"The answer to the question <i>How to override a method of an already existing instance</i> is: <b>You cannot do that</b>. There <i>might</i> be a way to accomplish the goal your body text asks, so I&#39;m posting this as a comment and not an answer, but going by the question asked by the title? Nope."},{"score":0,"post_type":"question","creation_date":1700989909,"post_id":77550771,"comment_id":136717603,"body_markdown":"@GilbertLeBlanc yea i am trying to work on a look and feel","link":"https://stackoverflow.com/questions/77550771/how-to-prevent-jframe-from-being-decorated#comment136717603_77550771","body":"@GilbertLeBlanc yea i am trying to work on a look and feel"},{"score":0,"post_type":"question","creation_date":1700989968,"post_id":77550771,"comment_id":136717607,"body_markdown":"@rzwitserloot what would you think is a more appropriate title for my current question?","link":"https://stackoverflow.com/questions/77550771/how-to-prevent-jframe-from-being-decorated#comment136717607_77550771","body":"@rzwitserloot what would you think is a more appropriate title for my current question?"},{"score":1,"post_type":"question","creation_date":1701105436,"post_id":77550771,"comment_id":136731160,"body_markdown":"Do you know about [`JFrame.setDefaultLookAndFeelDecorated(…)`](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html#setDefaultLookAndFeelDecorated(boolean))? If an application developer still changes `setUndecorated` explicitly for a specific window, you probably should respect that they want this window not to be look &amp; feel decorated…","link":"https://stackoverflow.com/questions/77550771/how-to-prevent-jframe-from-being-decorated#comment136731160_77550771","body":"Do you know about <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html#setDefaultLookAndFeelDecorated(boolean)\" rel=\"nofollow noreferrer\"><code>JFrame.setDefaultLookAndFeelDecorated(…)</code></a>? If an application developer still changes <code>setUndecorated</code> explicitly for a specific window, you probably should respect that they want this window not to be look &amp; feel decorated…"}],"comment_count":5,"is_answered":false,"view_count":65,"answer_count":0,"score":0,"last_activity_date":1700997999,"creation_date":1700982191,"last_edit_date":1700997999,"question_id":77550771,"body_markdown":"I was working on JRootPaneUI (I am trying to develop a look and feel), and I was making a window with rounded corners. The issue is if I do not use `setShape`, it would leave some artifacts on the corner of the window. However to do so I should set the window to undecorated, and if someone decides to make their window decorated, it would break the UI. So, I was wondering how I could override the JFrame&#39;s `setUndecorated` method.\r\n\r\nCurrently this is the code I came up with.\r\n```\r\n@Override\r\npublic void installUI(JComponent component) {\r\n\t\t\r\n\tJRootPane rootPane = (JRootPane) component;\r\n\tJFrame frame = (JFrame) rootPane.getParent();\r\n\t\r\n    // Override instance frame&#39;s setUndecorated method here\r\n}\r\n```\r\nThere probably is something wrong about using the following method to get the JFrame, so if there is a better method to do so, please consider including it.","link":"https://stackoverflow.com/questions/77550771/how-to-prevent-jframe-from-being-decorated","title":"How to prevent JFrame from being decorated","body":"<p>I was working on JRootPaneUI (I am trying to develop a look and feel), and I was making a window with rounded corners. The issue is if I do not use <code>setShape</code>, it would leave some artifacts on the corner of the window. However to do so I should set the window to undecorated, and if someone decides to make their window decorated, it would break the UI. So, I was wondering how I could override the JFrame's <code>setUndecorated</code> method.</p>\n<p>Currently this is the code I came up with.</p>\n<pre><code>@Override\npublic void installUI(JComponent component) {\n        \n    JRootPane rootPane = (JRootPane) component;\n    JFrame frame = (JFrame) rootPane.getParent();\n    \n    // Override instance frame's setUndecorated method here\n}\n</code></pre>\n<p>There probably is something wrong about using the following method to get the JFrame, so if there is a better method to do so, please consider including it.</p>\n"},{"tags":["java","google-bigquery","google-cloud-dataflow","apache-beam"],"comment_count":0,"is_answered":false,"view_count":48,"answer_count":0,"score":-2,"last_activity_date":1700997336,"creation_date":1700997336,"question_id":77551417,"body_markdown":"Let&#39;s say we have a simple Apache Beam batch pipeline,  \r\nit reads a TSV file, parse it to a Java Record, and convert it to a TableRow for inserting into BigQuery:\r\n\r\n```java\r\npipeline.apply(TextIO.read().from(file))\r\n        .apply(ParDo.of(parseToRecord()))\r\n        .apply(ParDo.of(convertToTableRow()));\r\n```\r\n\r\n```java\r\npublic static DoFn&lt;String, Dummy&gt; parseToRecord() {\r\n    return new DoFn&lt;String, Dummy&gt;() {\r\n        @ProcessElement\r\n        public void processElement(ProcessContext context) {\r\n            context.output(new Dummy(context.element()));\r\n        }\r\n    };\r\n}\r\n\r\npublic static DoFn&lt;Dummy, TableRow&gt; convertToTableRow() {\r\n    return new DoFn&lt;Dummy,TableRow&gt;() {\r\n        @ProcessElement\r\n        public void processElement(ProcessContext context) {\r\n            Dummy dummy = context.element();\r\n            TableRow row = new TableRow()\r\n                    .set(&quot;id&quot;, dummy.id())\r\n                    .set(&quot;value&quot;, dummy.value());\r\n            context.output(row);\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nThe code above works, but I want to reduce some boilerplates.  \r\nSo I created a method to generate DoFn using generics:\r\n\r\n```java\r\nprivate static &lt;T, R&gt; DoFn&lt;T, R&gt; process(Function&lt;T, R&gt; function) {\r\n    return new DoFn&lt;T, R&gt;() {\r\n        @ProcessElement\r\n        public void processElement(ProcessContext context) {\r\n            context.output(function.apply(context.element()));\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nand rewrote the pipeline like this:\r\n\r\n```java\r\npipeline.apply(TextIO.read().from(file))\r\n        .apply(ParDo.of(process(Dummy::new)))\r\n        .apply(ParDo.of(process(Dummy::toTableRow)));\r\n```\r\n\r\nIt compiles but failed to start:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Unable to return a default Coder for Parse to Record/ParMultiDo(Anonymous).output [PCollection@2099348779]. Correct one of the following root causes:\r\n  No Coder has been manually specified;  you may do so using .setCoder().\r\n  Inferring a Coder from the CoderRegistry failed: Unable to provide a Coder for R.\r\n  Building a Coder using a registered CoderProvider failed.\r\n  See suppressed exceptions for detailed failures.\r\n  Using the default output Coder from the producing PTransform failed: PTransform.getOutputCoder called.\r\n        at org.apache.beam.sdk.util.Preconditions.checkStateNotNull(Preconditions.java:471)\r\n        at org.apache.beam.sdk.values.PCollection.getCoder(PCollection.java:282)\r\n        at org.apache.beam.sdk.values.PCollection.finishSpecifying(PCollection.java:113)\r\n        at org.apache.beam.sdk.runners.TransformHierarchy.finishSpecifyingInput(TransformHierarchy.java:154)\r\n        at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:544)\r\n        at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:496)\r\n        at org.apache.beam.sdk.values.PCollection.apply(PCollection.java:365)\r\n        at batch.Main.main(Main.java:28)\r\n```\r\n\r\nIt says &quot;you may do so using .setCoder()&quot;,  \r\nso I added 2 `.setCoder(AvroCoder.of(?.class))` for `Dummy.class` and `TableRow.class` but ends up with NotSerializableException:\r\n\r\n```\r\nCaused by: java.io.NotSerializableException: batch.Main$$Lambda$209/0x00000001013b3728\r\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1197)\r\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\r\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\r\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\r\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1191)\r\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\r\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\r\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\r\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1191)\r\n        at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\r\n        at org.apache.beam.sdk.util.SerializableUtils.serializeToByteArray(SerializableUtils.java:55)\r\n        ... 21 more\r\n```\r\n\r\nHere&#39;s the record:\r\n\r\n```java\r\npublic record Dummy(String id, String value) implements Serializable {\r\n    Dummy(String line) { this(line.split(&quot;\\t&quot;)); }\r\n    Dummy(String[] array) { this(array[0], array[1]); }\r\n\r\n    public static TableRow toTableRow(Dummy dummy) {\r\n        return new TableRow()\r\n                .set(&quot;id&quot;, dummy.id())\r\n                .set(&quot;value&quot;, dummy.value());\r\n    }\r\n}\r\n```\r\n\r\nChanging it with generics essentially does not change any thing, doesn&#39;t it?  \r\nAll the Classes are determined while compile time so it was quite confused. \r\n\r\nAnd please tell me if I am doing the wrong thing (e.g. violating Apache Beam&#39;s concepts)","link":"https://stackoverflow.com/questions/77551417/coder-issue-while-generating-dofn-with-generics","title":"Coder issue while generating DoFn with generics","body":"<p>Let's say we have a simple Apache Beam batch pipeline,<br />\nit reads a TSV file, parse it to a Java Record, and convert it to a TableRow for inserting into BigQuery:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pipeline.apply(TextIO.read().from(file))\n        .apply(ParDo.of(parseToRecord()))\n        .apply(ParDo.of(convertToTableRow()));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static DoFn&lt;String, Dummy&gt; parseToRecord() {\n    return new DoFn&lt;String, Dummy&gt;() {\n        @ProcessElement\n        public void processElement(ProcessContext context) {\n            context.output(new Dummy(context.element()));\n        }\n    };\n}\n\npublic static DoFn&lt;Dummy, TableRow&gt; convertToTableRow() {\n    return new DoFn&lt;Dummy,TableRow&gt;() {\n        @ProcessElement\n        public void processElement(ProcessContext context) {\n            Dummy dummy = context.element();\n            TableRow row = new TableRow()\n                    .set(&quot;id&quot;, dummy.id())\n                    .set(&quot;value&quot;, dummy.value());\n            context.output(row);\n        }\n    };\n}\n</code></pre>\n<p>The code above works, but I want to reduce some boilerplates.<br />\nSo I created a method to generate DoFn using generics:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;T, R&gt; DoFn&lt;T, R&gt; process(Function&lt;T, R&gt; function) {\n    return new DoFn&lt;T, R&gt;() {\n        @ProcessElement\n        public void processElement(ProcessContext context) {\n            context.output(function.apply(context.element()));\n        }\n    };\n}\n</code></pre>\n<p>and rewrote the pipeline like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pipeline.apply(TextIO.read().from(file))\n        .apply(ParDo.of(process(Dummy::new)))\n        .apply(ParDo.of(process(Dummy::toTableRow)));\n</code></pre>\n<p>It compiles but failed to start:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Unable to return a default Coder for Parse to Record/ParMultiDo(Anonymous).output [PCollection@2099348779]. Correct one of the following root causes:\n  No Coder has been manually specified;  you may do so using .setCoder().\n  Inferring a Coder from the CoderRegistry failed: Unable to provide a Coder for R.\n  Building a Coder using a registered CoderProvider failed.\n  See suppressed exceptions for detailed failures.\n  Using the default output Coder from the producing PTransform failed: PTransform.getOutputCoder called.\n        at org.apache.beam.sdk.util.Preconditions.checkStateNotNull(Preconditions.java:471)\n        at org.apache.beam.sdk.values.PCollection.getCoder(PCollection.java:282)\n        at org.apache.beam.sdk.values.PCollection.finishSpecifying(PCollection.java:113)\n        at org.apache.beam.sdk.runners.TransformHierarchy.finishSpecifyingInput(TransformHierarchy.java:154)\n        at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:544)\n        at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:496)\n        at org.apache.beam.sdk.values.PCollection.apply(PCollection.java:365)\n        at batch.Main.main(Main.java:28)\n</code></pre>\n<p>It says &quot;you may do so using .setCoder()&quot;,<br />\nso I added 2 <code>.setCoder(AvroCoder.of(?.class))</code> for <code>Dummy.class</code> and <code>TableRow.class</code> but ends up with NotSerializableException:</p>\n<pre><code>Caused by: java.io.NotSerializableException: batch.Main$$Lambda$209/0x00000001013b3728\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1197)\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1191)\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1191)\n        at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\n        at org.apache.beam.sdk.util.SerializableUtils.serializeToByteArray(SerializableUtils.java:55)\n        ... 21 more\n</code></pre>\n<p>Here's the record:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Dummy(String id, String value) implements Serializable {\n    Dummy(String line) { this(line.split(&quot;\\t&quot;)); }\n    Dummy(String[] array) { this(array[0], array[1]); }\n\n    public static TableRow toTableRow(Dummy dummy) {\n        return new TableRow()\n                .set(&quot;id&quot;, dummy.id())\n                .set(&quot;value&quot;, dummy.value());\n    }\n}\n</code></pre>\n<p>Changing it with generics essentially does not change any thing, doesn't it?<br />\nAll the Classes are determined while compile time so it was quite confused.</p>\n<p>And please tell me if I am doing the wrong thing (e.g. violating Apache Beam's concepts)</p>\n"},{"tags":["java","json","jackson"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701067454,"post_id":77551256,"comment_id":136724335,"body_markdown":"Thanks for your reply. Unfortunately, I cannot influence this in any way. This dto object imports from spring starter","link":"https://stackoverflow.com/questions/77551118/jsonnullable-object-is-always-has-ispresent-value-true/77551256#comment136724335_77551256","body":"Thanks for your reply. Unfortunately, I cannot influence this in any way. This dto object imports from spring starter"}],"comment_count":1,"score":0,"last_activity_date":1700994126,"creation_date":1700994126,"answer_id":77551256,"question_id":77551118,"body_markdown":"Try using @JsonDeserialize [Jackson annotation][1] on your class members that can be null in json and you want to have value &quot;false&quot; instead of null, like this:\r\n\r\n    public class MyJsonClass {\r\n        @JsonDeserialize(using = CustomDeserializer.class)\r\n        public String nullableMember;\r\n    }\r\n    \r\n    public class CustomDeserializer\r\n      extends StdDeserializer&lt;String&gt; {\r\n    \r\n        public CustomDeserializer() { \r\n            this(null); \r\n        } \r\n    \r\n        public CustomDeserializer(Class&lt;?&gt; vc) { \r\n            super(vc); \r\n        }\r\n    \r\n        @Override\r\n        public String deserialize(JsonParser jsonparser, DeserializationContext context) {\r\n            String text = jsonparser.getText();\r\n            if (null == text) {\r\n              text = &quot;false&quot;;\r\n            }\r\n            return text;\r\n        }\r\n    }\r\n  [1]: https://www.baeldung.com/jackson-annotations\r\n\r\n","link":"https://stackoverflow.com/questions/77551118/jsonnullable-object-is-always-has-ispresent-value-true/77551256#77551256","title":"JsonNullable object is always has isPresent value = true","body":"<p>Try using @JsonDeserialize <a href=\"https://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">Jackson annotation</a> on your class members that can be null in json and you want to have value &quot;false&quot; instead of null, like this:</p>\n<pre><code>public class MyJsonClass {\n    @JsonDeserialize(using = CustomDeserializer.class)\n    public String nullableMember;\n}\n\npublic class CustomDeserializer\n  extends StdDeserializer&lt;String&gt; {\n\n    public CustomDeserializer() { \n        this(null); \n    } \n\n    public CustomDeserializer(Class&lt;?&gt; vc) { \n        super(vc); \n    }\n\n    @Override\n    public String deserialize(JsonParser jsonparser, DeserializationContext context) {\n        String text = jsonparser.getText();\n        if (null == text) {\n          text = &quot;false&quot;;\n        }\n        return text;\n    }\n}\n</code></pre>\n"}],"comment_count":0,"is_answered":false,"view_count":45,"answer_count":1,"score":0,"last_activity_date":1700994126,"creation_date":1700991009,"question_id":77551118,"body_markdown":"I have a file with a json format. It stores the json object that I use in my tests. I convert this file to an object using objectmapper and it converts fine, but there is one problem. All fields in the object have a wrapper type of JsonNullabel. The problem is the following - all JsonNullabel objects even if they contain the null property value IsPresent = true. Because of this, the &quot;orElse&quot; and &quot;isPresent&quot; methods do not work correctly. And I get NPE. How can I make sure that when converting from a string or a file with json, these fields are equal to &quot;false&quot; if there is a null value inside?\r\n\r\nJson example:\r\n\r\n```\r\n{\r\n  &quot;id&quot;: 12345,\r\n  &quot;mdmCode&quot;: 12345,\r\n  &quot;mdmLegalStatusCode&quot;: &quot;Enterprise&quot;,\r\n  .......................\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried this config for objectMapper:\r\nObjectMapper config:\r\n\r\n```\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.registerModule(new JavaTimeModule());\r\n    objectMapper.registerModule(new Jdk8Module());\r\n    objectMapper.registerModule(new JsonNullableModule());\r\n    objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    objectMapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, false);\r\n```","link":"https://stackoverflow.com/questions/77551118/jsonnullable-object-is-always-has-ispresent-value-true","title":"JsonNullable object is always has isPresent value = true","body":"<p>I have a file with a json format. It stores the json object that I use in my tests. I convert this file to an object using objectmapper and it converts fine, but there is one problem. All fields in the object have a wrapper type of JsonNullabel. The problem is the following - all JsonNullabel objects even if they contain the null property value IsPresent = true. Because of this, the &quot;orElse&quot; and &quot;isPresent&quot; methods do not work correctly. And I get NPE. How can I make sure that when converting from a string or a file with json, these fields are equal to &quot;false&quot; if there is a null value inside?</p>\n<p>Json example:</p>\n<pre><code>{\n  &quot;id&quot;: 12345,\n  &quot;mdmCode&quot;: 12345,\n  &quot;mdmLegalStatusCode&quot;: &quot;Enterprise&quot;,\n  .......................\n}\n</code></pre>\n<p>I've tried this config for objectMapper:\nObjectMapper config:</p>\n<pre><code>    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.registerModule(new JavaTimeModule());\n    objectMapper.registerModule(new Jdk8Module());\n    objectMapper.registerModule(new JsonNullableModule());\n    objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    objectMapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, false);\n</code></pre>\n"},{"tags":["java","spring-boot","maven","jpa","javabeans"],"comments":[{"score":0,"post_type":"question","creation_date":1700974954,"post_id":77550474,"comment_id":136716685,"body_markdown":"It appears spring RUNTIME does not know the package is there, perhaps if it is &quot;jar&quot; ed the packaging mechanism is not aware of either the class or the code package to jar package. it probably could not pick up either the class file itself or the whole package for entities during buils.","link":"https://stackoverflow.com/questions/77550474/bean-not-getting-created-even-after-using-entity#comment136716685_77550474","body":"It appears spring RUNTIME does not know the package is there, perhaps if it is &quot;jar&quot; ed the packaging mechanism is not aware of either the class or the code package to jar package. it probably could not pick up either the class file itself or the whole package for entities during buils."},{"score":0,"post_type":"question","creation_date":1700975787,"post_id":77550474,"comment_id":136716739,"body_markdown":"Entities are not beans.  They are runtime pojo&#39;s that hold data from a database.","link":"https://stackoverflow.com/questions/77550474/bean-not-getting-created-even-after-using-entity#comment136716739_77550474","body":"Entities are not beans.  They are runtime pojo&#39;s that hold data from a database."},{"score":0,"post_type":"question","creation_date":1700976246,"post_id":77550474,"comment_id":136716760,"body_markdown":"yes , i agree with you but the error shows bean not found, how should i handle that?","link":"https://stackoverflow.com/questions/77550474/bean-not-getting-created-even-after-using-entity#comment136716760_77550474","body":"yes , i agree with you but the error shows bean not found, how should i handle that?"}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1700988181,"creation_date":1700988181,"answer_id":77550999,"question_id":77550474,"body_markdown":"Since you are targeting SpringBoot 3, you should change from `javax.persistence` to `jakarta.persistence` imports in your `Users` class.\r\n\r\nSpringBoot 3 major change is the adoption of JakartaEE 9 (with dropping jdk8 / jdk11 support to have jdk17 baseline), which leads to have to migrate from `javax` to `jakarta` for many JavaEE feature, including JPA.\r\n\r\nSince your code compile, I&#39;d also suggest to clean up your `pom.xml` to remove old JPA dependencies in order to drop `javax.persistence` recognized package (and so old JavaEE8 jpa support). ","link":"https://stackoverflow.com/questions/77550474/bean-not-getting-created-even-after-using-entity/77550999#77550999","title":"bean not getting created even after using @entity","body":"<p>Since you are targeting SpringBoot 3, you should change from <code>javax.persistence</code> to <code>jakarta.persistence</code> imports in your <code>Users</code> class.</p>\n<p>SpringBoot 3 major change is the adoption of JakartaEE 9 (with dropping jdk8 / jdk11 support to have jdk17 baseline), which leads to have to migrate from <code>javax</code> to <code>jakarta</code> for many JavaEE feature, including JPA.</p>\n<p>Since your code compile, I'd also suggest to clean up your <code>pom.xml</code> to remove old JPA dependencies in order to drop <code>javax.persistence</code> recognized package (and so old JavaEE8 jpa support).</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1700994105,"creation_date":1700994105,"answer_id":77551255,"question_id":77550474,"body_markdown":"Based on version of `spring-boot`(3.2.0) that you are using I see some miss configuration to fix it\r\n\r\nRemove next one dependency from `pom.xml`\r\n\r\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.0-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAlso be sure that you will do replace in your project on imports from `javax.` to `jakarta.`. More details about it check [preparing-for-spring-boot-3-0][1]\r\n\r\nAs an example:\r\n Instead of \r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n\r\nIt have to be:\r\n\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","link":"https://stackoverflow.com/questions/77550474/bean-not-getting-created-even-after-using-entity/77551255#77551255","title":"bean not getting created even after using @entity","body":"<p>Based on version of <code>spring-boot</code>(3.2.0) that you are using I see some miss configuration to fix it</p>\n<p>Remove next one dependency from <code>pom.xml</code></p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.0-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also be sure that you will do replace in your project on imports from <code>javax.</code> to <code>jakarta.</code>. More details about it check <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">preparing-for-spring-boot-3-0</a></p>\n<p>As an example:\nInstead of</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n</code></pre>\n<p>It have to be:</p>\n<pre><code>import jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n</code></pre>\n"}],"comment_count":3,"is_answered":true,"view_count":90,"answer_count":2,"score":0,"last_activity_date":1700994105,"creation_date":1700973732,"question_id":77550474,"body_markdown":"I am not able to run my Spring Boot application, because there is an issue with JPA. But I am not able to find the problem and resolve it. I searched for a solution on several stack overflow topics, but not even one solution was helpful for me. I defined the following model:\r\n\r\ncode of my entity class- \r\n\r\n\r\n```\r\npackage com.ncu.legalVise.entities;\r\n\r\n\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n\r\n@Entity\r\n@Table(name =&quot;users&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Users {\r\n\r\n\t\r\n//\tpublic Users(String username, String password, int enabled) {\r\n//\t\tsuper();\r\n//\t\tthis.username = username;\r\n//\t\tthis.password = password;\r\n//\t\tthis.enabled = enabled;\r\n//\t}\r\n//\r\n//\tpublic Users() {\r\n//\t\tsuper();\r\n//\t}\r\n\r\n\t@Id\r\n\tprivate String username;\r\n\t\r\n\t@Column(nullable = false)\r\n\tprivate String password;\r\n\t\r\n\t@Column(nullable = false)\r\n\tprivate int enabled;\r\n\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic int getEnabled() {\r\n\t\treturn enabled;\r\n\t}\r\n\r\n\tpublic void setEnabled(int enabled) {\r\n\t\tthis.enabled = enabled;\r\n\t}\r\n\r\n\t\r\n\t\r\n}\r\n```\r\nMy pom file -\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ncu&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;LegalVise&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;LegalVise&lt;/name&gt;\r\n\t&lt;description&gt;Legal Vise&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.0-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nmy controller - \r\n\r\n\r\n```\r\npackage com.ncu.legalVise.controller;\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.ncu.legalVise.entities.Authorities;\r\nimport com.ncu.legalVise.entities.Users;\r\nimport com.ncu.legalVise.repository.AuthoritiesRepository;\r\nimport com.ncu.legalVise.repository.UsersRepository;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/public/security&quot;)\r\npublic class SecurityController {\r\n\t\r\n\tUsers user;\r\n\tAuthorities authority;\r\n\tUsersRepository usersRepository;\r\n\tAuthoritiesRepository authoritiesRepository;\r\n\t\r\n\t@Autowired\r\n\tSecurityController(Users user, Authorities authority,UsersRepository usersRepository,AuthoritiesRepository authoritiesRepository)\r\n\t{\r\n\t\tuser = this.user;\r\n\t\tauthority= this.authority;\r\n\t\tusersRepository=this.usersRepository;\r\n\t\tauthoritiesRepository=this.authoritiesRepository;\r\n\t\t\r\n\t}\r\n\t@PostMapping(&quot;/register&quot;)\r\n\tpublic ResponseEntity&lt;Object&gt; register(@RequestBody String userName, @RequestBody String password, @RequestBody String authorities)\r\n\t{\r\n\t\tuser.setUsername(userName);\r\n\t\tuser.setPassword(password);\r\n\t\tuser.setEnabled(1);\r\n\t\tauthority.setUsername(userName);\r\n\t\tauthority.setAuthority(authorities);\r\n\t\tif(!usersRepository.existsById(userName))\r\n\t\t{\r\n\t\t\tusersRepository.save(user);\r\n\t\t\tauthoritiesRepository.save(authority);\r\n\t\t\treturn ResponseEntity.ok(usersRepository.findById(userName));\r\n\t\t}\r\n\t\treturn ResponseEntity.notFound().build();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nthe error message -\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.ncu.legalVise.controller.SecurityController required a bean of type &#39;com.ncu.legalVise.entities.Users&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.ncu.legalVise.entities.Users&#39; in your configuration.\r\n\r\nkindly help me solve this \r\n\r\n\r\n\r\n\r\ni tried changing dependencies but nothing worked","link":"https://stackoverflow.com/questions/77550474/bean-not-getting-created-even-after-using-entity","title":"bean not getting created even after using @entity","body":"<p>I am not able to run my Spring Boot application, because there is an issue with JPA. But I am not able to find the problem and resolve it. I searched for a solution on several stack overflow topics, but not even one solution was helpful for me. I defined the following model:</p>\n<p>code of my entity class-</p>\n<pre><code>package com.ncu.legalVise.entities;\n\n\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport org.springframework.stereotype.Service;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n@Entity\n@Table(name =&quot;users&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Users {\n\n    \n//  public Users(String username, String password, int enabled) {\n//      super();\n//      this.username = username;\n//      this.password = password;\n//      this.enabled = enabled;\n//  }\n//\n//  public Users() {\n//      super();\n//  }\n\n    @Id\n    private String username;\n    \n    @Column(nullable = false)\n    private String password;\n    \n    @Column(nullable = false)\n    private int enabled;\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public int getEnabled() {\n        return enabled;\n    }\n\n    public void setEnabled(int enabled) {\n        this.enabled = enabled;\n    }\n\n    \n    \n}\n</code></pre>\n<p>My pom file -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ncu&lt;/groupId&gt;\n    &lt;artifactId&gt;LegalVise&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;LegalVise&lt;/name&gt;\n    &lt;description&gt;Legal Vise&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        \n        \n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.0-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            \n        &lt;/dependency&gt;\n                &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    \n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>my controller -</p>\n<pre><code>package com.ncu.legalVise.controller;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.ncu.legalVise.entities.Authorities;\nimport com.ncu.legalVise.entities.Users;\nimport com.ncu.legalVise.repository.AuthoritiesRepository;\nimport com.ncu.legalVise.repository.UsersRepository;\n\n@RestController\n@RequestMapping(&quot;/api/public/security&quot;)\npublic class SecurityController {\n    \n    Users user;\n    Authorities authority;\n    UsersRepository usersRepository;\n    AuthoritiesRepository authoritiesRepository;\n    \n    @Autowired\n    SecurityController(Users user, Authorities authority,UsersRepository usersRepository,AuthoritiesRepository authoritiesRepository)\n    {\n        user = this.user;\n        authority= this.authority;\n        usersRepository=this.usersRepository;\n        authoritiesRepository=this.authoritiesRepository;\n        \n    }\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;Object&gt; register(@RequestBody String userName, @RequestBody String password, @RequestBody String authorities)\n    {\n        user.setUsername(userName);\n        user.setPassword(password);\n        user.setEnabled(1);\n        authority.setUsername(userName);\n        authority.setAuthority(authorities);\n        if(!usersRepository.existsById(userName))\n        {\n            usersRepository.save(user);\n            authoritiesRepository.save(authority);\n            return ResponseEntity.ok(usersRepository.findById(userName));\n        }\n        return ResponseEntity.notFound().build();\n    }\n}\n\n</code></pre>\n<p>the error message -</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of constructor in com.ncu.legalVise.controller.SecurityController required a bean of type 'com.ncu.legalVise.entities.Users' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.ncu.legalVise.entities.Users' in your configuration.</p>\n<p>kindly help me solve this</p>\n<p>i tried changing dependencies but nothing worked</p>\n"},{"tags":["java","image-processing","raster","rgb","bufferedimage"],"comments":[{"score":1,"post_type":"question","creation_date":1701076961,"post_id":77550890,"comment_id":136725711,"body_markdown":"Do not put external images in the question. Most of us will not open random links from random people, and in any case this is a reference site, so we need all relevant information in the question, also in 10 or more years from now. -- So I do not know what you want, but you need to use only one component per time to build an image. Use H (or S, or L) and display only such component. How to map in RGB a single component it is about your choice of what you want to describe.","link":"https://stackoverflow.com/questions/77550890/how-do-i-dispaly-individual-components-such-as-saturation-in-hsv-and-hls-models#comment136725711_77550890","body":"Do not put external images in the question. Most of us will not open random links from random people, and in any case this is a reference site, so we need all relevant information in the question, also in 10 or more years from now. -- So I do not know what you want, but you need to use only one component per time to build an image. Use H (or S, or L) and display only such component. How to map in RGB a single component it is about your choice of what you want to describe."}],"comment_count":1,"is_answered":false,"view_count":29,"answer_count":0,"score":0,"last_activity_date":1700993943,"creation_date":1700985590,"last_edit_date":1700993943,"question_id":77550890,"body_markdown":"[Here is the experiment I am trying to emulate](https://i.stack.imgur.com/RdBjf.png)\r\n\r\nI am stuck on the first part and that is displaying the individual components of the HSB image like the ones shown in the experiment. \r\n\r\nI have extracted the HSB components for my RGB image, but I do not know how to display those components **individually**. I have however tried to convert the HSB values to RGB by multiplying with 255 and displaying them. the result is not what I wanted [result](https://i.stack.imgur.com/pNGhW.png). I wish to obtain the images shown in the experiment. I have studied the `BufferedImage`, `WritableRaster`, and `Color` class in Java but I don&#39;t see how I can do that. What am I missing here?\r\n\r\n\r\n```\r\npublic class HSBandHSL {\r\n\r\n\tpublic static int WIDTH = 450;\r\n\tpublic static int HEIGHT = 390;\r\n\r\n    //function to display an image to the screen\r\n\tpublic static void showImage(Image img, String label) throws IOException {\r\n\t\tImageIcon icon=new ImageIcon(img);\r\n\t\tJFrame frame=new JFrame(label);\r\n\t\tframe.setLayout(new FlowLayout());\r\n\t\tframe.setSize(WIDTH,HEIGHT);\r\n\t\tJLabel lbl=new JLabel();\r\n\t\tlbl.setIcon(icon);\r\n\t\tframe.add(lbl);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t}\r\n\r\n    //function to apply Color.RGBtoHSB to every pixel in the RGB image and construct s corresponding HSB image\r\n\tpublic static void myRGB2HSB(BufferedImage img) {\r\n\t\tfor(int i=0; i&lt;WIDTH;i++) {\r\n\t\t\tfor(int j=0;j&lt;HEIGHT;j++) {\r\n\t\t\t\tint pixel=img.getRGB(i,j);\r\n\t\t\t\tColor color = new Color(pixel);\r\n\t\t\t\tint red = color.getRed();\r\n\t\t\t\tint green = color.getGreen();\r\n\t\t\t\tint blue = color.getBlue();\r\n\t\t\t\tfloat [] hsbvals = new float[3];\r\n\t\t\t\tcolor.RGBtoHSB(red, green, blue, hsbvals);\r\n\t\t\t\thsbvals[0]=hsbvals[0]*255;\r\n\t\t\t\thsbvals[1]=hsbvals[1]*255;\r\n\t\t\t\thsbvals[2]=hsbvals[2]*255;\t\t\t\r\n\t\t\t\tWritableRaster imgRaster = img.getRaster();\r\n\t\t\t\timgRaster.setPixel(i, j, hsbvals);\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\r\n        //read new image as RGB and display to screen\r\n\t\tBufferedImage img = null;\r\n\t\timg = ImageIO.read(new File(&quot;/home/user/Desktop/test.jpg&quot;));\r\n\t\tshowImage(img,&quot;RGB image&quot;);\r\n                \r\n        //read new image as RGB, convert it to HSB and display to screen\r\n\t\timg = ImageIO.read(new File(&quot;/home/user/Desktop/test.jpg&quot;));\r\n\t\tmyRGB2HSB(img);\r\n\t\tshowImage(img,&quot;HSB image&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n","link":"https://stackoverflow.com/questions/77550890/how-do-i-dispaly-individual-components-such-as-saturation-in-hsv-and-hls-models","title":"How do I dispaly individual components such as saturation in HSV and HLS models?","body":"<p><a href=\"https://i.stack.imgur.com/RdBjf.png\" rel=\"nofollow noreferrer\">Here is the experiment I am trying to emulate</a></p>\n<p>I am stuck on the first part and that is displaying the individual components of the HSB image like the ones shown in the experiment.</p>\n<p>I have extracted the HSB components for my RGB image, but I do not know how to display those components <strong>individually</strong>. I have however tried to convert the HSB values to RGB by multiplying with 255 and displaying them. the result is not what I wanted <a href=\"https://i.stack.imgur.com/pNGhW.png\" rel=\"nofollow noreferrer\">result</a>. I wish to obtain the images shown in the experiment. I have studied the <code>BufferedImage</code>, <code>WritableRaster</code>, and <code>Color</code> class in Java but I don't see how I can do that. What am I missing here?</p>\n<pre><code>public class HSBandHSL {\n\n    public static int WIDTH = 450;\n    public static int HEIGHT = 390;\n\n    //function to display an image to the screen\n    public static void showImage(Image img, String label) throws IOException {\n        ImageIcon icon=new ImageIcon(img);\n        JFrame frame=new JFrame(label);\n        frame.setLayout(new FlowLayout());\n        frame.setSize(WIDTH,HEIGHT);\n        JLabel lbl=new JLabel();\n        lbl.setIcon(icon);\n        frame.add(lbl);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n    //function to apply Color.RGBtoHSB to every pixel in the RGB image and construct s corresponding HSB image\n    public static void myRGB2HSB(BufferedImage img) {\n        for(int i=0; i&lt;WIDTH;i++) {\n            for(int j=0;j&lt;HEIGHT;j++) {\n                int pixel=img.getRGB(i,j);\n                Color color = new Color(pixel);\n                int red = color.getRed();\n                int green = color.getGreen();\n                int blue = color.getBlue();\n                float [] hsbvals = new float[3];\n                color.RGBtoHSB(red, green, blue, hsbvals);\n                hsbvals[0]=hsbvals[0]*255;\n                hsbvals[1]=hsbvals[1]*255;\n                hsbvals[2]=hsbvals[2]*255;          \n                WritableRaster imgRaster = img.getRaster();\n                imgRaster.setPixel(i, j, hsbvals);\n                }\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n\n        //read new image as RGB and display to screen\n        BufferedImage img = null;\n        img = ImageIO.read(new File(&quot;/home/user/Desktop/test.jpg&quot;));\n        showImage(img,&quot;RGB image&quot;);\n                \n        //read new image as RGB, convert it to HSB and display to screen\n        img = ImageIO.read(new File(&quot;/home/user/Desktop/test.jpg&quot;));\n        myRGB2HSB(img);\n        showImage(img,&quot;HSB image&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","generics"],"comments":[{"score":0,"post_type":"question","creation_date":1700990158,"post_id":77551072,"comment_id":136717615,"body_markdown":"Pretty sure Guava can do this out of the box.","link":"https://stackoverflow.com/questions/77551072/how-resolve-all-actual-types-of-an-implementation-class-relative-to-a-generic-cl#comment136717615_77551072","body":"Pretty sure Guava can do this out of the box."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700993141,"creation_date":1700993141,"answer_id":77551218,"question_id":77551072,"body_markdown":"[Guava][1]&#39;s `TypeToken` supports this. Use the `getSupertype` method on a `TypeToken` representing `Impl` to get the parameterised version of `AbstractClass3` with all the actual type parameters.\r\n\r\n```\r\nvar token = TypeToken.of(Impl.class);\r\nvar supertype = token.getSupertype(AbstractClass3.class).getType();\r\nvar typeArgs = ((ParameterizedType)supertype).getActualTypeArguments();\r\nSystem.out.println(Arrays.toString(typeArgs));\r\n// output: \r\n// [class java.lang.Boolean, interface java.util.Map, class java.lang.String]\r\n```\r\n\r\n  [1]: https://github.com/google/guava","link":"https://stackoverflow.com/questions/77551072/how-resolve-all-actual-types-of-an-implementation-class-relative-to-a-generic-cl/77551218#77551218","title":"How resolve all actual types of an implementation class relative to a generic class or interface in java?","body":"<p><a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a>'s <code>TypeToken</code> supports this. Use the <code>getSupertype</code> method on a <code>TypeToken</code> representing <code>Impl</code> to get the parameterised version of <code>AbstractClass3</code> with all the actual type parameters.</p>\n<pre><code>var token = TypeToken.of(Impl.class);\nvar supertype = token.getSupertype(AbstractClass3.class).getType();\nvar typeArgs = ((ParameterizedType)supertype).getActualTypeArguments();\nSystem.out.println(Arrays.toString(typeArgs));\n// output: \n// [class java.lang.Boolean, interface java.util.Map, class java.lang.String]\n</code></pre>\n"}],"comment_count":1,"is_answered":true,"view_count":44,"answer_count":1,"score":-1,"last_activity_date":1700993141,"creation_date":1700989904,"last_edit_date":1700990264,"question_id":77551072,"body_markdown":"I&#39;m trying to resolve all actual types of an implementation class relative to a generic class or interface.\r\n\r\nI have written an `ActualTypeArgumentsResolver` for this, but it only works when the TypeName remains consistent. I want to ignore the `TypeName` and get all the actual types. \r\nHow can I achieve this?\r\n\r\nAny help would be greatly appreciated. Thank you!\r\n\r\n```\t\r\n@Test\r\npublic void testIndirectlyExtendedGenericSuperclassWithDiffTypeName() {\r\n\r\n\tabstract class AbstractClass3&lt;AAA, BBB, CCC&gt; { }\r\n\r\n\tabstract class AbstractClass2&lt;AA, BB, CC&gt; extends AbstractClass3&lt;CC, Map, BB&gt; { }\r\n\r\n\tabstract class AbstractClass1&lt;A, B&gt; extends AbstractClass2&lt;Long, A, Boolean&gt; { }\r\n\r\n\tclass Impl extends AbstractClass1&lt;String, Integer&gt; {}\r\n\r\n\tType[] arr = ActualTypeArgumentsResolver.resolve(Impl.class, AbstractClass3.class);\r\n\r\n\tAssert.assertTrue(arr.length == 3);\r\n\tAssert.assertEquals(arr[0], Boolean.class);\r\n\tAssert.assertEquals(arr[1], Map.class);\r\n\tAssert.assertEquals(arr[2], String.class);\r\n}\r\n```\r\n\r\n","link":"https://stackoverflow.com/questions/77551072/how-resolve-all-actual-types-of-an-implementation-class-relative-to-a-generic-cl","title":"How resolve all actual types of an implementation class relative to a generic class or interface in java?","body":"<p>I'm trying to resolve all actual types of an implementation class relative to a generic class or interface.</p>\n<p>I have written an <code>ActualTypeArgumentsResolver</code> for this, but it only works when the TypeName remains consistent. I want to ignore the <code>TypeName</code> and get all the actual types.\nHow can I achieve this?</p>\n<p>Any help would be greatly appreciated. Thank you!</p>\n<pre><code>@Test\npublic void testIndirectlyExtendedGenericSuperclassWithDiffTypeName() {\n\n    abstract class AbstractClass3&lt;AAA, BBB, CCC&gt; { }\n\n    abstract class AbstractClass2&lt;AA, BB, CC&gt; extends AbstractClass3&lt;CC, Map, BB&gt; { }\n\n    abstract class AbstractClass1&lt;A, B&gt; extends AbstractClass2&lt;Long, A, Boolean&gt; { }\n\n    class Impl extends AbstractClass1&lt;String, Integer&gt; {}\n\n    Type[] arr = ActualTypeArgumentsResolver.resolve(Impl.class, AbstractClass3.class);\n\n    Assert.assertTrue(arr.length == 3);\n    Assert.assertEquals(arr[0], Boolean.class);\n    Assert.assertEquals(arr[1], Map.class);\n    Assert.assertEquals(arr[2], String.class);\n}\n</code></pre>\n"},{"tags":["java","gradle","build.gradle","minecraft","minecraft-fabric"],"comments":[{"score":0,"post_type":"question","creation_date":1701002643,"post_id":77551182,"comment_id":136718691,"body_markdown":"Might help if you ran with the stacktrace option (./gradlew --stacktrace or gradle --stacktrace) to show exactly where the error&#39;s coming from. You could also try downgrading the jei versions (1.20.1/10.2.1.1005) to see if that helps.","link":"https://stackoverflow.com/questions/77551182/a-problem-occured-evaluating-root-project#comment136718691_77551182","body":"Might help if you ran with the stacktrace option (./gradlew --stacktrace or gradle --stacktrace) to show exactly where the error&#39;s coming from. You could also try downgrading the jei versions (1.20.1/10.2.1.1005) to see if that helps."}],"comment_count":1,"is_answered":false,"view_count":34,"answer_count":0,"score":0,"last_activity_date":1700992246,"creation_date":1700992246,"question_id":77551182,"body_markdown":"So I am trying to add JEI as a mod dependency, I did it exactly how the docs said I should do it, and it gives me this weird error:\r\n\r\n    Build file &#39;C:\\Users\\vixitu\\Desktop\\vixitumodfolder\\build.gradle&#39; line: 60\r\n\r\nA problem occurred evaluating root project &#39;vixitumodfolder&#39;.\r\n&gt; No signature of method: java.math.BigDecimal.call() is applicable for argument types: (BigDecimal) values: [0.1]\r\n  Possible solutions: scale(), add(java.math.BigDecimal), max(java.math.BigDecimal), wait(), abs(), ulp()\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\nBUILD FAILED in 204ms\r\n\r\nThis is what my build.gradle looks like:\r\n```\r\nplugins {\r\n\tid &#39;fabric-loom&#39; version &#39;1.4-SNAPSHOT&#39;\r\n\tid &#39;maven-publish&#39;\r\n}\r\n\r\nversion = project.mod_version\r\ngroup = project.maven_group\r\n\r\nbase {\r\n\tarchivesName = project.archives_base_name\r\n}\r\n\r\nrepositories {\r\n\tmaven {\r\n\t\t// location of the maven that hosts JEI files since January 2023\r\n\t\tname = &quot;Jared&#39;s maven&quot;\r\n\t\turl = &quot;https://maven.blamejared.com/&quot;\r\n\t}\r\n\t// Add repositories to retrieve artifacts from in here.\r\n\t// You should only use this when depending on other mods because\r\n\t// Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\r\n\t// See https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\t// for more information about repositories.\r\n}\r\n\r\nloom {\r\n    runs {\r\n\t\t// This adds a new gradle task that runs the datagen API: &quot;gradlew runDatagen&quot;\r\n\t\tdatagen {\r\n\t\t\tinherit server\r\n\t\t\tname &quot;Data Generation&quot;\r\n\t\t\tvmArg &quot;-Dfabric-api.datagen&quot;\r\n\t\t\tvmArg &quot;-Dfabric-api.datagen.output-dir=${file(&quot;src/main/generated&quot;)}&quot;\r\n\t\t\tvmArg &quot;-Dfabric-api.datagen.modid=vixitumod&quot;\r\n \r\n\t\t\trunDir &quot;build/datagen&quot;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Add the generated resources to the main source set\r\nsourceSets {\r\n\tmain {\r\n\t\tresources {\r\n\t\t\tsrcDirs += [\r\n\t\t\t\t\t&#39;src/main/generated&#39;\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n}\r\ndependencies {\r\n\t// To change the versions see the gradle.properties file\r\n\tminecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\r\n\tmappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\r\n\tmodImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\r\n\r\n\t// Fabric API. This is technically optional, but you probably want it anyway.\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\r\n\r\n\tmodCompileOnlyApi(&quot;mezz.jei:jei-${1.20.1}-common-api:${10.2.1.1005}&quot;)\r\n\tmodCompileOnlyApi(&quot;mezz.jei:jei-${1.20.1}-fabric-api:${10.2.1.1005}&quot;)\r\n\r\n\tmodRuntimeOnly(&quot;mezz.jei:jei-${1.20.1}-fabric:${10.2.1.1005}&quot;)\r\n\t\r\n\t// Uncomment the following line to enable the deprecated Fabric API modules. \r\n\t// These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\r\n\r\n\t// modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\r\n}\r\n\r\nprocessResources {\r\n\tinputs.property &quot;version&quot;, project.version\r\n\r\n\tfilesMatching(&quot;fabric.mod.json&quot;) {\r\n\t\texpand &quot;version&quot;: project.version\r\n\t}\r\n}\r\n\r\ntasks.withType(JavaCompile).configureEach {\r\n\tit.options.release = 17\r\n}\r\n\r\njava {\r\n\t// Loom will automatically attach sourcesJar to a RemapSourcesJar task and to the &quot;build&quot; task\r\n\t// if it is present.\r\n\t// If you remove this line, sources will not be generated.\r\n\twithSourcesJar()\r\n\r\n\tsourceCompatibility = JavaVersion.VERSION_17\r\n\ttargetCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\njar {\r\n\tfrom(&quot;LICENSE&quot;) {\r\n\t\trename { &quot;${it}_${project.base.archivesName.get()}&quot;}\r\n\t}\r\n}\r\n\r\n// configure the maven publication\r\npublishing {\r\n\tpublications {\r\n\t\tmavenJava(MavenPublication) {\r\n\t\t\tfrom components.java\r\n\t\t}\r\n\t}\r\n\r\n\t// See https://docs.gradle.org/current/userguide/publishing_maven.html for information on how to set up publishing.\r\n\trepositories {\r\n\t\t// Add repositories to publish to here.\r\n\t\t// Notice: This block does NOT have the same function as the block in the top level.\r\n\t\t// The repositories here will be used for publishing your artifact, not for\r\n\t\t// retrieving dependencies.\r\n\t}\r\n}\r\n```","link":"https://stackoverflow.com/questions/77551182/a-problem-occured-evaluating-root-project","title":"A problem occured evaluating root project","body":"<p>So I am trying to add JEI as a mod dependency, I did it exactly how the docs said I should do it, and it gives me this weird error:</p>\n<pre><code>Build file 'C:\\Users\\vixitu\\Desktop\\vixitumodfolder\\build.gradle' line: 60\n</code></pre>\n<p>A problem occurred evaluating root project 'vixitumodfolder'.</p>\n<blockquote>\n<p>No signature of method: java.math.BigDecimal.call() is applicable for argument types: (BigDecimal) values: [0.1]\nPossible solutions: scale(), add(java.math.BigDecimal), max(java.math.BigDecimal), wait(), abs(), ulp()</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\nGet more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a>.\nBUILD FAILED in 204ms</p>\n</blockquote>\n<p>This is what my build.gradle looks like:</p>\n<pre><code>plugins {\n    id 'fabric-loom' version '1.4-SNAPSHOT'\n    id 'maven-publish'\n}\n\nversion = project.mod_version\ngroup = project.maven_group\n\nbase {\n    archivesName = project.archives_base_name\n}\n\nrepositories {\n    maven {\n        // location of the maven that hosts JEI files since January 2023\n        name = &quot;Jared's maven&quot;\n        url = &quot;https://maven.blamejared.com/&quot;\n    }\n    // Add repositories to retrieve artifacts from in here.\n    // You should only use this when depending on other mods because\n    // Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\n    // See https://docs.gradle.org/current/userguide/declaring_repositories.html\n    // for more information about repositories.\n}\n\nloom {\n    runs {\n        // This adds a new gradle task that runs the datagen API: &quot;gradlew runDatagen&quot;\n        datagen {\n            inherit server\n            name &quot;Data Generation&quot;\n            vmArg &quot;-Dfabric-api.datagen&quot;\n            vmArg &quot;-Dfabric-api.datagen.output-dir=${file(&quot;src/main/generated&quot;)}&quot;\n            vmArg &quot;-Dfabric-api.datagen.modid=vixitumod&quot;\n \n            runDir &quot;build/datagen&quot;\n        }\n    }\n}\n\n// Add the generated resources to the main source set\nsourceSets {\n    main {\n        resources {\n            srcDirs += [\n                    'src/main/generated'\n            ]\n        }\n    }\n}\ndependencies {\n    // To change the versions see the gradle.properties file\n    minecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\n    mappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\n    modImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\n\n    // Fabric API. This is technically optional, but you probably want it anyway.\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\n\n    modCompileOnlyApi(&quot;mezz.jei:jei-${1.20.1}-common-api:${10.2.1.1005}&quot;)\n    modCompileOnlyApi(&quot;mezz.jei:jei-${1.20.1}-fabric-api:${10.2.1.1005}&quot;)\n\n    modRuntimeOnly(&quot;mezz.jei:jei-${1.20.1}-fabric:${10.2.1.1005}&quot;)\n    \n    // Uncomment the following line to enable the deprecated Fabric API modules. \n    // These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\n\n    // modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\n}\n\nprocessResources {\n    inputs.property &quot;version&quot;, project.version\n\n    filesMatching(&quot;fabric.mod.json&quot;) {\n        expand &quot;version&quot;: project.version\n    }\n}\n\ntasks.withType(JavaCompile).configureEach {\n    it.options.release = 17\n}\n\njava {\n    // Loom will automatically attach sourcesJar to a RemapSourcesJar task and to the &quot;build&quot; task\n    // if it is present.\n    // If you remove this line, sources will not be generated.\n    withSourcesJar()\n\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\njar {\n    from(&quot;LICENSE&quot;) {\n        rename { &quot;${it}_${project.base.archivesName.get()}&quot;}\n    }\n}\n\n// configure the maven publication\npublishing {\n    publications {\n        mavenJava(MavenPublication) {\n            from components.java\n        }\n    }\n\n    // See https://docs.gradle.org/current/userguide/publishing_maven.html for information on how to set up publishing.\n    repositories {\n        // Add repositories to publish to here.\n        // Notice: This block does NOT have the same function as the block in the top level.\n        // The repositories here will be used for publishing your artifact, not for\n        // retrieving dependencies.\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","webview","tor"],"comment_count":0,"is_answered":false,"view_count":35,"answer_count":0,"score":0,"last_activity_date":1700991326,"creation_date":1700991326,"question_id":77551129,"body_markdown":"I have a project that needs to access websites on Tor and view them on webview. (not android) Even though I tried every solution on the internet, I could not reach a solution. I also tried the libraries, but they do not give me the results I want. Can you help me on this issue?\r\n\r\n\r\n```\r\npackage com.example.demo1;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.web.WebEngine;\r\nimport javafx.scene.web.WebView;\r\n\r\n\r\npublic class HelloController {\r\n\r\n    public Button backBtn;\r\n    public Button ForwardBtn;\r\n    @FXML\r\n    private TextField urlTxt;\r\n    @FXML\r\n    private WebView webView;\r\n\r\n    private WebEngine webEngine;\r\n\r\n    public void initialize() {\r\n        webEngine = webView.getEngine();\r\n        webEngine.locationProperty().addListener((observable, oldValue, newValue) -&gt; urlTxt.setText(newValue));\r\n    }\r\n\r\n\r\n    public void onGoBtnAction() {\r\n        webEngine.load(urlTxt.getText());\r\n    }\r\n\r\n    public void onUrlTxtKeyPressed(KeyEvent keyEvent) {\r\n        if (keyEvent.getCode() == KeyCode.ENTER) onGoBtnAction();\r\n    }\r\n\r\n    public void onBackBtnAction() {\r\n        webEngine.executeScript(&quot;history.back()&quot;);\r\n    }\r\n\r\n    public void onForwardBtnAction() {\r\n        webEngine.executeScript(&quot;history.forward()&quot;);\r\n    }\r\n}\r\n```\r\n\r\nOnly thing I know is I don&#39;t want to save page with HttpConnection to loadContect, beacuse if I do that resources doesn&#39;t load correctly, so CSS&#39; are disappearing and makes websites unreadable.\r\n\r\n\r\nI tried setting SOCKS and HTTP proxy via setProperty.\r\nand various libraries.","link":"https://stackoverflow.com/questions/77551129/javafx-webview-over-tor","title":"JavaFX WebView over Tor","body":"<p>I have a project that needs to access websites on Tor and view them on webview. (not android) Even though I tried every solution on the internet, I could not reach a solution. I also tried the libraries, but they do not give me the results I want. Can you help me on this issue?</p>\n<pre><code>package com.example.demo1;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\n\n\npublic class HelloController {\n\n    public Button backBtn;\n    public Button ForwardBtn;\n    @FXML\n    private TextField urlTxt;\n    @FXML\n    private WebView webView;\n\n    private WebEngine webEngine;\n\n    public void initialize() {\n        webEngine = webView.getEngine();\n        webEngine.locationProperty().addListener((observable, oldValue, newValue) -&gt; urlTxt.setText(newValue));\n    }\n\n\n    public void onGoBtnAction() {\n        webEngine.load(urlTxt.getText());\n    }\n\n    public void onUrlTxtKeyPressed(KeyEvent keyEvent) {\n        if (keyEvent.getCode() == KeyCode.ENTER) onGoBtnAction();\n    }\n\n    public void onBackBtnAction() {\n        webEngine.executeScript(&quot;history.back()&quot;);\n    }\n\n    public void onForwardBtnAction() {\n        webEngine.executeScript(&quot;history.forward()&quot;);\n    }\n}\n</code></pre>\n<p>Only thing I know is I don't want to save page with HttpConnection to loadContect, beacuse if I do that resources doesn't load correctly, so CSS' are disappearing and makes websites unreadable.</p>\n<p>I tried setting SOCKS and HTTP proxy via setProperty.\nand various libraries.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"score":0,"post_type":"question","creation_date":1700990863,"post_id":77547552,"comment_id":136717673,"body_markdown":"Please clarify what you mean by &quot;this happens 1 time&quot;. What&#39;s &quot;this&quot;? Note that you&#39;re not actually checking the result from `deleteTopicsResult.all().get()`","link":"https://stackoverflow.com/questions/77547552/kafka-topic-delete-and-recreation-problem#comment136717673_77547552","body":"Please clarify what you mean by &quot;this happens 1 time&quot;. What&#39;s &quot;this&quot;? Note that you&#39;re not actually checking the result from <code>deleteTopicsResult.all().get()</code>"},{"score":0,"post_type":"question","creation_date":1701058361,"post_id":77547552,"comment_id":136723637,"body_markdown":"What I&#39;m trying to say is that there is about a 0.1% chance of this problem occurring. \nI realize I couldn&#39;t explain the problem well. However, I could not understand how this problem could occur. I am sorry","link":"https://stackoverflow.com/questions/77547552/kafka-topic-delete-and-recreation-problem#comment136723637_77547552","body":"What I&#39;m trying to say is that there is about a 0.1% chance of this problem occurring.  I realize I couldn&#39;t explain the problem well. However, I could not understand how this problem could occur. I am sorry"},{"score":1,"post_type":"question","creation_date":1701091046,"post_id":77547552,"comment_id":136728095,"body_markdown":"1) broker file deletion, or metadata removal from Zookeeper isn&#39;t immediate. 2) There&#39;s an open Kafka jira regrading this exact issue. Why use old Confluent version?","link":"https://stackoverflow.com/questions/77547552/kafka-topic-delete-and-recreation-problem#comment136728095_77547552","body":"1) broker file deletion, or metadata removal from Zookeeper isn&#39;t immediate. 2) There&#39;s an open Kafka jira regrading this exact issue. Why use old Confluent version?"},{"score":0,"post_type":"question","creation_date":1701093911,"post_id":77547552,"comment_id":136728625,"body_markdown":"Can you send the link of the issue? From which version was this problem solved? If there is a known problem, I can upgrade to the version of Kafka you mentioned.","link":"https://stackoverflow.com/questions/77547552/kafka-topic-delete-and-recreation-problem#comment136728625_77547552","body":"Can you send the link of the issue? From which version was this problem solved? If there is a known problem, I can upgrade to the version of Kafka you mentioned."},{"score":1,"post_type":"question","creation_date":1701113503,"post_id":77547552,"comment_id":136732548,"body_markdown":"Not sure if it has been fixed, but [here](https://issues.apache.org/jira/browse/KAFKA-8064) is one about a flaky test around recreation, but in general, Kafka 3.x / Confluent 7.x releases are suggested and within current Confluent Support timeframes","link":"https://stackoverflow.com/questions/77547552/kafka-topic-delete-and-recreation-problem#comment136732548_77547552","body":"Not sure if it has been fixed, but <a href=\"https://issues.apache.org/jira/browse/KAFKA-8064\" rel=\"nofollow noreferrer\">here</a> is one about a flaky test around recreation, but in general, Kafka 3.x / Confluent 7.x releases are suggested and within current Confluent Support timeframes"},{"score":1,"post_type":"question","creation_date":1701114318,"post_id":77547552,"comment_id":136732673,"body_markdown":"Also this https://issues.apache.org/jira/browse/KAFKA-15619","link":"https://stackoverflow.com/questions/77547552/kafka-topic-delete-and-recreation-problem#comment136732673_77547552","body":"Also this <a href=\"https://issues.apache.org/jira/browse/KAFKA-15619\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/KAFKA-15619</a>"}],"comment_count":6,"is_answered":false,"view_count":69,"answer_count":0,"score":0,"last_activity_date":1700990955,"creation_date":1700909422,"last_edit_date":1700990955,"question_id":77547552,"body_markdown":"I need to delete some topics in my project at any time. \r\n\r\nI was able to achieve this using AdminClient. However, sometimes I have a problem. Let&#39;s say I want to delete topic &quot;xtopic&quot;. Kafka is really deleting this topic. Then I create it again programmatically. I also see that topic has been created. \r\n\r\nEven though I send no deletion request again, the relevant topic is deleted within a few seconds. Even if I create the topic over and over again, I experience the same situation. I manage to create the topic, but kafka deletes the topic within a few seconds.. If I want to delete 1000 topics, this happens 1 time. I couldn&#39;t understand the situation. Why might such a problem occur?\r\n\r\n - Kafka Server: cp-kafka:5.3.0-jmx-prometheus \r\n - Cluster: 6 Kafka Servers\r\n - Microservices: 70 Microservices\r\n - Kafka Client Version: 2.6.3\r\n - auto.create.topic : false\r\n\r\nTopic Configuration : \r\n\r\n    default-configuration:\r\n      kafka:\r\n        replication-factor: 6\r\n        partition-count: 8\r\n        min-insync-replicas: 3\r\n        retention-ms: 300000000\r\n        segment-bytes: 300000000\r\n\r\n\r\nDelete Topic Code : \r\n\r\n    private void deleteTopics(AdminClient adminClient, Collection&lt;String&gt; topicNameCollection) {\r\n        this.getRetryTemplate().execute((retryContext) -&gt; {\r\n            Set&lt;String&gt; allTopicSet = adminClient.listTopics().names().get(this.defaultProperties.getKafkaFutureTimeoutMs(), TimeUnit.MILLISECONDS);\r\n            List&lt;String&gt; existingTopics = topicNameCollection.stream().filter(allTopicSet::contains).collect(Collectors.toList());\r\n            if (!existingTopics.isEmpty()) {\r\n                DeleteTopicsResult deleteTopicsResult = adminClient.deleteTopics(topicNameCollection);\r\n                try {\r\n                    deleteTopicsResult.all().get(this.defaultProperties.getKafkaFutureTimeoutMs(), TimeUnit.MILLISECONDS);\r\n                } catch (Exception var6) {\r\n                    throw new CannotDeleteTopicException(&quot;An error occurred while deleting topic.&quot;, var6);\r\n                }\r\n            }\r\n            return null;\r\n        });\r\n    }\r\n\r\nKafka Server Log : \r\n\r\n\r\n    [2023-11-25 14:09:21,396] INFO [Controller id=3] New partition creation callback for example-topic-live-321-0 (kafka.controller.KafkaController)\r\n    \r\n    [2023-11-25 14:09:21,397] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 state from NonExistentPartition to NewPartition with assigned replicas 3 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,397] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from NonExistentReplica to NewReplica (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 from NewPartition to OnlinePartition with state LeaderAndIsr(leader=3, leaderEpoch=0, isr=List(3), zkVersion=0) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Sending become-leader LeaderAndIsr request PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=3, zkVersion=0, replicas=3, isNew=true) to broker 3 for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Sending UpdateMetadata request PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=[3], zkVersion=0, replicas=[3], offlineReplicas=[]) to brokers Set(1, 5, 2, 6, 3, 4) for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from NewReplica to OnlineReplica (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,428] TRACE [Broker id=3] Received LeaderAndIsr request PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=3, zkVersion=0, replicas=3, isNew=true) correlation id 3415 from controller 3 epoch 1 for partition example-topic-live-321-0 (state.change.logger)\r\n   \r\n    [2023-11-25 14:09:21,428] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3410 sent to broker b2d4aa4caa56:9092 (id: 1 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,429] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3413 sent to broker 229e7f8f9aa3:9092 (id: 2 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,429] TRACE [Broker id=3] Handling LeaderAndIsr request correlationId 3415 from controller 3 epoch 1 starting the become-leader transition for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,429] INFO [ReplicaFetcherManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaFetcherManager)\r\n    \r\n    \r\n    [2023-11-25 14:09:21,431] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3407 sent to broker 9ad81f65aff3:9092 (id: 5 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,433] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3415 sent to broker 55b8913446d5:9092 (id: 6 rack: null) (state.change.logger)\r\n    \r\n    \r\n    [2023-11-25 14:09:21,436] INFO [Log partition=example-topic-live-321-0, dir=/var/lib/kafka/data] Loading producer state till offset 0 with message format version 2 (kafka.log.Log)\r\n    \r\n    [2023-11-25 14:09:21,437] INFO [Log partition=example-topic-live-321-0, dir=/var/lib/kafka/data] Completed load of log with 1 segments, log start offset 0 and log end offset 0 in 2 ms (kafka.log.Log)\r\n    \r\n    [2023-11-25 14:09:21,437] INFO Created log for partition example-topic-live-321-0 in /var/lib/kafka/data with properties {compression.type -&gt; producer, message.downconversion.enable -&gt; true, min.insync.replicas -&gt; 1, segment.jitter.ms -&gt; 0, cleanup.policy -&gt; [delete], flush.ms -&gt; 9223372036854775807, segment.bytes -&gt; 1073741824, retention.ms -&gt; 604800000, flush.messages -&gt; 9223372036854775807, message.format.version -&gt; 2.3-IV1, file.delete.delay.ms -&gt; 60000, max.compaction.lag.ms -&gt; 9223372036854775807, max.message.bytes -&gt; 20971520, min.compaction.lag.ms -&gt; 0, message.timestamp.type -&gt; CreateTime, preallocate -&gt; false, min.cleanable.dirty.ratio -&gt; 0.5, index.interval.bytes -&gt; 4096, unclean.leader.election.enable -&gt; false, retention.bytes -&gt; -1, delete.retention.ms -&gt; 86400000, segment.ms -&gt; 604800000, message.timestamp.difference.max.ms -&gt; 9223372036854775807, segment.index.bytes -&gt; 10485760}. (kafka.log.LogManager)\r\n    \r\n    [2023-11-25 14:09:21,439] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3413 sent to broker a812096936e6:9092 (id: 4 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,469] INFO [Partition example-topic-live-321-0 broker=3] No checkpointed highwatermark is found for partition example-topic-live-321-0 (kafka.cluster.Partition)\r\n    \r\n    [2023-11-25 14:09:21,469] INFO Replica loaded for partition example-topic-live-321-0 with initial high watermark 0 (kafka.cluster.Replica)\r\n    \r\n    [2023-11-25 14:09:21,469] INFO [Partition example-topic-live-321-0 broker=3] example-topic-live-321-0 starts at Leader Epoch 0 from offset 0. Previous Leader Epoch was: -1 (kafka.cluster.Partition)\r\n    \r\n    [2023-11-25 14:09:21,473] TRACE [Broker id=3] Stopped fetchers as part of become-leader request from controller 3 epoch 1 with correlation id 3415 for partition example-topic-live-321-0 (last update controller epoch 1) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,473] TRACE [Broker id=3] Completed LeaderAndIsr request correlationId 3415 from controller 3 epoch 1 for the become-leader transition for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,474] TRACE [Controller id=3 epoch=1] Received response {error_code=0,partitions=[{topic=example-topic-live-321,partition=0,error_code=0}]} for request LEADER_AND_ISR with correlation id 3415 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,475] TRACE [Broker id=3] Cached leader info PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=[3], zkVersion=0, replicas=[3], offlineReplicas=[]) for partition example-topic-live-321-0 in response to UpdateMetadata request sent by controller 3 epoch 1 with correlation id 3416 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:21,476] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3416 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,613] DEBUG [Controller id=3] Delete topics listener fired for topics example-topic-live-321 to be deleted (kafka.controller.KafkaController)\r\n    \r\n    [2023-11-25 14:09:25,613] INFO [Controller id=3] Starting topic deletion for topics example-topic-live-321 (kafka.controller.KafkaController)\r\n    \r\n    [2023-11-25 14:09:25,613] INFO [Topic Deletion Manager 3] Handling deletion for topics example-topic-live-321 (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,613] INFO [Topic Deletion Manager 3] Deletion of topic example-topic-live-321 (re)started (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,613] INFO [Topic Deletion Manager 3] Topic deletion callback for example-topic-live-321 (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,613] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 state from OnlinePartition to OfflinePartition (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,613] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 state from OfflinePartition to NonExistentPartition (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,614] TRACE [Controller id=3 epoch=1] Sending UpdateMetadata request PartitionState(controllerEpoch=1, leader=-2, leaderEpoch=0, isr=[3], zkVersion=0, replicas=[3], offlineReplicas=[]) to brokers Set(1, 5, 2, 6, 3, 4) for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,614] INFO [Topic Deletion Manager 3] Partition deletion callback for example-topic-live-321-0 (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,617] TRACE [Broker id=3] Deleted partition example-topic-live-321-0 from metadata cache in response to UpdateMetadata request sent by controller 3 epoch 1 with correlation id 3417 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,618] INFO [GroupCoordinator 3]: Removed 0 offsets associated with deleted partitions: example-topic-live-321-0. (kafka.coordinator.group.GroupCoordinator)\r\n    \r\n    [2023-11-25 14:09:25,619] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3411 sent to broker b2d4aa4caa56:9092 (id: 1 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,621] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3417 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,623] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3408 sent to broker 9ad81f65aff3:9092 (id: 5 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,624] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3414 sent to broker a812096936e6:9092 (id: 4 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,624] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3414 sent to broker 229e7f8f9aa3:9092 (id: 2 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,631] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3416 sent to broker 55b8913446d5:9092 (id: 6 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,743] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from OnlineReplica to OfflineReplica (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,743] DEBUG The stop replica request (delete = false) sent to broker 3 is StopReplicaRequestInfo([Topic=example-topic-live-321,Partition=0,Replica=3],false) (kafka.controller.ControllerBrokerRequestBatch)\r\n    \r\n    [2023-11-25 14:09:25,743] DEBUG [Topic Deletion Manager 3] Deletion started for replicas [Topic=example-topic-live-321,Partition=0,Replica=3] (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,743] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from OfflineReplica to ReplicaDeletionStarted (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,744] DEBUG The stop replica request (delete = true) sent to broker 3 is StopReplicaRequestInfo([Topic=example-topic-live-321,Partition=0,Replica=3],true) (kafka.controller.ControllerBrokerRequestBatch)\r\n    \r\n    [2023-11-25 14:09:25,748] INFO [ReplicaFetcherManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaFetcherManager)\r\n    \r\n    [2023-11-25 14:09:25,748] INFO [ReplicaAlterLogDirsManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaAlterLogDirsManager)\r\n    \r\n    [2023-11-25 14:09:25,749] TRACE [Broker id=3] Handling stop replica (delete=false) for partition example-topic-live-321-0 (state.change.logger)\r\n   \r\n    [2023-11-25 14:09:25,749] TRACE [Broker id=3] Finished handling stop replica (delete=false) for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,751] TRACE [Controller id=3 epoch=1] Received response {error_code=0,partitions=[{topic=example-topic-live-321,partition=0,error_code=0}]} for request STOP_REPLICA with correlation id 3418 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,752] INFO [ReplicaFetcherManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaFetcherManager)\r\n    \r\n    [2023-11-25 14:09:25,752] INFO [ReplicaAlterLogDirsManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaAlterLogDirsManager)\r\n   \r\n    [2023-11-25 14:09:25,752] TRACE [Broker id=3] Handling stop replica (delete=true) for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,757] INFO The cleaning for partition example-topic-live-321-0 is aborted and paused (kafka.log.LogCleaner)\r\n    \r\n    [2023-11-25 14:09:25,757] INFO The cleaning for partition example-topic-live-321-0 is aborted (kafka.log.LogCleaner)\r\n    \r\n    [2023-11-25 14:09:25,863] INFO Log for partition example-topic-live-321-0 is renamed to /var/lib/kafka/data/example-topic-live-321-0.68e5c26ab83a4b8ba3424ef5178ff1ca-delete and is scheduled for deletion (kafka.log.LogManager)\r\n    \r\n    [2023-11-25 14:09:25,863] TRACE [Broker id=3] Finished handling stop replica (delete=true) for partition example-topic-live-321-0 (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,864] TRACE [Controller id=3 epoch=1] Received response {error_code=0,partitions=[{topic=example-topic-live-321,partition=0,error_code=0}]} for request STOP_REPLICA with correlation id 3419 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,864] DEBUG [Controller id=3] Delete topic callback invoked on StopReplica response received from broker 3: request error = NONE, partition errors = Map(example-topic-live-321-0 -&gt; NONE) (kafka.controller.KafkaController)\r\n   \r\n    [2023-11-25 14:09:25,864] DEBUG [Topic Deletion Manager 3] Deletion successfully completed for replicas [Topic=example-topic-live-321,Partition=0,Replica=3] (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,864] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from ReplicaDeletionStarted to ReplicaDeletionSuccessful (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,864] INFO [Topic Deletion Manager 3] Handling deletion for topics example-topic-live-321 (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,864] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from ReplicaDeletionSuccessful to NonExistentReplica (state.change.logger)\r\n    \r\n    [2023-11-25 14:09:25,897] INFO [Topic Deletion Manager 3] Deletion of topic example-topic-live-321 successfully completed (kafka.controller.TopicDeletionManager)\r\n    \r\n    [2023-11-25 14:09:25,938] INFO [Controller id=3] New topics: [Set()], deleted topics: [Set()], new partition replica assignment [Map()] (kafka.controller.KafkaController)\r\n    \r\n    [2023-11-25 14:09:25,964] DEBUG [Controller id=3] Delete topics listener fired for topics  to be deleted (kafka.controller.KafkaController)","link":"https://stackoverflow.com/questions/77547552/kafka-topic-delete-and-recreation-problem","title":"Kafka Topic Delete And Recreation Problem","body":"<p>I need to delete some topics in my project at any time.</p>\n<p>I was able to achieve this using AdminClient. However, sometimes I have a problem. Let's say I want to delete topic &quot;xtopic&quot;. Kafka is really deleting this topic. Then I create it again programmatically. I also see that topic has been created.</p>\n<p>Even though I send no deletion request again, the relevant topic is deleted within a few seconds. Even if I create the topic over and over again, I experience the same situation. I manage to create the topic, but kafka deletes the topic within a few seconds.. If I want to delete 1000 topics, this happens 1 time. I couldn't understand the situation. Why might such a problem occur?</p>\n<ul>\n<li>Kafka Server: cp-kafka:5.3.0-jmx-prometheus</li>\n<li>Cluster: 6 Kafka Servers</li>\n<li>Microservices: 70 Microservices</li>\n<li>Kafka Client Version: 2.6.3</li>\n<li>auto.create.topic : false</li>\n</ul>\n<p>Topic Configuration :</p>\n<pre><code>default-configuration:\n  kafka:\n    replication-factor: 6\n    partition-count: 8\n    min-insync-replicas: 3\n    retention-ms: 300000000\n    segment-bytes: 300000000\n</code></pre>\n<p>Delete Topic Code :</p>\n<pre><code>private void deleteTopics(AdminClient adminClient, Collection&lt;String&gt; topicNameCollection) {\n    this.getRetryTemplate().execute((retryContext) -&gt; {\n        Set&lt;String&gt; allTopicSet = adminClient.listTopics().names().get(this.defaultProperties.getKafkaFutureTimeoutMs(), TimeUnit.MILLISECONDS);\n        List&lt;String&gt; existingTopics = topicNameCollection.stream().filter(allTopicSet::contains).collect(Collectors.toList());\n        if (!existingTopics.isEmpty()) {\n            DeleteTopicsResult deleteTopicsResult = adminClient.deleteTopics(topicNameCollection);\n            try {\n                deleteTopicsResult.all().get(this.defaultProperties.getKafkaFutureTimeoutMs(), TimeUnit.MILLISECONDS);\n            } catch (Exception var6) {\n                throw new CannotDeleteTopicException(&quot;An error occurred while deleting topic.&quot;, var6);\n            }\n        }\n        return null;\n    });\n}\n</code></pre>\n<p>Kafka Server Log :</p>\n<pre><code>[2023-11-25 14:09:21,396] INFO [Controller id=3] New partition creation callback for example-topic-live-321-0 (kafka.controller.KafkaController)\n\n[2023-11-25 14:09:21,397] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 state from NonExistentPartition to NewPartition with assigned replicas 3 (state.change.logger)\n\n[2023-11-25 14:09:21,397] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from NonExistentReplica to NewReplica (state.change.logger)\n\n[2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 from NewPartition to OnlinePartition with state LeaderAndIsr(leader=3, leaderEpoch=0, isr=List(3), zkVersion=0) (state.change.logger)\n\n[2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Sending become-leader LeaderAndIsr request PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=3, zkVersion=0, replicas=3, isNew=true) to broker 3 for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Sending UpdateMetadata request PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=[3], zkVersion=0, replicas=[3], offlineReplicas=[]) to brokers Set(1, 5, 2, 6, 3, 4) for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:21,422] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from NewReplica to OnlineReplica (state.change.logger)\n\n[2023-11-25 14:09:21,428] TRACE [Broker id=3] Received LeaderAndIsr request PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=3, zkVersion=0, replicas=3, isNew=true) correlation id 3415 from controller 3 epoch 1 for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:21,428] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3410 sent to broker b2d4aa4caa56:9092 (id: 1 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:21,429] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3413 sent to broker 229e7f8f9aa3:9092 (id: 2 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:21,429] TRACE [Broker id=3] Handling LeaderAndIsr request correlationId 3415 from controller 3 epoch 1 starting the become-leader transition for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:21,429] INFO [ReplicaFetcherManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaFetcherManager)\n\n\n[2023-11-25 14:09:21,431] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3407 sent to broker 9ad81f65aff3:9092 (id: 5 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:21,433] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3415 sent to broker 55b8913446d5:9092 (id: 6 rack: null) (state.change.logger)\n\n\n[2023-11-25 14:09:21,436] INFO [Log partition=example-topic-live-321-0, dir=/var/lib/kafka/data] Loading producer state till offset 0 with message format version 2 (kafka.log.Log)\n\n[2023-11-25 14:09:21,437] INFO [Log partition=example-topic-live-321-0, dir=/var/lib/kafka/data] Completed load of log with 1 segments, log start offset 0 and log end offset 0 in 2 ms (kafka.log.Log)\n\n[2023-11-25 14:09:21,437] INFO Created log for partition example-topic-live-321-0 in /var/lib/kafka/data with properties {compression.type -&gt; producer, message.downconversion.enable -&gt; true, min.insync.replicas -&gt; 1, segment.jitter.ms -&gt; 0, cleanup.policy -&gt; [delete], flush.ms -&gt; 9223372036854775807, segment.bytes -&gt; 1073741824, retention.ms -&gt; 604800000, flush.messages -&gt; 9223372036854775807, message.format.version -&gt; 2.3-IV1, file.delete.delay.ms -&gt; 60000, max.compaction.lag.ms -&gt; 9223372036854775807, max.message.bytes -&gt; 20971520, min.compaction.lag.ms -&gt; 0, message.timestamp.type -&gt; CreateTime, preallocate -&gt; false, min.cleanable.dirty.ratio -&gt; 0.5, index.interval.bytes -&gt; 4096, unclean.leader.election.enable -&gt; false, retention.bytes -&gt; -1, delete.retention.ms -&gt; 86400000, segment.ms -&gt; 604800000, message.timestamp.difference.max.ms -&gt; 9223372036854775807, segment.index.bytes -&gt; 10485760}. (kafka.log.LogManager)\n\n[2023-11-25 14:09:21,439] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3413 sent to broker a812096936e6:9092 (id: 4 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:21,469] INFO [Partition example-topic-live-321-0 broker=3] No checkpointed highwatermark is found for partition example-topic-live-321-0 (kafka.cluster.Partition)\n\n[2023-11-25 14:09:21,469] INFO Replica loaded for partition example-topic-live-321-0 with initial high watermark 0 (kafka.cluster.Replica)\n\n[2023-11-25 14:09:21,469] INFO [Partition example-topic-live-321-0 broker=3] example-topic-live-321-0 starts at Leader Epoch 0 from offset 0. Previous Leader Epoch was: -1 (kafka.cluster.Partition)\n\n[2023-11-25 14:09:21,473] TRACE [Broker id=3] Stopped fetchers as part of become-leader request from controller 3 epoch 1 with correlation id 3415 for partition example-topic-live-321-0 (last update controller epoch 1) (state.change.logger)\n\n[2023-11-25 14:09:21,473] TRACE [Broker id=3] Completed LeaderAndIsr request correlationId 3415 from controller 3 epoch 1 for the become-leader transition for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:21,474] TRACE [Controller id=3 epoch=1] Received response {error_code=0,partitions=[{topic=example-topic-live-321,partition=0,error_code=0}]} for request LEADER_AND_ISR with correlation id 3415 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:21,475] TRACE [Broker id=3] Cached leader info PartitionState(controllerEpoch=1, leader=3, leaderEpoch=0, isr=[3], zkVersion=0, replicas=[3], offlineReplicas=[]) for partition example-topic-live-321-0 in response to UpdateMetadata request sent by controller 3 epoch 1 with correlation id 3416 (state.change.logger)\n\n[2023-11-25 14:09:21,476] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3416 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,613] DEBUG [Controller id=3] Delete topics listener fired for topics example-topic-live-321 to be deleted (kafka.controller.KafkaController)\n\n[2023-11-25 14:09:25,613] INFO [Controller id=3] Starting topic deletion for topics example-topic-live-321 (kafka.controller.KafkaController)\n\n[2023-11-25 14:09:25,613] INFO [Topic Deletion Manager 3] Handling deletion for topics example-topic-live-321 (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,613] INFO [Topic Deletion Manager 3] Deletion of topic example-topic-live-321 (re)started (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,613] INFO [Topic Deletion Manager 3] Topic deletion callback for example-topic-live-321 (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,613] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 state from OnlinePartition to OfflinePartition (state.change.logger)\n\n[2023-11-25 14:09:25,613] TRACE [Controller id=3 epoch=1] Changed partition example-topic-live-321-0 state from OfflinePartition to NonExistentPartition (state.change.logger)\n\n[2023-11-25 14:09:25,614] TRACE [Controller id=3 epoch=1] Sending UpdateMetadata request PartitionState(controllerEpoch=1, leader=-2, leaderEpoch=0, isr=[3], zkVersion=0, replicas=[3], offlineReplicas=[]) to brokers Set(1, 5, 2, 6, 3, 4) for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:25,614] INFO [Topic Deletion Manager 3] Partition deletion callback for example-topic-live-321-0 (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,617] TRACE [Broker id=3] Deleted partition example-topic-live-321-0 from metadata cache in response to UpdateMetadata request sent by controller 3 epoch 1 with correlation id 3417 (state.change.logger)\n\n[2023-11-25 14:09:25,618] INFO [GroupCoordinator 3]: Removed 0 offsets associated with deleted partitions: example-topic-live-321-0. (kafka.coordinator.group.GroupCoordinator)\n\n[2023-11-25 14:09:25,619] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3411 sent to broker b2d4aa4caa56:9092 (id: 1 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,621] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3417 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,623] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3408 sent to broker 9ad81f65aff3:9092 (id: 5 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,624] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3414 sent to broker a812096936e6:9092 (id: 4 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,624] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3414 sent to broker 229e7f8f9aa3:9092 (id: 2 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,631] TRACE [Controller id=3 epoch=1] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3416 sent to broker 55b8913446d5:9092 (id: 6 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,743] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from OnlineReplica to OfflineReplica (state.change.logger)\n\n[2023-11-25 14:09:25,743] DEBUG The stop replica request (delete = false) sent to broker 3 is StopReplicaRequestInfo([Topic=example-topic-live-321,Partition=0,Replica=3],false) (kafka.controller.ControllerBrokerRequestBatch)\n\n[2023-11-25 14:09:25,743] DEBUG [Topic Deletion Manager 3] Deletion started for replicas [Topic=example-topic-live-321,Partition=0,Replica=3] (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,743] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from OfflineReplica to ReplicaDeletionStarted (state.change.logger)\n\n[2023-11-25 14:09:25,744] DEBUG The stop replica request (delete = true) sent to broker 3 is StopReplicaRequestInfo([Topic=example-topic-live-321,Partition=0,Replica=3],true) (kafka.controller.ControllerBrokerRequestBatch)\n\n[2023-11-25 14:09:25,748] INFO [ReplicaFetcherManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaFetcherManager)\n\n[2023-11-25 14:09:25,748] INFO [ReplicaAlterLogDirsManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaAlterLogDirsManager)\n\n[2023-11-25 14:09:25,749] TRACE [Broker id=3] Handling stop replica (delete=false) for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:25,749] TRACE [Broker id=3] Finished handling stop replica (delete=false) for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:25,751] TRACE [Controller id=3 epoch=1] Received response {error_code=0,partitions=[{topic=example-topic-live-321,partition=0,error_code=0}]} for request STOP_REPLICA with correlation id 3418 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,752] INFO [ReplicaFetcherManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaFetcherManager)\n\n[2023-11-25 14:09:25,752] INFO [ReplicaAlterLogDirsManager on broker 3] Removed fetcher for partitions Set(example-topic-live-321-0) (kafka.server.ReplicaAlterLogDirsManager)\n\n[2023-11-25 14:09:25,752] TRACE [Broker id=3] Handling stop replica (delete=true) for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:25,757] INFO The cleaning for partition example-topic-live-321-0 is aborted and paused (kafka.log.LogCleaner)\n\n[2023-11-25 14:09:25,757] INFO The cleaning for partition example-topic-live-321-0 is aborted (kafka.log.LogCleaner)\n\n[2023-11-25 14:09:25,863] INFO Log for partition example-topic-live-321-0 is renamed to /var/lib/kafka/data/example-topic-live-321-0.68e5c26ab83a4b8ba3424ef5178ff1ca-delete and is scheduled for deletion (kafka.log.LogManager)\n\n[2023-11-25 14:09:25,863] TRACE [Broker id=3] Finished handling stop replica (delete=true) for partition example-topic-live-321-0 (state.change.logger)\n\n[2023-11-25 14:09:25,864] TRACE [Controller id=3 epoch=1] Received response {error_code=0,partitions=[{topic=example-topic-live-321,partition=0,error_code=0}]} for request STOP_REPLICA with correlation id 3419 sent to broker 62ecda170292:9092 (id: 3 rack: null) (state.change.logger)\n\n[2023-11-25 14:09:25,864] DEBUG [Controller id=3] Delete topic callback invoked on StopReplica response received from broker 3: request error = NONE, partition errors = Map(example-topic-live-321-0 -&gt; NONE) (kafka.controller.KafkaController)\n\n[2023-11-25 14:09:25,864] DEBUG [Topic Deletion Manager 3] Deletion successfully completed for replicas [Topic=example-topic-live-321,Partition=0,Replica=3] (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,864] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from ReplicaDeletionStarted to ReplicaDeletionSuccessful (state.change.logger)\n\n[2023-11-25 14:09:25,864] INFO [Topic Deletion Manager 3] Handling deletion for topics example-topic-live-321 (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,864] TRACE [Controller id=3 epoch=1] Changed state of replica 3 for partition example-topic-live-321-0 from ReplicaDeletionSuccessful to NonExistentReplica (state.change.logger)\n\n[2023-11-25 14:09:25,897] INFO [Topic Deletion Manager 3] Deletion of topic example-topic-live-321 successfully completed (kafka.controller.TopicDeletionManager)\n\n[2023-11-25 14:09:25,938] INFO [Controller id=3] New topics: [Set()], deleted topics: [Set()], new partition replica assignment [Map()] (kafka.controller.KafkaController)\n\n[2023-11-25 14:09:25,964] DEBUG [Controller id=3] Delete topics listener fired for topics  to be deleted (kafka.controller.KafkaController)\n</code></pre>\n"},{"tags":["java","spring","firebase","vaadin","vaadin-flow"],"comment_count":0,"is_answered":false,"view_count":45,"answer_count":0,"score":0,"last_activity_date":1700989867,"creation_date":1700989867,"question_id":77551071,"body_markdown":"My SecurityContextHolder reset after navigating to the new UI or refresh the page in my vaadin application. I have used the Firebase authentication successfully using JavaScript and then I got the token and Firebase user ID using the login method using ClientCallable annotation. Then I set the Authentication by getting the new authentication. after refresh the page or navigating to other view authentication log message is like below,\r\n\r\n&gt;Principal : anonymousUser\r\nCredentials : \r\nAuth : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5E5D572F6FF1ECAF2EC27CD086ACB6F6], Granted Authorities=[ROLE_ANONYMOUS]]\r\n\r\nLogin class :\r\n\r\n    @AnonymousAllowed\r\n    @PageTitle(&quot;Login&quot;)\r\n    @Route(value = &quot;login&quot;)\r\n    @JsModule(&quot;./JavaScripts/firebase.js&quot;)\r\n    public class LoginView extends VerticalLayout implements BeforeEnterObserver{\r\n      private static final String OAUTH_URL = &quot;/oauth2/authorization/google&quot;;\r\n      private final FirebaseService firebase;\r\n      public LoginView(FirebaseService firebaseService){\r\n        this.firebase = firebaseService;\r\n        // Header\r\n        Div header = new Div();\r\n        header.setText(&quot;Welcome to File Fortress&quot;);\r\n        header.getStyle().set(&quot;font-size&quot;, &quot;24px&quot;);\r\n        add(header);\r\n\r\n        // Slogan\r\n        Div slogan = new Div();\r\n        slogan.setText(&quot;LAN Exam File Transfer System&quot;);\r\n        slogan.getStyle().set(&quot;font-size&quot;, &quot;18px&quot;);\r\n        add(slogan);\r\n\r\n        // Description\r\n        Div description = new Div();\r\n        description.setText(&quot;Login with Your Google Account to Continue&quot;);\r\n        description.getStyle().set(&quot;font-size&quot;, &quot;16px&quot;);\r\n        add(description);\r\n\r\n        // Login button\r\n        Button loginButton = new Button(&quot;Login with Google&quot;);\r\n        loginButton.setTooltipText(&quot;You Can Sign In to Application using your Google Account&quot;);\r\n        loginButton.addClassName(&quot;login-button&quot;);\r\n        loginButton.addClickListener(event -&gt; {\r\n    //     UI.getCurrent().getPage().setLocation(OAUTH_URL);\r\n            UI.getCurrent().getPage().executeJs(&quot;ns.googleSignInPopup($0)&quot;, this);\r\n        });\r\n\r\n        add(loginButton);\r\n\r\n        // Styling\r\n        getStyle().set(&quot;padding&quot;, &quot;20px&quot;);\r\n        setAlignItems(FlexComponent.Alignment.CENTER);\r\n    }\r\n\r\n    @Override\r\n    public void beforeEnter(BeforeEnterEvent event) {\r\n        if(SecurityContextHolder.getContext().getAuthentication().isAuthenticated())\r\n            UI.getCurrent().navigate(AboutView.class);\r\n    }\r\n    @ClientCallable\r\n    public void login(String token, String uid){\r\n        System.out.println(token);\r\n        User.getInstance().init(uid,token);\r\n        try {\r\n            // Validate the token at Firebase server  first and create\r\n            Authentication authentication = firebase.login(token);\r\n            // Save the authentication to context\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        } catch (FirebaseAuthException e) {\r\n            throw new RuntimeException(&quot;Invalid token!&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    }\r\n\r\nFirebaseService class : \r\n\r\n    @Service\r\n    public class FirebaseService {\r\n\r\n    private FirebaseApp app;\r\n    @PostConstruct\r\n    void init() {\r\n        try {\r\n            FileInputStream serviceAccount = new FileInputStream(&quot;serviceAccountKey.json&quot;);\r\n\r\n            FirebaseOptions options = new FirebaseOptions.Builder()\r\n                    .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n                    .build();\r\n            FirebaseApp.initializeApp(options);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n\r\n    public UserRecord findUserByEmail(String username) throws FirebaseAuthException {\r\n        return FirebaseAuth.getInstance().getUserByEmail(username);\r\n    }\r\n\r\n    public Authentication login(String token) throws FirebaseAuthException {\r\n        boolean checkRevoked = true;\r\n        FirebaseToken firebaseToken = FirebaseAuth.getInstance().verifyIdToken(token, checkRevoked);\r\n        // Note, before important actions, the token should be re-validate,\r\n        // it could be revoked or the user could be removed altogether,\r\n        // during their session\r\n\r\n        return new Authentication() {\r\n            @Override\r\n            public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n                Collection&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;();\r\n                updatedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n                return updatedAuthorities;\r\n            }\r\n\r\n            @Override\r\n            public Object getCredentials() {\r\n                return token;\r\n            }\r\n\r\n            @Override\r\n            public Object getDetails() {\r\n                return firebaseToken;\r\n            }\r\n\r\n            @Override\r\n            public Object getPrincipal() {\r\n                return firebaseToken.getUid();\r\n            }\r\n\r\n            @Override\r\n            public boolean isAuthenticated() {\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            public void setAuthenticated(boolean isAuthenticated) throws IllegalArgumentException {\r\n\r\n            }\r\n\r\n            @Override\r\n            public String getName() {\r\n                return firebaseToken.getName();\r\n            }\r\n        };\r\n    }\r\n    }\r\n\r\n\r\nI want to Save the authentication to SecurityContextHolder but it has to be the same Authentication until the user is logged out. \r\n\r\n     SecurityContextHolder.getContext().setAuthentication(authentication);","link":"https://stackoverflow.com/questions/77551071/why-is-my-securitycontextholder-resetting-after-navigating-to-the-new-ui-in-my-v","title":"Why is my SecurityContextHolder resetting after navigating to the new UI in my vaadin application?","body":"<p>My SecurityContextHolder reset after navigating to the new UI or refresh the page in my vaadin application. I have used the Firebase authentication successfully using JavaScript and then I got the token and Firebase user ID using the login method using ClientCallable annotation. Then I set the Authentication by getting the new authentication. after refresh the page or navigating to other view authentication log message is like below,</p>\n<blockquote>\n<p>Principal : anonymousUser\nCredentials :\nAuth : AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=5E5D572F6FF1ECAF2EC27CD086ACB6F6], Granted Authorities=[ROLE_ANONYMOUS]]</p>\n</blockquote>\n<p>Login class :</p>\n<pre><code>@AnonymousAllowed\n@PageTitle(&quot;Login&quot;)\n@Route(value = &quot;login&quot;)\n@JsModule(&quot;./JavaScripts/firebase.js&quot;)\npublic class LoginView extends VerticalLayout implements BeforeEnterObserver{\n  private static final String OAUTH_URL = &quot;/oauth2/authorization/google&quot;;\n  private final FirebaseService firebase;\n  public LoginView(FirebaseService firebaseService){\n    this.firebase = firebaseService;\n    // Header\n    Div header = new Div();\n    header.setText(&quot;Welcome to File Fortress&quot;);\n    header.getStyle().set(&quot;font-size&quot;, &quot;24px&quot;);\n    add(header);\n\n    // Slogan\n    Div slogan = new Div();\n    slogan.setText(&quot;LAN Exam File Transfer System&quot;);\n    slogan.getStyle().set(&quot;font-size&quot;, &quot;18px&quot;);\n    add(slogan);\n\n    // Description\n    Div description = new Div();\n    description.setText(&quot;Login with Your Google Account to Continue&quot;);\n    description.getStyle().set(&quot;font-size&quot;, &quot;16px&quot;);\n    add(description);\n\n    // Login button\n    Button loginButton = new Button(&quot;Login with Google&quot;);\n    loginButton.setTooltipText(&quot;You Can Sign In to Application using your Google Account&quot;);\n    loginButton.addClassName(&quot;login-button&quot;);\n    loginButton.addClickListener(event -&gt; {\n//     UI.getCurrent().getPage().setLocation(OAUTH_URL);\n        UI.getCurrent().getPage().executeJs(&quot;ns.googleSignInPopup($0)&quot;, this);\n    });\n\n    add(loginButton);\n\n    // Styling\n    getStyle().set(&quot;padding&quot;, &quot;20px&quot;);\n    setAlignItems(FlexComponent.Alignment.CENTER);\n}\n\n@Override\npublic void beforeEnter(BeforeEnterEvent event) {\n    if(SecurityContextHolder.getContext().getAuthentication().isAuthenticated())\n        UI.getCurrent().navigate(AboutView.class);\n}\n@ClientCallable\npublic void login(String token, String uid){\n    System.out.println(token);\n    User.getInstance().init(uid,token);\n    try {\n        // Validate the token at Firebase server  first and create\n        Authentication authentication = firebase.login(token);\n        // Save the authentication to context\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n    } catch (FirebaseAuthException e) {\n        throw new RuntimeException(&quot;Invalid token!&quot;);\n    }\n}\n\n\n}\n</code></pre>\n<p>FirebaseService class :</p>\n<pre><code>@Service\npublic class FirebaseService {\n\nprivate FirebaseApp app;\n@PostConstruct\nvoid init() {\n    try {\n        FileInputStream serviceAccount = new FileInputStream(&quot;serviceAccountKey.json&quot;);\n\n        FirebaseOptions options = new FirebaseOptions.Builder()\n                .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n                .build();\n        FirebaseApp.initializeApp(options);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n\n}\n\npublic UserRecord findUserByEmail(String username) throws FirebaseAuthException {\n    return FirebaseAuth.getInstance().getUserByEmail(username);\n}\n\npublic Authentication login(String token) throws FirebaseAuthException {\n    boolean checkRevoked = true;\n    FirebaseToken firebaseToken = FirebaseAuth.getInstance().verifyIdToken(token, checkRevoked);\n    // Note, before important actions, the token should be re-validate,\n    // it could be revoked or the user could be removed altogether,\n    // during their session\n\n    return new Authentication() {\n        @Override\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n            Collection&lt;GrantedAuthority&gt; updatedAuthorities = new ArrayList&lt;&gt;();\n            updatedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n            return updatedAuthorities;\n        }\n\n        @Override\n        public Object getCredentials() {\n            return token;\n        }\n\n        @Override\n        public Object getDetails() {\n            return firebaseToken;\n        }\n\n        @Override\n        public Object getPrincipal() {\n            return firebaseToken.getUid();\n        }\n\n        @Override\n        public boolean isAuthenticated() {\n            return true;\n        }\n\n        @Override\n        public void setAuthenticated(boolean isAuthenticated) throws IllegalArgumentException {\n\n        }\n\n        @Override\n        public String getName() {\n            return firebaseToken.getName();\n        }\n    };\n}\n}\n</code></pre>\n<p>I want to Save the authentication to SecurityContextHolder but it has to be the same Authentication until the user is logged out.</p>\n<pre><code> SecurityContextHolder.getContext().setAuthentication(authentication);\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"comment_count":0,"is_answered":false,"view_count":21,"answer_count":0,"score":0,"last_activity_date":1700985795,"creation_date":1700803976,"last_edit_date":1700985795,"question_id":77540910,"body_markdown":"I want to pass location.locationId in my alias but the alias picks up the bases entity. any clue how to do it?\r\n\r\n```\r\nCriteria cri= session.createCriteria(User.class)\r\n\t\t\t\t.setFetchMode(&quot;class1&quot;,FetchMode.JOIN )\r\n\t\t\t\t.createAlias(&quot;class1&quot;, &quot;idmp&quot;).createAlias(&quot;idmp.class2&quot;, &quot;idm&quot;).setReadOnly(isreadonly);\r\n\r\n\t\tif(locationId != null){\r\n\t\t\tcri.setFetchMode(&quot;location&quot;,FetchMode.JOIN )\r\n\t\t\t\t\t.createAlias(&quot;idm.location&quot;, &quot;location&quot;);\r\n\t\t\tcri.add(Restrictions.sqlRestriction(&quot;GetAncestryOf({alias}.locationId) REGEXP CONCAT(&#39;(^|.*,)&#39;,&quot;+locationId+&quot;,&#39;(,.*|$)&#39;)&quot;));\r\n\r\n```\r\n\r\n\r\nI tried everything and nothing worked. \r\n\r\nThe outcome should be like\r\n\r\n```\r\nHibernate: select count(*) as y0_ from user this_ inner join idmapper idmp1_ on this_.mappedId=idmp1_.mappedId inner join identifier idm2_ on idmp1_.mappedId=idm2_.mappedId inner join location location3_ on idm2_.locationId=location3_.locationId inner join role role4_ on idmp1_.roleId=role4_.roleId where GetAncestryOf(location3_.locationId) REGEXP CONCAT(&#39;(^|.*,)&#39;,384949,&#39;(,.*|$)&#39;)\r\n```\r\n","link":"https://stackoverflow.com/questions/77540910/hibernate-alias-issue","title":"Hibernate alias issue","body":"<p>I want to pass location.locationId in my alias but the alias picks up the bases entity. any clue how to do it?</p>\n<pre><code>Criteria cri= session.createCriteria(User.class)\n                .setFetchMode(&quot;class1&quot;,FetchMode.JOIN )\n                .createAlias(&quot;class1&quot;, &quot;idmp&quot;).createAlias(&quot;idmp.class2&quot;, &quot;idm&quot;).setReadOnly(isreadonly);\n\n        if(locationId != null){\n            cri.setFetchMode(&quot;location&quot;,FetchMode.JOIN )\n                    .createAlias(&quot;idm.location&quot;, &quot;location&quot;);\n            cri.add(Restrictions.sqlRestriction(&quot;GetAncestryOf({alias}.locationId) REGEXP CONCAT('(^|.*,)',&quot;+locationId+&quot;,'(,.*|$)')&quot;));\n\n</code></pre>\n<p>I tried everything and nothing worked.</p>\n<p>The outcome should be like</p>\n<pre><code>Hibernate: select count(*) as y0_ from user this_ inner join idmapper idmp1_ on this_.mappedId=idmp1_.mappedId inner join identifier idm2_ on idmp1_.mappedId=idm2_.mappedId inner join location location3_ on idm2_.locationId=location3_.locationId inner join role role4_ on idmp1_.roleId=role4_.roleId where GetAncestryOf(location3_.locationId) REGEXP CONCAT('(^|.*,)',384949,'(,.*|$)')\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700985015,"creation_date":1700985015,"answer_id":77550869,"question_id":77367474,"body_markdown":"So I&#39;ve found the culprit behind the weirdness of the graph and honestly its a silly mistake. \r\n\r\nI have my spring applications running in a Kubernetes cluster. All of my spring applications have 1 instance, except the one shown in the erratic graph example. Essentially what was happening is spring admin&#39;s requests for health data for my application was getting load balanced between mulitple instances in the Kubernetes cluster, causing this very erratic graph. \r\n\r\nHopefully this helps anyone who encounters this silly mistake.","link":"https://stackoverflow.com/questions/77367474/what-could-be-the-cause-of-erratic-heap-usage-by-a-spring-boot-micro-service/77550869#77550869","title":"What could be the cause of Erratic Heap Usage by a Spring Boot Micro-service?","body":"<p>So I've found the culprit behind the weirdness of the graph and honestly its a silly mistake.</p>\n<p>I have my spring applications running in a Kubernetes cluster. All of my spring applications have 1 instance, except the one shown in the erratic graph example. Essentially what was happening is spring admin's requests for health data for my application was getting load balanced between mulitple instances in the Kubernetes cluster, causing this very erratic graph.</p>\n<p>Hopefully this helps anyone who encounters this silly mistake.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":49,"answer_count":1,"score":0,"last_activity_date":1700985015,"creation_date":1698327346,"last_edit_date":1698327418,"question_id":77367474,"body_markdown":"I am using spring-admin to monitor my spring micro-services and I found that one of them has a very weird and erratic heap usage graph.\r\n\r\n[Erratic Heap Graph](https://i.stack.imgur.com/x0xFb.png)\r\n\r\nFor comparison, here is what I would call &quot;normal&quot; heap usage, with the garbage collection happening at clear even intervals and no extreme volatility like the previous graph.\r\n\r\n[Normal Heap Graph](https://i.stack.imgur.com/EhinV.png)\r\n\r\nBoth applications have roughly the same amount of traffic (extremely low) since they are both still in development (maybe 10-20 requests per hour), so load should not be the cause here. What could be happening to create an unusual graph like that?\r\n\r\nI tried checking if the application has any leaks or anything but everything checks out.","link":"https://stackoverflow.com/questions/77367474/what-could-be-the-cause-of-erratic-heap-usage-by-a-spring-boot-micro-service","title":"What could be the cause of Erratic Heap Usage by a Spring Boot Micro-service?","body":"<p>I am using spring-admin to monitor my spring micro-services and I found that one of them has a very weird and erratic heap usage graph.</p>\n<p><a href=\"https://i.stack.imgur.com/x0xFb.png\" rel=\"nofollow noreferrer\">Erratic Heap Graph</a></p>\n<p>For comparison, here is what I would call &quot;normal&quot; heap usage, with the garbage collection happening at clear even intervals and no extreme volatility like the previous graph.</p>\n<p><a href=\"https://i.stack.imgur.com/EhinV.png\" rel=\"nofollow noreferrer\">Normal Heap Graph</a></p>\n<p>Both applications have roughly the same amount of traffic (extremely low) since they are both still in development (maybe 10-20 requests per hour), so load should not be the cause here. What could be happening to create an unusual graph like that?</p>\n<p>I tried checking if the application has any leaks or anything but everything checks out.</p>\n"},{"tags":["java","asynchronous"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1700747853,"post_id":77510486,"comment_id":136694339,"body_markdown":"@rickygrimes, if this answer was valuable and acceptable for you, pls accept it as answer","link":"https://stackoverflow.com/questions/77509938/scheduledexecutorservice-asynchronously-run-task-till-it-succeeds-if-there-are-a/77510486#comment136694339_77510486","body":"@rickygrimes, if this answer was valuable and acceptable for you, pls accept it as answer"}],"comment_count":1,"score":2,"last_activity_date":1700391511,"creation_date":1700391511,"answer_id":77510486,"question_id":77509938,"body_markdown":"Your approach looks fine, there are a few improvements and considerations you might want to take into account:\r\n\r\n1. I didn’t notice where you are incrementing counter, so instead of `counter.get() &lt; MAX_RETRY` I&#39;ve taken `counter.getAndIncrement() &lt;= MAX_RETRY`. It will be first call of the method + 3 retry calls.\r\n\r\n2. It may be worth thinking about a specific exception in which a retry is possible, but if you really need it for any exception, then you can leave a general `Exception` in the catch block\r\n\r\n3. It&#39;s better to use `scheduler.shutdownNow()` instead of `scheduler.shutdown()` in the catch block to interrupt the thread immediately. This ensures that any pending tasks are canceled.\r\n\r\n4. You might want to consider **cleaning up resources** associated with the retry operation, especially if `runMyChoreTillItSucceeds` holds any resources that need proper cleanup.\r\n\r\n```\r\npublic static void retryIfAnyExceptionTillItSucceeds(PaymentDO pmDO, TransactionDO txnDO) {\r\n    ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\r\n    AtomicInteger counter = new AtomicInteger(1);\r\n    final int MAX_RETRY = 3;\r\n\r\n    scheduler.execute(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                runMyChoreTillItSucceeds(pmDO, txnDO);\r\n                scheduler.shutdownNow(); // Shutdownnow immediately on success\r\n            } catch (SpecificRuntimeException e) { // catch specific exception to retry\r\n                if (counter.getAndIncrement() &lt;= MAX_RETRY) {\r\n                    scheduler.schedule(this, 2, TimeUnit.SECONDS);\r\n                } else {\r\n                    scheduler.shutdownNow(); // Shutdown if max retries reached\r\n                }\r\n            } catch (Exception e) {\r\n                // Handle other exceptions if needed\r\n                scheduler.shutdownNow();\r\n            }\r\n        }\r\n    });\r\n}\r\n```","link":"https://stackoverflow.com/questions/77509938/scheduledexecutorservice-asynchronously-run-task-till-it-succeeds-if-there-are-a/77510486#77510486","title":"ScheduledExecutorService asynchronously run task till it succeeds if there are any exceptions","body":"<p>Your approach looks fine, there are a few improvements and considerations you might want to take into account:</p>\n<ol>\n<li><p>I didn’t notice where you are incrementing counter, so instead of <code>counter.get() &lt; MAX_RETRY</code> I've taken <code>counter.getAndIncrement() &lt;= MAX_RETRY</code>. It will be first call of the method + 3 retry calls.</p>\n</li>\n<li><p>It may be worth thinking about a specific exception in which a retry is possible, but if you really need it for any exception, then you can leave a general <code>Exception</code> in the catch block</p>\n</li>\n<li><p>It's better to use <code>scheduler.shutdownNow()</code> instead of <code>scheduler.shutdown()</code> in the catch block to interrupt the thread immediately. This ensures that any pending tasks are canceled.</p>\n</li>\n<li><p>You might want to consider <strong>cleaning up resources</strong> associated with the retry operation, especially if <code>runMyChoreTillItSucceeds</code> holds any resources that need proper cleanup.</p>\n</li>\n</ol>\n<pre><code>public static void retryIfAnyExceptionTillItSucceeds(PaymentDO pmDO, TransactionDO txnDO) {\n    ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\n    AtomicInteger counter = new AtomicInteger(1);\n    final int MAX_RETRY = 3;\n\n    scheduler.execute(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                runMyChoreTillItSucceeds(pmDO, txnDO);\n                scheduler.shutdownNow(); // Shutdownnow immediately on success\n            } catch (SpecificRuntimeException e) { // catch specific exception to retry\n                if (counter.getAndIncrement() &lt;= MAX_RETRY) {\n                    scheduler.schedule(this, 2, TimeUnit.SECONDS);\n                } else {\n                    scheduler.shutdownNow(); // Shutdown if max retries reached\n                }\n            } catch (Exception e) {\n                // Handle other exceptions if needed\n                scheduler.shutdownNow();\n            }\n        }\n    });\n}\n</code></pre>\n"}],"comment_count":0,"is_answered":true,"view_count":49,"answer_count":1,"score":1,"last_activity_date":1700984529,"creation_date":1700377599,"last_edit_date":1700984529,"question_id":77509938,"body_markdown":"I am trying to use ScheduledExecutorService to implement a retry mechanism in java, that asynchronously retries a function after 30 seconds in case of failure, and retries up to maximum 3 times. I haven&#39;t used ScheduledExecutorService so would really like to get some inputs if there is a better way to write this. My goal is to retry and execute the function runMyChoreTillItSucceeds if there are any exceptions till it succeeds. \r\n\r\n    public void retryIfAnyExceptionTillItSucceeds(CustomerDO pmDO, MemberDO mbrDO) {\r\n\t\tScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\r\n\t\tAtomicInteger counter = new AtomicInteger(1);\r\n\t\tfinal int MAX_RETRY = 3;\r\n\t\tscheduler.execute(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run () {\r\n\t\t\t\ttry {\r\n\t\t\t\t\trunMyChoreTillItSucceeds(pmDO, mbrDO);\r\n\t\t\t\t\tscheduler.shutdown();\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e) {\r\n\t\t\t\t\tif (counter.get() &lt; MAX_RETRY) {\r\n\t\t\t\t\t\tscheduler.schedule(this, 30, TimeUnit.SECONDS);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tscheduler.shutdown();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}","link":"https://stackoverflow.com/questions/77509938/scheduledexecutorservice-asynchronously-run-task-till-it-succeeds-if-there-are-a","title":"ScheduledExecutorService asynchronously run task till it succeeds if there are any exceptions","body":"<p>I am trying to use ScheduledExecutorService to implement a retry mechanism in java, that asynchronously retries a function after 30 seconds in case of failure, and retries up to maximum 3 times. I haven't used ScheduledExecutorService so would really like to get some inputs if there is a better way to write this. My goal is to retry and execute the function runMyChoreTillItSucceeds if there are any exceptions till it succeeds.</p>\n<pre><code>public void retryIfAnyExceptionTillItSucceeds(CustomerDO pmDO, MemberDO mbrDO) {\n    ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\n    AtomicInteger counter = new AtomicInteger(1);\n    final int MAX_RETRY = 3;\n    scheduler.execute(new Runnable() {\n        @Override\n        public void run () {\n            try {\n                runMyChoreTillItSucceeds(pmDO, mbrDO);\n                scheduler.shutdown();\n            }\n            catch (Exception e) {\n                if (counter.get() &lt; MAX_RETRY) {\n                    scheduler.schedule(this, 30, TimeUnit.SECONDS);\n                }\n                else {\n                    scheduler.shutdown();\n                }\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","arrays","system.out"],"comments":[{"score":0,"post_type":"question","creation_date":1700988651,"post_id":77550059,"comment_id":136717503,"body_markdown":"Try `&quot;Please enter the integer for row: &quot; (+i+1)...`","link":"https://stackoverflow.com/questions/77550059/why-does-my-code-output-the-row-and-column-number-as-01-for-1-and-11-for-2#comment136717503_77550059","body":"Try <code>&quot;Please enter the integer for row: &quot; (+i+1)...</code>"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700961585,"last_edit_date":1700961585,"creation_date":1700959992,"answer_id":77550084,"question_id":77550059,"body_markdown":"In Java when you concatenate strings (or strings with other types that will be converted to strings) the concatenation goes one by one, from left to right.\r\n\r\n```java\r\nint i = 0;\r\nString s = &quot;Number: &quot; + i + 1;\r\n```\r\nThe string `s` will be `&quot;Number: 01&quot;` because this translates to:\r\n```java\r\nint i = 0;\r\nString s = &quot;Number: &quot;; // &quot;Number: &quot;\r\ns = s + i; // &quot;Number: 0&quot;\r\ns = s + 0; // &quot;Number: 01&quot;\r\n```\r\n\r\nWhat you really want to do is:\r\n```java\r\nint i = 0;\r\nString s = &quot;Number: &quot; + (i + 1); // &quot;Number: 1&quot;\r\n```\r\nbecause first you want to compute the value which you want to concatenate, so in your code:\r\n\r\n```java\r\nSystem.out.println(&quot;Please enter the integer for row: &quot; + (i + 1) + &quot; column: &quot; + (j + 1));\r\n```","link":"https://stackoverflow.com/questions/77550059/why-does-my-code-output-the-row-and-column-number-as-01-for-1-and-11-for-2/77550084#77550084","title":"Why does my code output the row and column number as 01 for 1 and 11 for 2?","body":"<p>In Java when you concatenate strings (or strings with other types that will be converted to strings) the concatenation goes one by one, from left to right.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 0;\nString s = &quot;Number: &quot; + i + 1;\n</code></pre>\n<p>The string <code>s</code> will be <code>&quot;Number: 01&quot;</code> because this translates to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 0;\nString s = &quot;Number: &quot;; // &quot;Number: &quot;\ns = s + i; // &quot;Number: 0&quot;\ns = s + 0; // &quot;Number: 01&quot;\n</code></pre>\n<p>What you really want to do is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 0;\nString s = &quot;Number: &quot; + (i + 1); // &quot;Number: 1&quot;\n</code></pre>\n<p>because first you want to compute the value which you want to concatenate, so in your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Please enter the integer for row: &quot; + (i + 1) + &quot; column: &quot; + (j + 1));\n</code></pre>\n"},{"comment_count":0,"score":0,"last_activity_date":1700967605,"creation_date":1700967605,"answer_id":77550284,"question_id":77550059,"body_markdown":"&gt; _&quot;... I do not know how to troubleshoot this as I am a beginner in coding. Thank you to whoever helps! ...&quot;_\r\n\r\nThe expression is being evaluated from left to right.\\\r\nIt is appending _i_ to your text, _&quot;Please enter the integer for row: &quot;_, and then appending _1_ to that, etc..\r\n\r\nYou can re-order the evaluation, by parenthesizing these expressions.\r\n\r\n```java\r\nSystem.out.println(&quot;Please enter the integer for row: &quot; +(i+1)+ &quot; column: &quot; +(j+1));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nHello! This program creates an array of numbers of your choosing and size!\r\nPlease enter the number of rows for your array!\r\n1\r\nPlease enter the number of columns for your array!\r\n1\r\n\r\nPlease enter the integer for row: 1 column: 1\r\n```","link":"https://stackoverflow.com/questions/77550059/why-does-my-code-output-the-row-and-column-number-as-01-for-1-and-11-for-2/77550284#77550284","title":"Why does my code output the row and column number as 01 for 1 and 11 for 2?","body":"<blockquote>\n<p><em>&quot;... I do not know how to troubleshoot this as I am a beginner in coding. Thank you to whoever helps! ...&quot;</em></p>\n</blockquote>\n<p>The expression is being evaluated from left to right.<br />\nIt is appending <em>i</em> to your text, <em>&quot;Please enter the integer for row: &quot;</em>, and then appending <em>1</em> to that, etc..</p>\n<p>You can re-order the evaluation, by parenthesizing these expressions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Please enter the integer for row: &quot; +(i+1)+ &quot; column: &quot; +(j+1));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hello! This program creates an array of numbers of your choosing and size!\nPlease enter the number of rows for your array!\n1\nPlease enter the number of columns for your array!\n1\n\nPlease enter the integer for row: 1 column: 1\n</code></pre>\n"},{"comment_count":0,"score":1,"last_activity_date":1700983820,"creation_date":1700983820,"answer_id":77550833,"question_id":77550059,"body_markdown":"Another approach would be to use `System.out.printf()`:\r\n\r\n    System.out.printf(&quot;Please enter the integer for row: %d column: %d%n&quot;, i+1, j+1);\r\n","link":"https://stackoverflow.com/questions/77550059/why-does-my-code-output-the-row-and-column-number-as-01-for-1-and-11-for-2/77550833#77550833","title":"Why does my code output the row and column number as 01 for 1 and 11 for 2?","body":"<p>Another approach would be to use <code>System.out.printf()</code>:</p>\n<pre><code>System.out.printf(&quot;Please enter the integer for row: %d column: %d%n&quot;, i+1, j+1);\n</code></pre>\n"}],"comment_count":1,"is_answered":true,"view_count":51,"answer_count":3,"score":1,"last_activity_date":1700983820,"creation_date":1700958971,"last_edit_date":1700959656,"question_id":77550059,"body_markdown":"I am trying to create a code to ask the user to specify the dimensions of an array, create the array, and fill each element with user input code. The line that is causing me issues is \r\n\r\nSystem.out.println(&quot;Please enter the integer for row: &quot; +i+1+ &quot; column: &quot; +j+1);\r\n\r\nas I would like to specify which element the user is inputting, I have tried to include this. Without the +1 after &quot;i&quot; and &quot;j&quot; the output starts at 0 as it should. I am trying to add the +1 to make this easier for the user to understand.\r\n\r\nHere is the code below:\r\n\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class doubleArray{\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        Scanner scanner = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;Hello! This program creates an array of numbers of your choosing and size!&quot;);\r\n        System.out.println(&quot;Please enter the number of rows for your array!&quot;);\r\n        \r\n        int rows = scanner.nextInt();\r\n        \r\n        System.out.println(&quot;Please enter the number of columns for your array!&quot;);\r\n        \r\n        int columns = scanner.nextInt();\r\n        \r\n        int storage[][] = new int[rows][columns];\r\n        \r\n        for(int i=0; i&lt;storage.length; i++) {\r\n            System.out.println();\r\n            for (int j=0; j&lt;storage[i].length; j++) {\r\n                System.out.println(&quot;Please enter the integer for row: &quot; +i+1+ &quot; column: &quot; +j+1);\r\n                storage[i][j] = scanner.nextInt();\r\n            }\r\n        }\r\n        \r\n        for(int i=0; i&lt;storage.length; i++) {\r\n            System.out.println();\r\n            for(int j=0; j&lt;storage[i].length; j++) {\r\n                System.out.print(storage[i][j]+ &quot; &quot;);\r\n            }\r\n        }\r\n        \r\n        scanner.close();\r\n    } \r\n}\r\n```\r\n\r\nIt is intended to count up starting from 1 up until the what the user entered. ex).\r\n\r\nPlease enter the integer for row: 1 column: 1\r\n//user input\r\nPlease enter the integer for row: 1 column: 2\r\n//user input\r\n\r\nWhat actually happens is:\r\n\r\nPlease enter the integer for row: 01 column: 01\r\n//user input\r\nPlease enter the integer for row: 01 column: 11\r\n\r\nI do not know how to troubleshoot this as I am a beginner in coding. Thank you to whoever helps!","link":"https://stackoverflow.com/questions/77550059/why-does-my-code-output-the-row-and-column-number-as-01-for-1-and-11-for-2","title":"Why does my code output the row and column number as 01 for 1 and 11 for 2?","body":"<p>I am trying to create a code to ask the user to specify the dimensions of an array, create the array, and fill each element with user input code. The line that is causing me issues is</p>\n<p>System.out.println(&quot;Please enter the integer for row: &quot; +i+1+ &quot; column: &quot; +j+1);</p>\n<p>as I would like to specify which element the user is inputting, I have tried to include this. Without the +1 after &quot;i&quot; and &quot;j&quot; the output starts at 0 as it should. I am trying to add the +1 to make this easier for the user to understand.</p>\n<p>Here is the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class doubleArray{\n    \n    public static void main(String[] args) {\n        \n        Scanner scanner = new Scanner(System.in);\n        \n        System.out.println(&quot;Hello! This program creates an array of numbers of your choosing and size!&quot;);\n        System.out.println(&quot;Please enter the number of rows for your array!&quot;);\n        \n        int rows = scanner.nextInt();\n        \n        System.out.println(&quot;Please enter the number of columns for your array!&quot;);\n        \n        int columns = scanner.nextInt();\n        \n        int storage[][] = new int[rows][columns];\n        \n        for(int i=0; i&lt;storage.length; i++) {\n            System.out.println();\n            for (int j=0; j&lt;storage[i].length; j++) {\n                System.out.println(&quot;Please enter the integer for row: &quot; +i+1+ &quot; column: &quot; +j+1);\n                storage[i][j] = scanner.nextInt();\n            }\n        }\n        \n        for(int i=0; i&lt;storage.length; i++) {\n            System.out.println();\n            for(int j=0; j&lt;storage[i].length; j++) {\n                System.out.print(storage[i][j]+ &quot; &quot;);\n            }\n        }\n        \n        scanner.close();\n    } \n}\n</code></pre>\n<p>It is intended to count up starting from 1 up until the what the user entered. ex).</p>\n<p>Please enter the integer for row: 1 column: 1\n//user input\nPlease enter the integer for row: 1 column: 2\n//user input</p>\n<p>What actually happens is:</p>\n<p>Please enter the integer for row: 01 column: 01\n//user input\nPlease enter the integer for row: 01 column: 11</p>\n<p>I do not know how to troubleshoot this as I am a beginner in coding. Thank you to whoever helps!</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-sqs","sqslistener"],"comment_count":0,"is_answered":false,"view_count":46,"answer_count":0,"score":0,"last_activity_date":1700981017,"creation_date":1700981017,"question_id":77550723,"body_markdown":"As per [documentation][1] , The visibility timeout begins when Amazon SQS returns a message. During this time, the consumer processes and deletes the message. However, if the consumer fails before deleting the message and your system doesn&#39;t call the DeleteMessage action for that message before the visibility timeout expires, the message becomes visible.\r\n\r\nWhile using spring boot 3 `@SqsListener`, the default acknowledgement mode is ON_SUCCESS as [documentation][2].\r\n\r\nNow if the acknowledgement mode is `ON_SUCCESS` and visibility timeout is 30 minutes but the processing of message fails at 15 minutes. Will the message be immediately visible after failure or SQS will wait 30 minutes to make messages visible to other consumers.\r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html\r\n  [2]: https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-RC2/reference/html/index.html#sqscontaineroptions-descriptions","link":"https://stackoverflow.com/questions/77550723/spring-boot-sqs-listener-makes-message-visible-if-error-exception-in-processing","title":"Spring boot SQS listener makes message visible if error/exception in processing","body":"<p>As per <a href=\"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html\" rel=\"nofollow noreferrer\">documentation</a> , The visibility timeout begins when Amazon SQS returns a message. During this time, the consumer processes and deletes the message. However, if the consumer fails before deleting the message and your system doesn't call the DeleteMessage action for that message before the visibility timeout expires, the message becomes visible.</p>\n<p>While using spring boot 3 <code>@SqsListener</code>, the default acknowledgement mode is ON_SUCCESS as <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-RC2/reference/html/index.html#sqscontaineroptions-descriptions\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>Now if the acknowledgement mode is <code>ON_SUCCESS</code> and visibility timeout is 30 minutes but the processing of message fails at 15 minutes. Will the message be immediately visible after failure or SQS will wait 30 minutes to make messages visible to other consumers.</p>\n"},{"tags":["java","android","live-streaming","twitch","twitch-api"],"comment_count":0,"is_answered":false,"view_count":27,"answer_count":0,"score":0,"last_activity_date":1700979573,"creation_date":1700929424,"last_edit_date":1700979573,"question_id":77548633,"body_markdown":"&gt;i want to try streaming a twitch live video in android app in java through webView but the stream is mute and not in full screen in landscape mode.\r\n\r\n**Twitch live Video Streaming is working fine but i want 2 changes.**\r\n\r\n*1. Stream start but on mute, but i have to unmute manually.*    \r\n*2. Stream not play in full screen even i add lanscape mode.*\r\n\r\n**If you have any idea to solve these problem help me, I will be very grateful to you**\r\n\r\n```\r\n\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.util.Calendar;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    WebView mWebView;\r\n    TextView textView;\r\n    String url;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_main);\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n\r\n        url = &quot;https://player.twitch.tv/?channel=jandarpan_news&amp;enableExtensions=true&amp;muted=false&amp;parent=twitch.tv&amp;player=popout&amp;quality=auto&amp;volume=1&quot;;\r\n\r\n        textView = (TextView) findViewById(R.id.textV);\r\n        mWebView = (WebView) findViewById(R.id.webview1);\r\n        mWebView.setWebChromeClient(new WebChromeClient());\r\n        mWebView.setWebViewClient(new WebViewClient());\r\n\r\n        WebSettings webSettings = mWebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webSettings.setUseWideViewPort(true);\r\n        webSettings.setLoadWithOverviewMode(true);\r\n        webSettings.setMediaPlaybackRequiresUserGesture(false);\r\n       \r\n        webSettings.setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\r\n        String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36&quot;;\r\n        webSettings.setUserAgentString(userAgent);\r\n        mWebView.setLayerType(WebView.LAYER_TYPE_HARDWARE, null);\r\n        mWebView.setWebChromeClient(new WebChromeClient() {\r\n            @Override\r\n            public void onPermissionRequest(final android.webkit.PermissionRequest request) {\r\n                request.grant(request.getResources());\r\n            }\r\n        });\r\n\r\n        mWebView.loadUrl(url);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77548633/i-want-to-try-streaming-a-twitch-live-video-in-android-app-in-java-through-webvi","title":"i want to try streaming a twitch live video in android app in java through webView but the stream is mute and not in full screen in landscape mode","body":"<blockquote>\n<p>i want to try streaming a twitch live video in android app in java through webView but the stream is mute and not in full screen in landscape mode.</p>\n</blockquote>\n<p><strong>Twitch live Video Streaming is working fine but i want 2 changes.</strong></p>\n<p><em>1. Stream start but on mute, but i have to unmute manually.</em><br />\n<em>2. Stream not play in full screen even i add lanscape mode.</em></p>\n<p><strong>If you have any idea to solve these problem help me, I will be very grateful to you</strong></p>\n<pre><code>\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.content.pm.ActivityInfo;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.Calendar;\n\npublic class MainActivity extends AppCompatActivity {\n    WebView mWebView;\n    TextView textView;\n    String url;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setContentView(R.layout.activity_main);\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n\n        url = &quot;https://player.twitch.tv/?channel=jandarpan_news&amp;enableExtensions=true&amp;muted=false&amp;parent=twitch.tv&amp;player=popout&amp;quality=auto&amp;volume=1&quot;;\n\n        textView = (TextView) findViewById(R.id.textV);\n        mWebView = (WebView) findViewById(R.id.webview1);\n        mWebView.setWebChromeClient(new WebChromeClient());\n        mWebView.setWebViewClient(new WebViewClient());\n\n        WebSettings webSettings = mWebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setUseWideViewPort(true);\n        webSettings.setLoadWithOverviewMode(true);\n        webSettings.setMediaPlaybackRequiresUserGesture(false);\n       \n        webSettings.setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\n        String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36&quot;;\n        webSettings.setUserAgentString(userAgent);\n        mWebView.setLayerType(WebView.LAYER_TYPE_HARDWARE, null);\n        mWebView.setWebChromeClient(new WebChromeClient() {\n            @Override\n            public void onPermissionRequest(final android.webkit.PermissionRequest request) {\n                request.grant(request.getResources());\n            }\n        });\n\n        mWebView.loadUrl(url);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"score":0,"post_type":"question","creation_date":1700985561,"post_id":77550625,"comment_id":136717300,"body_markdown":"I can&#39;t reproduce. START does get printed for me. Please show a [mcve].","link":"https://stackoverflow.com/questions/77550625/map-method-not-called-when-using-streams-on-method-reference-but-works-as-lambda#comment136717300_77550625","body":"I can&#39;t reproduce. START does get printed for me. Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"score":2,"post_type":"question","creation_date":1700988041,"post_id":77550625,"comment_id":136717459,"body_markdown":"Your class is named `RestFootballStream2`, but the method references are `RestFootballStream::url2Json` and `RestFootballStream::goalsStream` which references methods from a different class. Are you sure you changed the correct`url2Json()` method to output &quot;START&quot;?","link":"https://stackoverflow.com/questions/77550625/map-method-not-called-when-using-streams-on-method-reference-but-works-as-lambda#comment136717459_77550625","body":"Your class is named <code>RestFootballStream2</code>, but the method references are <code>RestFootballStream::url2Json</code> and <code>RestFootballStream::goalsStream</code> which references methods from a different class. Are you sure you changed the correct<code>url2Json()</code> method to output &quot;START&quot;?"},{"score":0,"post_type":"question","creation_date":1700992711,"post_id":77550625,"comment_id":136717823,"body_markdown":"That was it.I had the wrong class name.","link":"https://stackoverflow.com/questions/77550625/map-method-not-called-when-using-streams-on-method-reference-but-works-as-lambda#comment136717823_77550625","body":"That was it.I had the wrong class name."}],"comment_count":3,"is_answered":false,"view_count":37,"answer_count":0,"score":0,"last_activity_date":1700979381,"creation_date":1700978570,"last_edit_date":1700979381,"question_id":77550625,"body_markdown":" - I&#39;m trying to debug a java program.\r\n - It is not calling the method url2Json .\r\n - I tried printing START at the begining of function url2Json.\r\n - The START doesn&#39;t get printed.\r\n - I tried settting breakpoint inside the function url2Json using\r\n   eclipse but it doesn&#39;t hit the breakpoint.\r\n - This has something to do with the streams and map.\r\n -  The .map(RestFootballStream::url2Json) in method totgoals is where it is not calling the function url2Json.\r\n\r\nIt works when i use map(s-&gt;url2Json(s)) . What is the problem with RestFootballStream::url2Json ?\r\n\r\nTo ensure everthing is allright in the functions i tried\r\n```\r\n    for each url in list\r\n          String ret=  url2json(url);\r\n          int curgoals = goalsStream(ret);\r\n```\r\nand everything worked fine in the above code.                         \r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonObject;\r\n\r\npublic class RestFootballStream2 {\r\n\tstatic int total_pages = 1;\r\n\tstatic String actualteam;\r\n\tstatic ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n\tstatic int goalsStream(String allLines) {\r\n\t\tint goals = 0;\r\n\t\tJsonObject response = new Gson().fromJson(allLines, JsonObject.class);\r\n\r\n\t\t// total_pages = response.get(&quot;total_pages&quot;).getAsInt();\r\n\t\tJsonArray arr = response.get(&quot;data&quot;).getAsJsonArray();\r\n\t\tfor (int i = 0; (arr != null) &amp;&amp; i &lt; arr.size(); i++) {\r\n\t\t\t// System.out.println(arr);\r\n\t\t\tString team1name = arr.get(i).getAsJsonObject().get(&quot;team1&quot;).getAsString();\r\n\t\t\tString team2name = arr.get(i).getAsJsonObject().get(&quot;team2&quot;).getAsString();\r\n\t\t\tint team1goals = arr.get(i).getAsJsonObject().get(&quot;team1goals&quot;).getAsInt();\r\n\t\t\tint team2goals = arr.get(i).getAsJsonObject().get(&quot;team2goals&quot;).getAsInt();\r\n\t\t\tif (team1name.equals(actualteam))\r\n\t\t\t\tgoals += team1goals;\r\n\t\t\tif (team2name.equals(actualteam))\r\n\t\t\t\tgoals += team2goals;\r\n\t\t}\r\n\t\treturn goals;\r\n\t}\r\n\r\n\tstatic String url2Json(String url) {\r\n\t\tSystem.out.println(&quot;START&quot;);\r\n\t\tStringBuilder allLines = new StringBuilder();\r\n\t\ttry {\r\n\t\t\tURL u = new URL(url);\r\n\t\t\ttry {\r\n\t\t\t\tInputStream is = u.openConnection().getInputStream();\r\n\t\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n\t\t\t\tString line = &quot;&quot;;\r\n\t\t\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t\t\tallLines.append(line);\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn allLines.toString();\r\n\t}\r\n\r\n\tstatic void getgoals(int year) {\r\n\t\tStringBuilder allLines = new StringBuilder();\r\n\t\ttry {\r\n\t\t\tURL u = new URL(\r\n\t\t\t\t\tString.format(&quot;https://jsonmock.hackerrank.com/api/football_matches?year=%d&amp;page=%d&quot;, year, 1));\r\n\t\t\ttry {\r\n\t\t\t\tInputStream is = u.openConnection().getInputStream();\r\n\t\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n\t\t\t\tString line = &quot;&quot;;\r\n\t\t\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t\t\tallLines.append(line);\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tJsonObject response = new Gson().fromJson(allLines.toString(), JsonObject.class);\r\n\t\ttotal_pages = response.get(&quot;total_pages&quot;).getAsInt();\r\n\t\tSystem.out.println(&quot;total_pages=&quot; + total_pages);\r\n\t\tfor (int page = 1; page &lt;= total_pages; page++) {\r\n\t\t\tlist.add(String.format(&quot;https://jsonmock.hackerrank.com/api/football_matches?year=%d&amp;page=%d&quot;, year, page));\r\n\t\t}\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tstatic int totgoals(int year, String team) {\r\n\t\tactualteam = team;\r\n\t\tgetgoals(year);\r\n\r\n\t\tint t1 = 0;\r\n\t\ttry {\r\n\t\t\tt1 = list\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.map(RestFootballStream::url2Json)\r\n\t\t\t\t\t.mapToInt(RestFootballStream::goalsStream)\r\n\t\t\t\t\t.sum();\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;******EXCEPTION*****&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn t1;\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tlong start = System.currentTimeMillis();\r\n\t\t// some time passes\r\n\t\tSystem.out.println(totgoals(2011, &quot;Chelsea&quot;));\r\n\t\tlong end = System.currentTimeMillis();\r\n\t\tlong elapsedTime = end - start;\r\n\t\tSystem.out.println(elapsedTime / 1000.0);\r\n\t}\r\n\r\n}\r\n\r\n```","link":"https://stackoverflow.com/questions/77550625/map-method-not-called-when-using-streams-on-method-reference-but-works-as-lambda","title":"Map Method not called when using streams on Method reference but works as lambda","body":"<ul>\n<li>I'm trying to debug a java program.</li>\n<li>It is not calling the method url2Json .</li>\n<li>I tried printing START at the begining of function url2Json.</li>\n<li>The START doesn't get printed.</li>\n<li>I tried settting breakpoint inside the function url2Json using\neclipse but it doesn't hit the breakpoint.</li>\n<li>This has something to do with the streams and map.</li>\n<li>The .map(RestFootballStream::url2Json) in method totgoals is where it is not calling the function url2Json.</li>\n</ul>\n<p>It works when i use map(s-&gt;url2Json(s)) . What is the problem with RestFootballStream::url2Json ?</p>\n<p>To ensure everthing is allright in the functions i tried</p>\n<pre><code>    for each url in list\n          String ret=  url2json(url);\n          int curgoals = goalsStream(ret);\n</code></pre>\n<p>and everything worked fine in the above code.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.ArrayList;\n\nimport com.google.gson.Gson;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonObject;\n\npublic class RestFootballStream2 {\n    static int total_pages = 1;\n    static String actualteam;\n    static ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n    static int goalsStream(String allLines) {\n        int goals = 0;\n        JsonObject response = new Gson().fromJson(allLines, JsonObject.class);\n\n        // total_pages = response.get(&quot;total_pages&quot;).getAsInt();\n        JsonArray arr = response.get(&quot;data&quot;).getAsJsonArray();\n        for (int i = 0; (arr != null) &amp;&amp; i &lt; arr.size(); i++) {\n            // System.out.println(arr);\n            String team1name = arr.get(i).getAsJsonObject().get(&quot;team1&quot;).getAsString();\n            String team2name = arr.get(i).getAsJsonObject().get(&quot;team2&quot;).getAsString();\n            int team1goals = arr.get(i).getAsJsonObject().get(&quot;team1goals&quot;).getAsInt();\n            int team2goals = arr.get(i).getAsJsonObject().get(&quot;team2goals&quot;).getAsInt();\n            if (team1name.equals(actualteam))\n                goals += team1goals;\n            if (team2name.equals(actualteam))\n                goals += team2goals;\n        }\n        return goals;\n    }\n\n    static String url2Json(String url) {\n        System.out.println(&quot;START&quot;);\n        StringBuilder allLines = new StringBuilder();\n        try {\n            URL u = new URL(url);\n            try {\n                InputStream is = u.openConnection().getInputStream();\n                BufferedReader br = new BufferedReader(new InputStreamReader(is));\n                String line = &quot;&quot;;\n                while ((line = br.readLine()) != null) {\n                    allLines.append(line);\n                }\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        } catch (MalformedURLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        return allLines.toString();\n    }\n\n    static void getgoals(int year) {\n        StringBuilder allLines = new StringBuilder();\n        try {\n            URL u = new URL(\n                    String.format(&quot;https://jsonmock.hackerrank.com/api/football_matches?year=%d&amp;page=%d&quot;, year, 1));\n            try {\n                InputStream is = u.openConnection().getInputStream();\n                BufferedReader br = new BufferedReader(new InputStreamReader(is));\n                String line = &quot;&quot;;\n                while ((line = br.readLine()) != null) {\n                    allLines.append(line);\n                }\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        } catch (MalformedURLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        JsonObject response = new Gson().fromJson(allLines.toString(), JsonObject.class);\n        total_pages = response.get(&quot;total_pages&quot;).getAsInt();\n        System.out.println(&quot;total_pages=&quot; + total_pages);\n        for (int page = 1; page &lt;= total_pages; page++) {\n            list.add(String.format(&quot;https://jsonmock.hackerrank.com/api/football_matches?year=%d&amp;page=%d&quot;, year, page));\n        }\n\n        return;\n    }\n\n    static int totgoals(int year, String team) {\n        actualteam = team;\n        getgoals(year);\n\n        int t1 = 0;\n        try {\n            t1 = list\n                    .stream()\n                    .map(RestFootballStream::url2Json)\n                    .mapToInt(RestFootballStream::goalsStream)\n                    .sum();\n        } catch (Exception e) {\n            System.out.println(&quot;******EXCEPTION*****&quot;);\n            e.printStackTrace();\n        }\n\n        return t1;\n\n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        long start = System.currentTimeMillis();\n        // some time passes\n        System.out.println(totgoals(2011, &quot;Chelsea&quot;));\n        long end = System.currentTimeMillis();\n        long elapsedTime = end - start;\n        System.out.println(elapsedTime / 1000.0);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-data"],"comments":[{"score":0,"post_type":"question","creation_date":1700937997,"post_id":77549050,"comment_id":136714254,"body_markdown":"Could you also share your DTO where you map the result of the query ?","link":"https://stackoverflow.com/questions/77549050/spring-data-jpa-how-to-get-parent-entity-with-childentity-ids-only-instead-of-w#comment136714254_77549050","body":"Could you also share your DTO where you map the result of the query ?"},{"score":0,"post_type":"question","creation_date":1700938695,"post_id":77549050,"comment_id":136714327,"body_markdown":"in the DTO i just remove the player entity.","link":"https://stackoverflow.com/questions/77549050/spring-data-jpa-how-to-get-parent-entity-with-childentity-ids-only-instead-of-w#comment136714327_77549050","body":"in the DTO i just remove the player entity."},{"score":0,"post_type":"question","creation_date":1700994343,"post_id":77549050,"comment_id":136717950,"body_markdown":"you have got an answer to your question that I also meant to give you","link":"https://stackoverflow.com/questions/77549050/spring-data-jpa-how-to-get-parent-entity-with-childentity-ids-only-instead-of-w#comment136717950_77549050","body":"you have got an answer to your question that I also meant to give you"},{"score":0,"post_type":"question","creation_date":1701121617,"post_id":77549050,"comment_id":136733740,"body_markdown":"Yeah i saw it. Does it help with performance. The whole point, why i want to do it like this. Is, when i call 1000 ratings from an player_id. I dont to call 1000times the same player object.","link":"https://stackoverflow.com/questions/77549050/spring-data-jpa-how-to-get-parent-entity-with-childentity-ids-only-instead-of-w#comment136733740_77549050","body":"Yeah i saw it. Does it help with performance. The whole point, why i want to do it like this. Is, when i call 1000 ratings from an player_id. I dont to call 1000times the same player object."},{"score":0,"post_type":"question","creation_date":1701354636,"post_id":77549050,"comment_id":136767294,"body_markdown":"Why do you use **MapsId** in Rating class? It is used for **one-to-one** mapping.","link":"https://stackoverflow.com/questions/77549050/spring-data-jpa-how-to-get-parent-entity-with-childentity-ids-only-instead-of-w#comment136767294_77549050","body":"Why do you use <b>MapsId</b> in Rating class? It is used for <b>one-to-one</b> mapping."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701121624,"post_id":77550658,"comment_id":136733742,"body_markdown":"Does it help with performance. The whole point, why i want to do it like this. Is, when i call 1000 ratings from an player_id. I dont to call 1000times the same player object.","link":"https://stackoverflow.com/questions/77549050/spring-data-jpa-how-to-get-parent-entity-with-childentity-ids-only-instead-of-w/77550658#comment136733742_77550658","body":"Does it help with performance. The whole point, why i want to do it like this. Is, when i call 1000 ratings from an player_id. I dont to call 1000times the same player object."},{"score":0,"post_type":"answer","creation_date":1701169630,"post_id":77550658,"comment_id":136739378,"body_markdown":"I dont get your point. Here playerID is foreign key in Rating table. So this query will only run on rating table, not player table.","link":"https://stackoverflow.com/questions/77549050/spring-data-jpa-how-to-get-parent-entity-with-childentity-ids-only-instead-of-w/77550658#comment136739378_77550658","body":"I dont get your point. Here playerID is foreign key in Rating table. So this query will only run on rating table, not player table."}],"comment_count":2,"score":0,"last_activity_date":1700979072,"creation_date":1700979072,"answer_id":77550658,"question_id":77549050,"body_markdown":"You can use a custom query or projection in Spring Data JPA. One way to achieve this is by using a DTO (Data Transfer Object) projection to retrieve only the necessary information.\r\n\r\n```\r\npublic class RatingDTO {\r\n    private Long playerId;\r\n    private float points;\r\n    private Long startDate;\r\n    private Long endDate;\r\n    private Status status;\r\n\r\n    // Constructor, getters, and setters\r\n}\r\n```\r\n\r\n```\r\n@Repository\r\npublic interface RatingRepository extends JpaRepository&lt;Rating, RatingId&gt; {\r\n\r\n    @Query(&quot;SELECT new com.example.dto.RatingDTO(r.player.id, r.points, r.startDate, r.endDate, r.status) FROM Rating r WHERE r.player.id = :playerId&quot;)\r\n    List&lt;RatingDTO&gt; findAllByPlayerId(Long playerId);\r\n}\r\n```\r\n\r\nNow, when you call `findAllByPlayerId` method, it will return a list of `RatingDTO` objects containing only the necessary information without fetching the complete `Player` entity.\r\n\r\nRemember to adjust the package name `(com.example.dto)` according to your project structure. Additionally, you may need to handle null values for optional associations, such as platform in the Rating entity, if they are nullable in the database.","link":"https://stackoverflow.com/questions/77549050/spring-data-jpa-how-to-get-parent-entity-with-childentity-ids-only-instead-of-w/77550658#77550658","title":"Spring Data JPA: How to get parent entity with childentity Ids only instead of whole child entity","body":"<p>You can use a custom query or projection in Spring Data JPA. One way to achieve this is by using a DTO (Data Transfer Object) projection to retrieve only the necessary information.</p>\n<pre><code>public class RatingDTO {\n    private Long playerId;\n    private float points;\n    private Long startDate;\n    private Long endDate;\n    private Status status;\n\n    // Constructor, getters, and setters\n}\n</code></pre>\n<pre><code>@Repository\npublic interface RatingRepository extends JpaRepository&lt;Rating, RatingId&gt; {\n\n    @Query(&quot;SELECT new com.example.dto.RatingDTO(r.player.id, r.points, r.startDate, r.endDate, r.status) FROM Rating r WHERE r.player.id = :playerId&quot;)\n    List&lt;RatingDTO&gt; findAllByPlayerId(Long playerId);\n}\n</code></pre>\n<p>Now, when you call <code>findAllByPlayerId</code> method, it will return a list of <code>RatingDTO</code> objects containing only the necessary information without fetching the complete <code>Player</code> entity.</p>\n<p>Remember to adjust the package name <code>(com.example.dto)</code> according to your project structure. Additionally, you may need to handle null values for optional associations, such as platform in the Rating entity, if they are nullable in the database.</p>\n"}],"comment_count":5,"is_answered":false,"view_count":70,"answer_count":1,"score":0,"last_activity_date":1700979072,"creation_date":1700936015,"last_edit_date":1700938023,"question_id":77549050,"body_markdown":"I have a Spring Data JPA setup with entities Player and Rating. In my use case, I want to retrieve all ratings for a specific user by their ID. However, I don&#39;t want to fetch the complete User entity for each rating; instead, I only need the user ID for example or nothing, similar to how it&#39;s stored in the database.\r\n\r\nIs there a way to achieve this in Spring Data JPA, perhaps through a custom query or projection, to optimize the performance by avoiding the unnecessary loading of the complete User entity for each rating?\r\n\r\nIs there an optimized way? At the moment it just maps to DTOs after the call, i think it&#39;s not well optimize.\r\n\r\n**Entities**\r\n\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Rating {\r\n\r\n    @EmbeddedId\r\n    private RatingId ratingId;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;playerId&quot;)\r\n    @NotNull\r\n    private Player player;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;gameId&quot;)\r\n    @NotNull\r\n    private Game game;\r\n\r\n    private float points;\r\n\r\n    @ManyToOne\r\n    private Platform platform;\r\n\r\n    private Long startDate;\r\n\r\n    private Long endDate;\r\n\r\n    private Status status;\r\n\r\n    public Rating(Player player, Game game) {\r\n        this.ratingId = new RatingId(player.getId(), game.getId());\r\n        this.player = player;\r\n        this.game = game;\r\n    }\r\n}\r\n\r\n@Entity\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Player {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Setter(AccessLevel.NONE)\r\n    @Column(updatable = false)\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    @Size(max = 20)\r\n    @Column(unique = true)\r\n    private String username;\r\n\r\n    @NotBlank\r\n    @Size(max = 50)\r\n    @Email\r\n    @Column(unique = true)\r\n    private String email;\r\n\r\n    @NotBlank\r\n    @Size(max = 120)\r\n    private String password;\r\n\r\n    @EqualsAndHashCode.Exclude\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n    public Player(String username, String email, String password) {\r\n        this.username = username;\r\n        this.email = email;\r\n        this.password = password;\r\n    }\r\n\r\n}\r\n\r\n@Embeddable\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class RatingId implements Serializable {\r\n\r\n    private Long playerId;\r\n    private Long gameId;\r\n}\r\n```\r\n\r\n**Repository**\r\n\r\n```\r\n@Repository\r\npublic interface RatingRepository extends JpaRepository&lt;Rating, RatingId&gt; {\r\n    List&lt;Rating&gt; findAllByPlayerId(Long playerId);\r\n}\r\n```\r\n\r\nWhen i do it directly in the database:\r\n```\r\ndatabase=# select * from rating where rating.player_id = 1;\r\n\r\n end_date | points | start_date | status | player_id | game_id | platform_id\r\n----------+--------+------------+--------+-----------+---------+-------------\r\n          |    1.5 |            |      0 |         1 |    9174 |           6\r\n```","link":"https://stackoverflow.com/questions/77549050/spring-data-jpa-how-to-get-parent-entity-with-childentity-ids-only-instead-of-w","title":"Spring Data JPA: How to get parent entity with childentity Ids only instead of whole child entity","body":"<p>I have a Spring Data JPA setup with entities Player and Rating. In my use case, I want to retrieve all ratings for a specific user by their ID. However, I don't want to fetch the complete User entity for each rating; instead, I only need the user ID for example or nothing, similar to how it's stored in the database.</p>\n<p>Is there a way to achieve this in Spring Data JPA, perhaps through a custom query or projection, to optimize the performance by avoiding the unnecessary loading of the complete User entity for each rating?</p>\n<p>Is there an optimized way? At the moment it just maps to DTOs after the call, i think it's not well optimize.</p>\n<p><strong>Entities</strong></p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Rating {\n\n    @EmbeddedId\n    private RatingId ratingId;\n\n    @ManyToOne\n    @MapsId(&quot;playerId&quot;)\n    @NotNull\n    private Player player;\n\n    @ManyToOne\n    @MapsId(&quot;gameId&quot;)\n    @NotNull\n    private Game game;\n\n    private float points;\n\n    @ManyToOne\n    private Platform platform;\n\n    private Long startDate;\n\n    private Long endDate;\n\n    private Status status;\n\n    public Rating(Player player, Game game) {\n        this.ratingId = new RatingId(player.getId(), game.getId());\n        this.player = player;\n        this.game = game;\n    }\n}\n\n@Entity\n@EqualsAndHashCode\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Player {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Setter(AccessLevel.NONE)\n    @Column(updatable = false)\n    private Long id;\n\n    @NotBlank\n    @Size(max = 20)\n    @Column(unique = true)\n    private String username;\n\n    @NotBlank\n    @Size(max = 50)\n    @Email\n    @Column(unique = true)\n    private String email;\n\n    @NotBlank\n    @Size(max = 120)\n    private String password;\n\n    @EqualsAndHashCode.Exclude\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    public Player(String username, String email, String password) {\n        this.username = username;\n        this.email = email;\n        this.password = password;\n    }\n\n}\n\n@Embeddable\n@NoArgsConstructor\n@AllArgsConstructor\npublic class RatingId implements Serializable {\n\n    private Long playerId;\n    private Long gameId;\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>@Repository\npublic interface RatingRepository extends JpaRepository&lt;Rating, RatingId&gt; {\n    List&lt;Rating&gt; findAllByPlayerId(Long playerId);\n}\n</code></pre>\n<p>When i do it directly in the database:</p>\n<pre><code>database=# select * from rating where rating.player_id = 1;\n\n end_date | points | start_date | status | player_id | game_id | platform_id\n----------+--------+------------+--------+-----------+---------+-------------\n          |    1.5 |            |      0 |         1 |    9174 |           6\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jackson","openfeign"],"comment_count":0,"is_answered":false,"view_count":28,"answer_count":0,"score":0,"last_activity_date":1700978758,"creation_date":1700978758,"question_id":77550639,"body_markdown":"I have custompage class as follows\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode(callSuper = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class DashboardResponseModel&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n\r\n  private Integer count;\r\n  private Integer totalCount;\r\n\r\n  public DashboardResponseModel(List&lt;T&gt; content, Pageable pageable, Long total) {\r\n    super(content, pageable, total);\r\n  }\r\n\r\n  public DashboardResponseModel(List&lt;T&gt; content) {\r\n    super(content);\r\n  }\r\n\r\n  public DashboardResponseModel(List&lt;T&gt; content, Pageable pageable, Long total, Integer count,\r\n      Integer totalCount) {\r\n    super(content, pageable, total);\r\n    this.count = count;\r\n    this.totalCount = totalCount;\r\n  }\r\n\r\n  public DashboardResponseModel(List&lt;T&gt; content, Integer count, Integer totalCount) {\r\n    super(content);\r\n    this.count = count;\r\n    this.totalCount = totalCount;\r\n  }\r\n```\r\n\r\nBelow is Fiegn configuration:\r\n\r\n```\r\npublic class OKHTTPWithFeignClientConfiguration {\r\n  @Value(&quot;${spring.application.name}&quot;)\r\n  private String appName;\r\n\r\n  @Bean\r\n  public Contract feignContract() {\r\n    return new SpringMvcContract();\r\n  }\r\n\r\n  @Bean\r\n  public RequestInterceptor requestStartInterceptor() {\r\n    return new FeignRequestStartLoggerInterceptor();\r\n  }\r\n\r\n  @Bean\r\n  public RequestInterceptor requestTrackerInterceptor() {\r\n    return new FeignRequestTrackerInterceptor();\r\n  }\r\n\r\n  @Bean\r\n  public RequestInterceptor userAgentInterceptor(@Autowired Client client) {\r\n    return new FeignUserAgentInterceptor(appName, client.getClass().getPackageName());\r\n  }\r\n\r\n  @Bean\r\n  public ResponseInterceptor requestEndInterceptor() {\r\n    return new FeignRequestEndLoggerInterceptor();\r\n  }\r\n\r\n  @Bean\r\n  public OkHttpClient client() {\r\n    return new OkHttpClient();\r\n  }\r\n\r\n  @Bean\r\n  public Encoder encoder() {\r\n    return new JacksonEncoder(objectMapper());\r\n  }\r\n\r\n  @Bean\r\n  public Decoder decoder() {\r\n    return new JacksonDecoder(objectMapper());\r\n  }\r\n\r\n  private ObjectMapper objectMapper() {\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.registerModule(new PageJacksonModule());\r\n    objectMapper.registerModule(new SortJacksonModule());\r\n    return objectMapper;\r\n  }\r\n```\r\n\r\nI&#39;m using Fiegn client to call other application and in response, I&#39;m getting ```DashboardResponseModel``` but fiegn client is not able to deserialize the response.\r\n\r\nBelow is the error:\r\n\r\n&gt; Failed to narrow type [simple type, class com.abc.xyz.dashboard.model.DashboardResponseModel&lt;com.abc.xyz.dashboard.model.EmployeeMissingInformationModel&gt;] with annotation (value org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl), from &#39;com.abc.xxyz.dashboard.model.DashboardResponseModel&#39;: Class `org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl` not subtype of `com.abc.xyz.dashboard.model.DashboardResponseModel&lt;com.abc.xyz.dashboard.model.EmployeeMissingInformationModel&gt;` reading PUT http://127.0.0.1:8312/v1.0/customer/32/registered-entity/7437/dashboard/missing-information/details?size=6&amp;page=0\r\n\r\n**Is there any additional configuration needed for DashboardResponseModel to deserialize?**","link":"https://stackoverflow.com/questions/77550639/custompage-class-deserialization-is-not-working-with-fiegn-client","title":"CustomPage class deserialization is not working with fiegn client","body":"<p>I have custompage class as follows</p>\n<pre><code>@Getter\n@Setter\n@EqualsAndHashCode(callSuper = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class DashboardResponseModel&lt;T&gt; extends PageImpl&lt;T&gt; {\n\n  private Integer count;\n  private Integer totalCount;\n\n  public DashboardResponseModel(List&lt;T&gt; content, Pageable pageable, Long total) {\n    super(content, pageable, total);\n  }\n\n  public DashboardResponseModel(List&lt;T&gt; content) {\n    super(content);\n  }\n\n  public DashboardResponseModel(List&lt;T&gt; content, Pageable pageable, Long total, Integer count,\n      Integer totalCount) {\n    super(content, pageable, total);\n    this.count = count;\n    this.totalCount = totalCount;\n  }\n\n  public DashboardResponseModel(List&lt;T&gt; content, Integer count, Integer totalCount) {\n    super(content);\n    this.count = count;\n    this.totalCount = totalCount;\n  }\n</code></pre>\n<p>Below is Fiegn configuration:</p>\n<pre><code>public class OKHTTPWithFeignClientConfiguration {\n  @Value(&quot;${spring.application.name}&quot;)\n  private String appName;\n\n  @Bean\n  public Contract feignContract() {\n    return new SpringMvcContract();\n  }\n\n  @Bean\n  public RequestInterceptor requestStartInterceptor() {\n    return new FeignRequestStartLoggerInterceptor();\n  }\n\n  @Bean\n  public RequestInterceptor requestTrackerInterceptor() {\n    return new FeignRequestTrackerInterceptor();\n  }\n\n  @Bean\n  public RequestInterceptor userAgentInterceptor(@Autowired Client client) {\n    return new FeignUserAgentInterceptor(appName, client.getClass().getPackageName());\n  }\n\n  @Bean\n  public ResponseInterceptor requestEndInterceptor() {\n    return new FeignRequestEndLoggerInterceptor();\n  }\n\n  @Bean\n  public OkHttpClient client() {\n    return new OkHttpClient();\n  }\n\n  @Bean\n  public Encoder encoder() {\n    return new JacksonEncoder(objectMapper());\n  }\n\n  @Bean\n  public Decoder decoder() {\n    return new JacksonDecoder(objectMapper());\n  }\n\n  private ObjectMapper objectMapper() {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.registerModule(new PageJacksonModule());\n    objectMapper.registerModule(new SortJacksonModule());\n    return objectMapper;\n  }\n</code></pre>\n<p>I'm using Fiegn client to call other application and in response, I'm getting <code>DashboardResponseModel</code> but fiegn client is not able to deserialize the response.</p>\n<p>Below is the error:</p>\n<blockquote>\n<p>Failed to narrow type [simple type, class com.abc.xyz.dashboard.model.DashboardResponseModel&lt;com.abc.xyz.dashboard.model.EmployeeMissingInformationModel&gt;] with annotation (value org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl), from 'com.abc.xxyz.dashboard.model.DashboardResponseModel': Class <code>org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl</code> not subtype of <code>com.abc.xyz.dashboard.model.DashboardResponseModel&lt;com.abc.xyz.dashboard.model.EmployeeMissingInformationModel&gt;</code> reading PUT <a href=\"http://127.0.0.1:8312/v1.0/customer/32/registered-entity/7437/dashboard/missing-information/details?size=6&amp;page=0\" rel=\"nofollow noreferrer\">http://127.0.0.1:8312/v1.0/customer/32/registered-entity/7437/dashboard/missing-information/details?size=6&amp;page=0</a></p>\n</blockquote>\n<p><strong>Is there any additional configuration needed for DashboardResponseModel to deserialize?</strong></p>\n"},{"tags":["java","swing","gridbaglayout"],"comments":[{"score":0,"post_type":"question","creation_date":1684496395,"post_id":76278745,"comment_id":134529419,"body_markdown":"[How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html)","link":"https://stackoverflow.com/questions/76278745/gridbaglayout-why-is-my-femaleradiobutton-cant-be-visible#comment134529419_76278745","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a>"}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1700978668,"creation_date":1700978668,"answer_id":77550632,"question_id":76278745,"body_markdown":"&gt; &quot;But when I set gbc.width = 1 instead of gbc.width = 2 for scrollPane, the femaleRadioButton will appear.&quot;\r\n\r\nIts not like you create a new `GridBagConstraint` each time, if you set a certain value once, it just stays the same unless you change it. So the way to solve this is simply by setting `gbc.width = 2`.","link":"https://stackoverflow.com/questions/76278745/gridbaglayout-why-is-my-femaleradiobutton-cant-be-visible/77550632#77550632","title":"GridBagLayout: Why is my femaleRadioButton can&#39;t be visible?","body":"<blockquote>\n<p>&quot;But when I set gbc.width = 1 instead of gbc.width = 2 for scrollPane, the femaleRadioButton will appear.&quot;</p>\n</blockquote>\n<p>Its not like you create a new <code>GridBagConstraint</code> each time, if you set a certain value once, it just stays the same unless you change it. So the way to solve this is simply by setting <code>gbc.width = 2</code>.</p>\n"}],"comment_count":1,"is_answered":true,"view_count":49,"answer_count":1,"score":0,"last_activity_date":1700978668,"creation_date":1684395922,"last_edit_date":1684396442,"question_id":76278745,"body_markdown":"I used GridBagLayout to build a frame for my Swing Student form. This is my code:\r\n```\r\npackage layout;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class Student extends JFrame implements ActionListener {\r\n    private JPanel panel;\r\n\r\n    private JLabel titleLabel, nameLabel, ageLabel, addressLabel, genderLabel, courseLabel, timeslotLabel;\r\n\r\n    private JTextField nameField, ageField;\r\n\r\n    private JTextArea addressArea;\r\n\r\n    private JRadioButton maleRadioButton, femaleRadioButton;\r\n\r\n    private JComboBox coursesComboBox;\r\n\r\n    public Student() {\r\n        setTitle(&quot;Đăng k&#253;&quot;);\r\n        setSize(500, 600);\r\n        setResizable(false);\r\n\r\n        titleLabel = new JLabel(&quot;Th&#244;ng tin sinh vi&#234;n&quot;);\r\n        titleLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 18));\r\n        titleLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\r\n        nameLabel = new JLabel(&quot;Họ v&#224; t&#234;n&quot;);\r\n        nameField = new JTextField(30);\r\n\r\n        ageLabel = new JLabel(&quot;Tuổi&quot;);\r\n        ageField = new JTextField(30);\r\n\r\n        addressLabel = new JLabel(&quot;Địa chỉ&quot;);\r\n        addressArea = new JTextArea(3, 20);\r\n        addressArea.setLineWrap(true);\r\n        addressArea.setWrapStyleWord(true);\r\n\r\n        JScrollPane scrollPane = new JScrollPane(addressArea);\r\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n\r\n        genderLabel = new JLabel(&quot;Giới t&#237;nh&quot;);\r\n        maleRadioButton = new JRadioButton(&quot;Nam&quot;);\r\n        femaleRadioButton = new JRadioButton(&quot;Nữ&quot;);\r\n        ButtonGroup genderGroup = new ButtonGroup();\r\n        genderGroup.add(maleRadioButton);\r\n        genderGroup.add(femaleRadioButton);\r\n\r\n        courseLabel = new JLabel(&quot;Kh&#243;a học&quot;);\r\n        String[] courses = {&quot;Web Application Developer&quot;, &quot;Database Administrator&quot;, &quot;Network Administrator&quot;, &quot;Windows Application Developer&quot;};\r\n        coursesComboBox = new JComboBox&lt;&gt;(courses);\r\n\r\n        panel = new JPanel(new GridBagLayout());\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.fill = GridBagConstraints.HORIZONTAL;\r\n        gbc.insets = new Insets(10, 10, 10, 10);\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        gbc.gridwidth = 3;\r\n        panel.add(titleLabel, gbc);\r\n\r\n        gbc.gridwidth = 1;\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1;\r\n        panel.add(nameLabel, gbc);\r\n\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 1;\r\n        gbc.gridwidth = 2;\r\n        panel.add(nameField, gbc);\r\n\r\n        gbc.gridwidth = 1;\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 2;\r\n        panel.add(ageLabel, gbc);\r\n\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 2;\r\n        gbc.gridwidth = 2;\r\n        panel.add(ageField, gbc);\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 3;\r\n        panel.add(addressLabel, gbc);\r\n\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 3;\r\n        gbc.gridwidth = 2;\r\n        panel.add(scrollPane, gbc);\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 4;\r\n        panel.add(genderLabel, gbc);\r\n\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 4;\r\n        panel.add(maleRadioButton, gbc);\r\n\r\n        gbc.gridx = 2;\r\n        gbc.gridy = 4;\r\n        panel.add(femaleRadioButton, gbc);\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 5;\r\n        gbc.gridwidth = 1;\r\n        panel.add(courseLabel, gbc);\r\n\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 5;\r\n        gbc.gridwidth = 2;\r\n        panel.add(coursesComboBox, gbc);\r\n\r\n        add(panel);\r\n\r\n        setVisible(true);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Student();\r\n    }\r\n}\r\n```\r\nAnd the result:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mrEbW.png\r\n\r\nI do not understand why the femaleRadioButton is lost. \r\nBut when I set `gbc.width = 1` instead of `gbc.width = 2` for scrollPane, the femaleRadioButton will appear.\r\nWhy is this?","link":"https://stackoverflow.com/questions/76278745/gridbaglayout-why-is-my-femaleradiobutton-cant-be-visible","title":"GridBagLayout: Why is my femaleRadioButton can&#39;t be visible?","body":"<p>I used GridBagLayout to build a frame for my Swing Student form. This is my code:</p>\n<pre><code>package layout;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class Student extends JFrame implements ActionListener {\n    private JPanel panel;\n\n    private JLabel titleLabel, nameLabel, ageLabel, addressLabel, genderLabel, courseLabel, timeslotLabel;\n\n    private JTextField nameField, ageField;\n\n    private JTextArea addressArea;\n\n    private JRadioButton maleRadioButton, femaleRadioButton;\n\n    private JComboBox coursesComboBox;\n\n    public Student() {\n        setTitle(&quot;Đăng ký&quot;);\n        setSize(500, 600);\n        setResizable(false);\n\n        titleLabel = new JLabel(&quot;Thông tin sinh viên&quot;);\n        titleLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 18));\n        titleLabel.setHorizontalAlignment(SwingConstants.CENTER);\n\n        nameLabel = new JLabel(&quot;Họ và tên&quot;);\n        nameField = new JTextField(30);\n\n        ageLabel = new JLabel(&quot;Tuổi&quot;);\n        ageField = new JTextField(30);\n\n        addressLabel = new JLabel(&quot;Địa chỉ&quot;);\n        addressArea = new JTextArea(3, 20);\n        addressArea.setLineWrap(true);\n        addressArea.setWrapStyleWord(true);\n\n        JScrollPane scrollPane = new JScrollPane(addressArea);\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n\n        genderLabel = new JLabel(&quot;Giới tính&quot;);\n        maleRadioButton = new JRadioButton(&quot;Nam&quot;);\n        femaleRadioButton = new JRadioButton(&quot;Nữ&quot;);\n        ButtonGroup genderGroup = new ButtonGroup();\n        genderGroup.add(maleRadioButton);\n        genderGroup.add(femaleRadioButton);\n\n        courseLabel = new JLabel(&quot;Khóa học&quot;);\n        String[] courses = {&quot;Web Application Developer&quot;, &quot;Database Administrator&quot;, &quot;Network Administrator&quot;, &quot;Windows Application Developer&quot;};\n        coursesComboBox = new JComboBox&lt;&gt;(courses);\n\n        panel = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.insets = new Insets(10, 10, 10, 10);\n\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.gridwidth = 3;\n        panel.add(titleLabel, gbc);\n\n        gbc.gridwidth = 1;\n        gbc.gridx = 0;\n        gbc.gridy = 1;\n        panel.add(nameLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 1;\n        gbc.gridwidth = 2;\n        panel.add(nameField, gbc);\n\n        gbc.gridwidth = 1;\n        gbc.gridx = 0;\n        gbc.gridy = 2;\n        panel.add(ageLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 2;\n        gbc.gridwidth = 2;\n        panel.add(ageField, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 3;\n        panel.add(addressLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 3;\n        gbc.gridwidth = 2;\n        panel.add(scrollPane, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 4;\n        panel.add(genderLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 4;\n        panel.add(maleRadioButton, gbc);\n\n        gbc.gridx = 2;\n        gbc.gridy = 4;\n        panel.add(femaleRadioButton, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 5;\n        gbc.gridwidth = 1;\n        panel.add(courseLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 5;\n        gbc.gridwidth = 2;\n        panel.add(coursesComboBox, gbc);\n\n        add(panel);\n\n        setVisible(true);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n    }\n\n    public static void main(String[] args) {\n        new Student();\n    }\n}\n</code></pre>\n<p>And the result:</p>\n<p><img src=\"https://i.stack.imgur.com/mrEbW.png\" alt=\"enter image description here\" /></p>\n<p>I do not understand why the femaleRadioButton is lost.\nBut when I set <code>gbc.width = 1</code> instead of <code>gbc.width = 2</code> for scrollPane, the femaleRadioButton will appear.\nWhy is this?</p>\n"},{"tags":["java","spring-boot","exception"],"comments":[{"score":1,"post_type":"question","creation_date":1700942938,"post_id":77549335,"comment_id":136714723,"body_markdown":"@RomanC what exactly do you not understand when I mention that my code is getting ignored? This is the problem. Please read again!","link":"https://stackoverflow.com/questions/77549335/not-able-to-customitze-accessdeniedexception#comment136714723_77549335","body":"@RomanC what exactly do you not understand when I mention that my code is getting ignored? This is the problem. Please read again!"},{"score":1,"post_type":"question","creation_date":1700978067,"post_id":77549335,"comment_id":136716850,"body_markdown":"I&#39;d set an exception breakpoint on `AccessDeniedException` to see where it is thrown, and which exception handlers are on the stack at this point in time. That said, I think you&#39;re on the right track telling Spring Security about handling that exception rather than using an RestControllerAdvice, because the rest controller (and therefore it&#39;s advice) shouldn&#39;t be invoked if Spring Security denies access to that URL.","link":"https://stackoverflow.com/questions/77549335/not-able-to-customitze-accessdeniedexception#comment136716850_77549335","body":"I&#39;d set an exception breakpoint on <code>AccessDeniedException</code> to see where it is thrown, and which exception handlers are on the stack at this point in time. That said, I think you&#39;re on the right track telling Spring Security about handling that exception rather than using an RestControllerAdvice, because the rest controller (and therefore it&#39;s advice) shouldn&#39;t be invoked if Spring Security denies access to that URL."},{"score":0,"post_type":"question","creation_date":1700990497,"post_id":77549335,"comment_id":136717640,"body_markdown":"@xRay What do I read? You didn&#39;t explain your problem. Your question is a mistery of `AccedsDeniedException` which you can&#39;t handle? What did you try? *Read this*: Checked exception thrown when a file system operation is denied, typically due to a file permission or other access check.\nThis exception is not related to the `AccessControlException` or `SecurityException` thrown by access controllers or security managers when access to a file is denied.","link":"https://stackoverflow.com/questions/77549335/not-able-to-customitze-accessdeniedexception#comment136717640_77549335","body":"@xRay What do I read? You didn&#39;t explain your problem. Your question is a mistery of <code>AccedsDeniedException</code> which you can&#39;t handle? What did you try? <i>Read this</i>: Checked exception thrown when a file system operation is denied, typically due to a file permission or other access check. This exception is not related to the <code>AccessControlException</code> or <code>SecurityException</code> thrown by access controllers or security managers when access to a file is denied."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701003267,"post_id":77550557,"comment_id":136718743,"body_markdown":"Thanks for your answer! I tried the same but when I debug, I see that the method `handleAccessDeniedException()` is not getting invoked.","link":"https://stackoverflow.com/questions/77549335/not-able-to-customitze-accessdeniedexception/77550557#comment136718743_77550557","body":"Thanks for your answer! I tried the same but when I debug, I see that the method <code>handleAccessDeniedException()</code> is not getting invoked."},{"score":0,"post_type":"answer","creation_date":1701064087,"post_id":77550557,"comment_id":136724023,"body_markdown":"In that case, I think the exception is not thrown from your controller.  So actually you need to catch it from filterchain. `http.exceptionHandling( accessDeniedHandler(new CustomAccessDeniedHandler())`  \nAlso you can try removing other filter so that you can check these are not overriding the issue\n`http.httpBasic(withDefaults());\n    http.oauth2Login(withDefaults());\n    http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);`","link":"https://stackoverflow.com/questions/77549335/not-able-to-customitze-accessdeniedexception/77550557#comment136724023_77550557","body":"In that case, I think the exception is not thrown from your controller.  So actually you need to catch it from filterchain. <code>http.exceptionHandling( accessDeniedHandler(new CustomAccessDeniedHandler())</code>   Also you can try removing other filter so that you can check these are not overriding the issue <code>http.httpBasic(withDefaults());     http.oauth2Login(withDefaults());     http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);</code>"}],"comment_count":2,"score":0,"last_activity_date":1700976338,"creation_date":1700976338,"answer_id":77550557,"question_id":77549335,"body_markdown":"The issue here is that `AccessDeniedException` is not a subclass of `Exception`, and therefore, your `@ExceptionHandler` for Exception won&#39;t catch it directly. Spring Security&#39;s `AccessDeniedException` is a specialization of `RuntimeException`.\r\n\r\nTo handle `AccessDeniedException`, you need to specifically include it in the `@ExceptionHandler`. You can do this by adding a separate method for handling `AccessDeniedException` \r\n\r\n```\r\n@RestControllerAdvice\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class RestExceptionHandler {\r\n\r\n    @ExceptionHandler({IllegalArgumentException.class, PSQLException.class, ExpiredJwtException.class, MalformedJwtException.class, SignatureException.class})\r\n    private ResponseEntity&lt;Object&gt; handleOtherExceptions(Exception exception) {\r\n        // Your existing logic for handling other exceptions\r\n    }\r\n\r\n    @ExceptionHandler(AccessDeniedException.class)\r\n    private ResponseEntity&lt;Object&gt; handleAccessDeniedException(AccessDeniedException exception) {\r\n        HttpStatus status = HttpStatus.UNAUTHORIZED;\r\n        List&lt;String&gt; errorList = Collections.singletonList(&quot;Access Denied&quot;);\r\n\r\n        Response response = Response.builder()\r\n                .code(status.name())\r\n                .status(status)\r\n                .timestamp(LocalDateTime.now())\r\n                .messages(errorList)\r\n                .build();\r\n\r\n        return ResponseEntity.status(status).body(response);\r\n    }\r\n}\r\n\r\n```","link":"https://stackoverflow.com/questions/77549335/not-able-to-customitze-accessdeniedexception/77550557#77550557","title":"Not able to customitze AccessDeniedException","body":"<p>The issue here is that <code>AccessDeniedException</code> is not a subclass of <code>Exception</code>, and therefore, your <code>@ExceptionHandler</code> for Exception won't catch it directly. Spring Security's <code>AccessDeniedException</code> is a specialization of <code>RuntimeException</code>.</p>\n<p>To handle <code>AccessDeniedException</code>, you need to specifically include it in the <code>@ExceptionHandler</code>. You can do this by adding a separate method for handling <code>AccessDeniedException</code></p>\n<pre><code>@RestControllerAdvice\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class RestExceptionHandler {\n\n    @ExceptionHandler({IllegalArgumentException.class, PSQLException.class, ExpiredJwtException.class, MalformedJwtException.class, SignatureException.class})\n    private ResponseEntity&lt;Object&gt; handleOtherExceptions(Exception exception) {\n        // Your existing logic for handling other exceptions\n    }\n\n    @ExceptionHandler(AccessDeniedException.class)\n    private ResponseEntity&lt;Object&gt; handleAccessDeniedException(AccessDeniedException exception) {\n        HttpStatus status = HttpStatus.UNAUTHORIZED;\n        List&lt;String&gt; errorList = Collections.singletonList(&quot;Access Denied&quot;);\n\n        Response response = Response.builder()\n                .code(status.name())\n                .status(status)\n                .timestamp(LocalDateTime.now())\n                .messages(errorList)\n                .build();\n\n        return ResponseEntity.status(status).body(response);\n    }\n}\n\n</code></pre>\n"}],"comment_count":3,"is_answered":false,"view_count":76,"answer_count":1,"score":3,"last_activity_date":1700976338,"creation_date":1700940697,"question_id":77549335,"body_markdown":"I get the exception `org.springframework.security.access.AccessDeniedException: Access Denied` but I would like to have my own custom exception.\r\n\r\nThis is what I have tried:\r\n\r\n```java\r\npackage com.example.dq.exception;\r\n\r\n@RestControllerAdvice\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class RestExceptionHandler {\r\n\r\n    @ExceptionHandler({IllegalArgumentException.class, PSQLException.class, ExpiredJwtException.class, MalformedJwtException.class, SignatureException.class, AccessDeniedException.class})\r\n    private ResponseEntity&lt;Object&gt; handleExceptions(Exception exception) {\r\n        HttpStatus status;\r\n        List&lt;String&gt; errorList = new ArrayList&lt;&gt;();\r\n        System.out.println(&quot;Caught exception of type: &quot; + exception.getClass().getName());\r\n\r\n        switch (exception.getClass().getName()) {\r\n            case &quot;org.springframework.security.access.AccessDeniedException&quot; -&gt; {\r\n                status = HttpStatus.UNAUTHORIZED;\r\n                errorList.add(&quot;Access Denied&quot;);\r\n            }\r\n            case &quot;io.jsonwebtoken.security.SignatureException&quot; -&gt; {\r\n                status = HttpStatus.UNAUTHORIZED;\r\n                errorList.add(&quot;Invalid Token&quot;);\r\n            }\r\n            case &quot;java.lang.IllegalArgumentException&quot; -&gt; {\r\n                status = HttpStatus.BAD_REQUEST;\r\n                errorList.add(exception.getMessage());\r\n            }\r\n            case &quot;org.postgresql.util.PSQLException&quot; -&gt; {\r\n                status = HttpStatus.INTERNAL_SERVER_ERROR;\r\n                errorList.add(exception.getMessage());\r\n            }\r\n            case &quot;io.jsonwebtoken.ExpiredJwtException&quot; -&gt; {\r\n                status = HttpStatus.UNAUTHORIZED;\r\n                errorList.add(&quot;Token has expired.&quot;);\r\n            }\r\n            case &quot;io.jsonwebtoken.MalformedJwtException&quot; -&gt; {\r\n                status = HttpStatus.BAD_REQUEST;\r\n                errorList.add(&quot;Malformed token.&quot;);\r\n            }\r\n            default -&gt; {\r\n                status = HttpStatus.INTERNAL_SERVER_ERROR;\r\n                errorList.add(&quot;An unexpected error occurred.&quot;);\r\n                System.out.println(&quot;Unhandled exception of type: &quot; + exception.getClass().getName());\r\n            }\r\n        }\r\n\r\n        Response response = Response.builder()\r\n                .code(status.name())\r\n                .status(status)\r\n                .timestamp(LocalDateTime.now())\r\n                .messages(errorList)\r\n                .build();\r\n\r\n        return ResponseEntity.status(status).body(response);\r\n    }\r\n}\r\n```\r\nThis works for all exceptions but not for `org.springframework.security.access.AccessDeniedException`. In case I receive this exception, `handleExceptions()` will not even be invoked. \r\n\r\nSince that didn&#39;t work, I tried it through a different way, which is:\r\n\r\n```java\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.csrf(AbstractHttpConfigurer::disable);\r\n\r\n    http.sessionManagement(sess -&gt; sess.sessionAuthenticationStrategy(sessionAuthenticationStrategy()));\r\n\r\n    // Authorization\r\n    http.authorizeHttpRequests(auth -&gt;\r\n            auth\r\n                    .requestMatchers(&quot;/&quot;, &quot;/api/auth/oauth&quot;, &quot;/api/user-profile/**&quot;).authenticated()\r\n                    .requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;, &quot;/logout&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n    );\r\n\r\n    http.httpBasic(withDefaults());\r\n\r\n    http.exceptionHandling(e -&gt; e.accessDeniedHandler(new CustomAccessDeniedHandler())); // &lt;--\r\n\r\n    http.oauth2Login(withDefaults());\r\n    http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n    return http.build();\r\n}\r\n```\r\n```java\r\npublic class CustomAccessDeniedHandler implements AccessDeniedHandler {\r\n    @Override\r\n    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\r\n        System.out.println(&quot;Yayyy, I&#39;ve been found!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHowever, both of them do not work. My code is getting ignored.","link":"https://stackoverflow.com/questions/77549335/not-able-to-customitze-accessdeniedexception","title":"Not able to customitze AccessDeniedException","body":"<p>I get the exception <code>org.springframework.security.access.AccessDeniedException: Access Denied</code> but I would like to have my own custom exception.</p>\n<p>This is what I have tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.dq.exception;\n\n@RestControllerAdvice\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class RestExceptionHandler {\n\n    @ExceptionHandler({IllegalArgumentException.class, PSQLException.class, ExpiredJwtException.class, MalformedJwtException.class, SignatureException.class, AccessDeniedException.class})\n    private ResponseEntity&lt;Object&gt; handleExceptions(Exception exception) {\n        HttpStatus status;\n        List&lt;String&gt; errorList = new ArrayList&lt;&gt;();\n        System.out.println(&quot;Caught exception of type: &quot; + exception.getClass().getName());\n\n        switch (exception.getClass().getName()) {\n            case &quot;org.springframework.security.access.AccessDeniedException&quot; -&gt; {\n                status = HttpStatus.UNAUTHORIZED;\n                errorList.add(&quot;Access Denied&quot;);\n            }\n            case &quot;io.jsonwebtoken.security.SignatureException&quot; -&gt; {\n                status = HttpStatus.UNAUTHORIZED;\n                errorList.add(&quot;Invalid Token&quot;);\n            }\n            case &quot;java.lang.IllegalArgumentException&quot; -&gt; {\n                status = HttpStatus.BAD_REQUEST;\n                errorList.add(exception.getMessage());\n            }\n            case &quot;org.postgresql.util.PSQLException&quot; -&gt; {\n                status = HttpStatus.INTERNAL_SERVER_ERROR;\n                errorList.add(exception.getMessage());\n            }\n            case &quot;io.jsonwebtoken.ExpiredJwtException&quot; -&gt; {\n                status = HttpStatus.UNAUTHORIZED;\n                errorList.add(&quot;Token has expired.&quot;);\n            }\n            case &quot;io.jsonwebtoken.MalformedJwtException&quot; -&gt; {\n                status = HttpStatus.BAD_REQUEST;\n                errorList.add(&quot;Malformed token.&quot;);\n            }\n            default -&gt; {\n                status = HttpStatus.INTERNAL_SERVER_ERROR;\n                errorList.add(&quot;An unexpected error occurred.&quot;);\n                System.out.println(&quot;Unhandled exception of type: &quot; + exception.getClass().getName());\n            }\n        }\n\n        Response response = Response.builder()\n                .code(status.name())\n                .status(status)\n                .timestamp(LocalDateTime.now())\n                .messages(errorList)\n                .build();\n\n        return ResponseEntity.status(status).body(response);\n    }\n}\n</code></pre>\n<p>This works for all exceptions but not for <code>org.springframework.security.access.AccessDeniedException</code>. In case I receive this exception, <code>handleExceptions()</code> will not even be invoked.</p>\n<p>Since that didn't work, I tried it through a different way, which is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf(AbstractHttpConfigurer::disable);\n\n    http.sessionManagement(sess -&gt; sess.sessionAuthenticationStrategy(sessionAuthenticationStrategy()));\n\n    // Authorization\n    http.authorizeHttpRequests(auth -&gt;\n            auth\n                    .requestMatchers(&quot;/&quot;, &quot;/api/auth/oauth&quot;, &quot;/api/user-profile/**&quot;).authenticated()\n                    .requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;, &quot;/logout&quot;).permitAll()\n                    .anyRequest().authenticated()\n    );\n\n    http.httpBasic(withDefaults());\n\n    http.exceptionHandling(e -&gt; e.accessDeniedHandler(new CustomAccessDeniedHandler())); // &lt;--\n\n    http.oauth2Login(withDefaults());\n    http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomAccessDeniedHandler implements AccessDeniedHandler {\n    @Override\n    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\n        System.out.println(&quot;Yayyy, I've been found!&quot;);\n    }\n}\n</code></pre>\n<p>However, both of them do not work. My code is getting ignored.</p>\n"},{"tags":["java","arrays","null","comparison"],"comments":[{"score":0,"post_type":"question","creation_date":1700970427,"post_id":77550358,"comment_id":136716476,"body_markdown":"If the array itself is null? Or if contains null elements?","link":"https://stackoverflow.com/questions/77550358/how-to-throw-an-exception-if-string-array-is-null#comment136716476_77550358","body":"If the array itself is null? Or if contains null elements?"},{"score":0,"post_type":"question","creation_date":1700970682,"post_id":77550358,"comment_id":136716488,"body_markdown":"It says &quot;the exception must be thrown by the constructor of the Truck class if the array received for materials is empty or null or if it contains more than five elements.&quot;","link":"https://stackoverflow.com/questions/77550358/how-to-throw-an-exception-if-string-array-is-null#comment136716488_77550358","body":"It says &quot;the exception must be thrown by the constructor of the Truck class if the array received for materials is empty or null or if it contains more than five elements.&quot;"},{"score":1,"post_type":"question","creation_date":1700970756,"post_id":77550358,"comment_id":136716494,"body_markdown":"So just check if `materials == null`. Not sure what the question is.","link":"https://stackoverflow.com/questions/77550358/how-to-throw-an-exception-if-string-array-is-null#comment136716494_77550358","body":"So just check if <code>materials == null</code>. Not sure what the question is."},{"score":0,"post_type":"question","creation_date":1700970841,"post_id":77550358,"comment_id":136716498,"body_markdown":"It&#39;s what I tried initially but my code returns java.lang.NullPointerException instead of dt.TruckException when I test it","link":"https://stackoverflow.com/questions/77550358/how-to-throw-an-exception-if-string-array-is-null#comment136716498_77550358","body":"It&#39;s what I tried initially but my code returns java.lang.NullPointerException instead of dt.TruckException when I test it"},{"score":2,"post_type":"question","creation_date":1700970917,"post_id":77550358,"comment_id":136716501,"body_markdown":"`if (materials == null || materials.length == 0) { throw new TruckException(); }` &lt;-- Obviously this check must be done before you try to use the array.","link":"https://stackoverflow.com/questions/77550358/how-to-throw-an-exception-if-string-array-is-null#comment136716501_77550358","body":"<code>if (materials == null || materials.length == 0) { throw new TruckException(); }</code> &lt;-- Obviously this check must be done before you try to use the array."},{"score":0,"post_type":"question","creation_date":1700975693,"post_id":77550358,"comment_id":136716735,"body_markdown":"I assume you have already created your custom exception classes for `TruckException` and `VehicleException`. [If not, here&#39;s how](https://www.baeldung.com/java-new-custom-exception).","link":"https://stackoverflow.com/questions/77550358/how-to-throw-an-exception-if-string-array-is-null#comment136716735_77550358","body":"I assume you have already created your custom exception classes for <code>TruckException</code> and <code>VehicleException</code>. <a href=\"https://www.baeldung.com/java-new-custom-exception\" rel=\"nofollow noreferrer\">If not, here&#39;s how</a>."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700971207,"creation_date":1700971207,"answer_id":77550392,"question_id":77550358,"body_markdown":"if (materials == null || materials.length == 0) { throw new TruckException(); }","link":"https://stackoverflow.com/questions/77550358/how-to-throw-an-exception-if-string-array-is-null/77550392#77550392","title":"How to throw an exception if String array is null?","body":"<p>if (materials == null || materials.length == 0) { throw new TruckException(); }</p>\n"}],"comment_count":6,"is_answered":false,"view_count":40,"answer_count":1,"score":0,"last_activity_date":1700972623,"creation_date":1700970315,"question_id":77550358,"body_markdown":"Basically, I want to throw a new TruckException if the String array parameter materials is null when we create a new Truck via its constructor. What should I do in the if statement to verify if the String array materials is null?\r\n\r\n```public final class Truck extends Vehicle\r\n{\r\n  private String[] materials = new String[5];\r\n\r\n  private long permit = 0;\r\n\r\n  private String company = &quot;&quot;;\r\n\r\n\r\n  public Truck(String[] materials, long permit, String company, String ownerName, String ownerAddress, String brand, String model, String licencePlate, float value) throws TruckException, VehicleException\r\n  {\r\n    super(ownerName, ownerAddress, brand, model, licencePlate, value);\r\n\r\n    setMaterials(materials); //on ne fait pas setMaterial(this.materials) car setMaterials modifie this.materials \r\n    if(materials.length == 0 || materials.length&gt;5 // ||???) //this if statement\r\n      throw new TruckException(&quot;materials&quot;);\r\n    \r\n    this.company = company;\r\n    if(company.equals(&quot;&quot;))\r\n      throw new VehicleException(&quot;company&quot;);\r\n\r\n//rest of code...\r\n\r\n\r\n}```","link":"https://stackoverflow.com/questions/77550358/how-to-throw-an-exception-if-string-array-is-null","title":"How to throw an exception if String array is null?","body":"<p>Basically, I want to throw a new TruckException if the String array parameter materials is null when we create a new Truck via its constructor. What should I do in the if statement to verify if the String array materials is null?</p>\n<pre><code>{\n  private String[] materials = new String[5];\n\n  private long permit = 0;\n\n  private String company = &quot;&quot;;\n\n\n  public Truck(String[] materials, long permit, String company, String ownerName, String ownerAddress, String brand, String model, String licencePlate, float value) throws TruckException, VehicleException\n  {\n    super(ownerName, ownerAddress, brand, model, licencePlate, value);\n\n    setMaterials(materials); //on ne fait pas setMaterial(this.materials) car setMaterials modifie this.materials \n    if(materials.length == 0 || materials.length&gt;5 // ||???) //this if statement\n      throw new TruckException(&quot;materials&quot;);\n    \n    this.company = company;\n    if(company.equals(&quot;&quot;))\n      throw new VehicleException(&quot;company&quot;);\n\n//rest of code...\n\n\n}```\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","annotations"],"comments":[{"score":0,"post_type":"question","creation_date":1700455791,"post_id":77513554,"comment_id":136652409,"body_markdown":"Add your rest controller code also.","link":"https://stackoverflow.com/questions/77513554/spring-validator-annotation-is-not-working#comment136652409_77513554","body":"Add your rest controller code also."},{"score":0,"post_type":"question","creation_date":1700455931,"post_id":77513554,"comment_id":136652421,"body_markdown":"@seenukarthi added my rest controller.","link":"https://stackoverflow.com/questions/77513554/spring-validator-annotation-is-not-working#comment136652421_77513554","body":"@seenukarthi added my rest controller."},{"score":0,"post_type":"question","creation_date":1700464042,"post_id":77513554,"comment_id":136653172,"body_markdown":"What is the expectation? I&#39;m not sure where you want to see the error.","link":"https://stackoverflow.com/questions/77513554/spring-validator-annotation-is-not-working#comment136653172_77513554","body":"What is the expectation? I&#39;m not sure where you want to see the error."},{"score":0,"post_type":"question","creation_date":1700466564,"post_id":77513554,"comment_id":136653472,"body_markdown":"@AnishB. ` @NotEmpty(message = &quot;List of name must not be empty&quot;)\n  @Size(min = 1, message = &quot;List of name must have at least one element&quot;)`\n\nthis is I am handling.. but when I am running through post man I am getting 400 not error. I have removed if statment from controller and given the annotation.","link":"https://stackoverflow.com/questions/77513554/spring-validator-annotation-is-not-working#comment136653472_77513554","body":"@AnishB. ` @NotEmpty(message = &quot;List of name must not be empty&quot;)   @Size(min = 1, message = &quot;List of name must have at least one element&quot;)`  this is I am handling.. but when I am running through post man I am getting 400 not error. I have removed if statment from controller and given the annotation."},{"score":0,"post_type":"question","creation_date":1700467033,"post_id":77513554,"comment_id":136653545,"body_markdown":"It will come in the console. Do you wanna see in the postman?","link":"https://stackoverflow.com/questions/77513554/spring-validator-annotation-is-not-working#comment136653545_77513554","body":"It will come in the console. Do you wanna see in the postman?"},{"score":1,"post_type":"question","creation_date":1700467598,"post_id":77513554,"comment_id":136653619,"body_markdown":"oh, it will come in console. It won&#39;t come in postman is it because client should aware why it failed I guess.","link":"https://stackoverflow.com/questions/77513554/spring-validator-annotation-is-not-working#comment136653619_77513554","body":"oh, it will come in console. It won&#39;t come in postman is it because client should aware why it failed I guess."},{"score":0,"post_type":"question","creation_date":1700467682,"post_id":77513554,"comment_id":136653635,"body_markdown":"Yup.. I have added my answer on how to make it come in the response..","link":"https://stackoverflow.com/questions/77513554/spring-validator-annotation-is-not-working#comment136653635_77513554","body":"Yup.. I have added my answer on how to make it come in the response.."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1700457007,"post_id":77513589,"comment_id":136652483,"body_markdown":"Thanks for answer now in both the case I am getting 400 bad request but I am not able to get error message which I have passed /","link":"https://stackoverflow.com/questions/77513554/spring-validator-annotation-is-not-working/77513589#comment136652483_77513589","body":"Thanks for answer now in both the case I am getting 400 bad request but I am not able to get error message which I have passed /"}],"comment_count":1,"score":1,"last_activity_date":1700456235,"creation_date":1700456235,"answer_id":77513589,"question_id":77513554,"body_markdown":"You need `@javax.validation.Valid` to your rest controller&#39;s argument to enable validation.\r\n\r\nSo your rest controller will be like\r\n\r\n```java\r\n@RequestMapping(method = RequestMethod.POST)\r\npublic ExecutionResultDTO create(@Valid @RequestBody  MyRequestResult myRequestResult) throws Exception {    \r\n     myService.setName(myRequestResult.getName());\r\n}","link":"https://stackoverflow.com/questions/77513554/spring-validator-annotation-is-not-working/77513589#77513589","title":"Spring Validator annotation is not working","body":"<p>You need <code>@javax.validation.Valid</code> to your rest controller's argument to enable validation.</p>\n<p>So your rest controller will be like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(method = RequestMethod.POST)\npublic ExecutionResultDTO create(@Valid @RequestBody  MyRequestResult myRequestResult) throws Exception {    \n     myService.setName(myRequestResult.getName());\n}\n</code></pre>\n"},{"comment_count":0,"score":2,"last_activity_date":1700493781,"last_edit_date":1700493781,"creation_date":1700467626,"answer_id":77514286,"question_id":77513554,"body_markdown":"**@seenukarthi** is actually correct. You have to use `@Valid` on the endpoint to valid the request body.\r\n\r\n**Note:** The validation errors are not visible in the error response.\r\n\r\nThe error will appear in the console log. Example:\r\n\r\n    2023-11-20T13:12:13.057+05:30  WARN 85261 --- [nio-8081-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; com.example.TestController.create(com.example.MyRequestResult) with 2 errors: [Field error in object &#39;myRequestResult&#39; on field &#39;name&#39;: rejected value [[]]; codes [NotEmpty.model.name,NotEmpty.name,NotEmpty.java.util.List,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [model.name,name]; arguments []; default message [name]]; default message [List of name must not be empty]] [Field error in object &#39;model&#39; on field &#39;name&#39;: rejected value [[]]; codes [Size.model.name,Size.name,Size.java.util.List,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [model.name,name]; arguments []; default message [name],2147483647,1]; default message [List of name must have at least one element]] ]\r\n\r\nPlease look into the logs properly. It will be there.\r\n\r\n----\r\n\r\nNow, if you want to capture validation errors happened on request body and to include it to response, then you have to use [`org.springframework.validation.BindingResult`][1]. \r\n\r\nLet me show with an example:\r\n\r\nUpdate `ExecutionResultDTO` to have errors list also if possible :\r\n\r\n\r\n    @Data\r\n    public class ExecutionResultDTO {\r\n    \r\n        private List&lt;String&gt; name;\r\n    \r\n        private List&lt;String&gt; errors;\r\n    \r\n    }\r\n\r\nUpdated controller that I have used for testing:\r\n\r\n    import jakarta.validation.Valid;\r\n    import org.springframework.context.support.DefaultMessageSourceResolvable;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @RestController\r\n    public class TestController {\r\n    \r\n        @PostMapping(&quot;create&quot;)\r\n        public ResponseEntity&lt;ExecutionResultDTO&gt; create(@Valid @RequestBody MyRequestResult myRequestResult, BindingResult bindingResult) {\r\n            ExecutionResultDTO dto = new ExecutionResultDTO();\r\n            dto.setName(myRequestResult.getName());\r\n            if (bindingResult.hasErrors()) {\r\n                dto.setErrors(bindingResult.getFieldErrors().stream()\r\n                        .map(DefaultMessageSourceResolvable::getDefaultMessage).collect(Collectors.toList()));\r\n                return new ResponseEntity&lt;&gt;(dto, HttpStatus.BAD_REQUEST);\r\n            }\r\n            return new ResponseEntity&lt;&gt;(dto, HttpStatus.CREATED);\r\n        }\r\n    }\r\n\r\n\r\n\r\nPostman :\r\n\r\nFor Incorrect Data:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFor Correct Data:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nChange the logic accordingly. This is just an example.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/BindingResult.html\r\n  [2]: https://i.stack.imgur.com/yn4a6.png\r\n  [3]: https://i.stack.imgur.com/XbUJc.png","link":"https://stackoverflow.com/questions/77513554/spring-validator-annotation-is-not-working/77514286#77514286","title":"Spring Validator annotation is not working","body":"<p><strong>@seenukarthi</strong> is actually correct. You have to use <code>@Valid</code> on the endpoint to valid the request body.</p>\n<p><strong>Note:</strong> The validation errors are not visible in the error response.</p>\n<p>The error will appear in the console log. Example:</p>\n<pre><code>2023-11-20T13:12:13.057+05:30  WARN 85261 --- [nio-8081-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; com.example.TestController.create(com.example.MyRequestResult) with 2 errors: [Field error in object 'myRequestResult' on field 'name': rejected value [[]]; codes [NotEmpty.model.name,NotEmpty.name,NotEmpty.java.util.List,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [model.name,name]; arguments []; default message [name]]; default message [List of name must not be empty]] [Field error in object 'model' on field 'name': rejected value [[]]; codes [Size.model.name,Size.name,Size.java.util.List,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [model.name,name]; arguments []; default message [name],2147483647,1]; default message [List of name must have at least one element]] ]\n</code></pre>\n<p>Please look into the logs properly. It will be there.</p>\n<hr />\n<p>Now, if you want to capture validation errors happened on request body and to include it to response, then you have to use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/BindingResult.html\" rel=\"nofollow noreferrer\"><code>org.springframework.validation.BindingResult</code></a>.</p>\n<p>Let me show with an example:</p>\n<p>Update <code>ExecutionResultDTO</code> to have errors list also if possible :</p>\n<pre><code>@Data\npublic class ExecutionResultDTO {\n\n    private List&lt;String&gt; name;\n\n    private List&lt;String&gt; errors;\n\n}\n</code></pre>\n<p>Updated controller that I have used for testing:</p>\n<pre><code>import jakarta.validation.Valid;\nimport org.springframework.context.support.DefaultMessageSourceResolvable;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class TestController {\n\n    @PostMapping(&quot;create&quot;)\n    public ResponseEntity&lt;ExecutionResultDTO&gt; create(@Valid @RequestBody MyRequestResult myRequestResult, BindingResult bindingResult) {\n        ExecutionResultDTO dto = new ExecutionResultDTO();\n        dto.setName(myRequestResult.getName());\n        if (bindingResult.hasErrors()) {\n            dto.setErrors(bindingResult.getFieldErrors().stream()\n                    .map(DefaultMessageSourceResolvable::getDefaultMessage).collect(Collectors.toList()));\n            return new ResponseEntity&lt;&gt;(dto, HttpStatus.BAD_REQUEST);\n        }\n        return new ResponseEntity&lt;&gt;(dto, HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p>Postman :</p>\n<p>For Incorrect Data:</p>\n<p><a href=\"https://i.stack.imgur.com/yn4a6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yn4a6.png\" alt=\"enter image description here\" /></a></p>\n<p>For Correct Data:</p>\n<p><a href=\"https://i.stack.imgur.com/XbUJc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XbUJc.png\" alt=\"enter image description here\" /></a></p>\n<p>Change the logic accordingly. This is just an example.</p>\n"}],"comment_count":7,"is_answered":true,"view_count":88,"answer_count":2,"score":2,"last_activity_date":1700971493,"creation_date":1700455627,"last_edit_date":1700971493,"question_id":77513554,"body_markdown":"\r\nIn my request body I am passing parameter in different way to validate. \r\n\r\n\r\n    { \r\n      &quot;name&quot;:[]\r\n    }\r\n\r\nHere the operation is executing which I want to restrict with my custom error message.\r\n\r\nHere I am getting 400 bad request so how to handle this with proper error message. \r\n\r\n\r\nIn my controller I had  \r\n\r\n    if (myRequestResult.getName() == null || myRequestResult.getName().isEmpty()) {\r\n        throw new Exception();\r\n     } else {\r\n        myService.setName(myRequestResult.getName());\r\n     }\r\n\r\n\r\nWhich is working fine but Now I remove that and Using validator annotation. \r\n \r\n\r\n    @Data \r\n    public class MyResultRequest {\r\n      \r\n      @NotEmpty(message = &quot;List of name must not be empty&quot;)\r\n      @Size(min = 1, message = &quot;List of name must have at least one element&quot;)\r\n      private List&lt;String&gt; name;\r\n\r\n    }\r\n\r\nThis is my restcontroller\r\n\r\n    @Log4j2\r\n    @RestController(value = &quot;apiMyController&quot;)\r\n    @RequestMapping(path = &quot;/api/v1/someRandomeURL&quot;)\r\n    @RequiredArgsConstructor(onConstructor = @__({@Autowired}))\r\n    public class ExecutionResultsController {\r\n      \r\n      @RequestMapping(method = RequestMethod.POST)\r\n      public ExecutionResultDTO create(@RequestBody  MyRequestResult myRequestResult) throws Exception {\r\n         myService.setName(myRequestResult.getName());\r\n      }\r\n    }  \r\n\r\nCan anybody tell me how to fix that as I am following this from here [Doc][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-bean-validation-not-null-empty-blank#:~:text=The%20%40NotBlank%20Constraint&amp;text=The%20method%20returns%20false%20for,must%20be%20greater%20than%20zero.","link":"https://stackoverflow.com/questions/77513554/spring-validator-annotation-is-not-working","title":"Spring Validator annotation is not working","body":"<p>In my request body I am passing parameter in different way to validate.</p>\n<pre><code>{ \n  &quot;name&quot;:[]\n}\n</code></pre>\n<p>Here the operation is executing which I want to restrict with my custom error message.</p>\n<p>Here I am getting 400 bad request so how to handle this with proper error message.</p>\n<p>In my controller I had</p>\n<pre><code>if (myRequestResult.getName() == null || myRequestResult.getName().isEmpty()) {\n    throw new Exception();\n } else {\n    myService.setName(myRequestResult.getName());\n }\n</code></pre>\n<p>Which is working fine but Now I remove that and Using validator annotation.</p>\n<pre><code>@Data \npublic class MyResultRequest {\n  \n  @NotEmpty(message = &quot;List of name must not be empty&quot;)\n  @Size(min = 1, message = &quot;List of name must have at least one element&quot;)\n  private List&lt;String&gt; name;\n\n}\n</code></pre>\n<p>This is my restcontroller</p>\n<pre><code>@Log4j2\n@RestController(value = &quot;apiMyController&quot;)\n@RequestMapping(path = &quot;/api/v1/someRandomeURL&quot;)\n@RequiredArgsConstructor(onConstructor = @__({@Autowired}))\npublic class ExecutionResultsController {\n  \n  @RequestMapping(method = RequestMethod.POST)\n  public ExecutionResultDTO create(@RequestBody  MyRequestResult myRequestResult) throws Exception {\n     myService.setName(myRequestResult.getName());\n  }\n}  \n</code></pre>\n<p>Can anybody tell me how to fix that as I am following this from here <a href=\"https://www.baeldung.com/java-bean-validation-not-null-empty-blank#:%7E:text=The%20%40NotBlank%20Constraint&amp;text=The%20method%20returns%20false%20for,must%20be%20greater%20than%20zero.\" rel=\"nofollow noreferrer\">Doc</a></p>\n"},{"tags":["java"],"comments":[{"score":0,"post_type":"question","creation_date":1700964698,"post_id":77550197,"comment_id":136716250,"body_markdown":"What do you think it does? Why not store the phone numbers as, maybe, `HashMap &lt;String, String&gt;`?","link":"https://stackoverflow.com/questions/77550197/why-wont-my-code-output-what-its-supposed-to-2d-arrays-methods#comment136716250_77550197","body":"What do you think it does? Why not store the phone numbers as, maybe, <code>HashMap &lt;String, String&gt;</code>?"},{"score":0,"post_type":"question","creation_date":1700964857,"post_id":77550197,"comment_id":136716254,"body_markdown":"There is no error on your code, your input is wrong formatted. You shouldn&#39;t use  comma when you want 2 strings for a person. You do scnr.next() for name, and also scanner.next() for the phone number. But since you dont add a space after the name, the name become &quot;Joe,123-5432&quot;. So if you set your input to ```3 Joe 123-5432 Linda 983-4123 Frank 867-5309 Frank``` it will work as expected. If you want to use comma seperated name-number format, you need to change your code, split after getting the input.","link":"https://stackoverflow.com/questions/77550197/why-wont-my-code-output-what-its-supposed-to-2d-arrays-methods#comment136716254_77550197","body":"There is no error on your code, your input is wrong formatted. You shouldn&#39;t use  comma when you want 2 strings for a person. You do scnr.next() for name, and also scanner.next() for the phone number. But since you dont add a space after the name, the name become &quot;Joe,123-5432&quot;. So if you set your input to <code>3 Joe 123-5432 Linda 983-4123 Frank 867-5309 Frank</code> it will work as expected. If you want to use comma seperated name-number format, you need to change your code, split after getting the input."},{"score":0,"post_type":"question","creation_date":1700964983,"post_id":77550197,"comment_id":136716263,"body_markdown":"it&#39;s an assignment so I can&#39;t control what the input is, and it has to be with a 2D array","link":"https://stackoverflow.com/questions/77550197/why-wont-my-code-output-what-its-supposed-to-2d-arrays-methods#comment136716263_77550197","body":"it&#39;s an assignment so I can&#39;t control what the input is, and it has to be with a 2D array"}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1700965583,"last_edit_date":1700965583,"creation_date":1700965199,"answer_id":77550227,"question_id":77550197,"body_markdown":"The central part of your code could be fixed by basing it on something like this:\r\n\r\n        for (int i = 0; i &lt; numPairs; i++) {\r\n            String pair = scnr.next();\r\n            list[i] = pair.split(&quot;,&quot;)\r\n        }\r\n\r\n&#39;next&#39; reads up to the next whitespace, so it gets you name-and-number as one String.  &#39;split&#39; splits that string around the comma, returning (in this case) a 2-element array.\r\n\r\nAn alternative approach would be to set the Scanner attributes so that it ends a token on whitespace or comma -- see the `useDelimiter` method.  I find that less appealing so have not written it here.  However, there might be specific requirements for the assignment that have not been given here, such as needing to use Scanner to pick out each token.","link":"https://stackoverflow.com/questions/77550197/why-wont-my-code-output-what-its-supposed-to-2d-arrays-methods/77550227#77550227","title":"Why won&#39;t my code output what it&#39;s supposed to? 2D arrays &amp; methods","body":"<p>The central part of your code could be fixed by basing it on something like this:</p>\n<pre><code>    for (int i = 0; i &lt; numPairs; i++) {\n        String pair = scnr.next();\n        list[i] = pair.split(&quot;,&quot;)\n    }\n</code></pre>\n<p>'next' reads up to the next whitespace, so it gets you name-and-number as one String.  'split' splits that string around the comma, returning (in this case) a 2-element array.</p>\n<p>An alternative approach would be to set the Scanner attributes so that it ends a token on whitespace or comma -- see the <code>useDelimiter</code> method.  I find that less appealing so have not written it here.  However, there might be specific requirements for the assignment that have not been given here, such as needing to use Scanner to pick out each token.</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1700965606,"creation_date":1700965606,"answer_id":77550234,"question_id":77550197,"body_markdown":"The way which your program processes the input and the way the input is provided is different.\r\n\r\nFor your current program, it expects input to be provided like\r\n```shell\r\n3\r\nJoe\r\n123-5432\r\nLinda\r\n983-4123\r\nFrank\r\n867-5309\r\nFrank\r\n```\r\nwhich outputs\r\n```shell\r\nPhone number for Frank: 867-5309\r\n```\r\n\r\nSince the input is fixed by the assignment to be like\r\n```shell\r\n3 Joe,123-5432 Linda,983-4123 Frank,867-5309 Frank\r\n```\r\n(1) You should attempt to separate the inputs into `3`, `Joe,123-5432`, `Linda,983-4123` `Frank,867-5309`, `Frank`. This can be achieved by reading the string and separating by whitespace.\r\n\r\n(2) Use the `3` that you read in to initialise the size of the 2D array.\r\n\r\n(3) Then, in your for-loop which process the name-number pairs, use a separate using `,` to get eg. `Frank` and `867-5309`. Store these accordingly into your 2D array.\r\n\r\n(4) Lastly, using the `Frank` you got in step (1), read from your 2D array and retrieve the number. Print that out in the expected format as indicated by your assignment. (e.g. `&lt;name&gt;: &lt;number&gt;`)","link":"https://stackoverflow.com/questions/77550197/why-wont-my-code-output-what-its-supposed-to-2d-arrays-methods/77550234#77550234","title":"Why won&#39;t my code output what it&#39;s supposed to? 2D arrays &amp; methods","body":"<p>The way which your program processes the input and the way the input is provided is different.</p>\n<p>For your current program, it expects input to be provided like</p>\n<pre class=\"lang-bash prettyprint-override\"><code>3\nJoe\n123-5432\nLinda\n983-4123\nFrank\n867-5309\nFrank\n</code></pre>\n<p>which outputs</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Phone number for Frank: 867-5309\n</code></pre>\n<p>Since the input is fixed by the assignment to be like</p>\n<pre class=\"lang-bash prettyprint-override\"><code>3 Joe,123-5432 Linda,983-4123 Frank,867-5309 Frank\n</code></pre>\n<p>(1) You should attempt to separate the inputs into <code>3</code>, <code>Joe,123-5432</code>, <code>Linda,983-4123</code> <code>Frank,867-5309</code>, <code>Frank</code>. This can be achieved by reading the string and separating by whitespace.</p>\n<p>(2) Use the <code>3</code> that you read in to initialise the size of the 2D array.</p>\n<p>(3) Then, in your for-loop which process the name-number pairs, use a separate using <code>,</code> to get eg. <code>Frank</code> and <code>867-5309</code>. Store these accordingly into your 2D array.</p>\n<p>(4) Lastly, using the <code>Frank</code> you got in step (1), read from your 2D array and retrieve the number. Print that out in the expected format as indicated by your assignment. (e.g. <code>&lt;name&gt;: &lt;number&gt;</code>)</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1700971144,"last_edit_date":1700971144,"creation_date":1700966803,"answer_id":77550266,"question_id":77550197,"body_markdown":"&gt; _&quot;... my code gets user input indicating how many pairs there are, then it gets the pairs, and the last input is the name of the phone number i need to output. but for whatever reason it will not output, nothing prints. Is it my method? ...&quot;_\r\n\r\nThe _[Scanner](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html)_ class is going to delimit the text by any _[white-space](https://en.wikipedia.org/wiki/Whitespace_character)_ character, by default.\r\n\r\nMeaning, a comma will be captured as part of the value returned by the _[next](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html#next())_ _method_.\\\r\nFor example, here is _list_, on the third iteration of the _for-loop_.\r\n\r\n```none\r\n[[&quot;Joe,123-5432&quot;, &quot;Linda,983-4123&quot;], [&quot;Frank,867-5309&quot;, &quot;Frank&quot;], [null, null]]\r\n```\r\n\r\nAnd, you&#39;re expecting the following.\r\n\r\n```none\r\n[[&quot;Joe&quot;, &quot;123-5432&quot;], [&quot;Linda&quot;, &quot;983-4123&quot;], [&quot;Frank&quot;, &quot;867-5309&quot;]]\r\n```\r\n\r\nThere are a few ways to capture the data.\r\n\r\nI recommend dividing the text, using the _[String#indexOf](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#indexOf(int))_, or _[String#split](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String))_, method.\r\n\r\nHere is a re-factor, using _indexOf_.\\\r\nI&#39;ve included only the portion of your code that I&#39;ve adjusted.\r\n\r\n```java\r\nString s, list[][] = new String[numPairs][2];\r\n\r\nfor (int i = 0, d; i &lt; numPairs; i++) {\r\n    d = (s = scnr.next()).indexOf(&#39;,&#39;);\r\n    list[i][0] = s.substring(0, d);\r\n    list[i][1] = s.substring(d + 1);\r\n}\r\n```\r\n\r\nAnd, here is a re-factor, using _split_.\r\n\r\n```java\r\nString s[], list[][] = new String[numPairs][2];\r\n\r\nfor (int i = 0; i &lt; numPairs; i++) {\r\n    s = scnr.next().split(&quot;,&quot;);\r\n    list[i][0] = s[0];\r\n    list[i][1] = s[1];\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n3 Joe,123-5432 Linda,983-4123 Frank,867-5309 Frank\r\nPhone number for Frank: 867-5309\r\n```","link":"https://stackoverflow.com/questions/77550197/why-wont-my-code-output-what-its-supposed-to-2d-arrays-methods/77550266#77550266","title":"Why won&#39;t my code output what it&#39;s supposed to? 2D arrays &amp; methods","body":"<blockquote>\n<p><em>&quot;... my code gets user input indicating how many pairs there are, then it gets the pairs, and the last input is the name of the phone number i need to output. but for whatever reason it will not output, nothing prints. Is it my method? ...&quot;</em></p>\n</blockquote>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></em> class is going to delimit the text by any <em><a href=\"https://en.wikipedia.org/wiki/Whitespace_character\" rel=\"nofollow noreferrer\">white-space</a></em> character, by default.</p>\n<p>Meaning, a comma will be captured as part of the value returned by the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\">next</a></em> <em>method</em>.<br />\nFor example, here is <em>list</em>, on the third iteration of the <em>for-loop</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[[&quot;Joe,123-5432&quot;, &quot;Linda,983-4123&quot;], [&quot;Frank,867-5309&quot;, &quot;Frank&quot;], [null, null]]\n</code></pre>\n<p>And, you're expecting the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[[&quot;Joe&quot;, &quot;123-5432&quot;], [&quot;Linda&quot;, &quot;983-4123&quot;], [&quot;Frank&quot;, &quot;867-5309&quot;]]\n</code></pre>\n<p>There are a few ways to capture the data.</p>\n<p>I recommend dividing the text, using the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#indexOf(int)\" rel=\"nofollow noreferrer\">String#indexOf</a></em>, or <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String#split</a></em>, method.</p>\n<p>Here is a re-factor, using <em>indexOf</em>.<br />\nI've included only the portion of your code that I've adjusted.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s, list[][] = new String[numPairs][2];\n\nfor (int i = 0, d; i &lt; numPairs; i++) {\n    d = (s = scnr.next()).indexOf(',');\n    list[i][0] = s.substring(0, d);\n    list[i][1] = s.substring(d + 1);\n}\n</code></pre>\n<p>And, here is a re-factor, using <em>split</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s[], list[][] = new String[numPairs][2];\n\nfor (int i = 0; i &lt; numPairs; i++) {\n    s = scnr.next().split(&quot;,&quot;);\n    list[i][0] = s[0];\n    list[i][1] = s[1];\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>3 Joe,123-5432 Linda,983-4123 Frank,867-5309 Frank\nPhone number for Frank: 867-5309\n</code></pre>\n"}],"comment_count":3,"is_answered":true,"view_count":84,"answer_count":3,"score":-2,"last_activity_date":1700971144,"creation_date":1700964200,"last_edit_date":1700966019,"question_id":77550197,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n\r\n    public static String getPhoneNumber(String[][] list, String name) {\r\n        for (int i = 0; i &lt; list.length; i++) {\r\n            if (list[i][0].equals(name)) {\r\n                return list[i][1];\r\n            }\r\n        }\r\n        return &quot;-1&quot;; // Handle the case when the name is not found\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n        int numPairs = scnr.nextInt();\r\n\r\n        String[][] list = new String[numPairs][2];\r\n\r\n        for (int i = 0; i &lt; numPairs; i++) {\r\n            list[i][0] = scnr.next();\r\n            list[i][1] = scnr.next(); \r\n        }\r\n\r\n        String name = scnr.next();\r\n\r\n        String phoneNumber = getPhoneNumber(list, name);\r\n        System.out.println(&quot;Phone number for &quot; + name + &quot;: &quot; + phoneNumber);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nInput:\r\n3 Joe,123-5432 Linda,983-4123 Frank,867-5309 Frank\r\n\r\nmy output:\r\nYour program produced no output\r\n\r\nExpected output:\r\nFrank: 867-5309\r\n\r\nmy code gets user input indicating how many pairs there are, then it gets the pairs, and the last input is the name of the phone number i need to output. but for whatever reason it will not output, nothing prints. Is it my method? ","link":"https://stackoverflow.com/questions/77550197/why-wont-my-code-output-what-its-supposed-to-2d-arrays-methods","title":"Why won&#39;t my code output what it&#39;s supposed to? 2D arrays &amp; methods","body":"<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n\n    public static String getPhoneNumber(String[][] list, String name) {\n        for (int i = 0; i &lt; list.length; i++) {\n            if (list[i][0].equals(name)) {\n                return list[i][1];\n            }\n        }\n        return &quot;-1&quot;; // Handle the case when the name is not found\n    }\n\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n\n        int numPairs = scnr.nextInt();\n\n        String[][] list = new String[numPairs][2];\n\n        for (int i = 0; i &lt; numPairs; i++) {\n            list[i][0] = scnr.next();\n            list[i][1] = scnr.next(); \n        }\n\n        String name = scnr.next();\n\n        String phoneNumber = getPhoneNumber(list, name);\n        System.out.println(&quot;Phone number for &quot; + name + &quot;: &quot; + phoneNumber);\n    }\n}\n\n</code></pre>\n<p>Input:\n3 Joe,123-5432 Linda,983-4123 Frank,867-5309 Frank</p>\n<p>my output:\nYour program produced no output</p>\n<p>Expected output:\nFrank: 867-5309</p>\n<p>my code gets user input indicating how many pairs there are, then it gets the pairs, and the last input is the name of the phone number i need to output. but for whatever reason it will not output, nothing prints. Is it my method?</p>\n"},{"tags":["java","postgresql","jpa","hibernate-entitymanager"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700967481,"creation_date":1700967481,"answer_id":77550281,"question_id":77550248,"body_markdown":"You&#39;re already creating trouble for yourself by doing select * from 2 different tables without a limit parameter.\r\n\r\nYou can either create a stored procedure and select whatever column you need OR you can do nested select statements and use it to query. \r\nYou can always get a single resultset and use it. Refer https://stackoverflow.com/questions/60548048/spring-boot-jpa-hibernate-how-to-execute-two-raw-select-queries-at-once \r\n\r\nBut the performance hit you&#39;re referring is not due to multiple db queries, rather it&#39;s due to select * statements without limit parameter. ","link":"https://stackoverflow.com/questions/77550248/getting-an-error-multiple-resultsets-were-returned-while-running-multiple-sele/77550281#77550281","title":"Getting an error &#39;Multiple ResultSets were returned&quot; while running multiple select queries via JPA EntityManager","body":"<p>You're already creating trouble for yourself by doing select * from 2 different tables without a limit parameter.</p>\n<p>You can either create a stored procedure and select whatever column you need OR you can do nested select statements and use it to query.\nYou can always get a single resultset and use it. Refer <a href=\"https://stackoverflow.com/questions/60548048/spring-boot-jpa-hibernate-how-to-execute-two-raw-select-queries-at-once\">Spring Boot, JPA / Hibernate: How to execute two raw SELECT queries at once?</a></p>\n<p>But the performance hit you're referring is not due to multiple db queries, rather it's due to select * statements without limit parameter.</p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1700975601,"post_id":77550302,"comment_id":136716733,"body_markdown":"org.postgresql.jdbc.PgStatement.getSingleResultSet(PgStatement.java:257) in db&#39;s some methods are oriented only to specific uses although they are available on the connection or statement class to simply use. It&#39;s only possible to use those methods in the correct conditions of the type of query, a matter pre determined decided by the programmer not the runtime!","link":"https://stackoverflow.com/questions/77550248/getting-an-error-multiple-resultsets-were-returned-while-running-multiple-sele/77550302#comment136716733_77550302","body":"org.postgresql.jdbc.PgStatement.getSingleResultSet(PgStateme&zwnj;&#8203;nt.java:257) in db&#39;s some methods are oriented only to specific uses although they are available on the connection or statement class to simply use. It&#39;s only possible to use those methods in the correct conditions of the type of query, a matter pre determined decided by the programmer not the runtime!"},{"score":0,"post_type":"answer","creation_date":1700978581,"post_id":77550302,"comment_id":136716875,"body_markdown":"I don&#39;t get what you are trying to say @SamuelMarchant. Could you please elaborate?","link":"https://stackoverflow.com/questions/77550248/getting-an-error-multiple-resultsets-were-returned-while-running-multiple-sele/77550302#comment136716875_77550302","body":"I don&#39;t get what you are trying to say @SamuelMarchant. Could you please elaborate?"}],"comment_count":2,"score":0,"last_activity_date":1700968233,"creation_date":1700968233,"answer_id":77550302,"question_id":77550248,"body_markdown":"That is not how hibernate works. Hibernate does not let you pass more than 1 query.\r\n\r\nIf you really want to do so, you can use `UNION ALL`. However I don&#39;t see/know if the number of columns in both your `roles` and `department` table match.\r\n\r\nYour approach to the result won&#39;t work at all or even if you use `UNION ALL`, that won&#39;t be a good practice given the case that you are trying to fetch results from 2 different tables.","link":"https://stackoverflow.com/questions/77550248/getting-an-error-multiple-resultsets-were-returned-while-running-multiple-sele/77550302#77550302","title":"Getting an error &#39;Multiple ResultSets were returned&quot; while running multiple select queries via JPA EntityManager","body":"<p>That is not how hibernate works. Hibernate does not let you pass more than 1 query.</p>\n<p>If you really want to do so, you can use <code>UNION ALL</code>. However I don't see/know if the number of columns in both your <code>roles</code> and <code>department</code> table match.</p>\n<p>Your approach to the result won't work at all or even if you use <code>UNION ALL</code>, that won't be a good practice given the case that you are trying to fetch results from 2 different tables.</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1700970563,"last_edit_date":1700970563,"creation_date":1700970092,"answer_id":77550352,"question_id":77550248,"body_markdown":"With Hibernate and JPA entityManager.createNativeQuery() typically expects a single query, not multiple ones separated by a semicolon, and in your case UNION might not work as you are querying different entities not referenced to each other but collecting master values.\r\n\r\nTwo options come to my mind typically when querying distinct entities to collect master entries into one resiult set -\r\n\r\n**Use Stored Procedure:**\r\nSample stored procedure to collect multiple master values (when relational queries are not possible / not required) into one JSON object. This might reduce your roundtrips.\r\n\r\n    CREATE OR REPLACE FUNCTION get_department_designation()\r\n    RETURNS JSON AS $$\r\n    DECLARE\r\n        departments_json json;\r\n        desitnation_json json;\r\n    BEGIN\r\n        -- Execute the first query and convert the department result set to JSON\r\n        SELECT json_agg(\r\n        json_build_object(\r\n            &#39;department_id&#39;, id,\r\n            &#39;department_name&#39;, name\r\n        )\r\n    ) INTO departments_json FROM my_department WHERE is_active = 1;\r\n    \r\n        -- Execute the second query and convert the designation result set to JSON\r\n        SELECT json_agg(\r\n        json_build_object(\r\n            &#39;designation_id&#39;, id,\r\n            &#39;designation_name&#39;, name\r\n        )\r\n    ) INTO desitnation_json FROM my_designation WHERE is_active = 1;\r\n    \r\n        -- Combine the two JSON objects into a single object\r\n        RETURN json_build_object(\r\n            &#39;departments&#39;, departments_json,\r\n            &#39;designations&#39;, desitnation_json\r\n        );\r\n    END;\r\n    $$ LANGUAGE plpgsql;\r\n\r\nI have used this approach multiple times in past to query and collect distinct entity sets in a result set.\r\n\r\n**Or use JDBC Batch:**\r\n\r\n    Statement statement = connection.createStatement();\r\n    statement.addBatch(&quot;select * from roles where role_id &lt;= 200&quot;);\r\n    statement.addBatch(&quot;select * from departments where department_id &lt;= 50&quot;);\r\n    List&lt;ResultSet&gt; resultSets = statement.executeBatch();\r\n\r\n(I haven&#39;t tried this, just an idea if it helps)","link":"https://stackoverflow.com/questions/77550248/getting-an-error-multiple-resultsets-were-returned-while-running-multiple-sele/77550352#77550352","title":"Getting an error &#39;Multiple ResultSets were returned&quot; while running multiple select queries via JPA EntityManager","body":"<p>With Hibernate and JPA entityManager.createNativeQuery() typically expects a single query, not multiple ones separated by a semicolon, and in your case UNION might not work as you are querying different entities not referenced to each other but collecting master values.</p>\n<p>Two options come to my mind typically when querying distinct entities to collect master entries into one resiult set -</p>\n<p><strong>Use Stored Procedure:</strong>\nSample stored procedure to collect multiple master values (when relational queries are not possible / not required) into one JSON object. This might reduce your roundtrips.</p>\n<pre><code>CREATE OR REPLACE FUNCTION get_department_designation()\nRETURNS JSON AS $$\nDECLARE\n    departments_json json;\n    desitnation_json json;\nBEGIN\n    -- Execute the first query and convert the department result set to JSON\n    SELECT json_agg(\n    json_build_object(\n        'department_id', id,\n        'department_name', name\n    )\n) INTO departments_json FROM my_department WHERE is_active = 1;\n\n    -- Execute the second query and convert the designation result set to JSON\n    SELECT json_agg(\n    json_build_object(\n        'designation_id', id,\n        'designation_name', name\n    )\n) INTO desitnation_json FROM my_designation WHERE is_active = 1;\n\n    -- Combine the two JSON objects into a single object\n    RETURN json_build_object(\n        'departments', departments_json,\n        'designations', desitnation_json\n    );\nEND;\n$$ LANGUAGE plpgsql;\n</code></pre>\n<p>I have used this approach multiple times in past to query and collect distinct entity sets in a result set.</p>\n<p><strong>Or use JDBC Batch:</strong></p>\n<pre><code>Statement statement = connection.createStatement();\nstatement.addBatch(&quot;select * from roles where role_id &lt;= 200&quot;);\nstatement.addBatch(&quot;select * from departments where department_id &lt;= 50&quot;);\nList&lt;ResultSet&gt; resultSets = statement.executeBatch();\n</code></pre>\n<p>(I haven't tried this, just an idea if it helps)</p>\n"}],"comment_count":0,"is_answered":false,"view_count":130,"answer_count":3,"score":0,"last_activity_date":1700970563,"creation_date":1700966053,"last_edit_date":1700966712,"question_id":77550248,"body_markdown":"To achieve better performance by reducing multiple DB calls, I want to execute multiple select queries in the same DB call. I&#39;m using PostgresSQL database (version 14.9), Java (version 17) and Springboot (version 3.0.6).\r\n\r\nHere is my code:\r\n```\r\nprivate final EntityManager entityManager;\r\n\r\nfinal List&lt;Object[]&gt; results =\r\n            entityManager.createNativeQuery(&quot;select * from roles where role_id &lt;= 200; select * from departments where department_id &lt;= 50&quot;)\r\n                .getResultList();\r\n\r\n```\r\n\r\nHere is the error that I&#39;m getting:\r\n\r\n```\r\njakarta.persistence.PersistenceException: Converting `org.hibernate.exception.GenericJDBCException` to JPA `PersistenceException` : JDBC exception executing SQL [select * from roles where role_id &lt;= 200; select * from departments where department_id &lt;= 50]\r\n........\r\n........\r\n........\r\n........\r\n........\r\nCaused by: org.hibernate.exception.GenericJDBCException: JDBC exception executing SQL [select * from roles where role_id &lt;= 200; select * from departments where department_id &lt;= 50]\r\n........\r\n........\r\n........\r\n........\r\n........\r\nCaused by: org.postgresql.util.PSQLException: Multiple ResultSets were returned by the query.\r\n\tat org.postgresql.jdbc.PgStatement.getSingleResultSet(PgStatement.java:257)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:138)\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:217)\t\r\n````\r\nI tried below code:\r\n\r\n```\r\nprivate final EntityManager entityManager;\r\n\r\nfinal List&lt;Object[]&gt; results =\r\n            entityManager.createNativeQuery(&quot;select * from roles where role_id &lt;= 200; select * from departments where department_id &lt;= 50&quot;)\r\n                .getResultList();\r\n\r\n```\r\nI am expecting 2 result sets in &quot;results&quot; List Object.","link":"https://stackoverflow.com/questions/77550248/getting-an-error-multiple-resultsets-were-returned-while-running-multiple-sele","title":"Getting an error &#39;Multiple ResultSets were returned&quot; while running multiple select queries via JPA EntityManager","body":"<p>To achieve better performance by reducing multiple DB calls, I want to execute multiple select queries in the same DB call. I'm using PostgresSQL database (version 14.9), Java (version 17) and Springboot (version 3.0.6).</p>\n<p>Here is my code:</p>\n<pre><code>private final EntityManager entityManager;\n\nfinal List&lt;Object[]&gt; results =\n            entityManager.createNativeQuery(&quot;select * from roles where role_id &lt;= 200; select * from departments where department_id &lt;= 50&quot;)\n                .getResultList();\n\n</code></pre>\n<p>Here is the error that I'm getting:</p>\n<pre><code>jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.GenericJDBCException` to JPA `PersistenceException` : JDBC exception executing SQL [select * from roles where role_id &lt;= 200; select * from departments where department_id &lt;= 50]\n........\n........\n........\n........\n........\nCaused by: org.hibernate.exception.GenericJDBCException: JDBC exception executing SQL [select * from roles where role_id &lt;= 200; select * from departments where department_id &lt;= 50]\n........\n........\n........\n........\n........\nCaused by: org.postgresql.util.PSQLException: Multiple ResultSets were returned by the query.\n    at org.postgresql.jdbc.PgStatement.getSingleResultSet(PgStatement.java:257)\n    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:138)\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:217)   \n</code></pre>\n<p>I tried below code:</p>\n<pre><code>private final EntityManager entityManager;\n\nfinal List&lt;Object[]&gt; results =\n            entityManager.createNativeQuery(&quot;select * from roles where role_id &lt;= 200; select * from departments where department_id &lt;= 50&quot;)\n                .getResultList();\n\n</code></pre>\n<p>I am expecting 2 result sets in &quot;results&quot; List Object.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1700968438,"creation_date":1700968438,"answer_id":77550307,"question_id":77512416,"body_markdown":"I have to use Java 1.8 version \r\nYou can see on the JRE System libaray it says &quot;[JavaSE-17]&quot;\r\nit should say &quot;[JavaSE-1.8]&quot;","link":"https://stackoverflow.com/questions/77512416/selenium-webdriver-not-working-unable-to-decipher-error/77550307#77550307","title":"Selenium webdriver not working. Unable to decipher error","body":"<p>I have to use Java 1.8 version\nYou can see on the JRE System libaray it says &quot;[JavaSE-17]&quot;\nit should say &quot;[JavaSE-1.8]&quot;</p>\n"}],"comment_count":0,"is_answered":false,"view_count":128,"answer_count":1,"score":1,"last_activity_date":1700968438,"creation_date":1700426316,"question_id":77512416,"body_markdown":"I am just starting to learn selenium automation, and I am stuck at a part where even though I follow tutorials to the point, it does not work\r\n\r\n**--My code--\r\n**\r\n```\r\npackage newAttemptPackage;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class NewTryClass {\r\n\tpublic static void main(String[] args) {\r\n\t\t\t\t\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\919so\\\\OneDrive\\\\Desktop\\\\Selenium\\\\selenium-java-4.15.0\\\\chromedriver-win64\\\\chromedriver-win64\\\\chromedriver.exe&quot;);   \r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\t\t\t\r\n\t\tdriver.get(&quot;https://www.google.com/&quot;);\r\ndriver.manage().window().maximize();\r\n\t\t\r\n\t\tdriver.close();\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n**What the error says\r\n**\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: dev/failsafe/Policy\r\n\tat org.seleniumhq.selenium.http/org.openqa.selenium.remote.http.ClientConfig.&lt;clinit&gt;(ClientConfig.java:33)\r\n\tat org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\r\n\tat org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\r\n\tat anotherTry/tryPackage.TryClass.main(TryClass.java:12)\r\nCaused by: java.lang.ClassNotFoundException: dev.failsafe.Policy\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 4 more\r\n\r\n```\r\n\r\n\r\n\r\n\r\n**I have all the JAR files from the lastest stable version of selenium. \r\nI have the lastest stable version of the chrome webdriver \r\nand I am using java 8 on eclipse **\r\n\r\n[![A screenshot of some of the jar files](https://i.stack.imgur.com/PWcIm.png)](https://i.stack.imgur.com/PWcIm.png)\r\n","link":"https://stackoverflow.com/questions/77512416/selenium-webdriver-not-working-unable-to-decipher-error","title":"Selenium webdriver not working. Unable to decipher error","body":"<p>I am just starting to learn selenium automation, and I am stuck at a part where even though I follow tutorials to the point, it does not work</p>\n<p>**--My code--\n**</p>\n<pre><code>package newAttemptPackage;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class NewTryClass {\n    public static void main(String[] args) {\n                \nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\919so\\\\OneDrive\\\\Desktop\\\\Selenium\\\\selenium-java-4.15.0\\\\chromedriver-win64\\\\chromedriver-win64\\\\chromedriver.exe&quot;);   \n        WebDriver driver = new ChromeDriver();\n                \n        driver.get(&quot;https://www.google.com/&quot;);\ndriver.manage().window().maximize();\n        \n        driver.close();\n        \n        \n    }\n\n}\n\n</code></pre>\n<p>**What the error says\n**</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: dev/failsafe/Policy\n    at org.seleniumhq.selenium.http/org.openqa.selenium.remote.http.ClientConfig.&lt;clinit&gt;(ClientConfig.java:33)\n    at org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\n    at org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\n    at anotherTry/tryPackage.TryClass.main(TryClass.java:12)\nCaused by: java.lang.ClassNotFoundException: dev.failsafe.Policy\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 4 more\n\n</code></pre>\n<p>**I have all the JAR files from the lastest stable version of selenium.\nI have the lastest stable version of the chrome webdriver\nand I am using java 8 on eclipse **</p>\n<p><a href=\"https://i.stack.imgur.com/PWcIm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PWcIm.png\" alt=\"A screenshot of some of the jar files\" /></a></p>\n"}],"has_more":true,"quota_max":300,"quota_remaining":283}