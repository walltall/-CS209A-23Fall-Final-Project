{"items":[{"tags":["java"],"comments":[{"score":4,"post_type":"question","creation_date":1701388175,"post_id":77582274,"comment_id":136772880,"body_markdown":"what statement do you expect to be unreachable in myRecord?","link":"https://stackoverflow.com/questions/77582274/throw-exception-in-records-compact-constructor#comment136772880_77582274","body":"what statement do you expect to be unreachable in myRecord?"},{"score":0,"post_type":"question","creation_date":1701392972,"post_id":77582274,"comment_id":136773271,"body_markdown":"@f1sh Likely the implicit `this.i = i` that&#39;s assumed to be there.","link":"https://stackoverflow.com/questions/77582274/throw-exception-in-records-compact-constructor#comment136773271_77582274","body":"@f1sh Likely the implicit <code>this.i = i</code> that&#39;s assumed to be there."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701393685,"creation_date":1701393685,"answer_id":77582533,"question_id":77582274,"body_markdown":"You are right. The object is not yet initialized when you throw your exception.\r\nThere is no warning with the compact constructor throwing values explicitly.\r\n\r\nIn any case, it&#39;s not really visible outside the object as a reference does not yet exist.\r\n\r\n","link":"https://stackoverflow.com/questions/77582274/throw-exception-in-records-compact-constructor/77582533#77582533","title":"throw Exception in Record&#39;s compact constructor","body":"<p>You are right. The object is not yet initialized when you throw your exception.\nThere is no warning with the compact constructor throwing values explicitly.</p>\n<p>In any case, it's not really visible outside the object as a reference does not yet exist.</p>\n"},{"comment_count":0,"score":3,"last_activity_date":1701394357,"creation_date":1701394357,"answer_id":77582564,"question_id":77582274,"body_markdown":"Because the two are not the same. If we have:\r\n\r\n\r\n```java\r\npublic record Foo(int i) {}\r\n```\r\n\r\nThen the following byte-code is generated for the constructor (using Java 21 to compile):\r\n\r\n```none\r\npublic Foo(int);\r\n  Code:\r\n      0: aload_0\r\n      1: invokespecial #1                  // Method java/lang/Record.&quot;&lt;init&gt;&quot;:()V\r\n      4: aload_0\r\n      5: iload_1\r\n      6: putfield      #7                  // Field i:I\r\n      9: return\r\n```\r\n\r\nAs you can see, there&#39;s an assignment to the field `i`. But if we change `Foo` to:\r\n\r\n```java\r\npublic record Foo(int i) {\r\n\r\n    public Foo {\r\n        throw new RuntimeException();\r\n    }\r\n}\r\n```\r\n\r\nThen the constructor&#39;s byte-code becomes:\r\n\r\n```none\r\npublic Foo(int);\r\n  Code:\r\n      0: aload_0\r\n      1: invokespecial #1                  // Method java/lang/Record.&quot;&lt;init&gt;&quot;:()V\r\n      4: new           #7                  // class java/lang/RuntimeException\r\n      7: dup\r\n      8: invokespecial #9                  // Method java/lang/RuntimeException.&quot;&lt;init&gt;&quot;:()V\r\n    11: athrow\r\n```\r\n\r\nNo attempt is made to assign `i`. It simply throws the exception. So, as a normal class, it would be as if you wrote the following (completely legal) code:\r\n\r\n```java\r\npublic final class Foo {\r\n\r\n    private final int i;\r\n\r\n    public Foo(int i) {\r\n        throw new RuntimeException();\r\n    }\r\n\r\n    // ... hashCode, equals, toString, and getter omitted for brevity ...\r\n}\r\n```\r\n\r\nWhere there&#39;s no `this.i = i` in the constructor, neither before nor after the `throw` statement.","link":"https://stackoverflow.com/questions/77582274/throw-exception-in-records-compact-constructor/77582564#77582564","title":"throw Exception in Record&#39;s compact constructor","body":"<p>Because the two are not the same. If we have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Foo(int i) {}\n</code></pre>\n<p>Then the following byte-code is generated for the constructor (using Java 21 to compile):</p>\n<pre class=\"lang-none prettyprint-override\"><code>public Foo(int);\n  Code:\n      0: aload_0\n      1: invokespecial #1                  // Method java/lang/Record.&quot;&lt;init&gt;&quot;:()V\n      4: aload_0\n      5: iload_1\n      6: putfield      #7                  // Field i:I\n      9: return\n</code></pre>\n<p>As you can see, there's an assignment to the field <code>i</code>. But if we change <code>Foo</code> to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Foo(int i) {\n\n    public Foo {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>Then the constructor's byte-code becomes:</p>\n<pre class=\"lang-none prettyprint-override\"><code>public Foo(int);\n  Code:\n      0: aload_0\n      1: invokespecial #1                  // Method java/lang/Record.&quot;&lt;init&gt;&quot;:()V\n      4: new           #7                  // class java/lang/RuntimeException\n      7: dup\n      8: invokespecial #9                  // Method java/lang/RuntimeException.&quot;&lt;init&gt;&quot;:()V\n    11: athrow\n</code></pre>\n<p>No attempt is made to assign <code>i</code>. It simply throws the exception. So, as a normal class, it would be as if you wrote the following (completely legal) code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Foo {\n\n    private final int i;\n\n    public Foo(int i) {\n        throw new RuntimeException();\n    }\n\n    // ... hashCode, equals, toString, and getter omitted for brevity ...\n}\n</code></pre>\n<p>Where there's no <code>this.i = i</code> in the constructor, neither before nor after the <code>throw</code> statement.</p>\n"}],"comment_count":2,"is_answered":true,"view_count":63,"answer_count":2,"score":-1,"last_activity_date":1701394357,"creation_date":1701387688,"question_id":77582274,"body_markdown":"I have a record class with compact constructor.\r\n\r\n    public record myRecord(int i) {\r\n        public myRecord {\r\n            throw new RuntimeException();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            var v = new myRecord(1);\r\n        }\r\n    }\r\n\r\nMy understand is that it is same as below class. I only need to add logic to compact constructor. Compiler will add in assignment. \r\n\r\n    class testClass{\r\n        int i;\r\n    \r\n        public testClass(int i) {\r\n            throw new RuntimeException();\r\n            this.i = i;\r\n        }\r\n    }\r\n\r\ntestClass will get warning about **Unreachable statement** for this.i = i; But there is no warning on myRecord. How to explain this?","link":"https://stackoverflow.com/questions/77582274/throw-exception-in-records-compact-constructor","title":"throw Exception in Record&#39;s compact constructor","body":"<p>I have a record class with compact constructor.</p>\n<pre><code>public record myRecord(int i) {\n    public myRecord {\n        throw new RuntimeException();\n    }\n\n    public static void main(String[] args) {\n        var v = new myRecord(1);\n    }\n}\n</code></pre>\n<p>My understand is that it is same as below class. I only need to add logic to compact constructor. Compiler will add in assignment.</p>\n<pre><code>class testClass{\n    int i;\n\n    public testClass(int i) {\n        throw new RuntimeException();\n        this.i = i;\n    }\n}\n</code></pre>\n<p>testClass will get warning about <strong>Unreachable statement</strong> for this.i = i; But there is no warning on myRecord. How to explain this?</p>\n"},{"tags":["java","spring","spring-boot","validation","lombok"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701247951,"post_id":77568355,"comment_id":136750805,"body_markdown":"Thank you for your answer. It really works when you call the validator.validate manually also in my example. The problem is that also in your case you can create the object, but the annotation @Valid in the constructor should prevent it.","link":"https://stackoverflow.com/questions/77567803/spring-valid-annotation-on-constructor-not-working-best-practice-to-validate-d/77568355#comment136750805_77568355","body":"Thank you for your answer. It really works when you call the validator.validate manually also in my example. The problem is that also in your case you can create the object, but the annotation @Valid in the constructor should prevent it."}],"comment_count":1,"score":0,"last_activity_date":1701394354,"last_edit_date":1701394354,"creation_date":1701227217,"answer_id":77568355,"question_id":77567803,"body_markdown":"I valid success when use this test case, you can try my case.\r\n\r\nDTO:\r\n\r\n    @Data\r\n    @AllArgsConstructor(onConstructor_ = {@Valid})\r\n    public class SimpleDTO {\r\n\r\n\r\n      @NotNull(message = &quot;corpId is null&quot;)\r\n      private String corpId;\r\n\r\n      @NotNull(message = &quot;userId is null&quot;)\r\n      private String userId;\r\n\r\n      @NotNull(message = &quot;deptCode is null&quot;)\r\n      private String deptCode;\r\n\r\n      @NotBlank\r\n      private String notBlank;\r\n\r\n    }\r\nTestCase:\r\n\r\n     @SpringBootTest(classes = SimpleDemoApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n     class ValidTest {\r\n\r\n        @Test\r\n        void testValid() {\r\n            Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n            LOG.info(validator.getClass().getName());\r\n            SimpleDTO allArg = new SimpleDTO(null, null, null, &quot;  &quot;);\r\n            Set&lt;ConstraintViolation&lt;Object&gt;&gt; checkResult = validator.validate(allArg);\r\n            if (!CollectionUtils.isEmpty(checkResult)) {\r\n                List&lt;String&gt; resultMsg =checkResult.stream().map(ConstraintViolation::getMessage).collect(Collectors.toList());\r\n                throw new RuntimeException(JSON.toJSONString(resultMsg));\r\n           }\r\n        }\r\n\r\n\r\n        @Autowired\r\n        private Validator validator;\r\n\r\n        private static final Logger LOG = getLogger(ValidTest.class);\r\n\r\n        @Test\r\n        @DisplayName(&quot;display injected validator SpringBean&quot;)\r\n        void displayInjectValidatorBean(){\r\n            LOG.info(validator.getClass().getName());\r\n            SimpleDTO allArg = new SimpleDTO(null, null, null, &quot;  &quot;);\r\n            Set&lt;ConstraintViolation&lt;Object&gt;&gt; checkResult = validator.validate(allArg);\r\n            if (!CollectionUtils.isEmpty(checkResult)) {\r\n                List&lt;String&gt; resultMsg = checkResult.stream().map(ConstraintViolation::getMessage).collect(Collectors.toList());\r\n                throw new RuntimeException(JSON.toJSONString(resultMsg));\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nThe injected Validator SpringBean is `org.springframework.validation.beanvalidation.LocalValidatorFactoryBean`. On this bean&#39;s comments documentation, I think this problem may be caused by Spring/hibernate-validator version.\r\n\r\n------- Edit on 12/1 --------\r\n\r\nI think you want to impl this: \r\n\r\n    public class SimpleDTO {\r\n\r\n        private static final Logger LOG = getLogger(SimpleDTO.class);\r\n\r\n\r\n        @NotNull(message = &quot;corpId is null&quot;)\r\n        private String corpId;\r\n\r\n        @NotNull(message = &quot;userId is null&quot;)\r\n        private String userId;\r\n\r\n        @NotNull(message = &quot;deptCode is null&quot;)\r\n        private String deptCode;\r\n\r\n        @NotBlank\r\n        private String notBlank;\r\n\r\n        public SimpleDTO(String corpId, String userId, String deptCode, String notBlank) {\r\n            this.corpId = corpId;\r\n            this.userId = userId;\r\n            this.deptCode = deptCode;\r\n            this.notBlank = notBlank;\r\n            Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n            Set&lt;ConstraintViolation&lt;SimpleDTO&gt;&gt; checkResult = validator.validate(this);\r\n            checkResult.forEach(v -&gt; LOG.error(&quot;VIOLATION: field [{}] - value: [{}] - message: [{}]&quot;, v.getPropertyPath(), v.getInvalidValue(), v.getMessage()));\r\n    }\r\n}\r\n\r\nOn this case, it will valid before finish constructor init.You can think of it as a hook, when constructor finish.\r\n\r\nBut on this case, it changed the internal logic of the constructor. It is destructive. \r\n\r\nBecause this may change the constructor by writing directly to the bytecode","link":"https://stackoverflow.com/questions/77567803/spring-valid-annotation-on-constructor-not-working-best-practice-to-validate-d/77568355#77568355","title":"Spring @Valid annotation on constructor not working. Best practice to validate Dto","body":"<p>I valid success when use this test case, you can try my case.</p>\n<p>DTO:</p>\n<pre><code>@Data\n@AllArgsConstructor(onConstructor_ = {@Valid})\npublic class SimpleDTO {\n\n\n  @NotNull(message = &quot;corpId is null&quot;)\n  private String corpId;\n\n  @NotNull(message = &quot;userId is null&quot;)\n  private String userId;\n\n  @NotNull(message = &quot;deptCode is null&quot;)\n  private String deptCode;\n\n  @NotBlank\n  private String notBlank;\n\n}\n</code></pre>\n<p>TestCase:</p>\n<pre><code> @SpringBootTest(classes = SimpleDemoApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n class ValidTest {\n\n    @Test\n    void testValid() {\n        Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n        LOG.info(validator.getClass().getName());\n        SimpleDTO allArg = new SimpleDTO(null, null, null, &quot;  &quot;);\n        Set&lt;ConstraintViolation&lt;Object&gt;&gt; checkResult = validator.validate(allArg);\n        if (!CollectionUtils.isEmpty(checkResult)) {\n            List&lt;String&gt; resultMsg =checkResult.stream().map(ConstraintViolation::getMessage).collect(Collectors.toList());\n            throw new RuntimeException(JSON.toJSONString(resultMsg));\n       }\n    }\n\n\n    @Autowired\n    private Validator validator;\n\n    private static final Logger LOG = getLogger(ValidTest.class);\n\n    @Test\n    @DisplayName(&quot;display injected validator SpringBean&quot;)\n    void displayInjectValidatorBean(){\n        LOG.info(validator.getClass().getName());\n        SimpleDTO allArg = new SimpleDTO(null, null, null, &quot;  &quot;);\n        Set&lt;ConstraintViolation&lt;Object&gt;&gt; checkResult = validator.validate(allArg);\n        if (!CollectionUtils.isEmpty(checkResult)) {\n            List&lt;String&gt; resultMsg = checkResult.stream().map(ConstraintViolation::getMessage).collect(Collectors.toList());\n            throw new RuntimeException(JSON.toJSONString(resultMsg));\n        }\n    }\n\n}\n</code></pre>\n<p>The injected Validator SpringBean is <code>org.springframework.validation.beanvalidation.LocalValidatorFactoryBean</code>. On this bean's comments documentation, I think this problem may be caused by Spring/hibernate-validator version.</p>\n<p>------- Edit on 12/1 --------</p>\n<p>I think you want to impl this:</p>\n<pre><code>public class SimpleDTO {\n\n    private static final Logger LOG = getLogger(SimpleDTO.class);\n\n\n    @NotNull(message = &quot;corpId is null&quot;)\n    private String corpId;\n\n    @NotNull(message = &quot;userId is null&quot;)\n    private String userId;\n\n    @NotNull(message = &quot;deptCode is null&quot;)\n    private String deptCode;\n\n    @NotBlank\n    private String notBlank;\n\n    public SimpleDTO(String corpId, String userId, String deptCode, String notBlank) {\n        this.corpId = corpId;\n        this.userId = userId;\n        this.deptCode = deptCode;\n        this.notBlank = notBlank;\n        Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n        Set&lt;ConstraintViolation&lt;SimpleDTO&gt;&gt; checkResult = validator.validate(this);\n        checkResult.forEach(v -&gt; LOG.error(&quot;VIOLATION: field [{}] - value: [{}] - message: [{}]&quot;, v.getPropertyPath(), v.getInvalidValue(), v.getMessage()));\n}\n</code></pre>\n<p>}</p>\n<p>On this case, it will valid before finish constructor init.You can think of it as a hook, when constructor finish.</p>\n<p>But on this case, it changed the internal logic of the constructor. It is destructive.</p>\n<p>Because this may change the constructor by writing directly to the bytecode</p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1701247078,"post_id":77569028,"comment_id":136750642,"body_markdown":"Thank you for your response. This is a very clear explanation, but it doesn&#39;t answer to the main question: how @Valid annotation work on constructors. Because the documentation says you can put on it and validate the output","link":"https://stackoverflow.com/questions/77567803/spring-valid-annotation-on-constructor-not-working-best-practice-to-validate-d/77569028#comment136750642_77569028","body":"Thank you for your response. This is a very clear explanation, but it doesn&#39;t answer to the main question: how @Valid annotation work on constructors. Because the documentation says you can put on it and validate the output"},{"score":0,"post_type":"answer","creation_date":1701248077,"post_id":77569028,"comment_id":136750825,"body_markdown":"From documentation:\n\nGeneric constraint annotations can target any of the following ElementTypes:\nCONSTRUCTOR for constrained constructor return values\n\nI also tried to put the @Validated annotation on the dto but it still not working","link":"https://stackoverflow.com/questions/77567803/spring-valid-annotation-on-constructor-not-working-best-practice-to-validate-d/77569028#comment136750825_77569028","body":"From documentation:  Generic constraint annotations can target any of the following ElementTypes: CONSTRUCTOR for constrained constructor return values  I also tried to put the @Validated annotation on the dto but it still not working"},{"score":0,"post_type":"answer","creation_date":1701252412,"post_id":77569028,"comment_id":136751576,"body_markdown":"Despite the ability to place `@Valid` on constructors, unfortunately, it doesn&#39;t make sense. I&#39;d consider this more of a feature for readability rather than functionality.\nThe description for `@Valid`:\n\n * Marks a property, method parameter or method return type for validation cascading.\n * Constraints defined on the object and its properties are be validated when the\n * property, method parameter or method return type is validated.\n * This behavior is applied recursively.\n\nSo, there is no way to use `@Valid` to automatically trigger validation of new objects.","link":"https://stackoverflow.com/questions/77567803/spring-valid-annotation-on-constructor-not-working-best-practice-to-validate-d/77569028#comment136751576_77569028","body":"Despite the ability to place <code>@Valid</code> on constructors, unfortunately, it doesn&#39;t make sense. I&#39;d consider this more of a feature for readability rather than functionality. The description for <code>@Valid</code>:   * Marks a property, method parameter or method return type for validation cascading.  * Constraints defined on the object and its properties are be validated when the  * property, method parameter or method return type is validated.  * This behavior is applied recursively.  So, there is no way to use <code>@Valid</code> to automatically trigger validation of new objects."}],"comment_count":3,"score":0,"last_activity_date":1701239791,"creation_date":1701239791,"answer_id":77569028,"question_id":77567803,"body_markdown":"Jakarta Bean Validation operates with a cascading nature. This means that @Valid doesn&#39;t trigger validation within the same object where it&#39;s placed when you create an object. For example, consider we have classes A and B:\r\n\r\n    class A {\r\n        @NotBlank\r\n        private String s;\r\n        private B b;\r\n    \r\n        public A(String s, @Valid B b) {\r\n            this.s = s;\r\n            this.b = b;\r\n        }\r\n    }\r\n    \r\n    class B {\r\n        @NotBlank\r\n        private String s;\r\n        @Min(2)\r\n        private Integer n;\r\n    \r\n        public B(String s, Integer n) {\r\n            this.s = s;\r\n            this.n = n;\r\n        }\r\n    }\r\n\r\nWhen we instantiate class A, it will not check the @NotBlank constraint on the String s, but it will trigger the validation of the fields of the object B b.\r\n\r\nThus, @Valid is designed for cascading validation and is primarily used in controllers, where Spring automatically triggers validation. To validate your DTOs or any objects outside of such frameworks, you typically need to write specific code or manually use a Validator instance.\r\n","link":"https://stackoverflow.com/questions/77567803/spring-valid-annotation-on-constructor-not-working-best-practice-to-validate-d/77569028#77569028","title":"Spring @Valid annotation on constructor not working. Best practice to validate Dto","body":"<p>Jakarta Bean Validation operates with a cascading nature. This means that @Valid doesn't trigger validation within the same object where it's placed when you create an object. For example, consider we have classes A and B:</p>\n<pre><code>class A {\n    @NotBlank\n    private String s;\n    private B b;\n\n    public A(String s, @Valid B b) {\n        this.s = s;\n        this.b = b;\n    }\n}\n\nclass B {\n    @NotBlank\n    private String s;\n    @Min(2)\n    private Integer n;\n\n    public B(String s, Integer n) {\n        this.s = s;\n        this.n = n;\n    }\n}\n</code></pre>\n<p>When we instantiate class A, it will not check the @NotBlank constraint on the String s, but it will trigger the validation of the fields of the object B b.</p>\n<p>Thus, @Valid is designed for cascading validation and is primarily used in controllers, where Spring automatically triggers validation. To validate your DTOs or any objects outside of such frameworks, you typically need to write specific code or manually use a Validator instance.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":89,"answer_count":2,"score":1,"last_activity_date":1701394354,"creation_date":1701215248,"last_edit_date":1701248421,"question_id":77567803,"body_markdown":"Today I was looking for a way to validate a DTO that I have to return to the FE.\r\nI thought could be a good idea to create the constructor with the `@Valid` annotation from `jakarta.validation` package because documentation says it can be used on constructor.\r\nSo I created my Test with an example DTO and the Lombok annotation on `@AllArgsConstructor` in this way:\r\n\r\n    \r\n    @AllArgsConstructor(onConstructor_ = {@Valid})\r\n    public class TestValidatedDto {\r\n        @NotNull\r\n        private String value1;\r\n        @NotBlank\r\n        private String value2;\r\n        @Min(2)\r\n        @NotNull\r\n        private Integer number;\r\n    }\r\n\r\nThis is the DTO generated by Lombok:\r\n\r\n    public class TestValidatedDto {\r\n        private @NotNull String value1;\r\n        private @NotBlank String value2;\r\n        private @Min(2L) @NotNull Integer number;\r\n    \r\n        public @Valid TestValidatedDto(final String value1, final String value2, final Integer number) {\r\n            this.value1 = value1;\r\n            this.value2 = value2;\r\n            this.number = number;\r\n        }\r\n    }\r\n\r\nAnd I have the `@Valid` annotation on the constructor as I was expecting.\r\nNow I created a Test but the result was not the one I needed.\r\n\r\n    @SpringBootTest\r\n    @Slf4j\r\n    class TestValidationAnnotationApplicationTests {\r\n    \r\n    \t@Autowired\r\n    \tprivate Validator validator;\r\n    \r\n    \t@Test\r\n    \tvoid testValidation1(){\r\n    \t\tTestValidatedDto testValidatedDto = new TestValidatedDto(null, &quot;     &quot;, 1);\r\n    \t\tlog.info(&quot;Created dto: [{}]&quot;,testValidatedDto);\r\n    \t\tSet&lt;ConstraintViolation&lt;TestValidatedDto&gt;&gt; violations = validator.validate(testValidatedDto);\r\n    \t\tviolations.forEach(v -&gt; {\r\n    \t\t\tlog.info(&quot;VIOLATION: field [{}] - value: [{}] - message: [{}]&quot;, v.getPropertyPath(), v.getInvalidValue(), v.getMessage());\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\nI can&#39;t understand why the `@Valid` on the constructor is not working. I know constructor is not a method, but the documentation says it can be used to validate the return from constructor.\r\nDoes anyone know the right working of this annotation?\r\n\r\nhttps://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html\r\n\r\nIf this is not the right way to do it, can someone explain some best practice to validate Dto you need to return in controller in a simple way?\r\n\r\nUPDATE:\r\nI forgot to say, I tried it also with the annotation `@Validated` on the DTO class, but the constructor validation still not work.\r\nThis is the documentation part I want to verify:\r\n\r\n&gt; Generic constraint annotations can target any of the following\r\n&gt; ElementTypes:\r\n&gt; \r\n&gt; FIELD for constrained attributes\r\n&gt; \r\n&gt; METHOD for constrained getters and constrained method return values\r\n&gt; \r\n&gt; CONSTRUCTOR for constrained constructor return values\r\n&gt; \r\n&gt; PARAMETER for constrained method and constructor parameters\r\n&gt; \r\n&gt; TYPE for constrained beans\r\n&gt; \r\n&gt; ANNOTATION_TYPE for constraints composing other constraints\r\n&gt; \r\n&gt; TYPE_USE for container element constraints","link":"https://stackoverflow.com/questions/77567803/spring-valid-annotation-on-constructor-not-working-best-practice-to-validate-d","title":"Spring @Valid annotation on constructor not working. Best practice to validate Dto","body":"<p>Today I was looking for a way to validate a DTO that I have to return to the FE.\nI thought could be a good idea to create the constructor with the <code>@Valid</code> annotation from <code>jakarta.validation</code> package because documentation says it can be used on constructor.\nSo I created my Test with an example DTO and the Lombok annotation on <code>@AllArgsConstructor</code> in this way:</p>\n<pre><code>@AllArgsConstructor(onConstructor_ = {@Valid})\npublic class TestValidatedDto {\n    @NotNull\n    private String value1;\n    @NotBlank\n    private String value2;\n    @Min(2)\n    @NotNull\n    private Integer number;\n}\n</code></pre>\n<p>This is the DTO generated by Lombok:</p>\n<pre><code>public class TestValidatedDto {\n    private @NotNull String value1;\n    private @NotBlank String value2;\n    private @Min(2L) @NotNull Integer number;\n\n    public @Valid TestValidatedDto(final String value1, final String value2, final Integer number) {\n        this.value1 = value1;\n        this.value2 = value2;\n        this.number = number;\n    }\n}\n</code></pre>\n<p>And I have the <code>@Valid</code> annotation on the constructor as I was expecting.\nNow I created a Test but the result was not the one I needed.</p>\n<pre><code>@SpringBootTest\n@Slf4j\nclass TestValidationAnnotationApplicationTests {\n\n    @Autowired\n    private Validator validator;\n\n    @Test\n    void testValidation1(){\n        TestValidatedDto testValidatedDto = new TestValidatedDto(null, &quot;     &quot;, 1);\n        log.info(&quot;Created dto: [{}]&quot;,testValidatedDto);\n        Set&lt;ConstraintViolation&lt;TestValidatedDto&gt;&gt; violations = validator.validate(testValidatedDto);\n        violations.forEach(v -&gt; {\n            log.info(&quot;VIOLATION: field [{}] - value: [{}] - message: [{}]&quot;, v.getPropertyPath(), v.getInvalidValue(), v.getMessage());\n        });\n    }\n\n}\n</code></pre>\n<p>I can't understand why the <code>@Valid</code> on the constructor is not working. I know constructor is not a method, but the documentation says it can be used to validate the return from constructor.\nDoes anyone know the right working of this annotation?</p>\n<p><a href=\"https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html</a></p>\n<p>If this is not the right way to do it, can someone explain some best practice to validate Dto you need to return in controller in a simple way?</p>\n<p>UPDATE:\nI forgot to say, I tried it also with the annotation <code>@Validated</code> on the DTO class, but the constructor validation still not work.\nThis is the documentation part I want to verify:</p>\n<blockquote>\n<p>Generic constraint annotations can target any of the following\nElementTypes:</p>\n<p>FIELD for constrained attributes</p>\n<p>METHOD for constrained getters and constrained method return values</p>\n<p>CONSTRUCTOR for constrained constructor return values</p>\n<p>PARAMETER for constrained method and constructor parameters</p>\n<p>TYPE for constrained beans</p>\n<p>ANNOTATION_TYPE for constraints composing other constraints</p>\n<p>TYPE_USE for container element constraints</p>\n</blockquote>\n"},{"tags":["java","constructor"],"comments":[{"score":5,"post_type":"question","creation_date":1701353169,"post_id":77579068,"comment_id":136766977,"body_markdown":"You really need an explanation why some people prefer to write `new WeightIn(3.65,1.7)` instead of `WeightIn someName = new WeightIn(); someName.setWeight(3.65); someName.setHeight(1.7);`? Are you aware that the latter is not even possible with immutable objects? Did you notice that the OP of the [old question](https://stackoverflow.com/q/18159104/2711488) even managed to make *two* errors in that small piece of code?","link":"https://stackoverflow.com/questions/77579068/whats-the-reason-to-call-create-non-default-constructor-instead-of-method#comment136766977_77579068","body":"You really need an explanation why some people prefer to write <code>new WeightIn(3.65,1.7)</code> instead of <code>WeightIn someName = new WeightIn(); someName.setWeight(3.65); someName.setHeight(1.7);</code>? Are you aware that the latter is not even possible with immutable objects? Did you notice that the OP of the <a href=\"https://stackoverflow.com/q/18159104/2711488\">old question</a> even managed to make <i>two</i> errors in that small piece of code?"},{"score":0,"post_type":"question","creation_date":1701353262,"post_id":77579068,"comment_id":136766994,"body_markdown":"Also, what if tomorrow you need the constructor to do other stuff after setting values? Are you going to hunt down every call to the default constructor and add whatever it needs to do down there? What if the operations it does are not public?","link":"https://stackoverflow.com/questions/77579068/whats-the-reason-to-call-create-non-default-constructor-instead-of-method#comment136766994_77579068","body":"Also, what if tomorrow you need the constructor to do other stuff after setting values? Are you going to hunt down every call to the default constructor and add whatever it needs to do down there? What if the operations it does are not public?"},{"score":0,"post_type":"question","creation_date":1701354223,"post_id":77579068,"comment_id":136767201,"body_markdown":"I would say all answers are valuable, thanks, all clear now.","link":"https://stackoverflow.com/questions/77579068/whats-the-reason-to-call-create-non-default-constructor-instead-of-method#comment136767201_77579068","body":"I would say all answers are valuable, thanks, all clear now."}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701353145,"creation_date":1701353145,"answer_id":77579102,"question_id":77579068,"body_markdown":"First, it&#39;s arguably more elegant to initialize the object in one call instead of creating it and updating it later:\r\n\r\n```java\r\nWeightIn weight1 = new WeightIn(3.65, 1.7);\r\n```\r\n\r\nSecond, it may be useful to have the constructor as the **only** way to initialize an object&#39;s value, allowing you to make it [immutable](https://en.wikipedia.org/wiki/Immutable_object) once created.","link":"https://stackoverflow.com/questions/77579068/whats-the-reason-to-call-create-non-default-constructor-instead-of-method/77579102#77579102","title":"What&#39;s the reason to call/create non-default constructor instead of method?","body":"<p>First, it's arguably more elegant to initialize the object in one call instead of creating it and updating it later:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WeightIn weight1 = new WeightIn(3.65, 1.7);\n</code></pre>\n<p>Second, it may be useful to have the constructor as the <strong>only</strong> way to initialize an object's value, allowing you to make it <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable</a> once created.</p>\n"}],"comment_count":3,"is_answered":true,"view_count":69,"answer_count":1,"score":-1,"last_activity_date":1701392561,"creation_date":1701352872,"last_edit_date":1701392561,"question_id":77579068,"body_markdown":"Since I&#39;m  new in this field,it&#39;s better to learn good habits. I came across an article\r\n[https://stackoverflow.com/questions/18159104/java-error-the-constructor-is-undefined][1] where constructor undefined error appeared. All is clear to me, just why we should call the constructor with parameters and not just the method, like code below(no need to create default constructor)? What&#39;s the advantage here?\r\n\r\n\r\n```java\r\npublic class WeightIn{\r\n  private double weight;\r\n  private double height;\r\n\r\n  public void Setvalues (double weightIn, double heightIn){\r\n    weight = weightIn;\r\n    height = heightIn;\r\n  }\r\n  public void setWeight(double weightIn){//this method is reduntant and not needed\r\n    weight = weightIn;\r\n  }\r\n  public void setHeight(double heightIn){//this method is reduntant and not needed\r\n    height = heightIn;\r\n  }\r\n}\r\n\r\npublic class WeightInApp{\r\n  public static void main (String [] args){\r\n    WeightIn weight1 = new WeightIn();\r\n    WeightIn weight2 = new WeightIn();\r\n    weight1.Setvalues(3.65, 1.7);\r\n    weight2.Setvalues(1.7, 1.7);\r\n  }\r\n}\r\n```\r\n\r\n\r\nI tried to reproduce this error and figured it out myself by learning..:).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18159104/java-error-the-constructor-is-undefined","link":"https://stackoverflow.com/questions/77579068/whats-the-reason-to-call-create-non-default-constructor-instead-of-method","title":"What&#39;s the reason to call/create non-default constructor instead of method?","body":"<p>Since I'm  new in this field,it's better to learn good habits. I came across an article\n<a href=\"https://stackoverflow.com/questions/18159104/java-error-the-constructor-is-undefined\">Java Error: The constructor is undefined</a> where constructor undefined error appeared. All is clear to me, just why we should call the constructor with parameters and not just the method, like code below(no need to create default constructor)? What's the advantage here?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WeightIn{\n  private double weight;\n  private double height;\n\n  public void Setvalues (double weightIn, double heightIn){\n    weight = weightIn;\n    height = heightIn;\n  }\n  public void setWeight(double weightIn){//this method is reduntant and not needed\n    weight = weightIn;\n  }\n  public void setHeight(double heightIn){//this method is reduntant and not needed\n    height = heightIn;\n  }\n}\n\npublic class WeightInApp{\n  public static void main (String [] args){\n    WeightIn weight1 = new WeightIn();\n    WeightIn weight2 = new WeightIn();\n    weight1.Setvalues(3.65, 1.7);\n    weight2.Setvalues(1.7, 1.7);\n  }\n}\n</code></pre>\n<p>I tried to reproduce this error and figured it out myself by learning..:).</p>\n"},{"tags":["java","biginteger"],"comments":[{"score":1,"post_type":"question","creation_date":1701366159,"post_id":77580626,"comment_id":136769626,"body_markdown":"Given that a BigInteger represents an *integer* what would you expect it to return? What&#39;s the inverse of 2 for example, given that you can&#39;t represent 1/2 as a BigInteger?","link":"https://stackoverflow.com/questions/77580626/finding-modular-inverse-of-a-biginteger#comment136769626_77580626","body":"Given that a BigInteger represents an <i>integer</i> what would you expect it to return? What&#39;s the inverse of 2 for example, given that you can&#39;t represent 1/2 as a BigInteger?"},{"score":1,"post_type":"question","creation_date":1701366233,"post_id":77580626,"comment_id":136769639,"body_markdown":"Isn&#39;t that exactly what `modInverse()` is doing? Why do you say you don&#39;t need &quot;mod m&quot; when in your formula you have &quot;mod p&quot;?","link":"https://stackoverflow.com/questions/77580626/finding-modular-inverse-of-a-biginteger#comment136769639_77580626","body":"Isn&#39;t that exactly what <code>modInverse()</code> is doing? Why do you say you don&#39;t need &quot;mod m&quot; when in your formula you have &quot;mod p&quot;?"},{"score":3,"post_type":"question","creation_date":1701366271,"post_id":77580626,"comment_id":136769649,"body_markdown":"You need the inverse modulo `p` then. &quot;mod p&quot; after a mathematical statement does not mean &quot;apply mod p as the last step&quot;, the whole expression needs to be interpreted modulo p otherwise it will be inconsistent.","link":"https://stackoverflow.com/questions/77580626/finding-modular-inverse-of-a-biginteger#comment136769649_77580626","body":"You need the inverse modulo <code>p</code> then. &quot;mod p&quot; after a mathematical statement does not mean &quot;apply mod p as the last step&quot;, the whole expression needs to be interpreted modulo p otherwise it will be inconsistent."},{"score":3,"post_type":"question","creation_date":1701369461,"post_id":77580626,"comment_id":136770219,"body_markdown":"Also, such jobs tend to be crypto related. @PrettyCoder - that `mod p` thing is not a for funsies afterthought. The operation is going to require a few years worth of CPU power without it, i.e. you __cant split that `mod p` thing off and save it until the end__. I&#39;m not exaggerating with &#39;a few years&#39; - it&#39;s probably more like &#39;heat death of the universe&#39;.","link":"https://stackoverflow.com/questions/77580626/finding-modular-inverse-of-a-biginteger#comment136770219_77580626","body":"Also, such jobs tend to be crypto related. @PrettyCoder - that <code>mod p</code> thing is not a for funsies afterthought. The operation is going to require a few years worth of CPU power without it, i.e. you <b>cant split that <code>mod p</code> thing off and save it until the end</b>. I&#39;m not exaggerating with &#39;a few years&#39; - it&#39;s probably more like &#39;heat death of the universe&#39;."},{"score":0,"post_type":"question","creation_date":1701378836,"post_id":77580626,"comment_id":136771771,"body_markdown":"aside from the issue of a possible `OutOfMemoryError`.","link":"https://stackoverflow.com/questions/77580626/finding-modular-inverse-of-a-biginteger#comment136771771_77580626","body":"aside from the issue of a possible <code>OutOfMemoryError</code>."},{"score":0,"post_type":"question","creation_date":1701381288,"post_id":77580626,"comment_id":136772154,"body_markdown":"I found some basic info on modular inverse, if anyone wants to read up: https://www.khanacademy.org/computing/computer-science/cryptography/modarithmetic/a/modular-inverses","link":"https://stackoverflow.com/questions/77580626/finding-modular-inverse-of-a-biginteger#comment136772154_77580626","body":"I found some basic info on modular inverse, if anyone wants to read up: <a href=\"https://www.khanacademy.org/computing/computer-science/cryptography/modarithmetic/a/modular-inverses\" rel=\"nofollow noreferrer\">khanacademy.org/computing/computer-science/cryptography/&hellip;</a>"}],"comment_count":6,"is_answered":false,"view_count":85,"answer_count":0,"score":-1,"last_activity_date":1701390502,"creation_date":1701366061,"last_edit_date":1701390502,"question_id":77580626,"body_markdown":"How do I get inverted BigInteger in Java?\r\nThere is a &quot;**modInverse**&quot; method, but I do not need &quot;mod m&quot;.\r\n\r\nI need to perform next operation: *M = b * (a^x)^-1 mod p*, so I firstly need to obtain *(a^x)^-1* and after that, multiply the result by *b* and modulus *p*.","link":"https://stackoverflow.com/questions/77580626/finding-modular-inverse-of-a-biginteger","title":"Finding modular inverse of a BigInteger","body":"<p>How do I get inverted BigInteger in Java?\nThere is a &quot;<strong>modInverse</strong>&quot; method, but I do not need &quot;mod m&quot;.</p>\n<p>I need to perform next operation: <em>M = b * (a^x)^-1 mod p</em>, so I firstly need to obtain <em>(a^x)^-1</em> and after that, multiply the result by <em>b</em> and modulus <em>p</em>.</p>\n"},{"tags":["java"],"comments":[{"score":0,"post_type":"question","creation_date":1701367577,"post_id":77580720,"comment_id":136769867,"body_markdown":"A classpath problem? Hard to say since there’s no info about how you’re compiling, project layout, etc.","link":"https://stackoverflow.com/questions/77580720/error-while-compiling-code-to-extract-text-from-pdf-using-java#comment136769867_77580720","body":"A classpath problem? Hard to say since there’s no info about how you’re compiling, project layout, etc."},{"score":0,"post_type":"question","creation_date":1701367612,"post_id":77580720,"comment_id":136769870,"body_markdown":"Stack traces should be formatted as plain text. Expository text should not be quoted unless it’s a quote.","link":"https://stackoverflow.com/questions/77580720/error-while-compiling-code-to-extract-text-from-pdf-using-java#comment136769870_77580720","body":"Stack traces should be formatted as plain text. Expository text should not be quoted unless it’s a quote."},{"score":0,"post_type":"question","creation_date":1701368086,"post_id":77580720,"comment_id":136769939,"body_markdown":"@DaveNewton i tried both ways, from eclipse and also from command prompt. When i tried with echo $CLASSPATH - this is what i get in my terminal. .:/Volumes/NO NAME/Java/Lessons/Lessons/src","link":"https://stackoverflow.com/questions/77580720/error-while-compiling-code-to-extract-text-from-pdf-using-java#comment136769939_77580720","body":"@DaveNewton i tried both ways, from eclipse and also from command prompt. When i tried with echo $CLASSPATH - this is what i get in my terminal. .:/Volumes/NO NAME/Java/Lessons/Lessons/src"},{"score":0,"post_type":"question","creation_date":1701378101,"post_id":77580720,"comment_id":136771656,"body_markdown":"@DaveNewton yes it was classpath issue, added the apache pdfbox jar file into the classpath and issue got resolved. Thanks a lot for the hint.","link":"https://stackoverflow.com/questions/77580720/error-while-compiling-code-to-extract-text-from-pdf-using-java#comment136771656_77580720","body":"@DaveNewton yes it was classpath issue, added the apache pdfbox jar file into the classpath and issue got resolved. Thanks a lot for the hint."},{"score":0,"post_type":"question","creation_date":1701482382,"post_id":77580720,"comment_id":136785026,"body_markdown":"Glad you worked it out &#128077;&#127995;","link":"https://stackoverflow.com/questions/77580720/error-while-compiling-code-to-extract-text-from-pdf-using-java#comment136785026_77580720","body":"Glad you worked it out 👍🏻"}],"comment_count":5,"is_answered":false,"view_count":37,"answer_count":0,"score":-2,"last_activity_date":1701390388,"creation_date":1701367218,"last_edit_date":1701390388,"question_id":77580720,"body_markdown":" I am new to this moudule of extracting text from PDF using java, i used PDFBOX libraries for the same. Below is the sample code. While compiling i get the below mentioned code. Can someone please share your view what could be wrong.\r\n Version used :\r\n **************\r\n\r\n Java :\r\n*****\r\n\r\n java 21.0.1 2023-10-17 LTS\r\n Java(TM) SE Runtime Environment (build 21.0.1+12-LTS-29)\r\n Java HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)\r\n\r\n Eclipse : Version: 2023-09 (4.29.0)\r\n\r\n *******\r\n PDF BOX Library Version :\r\n *************************\r\n\r\n 2.0.30\r\n\r\n Note : The JAR files i kept in different location and not inside the src folder.\r\n\r\n Code Used :\r\n **********\r\n\r\n\r\n\r\n\r\n    import java.io.File; \r\n\r\n    import java.io.IOException; \r\n\r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n\r\n    import org.apache.pdfbox.text.PDFTextStripper;\r\n\r\n    import org.apache.pdfbox.text.PDFTextStripperByArea;\r\n\r\n    public class PDFTextExtractor {\r\n\r\n        public static void main(String[] args) {\r\n\r\n    \t     System.out.println(&quot;test&quot;);\r\n\r\n           File file = new File(&quot;local pdf path&quot;)\r\n\r\n             try {\r\n\r\n                PDDocument document = PDDocument.load(file);\r\n\r\n                PDFTextStripper pdfStripper = new PDFTextStripper();\r\n\r\n                String text = pdfStripper.getText(document);\r\n\r\n                System.out.println(text);\r\n\r\n                document.close();\r\n\r\n            } catch (IOException e) {\r\n\r\n                e.printStackTrace();\r\n\r\n            }\r\n\r\n        \r\n\r\n        }\r\n\r\n   \r\n\r\n\r\nError While compilation :\r\n\r\n     ***************************\r\n     PDFTextExtractor.java:8: error: package org.apache.pdfbox.pdmodel does not exist\r\n     import org.apache.pdfbox.pdmodel.PDDocument;\r\n                                     ^\r\n     PDFTextExtractor.java:9: error: package org.apache.pdfbox.text does not exist\r\n     import org.apache.pdfbox.text.PDFTextStripper;\r\n                                  ^\r\n     PDFTextExtractor.java:10: error: package org.apache.pdfbox.text does not exist\r\n     import org.apache.pdfbox.text.PDFTextStripperByArea;\r\n                                  ^\r\n     PDFTextExtractor.java:35: error: cannot find symbol\r\n     PDDocument document = PDDocument.load(file);\r\n                 ^\r\n     symbol:   class PDDocument\r\n     location: class PDFTextExtractor\r\n     PDFTextExtractor.java:35: error: cannot find symbol\r\n     PDDocument document = PDDocument.load(file);\r\n                                       ^\r\n     symbol:   variable PDDocument\r\n     location: class PDFTextExtractor\r\n     PDFTextExtractor.java:36: error: cannot find symbol\r\n     PDFTextStripper pdfStripper = new PDFTextStripper();\r\n                 ^\r\n     symbol:   class PDFTextStripper\r\n     location: class PDFTextExtractor\r\n     PDFTextExtractor.java:36: error: cannot find symbol\r\n     PDFTextStripper pdfStripper = new PDFTextStripper();\r\n                                                   ^\r\n     symbol:   class PDFTextStripper\r\n     location: class PDFTextExtractor\r\n     \r\n     \r\n\r\n \r\n I tried the above and getting the above mentioned error.","link":"https://stackoverflow.com/questions/77580720/error-while-compiling-code-to-extract-text-from-pdf-using-java","title":"Error while Compiling code to Extract text from PDF using Java","body":"<p>I am new to this moudule of extracting text from PDF using java, i used PDFBOX libraries for the same. Below is the sample code. While compiling i get the below mentioned code. Can someone please share your view what could be wrong.\nVersion used :</p>\n<hr />\n<p>Java :</p>\n<hr />\n<p>java 21.0.1 2023-10-17 LTS\nJava(TM) SE Runtime Environment (build 21.0.1+12-LTS-29)\nJava HotSpot(TM) 64-Bit Server VM (build 21.0.1+12-LTS-29, mixed mode, sharing)</p>\n<p>Eclipse : Version: 2023-09 (4.29.0)</p>\n<hr />\n<p>PDF BOX Library Version :</p>\n<hr />\n<p>2.0.30</p>\n<p>Note : The JAR files i kept in different location and not inside the src folder.</p>\n<p>Code Used :</p>\n<hr />\n<pre><code>import java.io.File; \n\nimport java.io.IOException; \n\nimport org.apache.pdfbox.pdmodel.PDDocument;\n\nimport org.apache.pdfbox.text.PDFTextStripper;\n\nimport org.apache.pdfbox.text.PDFTextStripperByArea;\n\npublic class PDFTextExtractor {\n\n    public static void main(String[] args) {\n\n         System.out.println(&quot;test&quot;);\n\n       File file = new File(&quot;local pdf path&quot;)\n\n         try {\n\n            PDDocument document = PDDocument.load(file);\n\n            PDFTextStripper pdfStripper = new PDFTextStripper();\n\n            String text = pdfStripper.getText(document);\n\n            System.out.println(text);\n\n            document.close();\n\n        } catch (IOException e) {\n\n            e.printStackTrace();\n\n        }\n\n    \n\n    }\n</code></pre>\n<p>Error While compilation :</p>\n<pre><code> ***************************\n PDFTextExtractor.java:8: error: package org.apache.pdfbox.pdmodel does not exist\n import org.apache.pdfbox.pdmodel.PDDocument;\n                                 ^\n PDFTextExtractor.java:9: error: package org.apache.pdfbox.text does not exist\n import org.apache.pdfbox.text.PDFTextStripper;\n                              ^\n PDFTextExtractor.java:10: error: package org.apache.pdfbox.text does not exist\n import org.apache.pdfbox.text.PDFTextStripperByArea;\n                              ^\n PDFTextExtractor.java:35: error: cannot find symbol\n PDDocument document = PDDocument.load(file);\n             ^\n symbol:   class PDDocument\n location: class PDFTextExtractor\n PDFTextExtractor.java:35: error: cannot find symbol\n PDDocument document = PDDocument.load(file);\n                                   ^\n symbol:   variable PDDocument\n location: class PDFTextExtractor\n PDFTextExtractor.java:36: error: cannot find symbol\n PDFTextStripper pdfStripper = new PDFTextStripper();\n             ^\n symbol:   class PDFTextStripper\n location: class PDFTextExtractor\n PDFTextExtractor.java:36: error: cannot find symbol\n PDFTextStripper pdfStripper = new PDFTextStripper();\n                                               ^\n symbol:   class PDFTextStripper\n location: class PDFTextExtractor\n \n \n</code></pre>\n<p>I tried the above and getting the above mentioned error.</p>\n"},{"tags":["java","android","android-emulator"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701385345,"creation_date":1701385345,"answer_id":77582138,"question_id":77305873,"body_markdown":"What you need do is to stop the virtual device from running and try again. Give it time to boot up.","link":"https://stackoverflow.com/questions/77305873/cannot-invoke-com-android-ddmlib-emulatorconsole-kill-because-console-is-n/77582138#77582138","title":"Cannot invoke &quot;com.android.ddmlib.EmulatorConsole.kill()&quot; because &quot;console&quot; is null","body":"<p>What you need do is to stop the virtual device from running and try again. Give it time to boot up.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":258,"answer_count":1,"score":2,"last_activity_date":1701385345,"creation_date":1697509654,"question_id":77305873,"body_markdown":"I&#39;m facing a problem with the emulator. The System UI stops working, so I close it, but then the emulator just vanishes. \r\n\r\nWhen I try to stop the emulator, I get an error that says, &quot;Cannot invoke &#39;com.android.ddmlib.EmulatorConsole.kill()&#39; because &#39;console&#39; is null.&quot; Any ideas on how to fix this?","link":"https://stackoverflow.com/questions/77305873/cannot-invoke-com-android-ddmlib-emulatorconsole-kill-because-console-is-n","title":"Cannot invoke &quot;com.android.ddmlib.EmulatorConsole.kill()&quot; because &quot;console&quot; is null","body":"<p>I'm facing a problem with the emulator. The System UI stops working, so I close it, but then the emulator just vanishes.</p>\n<p>When I try to stop the emulator, I get an error that says, &quot;Cannot invoke 'com.android.ddmlib.EmulatorConsole.kill()' because 'console' is null.&quot; Any ideas on how to fix this?</p>\n"},{"tags":["java","maven","javafx","gson"],"comments":[{"score":0,"post_type":"question","creation_date":1701379785,"post_id":77581756,"comment_id":136771936,"body_markdown":"@jewelsea Ah okay! I didn&#39;t even know the file existed and I had to add statements to get it to work. Thank you for the information","link":"https://stackoverflow.com/questions/77581756/cannot-import-gson-into-my-javafx-maven-project#comment136771936_77581756","body":"@jewelsea Ah okay! I didn&#39;t even know the file existed and I had to add statements to get it to work. Thank you for the information"},{"score":1,"post_type":"question","creation_date":1701380233,"post_id":77581756,"comment_id":136772018,"body_markdown":"Also, is there a reason why you set `&lt;scope&gt;provided&lt;/scope&gt;` for the Gson dependency?","link":"https://stackoverflow.com/questions/77581756/cannot-import-gson-into-my-javafx-maven-project#comment136772018_77581756","body":"Also, is there a reason why you set <code>&lt;scope&gt;provided&lt;&#47;scope&gt;</code> for the Gson dependency?"},{"score":1,"post_type":"question","creation_date":1701380837,"post_id":77581756,"comment_id":136772100,"body_markdown":"@Marcono1234 That was just a solution someone had given online that I tried. The problem seemed similar to mine but it didn&#39;t work","link":"https://stackoverflow.com/questions/77581756/cannot-import-gson-into-my-javafx-maven-project#comment136772100_77581756","body":"@Marcono1234 That was just a solution someone had given online that I tried. The problem seemed similar to mine but it didn&#39;t work"}],"answers":[{"comment_count":0,"score":5,"last_activity_date":1701381804,"last_edit_date":1701381804,"creation_date":1701380448,"answer_id":77581872,"question_id":77581756,"body_markdown":"#### For modular applications\r\n\r\nFor a modular application, with `module-info.java` you need to provide the appropriate settings to make the gson module available to your code and your code available to gson.  \r\n\r\nThis is detailed in the Gson trouble shooting documentation, under the section:\r\n\r\n * [InaccessibleObjectException: &#39;module ... does not &quot;opens ...&quot; to module com.google.gson&#39;](https://github.com/google/gson/blob/main/Troubleshooting.md#-inaccessibleobjectexception-module--does-not-opens--to-module-comgooglegson).\r\n\r\n&gt; Make sure the `module-info.java` file of your project allows Gson to use reflection on your classes, for example:\r\n&gt; \r\n&gt; \r\n&gt;     module mymodule {\r\n&gt;         requires com.google.gson;\r\n&gt;     \r\n&gt;         opens mypackage to com.google.gson;\r\n&gt;     }\r\n\r\n#### For your project\r\n\r\nChange:\r\n\r\n    module ca.cmpt213.asn5 {\r\n        requires transitive javafx.controls;\r\n    \r\n        exports ca.cmpt213.asn5;\r\n    }\r\n\r\nto:\r\n\r\n    module ca.cmpt213.asn5 {\r\n        requires javafx.controls;\r\n        requires com.google.gson;\r\n    \r\n        opens mypackage to com.google.gson;\r\n\r\n        exports ca.cmpt213.asn5;\r\n    }\r\n\r\nWhere `mypackage` is some package in your code that Gson needs to run reflection on.  \r\n\r\nThough it causes no issue, I just note that the `transitive` keyword isn&#39;t needed for your application. It is used to make types in dependent modules available to clients of your module.  That is a function more useful for creating sharable library modules than for standalone JavaFX applications.\r\n\r\n#### For non-modular applications\r\n\r\nAlternately, you can make your application non-modular by removing the `module-info.java` file and following the [instructions for non-modular applications on openjfx.io][1].\r\n\r\n#### Using the appropriate maven scope\r\n\r\nAs noted in the comments, only use [`provided`][2] scope when you are sure that the provided dependency will be present in your runtime environment.  Gson is not part of the standard JRE, so it is unlikely to be present.\r\n\r\nFrom the [Maven documentation][2]:\r\n\r\n&gt; **provided**\r\n&gt;\r\n&gt; This is much like `compile`, but indicates you expect the JDK or a container to provide the dependency at runtime. For example, when building a web application for the Java Enterprise Edition, you would set the dependency on the Servlet API and related Java EE APIs to scope provided because the web container provides those classes. A dependency with this scope is added to the classpath used for compilation and test, but not the runtime classpath. It is not transitive.\r\n\r\nProbably, your dependency should just use the default **compile** scope and read:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/\r\n  [2]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope\r\n","link":"https://stackoverflow.com/questions/77581756/cannot-import-gson-into-my-javafx-maven-project/77581872#77581872","title":"Cannot import Gson into my JavaFX Maven project","body":"<h4>For modular applications</h4>\n<p>For a modular application, with <code>module-info.java</code> you need to provide the appropriate settings to make the gson module available to your code and your code available to gson.</p>\n<p>This is detailed in the Gson trouble shooting documentation, under the section:</p>\n<ul>\n<li><a href=\"https://github.com/google/gson/blob/main/Troubleshooting.md#-inaccessibleobjectexception-module--does-not-opens--to-module-comgooglegson\" rel=\"nofollow noreferrer\">InaccessibleObjectException: 'module ... does not &quot;opens ...&quot; to module com.google.gson'</a>.</li>\n</ul>\n<blockquote>\n<p>Make sure the <code>module-info.java</code> file of your project allows Gson to use reflection on your classes, for example:</p>\n<pre><code>module mymodule {\n    requires com.google.gson;\n\n    opens mypackage to com.google.gson;\n}\n</code></pre>\n</blockquote>\n<h4>For your project</h4>\n<p>Change:</p>\n<pre><code>module ca.cmpt213.asn5 {\n    requires transitive javafx.controls;\n\n    exports ca.cmpt213.asn5;\n}\n</code></pre>\n<p>to:</p>\n<pre><code>module ca.cmpt213.asn5 {\n    requires javafx.controls;\n    requires com.google.gson;\n\n    opens mypackage to com.google.gson;\n\n    exports ca.cmpt213.asn5;\n}\n</code></pre>\n<p>Where <code>mypackage</code> is some package in your code that Gson needs to run reflection on.</p>\n<p>Though it causes no issue, I just note that the <code>transitive</code> keyword isn't needed for your application. It is used to make types in dependent modules available to clients of your module.  That is a function more useful for creating sharable library modules than for standalone JavaFX applications.</p>\n<h4>For non-modular applications</h4>\n<p>Alternately, you can make your application non-modular by removing the <code>module-info.java</code> file and following the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">instructions for non-modular applications on openjfx.io</a>.</p>\n<h4>Using the appropriate maven scope</h4>\n<p>As noted in the comments, only use <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope\" rel=\"nofollow noreferrer\"><code>provided</code></a> scope when you are sure that the provided dependency will be present in your runtime environment.  Gson is not part of the standard JRE, so it is unlikely to be present.</p>\n<p>From the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope\" rel=\"nofollow noreferrer\">Maven documentation</a>:</p>\n<blockquote>\n<p><strong>provided</strong></p>\n<p>This is much like <code>compile</code>, but indicates you expect the JDK or a container to provide the dependency at runtime. For example, when building a web application for the Java Enterprise Edition, you would set the dependency on the Servlet API and related Java EE APIs to scope provided because the web container provides those classes. A dependency with this scope is added to the classpath used for compilation and test, but not the runtime classpath. It is not transitive.</p>\n</blockquote>\n<p>Probably, your dependency should just use the default <strong>compile</strong> scope and read:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"comment_count":3,"is_answered":true,"view_count":58,"answer_count":1,"score":1,"last_activity_date":1701381804,"creation_date":1701378946,"last_edit_date":1701379707,"question_id":77581756,"body_markdown":"I am working on a JavaFX Maven project in VSCode and am trying to import Gson into one of my classes and it&#39;s not letting me. VSCode gives me a &quot;The type com.google.gson.Gson is not accessible&quot; error and refuses to let me work with Gson. \r\n\r\nThe dependency has been added into my pom.xml file and I have tried some solutions online with none of them working. What&#39;s also weird is Gson working fine with another Spring Maven project I&#39;m working on at the same time as this JavaFX project, so I&#39;m not quite sure what the problem could be.\r\n\r\nHere&#39;s my pom.xml file:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;ca.cmpt213.asn5&lt;/groupId&gt;\r\n    &lt;artifactId&gt;client&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.5&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running --&gt;\r\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                        &lt;!-- &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;ca.cmpt213.asn5.&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt; --&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd here&#39;s the class I&#39;m working on that can&#39;t import Gson:\r\n\r\n```\r\npackage ca.cmpt213.asn5;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\nimport com.google.gson.Gson; //gives a squiggly red line under this statement\r\n\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Orientation;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ComboBox;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.Separator;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.text.Font;\r\nimport javafx.stage.Stage;\r\n\r\npublic class SuperhumanTracker extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws IOException {\r\n\r\n        Label title = new Label(&quot;Superhuman Tracker&quot;);\r\n        title.setFont(new Font(20));\r\n\r\n        TableView table = new TableView&lt;&gt;();\r\n        TableColumn idColumn = new TableColumn&lt;&gt;(&quot;ID&quot;);\r\n        TableColumn nameColumn = new TableColumn&lt;&gt;(&quot;NAME&quot;);\r\n        TableColumn superpowerColumn = new TableColumn&lt;&gt;(&quot;SUPERPOWER&quot;);\r\n        TableColumn abilityScoreColumn = new TableColumn&lt;&gt;(&quot;ABILITY SCORE&quot;);\r\n        idColumn.setMinWidth(25);\r\n        nameColumn.setMinWidth(200);\r\n        superpowerColumn.setMinWidth(150);\r\n        abilityScoreColumn.setMinWidth(150);\r\n\r\n        table.getColumns().addAll(idColumn, nameColumn, superpowerColumn, abilityScoreColumn);\r\n\r\n        Button addButton = new Button(&quot;Add a Superhuman&quot;);\r\n\r\n        ComboBox&lt;Integer&gt; idComboBox = new ComboBox&lt;&gt;();\r\n        idComboBox.setPromptText(&quot;ID&quot;);\r\n        idComboBox.getItems().addAll(1, 2, 3);\r\n\r\n        Button viewButton = new Button(&quot;Get Details&quot;);\r\n        Button deleteButton = new Button(&quot;Delete Superhuman&quot;);\r\n\r\n        viewButton.setOnAction(event -&gt; {\r\n            try {\r\n                long id = Long.valueOf(idComboBox.getValue());\r\n                URL url = new URL(&quot;http://localhost:8080/api/superhuman/&quot; + id);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setRequestMethod(&quot;GET&quot;);\r\n                connection.getInputStream();\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n                String line = reader.readLine();\r\n\r\n                Gson gson = new Gson(); //gives a squiggly red line under the Gson class\r\n\r\n                System.out.println(connection.getResponseCode());\r\n                connection.disconnect();\r\n            } catch (IOException ioException) {\r\n                ioException.printStackTrace();\r\n            }\r\n\r\n            Scene scene = new Scene(new SuperhumanDetails(null, 0, 0, null, null, null, null, 0).getView(), 400, 500);\r\n            Stage stage = new Stage();\r\n            stage.setTitle(&quot;Superhuman Detailed View&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        });\r\n\r\n        HBox hboxLeft = new HBox(idComboBox, separator1, viewButton, separator2, deleteButton);\r\n        hboxLeft.setAlignment(Pos.CENTER_LEFT);\r\n\r\n        HBox hboxRight = new HBox(addButton);\r\n        hboxRight.setAlignment(Pos.CENTER_RIGHT);\r\n\r\n        HBox hboxControls = new HBox(hboxLeft, hboxRight);\r\n        hboxControls.setSpacing(180);\r\n\r\n        VBox vbox = new VBox(title, table, hboxControls);\r\n        vbox.setAlignment(Pos.CENTER);\r\n        vbox.setSpacing(10);\r\n        vbox.setPadding(new Insets(10,10,10,10));\r\n\r\n        Scene scene = new Scene(vbox, 600, 400);\r\n        \r\n        primaryStage.setTitle(&quot;Superhuman Tracker&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the module-info.java file:\r\n\r\n```\r\nmodule ca.cmpt213.asn5 {\r\n    requires transitive javafx.controls;\r\n\r\n    exports ca.cmpt213.asn5;\r\n}\r\n```","link":"https://stackoverflow.com/questions/77581756/cannot-import-gson-into-my-javafx-maven-project","title":"Cannot import Gson into my JavaFX Maven project","body":"<p>I am working on a JavaFX Maven project in VSCode and am trying to import Gson into one of my classes and it's not letting me. VSCode gives me a &quot;The type com.google.gson.Gson is not accessible&quot; error and refuses to let me work with Gson.</p>\n<p>The dependency has been added into my pom.xml file and I have tried some solutions online with none of them working. What's also weird is Gson working fine with another Spring Maven project I'm working on at the same time as this JavaFX project, so I'm not quite sure what the problem could be.</p>\n<p>Here's my pom.xml file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;ca.cmpt213.asn5&lt;/groupId&gt;\n    &lt;artifactId&gt;client&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;!-- &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;ca.cmpt213.asn5.&lt;/mainClass&gt;\n                        &lt;/configuration&gt; --&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And here's the class I'm working on that can't import Gson:</p>\n<pre><code>package ca.cmpt213.asn5;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\nimport com.google.gson.Gson; //gives a squiggly red line under this statement\n\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Orientation;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Separator;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\n\npublic class SuperhumanTracker extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws IOException {\n\n        Label title = new Label(&quot;Superhuman Tracker&quot;);\n        title.setFont(new Font(20));\n\n        TableView table = new TableView&lt;&gt;();\n        TableColumn idColumn = new TableColumn&lt;&gt;(&quot;ID&quot;);\n        TableColumn nameColumn = new TableColumn&lt;&gt;(&quot;NAME&quot;);\n        TableColumn superpowerColumn = new TableColumn&lt;&gt;(&quot;SUPERPOWER&quot;);\n        TableColumn abilityScoreColumn = new TableColumn&lt;&gt;(&quot;ABILITY SCORE&quot;);\n        idColumn.setMinWidth(25);\n        nameColumn.setMinWidth(200);\n        superpowerColumn.setMinWidth(150);\n        abilityScoreColumn.setMinWidth(150);\n\n        table.getColumns().addAll(idColumn, nameColumn, superpowerColumn, abilityScoreColumn);\n\n        Button addButton = new Button(&quot;Add a Superhuman&quot;);\n\n        ComboBox&lt;Integer&gt; idComboBox = new ComboBox&lt;&gt;();\n        idComboBox.setPromptText(&quot;ID&quot;);\n        idComboBox.getItems().addAll(1, 2, 3);\n\n        Button viewButton = new Button(&quot;Get Details&quot;);\n        Button deleteButton = new Button(&quot;Delete Superhuman&quot;);\n\n        viewButton.setOnAction(event -&gt; {\n            try {\n                long id = Long.valueOf(idComboBox.getValue());\n                URL url = new URL(&quot;http://localhost:8080/api/superhuman/&quot; + id);\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n                connection.setRequestMethod(&quot;GET&quot;);\n                connection.getInputStream();\n                BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n                String line = reader.readLine();\n\n                Gson gson = new Gson(); //gives a squiggly red line under the Gson class\n\n                System.out.println(connection.getResponseCode());\n                connection.disconnect();\n            } catch (IOException ioException) {\n                ioException.printStackTrace();\n            }\n\n            Scene scene = new Scene(new SuperhumanDetails(null, 0, 0, null, null, null, null, 0).getView(), 400, 500);\n            Stage stage = new Stage();\n            stage.setTitle(&quot;Superhuman Detailed View&quot;);\n            stage.setScene(scene);\n            stage.show();\n        });\n\n        HBox hboxLeft = new HBox(idComboBox, separator1, viewButton, separator2, deleteButton);\n        hboxLeft.setAlignment(Pos.CENTER_LEFT);\n\n        HBox hboxRight = new HBox(addButton);\n        hboxRight.setAlignment(Pos.CENTER_RIGHT);\n\n        HBox hboxControls = new HBox(hboxLeft, hboxRight);\n        hboxControls.setSpacing(180);\n\n        VBox vbox = new VBox(title, table, hboxControls);\n        vbox.setAlignment(Pos.CENTER);\n        vbox.setSpacing(10);\n        vbox.setPadding(new Insets(10,10,10,10));\n\n        Scene scene = new Scene(vbox, 600, 400);\n        \n        primaryStage.setTitle(&quot;Superhuman Tracker&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Here's the module-info.java file:</p>\n<pre><code>module ca.cmpt213.asn5 {\n    requires transitive javafx.controls;\n\n    exports ca.cmpt213.asn5;\n}\n</code></pre>\n"},{"tags":["java","exception","jpa"],"comments":[{"score":1,"post_type":"question","creation_date":1701411718,"post_id":77581885,"comment_id":136774762,"body_markdown":"You could already apply a filter to your list and check if there are duplicate phone_number attributes in Java instead of SQL.","link":"https://stackoverflow.com/questions/77581885/java-jpa-exception-unique-constraint-hibernate#comment136774762_77581885","body":"You could already apply a filter to your list and check if there are duplicate phone_number attributes in Java instead of SQL."}],"comment_count":1,"is_answered":false,"view_count":19,"answer_count":0,"score":0,"last_activity_date":1701380597,"creation_date":1701380597,"question_id":77581885,"body_markdown":"I would like to know how to return an object after using saveAll() method (from Spring JPA) with a unique constraint error. \r\n\r\nFor example, I have a list of objects. Each of them must have a unique field (for example, &quot;phone_number&quot; must be unique for each row in the table). I want to save these objects in Postgres DB, but two objects have the same &quot;phone_number&quot; value, so I catch an Exception. There is a text in this Exception (in &quot;cause&quot; field), and this text tells me what &quot;phone_number&quot; value was the cause of my problem. But it&#39;s not enough for me. I need other fields of this &quot;problematic&quot; object (it&#39;s like when we use save() method, we get a saved object in return). \r\n\r\nI know that I can use save() method in For Loop, so my Exception will take an object as a parameter. But there are too many objects in my list at once, I don&#39;t think that it&#39;s a good idea to save them separately, so I use saveAll().","link":"https://stackoverflow.com/questions/77581885/java-jpa-exception-unique-constraint-hibernate","title":"java jpa exception unique-constraint hibernate","body":"<p>I would like to know how to return an object after using saveAll() method (from Spring JPA) with a unique constraint error.</p>\n<p>For example, I have a list of objects. Each of them must have a unique field (for example, &quot;phone_number&quot; must be unique for each row in the table). I want to save these objects in Postgres DB, but two objects have the same &quot;phone_number&quot; value, so I catch an Exception. There is a text in this Exception (in &quot;cause&quot; field), and this text tells me what &quot;phone_number&quot; value was the cause of my problem. But it's not enough for me. I need other fields of this &quot;problematic&quot; object (it's like when we use save() method, we get a saved object in return).</p>\n<p>I know that I can use save() method in For Loop, so my Exception will take an object as a parameter. But there are too many objects in my list at once, I don't think that it's a good idea to save them separately, so I use saveAll().</p>\n"},{"tags":["java","cassandra","network-programming","datastax-java-driver"],"answers":[{"comments":[{"score":1,"post_type":"answer","creation_date":1701474016,"post_id":77581839,"comment_id":136784398,"body_markdown":"Thanks for showing the way!\nFor a now we understood that... default driver settings aren&#39;t the best! :) We got good improvence just by adding three more connections to the pool. But adding more request per connection didn&#39;t have any effect.\nI&#39;ll write the results of our tests with phi","link":"https://stackoverflow.com/questions/77574717/adding-even-50-ms-delay-between-datacenters-in-cassandra-cluster-leads-to-nonode/77581839#comment136784398_77581839","body":"Thanks for showing the way! For a now we understood that... default driver settings aren&#39;t the best! :) We got good improvence just by adding three more connections to the pool. But adding more request per connection didn&#39;t have any effect. I&#39;ll write the results of our tests with phi"}],"comment_count":1,"score":1,"last_activity_date":1701379823,"creation_date":1701379823,"answer_id":77581839,"question_id":77574717,"body_markdown":"Not sure how big the write payloads are, but that can absolutely affect this. Otherwise, the tricky part with lightweight transactions in Cassandra is that each one is doing (I think) something like 4 round-trips between the coordinator and target nodes. So that&#39;s going to greatly limit the throughput in and of itself.\r\n\r\nAlso, multi-DC communications are never easy. I would recommend writing to a single data center (using LOCAL_QUORUM), and relying on replication to sync the replicas.\r\n\r\nAre the nodes being marked as &quot;down&quot; at all? If so, one thing you could try, would be to have a look at the `phi_convict_threshold` on each node. Phi Convict is essentially a non-linear representation of how long node communication can wait before it reports a failure. I think it defaults to 8, but for most multi-DC cloud deployments that I&#39;ve done, we&#39;ve had to bump that up to 12.","link":"https://stackoverflow.com/questions/77574717/adding-even-50-ms-delay-between-datacenters-in-cassandra-cluster-leads-to-nonode/77581839#77581839","title":"Adding even 50 ms delay between datacenters in Cassandra cluster leads to NoNodeAvailableException even for LOCAL_SERIAL","body":"<p>Not sure how big the write payloads are, but that can absolutely affect this. Otherwise, the tricky part with lightweight transactions in Cassandra is that each one is doing (I think) something like 4 round-trips between the coordinator and target nodes. So that's going to greatly limit the throughput in and of itself.</p>\n<p>Also, multi-DC communications are never easy. I would recommend writing to a single data center (using LOCAL_QUORUM), and relying on replication to sync the replicas.</p>\n<p>Are the nodes being marked as &quot;down&quot; at all? If so, one thing you could try, would be to have a look at the <code>phi_convict_threshold</code> on each node. Phi Convict is essentially a non-linear representation of how long node communication can wait before it reports a failure. I think it defaults to 8, but for most multi-DC cloud deployments that I've done, we've had to bump that up to 12.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":30,"answer_count":1,"score":0,"last_activity_date":1701379823,"creation_date":1701295253,"question_id":77574717,"body_markdown":"I try to do the test for understanding how C* takes network issues with fix delay on every packet. Java application with Datastax Java driver very simple multidc C* cluster and tc tool.\r\n\r\nThere DCA and DCB. Each of them has only node of C* in it. I starts the test with only 200 requests (insert ... if not exist) to C* in second, but each of them at first tries to be executed with SERIAL consistency and if it fails second attempt is going with LOCAL_SERIAL. Timeouts for SERIAL and LOCAL_SERIAL are 400 ms and 200 ms accordinly.\r\n\r\nI use tc tool for modelling network issues. As already said I add fix delay 50 ms for all requests from node of DCA to node of DCB. \r\n\r\nAfter this single manual requests are still working. But if I put load test with 200 rps on DCA I get a lot of NoNodeAvailableException in my logs even on LOCAL_SERIAL tries.\r\n\r\nI read about defaults for Datastax Java driver. It seems they are ok for this test. I checked that contact points in application in DCA consist only of one node of DCA.\r\n\r\nWhy do I get this behavior with these quite simple conditions? Any thought?\r\n\r\nAlso my colleagues got some these exceptions even on 80 rps with no network issues. But I don&#39;t know their setup.","link":"https://stackoverflow.com/questions/77574717/adding-even-50-ms-delay-between-datacenters-in-cassandra-cluster-leads-to-nonode","title":"Adding even 50 ms delay between datacenters in Cassandra cluster leads to NoNodeAvailableException even for LOCAL_SERIAL","body":"<p>I try to do the test for understanding how C* takes network issues with fix delay on every packet. Java application with Datastax Java driver very simple multidc C* cluster and tc tool.</p>\n<p>There DCA and DCB. Each of them has only node of C* in it. I starts the test with only 200 requests (insert ... if not exist) to C* in second, but each of them at first tries to be executed with SERIAL consistency and if it fails second attempt is going with LOCAL_SERIAL. Timeouts for SERIAL and LOCAL_SERIAL are 400 ms and 200 ms accordinly.</p>\n<p>I use tc tool for modelling network issues. As already said I add fix delay 50 ms for all requests from node of DCA to node of DCB.</p>\n<p>After this single manual requests are still working. But if I put load test with 200 rps on DCA I get a lot of NoNodeAvailableException in my logs even on LOCAL_SERIAL tries.</p>\n<p>I read about defaults for Datastax Java driver. It seems they are ok for this test. I checked that contact points in application in DCA consist only of one node of DCA.</p>\n<p>Why do I get this behavior with these quite simple conditions? Any thought?</p>\n<p>Also my colleagues got some these exceptions even on 80 rps with no network issues. But I don't know their setup.</p>\n"},{"tags":["java","spring-boot","jira-rest-api","jira-rest-java-api"],"comment_count":0,"is_answered":false,"view_count":33,"answer_count":0,"score":0,"last_activity_date":1701378158,"creation_date":1701378158,"question_id":77581683,"body_markdown":"I am trying to programmatically create issues in Jira using the JiraRestClient. I am using the following dependencies \r\n\r\n`    compile &#39;com.atlassian.jira:jira-rest-java-client-api:5.2.4&#39;\r\n    compile &#39;com.atlassian.jira:jira-rest-java-client-core:5.2.4&#39;`\r\n\r\nAnd have the following code to create java issues. \r\n\r\n```\r\n    @SneakyThrows\r\n    public BasicIssue createIssue(JiraIssueType jiraIssueType) {\r\n        return jiraRestClient.getIssueClient().createIssue(\r\n                IssueInput.createWithFields(\r\n                        new FieldInput(IssueFieldId.PROJECT_FIELD, PROJECT_KEY),\r\n                        new FieldInput(IssueFieldId.ISSUE_TYPE_FIELD, jiraIssueType.getValue()),\r\n                        new FieldInput(IssueFieldId.SUMMARY_FIELD,\r\n                                String.format(&quot;Add new dataset %s to object type %s&quot;, &quot;toy&quot;,\r\n                                        &quot;story&quot;)),\r\nnew FieldInput(IssueFieldId.DESCRIPTION_FIELD, &quot;descrption&quot;)\r\n                )).fail(throwable -&gt; log.error(throwable.getMessage()))\r\n                .claim();\r\n    }\r\n```\r\n\r\nHowever when I run the following code I see the following error in the stack trace\r\n\r\n```\r\nCaused by: RestClientException{statusCode=Optional.of(400), errorCollections=[ErrorCollection{status=400, errors={issuetype=Can not instantiate value of type [simple type, class com.atlassian.jira.rest.api.issue.ResourceRef] from JSON integral number; no single-int-arg constructor/factory method, project=project is required}, errorMessages=[]}]}\r\n\tat com.atlassian.jira.rest.client.internal.async.AbstractAsynchronousRestClient$2.apply(AbstractAsynchronousRestClient.java:176)\r\n\tat com.atlassian.jira.rest.client.internal.async.AbstractAsynchronousRestClient$2.apply(AbstractAsynchronousRestClient.java:170)\r\nCaused by: RestClientException{statusCode=Optional.of(400), errorCollections=[ErrorCollection{status=400, errors={issuetype=Can not instantiate value of type [simple type, class com.atlassian.jira.rest.api.issue.ResourceRef] from JSON integral number; no single-int-arg constructor/factory method, project=project is required}, errorMessages=[]}]}\r\n```\r\n\r\nI have tried downgrading the java client to a lowerversion but that did not seem to work","link":"https://stackoverflow.com/questions/77581683/create-jira-issue-using-jirarestclient-java","title":"Create Jira Issue using JiraRestClient (Java)","body":"<p>I am trying to programmatically create issues in Jira using the JiraRestClient. I am using the following dependencies</p>\n<p><code>    compile 'com.atlassian.jira:jira-rest-java-client-api:5.2.4' compile 'com.atlassian.jira:jira-rest-java-client-core:5.2.4'</code></p>\n<p>And have the following code to create java issues.</p>\n<pre><code>    @SneakyThrows\n    public BasicIssue createIssue(JiraIssueType jiraIssueType) {\n        return jiraRestClient.getIssueClient().createIssue(\n                IssueInput.createWithFields(\n                        new FieldInput(IssueFieldId.PROJECT_FIELD, PROJECT_KEY),\n                        new FieldInput(IssueFieldId.ISSUE_TYPE_FIELD, jiraIssueType.getValue()),\n                        new FieldInput(IssueFieldId.SUMMARY_FIELD,\n                                String.format(&quot;Add new dataset %s to object type %s&quot;, &quot;toy&quot;,\n                                        &quot;story&quot;)),\nnew FieldInput(IssueFieldId.DESCRIPTION_FIELD, &quot;descrption&quot;)\n                )).fail(throwable -&gt; log.error(throwable.getMessage()))\n                .claim();\n    }\n</code></pre>\n<p>However when I run the following code I see the following error in the stack trace</p>\n<pre><code>Caused by: RestClientException{statusCode=Optional.of(400), errorCollections=[ErrorCollection{status=400, errors={issuetype=Can not instantiate value of type [simple type, class com.atlassian.jira.rest.api.issue.ResourceRef] from JSON integral number; no single-int-arg constructor/factory method, project=project is required}, errorMessages=[]}]}\n    at com.atlassian.jira.rest.client.internal.async.AbstractAsynchronousRestClient$2.apply(AbstractAsynchronousRestClient.java:176)\n    at com.atlassian.jira.rest.client.internal.async.AbstractAsynchronousRestClient$2.apply(AbstractAsynchronousRestClient.java:170)\nCaused by: RestClientException{statusCode=Optional.of(400), errorCollections=[ErrorCollection{status=400, errors={issuetype=Can not instantiate value of type [simple type, class com.atlassian.jira.rest.api.issue.ResourceRef] from JSON integral number; no single-int-arg constructor/factory method, project=project is required}, errorMessages=[]}]}\n</code></pre>\n<p>I have tried downgrading the java client to a lowerversion but that did not seem to work</p>\n"},{"tags":["java","kotlin","timeout","resilience4j"],"comments":[{"score":0,"post_type":"question","creation_date":1701384752,"post_id":77581660,"comment_id":136772562,"body_markdown":"I found it in the documentation","link":"https://stackoverflow.com/questions/77581660/resilience4j-what-exactly-does-waitduration-accomplish#comment136772562_77581660","body":"I found it in the documentation"}],"comment_count":1,"is_answered":false,"view_count":17,"answer_count":0,"score":0,"last_activity_date":1701377874,"creation_date":1701377874,"question_id":77581660,"body_markdown":"Regarding this example: https://resilience4j.readme.io/docs/examples-5\r\n\r\n    RetryConfig config = RetryConfig.custom()\r\n    .maxAttempts(2)\r\n    .waitDuration(Duration.ofMillis(100))\r\n    .retryOnResult(response -&gt; response.getStatus() == 500)\r\n    .retryOnException(e -&gt; e instanceof WebServiceException)\r\n    .retryExceptions(IOException.class, TimeoutException.class)\r\n    .ignoreExceptions(BusinessException.class, OtherBusinessException.class)\r\n    .build();\r\n\r\nwhat exactly does `waitDuration` accomplish? Does it mean to timeout and retry after 100 ms? Or does it mean how long to wait before next retry?","link":"https://stackoverflow.com/questions/77581660/resilience4j-what-exactly-does-waitduration-accomplish","title":"Resilience4j: what exactly does waitDuration accomplish?","body":"<p>Regarding this example: <a href=\"https://resilience4j.readme.io/docs/examples-5\" rel=\"nofollow noreferrer\">https://resilience4j.readme.io/docs/examples-5</a></p>\n<pre><code>RetryConfig config = RetryConfig.custom()\n.maxAttempts(2)\n.waitDuration(Duration.ofMillis(100))\n.retryOnResult(response -&gt; response.getStatus() == 500)\n.retryOnException(e -&gt; e instanceof WebServiceException)\n.retryExceptions(IOException.class, TimeoutException.class)\n.ignoreExceptions(BusinessException.class, OtherBusinessException.class)\n.build();\n</code></pre>\n<p>what exactly does <code>waitDuration</code> accomplish? Does it mean to timeout and retry after 100 ms? Or does it mean how long to wait before next retry?</p>\n"},{"tags":["java","collections","iterator"],"comments":[{"score":0,"post_type":"question","creation_date":1701374110,"post_id":77581336,"comment_id":136771025,"body_markdown":"Couldn&#39;t you just override AbstractList&#39;s `iterator()` method and return your own iterator implementation?","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods#comment136771025_77581336","body":"Couldn&#39;t you just override AbstractList&#39;s <code>iterator()</code> method and return your own iterator implementation?"},{"score":0,"post_type":"question","creation_date":1701374263,"post_id":77581336,"comment_id":136771051,"body_markdown":"@HovercraftFullOfEels I could, but of course we are not talking about a single method here. The custom List that I am writing will be exposed to other people, I don&#39;t know what they will call","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods#comment136771051_77581336","body":"@HovercraftFullOfEels I could, but of course we are not talking about a single method here. The custom List that I am writing will be exposed to other people, I don&#39;t know what they will call"},{"score":0,"post_type":"question","creation_date":1701374349,"post_id":77581336,"comment_id":136771066,"body_markdown":"Then, have you looked at the source code for AbstractList?","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods#comment136771066_77581336","body":"Then, have you looked at the source code for AbstractList?"},{"score":3,"post_type":"question","creation_date":1701374418,"post_id":77581336,"comment_id":136771076,"body_markdown":"@HovercraftFullOfEels that&#39;s not the point, source code != specification.","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods#comment136771076_77581336","body":"@HovercraftFullOfEels that&#39;s not the point, source code != specification."},{"score":1,"post_type":"question","creation_date":1701450548,"post_id":77581336,"comment_id":136781252,"body_markdown":"I’d pay attention to the class documentation saying “*If the list is variable-size the programmer must additionally override the add(int, E) and remove(int) methods.*”, hence, care to override `add(int, E)` rather than `add(E)` but besides that, how would a hypothetical `addAll` implementation look like when it doesn’t invoke `add`?","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods#comment136781252_77581336","body":"I’d pay attention to the class documentation saying “<i>If the list is variable-size the programmer must additionally override the add(int, E) and remove(int) methods.</i>”, hence, care to override <code>add(int, E)</code> rather than <code>add(E)</code> but besides that, how would a hypothetical <code>addAll</code> implementation look like when it doesn’t invoke <code>add</code>?"},{"score":0,"post_type":"question","creation_date":1701458091,"post_id":77581336,"comment_id":136782410,"body_markdown":"@Holger thank you, I ended up indeed reading much more closely the class documentation and overriding proper methods. The `addAll` without `add` is what ArrayList does... or is your point different?","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods#comment136782410_77581336","body":"@Holger thank you, I ended up indeed reading much more closely the class documentation and overriding proper methods. The <code>addAll</code> without <code>add</code> is what ArrayList does... or is your point different?"},{"score":1,"post_type":"question","creation_date":1701680290,"post_id":77581336,"comment_id":136801204,"body_markdown":"@Eugene the question was, how would *AbstractList* implement an `addAll` without calling `add`, directly or indirectly?","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods#comment136801204_77581336","body":"@Eugene the question was, how would <i>AbstractList</i> implement an <code>addAll</code> without calling <code>add</code>, directly or indirectly?"}],"answers":[{"comments":[{"score":2,"post_type":"answer","creation_date":1701376139,"post_id":77581440,"comment_id":136771338,"body_markdown":"if that is true, then what is the point of `AbstractList`? Why is it exposed into the public API to begin with? Besides `iterator` in my case, would be the one from `AbstractList`, I fail to get your point with `Iterable`.","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods/77581440#comment136771338_77581440","body":"if that is true, then what is the point of <code>AbstractList</code>? Why is it exposed into the public API to begin with? Besides <code>iterator</code> in my case, would be the one from <code>AbstractList</code>, I fail to get your point with <code>Iterable</code>."},{"score":0,"post_type":"answer","creation_date":1701376381,"post_id":77581440,"comment_id":136771379,"body_markdown":"Also, `ArrayList` overrides _all_ methods, so it has the right to do what it does in `addAll`, unlike my implementation, where I override only 2/3 methods.","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods/77581440#comment136771379_77581440","body":"Also, <code>ArrayList</code> overrides <i>all</i> methods, so it has the right to do what it does in <code>addAll</code>, unlike my implementation, where I override only 2/3 methods."},{"score":0,"post_type":"answer","creation_date":1701377051,"post_id":77581440,"comment_id":136771489,"body_markdown":"When you derive from an abstract class you must implement all the abstract methods (the exception is of your class is also abstract). You may override other methods if you wish to, but you don’t have to.","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods/77581440#comment136771489_77581440","body":"When you derive from an abstract class you must implement all the abstract methods (the exception is of your class is also abstract). You may override other methods if you wish to, but you don’t have to."},{"score":0,"post_type":"answer","creation_date":1701377180,"post_id":77581440,"comment_id":136771518,"body_markdown":"List is an interface therefore ArrayList, and other implementations, must override all methods.","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods/77581440#comment136771518_77581440","body":"List is an interface therefore ArrayList, and other implementations, must override all methods."},{"score":2,"post_type":"answer","creation_date":1701415114,"post_id":77581440,"comment_id":136775119,"body_markdown":"&quot;This is because iterator() is a method of Iterable&lt;T&gt;.&quot; What has that to do with anything? Classes implementing an Interface CAN add additional guarantees.","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods/77581440#comment136775119_77581440","body":"&quot;This is because iterator() is a method of Iterable&lt;T&gt;.&quot; What has that to do with anything? Classes implementing an Interface CAN add additional guarantees."},{"score":0,"post_type":"answer","creation_date":1701415411,"post_id":77581440,"comment_id":136775165,"body_markdown":"@S&#246;ren how can it be guaranteed when it’s a function coming from a different interface? They CAN, that does not mean it’s guaranteed. \nIMO adding guarantees without enforcing them using abstract classes or a different mechanism means the guarantee is weak and should not be trusted.","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods/77581440#comment136775165_77581440","body":"@S&#246;ren how can it be guaranteed when it’s a function coming from a different interface? They CAN, that does not mean it’s guaranteed.  IMO adding guarantees without enforcing them using abstract classes or a different mechanism means the guarantee is weak and should not be trusted."},{"score":0,"post_type":"answer","creation_date":1701418558,"post_id":77581440,"comment_id":136775593,"body_markdown":"That guarantee can be made by never changing the implementation. It&#39;s that simple.","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods/77581440#comment136775593_77581440","body":"That guarantee can be made by never changing the implementation. It&#39;s that simple."},{"score":1,"post_type":"answer","creation_date":1701450184,"post_id":77581440,"comment_id":136781188,"body_markdown":"What do you mean with “*adding guarantees without enforcing them using abstract classes*”? The question is specifically about a guaranty provided by an abstract class.","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods/77581440#comment136781188_77581440","body":"What do you mean with “<i>adding guarantees without enforcing them using abstract classes</i>”? The question is specifically about a guaranty provided by an abstract class."}],"comment_count":8,"score":-2,"last_activity_date":1701375366,"creation_date":1701375366,"answer_id":77581440,"question_id":77581336,"body_markdown":"No, there’s no such guarantee. This is because `iterator()` is a method of `Iterable&lt;T&gt;`. \r\n\r\nIt may, and maybe should, but there’s no guarantee.\r\n\r\nYou can look at the implementation of `ArrayList&lt;T&gt;.addAll()` to get a sense of why. ","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods/77581440#77581440","title":"AbstractList guarantees that spill into other methods","body":"<p>No, there’s no such guarantee. This is because <code>iterator()</code> is a method of <code>Iterable&lt;T&gt;</code>.</p>\n<p>It may, and maybe should, but there’s no guarantee.</p>\n<p>You can look at the implementation of <code>ArrayList&lt;T&gt;.addAll()</code> to get a sense of why.</p>\n"},{"comments":[{"score":1,"post_type":"answer","creation_date":1701450792,"post_id":77581571,"comment_id":136781293,"body_markdown":"The class documentation also says it explicitly: “*Unlike the other abstract collection implementations, the programmer does not have to provide an iterator implementation; the iterator and list iterator are implemented by this class, on top of the &quot;random access&quot; methods: get(int), set(int, E), add(int, E) and remove(int).*” as part of the class’s contract, additionally to the the “Implementation Requirements” section of the methods.","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods/77581571#comment136781293_77581571","body":"The class documentation also says it explicitly: “<i>Unlike the other abstract collection implementations, the programmer does not have to provide an iterator implementation; the iterator and list iterator are implemented by this class, on top of the &quot;random access&quot; methods: get(int), set(int, E), add(int, E) and remove(int).</i>” as part of the class’s contract, additionally to the the “Implementation Requirements” section of the methods."}],"comment_count":1,"score":3,"last_activity_date":1701376904,"creation_date":1701376904,"answer_id":77581571,"question_id":77581336,"body_markdown":"The [Javadoc][1] for AbstractList (JDK21) says\r\n\r\n&gt; The documentation for each non-abstract method in this class describes its implementation in detail.\r\n\r\nSo yes, this is part of the specification.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/AbstractList.html","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods/77581571#77581571","title":"AbstractList guarantees that spill into other methods","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/AbstractList.html\" rel=\"nofollow noreferrer\">Javadoc</a> for AbstractList (JDK21) says</p>\n<blockquote>\n<p>The documentation for each non-abstract method in this class describes its implementation in detail.</p>\n</blockquote>\n<p>So yes, this is part of the specification.</p>\n"}],"comment_count":7,"is_answered":true,"view_count":86,"answer_count":2,"score":3,"last_activity_date":1701376904,"creation_date":1701374016,"question_id":77581336,"body_markdown":"I can&#39;t think of a better name for the question, but I hope that an example will make this simpler. \r\n\r\nSuppose I create my own custom `List` (it is irrelevant what it does):\r\n\r\n```\r\n    static class MyList&lt;E&gt; extends AbstractList&lt;E&gt; {\r\n\r\n        @Override\r\n        public E get(int index) {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public int size() {\r\n            return 0;\r\n        }\r\n    }\r\n```\r\n\r\nI can now create an instance of it and call a different method then the one I have overridden:\r\n\r\n```\r\nMyList&lt;String&gt; myList = new MyList&lt;&gt;();\r\nmyList.iterator();\r\n```\r\n\r\nOf course, `iterator` _should_ use the `get` method that I have declared, but is this a guarantee? Does it mean that `iterator` can not change in a way that it does not use `get` at all? \r\n\r\n--- \r\nFor a simpler example, you can think about `addAll`. Suppose that my `MyList` also overrides `add`:\r\n\r\n\r\n```\r\n   @Override\r\n   public boolean add(E e) {\r\n      return super.add(e); // irrelevant what it does\r\n   }\r\n```\r\n\r\nand then I can do : `myList.addAll(someOtherCollection)`. `addAll` _could_ be implemented a simple:\r\n\r\n```\r\nfor(E e: someOtherCollection) {\r\n    // use add that I have overridden\r\n}\r\n```\r\n\r\nbut at the same time, the implementation can change, and not use a loop at all (like `ArrayList` for example). \r\n\r\n---\r\n\r\nGranted, both `iterator` and `addAll` have some mentions in the documentation like:\r\n\r\n&gt; This implementation returns a straightforward implementation of the iterator interface, relying on the backing list&#39;s size(), get(int), and remove(int) methods.\r\n\r\nand\r\n\r\n&gt; This implementation iterates over the specified collection, and adds each object returned by the iterator to this collection, in turn.\r\n\r\nSo does that mean that this can _NOT_ change and is treated as &quot;specification&quot;?  Now that I wrote this long question and re-read it, the answer might be an obvious &quot;yes&quot;. \r\n\r\n","link":"https://stackoverflow.com/questions/77581336/abstractlist-guarantees-that-spill-into-other-methods","title":"AbstractList guarantees that spill into other methods","body":"<p>I can't think of a better name for the question, but I hope that an example will make this simpler.</p>\n<p>Suppose I create my own custom <code>List</code> (it is irrelevant what it does):</p>\n<pre><code>    static class MyList&lt;E&gt; extends AbstractList&lt;E&gt; {\n\n        @Override\n        public E get(int index) {\n            return null;\n        }\n\n        @Override\n        public int size() {\n            return 0;\n        }\n    }\n</code></pre>\n<p>I can now create an instance of it and call a different method then the one I have overridden:</p>\n<pre><code>MyList&lt;String&gt; myList = new MyList&lt;&gt;();\nmyList.iterator();\n</code></pre>\n<p>Of course, <code>iterator</code> <em>should</em> use the <code>get</code> method that I have declared, but is this a guarantee? Does it mean that <code>iterator</code> can not change in a way that it does not use <code>get</code> at all?</p>\n<hr />\n<p>For a simpler example, you can think about <code>addAll</code>. Suppose that my <code>MyList</code> also overrides <code>add</code>:</p>\n<pre><code>   @Override\n   public boolean add(E e) {\n      return super.add(e); // irrelevant what it does\n   }\n</code></pre>\n<p>and then I can do : <code>myList.addAll(someOtherCollection)</code>. <code>addAll</code> <em>could</em> be implemented a simple:</p>\n<pre><code>for(E e: someOtherCollection) {\n    // use add that I have overridden\n}\n</code></pre>\n<p>but at the same time, the implementation can change, and not use a loop at all (like <code>ArrayList</code> for example).</p>\n<hr />\n<p>Granted, both <code>iterator</code> and <code>addAll</code> have some mentions in the documentation like:</p>\n<blockquote>\n<p>This implementation returns a straightforward implementation of the iterator interface, relying on the backing list's size(), get(int), and remove(int) methods.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>This implementation iterates over the specified collection, and adds each object returned by the iterator to this collection, in turn.</p>\n</blockquote>\n<p>So does that mean that this can <em>NOT</em> change and is treated as &quot;specification&quot;?  Now that I wrote this long question and re-read it, the answer might be an obvious &quot;yes&quot;.</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"score":3,"post_type":"question","creation_date":1701376456,"post_id":77581491,"comment_id":136771392,"body_markdown":"It seems it using an older Java version to build.","link":"https://stackoverflow.com/questions/77581491/issue-to-build-project-with-gradle-8-5-and-java-21#comment136771392_77581491","body":"It seems it using an older Java version to build."},{"score":0,"post_type":"question","creation_date":1701378686,"post_id":77581491,"comment_id":136771743,"body_markdown":"Can you check your `JAVA_HOME` as well as the output of `javac -version`?","link":"https://stackoverflow.com/questions/77581491/issue-to-build-project-with-gradle-8-5-and-java-21#comment136771743_77581491","body":"Can you check your <code>JAVA_HOME</code> as well as the output of <code>javac -version</code>?"},{"score":0,"post_type":"question","creation_date":1701406705,"post_id":77581491,"comment_id":136774363,"body_markdown":"I wonder if your are actually using Gradle 8.5. I imagine an earlier version of Gradle might throw that error.","link":"https://stackoverflow.com/questions/77581491/issue-to-build-project-with-gradle-8-5-and-java-21#comment136774363_77581491","body":"I wonder if your are actually using Gradle 8.5. I imagine an earlier version of Gradle might throw that error."},{"score":2,"post_type":"question","creation_date":1701418670,"post_id":77581491,"comment_id":136775607,"body_markdown":"You can see both the Java and Gradle version actually in use by running `./gradlew --version` (assuming you use the wrapper).","link":"https://stackoverflow.com/questions/77581491/issue-to-build-project-with-gradle-8-5-and-java-21#comment136775607_77581491","body":"You can see both the Java and Gradle version actually in use by running <code>.&#47;gradlew --version</code> (assuming you use the wrapper)."}],"comment_count":4,"is_answered":false,"view_count":193,"answer_count":0,"score":2,"last_activity_date":1701376000,"creation_date":1701376000,"question_id":77581491,"body_markdown":"I use java 21\r\ngradle 8.5\r\nintellij 2023.2.2\r\n\r\nIn a spring boot 3.2 project in the build.gradle i have\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.2.0&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.4&#39;\r\n    }\r\n    \r\n    group = &#39;com.acme.intranet-backend&#39;\r\n    version &#39;0.0.34-SNAPSHOT&#39;\r\n    \r\n    java {\r\n        sourceCompatibility = &#39;21&#39;\r\n    }\r\n\r\n\r\nwhen i build project,  i \r\n\r\n&gt; org.gradle.api.tasks.TaskExecutionException: Execution failed for task\r\n&gt; &#39;:intranet:compileJava&#39;. \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:148)\r\n&gt; \tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\r\n&gt; \tat  Caused by: java.lang.IllegalArgumentException: error: invalid\r\n&gt; source release: 21\r\n\r\n","link":"https://stackoverflow.com/questions/77581491/issue-to-build-project-with-gradle-8-5-and-java-21","title":"Issue to build project with gradle 8.5 and java 21","body":"<p>I use java 21\ngradle 8.5\nintellij 2023.2.2</p>\n<p>In a spring boot 3.2 project in the build.gradle i have</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.2.0'\n    id 'io.spring.dependency-management' version '1.1.4'\n}\n\ngroup = 'com.acme.intranet-backend'\nversion '0.0.34-SNAPSHOT'\n\njava {\n    sourceCompatibility = '21'\n}\n</code></pre>\n<p>when i build project,  i</p>\n<blockquote>\n<p>org.gradle.api.tasks.TaskExecutionException: Execution failed for task\n':intranet:compileJava'.  at\norg.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:148)\nat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\nat\norg.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\nat  Caused by: java.lang.IllegalArgumentException: error: invalid\nsource release: 21</p>\n</blockquote>\n"},{"tags":["java","javafx","nullpointerexception"],"comments":[{"score":1,"post_type":"question","creation_date":1700828506,"post_id":77542904,"comment_id":136703907,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","link":"https://stackoverflow.com/questions/77542904/cannot-invoke-javafx-scene-control-tablecolumn-setcellvaluefactoryjavafx-util#comment136703907_77542904","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"score":1,"post_type":"question","creation_date":1700829963,"post_id":77542904,"comment_id":136704161,"body_markdown":"The stack trace is pretty clear as to what the problem is: “`this.colName` is null”. Is there an element in the FXML that uses that controller with `fx:id=“colName”`?","link":"https://stackoverflow.com/questions/77542904/cannot-invoke-javafx-scene-control-tablecolumn-setcellvaluefactoryjavafx-util#comment136704161_77542904","body":"The stack trace is pretty clear as to what the problem is: “<code>this.colName</code> is null”. Is there an element in the FXML that uses that controller with <code>fx:id=“colName”</code>?"},{"score":1,"post_type":"question","creation_date":1700830283,"post_id":77542904,"comment_id":136704223,"body_markdown":"*”using chatgpt got help ”*. All ChatGPT does is essentially take the most common code found on the internet in the context of the words used in your prompt. That includes code posted in questions and incorrect code. If there are common mistakes posted online, it will just replicate them. ChatGPT can be a useful timesaver but *only* when you are a good enough programmer to be able to judge whether the code it produces is correct or not. You are not at that point in your career yet.","link":"https://stackoverflow.com/questions/77542904/cannot-invoke-javafx-scene-control-tablecolumn-setcellvaluefactoryjavafx-util#comment136704223_77542904","body":"<i>”using chatgpt got help ”</i>. All ChatGPT does is essentially take the most common code found on the internet in the context of the words used in your prompt. That includes code posted in questions and incorrect code. If there are common mistakes posted online, it will just replicate them. ChatGPT can be a useful timesaver but <i>only</i> when you are a good enough programmer to be able to judge whether the code it produces is correct or not. You are not at that point in your career yet."},{"score":0,"post_type":"question","creation_date":1700832027,"post_id":77542904,"comment_id":136704510,"body_markdown":"yes the TableColumn i just update the fxml code","link":"https://stackoverflow.com/questions/77542904/cannot-invoke-javafx-scene-control-tablecolumn-setcellvaluefactoryjavafx-util#comment136704510_77542904","body":"yes the TableColumn i just update the fxml code"},{"score":2,"post_type":"question","creation_date":1700833095,"post_id":77542904,"comment_id":136704694,"body_markdown":"What is the FXML file&#39;s name? Doesn&#39;t `new ProductController()` initialize `colName` to `null`?","link":"https://stackoverflow.com/questions/77542904/cannot-invoke-javafx-scene-control-tablecolumn-setcellvaluefactoryjavafx-util#comment136704694_77542904","body":"What is the FXML file&#39;s name? Doesn&#39;t <code>new ProductController()</code> initialize <code>colName</code> to <code>null</code>?"},{"score":1,"post_type":"question","creation_date":1700889088,"post_id":77542904,"comment_id":136710257,"body_markdown":"Please punctuate your text properly.  All these lower case i&#39;s drive me crazy :-)  Use [Grammarly](https://www.grammarly.com/) or something like that - it is probably a better use of AI for you than ChatGPT generated code.  And ofc, use full words, not internet slang abbreviations.","link":"https://stackoverflow.com/questions/77542904/cannot-invoke-javafx-scene-control-tablecolumn-setcellvaluefactoryjavafx-util#comment136710257_77542904","body":"Please punctuate your text properly.  All these lower case i&#39;s drive me crazy :-)  Use <a href=\"https://www.grammarly.com/\" rel=\"nofollow noreferrer\">Grammarly</a> or something like that - it is probably a better use of AI for you than ChatGPT generated code.  And ofc, use full words, not internet slang abbreviations."}],"answers":[{"comment_count":0,"score":3,"last_activity_date":1701375825,"last_edit_date":1701375825,"creation_date":1700887993,"answer_id":77546686,"question_id":77542904,"body_markdown":"**Don&#39;t create controllers in code when the controller is specified in FXML**\r\n\r\n*Never* call `new` on a controller that is specified by the `fx:controller` attribute in an FXML file.\r\n\r\nThis code is *wrong*:\r\n\r\n    ProductController pC = new ProductController();\r\n\r\nFor more info also see:\r\n\r\n * [controller must be loaded (*not* instantiated)][1]\r\n\r\n**When you *can* create new controllers in code**\r\n\r\nThe only valid case to call `new` on a controller is if both of these are true:\r\n\r\n * You will call [`setController`][2] on the FXMLLoader *before* you load the FXML. \r\n\r\nAND\r\n \r\n * A controller is *not* specified in the FXML file being loaded.\r\n\r\nHowever, you aren&#39;t doing any of these things.\r\n\r\nFrom the documentation for `setController`:\r\n\r\n&gt; Sets the controller associated with the root object. The value passed to this method is used as the value of the `fx:controller` attribute. This method must be called prior to loading the document when using controller event handlers when an `fx:controller` attribute is not specified in the document.\r\n\r\nFor an example of setting controllers in code, see the section titled &quot;Setting a Controller on the FXMLLoader&quot; in this answer:\r\n\r\n * https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\r\n\r\nOne scenario where you might want to set a controller in code is in conjunction with the `fx:root` construct as detailed in the Oracle tutorial:\r\n\r\n * [Creating a Custom Control with FXML][3]\r\n\r\n**Common issues with creating new controllers in code**\r\n\r\nOnly the `FXMLLoader` will initialize the `@FXML` annotated fields in your controller to the values configured in your FXML file.  If you just create a new controller instance in your code, without also setting that controller instance on an FXMLLoader and calling `load()` to initialize the controller instance, then all of the `@FXML` annotated fields in the controller instance will be `null`.\r\n\r\nAdditionally, if you had *also* loaded the FXML elsewhere and that FXML referenced a controller like yours does, then when you loaded the FXML, the loader will have created an instance of the controller that you specified in the FXML.  So, if you then call `new` on the controller, you will get *another* instance of the controller, totally unrelated to the instance created by the `FXMLLoader` and to the object hierarchy that was returned by the [`load()`][4] method used.\r\n\r\n**Alternate approaches**\r\n\r\nOften when people create new controllers, what they should be doing instead is either:\r\n\r\n * [Getting the controller][5] from the loader and using that. \r\n\r\nOR \r\n\r\n * Refactoring their code so that they don&#39;t need a controller reference at the place they are trying to use it (e.g. by [applying an MVC design][6]).\r\n\r\nOR\r\n\r\n * Setting the controller instance on the FXMLLoader, then asking the loader to `load()` an FXML (that does not have an `fx:controller` attribute).  That will initialize the controller instance that was created in the code.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36186907/javafx-label-null-pointer-exception\r\n  [2]: https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/FXMLLoader.html#setController(java.lang.Object)\r\n  [3]: https://docs.oracle.com/javase/8/javafx/fxml-tutorial/custom_control.htm\r\n  [4]: https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/FXMLLoader.html#load()\r\n  [5]: https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/FXMLLoader.html#getController()\r\n  [6]: https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx","link":"https://stackoverflow.com/questions/77542904/cannot-invoke-javafx-scene-control-tablecolumn-setcellvaluefactoryjavafx-util/77546686#77546686","title":"Cannot invoke &quot;javafx.scene.control.TableColumn.setCellValueFactory(javafx.util.Callback)&quot; because &quot;this.colName&quot; is null","body":"<p><strong>Don't create controllers in code when the controller is specified in FXML</strong></p>\n<p><em>Never</em> call <code>new</code> on a controller that is specified by the <code>fx:controller</code> attribute in an FXML file.</p>\n<p>This code is <em>wrong</em>:</p>\n<pre><code>ProductController pC = new ProductController();\n</code></pre>\n<p>For more info also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/36186907/javafx-label-null-pointer-exception\">controller must be loaded (<em>not</em> instantiated)</a></li>\n</ul>\n<p><strong>When you <em>can</em> create new controllers in code</strong></p>\n<p>The only valid case to call <code>new</code> on a controller is if both of these are true:</p>\n<ul>\n<li>You will call <a href=\"https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/FXMLLoader.html#setController(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>setController</code></a> on the FXMLLoader <em>before</em> you load the FXML.</li>\n</ul>\n<p>AND</p>\n<ul>\n<li>A controller is <em>not</em> specified in the FXML file being loaded.</li>\n</ul>\n<p>However, you aren't doing any of these things.</p>\n<p>From the documentation for <code>setController</code>:</p>\n<blockquote>\n<p>Sets the controller associated with the root object. The value passed to this method is used as the value of the <code>fx:controller</code> attribute. This method must be called prior to loading the document when using controller event handlers when an <code>fx:controller</code> attribute is not specified in the document.</p>\n</blockquote>\n<p>For an example of setting controllers in code, see the section titled &quot;Setting a Controller on the FXMLLoader&quot; in this answer:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">Passing Parameters JavaFX FXML</a></li>\n</ul>\n<p>One scenario where you might want to set a controller in code is in conjunction with the <code>fx:root</code> construct as detailed in the Oracle tutorial:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/javafx/fxml-tutorial/custom_control.htm\" rel=\"nofollow noreferrer\">Creating a Custom Control with FXML</a></li>\n</ul>\n<p><strong>Common issues with creating new controllers in code</strong></p>\n<p>Only the <code>FXMLLoader</code> will initialize the <code>@FXML</code> annotated fields in your controller to the values configured in your FXML file.  If you just create a new controller instance in your code, without also setting that controller instance on an FXMLLoader and calling <code>load()</code> to initialize the controller instance, then all of the <code>@FXML</code> annotated fields in the controller instance will be <code>null</code>.</p>\n<p>Additionally, if you had <em>also</em> loaded the FXML elsewhere and that FXML referenced a controller like yours does, then when you loaded the FXML, the loader will have created an instance of the controller that you specified in the FXML.  So, if you then call <code>new</code> on the controller, you will get <em>another</em> instance of the controller, totally unrelated to the instance created by the <code>FXMLLoader</code> and to the object hierarchy that was returned by the <a href=\"https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/FXMLLoader.html#load()\" rel=\"nofollow noreferrer\"><code>load()</code></a> method used.</p>\n<p><strong>Alternate approaches</strong></p>\n<p>Often when people create new controllers, what they should be doing instead is either:</p>\n<ul>\n<li><a href=\"https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/FXMLLoader.html#getController()\" rel=\"nofollow noreferrer\">Getting the controller</a> from the loader and using that.</li>\n</ul>\n<p>OR</p>\n<ul>\n<li>Refactoring their code so that they don't need a controller reference at the place they are trying to use it (e.g. by <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">applying an MVC design</a>).</li>\n</ul>\n<p>OR</p>\n<ul>\n<li>Setting the controller instance on the FXMLLoader, then asking the loader to <code>load()</code> an FXML (that does not have an <code>fx:controller</code> attribute).  That will initialize the controller instance that was created in the code.</li>\n</ul>\n"}],"comment_count":6,"is_answered":true,"view_count":95,"answer_count":1,"score":0,"last_activity_date":1701375825,"creation_date":1700826463,"last_edit_date":1700831630,"question_id":77542904,"body_markdown":"so my problem is i cant display data to tableview, i cant figure it out why \r\ni have a form use ProductController with display tableview method, in another controller CardProductContrller i call the method from ProductController in addFcn method and it return error :\r\n\r\n\r\nCannot invoke `javafx.scene.control.TableColumn.setCellValueFactory(javafx.util.Callback)` because `this.colName` is null\r\n\r\nheres more detail error: \r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TableColumn.setCellValueFactory(javafx.util.Callback)&quot; because &quot;this.colName&quot; is null\r\n\tat application.ProductController.showOrderDetail(ProductController.java:409)\r\n\tat application.CardProdController.addFcn(CardProdController.java:169)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat javafx.base@21/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\r\n\tat javafx.fxml@21/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@21/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)\r\n\tat javafx.fxml@21/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\r\n\tat javafx.base@21/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@21/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@21/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@21/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@21/javafx.scene.Node.fireEvent(Node.java:8875)\r\n\tat javafx.controls@21/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@21/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@21/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@21/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@21/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@21/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@21/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@21/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@21/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)\r\n\tat javafx.graphics@21/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n\tat javafx.graphics@21/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@21/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@21/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@21/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n```\r\nhere the code : \r\ncardProductController :\r\n\r\n```\r\npackage application;\r\n\r\nimport java.net.URL;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Date;\r\nimport java.util.Optional;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.Spinner;\r\nimport javafx.scene.control.SpinnerValueFactory;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.BorderPane;\r\n\r\npublic class CardProdController implements Initializable {\r\n\r\n    @FXML\r\n    private Button addBtn;\r\n\r\n    @FXML\r\n    private BorderPane cardForm;\r\n\r\n    @FXML\r\n    private ImageView imageView;\r\n\r\n    @FXML\r\n    private Label name;\r\n\r\n    @FXML\r\n    private Label price;\r\n\r\n    @FXML\r\n    private Spinner&lt;Integer&gt; quantity;\r\n    \r\n    private productModel productM;\r\n    \r\n    private Image image;\r\n    \r\n    private String proId;\r\n    private String pro_image;\r\n    private String pro_date;\r\n    \r\n    private SpinnerValueFactory&lt;Integer&gt; spin;\r\n    \r\n    @FXML \r\n    private Connection connection;\r\n    private PreparedStatement prepare;\r\n    private ResultSet result;\r\n    private Alert alert;\r\n\r\n\tprivate double pr;\r\n\tprivate int cusId;\r\n    \r\n    public void setData(productModel productM) {\r\n        this.productM = productM;\r\n        \r\n        pro_image = productM.getProductImage();\r\n        pro_date = String.valueOf(productM.getDate());\r\n        proId = productM.getProductId();\r\n        name.setText(productM.getProductName());\r\n        price.setText(String.valueOf(productM.getProductPrice()));\r\n        String path = &quot;File:&quot; + productM.getProductImage();\r\n        image = new Image(path, 190, 130, false, true);\r\n        imageView.setImage(image);\r\n        pr = productM.getProductPrice();\r\n\r\n    }\r\n    \r\n    private int qty;\r\n    private double totalP;\r\n    private String ordDID;\r\n    public void addFcn() throws SQLException {\r\n\t        ProductController pC = new ProductController();\r\n\t        pC.customerID(); \r\n\t        pC.order_detailID();\r\n\t        qty = quantity.getValue();\r\n\t        String check = &quot;&quot;;\r\n\t        String checkAvailable = &quot;SELECT pro_status FROM product WHERE pro_id = &#39;&quot; + proId + &quot;&#39;&quot;;\r\n\t        \r\n\t        connection = Database.connect();\r\n\t        try {\r\n\t            int checkS = 0;\r\n\t            String checkStock = &quot;SELECT pro_quantity FROM product WHERE pro_id = &#39;&quot; + proId + &quot;&#39;&quot;;\r\n\r\n\t            prepare = connection.prepareStatement(checkStock);\r\n\t            result = prepare.executeQuery();\r\n\t            \r\n\t            if(result.next()) {\r\n\t                checkS = result.getInt(&quot;pro_quantity&quot;);\r\n\t            }\t   \r\n\t            \r\n\t            if(checkS == 0){\r\n\t                String updateStock = &quot;UPDATE product SET pro_status = &#39;Unavailable&#39; WHERE pro_id = &#39;&quot;+proId+&quot;&#39;&quot;;   \r\n\t                //update to database to mark it as unavailable\r\n\t                prepare = connection.prepareStatement(updateStock);\r\n\t                prepare.executeUpdate();\r\n\t            }\r\n\t            prepare = connection.prepareStatement(checkAvailable);\r\n\t            result = prepare.executeQuery();\r\n\r\n\t            if (result.next()) {\r\n\t                check = result.getString(&quot;pro_status&quot;);\r\n\t            }\r\n\t            if (!check.equals(&quot;Available&quot;) || qty == 0) {\r\n\t                alert = new Alert(AlertType.ERROR);\r\n\t                alert.setTitle(&quot;Error Message&quot;);\r\n\t                alert.setHeaderText(null);\r\n\t                alert.setContentText(&quot;Product currently unavalible or we run out&quot;);\r\n\t                alert.showAndWait();\r\n\t            } else {\r\n\t                if (checkS &lt; qty) {\r\n\t                    alert = new Alert(AlertType.ERROR);\r\n\t                    alert.setTitle(&quot;Error Message&quot;);\r\n\t                    alert.setHeaderText(null);\r\n\t                    alert.setContentText(&quot;Invalid. This product is Out of stock&quot;);\r\n\t                    alert.showAndWait();\r\n\t                } else {\r\n\t                    pro_image = pro_image.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n\t                    \r\n\t                    String insertData = &quot;INSERT INTO order_detail &quot;\r\n\t                            + &quot;(cus_id, ord_id, pro_id ,pro_name, pro_price, pro_quantity, orderDate) &quot;\r\n\t                            + &quot;VALUES(?,?,?,?,?,?,?)&quot;;\r\n\t                    prepare = connection.prepareStatement(insertData);\r\n\t                    prepare.setString(1, String.valueOf(data.cusId));\r\n\t                    \r\n\t                    ordDID = data.ordDiD;\r\n\t                    prepare.setString(2, ordDID);\r\n\t                    prepare.setString(3, proId);\r\n\t                    prepare.setString(4, name.getText());\r\n\t                    \r\n\t                    totalP = (qty * pr);\r\n\t                    prepare.setString(5, String.valueOf(totalP));\r\n\t                    prepare.setString(6, String.valueOf(qty));\r\n\t\t\t\t\t\t\r\n\t                    Date date = new Date();\r\n\t                    java.sql.Date sqlDate = new java.sql.Date(date.getTime());\r\n\t                    prepare.setString(7, String.valueOf(sqlDate));\r\n\t                    \r\n\t                    prepare.executeUpdate();\r\n\r\n\t                    int upStock = checkS - qty;\r\n\r\n\t                    String updateStock = &quot;UPDATE product SET pro_quantity = &quot; + upStock + &quot; WHERE pro_id = &#39;&quot;+proId+&quot;&#39;&quot;;\r\n\t                    //update product to mark it&#39;s quantity as decreased as being order by customer \r\n\t                    prepare = connection.prepareStatement(updateStock);\r\n\t                    prepare.executeUpdate();\r\n\t                    \r\n\t                    alert = new Alert(AlertType.INFORMATION);\r\n\t                    alert.setTitle(&quot;Information Message&quot;);\r\n\t                    alert.setHeaderText(null);\r\n\t                    alert.setContentText(&quot;Successfully Added!&quot;);\r\n\t                    Optional&lt;ButtonType&gt; option = alert.showAndWait();\r\n\t                    \r\n\t                    if(option.get().equals(ButtonType.OK)) {\r\n\t                    \t\r\n\t                    \t\r\n\t                    \tpC.showOrderDetail();\r\n\t                    }\r\n\t                    //pC.menuGetTotal();//tinh sau\r\n\t                }\r\n\t            }\r\n\t        } catch (Exception e) {\r\n\t            e.printStackTrace();\r\n\t        }   \r\n\t    }\r\n    \r\n    public void setQuantity() {\r\n    \tspin = new SpinnerValueFactory.IntegerSpinnerValueFactory(1, 100, 0);\r\n    \tquantity.setValueFactory(spin);\r\n    }\r\n    \r\n\t@Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1) {\r\n\t\tsetQuantity();\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\nProductController :\r\n\r\n```\r\npackage application;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Optional;\r\nimport java.util.ResourceBundle;\r\n\r\nimport com.mysql.cj.x.protobuf.MysqlxCrud.Column;\r\n\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class ProductController implements Initializable{\r\n\t@FXML\r\n\tprivate GridPane gridProd;\r\n\r\n    @FXML\r\n    private Button clBtn;\r\n\r\n    @FXML\r\n    private Button doneBtn;\r\n \r\n    @FXML\r\n    private Button clrBtn;\r\n\r\n    @FXML\r\n    private TableColumn&lt;order_detailModel, String&gt; colName;\r\n\r\n    @FXML\r\n    private TableColumn&lt;order_detailModel, String&gt; colPrice;\r\n\r\n    @FXML\r\n    private TableColumn&lt;order_detailModel, String&gt; colQuantity;\r\n    \r\n    @FXML\r\n    private TableView&lt;order_detailModel&gt; orderView;\r\n    \r\n    @FXML\r\n    private Button payBtn;\r\n\r\n    @FXML\r\n    private Button printBillBtn;\r\n\r\n    @FXML\r\n    private Label totalBill;\r\n\t\r\n    @FXML \r\n    private Connection connection;\r\n    private PreparedStatement prepare;\r\n    private ResultSet result;\r\n    private Alert alert;\r\n    \r\n    @FXML\r\n\tprivate Stage sideStage;\r\n\tprivate Scene scene;\r\n\tprivate Parent root;\r\n\r\n    private int cID;\r\n    public void customerID() throws SQLException {\r\n    \t String sql = &quot;SELECT MAX(cus_id) FROM customer&quot;;\r\n         connection = Database.connect();\r\n         \r\n         try {\r\n             prepare = connection.prepareStatement(sql);\r\n             result = prepare.executeQuery();\r\n             if (result.next()) {\r\n                 cID = result.getInt(&quot;MAX(cus_id)&quot;);\r\n             }\r\n             String checkCID = &quot;SELECT MAX(cus_id) FROM receipt&quot;;\r\n             prepare = connection.prepareStatement(checkCID);\r\n             result = prepare.executeQuery();\r\n             int checkID = 0;\r\n             if (result.next()) {\r\n                 checkID = result.getInt(&quot;MAX(cus_id)&quot;);\r\n             }\r\n             if (cID == 0) {\r\n                 cID += 1;\r\n             } else if (cID == checkID) {\r\n                 cID += 1;\r\n             }\r\n             data.cusId = cID;\r\n         } catch (Exception e) {\r\n             e.printStackTrace();\r\n         }\r\n    }\r\n    \r\n    private String odID;\r\n    public void order_detailID() throws SQLException {\r\n   \t String sql = &quot;SELECT MAX(ord_id) FROM order_detail&quot;;\r\n        connection = Database.connect();\r\n        \r\n        try {\r\n            prepare = connection.prepareStatement(sql);\r\n            result = prepare.executeQuery();\r\n            if (result.next()) {\r\n                odID = result.getString(&quot;MAX(ord_id)&quot;);\r\n            }\r\n            String checkODID = &quot;SELECT MAX(ord_id) FROM receipt &quot;;\r\n            prepare = connection.prepareStatement(checkODID);\r\n            result = prepare.executeQuery();\r\n            String checkID = null;\r\n            if (result.next()) {\r\n                checkID = result.getString(&quot;MAX(ord_id)&quot;);\r\n            }\r\n            if (odID == null) {\r\n            \tString aIM = &quot;ORD-&quot; + 0;\r\n                odID = aIM + 1;\r\n            } else if (odID == checkID) {\r\n            \tString aIM = &quot;ORD-&quot; + 0;\r\n            \todID = aIM + 1;\r\n            }\r\n            data.ordDiD = odID;\r\n            System.out.println(data.ordDiD);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n   }\r\n    \r\n\r\n\t   private ObservableList&lt;productModel&gt; cardDataList = FXCollections.observableArrayList();\r\n\t\t\r\n\t    public ObservableList&lt;productModel&gt; getData(){\r\n\t    \t\r\n\t\t    ObservableList&lt;productModel&gt; ListData = FXCollections.observableArrayList();\r\n\t    \t\r\n\t    \tString getData = &quot;SELECT * FROM product&quot;;\r\n\t    \ttry {\r\n\t\t\t\tconnection = Database.connect();\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t    \ttry {\r\n\t    \t\tprepare = connection.prepareStatement(getData);\r\n\t    \t\tresult = prepare.executeQuery();\r\n\t    \t\t\r\n\t    \t\tproductModel productM;\r\n\t    \t\t\r\n\t    \t\twhile(result.next()) {\r\n\t    \t\t\tproductM = new productModel(result.getInt(&quot;id&quot;)\r\n\t    \t\t\t\t\t\t\t\t\t\t,result.getString(&quot;pro_id&quot;)\r\n\t    \t\t\t\t\t\t\t\t\t\t, result.getString(&quot;pro_name&quot;)\r\n\t    \t\t\t\t\t\t\t\t\t\t, result.getDouble(&quot;pro_price&quot;)\r\n\t    \t\t\t\t\t\t\t\t\t\t, result.getInt(&quot;pro_quantity&quot;)\r\n\t    \t\t\t\t\t\t\t\t\t\t, result.getString(&quot;pro_image&quot;));\r\n\t    \t\t\tListData.add(productM);\r\n\t    \t\t}\r\n\t    \t}catch (SQLException e) {\r\n\t\t\t\t// TODO: handle exception\r\n\t    \t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn ListData;\r\n\t    }\r\n\t    \r\n\t    public void menuProd() {\r\n\t    \tcardDataList.clear();\r\n\t    \tcardDataList.addAll(getData());\r\n\t    \t\r\n\t    \tint row = 0; \r\n\t    \tint column = 0;\r\n\t    \tgridProd.getChildren().clear();\r\n\t    \tgridProd.getRowConstraints().clear();\r\n\t    \tgridProd.getColumnConstraints().clear();\r\n\t    \t\r\n\t    \tfor(int i  = 0; i &lt; cardDataList.size(); i++) {\r\n\t    \t\ttry {\r\n\t    \t\t\tFXMLLoader loader = new FXMLLoader();\r\n\t        \t\tloader.setLocation(getClass().getResource(&quot;cardProduct.fxml&quot;));\r\n\t        \t\tPane pane = loader.load();\r\n\t        \t\tCardProdController cpC = loader.getController();\r\n\t        \t\tcpC.setData(cardDataList.get(i));\r\n\t        \t\t\r\n\t        \t\tif(column == 3) {\r\n\t        \t\t\tcolumn = 0;\r\n\t        \t\t\trow += 1;\r\n\t        \t\t}\r\n\t        \t\t\r\n\t        \t\tgridProd.add(pane, column++, row);\r\n\t        \t\t\r\n\t        \t\tGridPane.setMargin(pane, new Insets(10));\r\n\t    \t\t}catch (IOException e) {\r\n\t\t\t\t\t// TODO: handle exception\r\n\t    \t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t    \t}\r\n\t    }\r\n\t    \r\n\t    public void clFcn(ActionEvent event) throws IOException {\r\n\t    \t\r\n\t\t\troot = FXMLLoader.load(getClass().getResource(&quot;StaffSection.fxml&quot;));\r\n\t\t\tsideStage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n\t\t\tscene = new Scene(root);\r\n\t\t\tsideStage.setScene(scene);\r\n\t\t\tsideStage.setResizable(false);\r\n\t\t\tsideStage.show();\r\n\t    }\r\n\t    \r\n\t    public void doneFcn(ActionEvent event) throws IOException {\r\n\t    \t\r\n\t\t\troot = FXMLLoader.load(getClass().getResource(&quot;StaffSection.fxml&quot;));\r\n\t\t\tsideStage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n\t\t\tscene = new Scene(root);\r\n\t\t\tsideStage.setScene(scene);\r\n\t\t\tsideStage.setResizable(false);\r\n\t\t\tsideStage.show();\r\n\t    }\r\n\t    \r\n\t\tpublic ObservableList&lt;order_detailModel&gt; orderDList() throws SQLException {\r\n\t\t\t   ObservableList&lt;order_detailModel&gt; oList = FXCollections.observableArrayList();\r\n\t\t\t   \r\n\t\t\t   String getData = &quot;SELECT pro_name, pro_price, pro_quantity FROM order_detail&quot;;\r\n\t\t\t   connection = Database.connect();\r\n\t\t\t   try {\r\n\t\t\t\t\tprepare = connection.prepareStatement(getData);\r\n\t\t\t\t\tresult = prepare.executeQuery();\r\n\t\t\t\t\t\r\n\t\t\t\t\torder_detailModel ordDM;\r\n\t\t\t\t\twhile(result.next()) {\r\n\t\t\t\t\t\tordDM = new order_detailModel(result.getString(&quot;pro_name&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t,result.getDouble(&quot;pro_price&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t,result.getInt(&quot;pro_quantity&quot;));\r\n\t\t\t\t\t\toList.add(ordDM);\r\n\t\t\t\t\t}\r\n\t\t\t   }catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t}\r\n\t\t\treturn oList; \r\n\t\t}\r\n\t\t\r\n\t\tObservableList&lt;order_detailModel&gt; listOrdD;\r\n\t\tpublic void showOrderDetail() {\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tlistOrdD = orderDList();\r\n\t\t\t\t\r\n\t\t\t\tcolName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;pro_name&quot;));\r\n\t\t\t\tcolPrice.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;pro_price&quot;));\r\n\t\t\t\tcolQuantity.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;pro_quantity&quot;));\r\n\t\t\t\t\r\n\t\t\t\torderView.setItems(listOrdD);\r\n\t\t\t\t\r\n\t\t\t}catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\te.getMessage();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t@Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1) {\r\n\t\tgetData();\r\n\t\tmenuProd();\r\n\t}\r\n}\r\n\r\n```\r\nFXML file use Productcontroller : \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.ScrollPane?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n&lt;?import javafx.scene.layout.GridPane?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;BorderPane prefHeight=&quot;700.0&quot; prefWidth=&quot;1200.0&quot; stylesheets=&quot;@CSS/TableServe.css&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.ProductController&quot;&gt;\r\n   &lt;center&gt;\r\n      &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;AnchorPane fx:id=&quot;acPane1&quot; layoutX=&quot;15.0&quot; layoutY=&quot;15.0&quot; prefHeight=&quot;670.0&quot; prefWidth=&quot;750.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;ScrollPane layoutX=&quot;15.0&quot; layoutY=&quot;15.0&quot; prefHeight=&quot;640.0&quot; prefWidth=&quot;720.0&quot;&gt;\r\n                     &lt;content&gt;\r\n                        &lt;GridPane fx:id=&quot;gridProd&quot; hgap=&quot;10.0&quot; prefHeight=&quot;879.0&quot; prefWidth=&quot;680.0&quot; vgap=&quot;10.0&quot;&gt;\r\n                          &lt;columnConstraints&gt;\r\n                            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n                            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n                              &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n                          &lt;/columnConstraints&gt;\r\n                          &lt;rowConstraints&gt;\r\n                            &lt;RowConstraints fillHeight=&quot;false&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                              &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                          &lt;/rowConstraints&gt;\r\n                        &lt;/GridPane&gt;\r\n                     &lt;/content&gt;\r\n                     &lt;padding&gt;\r\n                        &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n                     &lt;/padding&gt;\r\n                  &lt;/ScrollPane&gt;\r\n               &lt;/children&gt;\r\n            &lt;/AnchorPane&gt;\r\n            &lt;AnchorPane fx:id=&quot;acPane2&quot; layoutX=&quot;785.0&quot; layoutY=&quot;15.0&quot; prefHeight=&quot;670.0&quot; prefWidth=&quot;400.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Pane prefHeight=&quot;670.0&quot; prefWidth=&quot;400.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;TableView fx:id=&quot;orderView&quot; layoutX=&quot;15.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;456.0&quot; prefWidth=&quot;370.0&quot;&gt;\r\n                          &lt;columns&gt;\r\n                            &lt;TableColumn fx:id=&quot;colName&quot; prefWidth=&quot;166.4000244140625&quot; text=&quot;Name&quot; /&gt;\r\n                            &lt;TableColumn fx:id=&quot;colPrice&quot; prefWidth=&quot;108.800048828125&quot; text=&quot;Price&quot; /&gt;\r\n                              &lt;TableColumn fx:id=&quot;colQuantity&quot; prefWidth=&quot;93.5999755859375&quot; text=&quot;Quantity&#39;&quot; /&gt;\r\n                          &lt;/columns&gt;\r\n                        &lt;/TableView&gt;\r\n                        &lt;Button fx:id=&quot;payBtn&quot; layoutX=&quot;10.0&quot; layoutY=&quot;566.0&quot; mnemonicParsing=&quot;false&quot; prefWidth=&quot;120.0&quot; text=&quot;Pay&quot; /&gt;\r\n                        &lt;Button fx:id=&quot;printBillBtn&quot; layoutX=&quot;270.0&quot; layoutY=&quot;566.0&quot; mnemonicParsing=&quot;false&quot; prefWidth=&quot;120.0&quot; text=&quot;Print BIll&quot; /&gt;\r\n                        &lt;Button fx:id=&quot;clrBtn&quot; layoutX=&quot;140.0&quot; layoutY=&quot;566.0&quot; mnemonicParsing=&quot;false&quot; prefWidth=&quot;120.0&quot; text=&quot;Clear&quot; /&gt;\r\n                        &lt;Button fx:id=&quot;clBtn&quot; layoutX=&quot;225.0&quot; layoutY=&quot;629.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#clFcn&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;160.0&quot; text=&quot;Cancel&quot; /&gt;\r\n                        &lt;Button fx:id=&quot;doneBtn&quot; layoutX=&quot;17.0&quot; layoutY=&quot;629.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#doneFcn&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;160.0&quot; text=&quot;Done&quot; /&gt;\r\n                        &lt;Label fx:id=&quot;totalBill&quot; layoutX=&quot;17.0&quot; layoutY=&quot;489.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;173.0&quot; text=&quot;Total: 00$$&quot;&gt;\r\n                           &lt;font&gt;\r\n                              &lt;Font size=&quot;20.0&quot; /&gt;\r\n                           &lt;/font&gt;\r\n                        &lt;/Label&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/Pane&gt;\r\n               &lt;/children&gt;\r\n            &lt;/AnchorPane&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n   &lt;/center&gt;\r\n&lt;/BorderPane&gt;\r\n\r\n```\r\n\r\ni did almost everything, using chatgpt got help ofc but still dont know why, i think it my sql is wrong ? ","link":"https://stackoverflow.com/questions/77542904/cannot-invoke-javafx-scene-control-tablecolumn-setcellvaluefactoryjavafx-util","title":"Cannot invoke &quot;javafx.scene.control.TableColumn.setCellValueFactory(javafx.util.Callback)&quot; because &quot;this.colName&quot; is null","body":"<p>so my problem is i cant display data to tableview, i cant figure it out why\ni have a form use ProductController with display tableview method, in another controller CardProductContrller i call the method from ProductController in addFcn method and it return error :</p>\n<p>Cannot invoke <code>javafx.scene.control.TableColumn.setCellValueFactory(javafx.util.Callback)</code> because <code>this.colName</code> is null</p>\n<p>heres more detail error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TableColumn.setCellValueFactory(javafx.util.Callback)&quot; because &quot;this.colName&quot; is null\n    at application.ProductController.showOrderDetail(ProductController.java:409)\n    at application.CardProdController.addFcn(CardProdController.java:169)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at javafx.base@21/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\n    at javafx.fxml@21/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@21/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)\n    at javafx.fxml@21/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\n    at javafx.base@21/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@21/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@21/javafx.scene.Node.fireEvent(Node.java:8875)\n    at javafx.controls@21/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@21/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@21/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@21/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@21/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@21/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@21/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)\n    at javafx.graphics@21/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics@21/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@21/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@21/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@21/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@21/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@21/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\n</code></pre>\n<p>here the code :\ncardProductController :</p>\n<pre><code>package application;\n\nimport java.net.URL;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Date;\nimport java.util.Optional;\nimport java.util.ResourceBundle;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Spinner;\nimport javafx.scene.control.SpinnerValueFactory;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.BorderPane;\n\npublic class CardProdController implements Initializable {\n\n    @FXML\n    private Button addBtn;\n\n    @FXML\n    private BorderPane cardForm;\n\n    @FXML\n    private ImageView imageView;\n\n    @FXML\n    private Label name;\n\n    @FXML\n    private Label price;\n\n    @FXML\n    private Spinner&lt;Integer&gt; quantity;\n    \n    private productModel productM;\n    \n    private Image image;\n    \n    private String proId;\n    private String pro_image;\n    private String pro_date;\n    \n    private SpinnerValueFactory&lt;Integer&gt; spin;\n    \n    @FXML \n    private Connection connection;\n    private PreparedStatement prepare;\n    private ResultSet result;\n    private Alert alert;\n\n    private double pr;\n    private int cusId;\n    \n    public void setData(productModel productM) {\n        this.productM = productM;\n        \n        pro_image = productM.getProductImage();\n        pro_date = String.valueOf(productM.getDate());\n        proId = productM.getProductId();\n        name.setText(productM.getProductName());\n        price.setText(String.valueOf(productM.getProductPrice()));\n        String path = &quot;File:&quot; + productM.getProductImage();\n        image = new Image(path, 190, 130, false, true);\n        imageView.setImage(image);\n        pr = productM.getProductPrice();\n\n    }\n    \n    private int qty;\n    private double totalP;\n    private String ordDID;\n    public void addFcn() throws SQLException {\n            ProductController pC = new ProductController();\n            pC.customerID(); \n            pC.order_detailID();\n            qty = quantity.getValue();\n            String check = &quot;&quot;;\n            String checkAvailable = &quot;SELECT pro_status FROM product WHERE pro_id = '&quot; + proId + &quot;'&quot;;\n            \n            connection = Database.connect();\n            try {\n                int checkS = 0;\n                String checkStock = &quot;SELECT pro_quantity FROM product WHERE pro_id = '&quot; + proId + &quot;'&quot;;\n\n                prepare = connection.prepareStatement(checkStock);\n                result = prepare.executeQuery();\n                \n                if(result.next()) {\n                    checkS = result.getInt(&quot;pro_quantity&quot;);\n                }      \n                \n                if(checkS == 0){\n                    String updateStock = &quot;UPDATE product SET pro_status = 'Unavailable' WHERE pro_id = '&quot;+proId+&quot;'&quot;;   \n                    //update to database to mark it as unavailable\n                    prepare = connection.prepareStatement(updateStock);\n                    prepare.executeUpdate();\n                }\n                prepare = connection.prepareStatement(checkAvailable);\n                result = prepare.executeQuery();\n\n                if (result.next()) {\n                    check = result.getString(&quot;pro_status&quot;);\n                }\n                if (!check.equals(&quot;Available&quot;) || qty == 0) {\n                    alert = new Alert(AlertType.ERROR);\n                    alert.setTitle(&quot;Error Message&quot;);\n                    alert.setHeaderText(null);\n                    alert.setContentText(&quot;Product currently unavalible or we run out&quot;);\n                    alert.showAndWait();\n                } else {\n                    if (checkS &lt; qty) {\n                        alert = new Alert(AlertType.ERROR);\n                        alert.setTitle(&quot;Error Message&quot;);\n                        alert.setHeaderText(null);\n                        alert.setContentText(&quot;Invalid. This product is Out of stock&quot;);\n                        alert.showAndWait();\n                    } else {\n                        pro_image = pro_image.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\n                        \n                        String insertData = &quot;INSERT INTO order_detail &quot;\n                                + &quot;(cus_id, ord_id, pro_id ,pro_name, pro_price, pro_quantity, orderDate) &quot;\n                                + &quot;VALUES(?,?,?,?,?,?,?)&quot;;\n                        prepare = connection.prepareStatement(insertData);\n                        prepare.setString(1, String.valueOf(data.cusId));\n                        \n                        ordDID = data.ordDiD;\n                        prepare.setString(2, ordDID);\n                        prepare.setString(3, proId);\n                        prepare.setString(4, name.getText());\n                        \n                        totalP = (qty * pr);\n                        prepare.setString(5, String.valueOf(totalP));\n                        prepare.setString(6, String.valueOf(qty));\n                        \n                        Date date = new Date();\n                        java.sql.Date sqlDate = new java.sql.Date(date.getTime());\n                        prepare.setString(7, String.valueOf(sqlDate));\n                        \n                        prepare.executeUpdate();\n\n                        int upStock = checkS - qty;\n\n                        String updateStock = &quot;UPDATE product SET pro_quantity = &quot; + upStock + &quot; WHERE pro_id = '&quot;+proId+&quot;'&quot;;\n                        //update product to mark it's quantity as decreased as being order by customer \n                        prepare = connection.prepareStatement(updateStock);\n                        prepare.executeUpdate();\n                        \n                        alert = new Alert(AlertType.INFORMATION);\n                        alert.setTitle(&quot;Information Message&quot;);\n                        alert.setHeaderText(null);\n                        alert.setContentText(&quot;Successfully Added!&quot;);\n                        Optional&lt;ButtonType&gt; option = alert.showAndWait();\n                        \n                        if(option.get().equals(ButtonType.OK)) {\n                            \n                            \n                            pC.showOrderDetail();\n                        }\n                        //pC.menuGetTotal();//tinh sau\n                    }\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }   \n        }\n    \n    public void setQuantity() {\n        spin = new SpinnerValueFactory.IntegerSpinnerValueFactory(1, 100, 0);\n        quantity.setValueFactory(spin);\n    }\n    \n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        setQuantity();\n    }\n    \n}\n\n</code></pre>\n<p>ProductController :</p>\n<pre><code>package application;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Optional;\nimport java.util.ResourceBundle;\n\nimport com.mysql.cj.x.protobuf.MysqlxCrud.Column;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.geometry.Insets;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\n\npublic class ProductController implements Initializable{\n    @FXML\n    private GridPane gridProd;\n\n    @FXML\n    private Button clBtn;\n\n    @FXML\n    private Button doneBtn;\n \n    @FXML\n    private Button clrBtn;\n\n    @FXML\n    private TableColumn&lt;order_detailModel, String&gt; colName;\n\n    @FXML\n    private TableColumn&lt;order_detailModel, String&gt; colPrice;\n\n    @FXML\n    private TableColumn&lt;order_detailModel, String&gt; colQuantity;\n    \n    @FXML\n    private TableView&lt;order_detailModel&gt; orderView;\n    \n    @FXML\n    private Button payBtn;\n\n    @FXML\n    private Button printBillBtn;\n\n    @FXML\n    private Label totalBill;\n    \n    @FXML \n    private Connection connection;\n    private PreparedStatement prepare;\n    private ResultSet result;\n    private Alert alert;\n    \n    @FXML\n    private Stage sideStage;\n    private Scene scene;\n    private Parent root;\n\n    private int cID;\n    public void customerID() throws SQLException {\n         String sql = &quot;SELECT MAX(cus_id) FROM customer&quot;;\n         connection = Database.connect();\n         \n         try {\n             prepare = connection.prepareStatement(sql);\n             result = prepare.executeQuery();\n             if (result.next()) {\n                 cID = result.getInt(&quot;MAX(cus_id)&quot;);\n             }\n             String checkCID = &quot;SELECT MAX(cus_id) FROM receipt&quot;;\n             prepare = connection.prepareStatement(checkCID);\n             result = prepare.executeQuery();\n             int checkID = 0;\n             if (result.next()) {\n                 checkID = result.getInt(&quot;MAX(cus_id)&quot;);\n             }\n             if (cID == 0) {\n                 cID += 1;\n             } else if (cID == checkID) {\n                 cID += 1;\n             }\n             data.cusId = cID;\n         } catch (Exception e) {\n             e.printStackTrace();\n         }\n    }\n    \n    private String odID;\n    public void order_detailID() throws SQLException {\n     String sql = &quot;SELECT MAX(ord_id) FROM order_detail&quot;;\n        connection = Database.connect();\n        \n        try {\n            prepare = connection.prepareStatement(sql);\n            result = prepare.executeQuery();\n            if (result.next()) {\n                odID = result.getString(&quot;MAX(ord_id)&quot;);\n            }\n            String checkODID = &quot;SELECT MAX(ord_id) FROM receipt &quot;;\n            prepare = connection.prepareStatement(checkODID);\n            result = prepare.executeQuery();\n            String checkID = null;\n            if (result.next()) {\n                checkID = result.getString(&quot;MAX(ord_id)&quot;);\n            }\n            if (odID == null) {\n                String aIM = &quot;ORD-&quot; + 0;\n                odID = aIM + 1;\n            } else if (odID == checkID) {\n                String aIM = &quot;ORD-&quot; + 0;\n                odID = aIM + 1;\n            }\n            data.ordDiD = odID;\n            System.out.println(data.ordDiD);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n   }\n    \n\n       private ObservableList&lt;productModel&gt; cardDataList = FXCollections.observableArrayList();\n        \n        public ObservableList&lt;productModel&gt; getData(){\n            \n            ObservableList&lt;productModel&gt; ListData = FXCollections.observableArrayList();\n            \n            String getData = &quot;SELECT * FROM product&quot;;\n            try {\n                connection = Database.connect();\n            } catch (SQLException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            try {\n                prepare = connection.prepareStatement(getData);\n                result = prepare.executeQuery();\n                \n                productModel productM;\n                \n                while(result.next()) {\n                    productM = new productModel(result.getInt(&quot;id&quot;)\n                                                ,result.getString(&quot;pro_id&quot;)\n                                                , result.getString(&quot;pro_name&quot;)\n                                                , result.getDouble(&quot;pro_price&quot;)\n                                                , result.getInt(&quot;pro_quantity&quot;)\n                                                , result.getString(&quot;pro_image&quot;));\n                    ListData.add(productM);\n                }\n            }catch (SQLException e) {\n                // TODO: handle exception\n                e.printStackTrace();\n            }\n            return ListData;\n        }\n        \n        public void menuProd() {\n            cardDataList.clear();\n            cardDataList.addAll(getData());\n            \n            int row = 0; \n            int column = 0;\n            gridProd.getChildren().clear();\n            gridProd.getRowConstraints().clear();\n            gridProd.getColumnConstraints().clear();\n            \n            for(int i  = 0; i &lt; cardDataList.size(); i++) {\n                try {\n                    FXMLLoader loader = new FXMLLoader();\n                    loader.setLocation(getClass().getResource(&quot;cardProduct.fxml&quot;));\n                    Pane pane = loader.load();\n                    CardProdController cpC = loader.getController();\n                    cpC.setData(cardDataList.get(i));\n                    \n                    if(column == 3) {\n                        column = 0;\n                        row += 1;\n                    }\n                    \n                    gridProd.add(pane, column++, row);\n                    \n                    GridPane.setMargin(pane, new Insets(10));\n                }catch (IOException e) {\n                    // TODO: handle exception\n                    e.printStackTrace();\n                }\n            }\n        }\n        \n        public void clFcn(ActionEvent event) throws IOException {\n            \n            root = FXMLLoader.load(getClass().getResource(&quot;StaffSection.fxml&quot;));\n            sideStage = (Stage)((Node)event.getSource()).getScene().getWindow();\n            scene = new Scene(root);\n            sideStage.setScene(scene);\n            sideStage.setResizable(false);\n            sideStage.show();\n        }\n        \n        public void doneFcn(ActionEvent event) throws IOException {\n            \n            root = FXMLLoader.load(getClass().getResource(&quot;StaffSection.fxml&quot;));\n            sideStage = (Stage)((Node)event.getSource()).getScene().getWindow();\n            scene = new Scene(root);\n            sideStage.setScene(scene);\n            sideStage.setResizable(false);\n            sideStage.show();\n        }\n        \n        public ObservableList&lt;order_detailModel&gt; orderDList() throws SQLException {\n               ObservableList&lt;order_detailModel&gt; oList = FXCollections.observableArrayList();\n               \n               String getData = &quot;SELECT pro_name, pro_price, pro_quantity FROM order_detail&quot;;\n               connection = Database.connect();\n               try {\n                    prepare = connection.prepareStatement(getData);\n                    result = prepare.executeQuery();\n                    \n                    order_detailModel ordDM;\n                    while(result.next()) {\n                        ordDM = new order_detailModel(result.getString(&quot;pro_name&quot;)\n                                                        ,result.getDouble(&quot;pro_price&quot;)\n                                                        ,result.getInt(&quot;pro_quantity&quot;));\n                        oList.add(ordDM);\n                    }\n               }catch (Exception e) {\n                e.printStackTrace();\n                System.out.println(e.getMessage());\n            }\n            return oList; \n        }\n        \n        ObservableList&lt;order_detailModel&gt; listOrdD;\n        public void showOrderDetail() {\n            try {\n                \n                listOrdD = orderDList();\n                \n                colName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;pro_name&quot;));\n                colPrice.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;pro_price&quot;));\n                colQuantity.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;pro_quantity&quot;));\n                \n                orderView.setItems(listOrdD);\n                \n            }catch (Exception e) {\n                e.printStackTrace();\n                e.getMessage();\n            }\n        }\n\n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        getData();\n        menuProd();\n    }\n}\n\n</code></pre>\n<p>FXML file use Productcontroller :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.ScrollPane?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;BorderPane prefHeight=&quot;700.0&quot; prefWidth=&quot;1200.0&quot; stylesheets=&quot;@CSS/TableServe.css&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.ProductController&quot;&gt;\n   &lt;center&gt;\n      &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;children&gt;\n            &lt;AnchorPane fx:id=&quot;acPane1&quot; layoutX=&quot;15.0&quot; layoutY=&quot;15.0&quot; prefHeight=&quot;670.0&quot; prefWidth=&quot;750.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;ScrollPane layoutX=&quot;15.0&quot; layoutY=&quot;15.0&quot; prefHeight=&quot;640.0&quot; prefWidth=&quot;720.0&quot;&gt;\n                     &lt;content&gt;\n                        &lt;GridPane fx:id=&quot;gridProd&quot; hgap=&quot;10.0&quot; prefHeight=&quot;879.0&quot; prefWidth=&quot;680.0&quot; vgap=&quot;10.0&quot;&gt;\n                          &lt;columnConstraints&gt;\n                            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n                            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n                              &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n                          &lt;/columnConstraints&gt;\n                          &lt;rowConstraints&gt;\n                            &lt;RowConstraints fillHeight=&quot;false&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                              &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;100.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                          &lt;/rowConstraints&gt;\n                        &lt;/GridPane&gt;\n                     &lt;/content&gt;\n                     &lt;padding&gt;\n                        &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n                     &lt;/padding&gt;\n                  &lt;/ScrollPane&gt;\n               &lt;/children&gt;\n            &lt;/AnchorPane&gt;\n            &lt;AnchorPane fx:id=&quot;acPane2&quot; layoutX=&quot;785.0&quot; layoutY=&quot;15.0&quot; prefHeight=&quot;670.0&quot; prefWidth=&quot;400.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;Pane prefHeight=&quot;670.0&quot; prefWidth=&quot;400.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;TableView fx:id=&quot;orderView&quot; layoutX=&quot;15.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;456.0&quot; prefWidth=&quot;370.0&quot;&gt;\n                          &lt;columns&gt;\n                            &lt;TableColumn fx:id=&quot;colName&quot; prefWidth=&quot;166.4000244140625&quot; text=&quot;Name&quot; /&gt;\n                            &lt;TableColumn fx:id=&quot;colPrice&quot; prefWidth=&quot;108.800048828125&quot; text=&quot;Price&quot; /&gt;\n                              &lt;TableColumn fx:id=&quot;colQuantity&quot; prefWidth=&quot;93.5999755859375&quot; text=&quot;Quantity'&quot; /&gt;\n                          &lt;/columns&gt;\n                        &lt;/TableView&gt;\n                        &lt;Button fx:id=&quot;payBtn&quot; layoutX=&quot;10.0&quot; layoutY=&quot;566.0&quot; mnemonicParsing=&quot;false&quot; prefWidth=&quot;120.0&quot; text=&quot;Pay&quot; /&gt;\n                        &lt;Button fx:id=&quot;printBillBtn&quot; layoutX=&quot;270.0&quot; layoutY=&quot;566.0&quot; mnemonicParsing=&quot;false&quot; prefWidth=&quot;120.0&quot; text=&quot;Print BIll&quot; /&gt;\n                        &lt;Button fx:id=&quot;clrBtn&quot; layoutX=&quot;140.0&quot; layoutY=&quot;566.0&quot; mnemonicParsing=&quot;false&quot; prefWidth=&quot;120.0&quot; text=&quot;Clear&quot; /&gt;\n                        &lt;Button fx:id=&quot;clBtn&quot; layoutX=&quot;225.0&quot; layoutY=&quot;629.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#clFcn&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;160.0&quot; text=&quot;Cancel&quot; /&gt;\n                        &lt;Button fx:id=&quot;doneBtn&quot; layoutX=&quot;17.0&quot; layoutY=&quot;629.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#doneFcn&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;160.0&quot; text=&quot;Done&quot; /&gt;\n                        &lt;Label fx:id=&quot;totalBill&quot; layoutX=&quot;17.0&quot; layoutY=&quot;489.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;173.0&quot; text=&quot;Total: 00$$&quot;&gt;\n                           &lt;font&gt;\n                              &lt;Font size=&quot;20.0&quot; /&gt;\n                           &lt;/font&gt;\n                        &lt;/Label&gt;\n                     &lt;/children&gt;\n                  &lt;/Pane&gt;\n               &lt;/children&gt;\n            &lt;/AnchorPane&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/center&gt;\n&lt;/BorderPane&gt;\n\n</code></pre>\n<p>i did almost everything, using chatgpt got help ofc but still dont know why, i think it my sql is wrong ?</p>\n"},{"tags":["java","maven","pom.xml","maven-jaxb2-plugin"],"comments":[{"score":2,"post_type":"question","creation_date":1676294343,"post_id":75436274,"comment_id":133102286,"body_markdown":"I think you should reconsider the output directory. The `src/main/java` is intended for files you want to commit/push to your source control management system (e.g. git). All generated sources end up by default under `target/generated-sources/`, they are not committed and will be generated with every build. That will bring you closer to the intended solution.","link":"https://stackoverflow.com/questions/75436274/generate-both-beans-and-meta-inf-in-the-same-folder-jaxb2-maven-plugin-2-3#comment133102286_75436274","body":"I think you should reconsider the output directory. The <code>src&#47;main&#47;java</code> is intended for files you want to commit/push to your source control management system (e.g. git). All generated sources end up by default under <code>target&#47;generated-sources&#47;</code>, they are not committed and will be generated with every build. That will bring you closer to the intended solution."},{"score":1,"post_type":"question","creation_date":1676301077,"post_id":75436274,"comment_id":133104532,"body_markdown":"Remove the configuration for `&lt;outputDirectory&gt;${basedir}/src..` let the plugin decide what&#39;s correct. apart from that never change the contents of files/directories which are under version control via build process...as @RobertScholte mentioned..","link":"https://stackoverflow.com/questions/75436274/generate-both-beans-and-meta-inf-in-the-same-folder-jaxb2-maven-plugin-2-3#comment133104532_75436274","body":"Remove the configuration for <code>&lt;outputDirectory&gt;${basedir}&#47;src..</code> let the plugin decide what&#39;s correct. apart from that never change the contents of files/directories which are under version control via build process...as @RobertScholte mentioned.."},{"score":0,"post_type":"question","creation_date":1676304571,"post_id":75436274,"comment_id":133105791,"body_markdown":"Not sure if I understand everything. If I remove &lt;outputDirectory&gt; then jaxb beans are only generated under target, so I can&#39;t use them in my Java services...","link":"https://stackoverflow.com/questions/75436274/generate-both-beans-and-meta-inf-in-the-same-folder-jaxb2-maven-plugin-2-3#comment133105791_75436274","body":"Not sure if I understand everything. If I remove &lt;outputDirectory&gt; then jaxb beans are only generated under target, so I can&#39;t use them in my Java services..."},{"score":0,"post_type":"question","creation_date":1676364344,"post_id":75436274,"comment_id":133117182,"body_markdown":"Yes you can, the maven-compiler-plugin is aware of it: it can handle multiple source directories, all compiled classes end up in `target/classes`","link":"https://stackoverflow.com/questions/75436274/generate-both-beans-and-meta-inf-in-the-same-folder-jaxb2-maven-plugin-2-3#comment133117182_75436274","body":"Yes you can, the maven-compiler-plugin is aware of it: it can handle multiple source directories, all compiled classes end up in <code>target&#47;classes</code>"}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701375369,"creation_date":1701375369,"answer_id":77581441,"question_id":75436274,"body_markdown":"This applies to jaxb2-maven-plugin but also to any plugin that generates java sources : you should genetate the output in the build directory.\r\n\r\nIf not and generating in `src` folder like here, you&#39;ll then have to commit / push generated files and have a non stable build.\r\n\r\nThe [documentation](https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v2.4/xjc-mojo.html#outputDirectory) of the plugin says about `outputDirectory` :\r\n\r\n&gt; Corresponding XJC parameter: d.\r\n&gt; \r\n&gt; The working directory where the generated Java source files are created.\r\n&gt; \r\n&gt;    Type: java.io.File\r\n&gt;    Required: Yes\r\n&gt;    Default: ${project.build.directory}/generated-sources/jaxb\r\n\r\nThe maven compiler and the IDE is then capable to get this directory (or any subdirectory in generated-sources by convention) and you&#39;ll be able to use generated source code in your own code","link":"https://stackoverflow.com/questions/75436274/generate-both-beans-and-meta-inf-in-the-same-folder-jaxb2-maven-plugin-2-3/77581441#77581441","title":"Generate both beans and META-INF in the same folder jaxb2-maven-plugin 2.3","body":"<p>This applies to jaxb2-maven-plugin but also to any plugin that generates java sources : you should genetate the output in the build directory.</p>\n<p>If not and generating in <code>src</code> folder like here, you'll then have to commit / push generated files and have a non stable build.</p>\n<p>The <a href=\"https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v2.4/xjc-mojo.html#outputDirectory\" rel=\"nofollow noreferrer\">documentation</a> of the plugin says about <code>outputDirectory</code> :</p>\n<blockquote>\n<p>Corresponding XJC parameter: d.</p>\n<p>The working directory where the generated Java source files are created.</p>\n<p>Type: java.io.File\nRequired: Yes\nDefault: ${project.build.directory}/generated-sources/jaxb</p>\n</blockquote>\n<p>The maven compiler and the IDE is then capable to get this directory (or any subdirectory in generated-sources by convention) and you'll be able to use generated source code in your own code</p>\n"}],"comment_count":4,"is_answered":true,"view_count":173,"answer_count":1,"score":0,"last_activity_date":1701375369,"creation_date":1676293519,"last_edit_date":1686844274,"question_id":75436274,"body_markdown":"I&#39;m using `jaxb2-maven-plugin` version 2.3 to generate jaxb java beans.  \r\n\r\n - It works well and generate the beans as expected under `src/main/java/x/y/z`.  \r\n - A `META-INF/sun-jaxb.episode` file is created under `src/main/java`.   \r\n\r\nThe point is that I want to be able to generate both the beans and the `META-INF/` folder inside the same directory, such as **src/main/java/x/y/z**. Otherwise at least not generating the `META-INF/` folder under `src/main/java`.  \r\nIs that possible ? If I don&#39;t set a `&lt;packageName&gt;` then a default package (defined in .xsd file) is applied to the generated beans.  \r\nHere is my current configuration in `pom.xml` file :\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n             &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n             &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n             &lt;version&gt;2.3&lt;/version&gt;\r\n             &lt;executions&gt;\r\n                 &lt;execution&gt;\r\n                 &lt;id&gt;schema-x&lt;/id&gt;\r\n                 &lt;goals&gt;\r\n                     &lt;goal&gt;xjc&lt;/goal&gt;\r\n                 &lt;/goals&gt;\r\n                 &lt;configuration&gt;\r\n                     &lt;xjbSources&gt;\r\n                         &lt;xjbSource&gt;src/main/resources/path/to/file.xjb&lt;/xjbSource&gt;\r\n                     &lt;/xjbSources&gt;\r\n                     &lt;sources&gt;\r\n                         &lt;source&gt;src/main/resources/path/to/file.xsd&lt;/source&gt;\r\n                     &lt;/sources&gt;\r\n                     &lt;packageName&gt;x.y.z&lt;/packageName&gt;\r\n                     &lt;outputDirectory&gt;${basedir}/src/main/java&lt;/outputDirectory&gt;\r\n                     &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```         ","link":"https://stackoverflow.com/questions/75436274/generate-both-beans-and-meta-inf-in-the-same-folder-jaxb2-maven-plugin-2-3","title":"Generate both beans and META-INF in the same folder jaxb2-maven-plugin 2.3","body":"<p>I'm using <code>jaxb2-maven-plugin</code> version 2.3 to generate jaxb java beans.</p>\n<ul>\n<li>It works well and generate the beans as expected under <code>src/main/java/x/y/z</code>.</li>\n<li>A <code>META-INF/sun-jaxb.episode</code> file is created under <code>src/main/java</code>.</li>\n</ul>\n<p>The point is that I want to be able to generate both the beans and the <code>META-INF/</code> folder inside the same directory, such as <strong>src/main/java/x/y/z</strong>. Otherwise at least not generating the <code>META-INF/</code> folder under <code>src/main/java</code>.<br />\nIs that possible ? If I don't set a <code>&lt;packageName&gt;</code> then a default package (defined in .xsd file) is applied to the generated beans.<br />\nHere is my current configuration in <code>pom.xml</code> file :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n             &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n             &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n             &lt;version&gt;2.3&lt;/version&gt;\n             &lt;executions&gt;\n                 &lt;execution&gt;\n                 &lt;id&gt;schema-x&lt;/id&gt;\n                 &lt;goals&gt;\n                     &lt;goal&gt;xjc&lt;/goal&gt;\n                 &lt;/goals&gt;\n                 &lt;configuration&gt;\n                     &lt;xjbSources&gt;\n                         &lt;xjbSource&gt;src/main/resources/path/to/file.xjb&lt;/xjbSource&gt;\n                     &lt;/xjbSources&gt;\n                     &lt;sources&gt;\n                         &lt;source&gt;src/main/resources/path/to/file.xsd&lt;/source&gt;\n                     &lt;/sources&gt;\n                     &lt;packageName&gt;x.y.z&lt;/packageName&gt;\n                     &lt;outputDirectory&gt;${basedir}/src/main/java&lt;/outputDirectory&gt;\n                     &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","collections"],"comments":[{"score":0,"post_type":"question","creation_date":1701372741,"post_id":77581118,"comment_id":136770811,"body_markdown":"What do you mean by “segments”? The constructors let you specify an initial capacity and a load factor, as well as a hint of expected number of threads.","link":"https://stackoverflow.com/questions/77581118/concurrent-hashmap-default-segment-value#comment136770811_77581118","body":"What do you mean by “segments”? The constructors let you specify an initial capacity and a load factor, as well as a hint of expected number of threads."},{"score":0,"post_type":"question","creation_date":1701372879,"post_id":77581118,"comment_id":136770833,"body_markdown":"did you try to read the documentation?","link":"https://stackoverflow.com/questions/77581118/concurrent-hashmap-default-segment-value#comment136770833_77581118","body":"did you try to read the documentation?"}],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701374811,"creation_date":1701374811,"answer_id":77581399,"question_id":77581118,"body_markdown":"That `ConcurrentHashMap` uses segments is merely an implementation details for Java versions from 1.5 (when `ConcurrentHashMap` was introduced) to 1.7 (which is the last version that used segments).\r\n\r\nIn Java versions 1.8 and later `ConcurrentHashMap` no longer uses a segments in its implementation.\r\n\r\nFor reference, the Java 1.7 version of `ConcurrentHashMap` is available \r\n at https://github.com/openjdk/jdk7u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java with the inner class `Segment` at https://github.com/openjdk/jdk7u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L350\r\n\r\nThe Java 1.8 version of `ConcurrentHashMap` is available at https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java and contains an implementation note about the segments (https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L481):\r\n\r\n&gt; Maintaining API and serialization compatibility with previous versions of this class introduces several oddities. Mainly: We leave untouched but unused constructor arguments refering to concurrencyLevel. We accept a loadFactor constructor argument, but apply it only to initial table capacity (which is the only time that we can guarantee to honor it.) We also declare an unused &quot;Segment&quot; class that is instantiated in minimal form only when serializing.","link":"https://stackoverflow.com/questions/77581118/concurrent-hashmap-default-segment-value/77581399#77581399","title":"Concurrent HashMap default segment value?","body":"<p>That <code>ConcurrentHashMap</code> uses segments is merely an implementation details for Java versions from 1.5 (when <code>ConcurrentHashMap</code> was introduced) to 1.7 (which is the last version that used segments).</p>\n<p>In Java versions 1.8 and later <code>ConcurrentHashMap</code> no longer uses a segments in its implementation.</p>\n<p>For reference, the Java 1.7 version of <code>ConcurrentHashMap</code> is available\nat <a href=\"https://github.com/openjdk/jdk7u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk7u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java</a> with the inner class <code>Segment</code> at <a href=\"https://github.com/openjdk/jdk7u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L350\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk7u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L350</a></p>\n<p>The Java 1.8 version of <code>ConcurrentHashMap</code> is available at <a href=\"https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java</a> and contains an implementation note about the segments (<a href=\"https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L481\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#L481</a>):</p>\n<blockquote>\n<p>Maintaining API and serialization compatibility with previous versions of this class introduces several oddities. Mainly: We leave untouched but unused constructor arguments refering to concurrencyLevel. We accept a loadFactor constructor argument, but apply it only to initial table capacity (which is the only time that we can guarantee to honor it.) We also declare an unused &quot;Segment&quot; class that is instantiated in minimal form only when serializing.</p>\n</blockquote>\n"}],"comment_count":2,"is_answered":true,"view_count":41,"answer_count":1,"score":-2,"last_activity_date":1701374811,"creation_date":1701371606,"last_edit_date":1701372789,"question_id":77581118,"body_markdown":"What is the default number of segments in a [`ConcurrentHashMap`][1] in Java?\r\n\r\nHow does it affect the concurrent performance of the data structure? \r\n\r\nCan I customize the number of segments, and if so, how do I choose the right value for my specific application?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html","link":"https://stackoverflow.com/questions/77581118/concurrent-hashmap-default-segment-value","title":"Concurrent HashMap default segment value?","body":"<p>What is the default number of segments in a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentHashMap</code></a> in Java?</p>\n<p>How does it affect the concurrent performance of the data structure?</p>\n<p>Can I customize the number of segments, and if so, how do I choose the right value for my specific application?</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701374574,"creation_date":1701374574,"answer_id":77581382,"question_id":77581251,"body_markdown":"You should put the query part into the `@Query` annotation, see the [relevant documentation](https://docs.spring.io/spring-data/elasticsearch/reference/elasticsearch/repositories/elasticsearch-repository-queries.html#elasticsearch.query-methods.at-query). \r\n\r\nFor the highlight definition, you can use the `@Highlight` annotation, check [the reference documentation](https://docs.spring.io/spring-data/elasticsearch/reference/elasticsearch/repositories/elasticsearch-repositories.html#elasticsearch.repositories.annotations.highlight)","link":"https://stackoverflow.com/questions/77581251/spring-data-elasticsearch-query-annotation/77581382#77581382","title":"Spring Data elasticsearch @Query annotation","body":"<p>You should put the query part into the <code>@Query</code> annotation, see the <a href=\"https://docs.spring.io/spring-data/elasticsearch/reference/elasticsearch/repositories/elasticsearch-repository-queries.html#elasticsearch.query-methods.at-query\" rel=\"nofollow noreferrer\">relevant documentation</a>.</p>\n<p>For the highlight definition, you can use the <code>@Highlight</code> annotation, check <a href=\"https://docs.spring.io/spring-data/elasticsearch/reference/elasticsearch/repositories/elasticsearch-repositories.html#elasticsearch.repositories.annotations.highlight\" rel=\"nofollow noreferrer\">the reference documentation</a></p>\n"}],"comment_count":0,"is_answered":true,"view_count":27,"answer_count":1,"score":0,"last_activity_date":1701374574,"creation_date":1701373259,"question_id":77581251,"body_markdown":"My JSON doc is like this:\r\nMeu documento JSON &#233; assim:\r\n\r\n\r\n```\r\n{\r\n&quot;query&quot; : {\r\n    &quot;bool&quot;: {\r\n        &quot;minimum_should_match&quot;: 1,\r\n        &quot;should&quot;: [\r\n        {\r\n          &quot;bool&quot;:   { &quot;must&quot;: [{&quot;match&quot;: {&quot;txt&quot;: &quot;p&quot;}},\r\n                    {&quot;match&quot;: {&quot;nm&quot;: &quot;p&quot;}}\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          &quot;bool&quot;: { &quot;must&quot;: [{&quot;match&quot;: {&quot;txt&quot;: &quot;p&quot;}}\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          &quot;bool&quot;: { &quot;must&quot;: [{&quot;match&quot;: {&quot;nm&quot;: &quot;p&quot;}}\r\n            ]\r\n          }\r\n        }\r\n        ]\r\n        }\r\n},\r\n&quot;highlight&quot;: {\r\n    &quot;number_of_fragments&quot; : 1,\r\n    &quot;order&quot;: &quot;score&quot;,\r\n    &quot;boundary_scanner&quot;: &quot;sentence&quot;, \r\n    &quot;fragment_size&quot; : 300,\r\n    &quot;pre_tags&quot; : [&quot;&lt;tag1&gt;&quot;],\r\n    &quot;post_tags&quot; : [&quot;&lt;/tag1&gt;&quot;],\r\n    &quot;fragmenter&quot;: &quot;span&quot;, \r\n    &quot;fields&quot; : {\r\n        &quot;nm&quot;: {},\r\n        &quot;txt&quot;: {}\r\n    }\r\n  },\r\n  &quot;_source&quot;: false\r\n}\r\n```\r\n\r\n\r\nHow should I write the query method using @Query annotation ? (or if there is any other method that I can put the highlight) ?\r\nComo devo escrever o m&#233;todo de consulta usando a anota&#231;&#227;o @Query? (ou se houver algum outro m&#233;todo que eu consiga colocar o highlight) ?\r\n\r\n\r\nobservation:highlight it&#39;s very important\r\nobserva&#231;&#227;o:destaque que &#233; muito importante\r\n\r\n\r\nThanks for any suggestion.\r\nObrigado por qualquer sugest&#227;o.","link":"https://stackoverflow.com/questions/77581251/spring-data-elasticsearch-query-annotation","title":"Spring Data elasticsearch @Query annotation","body":"<p>My JSON doc is like this:\nMeu documento JSON é assim:</p>\n<pre><code>{\n&quot;query&quot; : {\n    &quot;bool&quot;: {\n        &quot;minimum_should_match&quot;: 1,\n        &quot;should&quot;: [\n        {\n          &quot;bool&quot;:   { &quot;must&quot;: [{&quot;match&quot;: {&quot;txt&quot;: &quot;p&quot;}},\n                    {&quot;match&quot;: {&quot;nm&quot;: &quot;p&quot;}}\n            ]\n          }\n        },\n        {\n          &quot;bool&quot;: { &quot;must&quot;: [{&quot;match&quot;: {&quot;txt&quot;: &quot;p&quot;}}\n            ]\n          }\n        },\n        {\n          &quot;bool&quot;: { &quot;must&quot;: [{&quot;match&quot;: {&quot;nm&quot;: &quot;p&quot;}}\n            ]\n          }\n        }\n        ]\n        }\n},\n&quot;highlight&quot;: {\n    &quot;number_of_fragments&quot; : 1,\n    &quot;order&quot;: &quot;score&quot;,\n    &quot;boundary_scanner&quot;: &quot;sentence&quot;, \n    &quot;fragment_size&quot; : 300,\n    &quot;pre_tags&quot; : [&quot;&lt;tag1&gt;&quot;],\n    &quot;post_tags&quot; : [&quot;&lt;/tag1&gt;&quot;],\n    &quot;fragmenter&quot;: &quot;span&quot;, \n    &quot;fields&quot; : {\n        &quot;nm&quot;: {},\n        &quot;txt&quot;: {}\n    }\n  },\n  &quot;_source&quot;: false\n}\n</code></pre>\n<p>How should I write the query method using @Query annotation ? (or if there is any other method that I can put the highlight) ?\nComo devo escrever o método de consulta usando a anotação @Query? (ou se houver algum outro método que eu consiga colocar o highlight) ?</p>\n<p>observation:highlight it's very important\nobservação:destaque que é muito importante</p>\n<p>Thanks for any suggestion.\nObrigado por qualquer sugestão.</p>\n"},{"tags":["java","oop"],"comments":[{"score":0,"post_type":"question","creation_date":1701390277,"post_id":77580787,"comment_id":136773070,"body_markdown":"_&quot;For starters the 2 non-cached methods shouldn&#39;t exist to begin with since they&#39;re not cached&quot;_  Why do you believe that?  Caching is an implementation/performance detail.  A user of this code should _never_ interact directly with a `CachableThingRepository`, only via the interface.  The concrete implementation should be acquired via a Factory or Builder object.","link":"https://stackoverflow.com/questions/77580787/caching-some-methods-from-a-repository-with-a-decorator-pattern#comment136773070_77580787","body":"<i>&quot;For starters the 2 non-cached methods shouldn&#39;t exist to begin with since they&#39;re not cached&quot;</i>  Why do you believe that?  Caching is an implementation/performance detail.  A user of this code should <i>never</i> interact directly with a <code>CachableThingRepository</code>, only via the interface.  The concrete implementation should be acquired via a Factory or Builder object."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701370512,"post_id":77580976,"comment_id":136770404,"body_markdown":"Indeed, the question you pose is a good one. The reason is that some data shouldn&#39;t be cached. For example: some users have some profile settings that rarely change(if ever). Those are fine to cache. But the same user can have some data that changes frequently, that is not fine to cache. So I agree with you thoughts on this: keep things separate and decide on a case by case basis. Either use `CachableThingRepository` or `ThingRepository`.","link":"https://stackoverflow.com/questions/77580787/caching-some-methods-from-a-repository-with-a-decorator-pattern/77580976#comment136770404_77580976","body":"Indeed, the question you pose is a good one. The reason is that some data shouldn&#39;t be cached. For example: some users have some profile settings that rarely change(if ever). Those are fine to cache. But the same user can have some data that changes frequently, that is not fine to cache. So I agree with you thoughts on this: keep things separate and decide on a case by case basis. Either use <code>CachableThingRepository</code> or <code>ThingRepository</code>."},{"score":0,"post_type":"answer","creation_date":1701371421,"post_id":77580976,"comment_id":136770572,"body_markdown":"It seems that caching some results is an implementation detail, and not inherently relevant outside the class itself.  Calling it `CachableThingRepository` implies that caching is somehow critical to be able to use the class (other than the constructor).  But a user of the class doesn&#39;t (or shouldn&#39;t ) care.","link":"https://stackoverflow.com/questions/77580787/caching-some-methods-from-a-repository-with-a-decorator-pattern/77580976#comment136770572_77580976","body":"It seems that caching some results is an implementation detail, and not inherently relevant outside the class itself.  Calling it <code>CachableThingRepository</code> implies that caching is somehow critical to be able to use the class (other than the constructor).  But a user of the class doesn&#39;t (or shouldn&#39;t ) care."},{"score":0,"post_type":"answer","creation_date":1701371647,"post_id":77580976,"comment_id":136770611,"body_markdown":"Also a fair point @AndrewS what would you suggest in this case? Simply cache stuff directly in the `ThingRepository`?","link":"https://stackoverflow.com/questions/77580787/caching-some-methods-from-a-repository-with-a-decorator-pattern/77580976#comment136770611_77580976","body":"Also a fair point @AndrewS what would you suggest in this case? Simply cache stuff directly in the <code>ThingRepository</code>?"},{"score":0,"post_type":"answer","creation_date":1701371906,"post_id":77580976,"comment_id":136770669,"body_markdown":"yes - name as `ThingRepository`, and the caching of some results is just part of the implementation.","link":"https://stackoverflow.com/questions/77580787/caching-some-methods-from-a-repository-with-a-decorator-pattern/77580976#comment136770669_77580976","body":"yes - name as <code>ThingRepository</code>, and the caching of some results is just part of the implementation."},{"score":0,"post_type":"answer","creation_date":1701372001,"post_id":77580976,"comment_id":136770689,"body_markdown":"Not a terrible idea tbh.","link":"https://stackoverflow.com/questions/77580787/caching-some-methods-from-a-repository-with-a-decorator-pattern/77580976#comment136770689_77580976","body":"Not a terrible idea tbh."},{"score":0,"post_type":"answer","creation_date":1701374398,"post_id":77580976,"comment_id":136771073,"body_markdown":"I just added an idea for a different placing of the strategy into my answer.","link":"https://stackoverflow.com/questions/77580787/caching-some-methods-from-a-repository-with-a-decorator-pattern/77580976#comment136771073_77580976","body":"I just added an idea for a different placing of the strategy into my answer."}],"comment_count":6,"score":0,"last_activity_date":1701374370,"last_edit_date":1701374370,"creation_date":1701370035,"answer_id":77580976,"question_id":77580787,"body_markdown":"I think it is not good if you want to differentiate the interfaces between the cached and the non-cached repositories. A facade is used to hide implementation details of a &quot;bunch of classes&quot;, but it looks as you are more implementing different strategies to access data (strategy pattern).\r\n\r\nSo why is important for you to differentiate between cached and uncached methods? Or asked differently: Why is it important for the user of the `CachableThingRepository` to know which methods to _not_ cache?\r\n\r\nI would btw. just pass a `ThingInterface` to the `CachableThingRepository`, because that should be sufficient. If a user wants to ensure that uncached methods are used, then the user can use the `ThingRepository`, and for maybe cached access the user can use the `CachableThingRepository` - both have to be known as for the construction of the `CachableThingRepository` the uncached strategy has to be known.\r\n\r\nRemember that even for the cached strategy not every call is served from the cache!\r\n\r\nWhat you might want to add to the `CachableThingRepository` is some method to clear already cached values - individually per key or in global, or maybe automatically when you update stuff via the `CachableThingRepository`.\r\n\r\nIn general I would not recommend that you first define an interface but then you expose implementation details. You don&#39;t need the interface then... (but see my questions above, maybe there is a good reason to do that).\r\n\r\n----\r\nUPDATE: inspired by the discussions in the comment, you could also see the `Cache` implementation as a strategy and merge implementations of the current `ThingRepository` and `CachedThingRepository` into one class that always requires a `Cache` implementation.\r\n\r\nThen implement a dummy cache, that doesn&#39;t do anything - and if you want uncached access, you provide that.\r\n\r\nTake care that if you use a simple `null` value as &quot;cache implementation&quot; and react to that in your new `ThingRepository`, you put the caching strategy into your repository, which isn&#39;t following the strategy pattern and will make the class less maintainable.\r\n\r\nBut it could be a valid option if you desperately need some performance optimizations and profiling shows a bottleneck in the indirection there.","link":"https://stackoverflow.com/questions/77580787/caching-some-methods-from-a-repository-with-a-decorator-pattern/77580976#77580976","title":"Caching some methods from a repository with a decorator pattern(?)","body":"<p>I think it is not good if you want to differentiate the interfaces between the cached and the non-cached repositories. A facade is used to hide implementation details of a &quot;bunch of classes&quot;, but it looks as you are more implementing different strategies to access data (strategy pattern).</p>\n<p>So why is important for you to differentiate between cached and uncached methods? Or asked differently: Why is it important for the user of the <code>CachableThingRepository</code> to know which methods to <em>not</em> cache?</p>\n<p>I would btw. just pass a <code>ThingInterface</code> to the <code>CachableThingRepository</code>, because that should be sufficient. If a user wants to ensure that uncached methods are used, then the user can use the <code>ThingRepository</code>, and for maybe cached access the user can use the <code>CachableThingRepository</code> - both have to be known as for the construction of the <code>CachableThingRepository</code> the uncached strategy has to be known.</p>\n<p>Remember that even for the cached strategy not every call is served from the cache!</p>\n<p>What you might want to add to the <code>CachableThingRepository</code> is some method to clear already cached values - individually per key or in global, or maybe automatically when you update stuff via the <code>CachableThingRepository</code>.</p>\n<p>In general I would not recommend that you first define an interface but then you expose implementation details. You don't need the interface then... (but see my questions above, maybe there is a good reason to do that).</p>\n<hr />\n<p>UPDATE: inspired by the discussions in the comment, you could also see the <code>Cache</code> implementation as a strategy and merge implementations of the current <code>ThingRepository</code> and <code>CachedThingRepository</code> into one class that always requires a <code>Cache</code> implementation.</p>\n<p>Then implement a dummy cache, that doesn't do anything - and if you want uncached access, you provide that.</p>\n<p>Take care that if you use a simple <code>null</code> value as &quot;cache implementation&quot; and react to that in your new <code>ThingRepository</code>, you put the caching strategy into your repository, which isn't following the strategy pattern and will make the class less maintainable.</p>\n<p>But it could be a valid option if you desperately need some performance optimizations and profiling shows a bottleneck in the indirection there.</p>\n"}],"comment_count":1,"is_answered":false,"view_count":40,"answer_count":1,"score":0,"last_activity_date":1701374370,"creation_date":1701367864,"question_id":77580787,"body_markdown":"I&#39;m working on a project in java. This project doesn&#39;t use Spring or any other framework.\r\n\r\nI have a class where I get some data from, lets call it a repository. Since this is a rather expensive call I&#39;d like to cache the data. So I create an interface for that repository and build a decorator with a cacheable repository.\r\n\r\nI have a repository interface like so\r\n\r\n    public interface ThingInterface {\r\n        Map&lt;Long, String&gt; findById(long id);\r\n        String findNameById(long id);\r\n        String findConfigBySomeParameter(String param);\r\n        Long findAnotherThingByAntoherParam(String param);\r\n    }\r\n\r\nAnd the concrete repository that implements this interface\r\n\r\n    public class ThingRepository implements ThingInterface{\r\n        @Override\r\n        public Map&lt;Long, String&gt; findById(long id) {\r\n            // get things for a database or wherever\r\n        }\r\n    \r\n        @Override\r\n        public String findNameById(long id) {\r\n            ...\r\n        }\r\n    \r\n        @Override\r\n        public String findConfigBySomeParameter(String param) {\r\n            ...\r\n        }\r\n    \r\n        @Override\r\n        public Long findAnotherThingByAntoherParam(String param) {\r\n            ...\r\n        }\r\n    }\r\n\r\n\r\nNow I want to cache some method results, but not all. I can implement a CachableRepository which will cache things or delegate to the non-cacheable repository in case of a miss.\r\n\r\n    public class CachableThingRepository implements ThingInterface{\r\n    \r\n        private ThingRepository thingRepository;\r\n        private Cache cache;\r\n    \r\n        public CachableThingRepository(ThingRepository thingRepository, Cache cache) {\r\n            this.thingRepository = thingRepository;\r\n            this.cache = cache;\r\n        }\r\n    \r\n        @Override\r\n        public Map&lt;Long, String&gt; findById(long id) {\r\n            if(cache.has(&quot;some_key&quot;)) {\r\n                return cache.get(&quot;some_key&quot;);\r\n            }\r\n            Map&lt;Long, String&gt; result = thingRepository.findById(id);\r\n            cache.put(&quot;some_key&quot;, result);\r\n    \r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public String findNameById(long id) {\r\n            if(cache.has(&quot;some_other_key&quot;)) {\r\n                return cache.get(&quot;some_other_key&quot;);\r\n            }\r\n            String result = thingRepository.findNameById(id);\r\n            cache.put(&quot;some_other_key&quot;, result);\r\n    \r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public String findConfigBySomeParameter(String param) {\r\n            return thingRepository.findConfigBySomeParameter(param);\r\n        }\r\n    \r\n        @Override\r\n        public Long findAnotherThingByAntoherParam(String param) {\r\n            return thingRepository.findAnotherThingByAntoherParam(param);\r\n        }\r\n    }\r\n\r\n----\r\n\r\nAs I said, I want to cache some method results, **but not all**. So in this case, `findAnotherThingByAntoherParam` and `findConfigBySomeParameter` aren&#39;t cached. While the other 2 are.\r\n\r\n`CachableThingRepository` isn&#39;t a good implementation. For starters the 2 non-cached methods shouldn&#39;t exist to begin with since they&#39;re not cached. From the outside, without looking at the code, one would assume that all methods are cached.\r\n\r\n**My question: how can I approach this?**\r\n==============\r\n\r\nMy solution is to simply remove the interface completely. Inject `ThingRepository` into `CachableThingRepository` and be left with something like this\r\n\r\n    public class CachableThingRepository{\r\n    \r\n        private ThingRepository thingRepository;\r\n        private Cache cache;\r\n    \r\n        public CachableThingRepository(ThingRepository thingRepository, Cache cache) {\r\n            this.thingRepository = thingRepository;\r\n            this.cache = cache;\r\n        }\r\n    \r\n        public Map&lt;Long, String&gt; findById(long id) {\r\n            if(cache.has(&quot;some_key&quot;)) {\r\n                return cache.get(&quot;some_key&quot;);\r\n            }\r\n            Map&lt;Long, String&gt; result = thingRepository.findById(id);\r\n            cache.put(result);\r\n    \r\n            return result;\r\n        }\r\n    \r\n        public String findNameById(long id) {\r\n            if(cache.has(&quot;some_other_key&quot;)) {\r\n                return cache.get(&quot;some_other_key&quot;);\r\n            }\r\n            String result = thingRepository.findNameById(id);\r\n            cache.put(result);\r\n    \r\n            return result;\r\n        }\r\n    }\r\n\r\nWhich in all fairness is considerably cleaner than the above. But I wouldn&#39;t mind hearing other peoples ideas on this matter.","link":"https://stackoverflow.com/questions/77580787/caching-some-methods-from-a-repository-with-a-decorator-pattern","title":"Caching some methods from a repository with a decorator pattern(?)","body":"<p>I'm working on a project in java. This project doesn't use Spring or any other framework.</p>\n<p>I have a class where I get some data from, lets call it a repository. Since this is a rather expensive call I'd like to cache the data. So I create an interface for that repository and build a decorator with a cacheable repository.</p>\n<p>I have a repository interface like so</p>\n<pre><code>public interface ThingInterface {\n    Map&lt;Long, String&gt; findById(long id);\n    String findNameById(long id);\n    String findConfigBySomeParameter(String param);\n    Long findAnotherThingByAntoherParam(String param);\n}\n</code></pre>\n<p>And the concrete repository that implements this interface</p>\n<pre><code>public class ThingRepository implements ThingInterface{\n    @Override\n    public Map&lt;Long, String&gt; findById(long id) {\n        // get things for a database or wherever\n    }\n\n    @Override\n    public String findNameById(long id) {\n        ...\n    }\n\n    @Override\n    public String findConfigBySomeParameter(String param) {\n        ...\n    }\n\n    @Override\n    public Long findAnotherThingByAntoherParam(String param) {\n        ...\n    }\n}\n</code></pre>\n<p>Now I want to cache some method results, but not all. I can implement a CachableRepository which will cache things or delegate to the non-cacheable repository in case of a miss.</p>\n<pre><code>public class CachableThingRepository implements ThingInterface{\n\n    private ThingRepository thingRepository;\n    private Cache cache;\n\n    public CachableThingRepository(ThingRepository thingRepository, Cache cache) {\n        this.thingRepository = thingRepository;\n        this.cache = cache;\n    }\n\n    @Override\n    public Map&lt;Long, String&gt; findById(long id) {\n        if(cache.has(&quot;some_key&quot;)) {\n            return cache.get(&quot;some_key&quot;);\n        }\n        Map&lt;Long, String&gt; result = thingRepository.findById(id);\n        cache.put(&quot;some_key&quot;, result);\n\n        return result;\n    }\n\n    @Override\n    public String findNameById(long id) {\n        if(cache.has(&quot;some_other_key&quot;)) {\n            return cache.get(&quot;some_other_key&quot;);\n        }\n        String result = thingRepository.findNameById(id);\n        cache.put(&quot;some_other_key&quot;, result);\n\n        return result;\n    }\n\n    @Override\n    public String findConfigBySomeParameter(String param) {\n        return thingRepository.findConfigBySomeParameter(param);\n    }\n\n    @Override\n    public Long findAnotherThingByAntoherParam(String param) {\n        return thingRepository.findAnotherThingByAntoherParam(param);\n    }\n}\n</code></pre>\n<hr />\n<p>As I said, I want to cache some method results, <strong>but not all</strong>. So in this case, <code>findAnotherThingByAntoherParam</code> and <code>findConfigBySomeParameter</code> aren't cached. While the other 2 are.</p>\n<p><code>CachableThingRepository</code> isn't a good implementation. For starters the 2 non-cached methods shouldn't exist to begin with since they're not cached. From the outside, without looking at the code, one would assume that all methods are cached.</p>\n<h1><strong>My question: how can I approach this?</strong></h1>\n<p>My solution is to simply remove the interface completely. Inject <code>ThingRepository</code> into <code>CachableThingRepository</code> and be left with something like this</p>\n<pre><code>public class CachableThingRepository{\n\n    private ThingRepository thingRepository;\n    private Cache cache;\n\n    public CachableThingRepository(ThingRepository thingRepository, Cache cache) {\n        this.thingRepository = thingRepository;\n        this.cache = cache;\n    }\n\n    public Map&lt;Long, String&gt; findById(long id) {\n        if(cache.has(&quot;some_key&quot;)) {\n            return cache.get(&quot;some_key&quot;);\n        }\n        Map&lt;Long, String&gt; result = thingRepository.findById(id);\n        cache.put(result);\n\n        return result;\n    }\n\n    public String findNameById(long id) {\n        if(cache.has(&quot;some_other_key&quot;)) {\n            return cache.get(&quot;some_other_key&quot;);\n        }\n        String result = thingRepository.findNameById(id);\n        cache.put(result);\n\n        return result;\n    }\n}\n</code></pre>\n<p>Which in all fairness is considerably cleaner than the above. But I wouldn't mind hearing other peoples ideas on this matter.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701375238,"post_id":77581301,"comment_id":136771205,"body_markdown":"Thanks so much for the help! That ended up working","link":"https://stackoverflow.com/questions/77580949/selenium-entering-username-and-password-in-alert-box/77581301#comment136771205_77581301","body":"Thanks so much for the help! That ended up working"},{"score":0,"post_type":"answer","creation_date":1701424607,"post_id":77581301,"comment_id":136776566,"body_markdown":"In SO, you thank someone by accepting their answer if it resolved the issue.","link":"https://stackoverflow.com/questions/77580949/selenium-entering-username-and-password-in-alert-box/77581301#comment136776566_77581301","body":"In SO, you thank someone by accepting their answer if it resolved the issue."}],"comment_count":2,"score":0,"last_activity_date":1701373721,"creation_date":1701373721,"answer_id":77581301,"question_id":77580949,"body_markdown":"You can try sending the login and the password within the URL: `https://login:password@somepage.com`\r\n\r\n```python\r\ndriver.get(&quot;https://foo:bar@httpbin.org/basic-auth/foo/bar&quot;)\r\n```\r\n\r\nPerhaps you&#39;ll need to reload the page.","link":"https://stackoverflow.com/questions/77580949/selenium-entering-username-and-password-in-alert-box/77581301#77581301","title":"Selenium Entering Username and Password in Alert box","body":"<p>You can try sending the login and the password within the URL: <code>https://login:password@somepage.com</code></p>\n<pre class=\"lang-py prettyprint-override\"><code>driver.get(&quot;https://foo:bar@httpbin.org/basic-auth/foo/bar&quot;)\n</code></pre>\n<p>Perhaps you'll need to reload the page.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":24,"answer_count":1,"score":0,"last_activity_date":1701373721,"creation_date":1701369671,"question_id":77580949,"body_markdown":"I&#39;m trying to input a username and password into an alert box using selenium and Java. I&#39;m not sure if this is an alert box or something else, but I&#39;ve attached a screenshot for reference. \r\n[enter image description here](https://i.stack.imgur.com/OU8Z7.png)\r\n\r\nI have tried switching to the alertbox and sending keys (&quot;username&quot; + Keys.TAB + &quot;password&quot;) and selenium couldn&#39;t find the alertbox. any information helps! Thanks!","link":"https://stackoverflow.com/questions/77580949/selenium-entering-username-and-password-in-alert-box","title":"Selenium Entering Username and Password in Alert box","body":"<p>I'm trying to input a username and password into an alert box using selenium and Java. I'm not sure if this is an alert box or something else, but I've attached a screenshot for reference.\n<a href=\"https://i.stack.imgur.com/OU8Z7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have tried switching to the alertbox and sending keys (&quot;username&quot; + Keys.TAB + &quot;password&quot;) and selenium couldn't find the alertbox. any information helps! Thanks!</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"answers":[{"comments":[{"score":1,"post_type":"answer","creation_date":1677412779,"post_id":75571779,"comment_id":133329012,"body_markdown":"Thanks for your answer! I know that Spring Security provides a lot of functionality (too complex to be honest, indeed, :)) ), but as long as you make some helper functions, such as @ Preauthorise / @ Secured, and much more, I guess it will be fine. What about the structure of the microservices? Do you think it is a good way of approaching the situation?","link":"https://stackoverflow.com/questions/75571606/if-using-jwt-token-there-is-a-need-of-spring-security/75571779#comment133329012_75571779","body":"Thanks for your answer! I know that Spring Security provides a lot of functionality (too complex to be honest, indeed, :)) ), but as long as you make some helper functions, such as @ Preauthorise / @ Secured, and much more, I guess it will be fine. What about the structure of the microservices? Do you think it is a good way of approaching the situation?"},{"score":1,"post_type":"answer","creation_date":1677424008,"post_id":75571779,"comment_id":133330932,"body_markdown":"yes you can try to implement somethings similar to `@PreAuthorize `, but it is not easy to do it. Most probably in the end i guess you may think why don&#39;t simply just use the existing one provided by spring-security and waste time to implement it by yourself..","link":"https://stackoverflow.com/questions/75571606/if-using-jwt-token-there-is-a-need-of-spring-security/75571779#comment133330932_75571779","body":"yes you can try to implement somethings similar to <code>@PreAuthorize </code>, but it is not easy to do it. Most probably in the end i guess you may think why don&#39;t simply just use the existing one provided by spring-security and waste time to implement it by yourself.."},{"score":0,"post_type":"answer","creation_date":1691782369,"post_id":75571779,"comment_id":135543337,"body_markdown":"Just saw your comment. I think it’s worth learning it (may the Spring gods help you in your odyssey ;) and then using it in micro services.","link":"https://stackoverflow.com/questions/75571606/if-using-jwt-token-there-is-a-need-of-spring-security/75571779#comment135543337_75571779","body":"Just saw your comment. I think it’s worth learning it (may the Spring gods help you in your odyssey ;) and then using it in micro services."}],"comment_count":3,"score":1,"last_activity_date":1677412334,"creation_date":1677412334,"answer_id":75571779,"question_id":75571606,"body_markdown":"Yes, and no.\r\n\r\nYes, because Spring Security has a reputation for being unnecessary complex, so some teams avoid it altogether and write custom code for auth. In the past 5 years or so, most [brownfield](https://blog.fosketts.net/2012/12/18/brownfield-terrible-antonym-greenfield/) projects I have worked on have avoided Spring Security altogether.\r\n\r\nAnd no, because then you may be unable use many convenience features provided by Spring Security [\\[1\\]](https://docs.spring.io/spring-security/reference/servlet/authorization/index.html) [\\[2\\]](https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html).\r\n\r\n","link":"https://stackoverflow.com/questions/75571606/if-using-jwt-token-there-is-a-need-of-spring-security/75571779#75571779","title":"If using Jwt token, there is a need of Spring Security?","body":"<p>Yes, and no.</p>\n<p>Yes, because Spring Security has a reputation for being unnecessary complex, so some teams avoid it altogether and write custom code for auth. In the past 5 years or so, most <a href=\"https://blog.fosketts.net/2012/12/18/brownfield-terrible-antonym-greenfield/\" rel=\"nofollow noreferrer\">brownfield</a> projects I have worked on have avoided Spring Security altogether.</p>\n<p>And no, because then you may be unable use many convenience features provided by Spring Security <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/index.html\" rel=\"nofollow noreferrer\">[1]</a> <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html\" rel=\"nofollow noreferrer\">[2]</a>.</p>\n"},{"comment_count":0,"score":2,"last_activity_date":1677424149,"last_edit_date":1677424149,"creation_date":1677423666,"answer_id":75572844,"question_id":75571606,"body_markdown":"It is perfectly valid to do it if you just need JWT authentication.But spring security provides much more security feature than authentication. For example, one common feature is authorization which allows you to protect an endpoint or method such that it can only be invoked by the user who has enough permissions (e.g. using `@PreAuthorize`) , and other features such as [CORS][1] support, [HttpFirewall][2] and [CSRF][3] support etc.\r\n\r\nSo if you just need to do JWT authentication now, no problem and go ahead. And consider to migrate to spring security when come to the point you need the extra features that are already provided by spring-secrutiy rather than reinventing the wheel. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/exploits/firewall.html#page-title\r\n  [3]: https://docs.spring.io/spring-security/reference/features/exploits/csrf.html","link":"https://stackoverflow.com/questions/75571606/if-using-jwt-token-there-is-a-need-of-spring-security/75572844#75572844","title":"If using Jwt token, there is a need of Spring Security?","body":"<p>It is perfectly valid to do it if you just need JWT authentication.But spring security provides much more security feature than authentication. For example, one common feature is authorization which allows you to protect an endpoint or method such that it can only be invoked by the user who has enough permissions (e.g. using <code>@PreAuthorize</code>) , and other features such as <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html#page-title\" rel=\"nofollow noreferrer\">CORS</a> support, <a href=\"https://docs.spring.io/spring-security/reference/servlet/exploits/firewall.html#page-title\" rel=\"nofollow noreferrer\">HttpFirewall</a> and <a href=\"https://docs.spring.io/spring-security/reference/features/exploits/csrf.html\" rel=\"nofollow noreferrer\">CSRF</a> support etc.</p>\n<p>So if you just need to do JWT authentication now, no problem and go ahead. And consider to migrate to spring security when come to the point you need the extra features that are already provided by spring-secrutiy rather than reinventing the wheel.</p>\n"},{"comment_count":0,"score":-2,"last_activity_date":1701338402,"creation_date":1701338402,"answer_id":77577480,"question_id":75571606,"body_markdown":"with jwt you might get authentication then how about authorization which only spring security provides.","link":"https://stackoverflow.com/questions/75571606/if-using-jwt-token-there-is-a-need-of-spring-security/77577480#77577480","title":"If using Jwt token, there is a need of Spring Security?","body":"<p>with jwt you might get authentication then how about authorization which only spring security provides.</p>\n"},{"comment_count":0,"score":1,"last_activity_date":1701373585,"creation_date":1701373585,"answer_id":77581289,"question_id":75571606,"body_markdown":"Since most of the answers here our either misinformed or outdated i will answer this with some references.\r\n\r\nAs of time of writing (november 2023) [oauth2 has deprecated][1] what is called the _IMPLICIT GRANT_ which in short was the flow were you authenticated directly with an _issuer_  using a _username_ and _password_ and directly got issued a token to the client due to this flow has been found to be vulnerable to _access token_ leakage and _access token replay_ attacks.\r\n\r\nTake notice that the deprecation mentions tokens, this means both JWTs and opague tokens.\r\n\r\nJWTs has since long been been not recommended to use as a replacement for sessions, or session tokens, since there are no ways of storing a token securely in the browser, OWASP has [recommendation against storing tokens in browsers][2]. they also have several recommendations for instance not using JWTs unless you actually server side store some reference to the JWT since tokens can not be logged out. SO you cant _log out all devices_ or logout a token that has been stolen.\r\n\r\nSeveral instances recommend against JWTs as session tokens:\r\n\r\nhttps://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens\r\n\r\nhttps://redis.com/blog/json-web-tokens-jwt-are-dangerous-for-user-sessions/\r\n\r\nhttps://www.youtube.com/watch?v=JdGOb7AxUo0\r\n\r\nhttp://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/\r\n\r\nhttp://cryto.net/~joepie91/blog/2016/06/19/stop-using-jwt-for-sessions-part-2-why-your-solution-doesnt-work/\r\n\r\nThere is no such implementation (showed in the linked tutorial in the question) in spring security, because it is not recommended to do such authentication. **So there is has been an active choice to not have it**.\r\n\r\nBut why do so many recommend that, well its a long story, but mostly that security is hard, someone found a way to write security that seemed easy and &quot;sort of worked&quot; and then others copied it.\r\n\r\nSo how should you build security?\r\n\r\nWell it all depends on what your demands are.\r\n\r\nSmall application\r\n-----------------\r\n\r\nSession based, FormLogin using cookies, with *httpOnly* and *Secured* flags set, use *CORS* and *CSRF* tokens.\r\n\r\nMid sized\r\n---------------\r\nSeparate issuer/authorization server, build a BFF (backend for frontend), have cookies between BFF and frontend, the BFF authenticates against the issues using Authorization code flow with PKCE and stores the JWT in the backend, never hands out the JWT to the client. use CORS and CSRF\r\n\r\nLarge application\r\n-----------------\r\nSame as above but this time follow the OpenIDConnect standard, hand out AT-token, RT-Token ID-Token all as cookies to the frontend instead of a cookie. Have several resource servers, supply the AT token from the fontend in requests and have a proxy that will exchange the cookie token for a JWT, the JWT is used only within the corporate network and never is exposed out on the internet.\r\n\r\n\r\nSecurity isnt hard, as long as people read the standards and actually follows the standards and are not trying to invent custom home made security all the time. There is a reason there are standards, because they have been proven to be secure.\r\n\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/draft-ietf-oauth-security-topics#section-2.1.2\r\n  [2]: https://cheatsheetseries.owasp.org/cheatsheets/JSON_Web_Token_for_Java_Cheat_Sheet.html#token-storage-on-client-side","link":"https://stackoverflow.com/questions/75571606/if-using-jwt-token-there-is-a-need-of-spring-security/77581289#77581289","title":"If using Jwt token, there is a need of Spring Security?","body":"<p>Since most of the answers here our either misinformed or outdated i will answer this with some references.</p>\n<p>As of time of writing (november 2023) <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-oauth-security-topics#section-2.1.2\" rel=\"nofollow noreferrer\">oauth2 has deprecated</a> what is called the <em>IMPLICIT GRANT</em> which in short was the flow were you authenticated directly with an <em>issuer</em>  using a <em>username</em> and <em>password</em> and directly got issued a token to the client due to this flow has been found to be vulnerable to <em>access token</em> leakage and <em>access token replay</em> attacks.</p>\n<p>Take notice that the deprecation mentions tokens, this means both JWTs and opague tokens.</p>\n<p>JWTs has since long been been not recommended to use as a replacement for sessions, or session tokens, since there are no ways of storing a token securely in the browser, OWASP has <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/JSON_Web_Token_for_Java_Cheat_Sheet.html#token-storage-on-client-side\" rel=\"nofollow noreferrer\">recommendation against storing tokens in browsers</a>. they also have several recommendations for instance not using JWTs unless you actually server side store some reference to the JWT since tokens can not be logged out. SO you cant <em>log out all devices</em> or logout a token that has been stolen.</p>\n<p>Several instances recommend against JWTs as session tokens:</p>\n<p><a href=\"https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens\" rel=\"nofollow noreferrer\">https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens</a></p>\n<p><a href=\"https://redis.com/blog/json-web-tokens-jwt-are-dangerous-for-user-sessions/\" rel=\"nofollow noreferrer\">https://redis.com/blog/json-web-tokens-jwt-are-dangerous-for-user-sessions/</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=JdGOb7AxUo0\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=JdGOb7AxUo0</a></p>\n<p><a href=\"http://cryto.net/%7Ejoepie91/blog/2016/06/13/stop-using-jwt-for-sessions/\" rel=\"nofollow noreferrer\">http://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/</a></p>\n<p><a href=\"http://cryto.net/%7Ejoepie91/blog/2016/06/19/stop-using-jwt-for-sessions-part-2-why-your-solution-doesnt-work/\" rel=\"nofollow noreferrer\">http://cryto.net/~joepie91/blog/2016/06/19/stop-using-jwt-for-sessions-part-2-why-your-solution-doesnt-work/</a></p>\n<p>There is no such implementation (showed in the linked tutorial in the question) in spring security, because it is not recommended to do such authentication. <strong>So there is has been an active choice to not have it</strong>.</p>\n<p>But why do so many recommend that, well its a long story, but mostly that security is hard, someone found a way to write security that seemed easy and &quot;sort of worked&quot; and then others copied it.</p>\n<p>So how should you build security?</p>\n<p>Well it all depends on what your demands are.</p>\n<h2>Small application</h2>\n<p>Session based, FormLogin using cookies, with <em>httpOnly</em> and <em>Secured</em> flags set, use <em>CORS</em> and <em>CSRF</em> tokens.</p>\n<h2>Mid sized</h2>\n<p>Separate issuer/authorization server, build a BFF (backend for frontend), have cookies between BFF and frontend, the BFF authenticates against the issues using Authorization code flow with PKCE and stores the JWT in the backend, never hands out the JWT to the client. use CORS and CSRF</p>\n<h2>Large application</h2>\n<p>Same as above but this time follow the OpenIDConnect standard, hand out AT-token, RT-Token ID-Token all as cookies to the frontend instead of a cookie. Have several resource servers, supply the AT token from the fontend in requests and have a proxy that will exchange the cookie token for a JWT, the JWT is used only within the corporate network and never is exposed out on the internet.</p>\n<p>Security isnt hard, as long as people read the standards and actually follows the standards and are not trying to invent custom home made security all the time. There is a reason there are standards, because they have been proven to be secure.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":1197,"answer_count":4,"score":1,"last_activity_date":1701373585,"creation_date":1677410138,"last_edit_date":1677426555,"question_id":75571606,"body_markdown":"I was trying to create a Spring Microservice Project which makes use of the Jwt Bearer token. I have found this interesting resource: https://springframework.guru/jwt-authentication-in-spring-microservices-jwt-token/.\r\n\r\nThe issue here is that I do not see it implemented with Spring Security. I&#39;ve been thinking about the code and I realized that this is a good alternative (even in prod) for authenticating WITHOUT using Spring Security.\r\n\r\nIs this correct? Is it logically correct to provide this type of protection to the application, without Spring Security?\r\n\r\n\r\nMoreover, I was thinking of the following pattern:\r\n\r\n1. CoreAuthorizationService =&gt; containing all of the User, Roles, User_Roles repositories, and the service with the actual login / register implementations.\r\n2. AuthService =&gt; containing the controller of the auth which calls the functions defined in the CoreAuthorisationService. (I added the coreAuthorizationService in the pom.xml file)\r\n3. Any other service =&gt; containing the filter classes","link":"https://stackoverflow.com/questions/75571606/if-using-jwt-token-there-is-a-need-of-spring-security","title":"If using Jwt token, there is a need of Spring Security?","body":"<p>I was trying to create a Spring Microservice Project which makes use of the Jwt Bearer token. I have found this interesting resource: <a href=\"https://springframework.guru/jwt-authentication-in-spring-microservices-jwt-token/\" rel=\"nofollow noreferrer\">https://springframework.guru/jwt-authentication-in-spring-microservices-jwt-token/</a>.</p>\n<p>The issue here is that I do not see it implemented with Spring Security. I've been thinking about the code and I realized that this is a good alternative (even in prod) for authenticating WITHOUT using Spring Security.</p>\n<p>Is this correct? Is it logically correct to provide this type of protection to the application, without Spring Security?</p>\n<p>Moreover, I was thinking of the following pattern:</p>\n<ol>\n<li>CoreAuthorizationService =&gt; containing all of the User, Roles, User_Roles repositories, and the service with the actual login / register implementations.</li>\n<li>AuthService =&gt; containing the controller of the auth which calls the functions defined in the CoreAuthorisationService. (I added the coreAuthorizationService in the pom.xml file)</li>\n<li>Any other service =&gt; containing the filter classes</li>\n</ol>\n"},{"tags":["java","tomcat","apache-axis","webservice-client"],"comment_count":0,"is_answered":false,"view_count":10,"answer_count":0,"score":0,"last_activity_date":1701373268,"creation_date":1701373268,"question_id":77581254,"body_markdown":"As a novice in the field of web services, I am currently in the initial stages of my project development using Eclipse, Axis, and Tomcat. I encountered a challenge when attempting to execute my class, as it led to the opening of the following URL in my web browser: http://localhost:8081/WS_HelloWorld/WEB-INF/classes/tps/ws/deployment/HelloWorld.java, rather than the expected http://localhost:8081/WS_HelloWorld/services/HelloWorld/wsdl. This redirection resulted in a 404 error.\r\n\r\nSubsequently, in another project, upon entering the URL, the returned XML presented the following error message:\r\n\r\n```\r\n&lt;soapenv:Reason xmlns:soapenv=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\r\n    &lt;soapenv:Text xml:lang=&quot;en-US&quot;&gt;The endpoint reference (EPR) for the Operation not found is /WS_Calculatrice/services/Calculatrice/wsdl, and the WSA Action is null. If this EPR was previously reachable, please contact the server administrator.&lt;/soapenv:Text&gt;\r\n&lt;/soapenv:Reason&gt;\r\n```\r\n\r\n\r\nI am seeking guidance and assistance in comprehending and resolving these issues.","link":"https://stackoverflow.com/questions/77581254/web-service-deployment-issues-incorrect-url-redirect-and-epr-error","title":"Web Service Deployment Issues: Incorrect URL Redirect and EPR Error","body":"<p>As a novice in the field of web services, I am currently in the initial stages of my project development using Eclipse, Axis, and Tomcat. I encountered a challenge when attempting to execute my class, as it led to the opening of the following URL in my web browser: http://localhost:8081/WS_HelloWorld/WEB-INF/classes/tps/ws/deployment/HelloWorld.java, rather than the expected http://localhost:8081/WS_HelloWorld/services/HelloWorld/wsdl. This redirection resulted in a 404 error.</p>\n<p>Subsequently, in another project, upon entering the URL, the returned XML presented the following error message:</p>\n<pre><code>&lt;soapenv:Reason xmlns:soapenv=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\n    &lt;soapenv:Text xml:lang=&quot;en-US&quot;&gt;The endpoint reference (EPR) for the Operation not found is /WS_Calculatrice/services/Calculatrice/wsdl, and the WSA Action is null. If this EPR was previously reachable, please contact the server administrator.&lt;/soapenv:Text&gt;\n&lt;/soapenv:Reason&gt;\n</code></pre>\n<p>I am seeking guidance and assistance in comprehending and resolving these issues.</p>\n"},{"tags":["java","amazon-web-services","spring-boot"],"comments":[{"score":0,"post_type":"question","creation_date":1701359871,"post_id":77579597,"comment_id":136768344,"body_markdown":"What&#39;s the subnet configuration of your EC2 instance?","link":"https://stackoverflow.com/questions/77579597/i-have-an-ec2-server-that-works-with-spring-boot-need-to-have-an-ability-to-use#comment136768344_77579597","body":"What&#39;s the subnet configuration of your EC2 instance?"},{"score":0,"post_type":"question","creation_date":1701360887,"post_id":77579597,"comment_id":136768559,"body_markdown":"what do you need to know about subnet configuration?","link":"https://stackoverflow.com/questions/77579597/i-have-an-ec2-server-that-works-with-spring-boot-need-to-have-an-ability-to-use#comment136768559_77579597","body":"what do you need to know about subnet configuration?"},{"score":0,"post_type":"question","creation_date":1701361050,"post_id":77579597,"comment_id":136768599,"body_markdown":"Is it public/private? NACLs? Security group inbound rules?","link":"https://stackoverflow.com/questions/77579597/i-have-an-ec2-server-that-works-with-spring-boot-need-to-have-an-ability-to-use#comment136768599_77579597","body":"Is it public/private? NACLs? Security group inbound rules?"},{"score":0,"post_type":"question","creation_date":1701361519,"post_id":77579597,"comment_id":136768718,"body_markdown":"The subnet is public with auto-assigned public IPv4 addresses. NACLs allow all inbound traffic but deny all traffic with a preference for the allow rule.Inbound rules: 100\tAll traffic\tAll\tAll\t0.0.0.0/0\tAllow\n               *\tAll traffic\tAll\tAll\t0.0.0.0/0\tDeny","link":"https://stackoverflow.com/questions/77579597/i-have-an-ec2-server-that-works-with-spring-boot-need-to-have-an-ability-to-use#comment136768718_77579597","body":"The subnet is public with auto-assigned public IPv4 addresses. NACLs allow all inbound traffic but deny all traffic with a preference for the allow rule.Inbound rules: 100\tAll traffic\tAll\tAll\t0.0.0.0/0\tAllow                *\tAll traffic\tAll\tAll\t0.0.0.0/0\tDeny"},{"score":0,"post_type":"question","creation_date":1701361784,"post_id":77579597,"comment_id":136768772,"body_markdown":"&quot;i have an https for this domain that have my ec2 in target group by i still can&#39;t send https directly on ec2 endpoins&quot; You will only have HTTPS at the load balancer DNS name, you will never be able to send HTTPS directly to the EC2 instance with this configuration. The whole point of the load balancer is that you would send all traffic *through* the load balancer.","link":"https://stackoverflow.com/questions/77579597/i-have-an-ec2-server-that-works-with-spring-boot-need-to-have-an-ability-to-use#comment136768772_77579597","body":"&quot;i have an https for this domain that have my ec2 in target group by i still can&#39;t send https directly on ec2 endpoins&quot; You will only have HTTPS at the load balancer DNS name, you will never be able to send HTTPS directly to the EC2 instance with this configuration. The whole point of the load balancer is that you would send all traffic <i>through</i> the load balancer."},{"score":0,"post_type":"question","creation_date":1701361975,"post_id":77579597,"comment_id":136768808,"body_markdown":"thanks, I get it but we face the problem when the frontend sends requests directly on ec2 ipv4 and that&#39;s where we have the https problem","link":"https://stackoverflow.com/questions/77579597/i-have-an-ec2-server-that-works-with-spring-boot-need-to-have-an-ability-to-use#comment136768808_77579597","body":"thanks, I get it but we face the problem when the frontend sends requests directly on ec2 ipv4 and that&#39;s where we have the https problem"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701373047,"creation_date":1701373047,"answer_id":77581239,"question_id":77579597,"body_markdown":"I&#39;d start with this. You mentioned a load balancer. I would put a static HTML page on your server with an nginx running to serve the page. Then I&#39;d do the AWS magic to be able to load the page.\r\n\r\nOnce you do that, there&#39;s more simple nginx magic to redirect activity based on the URL. Or you can repoint the LB to point to your app instead of nginx.\r\n\r\nAs long as your instance (EC2 or container) has something running on the expected port (80 or whatever), all your config is in the LB.","link":"https://stackoverflow.com/questions/77579597/i-have-an-ec2-server-that-works-with-spring-boot-need-to-have-an-ability-to-use/77581239#77581239","title":"I have an EC2 server that works with spring boot, need to have an ability to use https on public IPv4 endpoint requests, how can I do it?","body":"<p>I'd start with this. You mentioned a load balancer. I would put a static HTML page on your server with an nginx running to serve the page. Then I'd do the AWS magic to be able to load the page.</p>\n<p>Once you do that, there's more simple nginx magic to redirect activity based on the URL. Or you can repoint the LB to point to your app instead of nginx.</p>\n<p>As long as your instance (EC2 or container) has something running on the expected port (80 or whatever), all your config is in the LB.</p>\n"}],"comment_count":6,"is_answered":false,"view_count":47,"answer_count":1,"score":0,"last_activity_date":1701373047,"creation_date":1701357585,"last_edit_date":1701371328,"question_id":77579597,"body_markdown":"This problem is caused when we try to send request from our frontend (that live on GitHub pages) to backend on AQS and we find out that we can&#39;t use https on EC2. I already tried to manage it using Route 53 + Certificate Manager (where I get the certificate for my domain) + load balancer = as a result I have an https for this domain that have my EC2 in target group by I still can&#39;t send https directly on EC2 endpoints. What did I do wrong and how to fix this problem?\r\n\r\n\r\nI need to have an ability to send https requests on my backend from GitHub.","link":"https://stackoverflow.com/questions/77579597/i-have-an-ec2-server-that-works-with-spring-boot-need-to-have-an-ability-to-use","title":"I have an EC2 server that works with spring boot, need to have an ability to use https on public IPv4 endpoint requests, how can I do it?","body":"<p>This problem is caused when we try to send request from our frontend (that live on GitHub pages) to backend on AQS and we find out that we can't use https on EC2. I already tried to manage it using Route 53 + Certificate Manager (where I get the certificate for my domain) + load balancer = as a result I have an https for this domain that have my EC2 in target group by I still can't send https directly on EC2 endpoints. What did I do wrong and how to fix this problem?</p>\n<p>I need to have an ability to send https requests on my backend from GitHub.</p>\n"},{"tags":["java","anylogic"],"comments":[{"score":1,"post_type":"question","creation_date":1701372297,"post_id":77578520,"comment_id":136770744,"body_markdown":"Welcome to SOF. This place works best for you if you ask very focused, specific questions on 1 AnyLogic issue, show exactly what you tried already and where you are stuck. If you want to know “how do I best do X in AnyLogic”, you should use the LinkedIn forum instead. Check this overview to the community to understand why: https://benjamin-schumann.com/blog/anylogic-community. Else, try to break down your broad question into specific sub-questions and ask them separately, see https://benjamin-schumann.com/blog/anylogic-stackoverflow. Welcome again, happy to help","link":"https://stackoverflow.com/questions/77578520/anylogic-priority-task-for-resourcepool#comment136770744_77578520","body":"Welcome to SOF. This place works best for you if you ask very focused, specific questions on 1 AnyLogic issue, show exactly what you tried already and where you are stuck. If you want to know “how do I best do X in AnyLogic”, you should use the LinkedIn forum instead. Check this overview to the community to understand why: <a href=\"https://benjamin-schumann.com/blog/anylogic-community\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/anylogic-community</a>. Else, try to break down your broad question into specific sub-questions and ask them separately, see <a href=\"https://benjamin-schumann.com/blog/anylogic-stackoverflow\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/anylogic-stackoverflow</a>. Welcome again, happy to help"}],"comment_count":1,"is_answered":false,"view_count":25,"answer_count":0,"score":0,"last_activity_date":1701372314,"creation_date":1701348104,"last_edit_date":1701372314,"question_id":77578520,"body_markdown":" Priority task for resourcepool\r\n\r\n\r\nHi, I need help with anylogic. I would like to set a priority function on a specific activity for the resource pool operators. the resourcepool is allocated to both task 1 and task 2. I would like priority to be given to task 2. so if there are agents ready to be worked on in both tasks, task 2 is done first.\r\n[image](https://i.stack.imgur.com/9n9CK.png)","link":"https://stackoverflow.com/questions/77578520/anylogic-priority-task-for-resourcepool","title":"anylogic - Priority task for resourcepool","body":"<p>Priority task for resourcepool</p>\n<p>Hi, I need help with anylogic. I would like to set a priority function on a specific activity for the resource pool operators. the resourcepool is allocated to both task 1 and task 2. I would like priority to be given to task 2. so if there are agents ready to be worked on in both tasks, task 2 is done first.\n<a href=\"https://i.stack.imgur.com/9n9CK.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"tags":["java","spring"],"comments":[{"score":0,"post_type":"question","creation_date":1701347552,"post_id":77578450,"comment_id":136765820,"body_markdown":"The desciption covers it imho. Anything that doesn&#39;t use any enterprisey stuff (like the EJB stuff from ye old) is a POJO.","link":"https://stackoverflow.com/questions/77578450/pojo-classes-in-spring#comment136765820_77578450","body":"The desciption covers it imho. Anything that doesn&#39;t use any enterprisey stuff (like the EJB stuff from ye old) is a POJO."},{"score":0,"post_type":"question","creation_date":1701347679,"post_id":77578450,"comment_id":136765846,"body_markdown":"@M.Deinum so a Java class would still be considered a POJO if it extends or inherits another class, as long as it doesnt come from an external source?","link":"https://stackoverflow.com/questions/77578450/pojo-classes-in-spring#comment136765846_77578450","body":"@M.Deinum so a Java class would still be considered a POJO if it extends or inherits another class, as long as it doesnt come from an external source?"},{"score":0,"post_type":"question","creation_date":1701347735,"post_id":77578450,"comment_id":136765854,"body_markdown":"No as long as it doesn&#39;t use any enterprise stuff. Like Message Driven Beans, EJB, etc. etc.","link":"https://stackoverflow.com/questions/77578450/pojo-classes-in-spring#comment136765854_77578450","body":"No as long as it doesn&#39;t use any enterprise stuff. Like Message Driven Beans, EJB, etc. etc."},{"score":0,"post_type":"question","creation_date":1701347794,"post_id":77578450,"comment_id":136765869,"body_markdown":"ok I understand, thank you for your help","link":"https://stackoverflow.com/questions/77578450/pojo-classes-in-spring#comment136765869_77578450","body":"ok I understand, thank you for your help"},{"score":0,"post_type":"question","creation_date":1701347797,"post_id":77578450,"comment_id":136765870,"body_markdown":"@myuh236: yes, though the *exact* definition of &quot;external source&quot; is somewhat vague. As long as the class doesn&#39;t extend or implement any interfaces/classes from some framework or another it can be considered a POJO.","link":"https://stackoverflow.com/questions/77578450/pojo-classes-in-spring#comment136765870_77578450","body":"@myuh236: yes, though the <i>exact</i> definition of &quot;external source&quot; is somewhat vague. As long as the class doesn&#39;t extend or implement any interfaces/classes from some framework or another it can be considered a POJO."},{"score":0,"post_type":"question","creation_date":1701347931,"post_id":77578450,"comment_id":136765891,"body_markdown":"got it, thank you","link":"https://stackoverflow.com/questions/77578450/pojo-classes-in-spring#comment136765891_77578450","body":"got it, thank you"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701371861,"creation_date":1701371861,"answer_id":77581146,"question_id":77578450,"body_markdown":"Don&#39;t focus too much on the semantics of what a POJO is.  In this context they are referring more to JavaBeans, which...\r\n\r\n&gt; must be serializable, have a zero-argument constructor, and allow access to properties using getter and setter methods.\r\n\r\nSee the wiki entry for a POJO: https://en.wikipedia.org/wiki/Plain_old_Java_object\r\n\r\nIn this context, they are speaking more specifically about JavaBeans: https://en.wikipedia.org/wiki/JavaBeans","link":"https://stackoverflow.com/questions/77578450/pojo-classes-in-spring/77581146#77581146","title":"POJO classes in Spring","body":"<p>Don't focus too much on the semantics of what a POJO is.  In this context they are referring more to JavaBeans, which...</p>\n<blockquote>\n<p>must be serializable, have a zero-argument constructor, and allow access to properties using getter and setter methods.</p>\n</blockquote>\n<p>See the wiki entry for a POJO: <a href=\"https://en.wikipedia.org/wiki/Plain_old_Java_object\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Plain_old_Java_object</a></p>\n<p>In this context, they are speaking more specifically about JavaBeans: <a href=\"https://en.wikipedia.org/wiki/JavaBeans\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/JavaBeans</a></p>\n"}],"comment_count":6,"is_answered":false,"view_count":61,"answer_count":1,"score":0,"last_activity_date":1701371861,"creation_date":1701347488,"question_id":77578450,"body_markdown":"I wanted to ask a question based on the [introduction to Spring Documentation](https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/overview.html#:~:text=Spring%20enables%20you%20to%20build%20applications%20from%20%E2%80%9Cplain%20old%20Java%20objects%E2%80%9D%20(POJOs)%20and%20to%20apply%20enterprise%20services%20non%2Dinvasively%20to%20POJOs.) statement that says \r\n&gt; Spring enables you to build applications from “plain old Java objects” (POJOs) and to apply enterprise services non-invasively to POJOs.\r\n\r\nIs the POJO mentioned here mean any simple Java class? Does a Java class in Spring that extends or implements another class that I created or that was provided b the Java standard library make it not a POJO anymore?\r\n\r\nAny help would be appreciated","link":"https://stackoverflow.com/questions/77578450/pojo-classes-in-spring","title":"POJO classes in Spring","body":"<p>I wanted to ask a question based on the <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/overview.html#:%7E:text=Spring%20enables%20you%20to%20build%20applications%20from%20%E2%80%9Cplain%20old%20Java%20objects%E2%80%9D%20(POJOs)%20and%20to%20apply%20enterprise%20services%20non%2Dinvasively%20to%20POJOs.\" rel=\"nofollow noreferrer\">introduction to Spring Documentation</a> statement that says</p>\n<blockquote>\n<p>Spring enables you to build applications from “plain old Java objects” (POJOs) and to apply enterprise services non-invasively to POJOs.</p>\n</blockquote>\n<p>Is the POJO mentioned here mean any simple Java class? Does a Java class in Spring that extends or implements another class that I created or that was provided b the Java standard library make it not a POJO anymore?</p>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","spring","hibernate","intellij-idea","h2"],"comments":[{"score":0,"post_type":"question","creation_date":1691051272,"post_id":76822656,"comment_id":135439919,"body_markdown":"Do you get this error in IntelliJ IDEA? If so, please provide a screenshot of the H2 Data Source settings -&gt; &#39;General&#39; tab.","link":"https://stackoverflow.com/questions/76822656/h2-general-error-the-write-format-3-is-larger-than-the-supported-format-2-2#comment135439919_76822656","body":"Do you get this error in IntelliJ IDEA? If so, please provide a screenshot of the H2 Data Source settings -&gt; &#39;General&#39; tab."},{"score":0,"post_type":"question","creation_date":1691054133,"post_id":76822656,"comment_id":135440538,"body_markdown":"No this error arrive in console link http://localhost:8084/personsApp/h2-console/login.do","link":"https://stackoverflow.com/questions/76822656/h2-general-error-the-write-format-3-is-larger-than-the-supported-format-2-2#comment135440538_76822656","body":"No this error arrive in console link <a href=\"http://localhost:8084/personsApp/h2-console/login.do\" rel=\"nofollow noreferrer\">localhost:8084/personsApp/h2-console/login.do</a>"}],"answers":[{"comment_count":0,"score":2,"last_activity_date":1691053178,"creation_date":1691053178,"answer_id":76826454,"question_id":76822656,"body_markdown":"You need to upgrade your version of H2 to 2.2.220. H2 2.1.212 cannot read database files created by H2 2.2.\\*.","link":"https://stackoverflow.com/questions/76822656/h2-general-error-the-write-format-3-is-larger-than-the-supported-format-2-2/76826454#76826454","title":"H2 - General error: &quot;The write format 3 is larger than the supported format 2 [2.1.212/5]&quot; [50000-212] HY000/50000 (Help)","body":"<p>You need to upgrade your version of H2 to 2.2.220. H2 2.1.212 cannot read database files created by H2 2.2.*.</p>\n"}],"comment_count":2,"is_answered":true,"view_count":1058,"answer_count":1,"score":-3,"last_activity_date":1701371608,"creation_date":1691001384,"last_edit_date":1691002004,"question_id":76822656,"body_markdown":"I&#39;m trying connect to h2 console to use it with hibernate\r\nbut get this error:\r\nGeneral error: &quot;The write format 3 is larger than the supported format 2 [2.1.212/5]&quot; [50000-212] HY000/50000 (Help)\r\n\r\nHere is the link to my h2 console:\r\nhttp://localhost:8084/personsApp/h2-console/login.do\r\n\r\nall questions I found about write format was &quot;The write format XX is smaller...&quot;\r\nis someone has any idea?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LJ2vM.png","link":"https://stackoverflow.com/questions/76822656/h2-general-error-the-write-format-3-is-larger-than-the-supported-format-2-2","title":"H2 - General error: &quot;The write format 3 is larger than the supported format 2 [2.1.212/5]&quot; [50000-212] HY000/50000 (Help)","body":"<p>I'm trying connect to h2 console to use it with hibernate\nbut get this error:\nGeneral error: &quot;The write format 3 is larger than the supported format 2 [2.1.212/5]&quot; [50000-212] HY000/50000 (Help)</p>\n<p>Here is the link to my h2 console:\nhttp://localhost:8084/personsApp/h2-console/login.do</p>\n<p>all questions I found about write format was &quot;The write format XX is smaller...&quot;\nis someone has any idea?\n<a href=\"https://i.stack.imgur.com/LJ2vM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJ2vM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-security","https","x509"],"comments":[{"score":0,"post_type":"question","creation_date":1701376896,"post_id":77581108,"comment_id":136771466,"body_markdown":"Yes it’s possible. You have to run the server end in client mode and the client end in server mode. Much easier to run in normal mode and have a server certificate as well.","link":"https://stackoverflow.com/questions/77581108/x509-client-authentication-without-server-authentication-ssl-https#comment136771466_77581108","body":"Yes it’s possible. You have to run the server end in client mode and the client end in server mode. Much easier to run in normal mode and have a server certificate as well."},{"score":0,"post_type":"question","creation_date":1701420296,"post_id":77581108,"comment_id":136775822,"body_markdown":"Thanks for the info although it sounds a bit hacky. Do you have more information on that?","link":"https://stackoverflow.com/questions/77581108/x509-client-authentication-without-server-authentication-ssl-https#comment136775822_77581108","body":"Thanks for the info although it sounds a bit hacky. Do you have more information on that?"}],"comment_count":2,"is_answered":false,"view_count":27,"answer_count":0,"score":0,"last_activity_date":1701371418,"creation_date":1701371418,"question_id":77581108,"body_markdown":"I have a spring boot application that I would like to add x509 client authentication to (in order to avoid user/password authentication). As the application is running behind a reverse proxy that already handles SSL/HTTPS I don&#39;t want to add the server authentication part.\r\n\r\nIn order to do that I followed the tutorial on Baeldung but only the client part. When I try to start the spring boot application that fails with\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: SSL is enabled but no trust material is configured\r\n```\r\n\r\nI tried to find tutorials that only use client authentication but couldn&#39;t find any. It seems to me that it is not possible to add client authentication without server authentication as well, is it?","link":"https://stackoverflow.com/questions/77581108/x509-client-authentication-without-server-authentication-ssl-https","title":"x509 client authentication without server authentication (SSL, HTTPS)","body":"<p>I have a spring boot application that I would like to add x509 client authentication to (in order to avoid user/password authentication). As the application is running behind a reverse proxy that already handles SSL/HTTPS I don't want to add the server authentication part.</p>\n<p>In order to do that I followed the tutorial on Baeldung but only the client part. When I try to start the spring boot application that fails with</p>\n<pre><code>Caused by: java.lang.IllegalStateException: SSL is enabled but no trust material is configured\n</code></pre>\n<p>I tried to find tutorials that only use client authentication but couldn't find any. It seems to me that it is not possible to add client authentication without server authentication as well, is it?</p>\n"},{"tags":["javascript","java","gwt","jsni"],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701900754,"post_id":77581055,"comment_id":136833819,"body_markdown":"Thank you very much for your detailed explanation. I did in fact end up using JSInterop to solve this.","link":"https://stackoverflow.com/questions/77560443/gwt-jsni-javascriptexception-typeerror-method-is-not-a-function/77581055#comment136833819_77581055","body":"Thank you very much for your detailed explanation. I did in fact end up using JSInterop to solve this."}],"comment_count":1,"score":1,"last_activity_date":1701370850,"creation_date":1701370850,"answer_id":77581055,"question_id":77560443,"body_markdown":"First, obligatory &quot;Don&#39;t use JSNI for new code&quot; - unless you project relies on an ancient GWT build, this is easier in JsInterop. First, define (or reuse) a `@JsFunction` interface that describes the contract for JS to call into Java, make a global field that you can assign this to, and then export your instance method in vanilla java:\r\n\r\n```\r\n/** Like Runnable, but no default methods, and has {@link JsFunction}. */\r\n@JsFunction\r\npublic interface JsRunnable {\r\n  void run(); // your example has no params and no return type, so this fits\r\n}\r\n\r\npublic static void loadJS() {\r\n  JsRunnable lambda = this::doThing; // bug is clear in java!\r\n\r\n  // Assign as a new property on window\r\n  Js.asPropertyMap(DomGlobal.window).set(&quot;doThing&quot;, lambda);\r\n}\r\n\r\npublic void doThing() {\r\n  System.out.println(&quot;do thing&quot;);\r\n}\r\n```\r\n\r\nNote that the translation of loadJS makes it clear why your JSNI isn&#39;t working (more on that in a moment) - Java will complain if you try to use `this`, since `loadJS()` is static and has no `this`! But, you&#39;re calling `loadJS()` from inside the constructor, you could pass the instance as an argument, or make `loadJS()` non-static. \r\n\r\n---\r\n\r\nFrom your question\r\n```java\r\n    public static native void loadJS() /*-{\r\n        var that = this; // Where should &quot;this&quot; come from?\r\n        $wnd.doThing = $entry(function() {\r\n            that.@package.StartView::doThing()();\r\n        });\r\n    }-*/;\r\n```\r\nAs this is a `static` method, there is no `this` (okay, in JS there _is_ a `this`, but it isn&#39;t the `StartView`, it is something else entirely). Since `doThing` is a non-`static` method, there is no clear way to say which `StartView` instance you want to have `doThing()` called on. \r\n\r\nThe simplest answer then is to remove `static` from that method, so that `this` is correctly captured, as you intended. Another choice could be to pass in a `StartView` instance to `loadJS` and call doThing on that instance.\r\n\r\nThe error you&#39;re getting is almost certainly that `this` turns out to be `window`, and the `@package.StartView::doThing()` reference represents some obfuscated method name that doesn&#39;t exist on window, which makes sense, since you intended `this` to be a `StartView` instance.","link":"https://stackoverflow.com/questions/77560443/gwt-jsni-javascriptexception-typeerror-method-is-not-a-function/77581055#77581055","title":"GWT JSNI - JavaScriptException TypeError - method is not a function","body":"<p>First, obligatory &quot;Don't use JSNI for new code&quot; - unless you project relies on an ancient GWT build, this is easier in JsInterop. First, define (or reuse) a <code>@JsFunction</code> interface that describes the contract for JS to call into Java, make a global field that you can assign this to, and then export your instance method in vanilla java:</p>\n<pre><code>/** Like Runnable, but no default methods, and has {@link JsFunction}. */\n@JsFunction\npublic interface JsRunnable {\n  void run(); // your example has no params and no return type, so this fits\n}\n\npublic static void loadJS() {\n  JsRunnable lambda = this::doThing; // bug is clear in java!\n\n  // Assign as a new property on window\n  Js.asPropertyMap(DomGlobal.window).set(&quot;doThing&quot;, lambda);\n}\n\npublic void doThing() {\n  System.out.println(&quot;do thing&quot;);\n}\n</code></pre>\n<p>Note that the translation of loadJS makes it clear why your JSNI isn't working (more on that in a moment) - Java will complain if you try to use <code>this</code>, since <code>loadJS()</code> is static and has no <code>this</code>! But, you're calling <code>loadJS()</code> from inside the constructor, you could pass the instance as an argument, or make <code>loadJS()</code> non-static.</p>\n<hr />\n<p>From your question</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static native void loadJS() /*-{\n        var that = this; // Where should &quot;this&quot; come from?\n        $wnd.doThing = $entry(function() {\n            that.@package.StartView::doThing()();\n        });\n    }-*/;\n</code></pre>\n<p>As this is a <code>static</code> method, there is no <code>this</code> (okay, in JS there <em>is</em> a <code>this</code>, but it isn't the <code>StartView</code>, it is something else entirely). Since <code>doThing</code> is a non-<code>static</code> method, there is no clear way to say which <code>StartView</code> instance you want to have <code>doThing()</code> called on.</p>\n<p>The simplest answer then is to remove <code>static</code> from that method, so that <code>this</code> is correctly captured, as you intended. Another choice could be to pass in a <code>StartView</code> instance to <code>loadJS</code> and call doThing on that instance.</p>\n<p>The error you're getting is almost certainly that <code>this</code> turns out to be <code>window</code>, and the <code>@package.StartView::doThing()</code> reference represents some obfuscated method name that doesn't exist on window, which makes sense, since you intended <code>this</code> to be a <code>StartView</code> instance.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":43,"answer_count":1,"score":0,"last_activity_date":1701370850,"creation_date":1701126133,"question_id":77560443,"body_markdown":"I want to be able to call a method declared in my `StartView` class from the `onclick` event in Javascript. I am following the official GWT documentation, but am still getting a `JavaScriptException TypeError - doThing is not a function` error in the console. I have reviewed other similar questions here on SO and have not found a solution as of yet. I have attempted to implement a solution in JSNI and JSInterop - and what I have below is the furthest I have gotten past GWT compilation errors. \r\n\r\nStartView.java - I call `StartView.loadJS()` when `StartView` is initialized \r\n```\r\n    public void doThing() {\r\n        System.out.println(&quot;do thing&quot;);\r\n    }\r\n\r\n    public static native void loadJS() /*-{\r\n        var that = this;\r\n        $wnd.doThing = $entry(function() {\r\n            that.@package.StartView::doThing()();\r\n        });\r\n    }-*/;\r\n```\r\n\r\nstart.js (External js file, Injected into StartView via ScriptInjector. Other methods use  JSInterop) \r\n```\r\n...\r\n// Inside of my onclick handler\r\n window.doThing();\r\n```\r\n\r\nWhen I click the element, I get the following error in the console:\r\n```\r\nException: com.google.gwt.core.client.JavaScriptException: (TypeError) : that_0_g$.doThing_0_g$ is not a function \r\n``` \r\n\r\nWhen I put `window.doThing` in the console, it does return the function - so it does appear to be loading the connector, but is having trouble finding the actual method to call. Curious what else I am missing. Would appreciate any advice.","link":"https://stackoverflow.com/questions/77560443/gwt-jsni-javascriptexception-typeerror-method-is-not-a-function","title":"GWT JSNI - JavaScriptException TypeError - method is not a function","body":"<p>I want to be able to call a method declared in my <code>StartView</code> class from the <code>onclick</code> event in Javascript. I am following the official GWT documentation, but am still getting a <code>JavaScriptException TypeError - doThing is not a function</code> error in the console. I have reviewed other similar questions here on SO and have not found a solution as of yet. I have attempted to implement a solution in JSNI and JSInterop - and what I have below is the furthest I have gotten past GWT compilation errors.</p>\n<p>StartView.java - I call <code>StartView.loadJS()</code> when <code>StartView</code> is initialized</p>\n<pre><code>    public void doThing() {\n        System.out.println(&quot;do thing&quot;);\n    }\n\n    public static native void loadJS() /*-{\n        var that = this;\n        $wnd.doThing = $entry(function() {\n            that.@package.StartView::doThing()();\n        });\n    }-*/;\n</code></pre>\n<p>start.js (External js file, Injected into StartView via ScriptInjector. Other methods use  JSInterop)</p>\n<pre><code>...\n// Inside of my onclick handler\n window.doThing();\n</code></pre>\n<p>When I click the element, I get the following error in the console:</p>\n<pre><code>Exception: com.google.gwt.core.client.JavaScriptException: (TypeError) : that_0_g$.doThing_0_g$ is not a function \n</code></pre>\n<p>When I put <code>window.doThing</code> in the console, it does return the function - so it does appear to be loading the connector, but is having trouble finding the actual method to call. Curious what else I am missing. Would appreciate any advice.</p>\n"},{"tags":["java","random","colors","graphics","awt"],"comments":[{"score":1,"post_type":"question","creation_date":1701332624,"post_id":77576590,"comment_id":136763205,"body_markdown":"I don&#39;t see either a java.awt.Graphics (or the Graphics2D) reference for painting or a method obtaining one from a circle class that it should have binding to. Neither is there a repaint() method call or a paint() overriden method in the code ! After you command a visual change to anything you must repaint()","link":"https://stackoverflow.com/questions/77576590/not-changing-colors-in-java-graphicsprogram#comment136763205_77576590","body":"I don&#39;t see either a java.awt.Graphics (or the Graphics2D) reference for painting or a method obtaining one from a circle class that it should have binding to. Neither is there a repaint() method call or a paint() overriden method in the code ! After you command a visual change to anything you must repaint()"}],"comment_count":1,"is_answered":false,"view_count":18,"answer_count":0,"score":0,"last_activity_date":1701370605,"creation_date":1701329272,"last_edit_date":1701370605,"question_id":77576590,"body_markdown":"The problem is asking me to spawn a circle on the canvas with a click. This part works fine. The next part is if I click a circle it needs to keep switching to random colors from: green, yellow, black, red, blue until the color is green. The code I wrote kinda does change the color but the change doesn&#39;t appear visually.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    import acm.graphics.*;\r\n    import acm.program.GraphicsProgram;\r\n    import acm.util.RandomGenerator;\r\n\r\n    public class VAR4N5 extends GraphicsProgram {\r\n\r\n        private RandomGenerator rgen = RandomGenerator.getInstance();\r\n    \r\n        private final static int CIRCLE_D = 40;\r\n        private final static int DELAY = 50;\r\n    \r\n        private GOval clickedCircle = null;\r\n    \r\n        public void run() {\r\n    \t    addMouseListeners();\r\n        }\r\n    \r\n        public void mouseClicked(MouseEvent e) {\r\n    \t    if (getElementAt(e.getX(), e.getY()) == null) {\r\n    \t\t    drawCircle(e.getX(), e.getY());\r\n    \t    } else {\r\n    \t\t    clickedCircle = (GOval) getElementAt(e.getX(), e.getY());\r\n    \t\t    changeColor();\r\n    \t    }\r\n        }\r\n    \r\n        private void drawCircle(double xClick, double yClick) {\r\n    \t    double x = xClick - CIRCLE_D / 2.0;\r\n    \t    double y = yClick - CIRCLE_D / 2.0;\r\n    \t    GOval circle = new GOval(CIRCLE_D, CIRCLE_D);\r\n    \t    circle.setFilled(true);\r\n    \t    circle.setFillColor(rgen.nextColor());\r\n    \t    add(circle, x, y);\r\n        }\r\n    \r\n        private void changeColor() {\r\n    \t    int randomNum = 0;\r\n    \t    while (true) {\r\n    \t\t    randomNum = rgen.nextInt(1, 5);\r\n    \t\t    if (randomNum == 1) {\r\n    \t\t\t    clickedCircle.setFillColor(Color.GREEN);\r\n    \t\t\t    break;\r\n    \t\t    }\r\n    \t\t    if (randomNum == 2) {\r\n    \t\t\t    clickedCircle.setFillColor(Color.BLACK);\r\n    \t\t    }\r\n    \t\t    if (randomNum == 3) {\r\n    \t\t\t    clickedCircle.setFillColor(Color.YELLOW);\r\n    \t\t    }\r\n    \t\t    if (randomNum == 4) {\r\n    \t\t\t    clickedCircle.setFillColor(Color.RED);\r\n    \t\t    }\r\n    \t\t    if (randomNum == 5) {\r\n    \t\t\t    clickedCircle.setFillColor(Color.BLUE);\r\n    \t\t    }\r\n    \t\t    clickedCircle.setLocation(clickedCircle.getX(), clickedCircle.getY());\r\n    \t\t    pause(DELAY);\r\n    \t    }\r\n        }\r\n\r\n    }\r\n","link":"https://stackoverflow.com/questions/77576590/not-changing-colors-in-java-graphicsprogram","title":"not changing colors in java GraphicsProgram","body":"<p>The problem is asking me to spawn a circle on the canvas with a click. This part works fine. The next part is if I click a circle it needs to keep switching to random colors from: green, yellow, black, red, blue until the color is green. The code I wrote kinda does change the color but the change doesn't appear visually.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.event.MouseEvent;\n\nimport acm.graphics.*;\nimport acm.program.GraphicsProgram;\nimport acm.util.RandomGenerator;\n\npublic class VAR4N5 extends GraphicsProgram {\n\n    private RandomGenerator rgen = RandomGenerator.getInstance();\n\n    private final static int CIRCLE_D = 40;\n    private final static int DELAY = 50;\n\n    private GOval clickedCircle = null;\n\n    public void run() {\n        addMouseListeners();\n    }\n\n    public void mouseClicked(MouseEvent e) {\n        if (getElementAt(e.getX(), e.getY()) == null) {\n            drawCircle(e.getX(), e.getY());\n        } else {\n            clickedCircle = (GOval) getElementAt(e.getX(), e.getY());\n            changeColor();\n        }\n    }\n\n    private void drawCircle(double xClick, double yClick) {\n        double x = xClick - CIRCLE_D / 2.0;\n        double y = yClick - CIRCLE_D / 2.0;\n        GOval circle = new GOval(CIRCLE_D, CIRCLE_D);\n        circle.setFilled(true);\n        circle.setFillColor(rgen.nextColor());\n        add(circle, x, y);\n    }\n\n    private void changeColor() {\n        int randomNum = 0;\n        while (true) {\n            randomNum = rgen.nextInt(1, 5);\n            if (randomNum == 1) {\n                clickedCircle.setFillColor(Color.GREEN);\n                break;\n            }\n            if (randomNum == 2) {\n                clickedCircle.setFillColor(Color.BLACK);\n            }\n            if (randomNum == 3) {\n                clickedCircle.setFillColor(Color.YELLOW);\n            }\n            if (randomNum == 4) {\n                clickedCircle.setFillColor(Color.RED);\n            }\n            if (randomNum == 5) {\n                clickedCircle.setFillColor(Color.BLUE);\n            }\n            clickedCircle.setLocation(clickedCircle.getX(), clickedCircle.getY());\n            pause(DELAY);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","langchain","large-language-model","stable-diffusion"],"comment_count":0,"is_answered":false,"view_count":56,"answer_count":0,"score":0,"last_activity_date":1701370090,"creation_date":1701267856,"last_edit_date":1701370090,"question_id":77571997,"body_markdown":"I am exploring Langchain4j. I want to use it to interact with the downloaded model locally.\r\n\r\nI have downloaded stable-diffusion model from Huggingface using this command:\r\n```\r\ngit lfs clone https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0\r\n```\r\nHow can I use Langchain4j(with stable-diffusion) to create an Image in my local?\r\nDoes Langchain4j have that capability currently?","link":"https://stackoverflow.com/questions/77571997/langchain4j-with-downloaded-llm","title":"Langchain4j with downloaded LLM","body":"<p>I am exploring Langchain4j. I want to use it to interact with the downloaded model locally.</p>\n<p>I have downloaded stable-diffusion model from Huggingface using this command:</p>\n<pre><code>git lfs clone https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0\n</code></pre>\n<p>How can I use Langchain4j(with stable-diffusion) to create an Image in my local?\nDoes Langchain4j have that capability currently?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","multipart"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701369369,"last_edit_date":1701369369,"creation_date":1701368522,"answer_id":77580848,"question_id":77580591,"body_markdown":"In your uploaddocument method, the MultipartFile should be annotated with @RequestPart, not @RequestParam (although it&#39;s not a problem if you leave it as @RequestParam)\r\n\r\n        public String uplaoddocument(@RequestPart(&quot;file&quot;) MultipartFile file)\r\n\r\nAnother thing to check would be in your DispatcherServletInitilizer class (or web.xml).  You must provide additional configuration to allow the Dispatcher Servlet to handle MultipartFiles\r\n\r\n    /**\r\n\t * Additional configuration for the Dispatcher Servlet\r\n\t * @param registration\r\n\t */\r\n\t@Override\r\n\tprotected void customizeRegistration(ServletRegistration.Dynamic registration) {\r\n\t\t// Set Multipart support to temporarily store uploaded files in the below path\r\n\t\t// Saves uploaded files under /your/upload/location, sets the max file size to 5242880B, the max size of the multipart request to &lt;maxRequestSize&gt;,\r\n\t\t// and max file size that can be uploaded without being written to disk (&lt;FileSizeThreshold&gt; bytes)\r\n\t\tregistration.setMultipartConfig( new MultipartConfigElement(&quot;/your/upload/location&quot;, 5242880, &lt;maxRequestSize&gt;, &lt;FileSizeThreshold&gt;) );\r\n\t}","link":"https://stackoverflow.com/questions/77580591/spring-boot-multipart-upload-500-internal-server-error/77580848#77580848","title":"Spring boot - Multipart upload - 500 Internal server error","body":"<p>In your uploaddocument method, the MultipartFile should be annotated with @RequestPart, not @RequestParam (although it's not a problem if you leave it as @RequestParam)</p>\n<pre><code>    public String uplaoddocument(@RequestPart(&quot;file&quot;) MultipartFile file)\n</code></pre>\n<p>Another thing to check would be in your DispatcherServletInitilizer class (or web.xml).  You must provide additional configuration to allow the Dispatcher Servlet to handle MultipartFiles</p>\n<pre><code>/**\n * Additional configuration for the Dispatcher Servlet\n * @param registration\n */\n@Override\nprotected void customizeRegistration(ServletRegistration.Dynamic registration) {\n    // Set Multipart support to temporarily store uploaded files in the below path\n    // Saves uploaded files under /your/upload/location, sets the max file size to 5242880B, the max size of the multipart request to &lt;maxRequestSize&gt;,\n    // and max file size that can be uploaded without being written to disk (&lt;FileSizeThreshold&gt; bytes)\n    registration.setMultipartConfig( new MultipartConfigElement(&quot;/your/upload/location&quot;, 5242880, &lt;maxRequestSize&gt;, &lt;FileSizeThreshold&gt;) );\n}\n</code></pre>\n"}],"comment_count":0,"is_answered":true,"view_count":65,"answer_count":1,"score":2,"last_activity_date":1701369369,"creation_date":1701365847,"question_id":77580591,"body_markdown":"We were creating a upload call by using the spring boot multipart (Maven).\r\n\r\nOur pom.xml file\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.awsarTest&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;awsarTest&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;awsarTest Maven Webapp&lt;/name&gt;\r\n    \t&lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    \t&lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.21.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;CWSAuthentication&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;CWSAuthentication&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;Authentication&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;Authentication&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.3&lt;/version&gt; &lt;!-- Use the latest version --&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Apache Commons FileUpload --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Apache Commons IO --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;awsarTest&lt;/finalName&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nAnd springapplicationconfig.java`\r\n\r\n    package awsarTest.config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.multipart.commons.CommonsMultipartResolver;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n    \r\n    @ComponentScan(basePackages = &quot;awsarTest.controller&quot;)\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class SpringApplicationConfig {\r\n    \r\n    \t\r\n    \t@Bean\r\n    \tpublic InternalResourceViewResolver viewResolver() {\r\n    \t\tInternalResourceViewResolver vw = new InternalResourceViewResolver();\r\n    \t\tvw.setPrefix(&quot;/WEB-INF/jsp/&quot;);;\r\n    \t\tvw.setSuffix(&quot;.jsp&quot;);;\r\n    \t\treturn vw;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Bean(name = &quot;multipartResolver&quot;)\r\n        public CommonsMultipartResolver multipartResolver() {\r\n            CommonsMultipartResolver resolver = new CommonsMultipartResolver();\r\n            resolver.setMaxUploadSizePerFile(5242880); // Set your max file size limit if needed\r\n            return resolver;\r\n        }\r\n    }\r\n\r\nApplication.porperties files:\r\n\r\n    # MULTIPART (MultipartProperties)\r\n    # Enable multipart uploads\r\n    spring.servlet.multipart.enabled=true\r\n    # Threshold after which files are written to disk.\r\n    spring.servlet.multipart.file-size-threshold=2KB\r\n    # Max file size.\r\n    spring.servlet.multipart.max-file-size=200MB\r\n    # Max Request Size\r\n    spring.servlet.multipart.max-request-size=215MB\r\n\r\n\r\nAnd controller\r\n\r\n    package awsarTest.controller;\r\n    \r\n    import com.opentext.livelink.service.core.Authentication;\r\n    import com.opentext.livelink.service.core.Authentication_Service;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import javax.xml.ws.soap.SOAPFaultException;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/auth&quot;)\r\n    public class AuthControllerTest {\r\n    \r\n    \t@RequestMapping(value = &quot;/authenticate&quot;)\r\n        public String authenticateUser(@RequestParam(name = &quot;username&quot;) String username, @RequestParam(name = &quot;password&quot;) String password ) {\r\n    \t\t\r\n    \t\t//return &quot;Hello, &quot; + name + &quot;!&quot;;\r\n    \t\tString USERNAME = username;\r\n    \t\tString PASSWORD = password;\r\n    \r\n            // Create the Authentication service client\r\n            Authentication_Service authService = new Authentication_Service();\r\n            Authentication authClient = authService.getBasicHttpBindingAuthentication();\r\n    \r\n            // Store the authentication token\r\n            String authToken;\r\n    \r\n            // Call the AuthenticateUser() method to get an authentication token\r\n            try {\r\n                System.out.print(&quot;Authenticating User...&quot;);\r\n                authToken = authClient.authenticateUser(USERNAME, PASSWORD);\r\n                System.out.println(&quot;SUCCESS!\\nAuthentication Token: &quot; + authToken);\r\n            } catch (SOAPFaultException e) {\r\n                System.out.println(&quot;FAILED!\\n&quot;);\r\n                System.out.println(e.getFault().getFaultCode() + &quot; : &quot; + e.getMessage());\r\n                return &quot;Authentication failed&quot;;\r\n            }\r\n    \r\n            // You can do further processing or return the token as needed\r\n            return &quot;Authentication Token: &quot; + authToken;\r\n        }\r\n    \t\r\n    \t**@PostMapping(value = &quot;/upload&quot;)\r\n    \tpublic String uplaoddocument(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n    \t\t\r\n    \t\t// Process the file (save it, perform operations, etc.)\r\n    \t       \r\n    \t\t// For simplicity, this example just prints the file name\r\n    \t\t       \r\n    \t\tString\t\tfileName = file.getOriginalFilename();         System.out.println(\r\n    \t\t&quot;Received file: &quot;\r\n    \t\t+ fileName);        \r\n    \t\t// Return a response indicating success\r\n    \t\t\r\n    \t\treturn fileName;\r\n        }**\r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\n`if we run the upload call in the postman&quot;http://localhost:6061/awsarTest/auth/upload&quot;:\r\nwe&#39;re getting error.\r\n\r\n**&quot;Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.lang.IllegalStateException: Unable to process parts as no multi-part configuration has been provided&quot;**\r\n\r\n\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77580591/spring-boot-multipart-upload-500-internal-server-error","title":"Spring boot - Multipart upload - 500 Internal server error","body":"<p>We were creating a upload call by using the spring boot multipart (Maven).</p>\n<p>Our pom.xml file</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.awsarTest&lt;/groupId&gt;\n    &lt;artifactId&gt;awsarTest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;awsarTest Maven Webapp&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.2.21.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;version&gt;2.5.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;CWSAuthentication&lt;/groupId&gt;\n            &lt;artifactId&gt;CWSAuthentication&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;Authentication&lt;/groupId&gt;\n            &lt;artifactId&gt;Authentication&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt; &lt;!-- Use the latest version --&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Apache Commons FileUpload --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Apache Commons IO --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;awsarTest&lt;/finalName&gt;\n        &lt;pluginManagement&gt;\n            &lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And springapplicationconfig.java`</p>\n<pre><code>package awsarTest.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.multipart.commons.CommonsMultipartResolver;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n\n@ComponentScan(basePackages = &quot;awsarTest.controller&quot;)\n@Configuration\n@EnableWebMvc\npublic class SpringApplicationConfig {\n\n    \n    @Bean\n    public InternalResourceViewResolver viewResolver() {\n        InternalResourceViewResolver vw = new InternalResourceViewResolver();\n        vw.setPrefix(&quot;/WEB-INF/jsp/&quot;);;\n        vw.setSuffix(&quot;.jsp&quot;);;\n        return vw;\n    }\n    \n    \n    @Bean(name = &quot;multipartResolver&quot;)\n    public CommonsMultipartResolver multipartResolver() {\n        CommonsMultipartResolver resolver = new CommonsMultipartResolver();\n        resolver.setMaxUploadSizePerFile(5242880); // Set your max file size limit if needed\n        return resolver;\n    }\n}\n</code></pre>\n<p>Application.porperties files:</p>\n<pre><code># MULTIPART (MultipartProperties)\n# Enable multipart uploads\nspring.servlet.multipart.enabled=true\n# Threshold after which files are written to disk.\nspring.servlet.multipart.file-size-threshold=2KB\n# Max file size.\nspring.servlet.multipart.max-file-size=200MB\n# Max Request Size\nspring.servlet.multipart.max-request-size=215MB\n</code></pre>\n<p>And controller</p>\n<pre><code>package awsarTest.controller;\n\nimport com.opentext.livelink.service.core.Authentication;\nimport com.opentext.livelink.service.core.Authentication_Service;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport javax.xml.ws.soap.SOAPFaultException;\n\n@RestController\n@RequestMapping(&quot;/auth&quot;)\npublic class AuthControllerTest {\n\n    @RequestMapping(value = &quot;/authenticate&quot;)\n    public String authenticateUser(@RequestParam(name = &quot;username&quot;) String username, @RequestParam(name = &quot;password&quot;) String password ) {\n        \n        //return &quot;Hello, &quot; + name + &quot;!&quot;;\n        String USERNAME = username;\n        String PASSWORD = password;\n\n        // Create the Authentication service client\n        Authentication_Service authService = new Authentication_Service();\n        Authentication authClient = authService.getBasicHttpBindingAuthentication();\n\n        // Store the authentication token\n        String authToken;\n\n        // Call the AuthenticateUser() method to get an authentication token\n        try {\n            System.out.print(&quot;Authenticating User...&quot;);\n            authToken = authClient.authenticateUser(USERNAME, PASSWORD);\n            System.out.println(&quot;SUCCESS!\\nAuthentication Token: &quot; + authToken);\n        } catch (SOAPFaultException e) {\n            System.out.println(&quot;FAILED!\\n&quot;);\n            System.out.println(e.getFault().getFaultCode() + &quot; : &quot; + e.getMessage());\n            return &quot;Authentication failed&quot;;\n        }\n\n        // You can do further processing or return the token as needed\n        return &quot;Authentication Token: &quot; + authToken;\n    }\n    \n    **@PostMapping(value = &quot;/upload&quot;)\n    public String uplaoddocument(@RequestParam(&quot;file&quot;) MultipartFile file) {\n        \n        // Process the file (save it, perform operations, etc.)\n           \n        // For simplicity, this example just prints the file name\n               \n        String      fileName = file.getOriginalFilename();         System.out.println(\n        &quot;Received file: &quot;\n        + fileName);        \n        // Return a response indicating success\n        \n        return fileName;\n    }**\n    \n    \n}\n</code></pre>\n<p>`if we run the upload call in the postman&quot;http://localhost:6061/awsarTest/auth/upload&quot;:\nwe're getting error.</p>\n<p><strong>&quot;Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Failed to parse multipart servlet request; nested exception is java.lang.IllegalStateException: Unable to process parts as no multi-part configuration has been provided&quot;</strong></p>\n"},{"tags":["java","spring-cloud"],"comments":[{"score":0,"post_type":"question","creation_date":1701369412,"post_id":77580887,"comment_id":136770211,"body_markdown":"nope, you have to define it yourself.","link":"https://stackoverflow.com/questions/77580887/constant-for-lb#comment136770211_77580887","body":"nope, you have to define it yourself."},{"score":0,"post_type":"question","creation_date":1701369925,"post_id":77580887,"comment_id":136770292,"body_markdown":"Just define it for yourself. If you find a more convenient definition at a later date, use your IDE to replace usages of your current symbol with the alternative.","link":"https://stackoverflow.com/questions/77580887/constant-for-lb#comment136770292_77580887","body":"Just define it for yourself. If you find a more convenient definition at a later date, use your IDE to replace usages of your current symbol with the alternative."},{"score":0,"post_type":"question","creation_date":1701370744,"post_id":77580887,"comment_id":136770449,"body_markdown":"I&#39;ll 2nd the no from the spring cloud team. If we had a constant it would just be &quot;lb&quot; since we use a class to separate the URI into parts and we only get the scheme.","link":"https://stackoverflow.com/questions/77580887/constant-for-lb#comment136770449_77580887","body":"I&#39;ll 2nd the no from the spring cloud team. If we had a constant it would just be &quot;lb&quot; since we use a class to separate the URI into parts and we only get the scheme."}],"comment_count":3,"is_answered":false,"view_count":28,"answer_count":0,"score":0,"last_activity_date":1701368993,"creation_date":1701368993,"question_id":77580887,"body_markdown":"Does any class or interface in Spring provide a constant (public static final variable) for the load balanced scheme, that is the string &quot;lb://&quot;? I don&#39;t want to hard code it everywhere or create my own class/enum for it\r\n```java\r\npublic static final String lbScheme = &quot;lb://&quot;;\r\n```","link":"https://stackoverflow.com/questions/77580887/constant-for-lb","title":"Constant for lb://","body":"<p>Does any class or interface in Spring provide a constant (public static final variable) for the load balanced scheme, that is the string &quot;lb://&quot;? I don't want to hard code it everywhere or create my own class/enum for it</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String lbScheme = &quot;lb://&quot;;\n</code></pre>\n"},{"tags":["java","rest-assured"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701363256,"creation_date":1701363256,"answer_id":77580262,"question_id":77579999,"body_markdown":"Try to set in your request the contentType `&quot;UTF-8&quot;` some thing like this \r\n```java\r\n.contentType(&quot;UTF-8&quot;)\r\n.body(requestBody)\r\n// some condition here\r\n```","link":"https://stackoverflow.com/questions/77579999/rest-assured-send-non-utf-8-character-in-the-request/77580262#77580262","title":"REST Assured send non UTF-8 character in the request","body":"<p>Try to set in your request the contentType <code>&quot;UTF-8&quot;</code> some thing like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>.contentType(&quot;UTF-8&quot;)\n.body(requestBody)\n// some condition here\n</code></pre>\n"}],"comment_count":0,"is_answered":false,"view_count":29,"answer_count":1,"score":0,"last_activity_date":1701368580,"creation_date":1701361146,"last_edit_date":1701368580,"question_id":77579999,"body_markdown":"With REST Assured I want to create automation test, that sends non UTF-8 character in the request when Content-Type=application/json?\r\n\r\n\r\n\r\nUsing Postman it just works fine:\r\n\r\n```\r\n{\r\n&quot;billingAddress&quot;: {\r\n        &quot;address&quot;: &quot;&#132878;&quot;\r\n    }\r\n}\r\n```\r\n\r\n, but with REST Assured it looks like this:\r\n\r\n```\r\n{\r\n&quot;billingAddress&quot;: {\r\n        &quot;address&quot;: &quot;&#240;&#160;œŽ&quot;\r\n    }\r\n}\r\n```\r\n\r\nAny suggestions?","link":"https://stackoverflow.com/questions/77579999/rest-assured-send-non-utf-8-character-in-the-request","title":"REST Assured send non UTF-8 character in the request","body":"<p>With REST Assured I want to create automation test, that sends non UTF-8 character in the request when Content-Type=application/json?</p>\n<p>Using Postman it just works fine:</p>\n<pre><code>{\n&quot;billingAddress&quot;: {\n        &quot;address&quot;: &quot;𠜎&quot;\n    }\n}\n</code></pre>\n<p>, but with REST Assured it looks like this:</p>\n<pre><code>{\n&quot;billingAddress&quot;: {\n        &quot;address&quot;: &quot;ð œŽ&quot;\n    }\n}\n</code></pre>\n<p>Any suggestions?</p>\n"},{"tags":["java","if-statement"],"comments":[{"score":0,"post_type":"question","creation_date":1701367926,"post_id":77580765,"comment_id":136769920,"body_markdown":"You&#39;re also setting `recFound` to `false` with `=` and that condition is not hitting.","link":"https://stackoverflow.com/questions/77580765/java-not-branching-based-on-two-equal-values#comment136769920_77580765","body":"You&#39;re also setting <code>recFound</code> to <code>false</code> with <code>=</code> and that condition is not hitting."},{"score":0,"post_type":"question","creation_date":1701368517,"post_id":77580765,"comment_id":136770038,"body_markdown":"Never, really _never_, compare with `true` or `false` in an `if` statement. Use the not (`!`) operator to compare for false, like `if (!recFound) { `. This way you can&#39;t make that mistake of accidentally using the assignment operator `=` instead of the equals operator `==`.","link":"https://stackoverflow.com/questions/77580765/java-not-branching-based-on-two-equal-values#comment136770038_77580765","body":"Never, really <i>never</i>, compare with <code>true</code> or <code>false</code> in an <code>if</code> statement. Use the not (<code>!</code>) operator to compare for false, like <code>if (!recFound) { </code>. This way you can&#39;t make that mistake of accidentally using the assignment operator <code>=</code> instead of the equals operator <code>==</code>."},{"score":0,"post_type":"question","creation_date":1701368763,"post_id":77580765,"comment_id":136770080,"body_markdown":"Also for your case, a `Map&lt;String, Recipe&gt;` would be useful instead of the recList. You wouldn&#39;t have to use a loop to find the recipe with the given ID, but could just use `map.get(inputRecId)`.","link":"https://stackoverflow.com/questions/77580765/java-not-branching-based-on-two-equal-values#comment136770080_77580765","body":"Also for your case, a <code>Map&lt;String, Recipe&gt;</code> would be useful instead of the recList. You wouldn&#39;t have to use a loop to find the recipe with the given ID, but could just use <code>map.get(inputRecId)</code>."},{"score":0,"post_type":"question","creation_date":1701466627,"post_id":77580765,"comment_id":136783626,"body_markdown":"Thank you very much, this is all very useful advice.","link":"https://stackoverflow.com/questions/77580765/java-not-branching-based-on-two-equal-values#comment136783626_77580765","body":"Thank you very much, this is all very useful advice."}],"comment_count":4,"is_answered":false,"view_count":30,"answer_count":0,"score":-1,"last_activity_date":1701367884,"creation_date":1701367685,"last_edit_date":1701367884,"question_id":77580765,"body_markdown":"My program has the following code. It asks the user to enter the ID of one recipe, which it prints out, and then compares it against a list of recipes. When the user enters an ID identical to one in the list, it should branch.\r\nHowever, my program is not branching.\r\n```\t\tSystem.out.print(&quot;Recipes available: \\n&quot;);\r\n\t\tfor (int i = 0; i &lt;Recipe.recList.size(); i++) {\r\n\t\t\tRecipe rec = Recipe.recList.get(i);\r\n\t\t\tSystem.out.print(rec.getRecName()+&quot;, &quot;+&quot;ID=&quot;+rec.getRecID()+ &quot;\\n&quot;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;\\nPlease enter the ID  of your recipe: &quot;);\r\n\t\tString inputRecID = editMenu.nextLine();\r\n\t\tboolean recFound = false;\r\n\t\tfor (int i = 0; i &lt;Recipe.recList.size(); i++) {\r\n\t\t\tRecipe rec = Recipe.recList.get(i);\r\n\t\t\tString recID = String.valueOf(rec.getRecID());\r\n\t\t\tSystem.out.print(&quot;\\n&quot;+inputRecID);\r\n\t\t\tSystem.out.print(&quot;\\n&quot;+recID);\r\n\t\t\tif (inputRecID == recID) {\r\n\t\t\t\tSystem.out.print(&quot;testing&quot;);\r\n\t\t\t\tthis.setWeeklyRec(editDay,editItem,rec);\r\n\t\t\t\trecFound = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (recFound = false) {\r\n\t\t\tSystem.out.println(&quot;Recipe not found.&quot;);\r\n\t\t}\r\n```\r\nI tried printing the inputRecID and recID each time the program looped to see what the problem was, and I got the following output:\r\n```\r\nPlease enter the ID  of your recipe: \r\n2\r\n\r\n2\r\n0\r\n2\r\n2\r\n2\r\n1\r\n2\r\n3\r\n```\r\nThe second and third 2 output are the same, which should mean the program branches (and testing is printed, which it wasn&#39;t), but it&#39;s not branching and I don&#39;t understand why. Could I please learn why the program isn&#39;t branching here. Thank you.","link":"https://stackoverflow.com/questions/77580765/java-not-branching-based-on-two-equal-values","title":"Java not branching based on two equal values","body":"<p>My program has the following code. It asks the user to enter the ID of one recipe, which it prints out, and then compares it against a list of recipes. When the user enters an ID identical to one in the list, it should branch.\nHowever, my program is not branching.</p>\n<pre><code>        for (int i = 0; i &lt;Recipe.recList.size(); i++) {\n            Recipe rec = Recipe.recList.get(i);\n            System.out.print(rec.getRecName()+&quot;, &quot;+&quot;ID=&quot;+rec.getRecID()+ &quot;\\n&quot;);\n        }\n        System.out.println(&quot;\\nPlease enter the ID  of your recipe: &quot;);\n        String inputRecID = editMenu.nextLine();\n        boolean recFound = false;\n        for (int i = 0; i &lt;Recipe.recList.size(); i++) {\n            Recipe rec = Recipe.recList.get(i);\n            String recID = String.valueOf(rec.getRecID());\n            System.out.print(&quot;\\n&quot;+inputRecID);\n            System.out.print(&quot;\\n&quot;+recID);\n            if (inputRecID == recID) {\n                System.out.print(&quot;testing&quot;);\n                this.setWeeklyRec(editDay,editItem,rec);\n                recFound = true;\n            }\n        }\n        if (recFound = false) {\n            System.out.println(&quot;Recipe not found.&quot;);\n        }\n</code></pre>\n<p>I tried printing the inputRecID and recID each time the program looped to see what the problem was, and I got the following output:</p>\n<pre><code>Please enter the ID  of your recipe: \n2\n\n2\n0\n2\n2\n2\n1\n2\n3\n</code></pre>\n<p>The second and third 2 output are the same, which should mean the program branches (and testing is printed, which it wasn't), but it's not branching and I don't understand why. Could I please learn why the program isn't branching here. Thank you.</p>\n"},{"tags":["java","spring-boot","neo4j","spring-data-neo4j","neo4j-embedded"],"comments":[{"score":0,"post_type":"question","creation_date":1692043428,"post_id":76901420,"comment_id":135569729,"body_markdown":"You may need to [open a Bolt connector and enable it](https://neo4j.com/docs/java-reference/current/java-embedded/bolt/) in your embedded instance. I have never tried this, especially when running a Spring app, but hopefully this info is helpful.","link":"https://stackoverflow.com/questions/76901420/how-to-connect-spring-data-neo4j-to-embedded-neo4j-server#comment135569729_76901420","body":"You may need to <a href=\"https://neo4j.com/docs/java-reference/current/java-embedded/bolt/\" rel=\"nofollow noreferrer\">open a Bolt connector and enable it</a> in your embedded instance. I have never tried this, especially when running a Spring app, but hopefully this info is helpful."},{"score":0,"post_type":"question","creation_date":1692097852,"post_id":76901420,"comment_id":135575685,"body_markdown":"@cybersam, thank you, it was very helpful. I&#39;ve lost so much time on this matter. I wonder where I should have found out about this. Docs section you&#39;ve provided is so easy to overlook. I have a feeling SDN docs also should mention it.","link":"https://stackoverflow.com/questions/76901420/how-to-connect-spring-data-neo4j-to-embedded-neo4j-server#comment135575685_76901420","body":"@cybersam, thank you, it was very helpful. I&#39;ve lost so much time on this matter. I wonder where I should have found out about this. Docs section you&#39;ve provided is so easy to overlook. I have a feeling SDN docs also should mention it."},{"score":0,"post_type":"question","creation_date":1692116605,"post_id":76901420,"comment_id":135579532,"body_markdown":"You can [report that SDN documentation issue](https://github.com/spring-projects/spring-data-neo4j#reporting-issues).","link":"https://stackoverflow.com/questions/76901420/how-to-connect-spring-data-neo4j-to-embedded-neo4j-server#comment135579532_76901420","body":"You can <a href=\"https://github.com/spring-projects/spring-data-neo4j#reporting-issues\" rel=\"nofollow noreferrer\">report that SDN documentation issue</a>."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701367880,"last_edit_date":1701367880,"creation_date":1692097368,"answer_id":76905371,"question_id":76901420,"body_markdown":"As [cybersam](https://stackoverflow.com/users/974731/cybersam) pointed out, Bolt connector should be opened on embedded instance. This page of documentation shows how to do it:\r\nhttps://neo4j.com/docs/java-reference/current/java-embedded/bolt/\r\n\r\n1. Add neo4j-bolt dependency to pom.xml:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;neo4j-bolt&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n2. To `DatabaseManagementService` object creation add lines configuring `BoltConnector`:\r\n```java\r\nDatabaseManagementService managementService = new \r\n\t\t\tDatabaseManagementServiceBuilder(new File(&quot;target/mydb&quot;).toPath())\r\n\t\t\t\t.setConfig(GraphDatabaseSettings.transaction_timeout, Duration.ofSeconds( 60 ) )\r\n\t\t\t\t.setConfig( BoltConnector.enabled, true )\r\n    \t\t\t.setConfig( BoltConnector.listen_address, new SocketAddress( &quot;localhost&quot;, 7687 ) )\r\n\t\t\t\t.build();\r\n```\r\n\r\nP.S. Same question, more detailed answer: https://stackoverflow.com/questions/77571107/spring-boot-embedded-neo4j-for-demo-purposes","link":"https://stackoverflow.com/questions/76901420/how-to-connect-spring-data-neo4j-to-embedded-neo4j-server/76905371#76905371","title":"How to connect Spring-data-neo4j to embedded neo4j server?","body":"<p>As <a href=\"https://stackoverflow.com/users/974731/cybersam\">cybersam</a> pointed out, Bolt connector should be opened on embedded instance. This page of documentation shows how to do it:\n<a href=\"https://neo4j.com/docs/java-reference/current/java-embedded/bolt/\" rel=\"nofollow noreferrer\">https://neo4j.com/docs/java-reference/current/java-embedded/bolt/</a></p>\n<ol>\n<li>Add neo4j-bolt dependency to pom.xml:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n    &lt;artifactId&gt;neo4j-bolt&lt;/artifactId&gt;\n    &lt;version&gt;5.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>To <code>DatabaseManagementService</code> object creation add lines configuring <code>BoltConnector</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>DatabaseManagementService managementService = new \n            DatabaseManagementServiceBuilder(new File(&quot;target/mydb&quot;).toPath())\n                .setConfig(GraphDatabaseSettings.transaction_timeout, Duration.ofSeconds( 60 ) )\n                .setConfig( BoltConnector.enabled, true )\n                .setConfig( BoltConnector.listen_address, new SocketAddress( &quot;localhost&quot;, 7687 ) )\n                .build();\n</code></pre>\n<p>P.S. Same question, more detailed answer: <a href=\"https://stackoverflow.com/questions/77571107/spring-boot-embedded-neo4j-for-demo-purposes\">Spring Boot embedded neo4j for demo purposes</a></p>\n"}],"comment_count":3,"is_answered":true,"view_count":93,"answer_count":1,"score":0,"last_activity_date":1701367880,"creation_date":1692038623,"question_id":76901420,"body_markdown":"I&#39;m failing to combine Spring Data Neo4j and embedded neo4j server in one app. I&#39;ve used them separately, but I can&#39;t make them work together.\r\nAlso, I haven&#39;t found guide on how to use them together anywhere.\r\n\r\n## Starting points\r\nA good base for MRE of Spring-data-neo4j can be found here: [gs-accessing-data-neo4j](https://github.com/spring-guides/gs-accessing-data-neo4j/tree/main/complete).\r\n\r\nClues on how to run embedded Neo4J server can be found here:\r\n* [neo4j: Embedding Neo4j in your Java application](https://neo4j.com/docs/java-reference/current/java-embedded/setup/)\r\n* [baeldung: A Guide to Neo4J with Java](https://www.baeldung.com/java-neo4j)\r\n\r\n\r\n## Sample Project\r\nCombining these sources, I&#39;ve created this project:\r\n\r\n`./pom.xml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;accessing-data-neo4j-complete&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;accessing-data-neo4j-complete&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-neo4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;neo4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n`.\\src\\main\\java\\myapp\\AccessingDataNeo4jApplication.java`:\r\n```java\r\npackage myapp;\r\n\r\nimport java.io.File;\r\nimport java.time.Duration;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport org.neo4j.configuration.GraphDatabaseSettings;\r\nimport org.neo4j.cypherdsl.core.renderer.Configuration;\r\nimport org.neo4j.cypherdsl.core.renderer.Dialect;\r\nimport org.neo4j.dbms.api.DatabaseManagementService;\r\nimport org.neo4j.dbms.api.DatabaseManagementServiceBuilder;\r\nimport org.neo4j.graphdb.GraphDatabaseService;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.data.neo4j.repository.config.EnableNeo4jRepositories;\r\n\r\nimport static org.neo4j.configuration.GraphDatabaseSettings.DEFAULT_DATABASE_NAME;\r\n\r\n@SpringBootApplication\r\n@EnableNeo4jRepositories\r\npublic class AccessingDataNeo4jApplication {\r\n\r\n\tprivate final static Logger log = LoggerFactory.getLogger(AccessingDataNeo4jApplication.class);\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSpringApplication.run(AccessingDataNeo4jApplication.class, args);\r\n\t\tSystem.exit(0);\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic Configuration cypherDslConfiguration() {\r\n\t\treturn Configuration.newConfig().withDialect(Dialect.NEO4J_5).build();\r\n\t}\r\n\r\n\t@Bean\r\n    public DatabaseManagementService databaseManagementService() {\r\n        DatabaseManagementService managementService = new \r\n\t\t\tDatabaseManagementServiceBuilder(new File(&quot;target/mydb&quot;).toPath())\r\n\t\t\t\t.setConfig(GraphDatabaseSettings.transaction_timeout, Duration.ofSeconds( 60 ) )\r\n\t\t\t\t.build();\r\n\t\tlog.info(&quot;managementService created: {}&quot;,managementService);\r\n\t\tregisterShutdownHook(managementService);\r\n        return managementService;\r\n    }\r\n\r\n    @Bean\r\n    public GraphDatabaseService graphDatabaseService(DatabaseManagementService managementService) {\r\n        // managementService.createDatabase(&quot;mydb&quot;);\r\n        GraphDatabaseService graphDb = managementService.database(DEFAULT_DATABASE_NAME);\r\n\t\tlog.info(&quot;graphDb.isAvailable: {}&quot;,graphDb.isAvailable());\t//true\r\n        return graphDb;\r\n    }\r\n\t\r\n\tprivate static void registerShutdownHook( final DatabaseManagementService managementService ) {\r\n\t\tRuntime.getRuntime().addShutdownHook( new Thread() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tmanagementService.shutdown();\r\n\t\t\t}\r\n\t\t} );\r\n\t}\t\r\n\r\n\t@Bean\r\n\tCommandLineRunner demo(PersonRepository personRepository) {\r\n\t\treturn args -&gt; {\r\n\r\n\t\t\tpersonRepository.deleteAll();\r\n\r\n\t\t\tPerson greg = new Person(&quot;Greg&quot;);\r\n\t\t\tPerson roy = new Person(&quot;Roy&quot;);\r\n\t\t\tPerson craig = new Person(&quot;Craig&quot;);\r\n\r\n\t\t\tList&lt;Person&gt; team = Arrays.asList(greg, roy, craig);\r\n\r\n\t\t\tlog.info(&quot;Before linking up with Neo4j...&quot;);\r\n\r\n\t\t\tteam.stream().forEach(person -&gt; log.info(&quot;\\t&quot; + person.toString()));\r\n\r\n\t\t\tpersonRepository.save(greg);\r\n\t\t\tpersonRepository.save(roy);\r\n\t\t\tpersonRepository.save(craig);\r\n\r\n\t\t\tgreg = personRepository.findByName(greg.getName());\r\n\t\t\tgreg.worksWith(roy);\r\n\t\t\tgreg.worksWith(craig);\r\n\t\t\tpersonRepository.save(greg);\r\n\r\n\t\t\troy = personRepository.findByName(roy.getName());\r\n\t\t\troy.worksWith(craig);\r\n\t\t\t// We already know that roy works with greg\r\n\t\t\tpersonRepository.save(roy);\r\n\r\n\t\t\t// We already know craig works with roy and greg\r\n\r\n\t\t\tlog.info(&quot;Lookup each person by name...&quot;);\r\n\t\t\tteam.stream().forEach(person -&gt; log.info(\r\n\t\t\t\t\t&quot;\\t&quot; + personRepository.findByName(person.getName()).toString()));\r\n\r\n\t\t\tList&lt;Person&gt; teammates = personRepository.findByTeammatesName(greg.getName());\r\n\t\t\tlog.info(&quot;The following have Greg as a teammate...&quot;);\r\n\t\t\tteammates.stream().forEach(person -&gt; log.info(&quot;\\t&quot; + person.getName()));\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n\r\n`.\\src\\main\\java\\myapp\\Person.java`:\r\n```java\r\npackage myapp;\r\n\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\nimport org.springframework.data.neo4j.core.schema.*;\r\n\r\n@Node\r\npublic class Person {\r\n\r\n\t@Id @GeneratedValue \r\n\tprivate Long id;\r\n\r\n\tprivate String name;\r\n\r\n\tprivate Person() {\r\n\t\t\r\n\t};\r\n\r\n\tpublic Person(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\t@Relationship(type = &quot;TEAMMATE&quot;)\r\n\tpublic Set&lt;Person&gt; teammates;\r\n\r\n\tpublic void worksWith(Person person) {\r\n\t\tif (teammates == null) {\r\n\t\t\tteammates = new HashSet&lt;&gt;();\r\n\t\t}\r\n\t\tteammates.add(person);\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\treturn this.name + &quot;&#39;s teammates =&gt; &quot;\r\n\t\t\t+ Optional.ofNullable(this.teammates).orElse(\r\n\t\t\t\t\tCollections.emptySet()).stream()\r\n\t\t\t\t\t\t.map(Person::getName)\r\n\t\t\t\t\t\t.collect(Collectors.toList());\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n}\r\n```\r\n\r\n`.\\src\\main\\java\\myapp\\PersonRepository.java`:\r\n```java\r\npackage myapp;\r\n\r\nimport java.util.List;\r\nimport org.springframework.data.neo4j.repository.Neo4jRepository;\r\n\r\npublic interface PersonRepository extends Neo4jRepository&lt;Person, Long&gt; {\r\n\tPerson findByName(String name);\r\n\tList&lt;Person&gt; findByTeammatesName(String name);\r\n}\r\n```\r\n## Sample Project execution\r\n`mvn clean spring-boot:run` results in these exceptions being thrown:\r\n```\r\nINFO 8164 --- [           main] o.neo4j.driver.internal.DriverFactory    : Direct driver instance 1068773063 created for server address localhost:7687\r\nERROR 8164 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\nCaused by: org.springframework.transaction.TransactionSystemException: Could not open a new Neo4j session: Unable to connect to localhost:7687, ensure the database is running and that there is a working network connection to it.\r\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:7687\r\nCaused by: java.net.ConnectException: Connection refused: no further information\r\nINFO 8164 --- [           main] o.neo4j.driver.internal.InternalDriver   : Closing driver instance 1068773063\r\nINFO 8164 --- [           main] o.n.d.i.async.pool.ConnectionPoolImpl    : Closing connection pool towards localhost:7687\r\n```\r\n","link":"https://stackoverflow.com/questions/76901420/how-to-connect-spring-data-neo4j-to-embedded-neo4j-server","title":"How to connect Spring-data-neo4j to embedded neo4j server?","body":"<p>I'm failing to combine Spring Data Neo4j and embedded neo4j server in one app. I've used them separately, but I can't make them work together.\nAlso, I haven't found guide on how to use them together anywhere.</p>\n<h2>Starting points</h2>\n<p>A good base for MRE of Spring-data-neo4j can be found here: <a href=\"https://github.com/spring-guides/gs-accessing-data-neo4j/tree/main/complete\" rel=\"nofollow noreferrer\">gs-accessing-data-neo4j</a>.</p>\n<p>Clues on how to run embedded Neo4J server can be found here:</p>\n<ul>\n<li><a href=\"https://neo4j.com/docs/java-reference/current/java-embedded/setup/\" rel=\"nofollow noreferrer\">neo4j: Embedding Neo4j in your Java application</a></li>\n<li><a href=\"https://www.baeldung.com/java-neo4j\" rel=\"nofollow noreferrer\">baeldung: A Guide to Neo4J with Java</a></li>\n</ul>\n<h2>Sample Project</h2>\n<p>Combining these sources, I've created this project:</p>\n<p><code>./pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;accessing-data-neo4j-complete&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;accessing-data-neo4j-complete&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-neo4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n            &lt;artifactId&gt;neo4j&lt;/artifactId&gt;\n            &lt;version&gt;5.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><code>.\\src\\main\\java\\myapp\\AccessingDataNeo4jApplication.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package myapp;\n\nimport java.io.File;\nimport java.time.Duration;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.neo4j.configuration.GraphDatabaseSettings;\nimport org.neo4j.cypherdsl.core.renderer.Configuration;\nimport org.neo4j.cypherdsl.core.renderer.Dialect;\nimport org.neo4j.dbms.api.DatabaseManagementService;\nimport org.neo4j.dbms.api.DatabaseManagementServiceBuilder;\nimport org.neo4j.graphdb.GraphDatabaseService;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.neo4j.repository.config.EnableNeo4jRepositories;\n\nimport static org.neo4j.configuration.GraphDatabaseSettings.DEFAULT_DATABASE_NAME;\n\n@SpringBootApplication\n@EnableNeo4jRepositories\npublic class AccessingDataNeo4jApplication {\n\n    private final static Logger log = LoggerFactory.getLogger(AccessingDataNeo4jApplication.class);\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(AccessingDataNeo4jApplication.class, args);\n        System.exit(0);\n    }\n    \n    @Bean\n    public Configuration cypherDslConfiguration() {\n        return Configuration.newConfig().withDialect(Dialect.NEO4J_5).build();\n    }\n\n    @Bean\n    public DatabaseManagementService databaseManagementService() {\n        DatabaseManagementService managementService = new \n            DatabaseManagementServiceBuilder(new File(&quot;target/mydb&quot;).toPath())\n                .setConfig(GraphDatabaseSettings.transaction_timeout, Duration.ofSeconds( 60 ) )\n                .build();\n        log.info(&quot;managementService created: {}&quot;,managementService);\n        registerShutdownHook(managementService);\n        return managementService;\n    }\n\n    @Bean\n    public GraphDatabaseService graphDatabaseService(DatabaseManagementService managementService) {\n        // managementService.createDatabase(&quot;mydb&quot;);\n        GraphDatabaseService graphDb = managementService.database(DEFAULT_DATABASE_NAME);\n        log.info(&quot;graphDb.isAvailable: {}&quot;,graphDb.isAvailable());  //true\n        return graphDb;\n    }\n    \n    private static void registerShutdownHook( final DatabaseManagementService managementService ) {\n        Runtime.getRuntime().addShutdownHook( new Thread() {\n            @Override\n            public void run() {\n                managementService.shutdown();\n            }\n        } );\n    }   \n\n    @Bean\n    CommandLineRunner demo(PersonRepository personRepository) {\n        return args -&gt; {\n\n            personRepository.deleteAll();\n\n            Person greg = new Person(&quot;Greg&quot;);\n            Person roy = new Person(&quot;Roy&quot;);\n            Person craig = new Person(&quot;Craig&quot;);\n\n            List&lt;Person&gt; team = Arrays.asList(greg, roy, craig);\n\n            log.info(&quot;Before linking up with Neo4j...&quot;);\n\n            team.stream().forEach(person -&gt; log.info(&quot;\\t&quot; + person.toString()));\n\n            personRepository.save(greg);\n            personRepository.save(roy);\n            personRepository.save(craig);\n\n            greg = personRepository.findByName(greg.getName());\n            greg.worksWith(roy);\n            greg.worksWith(craig);\n            personRepository.save(greg);\n\n            roy = personRepository.findByName(roy.getName());\n            roy.worksWith(craig);\n            // We already know that roy works with greg\n            personRepository.save(roy);\n\n            // We already know craig works with roy and greg\n\n            log.info(&quot;Lookup each person by name...&quot;);\n            team.stream().forEach(person -&gt; log.info(\n                    &quot;\\t&quot; + personRepository.findByName(person.getName()).toString()));\n\n            List&lt;Person&gt; teammates = personRepository.findByTeammatesName(greg.getName());\n            log.info(&quot;The following have Greg as a teammate...&quot;);\n            teammates.stream().forEach(person -&gt; log.info(&quot;\\t&quot; + person.getName()));\n        };\n    }\n\n}\n</code></pre>\n<p><code>.\\src\\main\\java\\myapp\\Person.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package myapp;\n\nimport java.util.*;\nimport java.util.stream.Collectors;\nimport org.springframework.data.neo4j.core.schema.*;\n\n@Node\npublic class Person {\n\n    @Id @GeneratedValue \n    private Long id;\n\n    private String name;\n\n    private Person() {\n        \n    };\n\n    public Person(String name) {\n        this.name = name;\n    }\n    \n    @Relationship(type = &quot;TEAMMATE&quot;)\n    public Set&lt;Person&gt; teammates;\n\n    public void worksWith(Person person) {\n        if (teammates == null) {\n            teammates = new HashSet&lt;&gt;();\n        }\n        teammates.add(person);\n    }\n\n    public String toString() {\n        return this.name + &quot;'s teammates =&gt; &quot;\n            + Optional.ofNullable(this.teammates).orElse(\n                    Collections.emptySet()).stream()\n                        .map(Person::getName)\n                        .collect(Collectors.toList());\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p><code>.\\src\\main\\java\\myapp\\PersonRepository.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package myapp;\n\nimport java.util.List;\nimport org.springframework.data.neo4j.repository.Neo4jRepository;\n\npublic interface PersonRepository extends Neo4jRepository&lt;Person, Long&gt; {\n    Person findByName(String name);\n    List&lt;Person&gt; findByTeammatesName(String name);\n}\n</code></pre>\n<h2>Sample Project execution</h2>\n<p><code>mvn clean spring-boot:run</code> results in these exceptions being thrown:</p>\n<pre><code>INFO 8164 --- [           main] o.neo4j.driver.internal.DriverFactory    : Direct driver instance 1068773063 created for server address localhost:7687\nERROR 8164 --- [           main] o.s.boot.SpringApplication               : Application run failed\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\nCaused by: org.springframework.transaction.TransactionSystemException: Could not open a new Neo4j session: Unable to connect to localhost:7687, ensure the database is running and that there is a working network connection to it.\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:7687\nCaused by: java.net.ConnectException: Connection refused: no further information\nINFO 8164 --- [           main] o.neo4j.driver.internal.InternalDriver   : Closing driver instance 1068773063\nINFO 8164 --- [           main] o.n.d.i.async.pool.ConnectionPoolImpl    : Closing connection pool towards localhost:7687\n</code></pre>\n"},{"tags":["java","maven","maven-jaxb2-plugin"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701367407,"creation_date":1701367407,"answer_id":77580737,"question_id":76002782,"body_markdown":"I think this is related to this [other question](https://stackoverflow.com/questions/77530239/why-cant-i-use-multiple-namespaceprefix-for-one-package-info-java-via-urnjaxb)\r\n\r\nI&#39;ve created the following [issue](https://github.com/highsource/jaxb-tools/issues/457) in jaxb-tools to make the namespace plugin capable of this since normally you can&#39;t define the prefix tag with `namespaceURI` attribute","link":"https://stackoverflow.com/questions/76002782/maven-jaxb2-plugin-namespace-issue-while-generating-pojos/77580737#77580737","title":"maven-jaxb2-plugin namespace issue while generating pojos","body":"<p>I think this is related to this <a href=\"https://stackoverflow.com/questions/77530239/why-cant-i-use-multiple-namespaceprefix-for-one-package-info-java-via-urnjaxb\">other question</a></p>\n<p>I've created the following <a href=\"https://github.com/highsource/jaxb-tools/issues/457\" rel=\"nofollow noreferrer\">issue</a> in jaxb-tools to make the namespace plugin capable of this since normally you can't define the prefix tag with <code>namespaceURI</code> attribute</p>\n"}],"comment_count":0,"is_answered":false,"view_count":51,"answer_count":1,"score":1,"last_activity_date":1701367407,"creation_date":1681371251,"question_id":76002782,"body_markdown":"&quot;I am using the maven-jaxb2-plugin in a Java Maven project to generate POJOs from XSD files. Im using a xjb file for namespaces and stuff, but sometimes on of the namespaces is not resolved. Is there a way to delay the generation until  all the namespaces have been resolved?&quot;\r\n\r\nThats the namespace part in the xjb file:\r\n```\r\n\t&lt;jxb:bindings schemaLocation=&quot;../../xsd/2_3_1/xbau-baukasten.xsd&quot; node=&quot;/xs:schema&quot;&gt;\r\n        &lt;jxb:bindings&gt;\r\n            &lt;!-- Additional @XmlNs prefix declarations to take effect for this schema/package --&gt;\r\n            &lt;namespace:prefix name=&quot;xbau&quot; namespaceURI=&quot;http://www.xleitstelle.de/xbau/2/3/1&quot; /&gt;\r\n            &lt;namespace:prefix name=&quot;dinspec91379&quot; namespaceURI=&quot;urn:xoev-de:kosit:xoev:datentyp:din-spec-91379_2019-03&quot; /&gt;\r\n            &lt;namespace:prefix name=&quot;xbauk&quot; namespaceURI=&quot;http://www.xleitstelle.de/xbau/kernmodul/1/2&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xibehoerde&quot; namespaceURI=&quot;http://www.osci.de/xinneres/behoerde/5&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xicgvz&quot; namespaceURI=&quot;http://www.osci.de/xinneres/codes/gemeindeverzeichnis/3&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xida&quot; namespaceURI=&quot;http://www.osci.de/xinneres/datum/2&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xilb&quot; namespaceURI=&quot;http://www.osci.de/xinneres/lichtbild/2&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xink&quot; namespaceURI=&quot;http://www.osci.de/xinneres/basisnachricht/5&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xoev-lc&quot; namespaceURI=&quot;http://xoev.de/latinchars/1_1/datatypes&quot; /&gt;\r\n\t\t\t&lt;namespace:prefix name=&quot;xima&quot; namespaceURI=&quot;http://www.osci.de/xinneres/meldeanschrift/3&quot; /&gt;\r\n        \r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n```\r\n\r\nError:\r\n\r\n\r\n```\r\n[ERROR] Error while parsing schema(s).Location [ file:/workspace/source/maven/xbau/type/src/main/resources/xsd/2_3_1/xbau-baukasten.xsd{154,77}].\r\norg.xml.sax.SAXParseException: src-resolve: Cannot resolve the name &#39;xbauk:Dezimal.XBau&#39; to a(n) &#39;type definition&#39; component.\r\n```\r\n\r\nLike said in the question above, the build is not failing everytime. It only fails sporadically.\r\n\r\nI tried to slow down the maven build with using the maven debug mode (-X). That fixed the error but isnt a proper solution.","link":"https://stackoverflow.com/questions/76002782/maven-jaxb2-plugin-namespace-issue-while-generating-pojos","title":"maven-jaxb2-plugin namespace issue while generating pojos","body":"<p>&quot;I am using the maven-jaxb2-plugin in a Java Maven project to generate POJOs from XSD files. Im using a xjb file for namespaces and stuff, but sometimes on of the namespaces is not resolved. Is there a way to delay the generation until  all the namespaces have been resolved?&quot;</p>\n<p>Thats the namespace part in the xjb file:</p>\n<pre><code>    &lt;jxb:bindings schemaLocation=&quot;../../xsd/2_3_1/xbau-baukasten.xsd&quot; node=&quot;/xs:schema&quot;&gt;\n        &lt;jxb:bindings&gt;\n            &lt;!-- Additional @XmlNs prefix declarations to take effect for this schema/package --&gt;\n            &lt;namespace:prefix name=&quot;xbau&quot; namespaceURI=&quot;http://www.xleitstelle.de/xbau/2/3/1&quot; /&gt;\n            &lt;namespace:prefix name=&quot;dinspec91379&quot; namespaceURI=&quot;urn:xoev-de:kosit:xoev:datentyp:din-spec-91379_2019-03&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xbauk&quot; namespaceURI=&quot;http://www.xleitstelle.de/xbau/kernmodul/1/2&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xibehoerde&quot; namespaceURI=&quot;http://www.osci.de/xinneres/behoerde/5&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xicgvz&quot; namespaceURI=&quot;http://www.osci.de/xinneres/codes/gemeindeverzeichnis/3&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xida&quot; namespaceURI=&quot;http://www.osci.de/xinneres/datum/2&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xilb&quot; namespaceURI=&quot;http://www.osci.de/xinneres/lichtbild/2&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xink&quot; namespaceURI=&quot;http://www.osci.de/xinneres/basisnachricht/5&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xoev-lc&quot; namespaceURI=&quot;http://xoev.de/latinchars/1_1/datatypes&quot; /&gt;\n            &lt;namespace:prefix name=&quot;xima&quot; namespaceURI=&quot;http://www.osci.de/xinneres/meldeanschrift/3&quot; /&gt;\n        \n        &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>[ERROR] Error while parsing schema(s).Location [ file:/workspace/source/maven/xbau/type/src/main/resources/xsd/2_3_1/xbau-baukasten.xsd{154,77}].\norg.xml.sax.SAXParseException: src-resolve: Cannot resolve the name 'xbauk:Dezimal.XBau' to a(n) 'type definition' component.\n</code></pre>\n<p>Like said in the question above, the build is not failing everytime. It only fails sporadically.</p>\n<p>I tried to slow down the maven build with using the maven debug mode (-X). That fixed the error but isnt a proper solution.</p>\n"},{"tags":["java","mongodb","spring-boot","docker","docker-compose"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701367364,"creation_date":1701367364,"answer_id":77580733,"question_id":77567237,"body_markdown":"Instead of using application.yml, you need to configure your connection to the database in a config Java class where you configure everything in regards to MongoDB.  \r\n\r\nDefine your connection string in your instantiation of MongoClient, MongoTemplate, and MongoDatabase.","link":"https://stackoverflow.com/questions/77567237/a-spring-boot-docker-container-wont-connect-with-its-mongodb-docker-container-d/77580733#77580733","title":"A Spring Boot Docker container won&#39;t connect with its MongoDB Docker container database","body":"<p>Instead of using application.yml, you need to configure your connection to the database in a config Java class where you configure everything in regards to MongoDB.</p>\n<p>Define your connection string in your instantiation of MongoClient, MongoTemplate, and MongoDatabase.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":38,"answer_count":1,"score":0,"last_activity_date":1701367364,"creation_date":1701206888,"question_id":77567237,"body_markdown":"I&#39;m trying to build and create a connection between two Docker containers using a `docker-compose.yml` file as well as my Spring Boot app&#39;s `application.yml` file.  One container is for my Spring Boot app and the other is for its MongoDB database. \r\n\r\nAs it stands, this is the error I receive when I run `docker build spring-app .` followed by `docker compose up` (in the directory of the docker-compose file):\r\n\r\n``` spring | 2023-11-28T00:49:54.130Z INFO 1 --- [product-db:27017] org.mongodb.driver.cluster : Exception in monitor thread while connecting to server database:27017 ``` \r\n\r\nI&#39;ve tried removing the authentication requirement for the database, and this allows the app to connect to the database.  I no longer get this error, and it connects properly.\r\n\r\nI&#39;ve tried removing the ports, assigning a Docker network to both containers, and explicitly assigning the authentication-database.  For each of these, I still receive the same &quot;Exception in monitory thread&quot; error.\r\n\r\nI&#39;ve also tried the option of using a mongo-init.js file, like is used in the answers to [this](https://stackoverflow.com/questions/71729732/authentication-failed-connecting-to-mongodb-running-in-a-local-docker-cointainer) question, but this resulted in a directory already exists error for me.\r\n\r\n```  \r\nnetworks:\r\n  spring-docker-network:\r\n    driver: bridge\r\n\r\nservices:\r\n  product-db:\r\n    image: mongo:latest\r\n    container_name: &quot;product-db&quot;\r\n    networks:\r\n      - spring-docker-network\r\n    ports:\r\n      - &quot;27017:27017&quot;\r\n    hostname: product-db\r\n    environment:\r\n      MONGO_INITDB_ROOT_USERNAME: admin_username\r\n      MONGO_INITDB_ROOT_PASSWORD: admin_password\r\n      MONGO_INITDB_DATABASE: product-db\r\n\r\n  spring-app:\r\n    depends_on:\r\n      - product-db\r\n    image: spring-app\r\n    container_name: &quot;spring-app&quot;\r\n    restart: no\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    networks:\r\n      - spring-docker-network\r\n    links:\r\n      - product-db\r\n\r\nvolumes:\r\n  data: {}\r\n```\r\n\r\nHere is my `application.yml` file:\r\n```\r\nspring:\r\n  data:\r\n    mongodb:\r\n      database: product-db\r\n      host: product-db\r\n      port: 27017\r\n      auto-index-creation: true\r\n      username: admin_username\r\n      password: admin_password\r\n      authentication-database: admin\r\n```\r\n","link":"https://stackoverflow.com/questions/77567237/a-spring-boot-docker-container-wont-connect-with-its-mongodb-docker-container-d","title":"A Spring Boot Docker container won&#39;t connect with its MongoDB Docker container database","body":"<p>I'm trying to build and create a connection between two Docker containers using a <code>docker-compose.yml</code> file as well as my Spring Boot app's <code>application.yml</code> file.  One container is for my Spring Boot app and the other is for its MongoDB database.</p>\n<p>As it stands, this is the error I receive when I run <code>docker build spring-app .</code> followed by <code>docker compose up</code> (in the directory of the docker-compose file):</p>\n<p><code>spring | 2023-11-28T00:49:54.130Z INFO 1 --- [product-db:27017] org.mongodb.driver.cluster : Exception in monitor thread while connecting to server database:27017</code></p>\n<p>I've tried removing the authentication requirement for the database, and this allows the app to connect to the database.  I no longer get this error, and it connects properly.</p>\n<p>I've tried removing the ports, assigning a Docker network to both containers, and explicitly assigning the authentication-database.  For each of these, I still receive the same &quot;Exception in monitory thread&quot; error.</p>\n<p>I've also tried the option of using a mongo-init.js file, like is used in the answers to <a href=\"https://stackoverflow.com/questions/71729732/authentication-failed-connecting-to-mongodb-running-in-a-local-docker-cointainer\">this</a> question, but this resulted in a directory already exists error for me.</p>\n<pre><code>networks:\n  spring-docker-network:\n    driver: bridge\n\nservices:\n  product-db:\n    image: mongo:latest\n    container_name: &quot;product-db&quot;\n    networks:\n      - spring-docker-network\n    ports:\n      - &quot;27017:27017&quot;\n    hostname: product-db\n    environment:\n      MONGO_INITDB_ROOT_USERNAME: admin_username\n      MONGO_INITDB_ROOT_PASSWORD: admin_password\n      MONGO_INITDB_DATABASE: product-db\n\n  spring-app:\n    depends_on:\n      - product-db\n    image: spring-app\n    container_name: &quot;spring-app&quot;\n    restart: no\n    ports:\n      - &quot;8080:8080&quot;\n    networks:\n      - spring-docker-network\n    links:\n      - product-db\n\nvolumes:\n  data: {}\n</code></pre>\n<p>Here is my <code>application.yml</code> file:</p>\n<pre><code>spring:\n  data:\n    mongodb:\n      database: product-db\n      host: product-db\n      port: 27017\n      auto-index-creation: true\n      username: admin_username\n      password: admin_password\n      authentication-database: admin\n</code></pre>\n"},{"tags":["java","maven-jaxb2-plugin"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701367090,"creation_date":1701367090,"answer_id":77580712,"question_id":75947133,"body_markdown":"You try to mix SpringBoot 3 (which is jakarta based) with javax based artifacts.\r\n\r\nYou also mixed jaxb-api 2.3 (which is javaee 8) with jaxb-runtime 4 (which is jakartaee 10) and xjc 3 (which is jakartaee 9).\r\n\r\nMy guess is the jaxb plugin is getting xjc 3 from your dependencies (which shouldnt be there) and then wants xsd / bindings in jakarta mode.\r\n\r\nIf you really target SB3, you should upgrade the plugin version with jakarta support (https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v3.1.0/index.html) and update XSD from java&#39;s jaxb namespace to jakarta&#39;s jaxb namespace `xmlns:jaxb = &quot;https://jakarta.ee/xml/ns/jaxb&quot;`\r\n\r\n","link":"https://stackoverflow.com/questions/75947133/jaxb-problem-error-message-when-compiling/77580712#77580712","title":"jaxb problem, error message when compiling","body":"<p>You try to mix SpringBoot 3 (which is jakarta based) with javax based artifacts.</p>\n<p>You also mixed jaxb-api 2.3 (which is javaee 8) with jaxb-runtime 4 (which is jakartaee 10) and xjc 3 (which is jakartaee 9).</p>\n<p>My guess is the jaxb plugin is getting xjc 3 from your dependencies (which shouldnt be there) and then wants xsd / bindings in jakarta mode.</p>\n<p>If you really target SB3, you should upgrade the plugin version with jakarta support (<a href=\"https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v3.1.0/index.html\" rel=\"nofollow noreferrer\">https://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v3.1.0/index.html</a>) and update XSD from java's jaxb namespace to jakarta's jaxb namespace <code>xmlns:jaxb = &quot;https://jakarta.ee/xml/ns/jaxb&quot;</code></p>\n"}],"comment_count":0,"is_answered":false,"view_count":56,"answer_count":1,"score":0,"last_activity_date":1701367090,"creation_date":1680767951,"question_id":75947133,"body_markdown":"When I compile my code I have an error because of jaxb2.\r\nthe error message:\r\n\r\nFailed to execute goal org.codehaus.mojo:jaxb2-maven-plugin:2.4:xjc (xjc) on project commandecartes: can&#39;t parse argument number: &#39;&#39;http://java.sun.com/xml/ns/jaxb&#39;&#39;: For input string: &quot;&#39;&#39;http://java.sun.com/xml/ns/jaxb&#39;&#39;&quot; -\\&gt; \\[Help 1\\]\r\n\r\nhere is my pom:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;!-- Spring --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- database --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- XML --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n    \r\n        &lt;/dependency&gt;\r\n        &lt;!--generate java classes for the given xml representation--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n    \r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- management of persistence and object/relational mapping in Java--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n    \r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- enables distributed transactions--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.transaction-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- other --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- PDF--&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kernel&lt;/artifactId&gt;\r\n            &lt;version&gt;7.2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;io&lt;/artifactId&gt;\r\n            &lt;version&gt;7.2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;layout&lt;/artifactId&gt;\r\n            &lt;version&gt;7.2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    &lt;/dependencies&gt;\r\n    \r\n    \r\n    &lt;build&gt;\r\n    \r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n    \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;xjc&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- The package of your fr.geomod.components.cmdecarte.basket.model.generated sources --&gt;\r\n                    &lt;packageName&gt;fr.geomod.components.cmdecarte.basket.model.generated&lt;/packageName&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nI tried to go beyond javax, put the language in in the pom. I can&#39;t find the problem.","link":"https://stackoverflow.com/questions/75947133/jaxb-problem-error-message-when-compiling","title":"jaxb problem, error message when compiling","body":"<p>When I compile my code I have an error because of jaxb2.\nthe error message:</p>\n<p>Failed to execute goal org.codehaus.mojo:jaxb2-maven-plugin:2.4:xjc (xjc) on project commandecartes: can't parse argument number: ''http://java.sun.com/xml/ns/jaxb'': For input string: &quot;''http://java.sun.com/xml/ns/jaxb''&quot; -&gt; [Help 1]</p>\n<p>here is my pom:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- Spring --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- database --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n        &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- testing --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- XML --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n\n    &lt;/dependency&gt;\n    &lt;!--generate java classes for the given xml representation--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- management of persistence and object/relational mapping in Java--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n\n    &lt;/dependency&gt;\n\n    &lt;!-- enables distributed transactions--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.transaction-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- other --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- PDF--&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n        &lt;version&gt;5.5.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;kernel&lt;/artifactId&gt;\n        &lt;version&gt;7.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;io&lt;/artifactId&gt;\n        &lt;version&gt;7.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;layout&lt;/artifactId&gt;\n        &lt;version&gt;7.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n\n&lt;build&gt;\n\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;!-- The package of your fr.geomod.components.cmdecarte.basket.model.generated sources --&gt;\n                &lt;packageName&gt;fr.geomod.components.cmdecarte.basket.model.generated&lt;/packageName&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I tried to go beyond javax, put the language in in the pom. I can't find the problem.</p>\n"},{"tags":["java","data-structures","variable-length"],"comments":[{"score":2,"post_type":"question","creation_date":1701366082,"post_id":77580607,"comment_id":136769612,"body_markdown":"https://en.wikipedia.org/wiki/Common_logarithm","link":"https://stackoverflow.com/questions/77580607/how-does-logarithmic-approach-for-finding-number-of-digits-in-a-integer-in-java#comment136769612_77580607","body":"<a href=\"https://en.wikipedia.org/wiki/Common_logarithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Common_logarithm</a>"}],"comment_count":1,"is_answered":false,"view_count":34,"answer_count":0,"score":-3,"last_activity_date":1701366626,"creation_date":1701365935,"question_id":77580607,"body_markdown":"how does logarithmic approach for finding number of digits in a integer in java works \r\n\r\nwhy do we use log10? and is this the best method to find length?\r\n\r\n\r\n&lt;--------- int length = (int) (Math.log10(number) + 1);---------&gt;","link":"https://stackoverflow.com/questions/77580607/how-does-logarithmic-approach-for-finding-number-of-digits-in-a-integer-in-java","title":"how does logarithmic approach for finding number of digits in a integer in java works?","body":"<p>how does logarithmic approach for finding number of digits in a integer in java works</p>\n<p>why do we use log10? and is this the best method to find length?</p>\n<p>&lt;--------- int length = (int) (Math.log10(number) + 1);---------&gt;</p>\n"},{"tags":["java","nats.io","countdownlatch","nats-jetstream"],"comment_count":0,"is_answered":false,"view_count":40,"answer_count":0,"score":1,"last_activity_date":1701366260,"creation_date":1698078933,"last_edit_date":1701366260,"question_id":77346919,"body_markdown":"Recently I&#39;ve been learning NATS-JetStream, and I came across some sample code on GitHub.  Here is the [simple java code of the NATS client][1]:\r\n\r\nThis code primarily accomplishes the following task:\r\n\r\n1. declare a MessageHandler and a CountDownLatch. \r\n\r\n2. create a consumer (MessageConsumer) before calling the latch.await() method.\r\n\r\nAs far as I know, the latch.await() method will block the current Main Thread and put it into a block state. \r\n\r\n**My first question**\r\n\r\nGiven that the await() method of CountDownLatch blocks the current thread, \r\n\r\nHow can the handler process message when new messages arrive in the already blocked current thread?\r\n\r\n**My second question**\r\n\r\nIf I want to run a program that never stops, \r\nis it a good idea to use CountDownLatch and not invoke CountDownLatch.countDown(), allowing the consumer to continuously listen to the NATS subject/stream?\r\n\r\nI tried running the sample code and wrote my own program to publish some messages to JetStream. \r\n\r\nAfter publishing the first message, the consumer program successfully received the message. \r\n\r\nHowever, when I published the second message, the consumer displayed a &quot;severe: heartbeatAlarm warning&quot; message.\r\n\r\n\r\n  [1]: https://github.com/nats-io/nats.java/blob/main/src/examples/java/io/nats/examples/jetstream/simple/MessageConsumerExample.java","link":"https://stackoverflow.com/questions/77346919/how-did-consumer-handle-the-messages-without-start-a-new-thread-in-nats-jetstrea","title":"How did consumer handle the messages without start a new Thread in NATS-JetStream?","body":"<p>Recently I've been learning NATS-JetStream, and I came across some sample code on GitHub.  Here is the <a href=\"https://github.com/nats-io/nats.java/blob/main/src/examples/java/io/nats/examples/jetstream/simple/MessageConsumerExample.java\" rel=\"nofollow noreferrer\">simple java code of the NATS client</a>:</p>\n<p>This code primarily accomplishes the following task:</p>\n<ol>\n<li><p>declare a MessageHandler and a CountDownLatch.</p>\n</li>\n<li><p>create a consumer (MessageConsumer) before calling the latch.await() method.</p>\n</li>\n</ol>\n<p>As far as I know, the latch.await() method will block the current Main Thread and put it into a block state.</p>\n<p><strong>My first question</strong></p>\n<p>Given that the await() method of CountDownLatch blocks the current thread,</p>\n<p>How can the handler process message when new messages arrive in the already blocked current thread?</p>\n<p><strong>My second question</strong></p>\n<p>If I want to run a program that never stops,\nis it a good idea to use CountDownLatch and not invoke CountDownLatch.countDown(), allowing the consumer to continuously listen to the NATS subject/stream?</p>\n<p>I tried running the sample code and wrote my own program to publish some messages to JetStream.</p>\n<p>After publishing the first message, the consumer program successfully received the message.</p>\n<p>However, when I published the second message, the consumer displayed a &quot;severe: heartbeatAlarm warning&quot; message.</p>\n"},{"tags":["java","user-interface","awt"],"comments":[{"score":0,"post_type":"question","creation_date":1701281004,"post_id":77571192,"comment_id":136757399,"body_markdown":"*but when I run it on a different machine the layout gets messed up.* - no idea what &quot;gets messed up&quot; means. You also need an &quot;after&quot; image showing how it is messed up and explain what you expect to happen.","link":"https://stackoverflow.com/questions/77571192/awt-gridbaglayout-not-working-in-different-screen-resolutions#comment136757399_77571192","body":"<i>but when I run it on a different machine the layout gets messed up.</i> - no idea what &quot;gets messed up&quot; means. You also need an &quot;after&quot; image showing how it is messed up and explain what you expect to happen."},{"score":0,"post_type":"question","creation_date":1701316962,"post_id":77571192,"comment_id":136761608,"body_markdown":"I have added a screenshot.","link":"https://stackoverflow.com/questions/77571192/awt-gridbaglayout-not-working-in-different-screen-resolutions#comment136761608_77571192","body":"I have added a screenshot."},{"score":0,"post_type":"question","creation_date":1701359331,"post_id":77571192,"comment_id":136768251,"body_markdown":"Post an [mre] to demonstrate the problem. Your question is about the layout of the frame, so all the quiz logic is irrelevant to the problem. We should be able to copy/paste/compile/test the code to see the described behaviour.","link":"https://stackoverflow.com/questions/77571192/awt-gridbaglayout-not-working-in-different-screen-resolutions#comment136768251_77571192","body":"Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to demonstrate the problem. Your question is about the layout of the frame, so all the quiz logic is irrelevant to the problem. We should be able to copy/paste/compile/test the code to see the described behaviour."},{"score":0,"post_type":"question","creation_date":1701363913,"post_id":77571192,"comment_id":136769175,"body_markdown":"I have removed the quiz logic and updated the code segment.","link":"https://stackoverflow.com/questions/77571192/awt-gridbaglayout-not-working-in-different-screen-resolutions#comment136769175_77571192","body":"I have removed the quiz logic and updated the code segment."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701367077,"post_id":77580583,"comment_id":136769795,"body_markdown":"Thank you for the answer, I hardcoded those values because the layout manager wasn&#39;t placing them where I wanted them on screen, components were always on edges, with hardcoded values I was able to move them a little towards where I wanted them. Since layout manager isn&#39;t giving me flexibility to do that, If I follow your approach will I be able to customize alignments without hardcoding any values?","link":"https://stackoverflow.com/questions/77571192/awt-gridbaglayout-not-working-in-different-screen-resolutions/77580583#comment136769795_77580583","body":"Thank you for the answer, I hardcoded those values because the layout manager wasn&#39;t placing them where I wanted them on screen, components were always on edges, with hardcoded values I was able to move them a little towards where I wanted them. Since layout manager isn&#39;t giving me flexibility to do that, If I follow your approach will I be able to customize alignments without hardcoding any values?"},{"score":1,"post_type":"answer","creation_date":1701377136,"post_id":77580583,"comment_id":136771504,"body_markdown":"Well, there is always subtle hardcoding of values. You might use 5/10 pixels to put a gap between components when using a FlowLayout for example. But larger values like 500 show an improper usage of layout managers and you are trying to force a component so be is a certain location. When using a GridLayout you can specify a gap between each component. It  is only done once, not every time you add the compnent to the canvas so it is simpler to code and change if you ever decide you need a larger gap.","link":"https://stackoverflow.com/questions/77571192/awt-gridbaglayout-not-working-in-different-screen-resolutions/77580583#comment136771504_77580583","body":"Well, there is always subtle hardcoding of values. You might use 5/10 pixels to put a gap between components when using a FlowLayout for example. But larger values like 500 show an improper usage of layout managers and you are trying to force a component so be is a certain location. When using a GridLayout you can specify a gap between each component. It  is only done once, not every time you add the compnent to the canvas so it is simpler to code and change if you ever decide you need a larger gap."}],"comment_count":2,"score":0,"last_activity_date":1701365798,"creation_date":1701365798,"answer_id":77580583,"question_id":77571192,"body_markdown":"The basic answer is that you are not using layout managers effectively. You are:\r\n\r\n1. using only a single layout manager\r\n2. hardcoding spacing values between components\r\n3. hardcoding the painting of the image\r\n\r\nSo when you move to a different resolution or frame size the layout manager doesn&#39;t adjust since you have so many hardcoded values.\r\n\r\nFor example:\r\n\r\n    gc.ipadx = 500;\r\n\r\nA spacing of 500 on one resolution won&#39;t work on another.\r\n\r\n    g.drawImage(image,950,300,null);\r\n\r\nAgain, hardcoding the location assumes a given resolution. Also you should NOT override paint() of the Frame to paint the image. Instead I would suggest you override paint of a Canvas and then add the Canvas as a component to your frame.\r\n\r\nAlso, you should learn how to nest a Canvas with different layout managers. For example for your radio buttons I would create a Canvas with a GridLayout that displays the button is a single column. \r\n\r\nMaybe for the buttons you create a buttons canvas with a BoxLayout and use &quot;glue&quot; between the two button so one is displayed on the left edge and one on the right edge.\r\n\r\nThen when you add the components to the GridBagLayout you have in the first column:\r\n\r\n1. the question label\r\n2. the canvas of radio buttons\r\n3. the canvas of buttons\r\n\r\nIn the second column you have the image\r\n\r\nI suggest you read the section from the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) to learn the basics of each layout manger and how you might be able to nest them to achieve a dynamic layout.\r\n\r\nYes, the tutorial is from Swing, but layout managers work the same in both AWT and Swing.\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77571192/awt-gridbaglayout-not-working-in-different-screen-resolutions/77580583#77580583","title":"AWT GridBagLayout not working in different screen resolutions","body":"<p>The basic answer is that you are not using layout managers effectively. You are:</p>\n<ol>\n<li>using only a single layout manager</li>\n<li>hardcoding spacing values between components</li>\n<li>hardcoding the painting of the image</li>\n</ol>\n<p>So when you move to a different resolution or frame size the layout manager doesn't adjust since you have so many hardcoded values.</p>\n<p>For example:</p>\n<pre><code>gc.ipadx = 500;\n</code></pre>\n<p>A spacing of 500 on one resolution won't work on another.</p>\n<pre><code>g.drawImage(image,950,300,null);\n</code></pre>\n<p>Again, hardcoding the location assumes a given resolution. Also you should NOT override paint() of the Frame to paint the image. Instead I would suggest you override paint of a Canvas and then add the Canvas as a component to your frame.</p>\n<p>Also, you should learn how to nest a Canvas with different layout managers. For example for your radio buttons I would create a Canvas with a GridLayout that displays the button is a single column.</p>\n<p>Maybe for the buttons you create a buttons canvas with a BoxLayout and use &quot;glue&quot; between the two button so one is displayed on the left edge and one on the right edge.</p>\n<p>Then when you add the components to the GridBagLayout you have in the first column:</p>\n<ol>\n<li>the question label</li>\n<li>the canvas of radio buttons</li>\n<li>the canvas of buttons</li>\n</ol>\n<p>In the second column you have the image</p>\n<p>I suggest you read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a> to learn the basics of each layout manger and how you might be able to nest them to achieve a dynamic layout.</p>\n<p>Yes, the tutorial is from Swing, but layout managers work the same in both AWT and Swing.</p>\n"}],"comment_count":4,"is_answered":true,"view_count":36,"answer_count":1,"score":0,"last_activity_date":1701365798,"creation_date":1701261192,"last_edit_date":1701363878,"question_id":77571192,"body_markdown":"I have a frame where the components are arranged using a GridBagLayout. My understanding about layouts is that if I use them they will automatically manage my components based on the screen resolution. My frame looks like the image below on my machine but when I run it on a different machine the layout gets messed up. Could anyone guide me with the right approach to fix this issue with different resolutions?\r\n\r\n    package com.shivam;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.WindowEvent;\r\n    import java.awt.event.WindowListener;\r\n    \r\n    public class TestFrame extends Frame implements WindowListener {\r\n        Label qno, question;\r\n        Checkbox opt1, opt2, opt3, opt4;\r\n        CheckboxGroup groupoptions;\r\n        Button next, submit;\r\n        Image image;\r\n        TestFrame() {\r\n            setTitle(&quot;QuizApp - Quiz&quot;);\r\n            setBackground(new Color(42, 20, 66));\r\n            setForeground(Color.WHITE);\r\n    \r\n            GridBagLayout gbl = new GridBagLayout();\r\n            GridBagConstraints gc = new GridBagConstraints();\r\n            setLayout(gbl);\r\n            qno = new Label(&quot;1&quot;);\r\n            qno.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\r\n            gc.anchor = GridBagConstraints.CENTER;\r\n            gc.gridy=0;\r\n            gc.gridx=0;\r\n            gbl.setConstraints(qno, gc);\r\n            add(qno);\r\n    \r\n            question = new Label(&quot;What is the what of how do you do and when, explain with detailed derivation?&quot;);\r\n            question.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\r\n            gc.gridy=0;\r\n            gc.gridx=1;\r\n            gc.ipadx = 500;\r\n            gc.insets = new Insets(0,40,0,0);\r\n            gc.gridwidth = 2;\r\n            gc.anchor = GridBagConstraints.LINE_START;\r\n            gbl.setConstraints(question, gc);\r\n            add(question);\r\n            addWindowListener(this);\r\n            groupoptions = new CheckboxGroup();\r\n            opt1 = new Checkbox(&quot;GuluGulu&quot;);\r\n            opt1.setCheckboxGroup(groupoptions);\r\n            opt1.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            gc.gridy=1;\r\n            gc.gridx=1;\r\n            gc.anchor = GridBagConstraints.LINE_START;\r\n            gc.ipadx = 150;\r\n            gc.insets = new Insets(20,0,0,0);\r\n            gbl.setConstraints(opt1, gc);\r\n            add(opt1);\r\n    \r\n            opt2 = new Checkbox(&quot;Honululu&quot;);\r\n            opt2.setCheckboxGroup(groupoptions);\r\n            opt2.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            gc.gridy=2;\r\n            gbl.setConstraints(opt2, gc);\r\n            add(opt2);\r\n    \r\n            opt3 = new Checkbox(&quot;PewPew&quot;);\r\n            opt3.setCheckboxGroup(groupoptions);\r\n            opt3.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            gc.gridy=3;\r\n            gbl.setConstraints(opt3, gc);\r\n            add(opt3);\r\n    \r\n            opt4 = new Checkbox(&quot;MachuPichu&quot;);\r\n            opt4.setCheckboxGroup(groupoptions);\r\n            opt4.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            gc.gridy=4;\r\n            gbl.setConstraints(opt4, gc);\r\n            add(opt4);\r\n    \r\n            next = new Button(&quot;Next&quot;);\r\n            next.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\r\n            next.setBackground(new Color(30, 144, 255));\r\n            next.setForeground(Color.WHITE);\r\n            next.setSize(100,50);\r\n            gc.gridx = 0;\r\n            gc.gridy = 5;\r\n            gc.ipady = 15;\r\n            gc.gridwidth =2;\r\n            gc.insets = new Insets(50,0,0,0);\r\n            gc.anchor = GridBagConstraints.LINE_START;\r\n            gbl.setConstraints(next, gc);\r\n            add(next);\r\n    \r\n            submit = new Button(&quot;Submit&quot;);\r\n            submit.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\r\n            submit.setBackground(new Color(129, 131, 129));\r\n            submit.setForeground(Color.WHITE);\r\n            submit.setSize(100,50);\r\n            submit.setEnabled(false);\r\n            gc.gridx = 1;\r\n            gc.gridy = 5;\r\n            gc.anchor = GridBagConstraints.CENTER;\r\n            gbl.setConstraints(submit, gc);\r\n            add(submit);\r\n            setExtendedState(Frame.MAXIMIZED_BOTH);\r\n            image = Toolkit.getDefaultToolkit().getImage(&quot;src/resources/boy.png&quot;);\r\n            MediaTracker tracker = new MediaTracker(this);\r\n            tracker.addImage(image, 0);\r\n            try {\r\n                tracker.waitForID(0);\r\n            } catch (InterruptedException ae) {\r\n                System.out.println(&quot;Exception occurred while loading image...&quot;);\r\n            }\r\n            setVisible(true);\r\n        }\r\n    \r\n        @Override\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n            g.drawImage(image,950,300,null);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new TestFrame();\r\n        }\r\n    \r\n        @Override\r\n        public void windowOpened(WindowEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void windowClosing(WindowEvent e) {\r\n            this.dispose();\r\n        }\r\n    \r\n        @Override\r\n        public void windowClosed(WindowEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void windowIconified(WindowEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void windowDeiconified(WindowEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void windowActivated(WindowEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void windowDeactivated(WindowEvent e) {\r\n    \r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOn a screen with different resolution.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9NooL.png\r\n  [2]: https://i.stack.imgur.com/F4R4f.png","link":"https://stackoverflow.com/questions/77571192/awt-gridbaglayout-not-working-in-different-screen-resolutions","title":"AWT GridBagLayout not working in different screen resolutions","body":"<p>I have a frame where the components are arranged using a GridBagLayout. My understanding about layouts is that if I use them they will automatically manage my components based on the screen resolution. My frame looks like the image below on my machine but when I run it on a different machine the layout gets messed up. Could anyone guide me with the right approach to fix this issue with different resolutions?</p>\n<pre><code>package com.shivam;\n\nimport java.awt.*;\nimport java.awt.event.WindowEvent;\nimport java.awt.event.WindowListener;\n\npublic class TestFrame extends Frame implements WindowListener {\n    Label qno, question;\n    Checkbox opt1, opt2, opt3, opt4;\n    CheckboxGroup groupoptions;\n    Button next, submit;\n    Image image;\n    TestFrame() {\n        setTitle(&quot;QuizApp - Quiz&quot;);\n        setBackground(new Color(42, 20, 66));\n        setForeground(Color.WHITE);\n\n        GridBagLayout gbl = new GridBagLayout();\n        GridBagConstraints gc = new GridBagConstraints();\n        setLayout(gbl);\n        qno = new Label(&quot;1&quot;);\n        qno.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\n        gc.anchor = GridBagConstraints.CENTER;\n        gc.gridy=0;\n        gc.gridx=0;\n        gbl.setConstraints(qno, gc);\n        add(qno);\n\n        question = new Label(&quot;What is the what of how do you do and when, explain with detailed derivation?&quot;);\n        question.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\n        gc.gridy=0;\n        gc.gridx=1;\n        gc.ipadx = 500;\n        gc.insets = new Insets(0,40,0,0);\n        gc.gridwidth = 2;\n        gc.anchor = GridBagConstraints.LINE_START;\n        gbl.setConstraints(question, gc);\n        add(question);\n        addWindowListener(this);\n        groupoptions = new CheckboxGroup();\n        opt1 = new Checkbox(&quot;GuluGulu&quot;);\n        opt1.setCheckboxGroup(groupoptions);\n        opt1.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        gc.gridy=1;\n        gc.gridx=1;\n        gc.anchor = GridBagConstraints.LINE_START;\n        gc.ipadx = 150;\n        gc.insets = new Insets(20,0,0,0);\n        gbl.setConstraints(opt1, gc);\n        add(opt1);\n\n        opt2 = new Checkbox(&quot;Honululu&quot;);\n        opt2.setCheckboxGroup(groupoptions);\n        opt2.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        gc.gridy=2;\n        gbl.setConstraints(opt2, gc);\n        add(opt2);\n\n        opt3 = new Checkbox(&quot;PewPew&quot;);\n        opt3.setCheckboxGroup(groupoptions);\n        opt3.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        gc.gridy=3;\n        gbl.setConstraints(opt3, gc);\n        add(opt3);\n\n        opt4 = new Checkbox(&quot;MachuPichu&quot;);\n        opt4.setCheckboxGroup(groupoptions);\n        opt4.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        gc.gridy=4;\n        gbl.setConstraints(opt4, gc);\n        add(opt4);\n\n        next = new Button(&quot;Next&quot;);\n        next.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\n        next.setBackground(new Color(30, 144, 255));\n        next.setForeground(Color.WHITE);\n        next.setSize(100,50);\n        gc.gridx = 0;\n        gc.gridy = 5;\n        gc.ipady = 15;\n        gc.gridwidth =2;\n        gc.insets = new Insets(50,0,0,0);\n        gc.anchor = GridBagConstraints.LINE_START;\n        gbl.setConstraints(next, gc);\n        add(next);\n\n        submit = new Button(&quot;Submit&quot;);\n        submit.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\n        submit.setBackground(new Color(129, 131, 129));\n        submit.setForeground(Color.WHITE);\n        submit.setSize(100,50);\n        submit.setEnabled(false);\n        gc.gridx = 1;\n        gc.gridy = 5;\n        gc.anchor = GridBagConstraints.CENTER;\n        gbl.setConstraints(submit, gc);\n        add(submit);\n        setExtendedState(Frame.MAXIMIZED_BOTH);\n        image = Toolkit.getDefaultToolkit().getImage(&quot;src/resources/boy.png&quot;);\n        MediaTracker tracker = new MediaTracker(this);\n        tracker.addImage(image, 0);\n        try {\n            tracker.waitForID(0);\n        } catch (InterruptedException ae) {\n            System.out.println(&quot;Exception occurred while loading image...&quot;);\n        }\n        setVisible(true);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n        g.drawImage(image,950,300,null);\n    }\n\n    public static void main(String[] args) {\n        new TestFrame();\n    }\n\n    @Override\n    public void windowOpened(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowClosing(WindowEvent e) {\n        this.dispose();\n    }\n\n    @Override\n    public void windowClosed(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowIconified(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowDeiconified(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowActivated(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowDeactivated(WindowEvent e) {\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9NooL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9NooL.png\" alt=\"enter image description here\" /></a></p>\n<p>On a screen with different resolution.\n<a href=\"https://i.stack.imgur.com/F4R4f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F4R4f.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","axis"],"comments":[{"score":0,"post_type":"question","creation_date":1701367911,"post_id":77580564,"comment_id":136769916,"body_markdown":"did you notice that the question you linked is about a completely different problem in a scenario that is similar to yours? I looks as &quot;they&quot; had the executable JAR already built...","link":"https://stackoverflow.com/questions/77580564/convert-a-war-project-to-jar-project#comment136769916_77580564","body":"did you notice that the question you linked is about a completely different problem in a scenario that is similar to yours? I looks as &quot;they&quot; had the executable JAR already built..."},{"score":0,"post_type":"question","creation_date":1701368007,"post_id":77580564,"comment_id":136769930,"body_markdown":"And I can&#39;t provide a full solution as I didn&#39;t solve this problem myself yet, but maybe this link helps you a bit more: https://www.baeldung.com/spring-boot-run-maven-vs-executable-jar","link":"https://stackoverflow.com/questions/77580564/convert-a-war-project-to-jar-project#comment136769930_77580564","body":"And I can&#39;t provide a full solution as I didn&#39;t solve this problem myself yet, but maybe this link helps you a bit more: <a href=\"https://www.baeldung.com/spring-boot-run-maven-vs-executable-jar\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-run-maven-vs-executable-jar</a>"}],"comment_count":2,"is_answered":false,"view_count":33,"answer_count":0,"score":0,"last_activity_date":1701365633,"creation_date":1701365633,"question_id":77580564,"body_markdown":"I want convert this war project https://github.com/mpuening/learn-webservices-jaxrpc into a jar project.\r\n\r\nI have tried to set in the file pom.xml the jar package but trying to execute the application I&#39;ll get the following error\r\nERROR o.a.a.c.EngineConfigurationFactoryServlet[EngineConfigurationFactoryServlet.java:162] - Unable to find config file. Creating new servlet engine config file: /WEB-INF/server-config.wsdd\r\nERROR o.a.a.c.EngineConfigurationFactoryServlet[EngineConfigurationFactoryServlet.java:176] - Problem with servlet engine /WEB-INF directory\r\n\r\nWARN o.a.a.c.EngineConfigurationFactoryServlet[EngineConfigurationFactoryServlet.java:184] - Unable to load/create servlet engine config file, attempting internal default (from jar).\r\nWARN o.apache.axis.utils.JavaUtils[JavaUtils.java:1308] - Unable to find required classes (javax.activation.DataHandler and javax.mail.internet.MimeMultipart). Attachment support is disabled.\r\n\r\nand inside the response I&#39;ll get a 500 error response with following body\r\n\r\n\r\n```\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\nsoapenv:Body\r\nsoapenv:Fault\r\nns1:Server.NoService\r\nThe AXIS engine could not find a target service to invoke! targetService is WEBPanelServices\r\n\r\n&lt;ns2:hostname xmlns:ns2=&quot;http://xml.apache.org/axis/&quot;&gt;PC01A&lt;/ns2:hostname&gt;\r\n\r\n&lt;/soapenv:Fault&gt;\r\n&lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n\r\n\r\n```\r\n\r\nthis happens because setting jar packaging the src/main/webapp directory is ignored and server-config.wsdd is not included in the resulting jar file.\r\n\r\nI have googled and found the following threads\r\nhttps://stackoverflow.com/questions/53123351/how-can-i-create-executable-jars-with-embedded-tomcat-9\r\n\r\nbut where should I add that line of code in the project? In the class &quot;WebServiceServerConfig&quot; annotated with &quot;@Configuration&quot; ? And what should I add?\r\n\r\nHope that somebody help me\r\n\r\n\r\nI have tried the jar package but doesn&#39;t work.","link":"https://stackoverflow.com/questions/77580564/convert-a-war-project-to-jar-project","title":"convert a war project to jar project","body":"<p>I want convert this war project <a href=\"https://github.com/mpuening/learn-webservices-jaxrpc\" rel=\"nofollow noreferrer\">https://github.com/mpuening/learn-webservices-jaxrpc</a> into a jar project.</p>\n<p>I have tried to set in the file pom.xml the jar package but trying to execute the application I'll get the following error\nERROR o.a.a.c.EngineConfigurationFactoryServlet[EngineConfigurationFactoryServlet.java:162] - Unable to find config file. Creating new servlet engine config file: /WEB-INF/server-config.wsdd\nERROR o.a.a.c.EngineConfigurationFactoryServlet[EngineConfigurationFactoryServlet.java:176] - Problem with servlet engine /WEB-INF directory</p>\n<p>WARN o.a.a.c.EngineConfigurationFactoryServlet[EngineConfigurationFactoryServlet.java:184] - Unable to load/create servlet engine config file, attempting internal default (from jar).\nWARN o.apache.axis.utils.JavaUtils[JavaUtils.java:1308] - Unable to find required classes (javax.activation.DataHandler and javax.mail.internet.MimeMultipart). Attachment support is disabled.</p>\n<p>and inside the response I'll get a 500 error response with following body</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\nsoapenv:Body\nsoapenv:Fault\nns1:Server.NoService\nThe AXIS engine could not find a target service to invoke! targetService is WEBPanelServices\n\n&lt;ns2:hostname xmlns:ns2=&quot;http://xml.apache.org/axis/&quot;&gt;PC01A&lt;/ns2:hostname&gt;\n\n&lt;/soapenv:Fault&gt;\n&lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n\n\n</code></pre>\n<p>this happens because setting jar packaging the src/main/webapp directory is ignored and server-config.wsdd is not included in the resulting jar file.</p>\n<p>I have googled and found the following threads\n<a href=\"https://stackoverflow.com/questions/53123351/how-can-i-create-executable-jars-with-embedded-tomcat-9\">How can I create executable jars with embedded tomcat 9?</a></p>\n<p>but where should I add that line of code in the project? In the class &quot;WebServiceServerConfig&quot; annotated with &quot;@Configuration&quot; ? And what should I add?</p>\n<p>Hope that somebody help me</p>\n<p>I have tried the jar package but doesn't work.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","intellij-idea"],"comments":[{"score":1,"post_type":"question","creation_date":1701367813,"post_id":77580555,"comment_id":136769895,"body_markdown":"See https://www.jetbrains.com/idea/features/editions_comparison_matrix.html.","link":"https://stackoverflow.com/questions/77580555/unrecognized-sql-file-type-in-intellij-idea-community-edition#comment136769895_77580555","body":"See <a href=\"https://www.jetbrains.com/idea/features/editions_comparison_matrix.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/features/editions_comparison_matrix.html</a>."}],"comment_count":1,"is_answered":false,"view_count":35,"answer_count":0,"score":0,"last_activity_date":1701365592,"creation_date":1701365592,"question_id":77580555,"body_markdown":"I am following a Spring Boot tutorial in IntelliJ IDEA Community Edition and have encountered an issue where my .sql files are not being recognized as SQL file types. Instead, they are being treated as generic text files or custom file types. \r\n\r\n[files are not being recognized as SQL file types](https://i.stack.imgur.com/SkFtv.png)\r\n\r\nAn example of one of the files-\r\n\r\n[An example of one of the files](https://i.stack.imgur.com/mMx7C.png) \r\n\r\nHow the files look like in the tutorial I am watching-\r\n\r\n[An example of the files in the tutorial](https://i.stack.imgur.com/rIRJG.png)\r\n\r\n*I am using PostgreSQL\r\n\r\nI went to File Types in Settings, but was not able to find a solution\r\nAlso, I downloaded Database Navigator, but the type of the SQL is different.\r\n","link":"https://stackoverflow.com/questions/77580555/unrecognized-sql-file-type-in-intellij-idea-community-edition","title":"Unrecognized .sql File Type in IntelliJ IDEA Community Edition","body":"<p>I am following a Spring Boot tutorial in IntelliJ IDEA Community Edition and have encountered an issue where my .sql files are not being recognized as SQL file types. Instead, they are being treated as generic text files or custom file types.</p>\n<p><a href=\"https://i.stack.imgur.com/SkFtv.png\" rel=\"nofollow noreferrer\">files are not being recognized as SQL file types</a></p>\n<p>An example of one of the files-</p>\n<p><a href=\"https://i.stack.imgur.com/mMx7C.png\" rel=\"nofollow noreferrer\">An example of one of the files</a></p>\n<p>How the files look like in the tutorial I am watching-</p>\n<p><a href=\"https://i.stack.imgur.com/rIRJG.png\" rel=\"nofollow noreferrer\">An example of the files in the tutorial</a></p>\n<p>*I am using PostgreSQL</p>\n<p>I went to File Types in Settings, but was not able to find a solution\nAlso, I downloaded Database Navigator, but the type of the SQL is different.</p>\n"},{"tags":["javascript","java","google-chrome","request","google-chrome-devtools"],"comments":[{"score":0,"post_type":"question","creation_date":1701101098,"post_id":77558259,"comment_id":136730312,"body_markdown":"The &#39;initiator&#39; column in devtools will give you a stacktrace for the event that triggered the request, but it&#39;s down to you to dig through the code to find what you need from there. There&#39;s nothing that&#39;s going to tell you the exact line of code in an event handler without some manual effort","link":"https://stackoverflow.com/questions/77558259/how-to-understand-how-different-requests-are-being-provoked-in-dev-tools#comment136730312_77558259","body":"The &#39;initiator&#39; column in devtools will give you a stacktrace for the event that triggered the request, but it&#39;s down to you to dig through the code to find what you need from there. There&#39;s nothing that&#39;s going to tell you the exact line of code in an event handler without some manual effort"},{"score":0,"post_type":"question","creation_date":1701102324,"post_id":77558259,"comment_id":136730560,"body_markdown":"If by *requests* you mean HTTPS requests, in Chrome devTools there is a **Network** tab, that tab contains a table of all HTTPS requests and it has a column named **Initiator** that indicates what initiated the request.","link":"https://stackoverflow.com/questions/77558259/how-to-understand-how-different-requests-are-being-provoked-in-dev-tools#comment136730560_77558259","body":"If by <i>requests</i> you mean HTTPS requests, in Chrome devTools there is a <b>Network</b> tab, that tab contains a table of all HTTPS requests and it has a column named <b>Initiator</b> that indicates what initiated the request."},{"score":0,"post_type":"question","creation_date":1701417267,"post_id":77558259,"comment_id":136775405,"body_markdown":"Thank you! I was able to resolve the issue by looking into the initiator tab and the stacktrace that is has","link":"https://stackoverflow.com/questions/77558259/how-to-understand-how-different-requests-are-being-provoked-in-dev-tools#comment136775405_77558259","body":"Thank you! I was able to resolve the issue by looking into the initiator tab and the stacktrace that is has"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701365484,"creation_date":1701365484,"answer_id":77580539,"question_id":77558259,"body_markdown":"The code itself will not tell you the other of the requests. Think of button1 triggering request1 and button2 triggering request2. If both buttons are shown to the user, then he may click on button1 first, then button2. Or button2 first, then button1. Or only button1. Or only button2. Or button1 and then button1 and then button2. Or none at all. As you can see, the requests to be sent, or their order is not necessarily deterministic.\r\n\r\nBut the good news is that you can open your dev tools, open the network tab, which shows what requests have been shown since the page load (or since your opening of dev tools if it happened later than loading the page) and the order of the requests by default is the order they were sent. So that should help you.","link":"https://stackoverflow.com/questions/77558259/how-to-understand-how-different-requests-are-being-provoked-in-dev-tools/77580539#77580539","title":"How to understand how different requests are being provoked in Dev Tools?","body":"<p>The code itself will not tell you the other of the requests. Think of button1 triggering request1 and button2 triggering request2. If both buttons are shown to the user, then he may click on button1 first, then button2. Or button2 first, then button1. Or only button1. Or only button2. Or button1 and then button1 and then button2. Or none at all. As you can see, the requests to be sent, or their order is not necessarily deterministic.</p>\n<p>But the good news is that you can open your dev tools, open the network tab, which shows what requests have been shown since the page load (or since your opening of dev tools if it happened later than loading the page) and the order of the requests by default is the order they were sent. So that should help you.</p>\n"}],"comment_count":3,"is_answered":true,"view_count":39,"answer_count":1,"score":1,"last_activity_date":1701365484,"creation_date":1701100601,"question_id":77558259,"body_markdown":"I have a web application, the backend is on Java, while the front end is using JS, how can I understand when I open dev tools how requests are being provoked, is there a part of the code which shows the order of execution of initial request when the website is loading. I am new to web programming and I don&#39;t understand how this process is working.","link":"https://stackoverflow.com/questions/77558259/how-to-understand-how-different-requests-are-being-provoked-in-dev-tools","title":"How to understand how different requests are being provoked in Dev Tools?","body":"<p>I have a web application, the backend is on Java, while the front end is using JS, how can I understand when I open dev tools how requests are being provoked, is there a part of the code which shows the order of execution of initial request when the website is loading. I am new to web programming and I don't understand how this process is working.</p>\n"},{"tags":["java","image","file","animation","directory"],"comments":[{"score":2,"post_type":"question","creation_date":1701313308,"post_id":77575555,"comment_id":136761340,"body_markdown":"So, assuming for a second that the images are embedded resources (ie included in your Jar), then `int numImgs = new File(&quot;/res/moon/&quot;).listFiles().length;` isn&#39;t going to work, as `/res/moon` is not longer a directory, it&#39;s actually a zip entry.  There is a really (imho) janky way to this, but it&#39;s some what error prone the resources exist in different jars/libraries, so, instead, what I prefer to do, is generate a text file which can be included.","link":"https://stackoverflow.com/questions/77575555/importing-a-set-of-images-from-a-resource-folder-in-java#comment136761340_77575555","body":"So, assuming for a second that the images are embedded resources (ie included in your Jar), then <code>int numImgs = new File(&quot;&#47;res&#47;moon&#47;&quot;).listFiles().length;</code> isn&#39;t going to work, as <code>&#47;res&#47;moon</code> is not longer a directory, it&#39;s actually a zip entry.  There is a really (imho) janky way to this, but it&#39;s some what error prone the resources exist in different jars/libraries, so, instead, what I prefer to do, is generate a text file which can be included."},{"score":1,"post_type":"question","creation_date":1701313315,"post_id":77575555,"comment_id":136761341,"body_markdown":"This would list all the resources.  At runtime, you&#39;d read this file (using `Class#getResource` or `Class#getResourceAsStream`) and then you&#39;d iterate over this list, loading the resource.  You could generate the &quot;list file&quot; either manually or as part of your build process","link":"https://stackoverflow.com/questions/77575555/importing-a-set-of-images-from-a-resource-folder-in-java#comment136761341_77575555","body":"This would list all the resources.  At runtime, you&#39;d read this file (using <code>Class#getResource</code> or <code>Class#getResourceAsStream</code>) and then you&#39;d iterate over this list, loading the resource.  You could generate the &quot;list file&quot; either manually or as part of your build process"},{"score":2,"post_type":"question","creation_date":1701313455,"post_id":77575555,"comment_id":136761353,"body_markdown":"If you know, ahead of time, the number of images, just make that number of iterations","link":"https://stackoverflow.com/questions/77575555/importing-a-set-of-images-from-a-resource-folder-in-java#comment136761353_77575555","body":"If you know, ahead of time, the number of images, just make that number of iterations"},{"score":0,"post_type":"question","creation_date":1701359429,"post_id":77575555,"comment_id":136768271,"body_markdown":"I misread the question, so I deleted my answer. However, there is still a problem trying to do integer addition and string concatenation at once. You need to add parenthesis like `&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;` (or just loop from 1 instead of 0 and don&#39;t add 1), otherwise you&#39;ll get `/res/moon/01.png` and another NPE...","link":"https://stackoverflow.com/questions/77575555/importing-a-set-of-images-from-a-resource-folder-in-java#comment136768271_77575555","body":"I misread the question, so I deleted my answer. However, there is still a problem trying to do integer addition and string concatenation at once. You need to add parenthesis like <code>&quot;&#47;res&#47;moon&#47;&quot; + (i + 1) + &quot;.png&quot;</code> (or just loop from 1 instead of 0 and don&#39;t add 1), otherwise you&#39;ll get <code>&#47;res&#47;moon&#47;01.png</code> and another NPE..."},{"score":0,"post_type":"question","creation_date":1701578175,"post_id":77575555,"comment_id":136792431,"body_markdown":"I am fairly new to Java and stack, so bare with me. I was hoping to be able to use it on directories that I may add in to get the number of files. The answer solve my issue, and showed me the proper way to import images.","link":"https://stackoverflow.com/questions/77575555/importing-a-set-of-images-from-a-resource-folder-in-java#comment136792431_77575555","body":"I am fairly new to Java and stack, so bare with me. I was hoping to be able to use it on directories that I may add in to get the number of files. The answer solve my issue, and showed me the proper way to import images."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701365081,"creation_date":1701365081,"answer_id":77580486,"question_id":77575555,"body_markdown":"Specifying `/res/moon/` is a File object means something very different from specifying the same string as a resource path.\r\n\r\n`new File(&quot;/res/moon&quot;)` refers to a “res” directory *in the root of your drive,* not in your project.  On Windows, this probably refers to `C:\\res\\moon`.  On other systems, it’s `/res/room` at the root of the file system, alongside /bin, /lib, and /usr.  I doubt this is what you intended.\r\n\r\nThis is where your NullPointerException is coming from:  `listFiles()` fails because you don’t have that directory in the root if your drive.  listFiles returns null when it fails, instead of properly throwing an exception.  (This is a known weakness of the File class.  The File class should not be used anymore, except with APIs that require it;  the replacement for it is the [Path](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html) class and the [Files](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html) class.)\r\n\r\nFor reading internal application resources, one must not use File (or Path).  Not only is it unreliable because it has to make assumptions about your application’s [current working directory](https://en.wikipedia.org/wiki/Working_directory), it also won’t work at all if you ever package your application in a .jar file.\r\n\r\nA .jar file is **one file.**  Resources inside it are not files;  you cannot read them as files.  You cannot list them as files.  They are just parts of a compressed archive.\r\n\r\nSo, how should you get the total number of images?  Easy—you already know.  You said yourself that you have 60 images, so just put something in your class like this:\r\n\r\n    private static final int IMAGE_COUNT = 60;\r\n\r\nYou have another problem here:\r\n\r\n    InputStream is = getClass().getResourceAsStream(&quot;/res/moon/&quot; + i + 1 + &quot;.png&quot;);\r\n\r\nIf you add this line right before it:\r\n\r\n    System.out.println(&quot;/res/moon/&quot; + i + 1 + &quot;.png&quot;);\r\n\r\nYou will see that it’s not doing what you intended.  The `+` operator works left-to-right, so no mathematical addition is taking place.  You can easily fix it with parentheses:\r\n\r\n    InputStream is = getClass().getResourceAsStream(&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;);\r\n    //              math is performed before string concatenation  ↑↑↑↑↑↑↑\r\n\r\nIf you look at the documentation for [the methods of ImageIO](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/ImageIO.html#method-summary), you will see there is a read(URL) method.  This is much easier to use when loading resources:\r\n\r\n    for (int i = 0; i &lt; IMAGE_COUNT; i++) {\r\n        URL imageLocation = getClass().getResource(&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;);\r\n        moonIdle[i] = ImageIO.read(imageLocation);\r\n    }\r\n\r\nNo need to worry about closing an InputStream.  (Notice the use of getResource instead of getResourceAsStream.)\r\n\r\nInstead of ignoring an IOException for each image, place the entire loop inside one try/catch.  If you can’t load an image, you certainly don’t want to keep going as if nothing’s wrong.\r\n\r\n    try {\r\n        for (int i = 0; i &lt; IMAGE_COUNT; i++) {\r\n            URL imageLocation = getClass().getResource(&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;);\r\n            moonIdle[i] = ImageIO.read(imageLocation);\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nFinally, I assume your application will not work properly without those images loaded, since there won’t be much for a user to see.  Instead of ignoring an IOException, treat it as a fatal error.\r\n\r\n    try {\r\n        for (int i = 0; i &lt; IMAGE_COUNT; i++) {\r\n            String resourcePath = &quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;;\r\n\r\n            URL imageLocation = getClass().getResource(resourcePath);\r\n\r\n            if (imageLocation == null) {\r\n                throw new RuntimeException(\r\n                    &quot;Missing image in application: &quot;\r\n                    + &quot;\\&quot;&quot; + resourcePath + &quot;\\&quot;&quot;);\r\n            }\r\n\r\n            moonIdle[i] = ImageIO.read(imageLocation);\r\n\r\n            if (moonIdle[i] == null) {\r\n                throw new RuntimeException(\r\n                    &quot;Invalid image in application at &quot; + imageLocation);\r\n            }\r\n        }\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(&quot;Cannot load internal image!&quot;, e);\r\n    }\r\n\r\nNotice that the above code does not just call printStackTrace in its catch block and keep going as if nothing’s wrong.  That’s because something *is* wrong—seriously wrong, in fact.  The application cannot run properly without those images!  The correct course of action is to halt the program logic, which is what exceptions are designed to do.  Rarely is it a good idea to just print/log an exception and keep going as if nothing is wrong.\r\n\r\nAlso, notice that the caught exception is itself passed as an argument when constructing the RuntimeException.  This guarantees that the original exception, and its stack trace information, are not lost.  Eventually, some code at some level will print that stack trace, even if it’s Java SE itself who does so.\r\n","link":"https://stackoverflow.com/questions/77575555/importing-a-set-of-images-from-a-resource-folder-in-java/77580486#77580486","title":"Importing a set of images from a resource folder in java","body":"<p>Specifying <code>/res/moon/</code> is a File object means something very different from specifying the same string as a resource path.</p>\n<p><code>new File(&quot;/res/moon&quot;)</code> refers to a “res” directory <em>in the root of your drive,</em> not in your project.  On Windows, this probably refers to <code>C:\\res\\moon</code>.  On other systems, it’s <code>/res/room</code> at the root of the file system, alongside /bin, /lib, and /usr.  I doubt this is what you intended.</p>\n<p>This is where your NullPointerException is coming from:  <code>listFiles()</code> fails because you don’t have that directory in the root if your drive.  listFiles returns null when it fails, instead of properly throwing an exception.  (This is a known weakness of the File class.  The File class should not be used anymore, except with APIs that require it;  the replacement for it is the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\">Path</a> class and the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">Files</a> class.)</p>\n<p>For reading internal application resources, one must not use File (or Path).  Not only is it unreliable because it has to make assumptions about your application’s <a href=\"https://en.wikipedia.org/wiki/Working_directory\" rel=\"nofollow noreferrer\">current working directory</a>, it also won’t work at all if you ever package your application in a .jar file.</p>\n<p>A .jar file is <strong>one file.</strong>  Resources inside it are not files;  you cannot read them as files.  You cannot list them as files.  They are just parts of a compressed archive.</p>\n<p>So, how should you get the total number of images?  Easy—you already know.  You said yourself that you have 60 images, so just put something in your class like this:</p>\n<pre><code>private static final int IMAGE_COUNT = 60;\n</code></pre>\n<p>You have another problem here:</p>\n<pre><code>InputStream is = getClass().getResourceAsStream(&quot;/res/moon/&quot; + i + 1 + &quot;.png&quot;);\n</code></pre>\n<p>If you add this line right before it:</p>\n<pre><code>System.out.println(&quot;/res/moon/&quot; + i + 1 + &quot;.png&quot;);\n</code></pre>\n<p>You will see that it’s not doing what you intended.  The <code>+</code> operator works left-to-right, so no mathematical addition is taking place.  You can easily fix it with parentheses:</p>\n<pre><code>InputStream is = getClass().getResourceAsStream(&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;);\n//              math is performed before string concatenation  ↑↑↑↑↑↑↑\n</code></pre>\n<p>If you look at the documentation for <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/ImageIO.html#method-summary\" rel=\"nofollow noreferrer\">the methods of ImageIO</a>, you will see there is a read(URL) method.  This is much easier to use when loading resources:</p>\n<pre><code>for (int i = 0; i &lt; IMAGE_COUNT; i++) {\n    URL imageLocation = getClass().getResource(&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;);\n    moonIdle[i] = ImageIO.read(imageLocation);\n}\n</code></pre>\n<p>No need to worry about closing an InputStream.  (Notice the use of getResource instead of getResourceAsStream.)</p>\n<p>Instead of ignoring an IOException for each image, place the entire loop inside one try/catch.  If you can’t load an image, you certainly don’t want to keep going as if nothing’s wrong.</p>\n<pre><code>try {\n    for (int i = 0; i &lt; IMAGE_COUNT; i++) {\n        URL imageLocation = getClass().getResource(&quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;);\n        moonIdle[i] = ImageIO.read(imageLocation);\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Finally, I assume your application will not work properly without those images loaded, since there won’t be much for a user to see.  Instead of ignoring an IOException, treat it as a fatal error.</p>\n<pre><code>try {\n    for (int i = 0; i &lt; IMAGE_COUNT; i++) {\n        String resourcePath = &quot;/res/moon/&quot; + (i + 1) + &quot;.png&quot;;\n\n        URL imageLocation = getClass().getResource(resourcePath);\n\n        if (imageLocation == null) {\n            throw new RuntimeException(\n                &quot;Missing image in application: &quot;\n                + &quot;\\&quot;&quot; + resourcePath + &quot;\\&quot;&quot;);\n        }\n\n        moonIdle[i] = ImageIO.read(imageLocation);\n\n        if (moonIdle[i] == null) {\n            throw new RuntimeException(\n                &quot;Invalid image in application at &quot; + imageLocation);\n        }\n    }\n} catch (IOException e) {\n    throw new RuntimeException(&quot;Cannot load internal image!&quot;, e);\n}\n</code></pre>\n<p>Notice that the above code does not just call printStackTrace in its catch block and keep going as if nothing’s wrong.  That’s because something <em>is</em> wrong—seriously wrong, in fact.  The application cannot run properly without those images!  The correct course of action is to halt the program logic, which is what exceptions are designed to do.  Rarely is it a good idea to just print/log an exception and keep going as if nothing is wrong.</p>\n<p>Also, notice that the caught exception is itself passed as an argument when constructing the RuntimeException.  This guarantees that the original exception, and its stack trace information, are not lost.  Eventually, some code at some level will print that stack trace, even if it’s Java SE itself who does so.</p>\n"}],"comment_count":5,"is_answered":false,"view_count":36,"answer_count":1,"score":0,"last_activity_date":1701365081,"creation_date":1701311882,"question_id":77575555,"body_markdown":"I want to import a set of 60 images from a directory folder in my project to bufferedImage[]. I can import a single image but when I try to write a method to import multiple I get a nullPointerException. \r\nspecifically from trying to get the length of the directory *Number of Images* in the directory. I believe it has to do with my file path, but have not been able to find relevant resource to solve my problem.\r\n\r\n** code I am working on **\r\n\r\n```\r\n    private void importImgs() {\r\n        int numImgs = new File(&quot;/res/moon/&quot;).listFiles().length;\r\n        moonIdle =  new BufferedImage[numImgs];\r\n\r\n        \r\n        for(int i = 0; i &lt; numImgs; i++) {\r\n            InputStream is = getClass().getResourceAsStream(&quot;/res/moon/&quot; + i + 1 + &quot;.png&quot;);\r\n            \r\n            try {\r\n                moonIdle[i] = ImageIO.read(is);\r\n\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n\r\n            } finally {\r\n                try {\r\n                    is.close();\r\n\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n** code to import single image working **\r\n\r\n```\r\n    private void importImg() {\r\n        InputStream is = getClass().getResourceAsStream(&quot;/res/moon/1.png&quot;);\r\n        \r\n        try {\r\n            moon = ImageIO.read(is);\r\n            \r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n            \r\n        } finally {\r\n            try {\r\n                is.close();\r\n                \r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI was trying to get the number of images in a directory from my project. I was using \r\n`    int numImgs = new File(&quot;/res/moon/&quot;).listFiles().length;`\r\n\r\nI was hoping to get 60 bc I have 60 images for a animation of a rotating moon. but I get a NullPointerException:\r\n   Cannot read the array length because the return value of\r\n   &quot;java.io.File.listFiles()&quot; is null","link":"https://stackoverflow.com/questions/77575555/importing-a-set-of-images-from-a-resource-folder-in-java","title":"Importing a set of images from a resource folder in java","body":"<p>I want to import a set of 60 images from a directory folder in my project to bufferedImage[]. I can import a single image but when I try to write a method to import multiple I get a nullPointerException.\nspecifically from trying to get the length of the directory <em>Number of Images</em> in the directory. I believe it has to do with my file path, but have not been able to find relevant resource to solve my problem.</p>\n<p>** code I am working on **</p>\n<pre><code>    private void importImgs() {\n        int numImgs = new File(&quot;/res/moon/&quot;).listFiles().length;\n        moonIdle =  new BufferedImage[numImgs];\n\n        \n        for(int i = 0; i &lt; numImgs; i++) {\n            InputStream is = getClass().getResourceAsStream(&quot;/res/moon/&quot; + i + 1 + &quot;.png&quot;);\n            \n            try {\n                moonIdle[i] = ImageIO.read(is);\n\n            } catch (IOException ex) {\n                ex.printStackTrace();\n\n            } finally {\n                try {\n                    is.close();\n\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>** code to import single image working **</p>\n<pre><code>    private void importImg() {\n        InputStream is = getClass().getResourceAsStream(&quot;/res/moon/1.png&quot;);\n        \n        try {\n            moon = ImageIO.read(is);\n            \n        } catch (IOException ex) {\n            ex.printStackTrace();\n            \n        } finally {\n            try {\n                is.close();\n                \n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>I was trying to get the number of images in a directory from my project. I was using\n<code>    int numImgs = new File(&quot;/res/moon/&quot;).listFiles().length;</code></p>\n<p>I was hoping to get 60 bc I have 60 images for a animation of a rotating moon. but I get a NullPointerException:\nCannot read the array length because the return value of\n&quot;java.io.File.listFiles()&quot; is null</p>\n"},{"tags":["java","spring-boot","pentaho","kettle"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701364267,"creation_date":1701364267,"answer_id":77580388,"question_id":77562518,"body_markdown":"Have you tried handling the error / exception in an &quot;Error Handling&quot; flow. In Pentaho Data Validator step, you can handle the errors by using the error handling step. Read this blog post to learn more about the [Error Handling in Pentaho](https://tech-spaghetti.com/2014/11/27/handling-error-in-pentaho-data-integration/).","link":"https://stackoverflow.com/questions/77562518/pentaho-kettle-embedded-transformation-error-handling-in-java-application/77580388#77580388","title":"Pentaho kettle embedded transformation error handling in JAVA application","body":"<p>Have you tried handling the error / exception in an &quot;Error Handling&quot; flow. In Pentaho Data Validator step, you can handle the errors by using the error handling step. Read this blog post to learn more about the <a href=\"https://tech-spaghetti.com/2014/11/27/handling-error-in-pentaho-data-integration/\" rel=\"nofollow noreferrer\">Error Handling in Pentaho</a>.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":25,"answer_count":1,"score":0,"last_activity_date":1701364267,"creation_date":1701162352,"question_id":77562518,"body_markdown":"I&#39;m testing the [kettle-sdk-embedding-sample][1]s with a simple transformation containing a &quot;data validator&quot; and a &quot;User defined Java expression&quot; step. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nOne of the tests consists of treating junk data to verify error handling. Depending of the data, errors occur in one of the two steps. I expected an exception to be raised and catched is the main calling java function [here][3] but actually it is not. An exception is raised and catched somewhere under the hood and the stack trace logged (see bellow an example). The application&#39;s catch code is never reached.\r\n\r\nIs this designed on purpose? Is there any way to configure the engine to throw exceptions to the application for custom error handling? If not where is done in engine&#39;s code? I havent&#39; been able to see where it&#39;s done to see if there is a way to deal with it\r\n\r\nThank you\r\n\r\n    [2023/11/27 15:43:00 - User defined Java expression.0 - ERROR (version 9.4.0.1-467, build 0.0 from 2023-03-30 03.02.48 by buildguy) : Unexpected error\r\n    \u001B\\[2m2023-11-27T15:43:00.670+01:00\u001B\\[0;39m \u001B\\[31mERROR\u001B\\[0;39m \u001B\\[35m30800\u001B\\[0;39m \u001B\\[2m---\u001B\\[0;39m \u001B\\[2m\\[Java expression\\]\u001B\\[0;39m \u001B\\[36morg.pentaho.di.trans.Trans              \u001B\\[0;39m \u001B\\[2m:\u001B\\[0;39m \\[etl/Chargement.ktr\\]  Unexpected error\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - ERROR (version 9.4.0.1-467, build 0.0 from 2023-03-30 03.02.48 by buildguy) : org.pentaho.di.core.exception.KettleException: \r\n    2023/11/27 15:43:00 - User defined Java expression.0 - org.pentaho.di.core.exception.KettleValueException: \r\n    2023/11/27 15:43:00 - User defined Java expression.0 - java.lang.reflect.InvocationTargetException\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.Thread.run (Thread.java:833)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.step.RunThread.run (RunThread.java:62)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.processRow (Janino.java:104)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.calcFields (Janino.java:191)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:533)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:541)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.reflect.Method.invoke (Method.java:568)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (NativeMethodAccessorImpl.java:-2)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - \r\n    2023/11/27 15:43:00 - User defined Java expression.0 - \r\n    2023/11/27 15:43:00 - User defined Java expression.0 - java.lang.reflect.InvocationTargetException\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.Thread.run (Thread.java:833)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.step.RunThread.run (RunThread.java:62)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.processRow (Janino.java:104)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.calcFields (Janino.java:191)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:533)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:541)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.reflect.Method.invoke (Method.java:568)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (NativeMethodAccessorImpl.java:-2)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - \r\n    2023/11/27 15:43:00 - User defined Java expression.0 - \r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.processRow(Janino.java:113)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.step.RunThread.run(RunThread.java:62)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/java.lang.Thread.run(Thread.java:833)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - Caused by: org.pentaho.di.core.exception.KettleValueException: \r\n    2023/11/27 15:43:00 - User defined Java expression.0 - java.lang.reflect.InvocationTargetException\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.Thread.run (Thread.java:833)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.step.RunThread.run (RunThread.java:62)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.processRow (Janino.java:104)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.calcFields (Janino.java:191)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:533)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:541)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.reflect.Method.invoke (Method.java:568)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (NativeMethodAccessorImpl.java:-2)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - \r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.calcFields(Janino.java:220)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.processRow(Janino.java:104)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     ... 2 more\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - Caused by: java.lang.reflect.InvocationTargetException\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.codehaus.janino.ExpressionEvaluator.evaluate(ExpressionEvaluator.java:541)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.codehaus.janino.ExpressionEvaluator.evaluate(ExpressionEvaluator.java:533)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.calcFields(Janino.java:191)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     ... 3 more\r\n    2023/11/27 15:43:00 - User defined Java expression.0 - Caused by: java.lang.NullPointerException: Cannot read field &quot;value&quot; because &quot;original&quot; is null\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/java.lang.String.&lt;init&gt;(String.java:260)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     at SC.eval0(Unknown Source)\r\n    2023/11/27 15:43:00 - User defined Java expression.0 -     ... 10 more][2]\r\n\r\n\r\n  [1]: https://github.com/pentaho/pdi-sdk-plugins/tree/master/kettle-sdk-embedding-samples\r\n  [2]: https://i.stack.imgur.com/0tCBQ.png\r\n  [3]: https://github.com/pentaho/pdi-sdk-plugins/blob/1422c3c8e651ed065c121ac834c855a8c809b295/kettle-sdk-embedding-samples/src/main/java/org/pentaho/di/sdk/samples/embedding/RunningTransformations.java#L163","link":"https://stackoverflow.com/questions/77562518/pentaho-kettle-embedded-transformation-error-handling-in-java-application","title":"Pentaho kettle embedded transformation error handling in JAVA application","body":"<p>I'm testing the <a href=\"https://github.com/pentaho/pdi-sdk-plugins/tree/master/kettle-sdk-embedding-samples\" rel=\"nofollow noreferrer\">kettle-sdk-embedding-sample</a>s with a simple transformation containing a &quot;data validator&quot; and a &quot;User defined Java expression&quot; step.</p>\n<p><a href=\"https://i.stack.imgur.com/0tCBQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0tCBQ.png\" alt=\"enter image description here\" /></a></p>\n<p>One of the tests consists of treating junk data to verify error handling. Depending of the data, errors occur in one of the two steps. I expected an exception to be raised and catched is the main calling java function <a href=\"https://github.com/pentaho/pdi-sdk-plugins/blob/1422c3c8e651ed065c121ac834c855a8c809b295/kettle-sdk-embedding-samples/src/main/java/org/pentaho/di/sdk/samples/embedding/RunningTransformations.java#L163\" rel=\"nofollow noreferrer\">here</a> but actually it is not. An exception is raised and catched somewhere under the hood and the stack trace logged (see bellow an example). The application's catch code is never reached.</p>\n<p>Is this designed on purpose? Is there any way to configure the engine to throw exceptions to the application for custom error handling? If not where is done in engine's code? I havent' been able to see where it's done to see if there is a way to deal with it</p>\n<p>Thank you</p>\n<pre><code>[2023/11/27 15:43:00 - User defined Java expression.0 - ERROR (version 9.4.0.1-467, build 0.0 from 2023-03-30 03.02.48 by buildguy) : Unexpected error\n\\[2m2023-11-27T15:43:00.670+01:00\\[0;39m \\[31mERROR\\[0;39m \\[35m30800\\[0;39m \\[2m---\\[0;39m \\[2m\\[Java expression\\]\\[0;39m \\[36morg.pentaho.di.trans.Trans              \\[0;39m \\[2m:\\[0;39m \\[etl/Chargement.ktr\\]  Unexpected error\n2023/11/27 15:43:00 - User defined Java expression.0 - ERROR (version 9.4.0.1-467, build 0.0 from 2023-03-30 03.02.48 by buildguy) : org.pentaho.di.core.exception.KettleException: \n2023/11/27 15:43:00 - User defined Java expression.0 - org.pentaho.di.core.exception.KettleValueException: \n2023/11/27 15:43:00 - User defined Java expression.0 - java.lang.reflect.InvocationTargetException\n2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.Thread.run (Thread.java:833)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.step.RunThread.run (RunThread.java:62)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.processRow (Janino.java:104)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.calcFields (Janino.java:191)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:533)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:541)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.reflect.Method.invoke (Method.java:568)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (NativeMethodAccessorImpl.java:-2)\n2023/11/27 15:43:00 - User defined Java expression.0 - \n2023/11/27 15:43:00 - User defined Java expression.0 - \n2023/11/27 15:43:00 - User defined Java expression.0 - java.lang.reflect.InvocationTargetException\n2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.Thread.run (Thread.java:833)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.step.RunThread.run (RunThread.java:62)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.processRow (Janino.java:104)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.calcFields (Janino.java:191)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:533)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:541)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.reflect.Method.invoke (Method.java:568)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (NativeMethodAccessorImpl.java:-2)\n2023/11/27 15:43:00 - User defined Java expression.0 - \n2023/11/27 15:43:00 - User defined Java expression.0 - \n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.processRow(Janino.java:113)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.step.RunThread.run(RunThread.java:62)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/java.lang.Thread.run(Thread.java:833)\n2023/11/27 15:43:00 - User defined Java expression.0 - Caused by: org.pentaho.di.core.exception.KettleValueException: \n2023/11/27 15:43:00 - User defined Java expression.0 - java.lang.reflect.InvocationTargetException\n2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.Thread.run (Thread.java:833)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.step.RunThread.run (RunThread.java:62)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.processRow (Janino.java:104)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.pentaho.di.trans.steps.janino.Janino.calcFields (Janino.java:191)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:533)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at org.codehaus.janino.ExpressionEvaluator.evaluate (ExpressionEvaluator.java:541)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at java.lang.reflect.Method.invoke (Method.java:568)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n2023/11/27 15:43:00 - User defined Java expression.0 -  at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (NativeMethodAccessorImpl.java:-2)\n2023/11/27 15:43:00 - User defined Java expression.0 - \n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.calcFields(Janino.java:220)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.processRow(Janino.java:104)\n2023/11/27 15:43:00 - User defined Java expression.0 -     ... 2 more\n2023/11/27 15:43:00 - User defined Java expression.0 - Caused by: java.lang.reflect.InvocationTargetException\n2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.codehaus.janino.ExpressionEvaluator.evaluate(ExpressionEvaluator.java:541)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.codehaus.janino.ExpressionEvaluator.evaluate(ExpressionEvaluator.java:533)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at org.pentaho.di.trans.steps.janino.Janino.calcFields(Janino.java:191)\n2023/11/27 15:43:00 - User defined Java expression.0 -     ... 3 more\n2023/11/27 15:43:00 - User defined Java expression.0 - Caused by: java.lang.NullPointerException: Cannot read field &quot;value&quot; because &quot;original&quot; is null\n2023/11/27 15:43:00 - User defined Java expression.0 -     at java.base/java.lang.String.&lt;init&gt;(String.java:260)\n2023/11/27 15:43:00 - User defined Java expression.0 -     at SC.eval0(Unknown Source)\n2023/11/27 15:43:00 - User defined Java expression.0 -     ... 10 more][2]\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"score":1,"post_type":"question","creation_date":1701230848,"post_id":77567671,"comment_id":136748789,"body_markdown":"Find the generated class inside `target/classes/yourpackage` &amp; look if there&#39;re a Type class inside. Also, you can post the full class body in the post.","link":"https://stackoverflow.com/questions/77567671/mapstruct-internal-error-in-mapping-processor-java-lang-nullpointerexecption-at#comment136748789_77567671","body":"Find the generated class inside <code>target&#47;classes&#47;yourpackage</code> &amp; look if there&#39;re a Type class inside. Also, you can post the full class body in the post."},{"score":0,"post_type":"question","creation_date":1701248255,"post_id":77567671,"comment_id":136750860,"body_markdown":"I have class which name is Type. I renamed, even though it keep showing same error.","link":"https://stackoverflow.com/questions/77567671/mapstruct-internal-error-in-mapping-processor-java-lang-nullpointerexecption-at#comment136750860_77567671","body":"I have class which name is Type. I renamed, even though it keep showing same error."},{"score":0,"post_type":"question","creation_date":1701293783,"post_id":77567671,"comment_id":136759402,"body_markdown":"@MohamedMamun can you share ENTITY, DTO and MAPPER ?","link":"https://stackoverflow.com/questions/77567671/mapstruct-internal-error-in-mapping-processor-java-lang-nullpointerexecption-at#comment136759402_77567671","body":"@MohamedMamun can you share ENTITY, DTO and MAPPER ?"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701363411,"creation_date":1701363411,"answer_id":77580282,"question_id":77567671,"body_markdown":"just add @NoArgsConstructor annotation. \r\n\r\n    @Data\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    public class Football extends Sports{\r\n\r\n    }","link":"https://stackoverflow.com/questions/77567671/mapstruct-internal-error-in-mapping-processor-java-lang-nullpointerexecption-at/77580282#77580282","title":"Mapstruct Internal error in mapping processor: Java.lang.NullPointerExecption at org.mapstruct.ap.internal.model.Type.hasAccessibleConstructor","body":"<p>just add @NoArgsConstructor annotation.</p>\n<pre><code>@Data\n@SuperBuilder\n@NoArgsConstructor\npublic class Football extends Sports{\n\n}\n</code></pre>\n"}],"comment_count":3,"is_answered":false,"view_count":70,"answer_count":1,"score":0,"last_activity_date":1701363411,"creation_date":1701212937,"question_id":77567671,"body_markdown":"    lombok: 1.18.30\r\n    org.mapstruct.version: 1.4.2.Final\r\n    JDK 11\r\n    Intellij 2023.2.5 Community Eddition\r\n\r\nI am trying to use Mapstruct to map Some objects. Whenever I try to compile using `mvn -clean install`. It gives the next error\r\n\r\n    Internal error in the mapping processor: java.lang.NullPointerException at org.mapstruct.ap.internal.model.common.Type.hasAccessibleConstructor(Type.java:1078)\r\n\r\nWhenever I click on `Type.java:1078`, it takes me to `Sports.java`\r\n\r\nI have two objects: Sports and Football.\r\nFotball extends from Sports.\r\n\r\n        @Data\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @SuperBuilder\r\n        @Jacksonized\r\n        @EqualsAndHashCode\r\n        public class Sports { \r\n          private String name;\r\n          private String foundation_year;\r\n        }\r\n\r\n  \r\n//Fotball\r\n\r\n    @Data\r\n    @SuperBuilder\r\n    public class Football extends Sports{\r\n    \r\n    }\r\n","link":"https://stackoverflow.com/questions/77567671/mapstruct-internal-error-in-mapping-processor-java-lang-nullpointerexecption-at","title":"Mapstruct Internal error in mapping processor: Java.lang.NullPointerExecption at org.mapstruct.ap.internal.model.Type.hasAccessibleConstructor","body":"<pre><code>lombok: 1.18.30\norg.mapstruct.version: 1.4.2.Final\nJDK 11\nIntellij 2023.2.5 Community Eddition\n</code></pre>\n<p>I am trying to use Mapstruct to map Some objects. Whenever I try to compile using <code>mvn -clean install</code>. It gives the next error</p>\n<pre><code>Internal error in the mapping processor: java.lang.NullPointerException at org.mapstruct.ap.internal.model.common.Type.hasAccessibleConstructor(Type.java:1078)\n</code></pre>\n<p>Whenever I click on <code>Type.java:1078</code>, it takes me to <code>Sports.java</code></p>\n<p>I have two objects: Sports and Football.\nFotball extends from Sports.</p>\n<pre><code>    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @SuperBuilder\n    @Jacksonized\n    @EqualsAndHashCode\n    public class Sports { \n      private String name;\n      private String foundation_year;\n    }\n</code></pre>\n<p>//Fotball</p>\n<pre><code>@Data\n@SuperBuilder\npublic class Football extends Sports{\n\n}\n</code></pre>\n"},{"tags":["java","substring"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1701341656,"creation_date":1701341656,"answer_id":77577845,"question_id":77577701,"body_markdown":"You cannot archieve that using `substring()` method, because `substring(int beginIndex, int endIndex)` yields only characters that are in range of &lt;beginIndex; endIndex). So the `endIndex` must be greater then `beginIndex`.\r\n\r\nFor example\r\n`&quot;welcome&quot;.substring(3,6);` would yield &quot;com&quot;, because &quot;c&quot; is at index &quot;3&quot; of &quot;welcome&quot; string (remember that we are counting from &quot;0&quot;), and the &quot;m&quot; is **before** the index &quot;6&quot; (because the `endIndex` is exclusive, as the docs says):\r\n```\r\nParams:\r\nbeginIndex – the beginning index, inclusive. \r\nendIndex – the ending index, exclusive.\r\n```\r\n\r\n\r\nInstead, you should travel letter by letter and collect the letters using modulo operation. For example like this:\r\n```java\r\nString string = &quot;welcome&quot;;\r\nint substringLength = 3;\r\nString[] stringArray = new String[string.length()];\r\n\r\nfor (int j = 0; j &lt; string.length(); j++) {\r\n    StringBuilder substringBuilder = new StringBuilder();\r\n    for (int i = 0; i &lt; substringLength; i++) {\r\n        substringBuilder.append(string.charAt((j + i) % string.length()));\r\n    }\r\n    stringArray[j] = substringBuilder.toString();\r\n}\r\n\r\nfor (String d : stringArray) {\r\n    System.out.println(d);\r\n}\r\n```","link":"https://stackoverflow.com/questions/77577701/creating-a-substring-of-three-from-a-string-welcome/77577845#77577845","title":"creating a substring of three from a string &quot;welcome&quot;","body":"<p>You cannot archieve that using <code>substring()</code> method, because <code>substring(int beginIndex, int endIndex)</code> yields only characters that are in range of &lt;beginIndex; endIndex). So the <code>endIndex</code> must be greater then <code>beginIndex</code>.</p>\n<p>For example\n<code>&quot;welcome&quot;.substring(3,6);</code> would yield &quot;com&quot;, because &quot;c&quot; is at index &quot;3&quot; of &quot;welcome&quot; string (remember that we are counting from &quot;0&quot;), and the &quot;m&quot; is <strong>before</strong> the index &quot;6&quot; (because the <code>endIndex</code> is exclusive, as the docs says):</p>\n<pre><code>Params:\nbeginIndex – the beginning index, inclusive. \nendIndex – the ending index, exclusive.\n</code></pre>\n<p>Instead, you should travel letter by letter and collect the letters using modulo operation. For example like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;welcome&quot;;\nint substringLength = 3;\nString[] stringArray = new String[string.length()];\n\nfor (int j = 0; j &lt; string.length(); j++) {\n    StringBuilder substringBuilder = new StringBuilder();\n    for (int i = 0; i &lt; substringLength; i++) {\n        substringBuilder.append(string.charAt((j + i) % string.length()));\n    }\n    stringArray[j] = substringBuilder.toString();\n}\n\nfor (String d : stringArray) {\n    System.out.println(d);\n}\n</code></pre>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1701439591,"post_id":77577993,"comment_id":136779058,"body_markdown":"Seems clunky to create the concatStr, but given OP is clearly doing a homework assignment I&#39;m sure this is fine.","link":"https://stackoverflow.com/questions/77577701/creating-a-substring-of-three-from-a-string-welcome/77577993#comment136779058_77577993","body":"Seems clunky to create the concatStr, but given OP is clearly doing a homework assignment I&#39;m sure this is fine."}],"comment_count":1,"score":3,"last_activity_date":1701362132,"last_edit_date":1701362132,"creation_date":1701343201,"answer_id":77577993,"question_id":77577701,"body_markdown":"I guess this code  will be easier to understand.\r\n```java\r\n        String str = &quot;welcome&quot;;\r\n        String concatStr = str + str;\r\n        String[] strArr = new String[str.length()];\r\n        for (int j = 0; j &lt; str.length(); j++) {\r\n            strArr[j] = concatStr.substring(j, j + 3);\r\n        }\r\n\r\n        for (String d : strArr)\r\n            System.out.println(d);\r\n```","link":"https://stackoverflow.com/questions/77577701/creating-a-substring-of-three-from-a-string-welcome/77577993#77577993","title":"creating a substring of three from a string &quot;welcome&quot;","body":"<p>I guess this code  will be easier to understand.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String str = &quot;welcome&quot;;\n        String concatStr = str + str;\n        String[] strArr = new String[str.length()];\n        for (int j = 0; j &lt; str.length(); j++) {\n            strArr[j] = concatStr.substring(j, j + 3);\n        }\n\n        for (String d : strArr)\n            System.out.println(d);\n</code></pre>\n"},{"comment_count":0,"score":1,"last_activity_date":1701346056,"creation_date":1701346056,"answer_id":77578306,"question_id":77577701,"body_markdown":"Well, your for loop needs to iterate exactly `string.length()` times, so `j &lt; string.length() - 2` is too few iterations.\r\n\r\nHowever, there&#39;s a number of ways to achieve this.\r\n\r\n* You could copy the beginning of the string to the end of it, so you can easily just use `substring(j, j + 3)`:\r\n\r\n    ```java\r\n    String ss = string + string.substring(0, 3);\r\n    String[] stringArray = new String[string.length()];\r\n    for (int j = 0; j &lt; string.length(); j++) {\r\n        stringArray[j] = ss.substring(j, j + 3);\r\n    }\r\n    ```\r\n\r\n* You could also add a portion of the beginning of the string if you are almost at the end:\r\n\r\n    ```java\r\n    String[] stringArray = new String[string.length()];\r\n    for (int j = 0; j &lt; string.length(); j++) {\r\n        String result = string.substring(j, Math.min(j + 3, string.length()));\r\n        if (j + 3 &gt;= string.length()) {\r\n            result += string.substring(0, j + 3 - string.length());\r\n        }\r\n        stringArray[j] = result;\r\n    }\r\n    ```","link":"https://stackoverflow.com/questions/77577701/creating-a-substring-of-three-from-a-string-welcome/77578306#77578306","title":"creating a substring of three from a string &quot;welcome&quot;","body":"<p>Well, your for loop needs to iterate exactly <code>string.length()</code> times, so <code>j &lt; string.length() - 2</code> is too few iterations.</p>\n<p>However, there's a number of ways to achieve this.</p>\n<ul>\n<li><p>You could copy the beginning of the string to the end of it, so you can easily just use <code>substring(j, j + 3)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String ss = string + string.substring(0, 3);\nString[] stringArray = new String[string.length()];\nfor (int j = 0; j &lt; string.length(); j++) {\n    stringArray[j] = ss.substring(j, j + 3);\n}\n</code></pre>\n</li>\n<li><p>You could also add a portion of the beginning of the string if you are almost at the end:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] stringArray = new String[string.length()];\nfor (int j = 0; j &lt; string.length(); j++) {\n    String result = string.substring(j, Math.min(j + 3, string.length()));\n    if (j + 3 &gt;= string.length()) {\n        result += string.substring(0, j + 3 - string.length());\n    }\n    stringArray[j] = result;\n}\n</code></pre>\n</li>\n</ul>\n"}],"comment_count":0,"is_answered":true,"view_count":89,"answer_count":3,"score":0,"last_activity_date":1701362132,"creation_date":1701340421,"question_id":77577701,"body_markdown":"I&#39;m new to the Java world and I came across a problem. Please have a look and help me in this case. \r\n\r\nI have taken a string as &quot;welcome&quot; and I need to store the substrings of 3.\r\nAnd I&#39;m expecting the elements as &quot;wel&quot;, &quot;elc&quot;, &quot;lco&quot;, &quot;com&quot;, &quot;ome&quot;, &quot;mew&quot;, &quot;ewe&quot;. \r\n\r\nAnd I&#39;m getting the output as\r\nwel\r\nelc\r\nlco\r\ncom\r\nome\r\nnull\r\nnull\r\n\r\nI didn&#39;t understand how to iterate for the last two elements. \r\n\r\n\r\n    String string = &quot;welcome&quot;;\r\n    String stringArray[] = new String[string.length()];\r\n    for (int j = 0; j &lt; string.length() - 2; j++) {\r\n        stringArray[j] = string.substring(j, j + 3);\r\n    }\r\n\r\n    for (String d : stringArray)\r\n        System.out.println(d);\r\n\r\nI have tried this. Can anyone please help in this. Thankyou.","link":"https://stackoverflow.com/questions/77577701/creating-a-substring-of-three-from-a-string-welcome","title":"creating a substring of three from a string &quot;welcome&quot;","body":"<p>I'm new to the Java world and I came across a problem. Please have a look and help me in this case.</p>\n<p>I have taken a string as &quot;welcome&quot; and I need to store the substrings of 3.\nAnd I'm expecting the elements as &quot;wel&quot;, &quot;elc&quot;, &quot;lco&quot;, &quot;com&quot;, &quot;ome&quot;, &quot;mew&quot;, &quot;ewe&quot;.</p>\n<p>And I'm getting the output as\nwel\nelc\nlco\ncom\nome\nnull\nnull</p>\n<p>I didn't understand how to iterate for the last two elements.</p>\n<pre><code>String string = &quot;welcome&quot;;\nString stringArray[] = new String[string.length()];\nfor (int j = 0; j &lt; string.length() - 2; j++) {\n    stringArray[j] = string.substring(j, j + 3);\n}\n\nfor (String d : stringArray)\n    System.out.println(d);\n</code></pre>\n<p>I have tried this. Can anyone please help in this. Thankyou.</p>\n"},{"tags":["java","gradle","java-21"],"comments":[{"score":11,"post_type":"question","creation_date":1695196812,"post_id":77140377,"comment_id":135990293,"body_markdown":"“no information”? That seems like pretty clear information to me. Current Gradle does not support current Java. That seems to be usual, Gradle tends to lag behind current technologies.","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21#comment135990293_77140377","body":"“no information”? That seems like pretty clear information to me. Current Gradle does not support current Java. That seems to be usual, Gradle tends to lag behind current technologies."},{"score":2,"post_type":"question","creation_date":1695196901,"post_id":77140377,"comment_id":135990313,"body_markdown":"You can watch https://github.com/gradle/gradle/issues/25574 for the news.","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21#comment135990313_77140377","body":"You can watch <a href=\"https://github.com/gradle/gradle/issues/25574\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/25574</a> for the news."},{"score":3,"post_type":"question","creation_date":1695403030,"post_id":77140377,"comment_id":136024604,"body_markdown":"Unless I&#39;m missing something, this doesn&#39;t feel like a question that should have been closed (in general, and specifically as seeking recommendations for tools, etc.).  It has a current concrete answer (it&#39;s not yet supported, but will be with [gradle#25574](https://github.com/gradle/gradle/issues/25574)).  As well as the related answer that you should still be able to build a Java 21 project with Gradle running under an earlier version of Java using tool `java { toolchain { languageVersion = 21 } }`","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21#comment136024604_77140377","body":"Unless I&#39;m missing something, this doesn&#39;t feel like a question that should have been closed (in general, and specifically as seeking recommendations for tools, etc.).  It has a current concrete answer (it&#39;s not yet supported, but will be with <a href=\"https://github.com/gradle/gradle/issues/25574\" rel=\"nofollow noreferrer\">gradle#25574</a>).  As well as the related answer that you should still be able to build a Java 21 project with Gradle running under an earlier version of Java using tool <code>java { toolchain { languageVersion = 21 } }</code>"},{"score":2,"post_type":"question","creation_date":1695465216,"post_id":77140377,"comment_id":136030127,"body_markdown":"@M.Justin The question is already answered by the quote from the OP: there is currently no version which supports Java 21. There is no real question, so the close is valid. And asking what future version will support Java 21 will either solicit opinion/guesses, or is a request for external resources (e.g. a roadmap).","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21#comment136030127_77140377","body":"@M.Justin The question is already answered by the quote from the OP: there is currently no version which supports Java 21. There is no real question, so the close is valid. And asking what future version will support Java 21 will either solicit opinion/guesses, or is a request for external resources (e.g. a roadmap)."},{"score":1,"post_type":"question","creation_date":1695626250,"post_id":77140377,"comment_id":136044219,"body_markdown":"If you are using Kotlin, then you can change Kotlin version to 1.9.20-Beta2, It&#39;s fixed my problem","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21#comment136044219_77140377","body":"If you are using Kotlin, then you can change Kotlin version to 1.9.20-Beta2, It&#39;s fixed my problem"},{"score":0,"post_type":"question","creation_date":1695721483,"post_id":77140377,"comment_id":136059168,"body_markdown":"`./gradlew wrapper --gradle-version 8.3 --distribution-type bin` fixed weird warnings in intellij and weird test fails on the command line for me. My previous gradle version was 8.2.","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21#comment136059168_77140377","body":"<code>.&#47;gradlew wrapper --gradle-version 8.3 --distribution-type bin</code> fixed weird warnings in intellij and weird test fails on the command line for me. My previous gradle version was 8.2."}],"answers":[{"comments":[{"score":5,"post_type":"answer","creation_date":1695751334,"post_id":77179202,"comment_id":136065441,"body_markdown":"I do like that the release notes call out _why_ Java 21 is not yet supported: &quot;Currently, you cannot run Gradle on Java 21 because Kotlin lacks support for JDK 21. However, support for running Gradle with Java 21 is expected in future versions.&quot;","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21/77179202#comment136065441_77179202","body":"I do like that the release notes call out <i>why</i> Java 21 is not yet supported: &quot;Currently, you cannot run Gradle on Java 21 because Kotlin lacks support for JDK 21. However, support for running Gradle with Java 21 is expected in future versions.&quot;"},{"score":5,"post_type":"answer","creation_date":1696443361,"post_id":77179202,"comment_id":136155022,"body_markdown":"@MJustin to add to that: 1.9.20 (currently preview, scheduled for release ca. Dec 2023) Kotlin releases are already compatible with JVM 21, so I guess that early 2024 is the actual expected date here for Gradle.","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21/77179202#comment136155022_77179202","body":"@MJustin to add to that: 1.9.20 (currently preview, scheduled for release ca. Dec 2023) Kotlin releases are already compatible with JVM 21, so I guess that early 2024 is the actual expected date here for Gradle."}],"comment_count":2,"score":11,"last_activity_date":1701361808,"last_edit_date":1701361808,"creation_date":1695724578,"answer_id":77179202,"question_id":77140377,"body_markdown":"# Current\r\n\r\nFor full Java 21 support, you can use [Gradle 8.5][1]. The [release notes][2] say:\r\n\r\n&gt; With this release, Gradle now fully supports compiling, testing and running on Java 21.\r\n\r\n  [1]: https://github.com/gradle/gradle/releases\r\n  [2]: https://docs.gradle.org/8.5/release-notes.html#full-java-21-support","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21/77179202#77179202","title":"Starting from which version does Gradle support Java 21?","body":"<h1>Current</h1>\n<p>For full Java 21 support, you can use <a href=\"https://github.com/gradle/gradle/releases\" rel=\"nofollow noreferrer\">Gradle 8.5</a>. The <a href=\"https://docs.gradle.org/8.5/release-notes.html#full-java-21-support\" rel=\"nofollow noreferrer\">release notes</a> say:</p>\n<blockquote>\n<p>With this release, Gradle now fully supports compiling, testing and running on Java 21.</p>\n</blockquote>\n"},{"comments":[{"score":1,"post_type":"answer","creation_date":1698176873,"post_id":77305481,"comment_id":136371473,"body_markdown":"Have you tried a snapshot of Gradle 8.5?","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21/77305481#comment136371473_77305481","body":"Have you tried a snapshot of Gradle 8.5?"},{"score":0,"post_type":"answer","creation_date":1700488927,"post_id":77305481,"comment_id":136657226,"body_markdown":"FWIW: I&#39;m running 8.5-rc-3 successfully.","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21/77305481#comment136657226_77305481","body":"FWIW: I&#39;m running 8.5-rc-3 successfully."}],"comment_count":2,"score":3,"last_activity_date":1697742572,"last_edit_date":1697742572,"creation_date":1697500073,"answer_id":77305481,"question_id":77140377,"body_markdown":"I believe there is new release of gradle for JDK 21:\r\n\r\nhttps://docs.gradle.org/8.4-rc-1/release-notes.html#kotlin-dsl-improvements\r\n\r\ngradle 8.4-rc-1\r\n\r\nI was able to install, but I&#39;m still having java errors with classpath issues.","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21/77305481#77305481","title":"Starting from which version does Gradle support Java 21?","body":"<p>I believe there is new release of gradle for JDK 21:</p>\n<p><a href=\"https://docs.gradle.org/8.4-rc-1/release-notes.html#kotlin-dsl-improvements\" rel=\"nofollow noreferrer\">https://docs.gradle.org/8.4-rc-1/release-notes.html#kotlin-dsl-improvements</a></p>\n<p>gradle 8.4-rc-1</p>\n<p>I was able to install, but I'm still having java errors with classpath issues.</p>\n"},{"comment_count":0,"score":3,"last_activity_date":1700857602,"last_edit_date":1700857602,"creation_date":1700471363,"answer_id":77514608,"question_id":77140377,"body_markdown":"Current **Gradle Version 8.4** allows you to **build** with Java 21. Gradle 8.4 itself however can&#39;t run on Java 21. The next **Version 8.5**, where you can already try the RC-4 release, will be able to **run on Java 21**.\r\n\r\nhttps://docs.gradle.org/8.5-rc-3/release-notes.html#full-java-21-support","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21/77514608#77514608","title":"Starting from which version does Gradle support Java 21?","body":"<p>Current <strong>Gradle Version 8.4</strong> allows you to <strong>build</strong> with Java 21. Gradle 8.4 itself however can't run on Java 21. The next <strong>Version 8.5</strong>, where you can already try the RC-4 release, will be able to <strong>run on Java 21</strong>.</p>\n<p><a href=\"https://docs.gradle.org/8.5-rc-3/release-notes.html#full-java-21-support\" rel=\"nofollow noreferrer\">https://docs.gradle.org/8.5-rc-3/release-notes.html#full-java-21-support</a></p>\n"},{"comments":[{"score":1,"post_type":"answer","creation_date":1700902303,"post_id":77515057,"comment_id":136711124,"body_markdown":"It&#39;s quite a shame that Gradle is taking this long to support JDK 21","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21/77515057#comment136711124_77515057","body":"It&#39;s quite a shame that Gradle is taking this long to support JDK 21"},{"score":1,"post_type":"answer","creation_date":1701287179,"post_id":77515057,"comment_id":136758348,"body_markdown":"8.5 is now available","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21/77515057#comment136758348_77515057","body":"8.5 is now available"}],"comment_count":2,"score":1,"last_activity_date":1700634584,"last_edit_date":1700634584,"creation_date":1700475660,"answer_id":77515057,"question_id":77140377,"body_markdown":"If you are using Intellij, until v8.5 is G.A, you need to set Gradle JVM to a JVM version lower than Java 21, example Java 20:\r\n\r\nSettings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BgQHy.png","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21/77515057#77515057","title":"Starting from which version does Gradle support Java 21?","body":"<p>If you are using Intellij, until v8.5 is G.A, you need to set Gradle JVM to a JVM version lower than Java 21, example Java 20:</p>\n<p>Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle:</p>\n<p><a href=\"https://i.stack.imgur.com/BgQHy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BgQHy.png\" alt=\"enter image description here\" /></a></p>\n"},{"comment_count":0,"score":4,"last_activity_date":1700682709,"last_edit_date":1700682709,"creation_date":1700653306,"answer_id":77529631,"question_id":77140377,"body_markdown":"As mentioned in other answers, Gradle 8.4 supports building Java 21 projects.\r\n\r\nAs to *how* to do that:  \r\n1. Install JDK21 on the machine and tell Gradle to use it as its toolchain.  \r\nIn your Gradle build file (build.gradle or build.gradle.kts):\r\n    ```Groovy\r\n    java {\r\n\t    toolchain {\r\n\t\t    languageVersion = JavaLanguageVersion.of(21)\r\n\t    }\r\n    }\r\n    ```\r\n\r\n    Gradle should find your JDK21 installation [automatically][1].\r\n\r\n2. Install a JDK version *below 21* and use it to execute your Gradle tasks:  \r\nEither point your JAVA_HOME variable to this lower version JDK installation, or point the property `org.gradle.java.home` (gradle.properties) to it. If you use IntelliJ, you should instead point the setting &#39;Gradle JVM&#39; to this JDK.\r\n\r\nTo upgrade Gradle to 8.4, either download it from [gradle.org][2] and install it manually or (preferably) update your gradle-wrapper.properties file with `distributionUrl=https\\://services.gradle.org/distributions/gradle-8.4-bin.zip`.  \r\n\r\n\\\r\nExplanation: by default, Gradle uses the same JDK that it runs on to compile your sources. Obviously that is not going to work when you need to compile Java 21 code but the latest Gradle release doesn&#39;t run on Java 21 yet.  \r\nSo you let Gradle run on a lower version (either your environment default - what is returned by *java --version*, or some other JDK as specified for instance in the *Gradle JVM* option of IntelliJ or by setting org.gradle.java.home in gradle.properties) but you instruct it to use a 21 JDK for building your project (compilation, javadoc generation, etc.).\r\n\r\n\\\r\n`Edit`: Despite [claims][3] to the contrary by Gradle, it seems that (at least for simple projects) Gradle 8.4 is already able to run on Java 21.  \r\nIf you run into problems use the steps above, but it should be enough to simply run `gradle build`/`gradlew build` with JDK21 and Gradle 8.4 (so step 2 can be skipped).  \r\nStarting with Gradle 8.5 it should be officially supported to run Gradle directly on JDK21.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/toolchains.html#sec:auto_detection\r\n  [2]: https://gradle.org/next-steps/?version=8.4&amp;format=bin\r\n  [3]: https://docs.gradle.org/8.4/release-notes.html#support-for-building-projects-with-java-21","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21/77529631#77529631","title":"Starting from which version does Gradle support Java 21?","body":"<p>As mentioned in other answers, Gradle 8.4 supports building Java 21 projects.</p>\n<p>As to <em>how</em> to do that:</p>\n<ol>\n<li><p>Install JDK21 on the machine and tell Gradle to use it as its toolchain.<br />\nIn your Gradle build file (build.gradle or build.gradle.kts):</p>\n<pre><code>java {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(21)\n    }\n}\n</code></pre>\n<p>Gradle should find your JDK21 installation <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#sec:auto_detection\" rel=\"nofollow noreferrer\">automatically</a>.</p>\n</li>\n<li><p>Install a JDK version <em>below 21</em> and use it to execute your Gradle tasks:<br />\nEither point your JAVA_HOME variable to this lower version JDK installation, or point the property <code>org.gradle.java.home</code> (gradle.properties) to it. If you use IntelliJ, you should instead point the setting 'Gradle JVM' to this JDK.</p>\n</li>\n</ol>\n<p>To upgrade Gradle to 8.4, either download it from <a href=\"https://gradle.org/next-steps/?version=8.4&amp;format=bin\" rel=\"nofollow noreferrer\">gradle.org</a> and install it manually or (preferably) update your gradle-wrapper.properties file with <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-8.4-bin.zip</code>.</p>\n<p><br />\nExplanation: by default, Gradle uses the same JDK that it runs on to compile your sources. Obviously that is not going to work when you need to compile Java 21 code but the latest Gradle release doesn't run on Java 21 yet.<br />\nSo you let Gradle run on a lower version (either your environment default - what is returned by <em>java --version</em>, or some other JDK as specified for instance in the <em>Gradle JVM</em> option of IntelliJ or by setting org.gradle.java.home in gradle.properties) but you instruct it to use a 21 JDK for building your project (compilation, javadoc generation, etc.).</p>\n<p><br />\n<code>Edit</code>: Despite <a href=\"https://docs.gradle.org/8.4/release-notes.html#support-for-building-projects-with-java-21\" rel=\"nofollow noreferrer\">claims</a> to the contrary by Gradle, it seems that (at least for simple projects) Gradle 8.4 is already able to run on Java 21.<br />\nIf you run into problems use the steps above, but it should be enough to simply run <code>gradle build</code>/<code>gradlew build</code> with JDK21 and Gradle 8.4 (so step 2 can be skipped).<br />\nStarting with Gradle 8.5 it should be officially supported to run Gradle directly on JDK21.</p>\n"},{"comment_count":0,"score":3,"last_activity_date":1701287040,"creation_date":1701287040,"answer_id":77574080,"question_id":77140377,"body_markdown":"[Gradle 8.5 is now GA][1] and it has **full** Java 21 support.\r\n\r\nYou can update your wrapper config file to:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-8.5-bin.zip\r\n\r\nAnd if you are using idea, you can go `Settings | Build, Execution, Deployment | Build Tools | Gradle` and change the Gradle JVM to 21.\r\n\r\n[![gradle jvm 21][2]][2]\r\n\r\n\r\n  [1]: https://docs.gradle.org/8.5/release-notes.html\r\n  [2]: https://i.stack.imgur.com/jigFd.png","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21/77574080#77574080","title":"Starting from which version does Gradle support Java 21?","body":"<p><a href=\"https://docs.gradle.org/8.5/release-notes.html\" rel=\"nofollow noreferrer\">Gradle 8.5 is now GA</a> and it has <strong>full</strong> Java 21 support.</p>\n<p>You can update your wrapper config file to:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-8.5-bin.zip\n</code></pre>\n<p>And if you are using idea, you can go <code>Settings | Build, Execution, Deployment | Build Tools | Gradle</code> and change the Gradle JVM to 21.</p>\n<p><a href=\"https://i.stack.imgur.com/jigFd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jigFd.png\" alt=\"gradle jvm 21\" /></a></p>\n"}],"comment_count":6,"is_answered":true,"view_count":10302,"answer_count":6,"score":15,"last_activity_date":1701361808,"creation_date":1695196336,"last_edit_date":1695487343,"question_id":77140377,"body_markdown":"When trying to configure the project using Java 21 I&#39;m getting the error:\r\n\r\n&gt; Unsupported Java. Your build is currently configured to use Java 21 and Gradle 8.3.\r\n\r\nUnfortunately, there is no information in official documentation for now: https://docs.gradle.org/current/userguide/compatibility.html\r\n\r\n&gt; A Java version between 8 and 20 is required to execute Gradle. Java 21\r\n&gt; and later versions are not yet supported.\r\n\r\nStarting from which version does Gradle support Java 21?","link":"https://stackoverflow.com/questions/77140377/starting-from-which-version-does-gradle-support-java-21","title":"Starting from which version does Gradle support Java 21?","body":"<p>When trying to configure the project using Java 21 I'm getting the error:</p>\n<blockquote>\n<p>Unsupported Java. Your build is currently configured to use Java 21 and Gradle 8.3.</p>\n</blockquote>\n<p>Unfortunately, there is no information in official documentation for now: <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a></p>\n<blockquote>\n<p>A Java version between 8 and 20 is required to execute Gradle. Java 21\nand later versions are not yet supported.</p>\n</blockquote>\n<p>Starting from which version does Gradle support Java 21?</p>\n"},{"tags":["java","git","maven","jenkins"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701360533,"last_edit_date":1701360533,"creation_date":1701360158,"answer_id":77579889,"question_id":77579673,"body_markdown":"I had left a SSH URL instead of HTTPS, so it was supposed to be :\r\n\r\n```xml\r\n&lt;developerConnection&gt;scm:git:https://gitlab.some.domain/path/to/repo.git&lt;/developerConnection&gt;\r\n```","link":"https://stackoverflow.com/questions/77579673/how-can-i-use-the-maven-release-plugin-with-a-user-that-has-in-it/77579889#77579889","title":"How can I use the maven release plugin with a user that has @ in it?","body":"<p>I had left a SSH URL instead of HTTPS, so it was supposed to be :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;developerConnection&gt;scm:git:https://gitlab.some.domain/path/to/repo.git&lt;/developerConnection&gt;\n</code></pre>\n"}],"comment_count":0,"is_answered":false,"view_count":32,"answer_count":1,"score":0,"last_activity_date":1701360533,"creation_date":1701358213,"question_id":77579673,"body_markdown":"I&#39;m using Jenkins together with the release maven plugin.\r\n\r\nMy Jenkins job is a &quot;maven&quot; kind of job and is configured to :\r\n\r\n 1. git-clone the project with an identifier user@domain and access token\r\n 2. launch the following goals with Maven 3.8.3 :\r\n\r\n    -B -X release:clean release:prepare release:perform\r\n\r\nBelow is the maven release plugin configuration:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.1&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;arguments&gt;${arguments}&lt;/arguments&gt;\r\n\t&lt;tagNameFormat&gt;@{project.version}&lt;/tagNameFormat&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nBelow is the section of the pom related to git repo:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n\t&lt;java.version&gt;8&lt;/java.version&gt;\r\n\t&lt;project.scm.id&gt;gitlab&lt;/project.scm.id&gt;\r\n&lt;/properties&gt;\r\n&lt;scm&gt;\r\n\t&lt;connection&gt;scm:git:https://gitlab.some.domain/path/to/repo.git&lt;/connection&gt;\r\n\t&lt;developerConnection&gt;scm:git:ssh://git@gitlab.some.domain/path/to/repo.git&lt;/developerConnection&gt;\r\n\t&lt;url&gt;https://gitlab.some.domain/path/to/repo&lt;/url&gt;\r\n\t&lt;tag&gt;HEAD&lt;/tag&gt;\r\n&lt;/scm&gt;\r\n```\r\n\r\nHere&#39;s the user settings file:\r\n\r\n```xml\r\n&lt;settings&gt;\r\n  &lt;servers&gt;\r\n    &lt;server&gt;\r\n      &lt;id&gt;gitlab&lt;/id&gt;\r\n      &lt;username&gt;user@domain&lt;/username&gt;\r\n      &lt;password&gt;access token&lt;/password&gt;\r\n    &lt;/server&gt;\r\n  &lt;/servers&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nWhen running the Jenkins job, the git clone part is fine. It uses the access token credentials provided in Jenkins setup : user@domain/**** (access token).\r\n\r\nWhen it comes to the maven release plugin git-push operation, I receive an error while using the user settings file provided above:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.1:prepare (default-cli) on project xxx: Unable to commit files\r\n    [ERROR] Provider message:\r\n    [ERROR] The git-push command failed.\r\n    [ERROR] Command output:\r\n    [ERROR] Permission denied, please try again.\r\n    [ERROR] Permission denied, please try again.\r\n    [ERROR] Received disconnect from 12.345.678.901 port 22:2:********@domain\r\n    [ERROR] Authentication failed.\r\n    [ERROR] fatal: Could not read from remote repository.\r\n    [ERROR] \r\n    [ERROR] Please make sure you have the correct access rights\r\n    [ERROR] and the repository exists.\r\n    [ERROR] -&gt; [Help 1]\r\n\r\nCould this be due to the character @ in the user name ?\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77579673/how-can-i-use-the-maven-release-plugin-with-a-user-that-has-in-it","title":"How can I use the maven release plugin with a user that has @ in it?","body":"<p>I'm using Jenkins together with the release maven plugin.</p>\n<p>My Jenkins job is a &quot;maven&quot; kind of job and is configured to :</p>\n<ol>\n<li><p>git-clone the project with an identifier user@domain and access token</p>\n</li>\n<li><p>launch the following goals with Maven 3.8.3 :</p>\n<p>-B -X release:clean release:prepare release:perform</p>\n</li>\n</ol>\n<p>Below is the maven release plugin configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.1&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;arguments&gt;${arguments}&lt;/arguments&gt;\n    &lt;tagNameFormat&gt;@{project.version}&lt;/tagNameFormat&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Below is the section of the pom related to git repo:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;java.version&gt;8&lt;/java.version&gt;\n    &lt;project.scm.id&gt;gitlab&lt;/project.scm.id&gt;\n&lt;/properties&gt;\n&lt;scm&gt;\n    &lt;connection&gt;scm:git:https://gitlab.some.domain/path/to/repo.git&lt;/connection&gt;\n    &lt;developerConnection&gt;scm:git:ssh://git@gitlab.some.domain/path/to/repo.git&lt;/developerConnection&gt;\n    &lt;url&gt;https://gitlab.some.domain/path/to/repo&lt;/url&gt;\n    &lt;tag&gt;HEAD&lt;/tag&gt;\n&lt;/scm&gt;\n</code></pre>\n<p>Here's the user settings file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;settings&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;gitlab&lt;/id&gt;\n      &lt;username&gt;user@domain&lt;/username&gt;\n      &lt;password&gt;access token&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>When running the Jenkins job, the git clone part is fine. It uses the access token credentials provided in Jenkins setup : user@domain/**** (access token).</p>\n<p>When it comes to the maven release plugin git-push operation, I receive an error while using the user settings file provided above:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.1:prepare (default-cli) on project xxx: Unable to commit files\n[ERROR] Provider message:\n[ERROR] The git-push command failed.\n[ERROR] Command output:\n[ERROR] Permission denied, please try again.\n[ERROR] Permission denied, please try again.\n[ERROR] Received disconnect from 12.345.678.901 port 22:2:********@domain\n[ERROR] Authentication failed.\n[ERROR] fatal: Could not read from remote repository.\n[ERROR] \n[ERROR] Please make sure you have the correct access rights\n[ERROR] and the repository exists.\n[ERROR] -&gt; [Help 1]\n</code></pre>\n<p>Could this be due to the character @ in the user name ?</p>\n"},{"tags":["java","println"],"comments":[{"score":2,"post_type":"question","creation_date":1701352025,"post_id":77578904,"comment_id":136766738,"body_markdown":"For the first one, did you mean `System.out.printf(&quot;%d&quot;, myRank);` ?","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name#comment136766738_77578904","body":"For the first one, did you mean <code>System.out.printf(&quot;%d&quot;, myRank);</code> ?"},{"score":1,"post_type":"question","creation_date":1701352043,"post_id":77578904,"comment_id":136766742,"body_markdown":"For single variables like that sure it doesnt make much sense, but start introducing multiple variables that need to be concatenated and you will see it helps, especially with readability.","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name#comment136766742_77578904","body":"For single variables like that sure it doesnt make much sense, but start introducing multiple variables that need to be concatenated and you will see it helps, especially with readability."},{"score":1,"post_type":"question","creation_date":1701353381,"post_id":77578904,"comment_id":136767026,"body_markdown":"Bad habit of C programmers, as in C, you can’t write `println(nonStringVariable);`","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name#comment136767026_77578904","body":"Bad habit of C programmers, as in C, you can’t write <code>println(nonStringVariable);</code>"},{"score":0,"post_type":"question","creation_date":1701353664,"post_id":77578904,"comment_id":136767093,"body_markdown":"@DogTheDogDog Could you update the question with the correct code snippets? As already noted by several users, the former will not compile. If you mean to use `printf`, then it won&#39;t print an additional newline at the end. So that would be the same as using just `print`, instead of `println`.","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name#comment136767093_77578904","body":"@DogTheDogDog Could you update the question with the correct code snippets? As already noted by several users, the former will not compile. If you mean to use <code>printf</code>, then it won&#39;t print an additional newline at the end. So that would be the same as using just <code>print</code>, instead of <code>println</code>."},{"score":2,"post_type":"question","creation_date":1701354254,"post_id":77578904,"comment_id":136767208,"body_markdown":"why don&#39;t you ask your professor? Isn&#39;t he being paid to teach you?","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name#comment136767208_77578904","body":"why don&#39;t you ask your professor? Isn&#39;t he being paid to teach you?"}],"answers":[{"comment_count":0,"score":2,"last_activity_date":1701352386,"creation_date":1701352386,"answer_id":77579007,"question_id":77578904,"body_markdown":"I&#39;m assuming that you meant to use [`printf`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)/) in the first snippet and not `println`, because otherwise it just won&#39;t compile.\r\n\r\nAssuming that you did, the first snippet really isn&#39;t very useful, as you noted. The main point of format strings is to be able to easily interleve variables in to them:\r\n\r\n```\r\nString dayName = &quot;Friday&quot;;\r\nint day = 13;\r\nSystem.out.printf(&quot;Today is %s the %dth&quot;, dayName, day);\r\n```","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name/77579007#77579007","title":"Why would you use &#39;&quot;%d&quot;, variable&#39; when you can simply type the variable name?","body":"<p>I'm assuming that you meant to use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)/\" rel=\"nofollow noreferrer\"><code>printf</code></a> in the first snippet and not <code>println</code>, because otherwise it just won't compile.</p>\n<p>Assuming that you did, the first snippet really isn't very useful, as you noted. The main point of format strings is to be able to easily interleve variables in to them:</p>\n<pre><code>String dayName = &quot;Friday&quot;;\nint day = 13;\nSystem.out.printf(&quot;Today is %s the %dth&quot;, dayName, day);\n</code></pre>\n"},{"comments":[{"score":3,"post_type":"answer","creation_date":1701353702,"post_id":77579019,"comment_id":136767104,"body_markdown":"So, instead of seeing `myRank`  right at the place where the value of `myRank` will be inserted, I have to scroll horizontally to barely have the `%d` and the associated argument visible on the same page. Great example of how much “more readable” the placeholder based formatting is, compared to a straight-forward concatenation…","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name/77579019#comment136767104_77579019","body":"So, instead of seeing <code>myRank</code>  right at the place where the value of <code>myRank</code> will be inserted, I have to scroll horizontally to barely have the <code>%d</code> and the associated argument visible on the same page. Great example of how much “more readable” the placeholder based formatting is, compared to a straight-forward concatenation…"},{"score":0,"post_type":"answer","creation_date":1701361335,"post_id":77579019,"comment_id":136768667,"body_markdown":"@Holger, folks doing reasonable code formatting would be using vertical whitespace -- you&#39;d see `myRank` and `friendRank` _below_ the format string, not to its right.","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name/77579019#comment136768667_77579019","body":"@Holger, folks doing reasonable code formatting would be using vertical whitespace -- you&#39;d see <code>myRank</code> and <code>friendRank</code> <i>below</i> the format string, not to its right."},{"score":1,"post_type":"answer","creation_date":1701363858,"post_id":77579019,"comment_id":136769161,"body_markdown":"@CharlesDuffy that doesn’t change the fact that readers have to count the percent signs, followed by counting the argument expressions or commas between them, to match a placeholder with its argument. And more than often, this added source of potential errors is not even necessary. What does this answer’s example gain from using `%d` instead of `%s`? Nothing. You can use `%s` for every argument and it will work regardless of what type `myRank` and `friendRank` have.","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name/77579019#comment136769161_77579019","body":"@CharlesDuffy that doesn’t change the fact that readers have to count the percent signs, followed by counting the argument expressions or commas between them, to match a placeholder with its argument. And more than often, this added source of potential errors is not even necessary. What does this answer’s example gain from using <code>%d</code> instead of <code>%s</code>? Nothing. You can use <code>%s</code> for every argument and it will work regardless of what type <code>myRank</code> and <code>friendRank</code> have."},{"score":0,"post_type":"answer","creation_date":1701450186,"post_id":77579019,"comment_id":136781189,"body_markdown":"@Holger In that trivial case, yes -- but in a scenario where you want `%03d`, it stops being equivalent.","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name/77579019#comment136781189_77579019","body":"@Holger In that trivial case, yes -- but in a scenario where you want <code>%03d</code>, it stops being equivalent."},{"score":2,"post_type":"answer","creation_date":1701451400,"post_id":77579019,"comment_id":136781385,"body_markdown":"@CharlesDuffy yes, when you use this formatting facility to do actual formatting, it stops being equivalent, hence, discussions about which variant is more readable become pointless. It will be interesting when future Java versions introduce String interpolation the way it is currently planned, as then, you can combine inlined arguments with formatting directives, for example `FMT.&quot;my rank is %03d\\{myRank}, and my friend&#39;s rank is %03d\\{friendRank}.&quot;` Then, the discussion can start again…","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name/77579019#comment136781385_77579019","body":"@CharlesDuffy yes, when you use this formatting facility to do actual formatting, it stops being equivalent, hence, discussions about which variant is more readable become pointless. It will be interesting when future Java versions introduce String interpolation the way it is currently planned, as then, you can combine inlined arguments with formatting directives, for example <code>FMT.&quot;my rank is %03d\\{myRank}, and my friend&#39;s rank is %03d\\{friendRank}.&quot;</code> Then, the discussion can start again…"}],"comment_count":5,"score":1,"last_activity_date":1701352503,"creation_date":1701352503,"answer_id":77579019,"question_id":77578904,"body_markdown":"First of all, `System.out.println(&quot;%d&quot;, myRank);` will not compile.\r\n\r\nYou can use `System.out.printf` or `String.format(...)` inside `printf`\r\n\r\nFor a single argument, as you mentioned, it does not make much sense. The value of `String.format` (or `printf`) can be seen when you have string concatenation and it makes the code more readable and easier to maintain.\r\n\r\nFor example, you can print the following message:\r\n```\r\nSystem.out.printf(&quot;my rank is %d, which is nice. and my friend&#39;s rank is %d. which is lower than mine&quot;, myRank, friendRank);\r\n```\r\n\r\nInstead of:\r\n```\r\nSystem.out.printf(&quot;my rank is &quot; + myRank + &quot;, which is nice. and my friend&#39;s rank is &quot; + friendRank + &quot;. which is lower than mine&quot;);\r\n```","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name/77579019#77579019","title":"Why would you use &#39;&quot;%d&quot;, variable&#39; when you can simply type the variable name?","body":"<p>First of all, <code>System.out.println(&quot;%d&quot;, myRank);</code> will not compile.</p>\n<p>You can use <code>System.out.printf</code> or <code>String.format(...)</code> inside <code>printf</code></p>\n<p>For a single argument, as you mentioned, it does not make much sense. The value of <code>String.format</code> (or <code>printf</code>) can be seen when you have string concatenation and it makes the code more readable and easier to maintain.</p>\n<p>For example, you can print the following message:</p>\n<pre><code>System.out.printf(&quot;my rank is %d, which is nice. and my friend's rank is %d. which is lower than mine&quot;, myRank, friendRank);\n</code></pre>\n<p>Instead of:</p>\n<pre><code>System.out.printf(&quot;my rank is &quot; + myRank + &quot;, which is nice. and my friend's rank is &quot; + friendRank + &quot;. which is lower than mine&quot;);\n</code></pre>\n"},{"comment_count":0,"score":1,"last_activity_date":1701360460,"creation_date":1701360460,"answer_id":77579921,"question_id":77578904,"body_markdown":"Consistency with the present __and__ consistency with the future.\r\n\r\nWhether you _agree_ that it is wise to do this, is one of those endless &#39;opinions about the right way to write code&#39; debates. In the end, writing code is a craft - and thus, opinions differ on how what excellence in the craft looks like (So, yes, &#39;software engineer&#39; as a term is very badly incorrect, instead &#39;software artisan&#39; is a lot closer to how software development is actually done. One can lament that or celebrate it - that&#39;s beyond this question and probably beyond what SO is for. I&#39;m merely stating how things _are_, not how they should be).\r\n\r\nBut first...\r\n\r\n## Why `printf` over `println` at all?\r\n\r\nThere are a number of reasons to use `printf` over `println`. The obvious one, is that you want the output string to be a template, i.e. whenever it gets more complex than literally `&quot;%d&quot;` or `&quot;%f&quot;`, i.e. you end up with `(&quot;Hello, %s, welcome to %s! There are %d before you in line&quot;, userName, serverName, queueSize)`, it&#39;s obvious `printf` is superior in this regard.\r\n\r\nBut it&#39;s not _just_ about that in the present - after all, in your code, that&#39;s simply not at all the case. All that is currently needed is, evidently, `&quot;%d&quot;`.\r\n\r\nA second reason is if you need to format a thing. For example, while `&quot;%d&quot;` and `&quot;%s&quot;` rarely change anything, `&quot;%f&quot;` almost always does: You really should never print a double or float value, you __must__ control the process of converting value (which tends to have small rounding errors in it. For example, 0.1 __does not exist__. Seriously, it doesn&#39;t. For the same reason 1/3 does not exist in decimal (try it, write it down on a piece of paper), 0.1 doesn&#39;t exist as computers count in binary and anything whose divisor doesn&#39;t consist solely of factors of 2, doesn&#39;t exist). You can still print it fine but that&#39;s because `System.out.println` applies a very light bit of rounding. More usually you want better control over this, hence, this:\r\n\r\n```\r\nSystem.out.printf(&quot;%.6f&quot;, someDoubleValue);\r\n```\r\n\r\nis __definitely__ useful, nay, _required_, in contrast to `System.out.print(someDoubleValue)`.\r\n\r\nThe same logic applies to `%20s` for example. But, this, too, does not __currently__ apply to your situation.\r\n\r\n## The future is a moving target\r\n\r\nMost software isn&#39;t released-and-done. This is &#39;weird&#39; - if a carpenter produces a table they tend to sell it and move on to another project. Software isn&#39;t really like that - the vast majority of this is modified almost continuously throughout its lifetime. Hence, __ability to be easily modified__ is an important property of a software project: Projects whose code doesn&#39;t lend itself well to updates, __is bad code__, for the simple reason that it&#39;s going to happen sooner rather than later, and thus, the code that is better &#39;prepared&#39;. It&#39;s like a cupboard you intend to disassemble and move later: Then you should buy a cupboard that is screwed together with good screws, instead of one with screws you&#39;re going to strip during assembly, or, even worse, a cupboard that you have to glue together.\r\n\r\nVirtually __all__ software is like &#39;a cupboard you will have to disassemble a lot&#39; - there is very little market for throwaway software that you build, use, and discard entirely.\r\n\r\n## Craftmanship\r\n\r\nThis gets us to craftmanship: It&#39;s a useful skill to be able to build software. Specifically, in a world where almost everybody wants disassemblable cupboards, it&#39;s not useful to learn the skill of efficiently glueing cupboards together. It&#39;s much more useful to be really good at building screwed-together ones.\r\n\r\nIf learning the craft is really difficult to do, it makes sense to optimize for the useful, common tasks, especially if those serve well enough for alternate, lesser requirements. Hence, good programmers optimize for writing good code, __even if__ there is no foreseeable need for e.g. code that can easily be modified later. For the same reason someone tasked to build a cupboard that will be used and discarded, might still use screws, because they aren&#39;t expensive and they know how to build cupboards that way, so, why not?\r\n\r\n## But.. inefficient!\r\n\r\nLudicrous. You will not be able to measure any performance difference here. It&#39;s a fair argument if the job requires &quot;good performance&quot; based on something specific (just &#39;it needs to perform well&#39; is far too nebulous a requirement), and it&#39;s a fair argument even if the job does not require that now but it is foreseeable that in the future this code will grow some requirements (i.e. needs to be modified), and one of these requirements is &#39;it needs to perform well&#39;.\r\n\r\nBut, any objective measure you care to come up with that is at all related to real life requirements will not disqualify this code for being &#39;too inefficient&#39;, hence, worrying about that is like worrying about an errant pencil mark on a side of wood paneling that will be invisible once a cupboard is built. It&#39;s actively silly to worry about the irrelevant; programming is hard enough without making up rules that neither requirements nor the general need to write good software actually requires you to adhere to.","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name/77579921#77579921","title":"Why would you use &#39;&quot;%d&quot;, variable&#39; when you can simply type the variable name?","body":"<p>Consistency with the present <strong>and</strong> consistency with the future.</p>\n<p>Whether you <em>agree</em> that it is wise to do this, is one of those endless 'opinions about the right way to write code' debates. In the end, writing code is a craft - and thus, opinions differ on how what excellence in the craft looks like (So, yes, 'software engineer' as a term is very badly incorrect, instead 'software artisan' is a lot closer to how software development is actually done. One can lament that or celebrate it - that's beyond this question and probably beyond what SO is for. I'm merely stating how things <em>are</em>, not how they should be).</p>\n<p>But first...</p>\n<h2>Why <code>printf</code> over <code>println</code> at all?</h2>\n<p>There are a number of reasons to use <code>printf</code> over <code>println</code>. The obvious one, is that you want the output string to be a template, i.e. whenever it gets more complex than literally <code>&quot;%d&quot;</code> or <code>&quot;%f&quot;</code>, i.e. you end up with <code>(&quot;Hello, %s, welcome to %s! There are %d before you in line&quot;, userName, serverName, queueSize)</code>, it's obvious <code>printf</code> is superior in this regard.</p>\n<p>But it's not <em>just</em> about that in the present - after all, in your code, that's simply not at all the case. All that is currently needed is, evidently, <code>&quot;%d&quot;</code>.</p>\n<p>A second reason is if you need to format a thing. For example, while <code>&quot;%d&quot;</code> and <code>&quot;%s&quot;</code> rarely change anything, <code>&quot;%f&quot;</code> almost always does: You really should never print a double or float value, you <strong>must</strong> control the process of converting value (which tends to have small rounding errors in it. For example, 0.1 <strong>does not exist</strong>. Seriously, it doesn't. For the same reason 1/3 does not exist in decimal (try it, write it down on a piece of paper), 0.1 doesn't exist as computers count in binary and anything whose divisor doesn't consist solely of factors of 2, doesn't exist). You can still print it fine but that's because <code>System.out.println</code> applies a very light bit of rounding. More usually you want better control over this, hence, this:</p>\n<pre><code>System.out.printf(&quot;%.6f&quot;, someDoubleValue);\n</code></pre>\n<p>is <strong>definitely</strong> useful, nay, <em>required</em>, in contrast to <code>System.out.print(someDoubleValue)</code>.</p>\n<p>The same logic applies to <code>%20s</code> for example. But, this, too, does not <strong>currently</strong> apply to your situation.</p>\n<h2>The future is a moving target</h2>\n<p>Most software isn't released-and-done. This is 'weird' - if a carpenter produces a table they tend to sell it and move on to another project. Software isn't really like that - the vast majority of this is modified almost continuously throughout its lifetime. Hence, <strong>ability to be easily modified</strong> is an important property of a software project: Projects whose code doesn't lend itself well to updates, <strong>is bad code</strong>, for the simple reason that it's going to happen sooner rather than later, and thus, the code that is better 'prepared'. It's like a cupboard you intend to disassemble and move later: Then you should buy a cupboard that is screwed together with good screws, instead of one with screws you're going to strip during assembly, or, even worse, a cupboard that you have to glue together.</p>\n<p>Virtually <strong>all</strong> software is like 'a cupboard you will have to disassemble a lot' - there is very little market for throwaway software that you build, use, and discard entirely.</p>\n<h2>Craftmanship</h2>\n<p>This gets us to craftmanship: It's a useful skill to be able to build software. Specifically, in a world where almost everybody wants disassemblable cupboards, it's not useful to learn the skill of efficiently glueing cupboards together. It's much more useful to be really good at building screwed-together ones.</p>\n<p>If learning the craft is really difficult to do, it makes sense to optimize for the useful, common tasks, especially if those serve well enough for alternate, lesser requirements. Hence, good programmers optimize for writing good code, <strong>even if</strong> there is no foreseeable need for e.g. code that can easily be modified later. For the same reason someone tasked to build a cupboard that will be used and discarded, might still use screws, because they aren't expensive and they know how to build cupboards that way, so, why not?</p>\n<h2>But.. inefficient!</h2>\n<p>Ludicrous. You will not be able to measure any performance difference here. It's a fair argument if the job requires &quot;good performance&quot; based on something specific (just 'it needs to perform well' is far too nebulous a requirement), and it's a fair argument even if the job does not require that now but it is foreseeable that in the future this code will grow some requirements (i.e. needs to be modified), and one of these requirements is 'it needs to perform well'.</p>\n<p>But, any objective measure you care to come up with that is at all related to real life requirements will not disqualify this code for being 'too inefficient', hence, worrying about that is like worrying about an errant pencil mark on a side of wood paneling that will be invisible once a cupboard is built. It's actively silly to worry about the irrelevant; programming is hard enough without making up rules that neither requirements nor the general need to write good software actually requires you to adhere to.</p>\n"}],"comment_count":5,"is_answered":true,"view_count":120,"answer_count":3,"score":1,"last_activity_date":1701360460,"creation_date":1701351511,"last_edit_date":1701351795,"question_id":77578904,"body_markdown":"I was wondering why my professor would type\r\n```\r\nSystem.out.println(&quot;%d&quot;, myRank);\r\n```\r\ninstead of \r\n```\r\nSystem.out.println(myRank);\r\n```\r\nfrom my point of view the latter is inherently more efficient and has the same effect\r\n\r\nI&#39;ve tried both and they perform the same, so I am quite confused as to why the former is used at all","link":"https://stackoverflow.com/questions/77578904/why-would-you-use-d-variable-when-you-can-simply-type-the-variable-name","title":"Why would you use &#39;&quot;%d&quot;, variable&#39; when you can simply type the variable name?","body":"<p>I was wondering why my professor would type</p>\n<pre><code>System.out.println(&quot;%d&quot;, myRank);\n</code></pre>\n<p>instead of</p>\n<pre><code>System.out.println(myRank);\n</code></pre>\n<p>from my point of view the latter is inherently more efficient and has the same effect</p>\n<p>I've tried both and they perform the same, so I am quite confused as to why the former is used at all</p>\n"},{"tags":["java","user-interface","netbeans"],"comments":[{"score":0,"post_type":"question","creation_date":1701360128,"post_id":77579869,"comment_id":136768402,"body_markdown":"&quot;*i didnt try anything, IDK what to do*&quot; -- please at least do basic Google research on the issue before asking, and then use this information to help give your question more focus. Check out the [ask] and [tour] for more information on best practices when using the site.","link":"https://stackoverflow.com/questions/77579869/how-to-make-sure-nobody-puts-letters-in-java-textfieldnetbeans#comment136768402_77579869","body":"&quot;<i>i didnt try anything, IDK what to do</i>&quot; -- please at least do basic Google research on the issue before asking, and then use this information to help give your question more focus. Check out the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/tour\">tour</a> for more information on best practices when using the site."},{"score":0,"post_type":"question","creation_date":1701360319,"post_id":77579869,"comment_id":136768448,"body_markdown":"Look up use of a `TextFormatter&lt;V&gt;`","link":"https://stackoverflow.com/questions/77579869/how-to-make-sure-nobody-puts-letters-in-java-textfieldnetbeans#comment136768448_77579869","body":"Look up use of a <code>TextFormatter&lt;V&gt;</code>"}],"comment_count":2,"is_answered":false,"view_count":25,"answer_count":0,"score":-1,"last_activity_date":1701360302,"creation_date":1701359970,"question_id":77579869,"body_markdown":"i have to make sure that people only input number values in my text field in java fx\r\n\r\ni didnt try anything, IDK what to do. I thought of using a if statment, and saying if [a,b,c,d,e__ goes on] in text field. then i will delete the whold text box, and tell the ","link":"https://stackoverflow.com/questions/77579869/how-to-make-sure-nobody-puts-letters-in-java-textfieldnetbeans","title":"how to make sure nobody puts letters in java textfield(netbeans)","body":"<p>i have to make sure that people only input number values in my text field in java fx</p>\n<p>i didnt try anything, IDK what to do. I thought of using a if statment, and saying if [a,b,c,d,e__ goes on] in text field. then i will delete the whold text box, and tell the</p>\n"},{"tags":["java","processhandle"],"comments":[{"score":0,"post_type":"question","creation_date":1701298183,"post_id":77572590,"comment_id":136759937,"body_markdown":"I think the reason commandLine() returns `Optional&lt;String&gt;` is precisely because some operating systems don’t provide a way to get the full command line for a process.","link":"https://stackoverflow.com/questions/77572590/javas-processhandle-cannot-get-arguments-properly#comment136759937_77572590","body":"I think the reason commandLine() returns <code>Optional&lt;String&gt;</code> is precisely because some operating systems don’t provide a way to get the full command line for a process."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701350546,"post_id":77577328,"comment_id":136766445,"body_markdown":"What if add a $ in the arguments? e.g.  java Main $test ?","link":"https://stackoverflow.com/questions/77572590/javas-processhandle-cannot-get-arguments-properly/77577328#comment136766445_77577328","body":"What if add a $ in the arguments? e.g.  java Main $test ?"},{"score":0,"post_type":"answer","creation_date":1701359972,"post_id":77577328,"comment_id":136768364,"body_markdown":"&#39;$&#39; character on the command line could lead to &#39;parameter expansion, command substitution, or arithmetic expansion&#39;. I&#39;ll update my answer to give you more examples.  Also see\n[link](https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html)","link":"https://stackoverflow.com/questions/77572590/javas-processhandle-cannot-get-arguments-properly/77577328#comment136768364_77577328","body":"&#39;$&#39; character on the command line could lead to &#39;parameter expansion, command substitution, or arithmetic expansion&#39;. I&#39;ll update my answer to give you more examples.  Also see <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\" rel=\"nofollow noreferrer\">link</a>"}],"comment_count":2,"score":0,"last_activity_date":1701360146,"last_edit_date":1701360146,"creation_date":1701336952,"answer_id":77577328,"question_id":77572590,"body_markdown":"\r\nAccording to ProcessHandle.Info&#39;s javadoc this class is implementation and platform specific. It does not garantee the results you expect.\r\n\r\nCheck this out:\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.Info.html\r\n\r\nAlso check &#39;API Note&#39; for commandLine() and argument() methods\r\n\r\nIf you&#39;re limited with OS choice you can try other vendors of jdks.\r\n\r\nBtw your code works as expected in linux. I&#39;ve checked it in docker container with Debian 12 and Corretto 11 jdk.\r\n\r\n        root@29598b080453:/# cat &gt;Main.java\r\n        public class Main {\r\n            public static void main(String[] args) {\r\n                System.out.println(ProcessHandle.current().info().commandLine());\r\n            }\r\n        }\r\n\r\n        ^C\r\n        root@29598b080453:/# javac Main.java\r\n        root@29598b080453:/# java Main arg1 arg2\r\n        Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2]\r\n        root@29598b080453:/#\r\n        root@29598b080453:/#\r\n        root@29598b080453:/# java Main arg1 arg2 &quot;agr3 with spaces&quot;\r\n        Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2 agr3 with spaces]\r\n\r\nThere are some examples of how $ character may affect command interpretation by shell and commandLine method output accordingly.\r\n\r\n    root@29598b080453:/# export arg2=arg2value\r\n    root@29598b080453:/# java Main arg1 arg2\r\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2]\r\n    root@29598b080453:/# java Main arg1 &#39;$arg2&#39;\r\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 $arg2]\r\n    root@29598b080453:/# java Main arg1 &quot;$arg2&quot;\r\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2value]\r\n    root@29598b080453:/# java Main arg1 &#39;&quot;$arg2&quot;&#39;\r\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 &quot;$arg2&quot;]\r\n    root@29598b080453:/# java Main arg1 &quot;&#39;$arg2&#39;&quot;\r\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 &#39;arg2value&#39;]\r\n    root@29598b080453:/#","link":"https://stackoverflow.com/questions/77572590/javas-processhandle-cannot-get-arguments-properly/77577328#77577328","title":"Java&#39;s ProcessHandle cannot get arguments properly","body":"<p>According to ProcessHandle.Info's javadoc this class is implementation and platform specific. It does not garantee the results you expect.</p>\n<p>Check this out:\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.Info.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.Info.html</a></p>\n<p>Also check 'API Note' for commandLine() and argument() methods</p>\n<p>If you're limited with OS choice you can try other vendors of jdks.</p>\n<p>Btw your code works as expected in linux. I've checked it in docker container with Debian 12 and Corretto 11 jdk.</p>\n<pre><code>    root@29598b080453:/# cat &gt;Main.java\n    public class Main {\n        public static void main(String[] args) {\n            System.out.println(ProcessHandle.current().info().commandLine());\n        }\n    }\n\n    ^C\n    root@29598b080453:/# javac Main.java\n    root@29598b080453:/# java Main arg1 arg2\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2]\n    root@29598b080453:/#\n    root@29598b080453:/#\n    root@29598b080453:/# java Main arg1 arg2 &quot;agr3 with spaces&quot;\n    Optional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2 agr3 with spaces]\n</code></pre>\n<p>There are some examples of how $ character may affect command interpretation by shell and commandLine method output accordingly.</p>\n<pre><code>root@29598b080453:/# export arg2=arg2value\nroot@29598b080453:/# java Main arg1 arg2\nOptional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2]\nroot@29598b080453:/# java Main arg1 '$arg2'\nOptional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 $arg2]\nroot@29598b080453:/# java Main arg1 &quot;$arg2&quot;\nOptional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 arg2value]\nroot@29598b080453:/# java Main arg1 '&quot;$arg2&quot;'\nOptional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 &quot;$arg2&quot;]\nroot@29598b080453:/# java Main arg1 &quot;'$arg2'&quot;\nOptional[/usr/lib/jvm/java-11-amazon-corretto/bin/java Main arg1 'arg2value']\nroot@29598b080453:/#\n</code></pre>\n"}],"comment_count":1,"is_answered":false,"view_count":82,"answer_count":1,"score":1,"last_activity_date":1701360146,"creation_date":1701272475,"last_edit_date":1701308348,"question_id":77572590,"body_markdown":"I have encountered into this problem while writing a minecraft mod.\r\n\r\nEnvironment: MacOS\r\nJVM: \r\n```\r\njava version &quot;17.0.2&quot; 2022-01-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\r\n```\r\nReproduce: \r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(ProcessHandle.current().info().commandLine().orElse(&quot;none&quot;));\r\n    }\r\n}\r\n```\r\n\r\nThen execute this command:\r\n```bash\r\njava  &quot;Main&quot; &quot;--username&quot; &quot;Steve47876&quot; &quot;--version&quot; &quot;1.20.1-fabric&quot; &quot;--gameDir&quot; &quot;/Users/zhaoliyan/Library/Application Support/minecraft/versions/1.20.1-fabric&quot; &quot;--assetsDir&quot; &quot;/Users/zhaoliyan/Library/Application Support/minecraft/assets&quot; &quot;--assetIndex&quot; &quot;5&quot; &quot;--uuid&quot; &quot;b7374a0acf0743e79a7a0e2cad64c9f9&quot; &quot;--accessToken&quot; &quot;eyJraWQiOiJhYzg07f3G03Vr3bhNG6vdsG7DD8QehRpITidVEZuo&quot; &quot;--clientId&quot; &quot;${clientid}&quot; &quot;--xuid&quot; &quot;${auth_xuid}&quot; &quot;--userType&quot; &quot;msa&quot; &quot;--versionType&quot; &quot;HMCL 3.5.5&quot; &quot;--width&quot; &quot;854&quot; &quot;--height&quot; &quot;480&quot;\r\n```\r\n\r\nThe output is &quot;none&quot;.\r\n\r\n**Update**: I found that if there is a `$` in arguments, java failed to get command line, e.g. `$a`, `${a}`. Is this a bug of java?\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77572590/javas-processhandle-cannot-get-arguments-properly","title":"Java&#39;s ProcessHandle cannot get arguments properly","body":"<p>I have encountered into this problem while writing a minecraft mod.</p>\n<p>Environment: MacOS\nJVM:</p>\n<pre><code>java version &quot;17.0.2&quot; 2022-01-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\n</code></pre>\n<p>Reproduce:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(ProcessHandle.current().info().commandLine().orElse(&quot;none&quot;));\n    }\n}\n</code></pre>\n<p>Then execute this command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java  &quot;Main&quot; &quot;--username&quot; &quot;Steve47876&quot; &quot;--version&quot; &quot;1.20.1-fabric&quot; &quot;--gameDir&quot; &quot;/Users/zhaoliyan/Library/Application Support/minecraft/versions/1.20.1-fabric&quot; &quot;--assetsDir&quot; &quot;/Users/zhaoliyan/Library/Application Support/minecraft/assets&quot; &quot;--assetIndex&quot; &quot;5&quot; &quot;--uuid&quot; &quot;b7374a0acf0743e79a7a0e2cad64c9f9&quot; &quot;--accessToken&quot; &quot;eyJraWQiOiJhYzg07f3G03Vr3bhNG6vdsG7DD8QehRpITidVEZuo&quot; &quot;--clientId&quot; &quot;${clientid}&quot; &quot;--xuid&quot; &quot;${auth_xuid}&quot; &quot;--userType&quot; &quot;msa&quot; &quot;--versionType&quot; &quot;HMCL 3.5.5&quot; &quot;--width&quot; &quot;854&quot; &quot;--height&quot; &quot;480&quot;\n</code></pre>\n<p>The output is &quot;none&quot;.</p>\n<p><strong>Update</strong>: I found that if there is a <code>$</code> in arguments, java failed to get command line, e.g. <code>$a</code>, <code>${a}</code>. Is this a bug of java?</p>\n"},{"tags":["java","spring","github-actions","act"],"comment_count":0,"is_answered":false,"view_count":18,"answer_count":0,"score":0,"last_activity_date":1701359738,"creation_date":1701359738,"question_id":77579850,"body_markdown":"When I use act --container-architecture linux/amd64 -j integration-tests command I have few errors at the beginning (Idk if it matters)\r\n\r\nI use Gradle 8.2.1 and Java 17\r\n\r\n```\r\n| Starting a Gradle Daemon (subsequent builds will be faster)\r\n| Caught exception: Couldn&#39;t poll for events, error = 4\r\n| Error while receiving file changes\r\n| net.rubygrapefruit.platform.NativeException: Couldn&#39;t poll for events, error = 4\r\n|         at net.rubygrapefruit.platform.internal.jni.AbstractNativeFileEventFunctions$NativeFileWatcher.executeRunLoop0(Native Method)\r\n|         at net.rubygrapefruit.platform.internal.jni.AbstractNativeFileEventFunctions$NativeFileWatcher.executeRunLoop(AbstractNativeFileEventFunctions.java:42)\r\n|         at net.rubygrapefruit.platform.internal.jni.AbstractFileEventFunctions$AbstractFileWatcher$1.run(AbstractFileEventFunctions.java:154)\r\n```\r\n\r\nAfter that, everything is fine before I run my integration tests:\r\n\r\n```\r\n| &gt; Task :ngo-backend:spotbugsMain\r\nPass 2: Analyzing classes (758 / 758) - 100% complete\r\n| Done with analysis\r\n| \r\n| &gt; Task :ngo-backend:integrationTests\r\n| \r\n| NgoBackendApplication &gt; shouldStartBackendApplicationWhenMainMethodIsInvoked() FAILED\r\n|     java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:143\r\n|         Caused by: org.springframework.context.ApplicationContextException at ServletWebServerApplicationContext.java:164\r\n|             Caused by: org.springframework.boot.web.server.WebServerException at TomcatWebServer.java:142\r\n|                 Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:533\r\n|                     Caused by: java.lang.IllegalArgumentException at PropertyPlaceholderHelper.java:180\r\n| \r\n| StaticPageResourceTest &gt; shouldUploadImageFileReference() FAILED\r\n|     java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:143\r\n|         Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\r\n|             Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\r\n|                 Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:533\r\n|                     Caused by: java.lang.IllegalArgumentException at PropertyPlaceholderHelper.java:180\r\n```\r\n\r\nthis error is for each integration test \r\n\r\nMy structure:\r\n```bash\r\n└── src\r\n    ├── IntegrationTest\r\n     &#160;&#160; ├── java\r\n     &#160;&#160; └── resources\r\n```\r\n\r\nMy integration-test.yml\r\n\r\n```\r\nname: Integration Tests\r\n\r\non:\r\n  workflow_dispatch:\r\n\r\nenv:\r\n  GRADLE_PROPERTIES: ${{ secrets.GRADLE_PROPERTIES }}\r\n\r\njobs:\r\n  integration-tests:\r\n    runs-on: ubuntu-latest\r\n    timeout-minutes: 30\r\n    steps:\r\n      - name: Checkout code\r\n        uses: actions/checkout@v3\r\n\r\n      - name: Set up JDK 1.17\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: 17\r\n          distribution: &#39;zulu&#39;\r\n\r\n      - name: Grant execute permission for gradlew\r\n        run: chmod +x gradlew\r\n\r\n      - name: Restore gradle.properties\r\n        shell: bash\r\n        run: |\r\n          mkdir -p ~/.gradle/\r\n          echo &quot;GRADLE_USER_HOME=${HOME}/.gradle&quot; &gt;&gt; $GITHUB_ENV\r\n          echo &quot;${GRADLE_PROPERTIES}&quot; &gt; ~/.gradle/gradle.properties\r\n\r\n      - name: Run Integration Tests\r\n        run: ./gradlew integrationTests --continue\r\n\r\n```\r\n\r\n\r\n\r\nI want to fix the bug and run the Github action locally","link":"https://stackoverflow.com/questions/77579850/act-nektos-act-integration-tests-failed-and-doesnt-use-properties","title":"Act (nektos / act) integration tests failed and doesn&#39;t use properties","body":"<p>When I use act --container-architecture linux/amd64 -j integration-tests command I have few errors at the beginning (Idk if it matters)</p>\n<p>I use Gradle 8.2.1 and Java 17</p>\n<pre><code>| Starting a Gradle Daemon (subsequent builds will be faster)\n| Caught exception: Couldn't poll for events, error = 4\n| Error while receiving file changes\n| net.rubygrapefruit.platform.NativeException: Couldn't poll for events, error = 4\n|         at net.rubygrapefruit.platform.internal.jni.AbstractNativeFileEventFunctions$NativeFileWatcher.executeRunLoop0(Native Method)\n|         at net.rubygrapefruit.platform.internal.jni.AbstractNativeFileEventFunctions$NativeFileWatcher.executeRunLoop(AbstractNativeFileEventFunctions.java:42)\n|         at net.rubygrapefruit.platform.internal.jni.AbstractFileEventFunctions$AbstractFileWatcher$1.run(AbstractFileEventFunctions.java:154)\n</code></pre>\n<p>After that, everything is fine before I run my integration tests:</p>\n<pre><code>| &gt; Task :ngo-backend:spotbugsMain\nPass 2: Analyzing classes (758 / 758) - 100% complete\n| Done with analysis\n| \n| &gt; Task :ngo-backend:integrationTests\n| \n| NgoBackendApplication &gt; shouldStartBackendApplicationWhenMainMethodIsInvoked() FAILED\n|     java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:143\n|         Caused by: org.springframework.context.ApplicationContextException at ServletWebServerApplicationContext.java:164\n|             Caused by: org.springframework.boot.web.server.WebServerException at TomcatWebServer.java:142\n|                 Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:533\n|                     Caused by: java.lang.IllegalArgumentException at PropertyPlaceholderHelper.java:180\n| \n| StaticPageResourceTest &gt; shouldUploadImageFileReference() FAILED\n|     java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:143\n|         Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\n|             Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\n|                 Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:533\n|                     Caused by: java.lang.IllegalArgumentException at PropertyPlaceholderHelper.java:180\n</code></pre>\n<p>this error is for each integration test</p>\n<p>My structure:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>└── src\n    ├── IntegrationTest\n        ├── java\n        └── resources\n</code></pre>\n<p>My integration-test.yml</p>\n<pre><code>name: Integration Tests\n\non:\n  workflow_dispatch:\n\nenv:\n  GRADLE_PROPERTIES: ${{ secrets.GRADLE_PROPERTIES }}\n\njobs:\n  integration-tests:\n    runs-on: ubuntu-latest\n    timeout-minutes: 30\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v3\n\n      - name: Set up JDK 1.17\n        uses: actions/setup-java@v3\n        with:\n          java-version: 17\n          distribution: 'zulu'\n\n      - name: Grant execute permission for gradlew\n        run: chmod +x gradlew\n\n      - name: Restore gradle.properties\n        shell: bash\n        run: |\n          mkdir -p ~/.gradle/\n          echo &quot;GRADLE_USER_HOME=${HOME}/.gradle&quot; &gt;&gt; $GITHUB_ENV\n          echo &quot;${GRADLE_PROPERTIES}&quot; &gt; ~/.gradle/gradle.properties\n\n      - name: Run Integration Tests\n        run: ./gradlew integrationTests --continue\n\n</code></pre>\n<p>I want to fix the bug and run the Github action locally</p>\n"},{"tags":["java","nullpointerexception","hashmap","iteration"],"comments":[{"score":1,"post_type":"question","creation_date":1701359389,"post_id":77579758,"comment_id":136768257,"body_markdown":"You have a typo: `frequencies.get(backingArray[i]+1)` is not the same as `frequencies.get(backingArray[i])+1`.","link":"https://stackoverflow.com/questions/77579758/java-foreach-loop-through-hashmap-throwing-npe-what-might-the-problem-here-be#comment136768257_77579758","body":"You have a typo: <code>frequencies.get(backingArray[i]+1)</code> is not the same as <code>frequencies.get(backingArray[i])+1</code>."},{"score":3,"post_type":"question","creation_date":1701359393,"post_id":77579758,"comment_id":136768260,"body_markdown":"`frequencies.get(backingArray[i]+1)` is wrong. It should be `frequencies.get(backingArray[i])+1` (note the different place of the `)`). But don’t make it so complicated. Assuming `this.size()` returns `backingArray.length`, use `for(int value: backingArray) frequencies.merge(value, 1, Integer::sum);` Further, you can use `int highest = Collections.max(frequencies.values()), numOfMostCommon = Collections.frequency(frequencies.values(), highest);`","link":"https://stackoverflow.com/questions/77579758/java-foreach-loop-through-hashmap-throwing-npe-what-might-the-problem-here-be#comment136768260_77579758","body":"<code>frequencies.get(backingArray[i]+1)</code> is wrong. It should be <code>frequencies.get(backingArray[i])+1</code> (note the different place of the <code>)</code>). But don’t make it so complicated. Assuming <code>this.size()</code> returns <code>backingArray.length</code>, use <code>for(int value: backingArray) frequencies.merge(value, 1, Integer::sum);</code> Further, you can use <code>int highest = Collections.max(frequencies.values()), numOfMostCommon = Collections.frequency(frequencies.values(), highest);</code>"},{"score":1,"post_type":"question","creation_date":1701359742,"post_id":77579758,"comment_id":136768324,"body_markdown":"An alternative to the last loop: `int highest = Collections.max(frequencies.values()); frequencies.values().removeIf(freq -&gt; freq != highest); String[] mostCommon = frequencies.keySet().toArray(new String[0]);`","link":"https://stackoverflow.com/questions/77579758/java-foreach-loop-through-hashmap-throwing-npe-what-might-the-problem-here-be#comment136768324_77579758","body":"An alternative to the last loop: <code>int highest = Collections.max(frequencies.values()); frequencies.values().removeIf(freq -&gt; freq != highest); String[] mostCommon = frequencies.keySet().toArray(new String[0]);</code>"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701359622,"creation_date":1701359622,"answer_id":77579838,"question_id":77579758,"body_markdown":"A typo. You wrote:\r\n\r\n```\r\nfrequencies.get(backingArray[i]+1)\r\n```\r\n\r\nYou wanted:\r\n\r\n```\r\nfrequencies.get(backingArray[i])+1\r\n```\r\n\r\n\r\nThe former gets the value associated with something else, which is likely non-existent, thus, gets you `null`, thus, replaces the value associated with `backingArray[i]` with `null`. Which you later get, resulting in a NullpointerException`.\r\n\r\nThe second form simply &#39;adds 1 to the value&#39; which is presumably what you want.\r\n\r\nNote that you can do this in a single operation with `merge`, but, that&#39;s not going to meaningfully change any performance here - it would just be arguably easier to read.\r\n","link":"https://stackoverflow.com/questions/77579758/java-foreach-loop-through-hashmap-throwing-npe-what-might-the-problem-here-be/77579838#77579838","title":"Java Foreach Loop through Hashmap Throwing NPE -- What might the problem here be?","body":"<p>A typo. You wrote:</p>\n<pre><code>frequencies.get(backingArray[i]+1)\n</code></pre>\n<p>You wanted:</p>\n<pre><code>frequencies.get(backingArray[i])+1\n</code></pre>\n<p>The former gets the value associated with something else, which is likely non-existent, thus, gets you <code>null</code>, thus, replaces the value associated with <code>backingArray[i]</code> with <code>null</code>. Which you later get, resulting in a NullpointerException`.</p>\n<p>The second form simply 'adds 1 to the value' which is presumably what you want.</p>\n<p>Note that you can do this in a single operation with <code>merge</code>, but, that's not going to meaningfully change any performance here - it would just be arguably easier to read.</p>\n"}],"comment_count":3,"is_answered":false,"view_count":52,"answer_count":1,"score":0,"last_activity_date":1701359622,"creation_date":1701358942,"question_id":77579758,"body_markdown":"As part of a project, I&#39;ve been tasked with creating a method that outputs a List of the most commonly occurring Strings in a given input List. The assignment specifies that this must be done by creating a hashmap of words (Strings) and the number of times they appear (Integers.) Then, the ones that appear most often must be returned in a List. \r\n\r\nWhen I tried to run my implementation of this, I got the following error: `java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;java.util.Iterator.next()&quot; is null`\r\n\r\n\r\n```\r\npublic SList commonStrings() {\r\n        HashMap&lt;String, Integer&gt; frequencies = new HashMap&lt;String, Integer&gt;(this.size());\r\n        int numOfMostCommon = 0;\r\n        int highest = 0;\r\n        int j = 0;\r\n        for (int i = 0; i &lt; this.size(); i++) {\r\n            if (frequencies.containsKey(this.backingArray[i])) {\r\n                frequencies.replace(this.backingArray[i], frequencies.get(backingArray[i]+1));\r\n            }\r\n            else {\r\n                frequencies.put(this.backingArray[i], 1);\r\n            }\r\n        }\r\n        for (int i : frequencies.values()) {\r\n           if (i &gt; highest) {\r\n                highest = i;\r\n            }\r\n        }\r\n        for (int i : frequencies.values()) {\r\n           if (i == highest) {\r\n                numOfMostCommon++;\r\n            }\r\n        }\r\n        String[] mostCommon = new String[numOfMostCommon];\r\n        for (Map.Entry&lt;String,Integer&gt; i : frequencies.entrySet()) {\r\n            if (i.getValue() == highest) {\r\n                mostCommon[j] = i.getKey();\r\n                j++;\r\n            }\r\n        }\r\n        return new SListArray(mostCommon);\r\n        }\r\n```\r\n","link":"https://stackoverflow.com/questions/77579758/java-foreach-loop-through-hashmap-throwing-npe-what-might-the-problem-here-be","title":"Java Foreach Loop through Hashmap Throwing NPE -- What might the problem here be?","body":"<p>As part of a project, I've been tasked with creating a method that outputs a List of the most commonly occurring Strings in a given input List. The assignment specifies that this must be done by creating a hashmap of words (Strings) and the number of times they appear (Integers.) Then, the ones that appear most often must be returned in a List.</p>\n<p>When I tried to run my implementation of this, I got the following error: <code>java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;java.util.Iterator.next()&quot; is null</code></p>\n<pre><code>public SList commonStrings() {\n        HashMap&lt;String, Integer&gt; frequencies = new HashMap&lt;String, Integer&gt;(this.size());\n        int numOfMostCommon = 0;\n        int highest = 0;\n        int j = 0;\n        for (int i = 0; i &lt; this.size(); i++) {\n            if (frequencies.containsKey(this.backingArray[i])) {\n                frequencies.replace(this.backingArray[i], frequencies.get(backingArray[i]+1));\n            }\n            else {\n                frequencies.put(this.backingArray[i], 1);\n            }\n        }\n        for (int i : frequencies.values()) {\n           if (i &gt; highest) {\n                highest = i;\n            }\n        }\n        for (int i : frequencies.values()) {\n           if (i == highest) {\n                numOfMostCommon++;\n            }\n        }\n        String[] mostCommon = new String[numOfMostCommon];\n        for (Map.Entry&lt;String,Integer&gt; i : frequencies.entrySet()) {\n            if (i.getValue() == highest) {\n                mostCommon[j] = i.getKey();\n                j++;\n            }\n        }\n        return new SListArray(mostCommon);\n        }\n</code></pre>\n"},{"tags":["java","swing","inheritance","extends","jcomponent"],"comments":[{"score":1,"post_type":"question","creation_date":1701346041,"post_id":77577621,"comment_id":136765530,"body_markdown":"You need to show your code. To much guess work for us now.","link":"https://stackoverflow.com/questions/77577621/extend-jcomponent-but-keep-all-child-functionality#comment136765530_77577621","body":"You need to show your code. To much guess work for us now."},{"score":1,"post_type":"question","creation_date":1701359085,"post_id":77577621,"comment_id":136768213,"body_markdown":"Yes, there is a better way. And once we know which “certain behavior” you want to implement, we can tell you which “certain solution” will fit.","link":"https://stackoverflow.com/questions/77577621/extend-jcomponent-but-keep-all-child-functionality#comment136768213_77577621","body":"Yes, there is a better way. And once we know which “certain behavior” you want to implement, we can tell you which “certain solution” will fit."},{"score":1,"post_type":"question","creation_date":1701359570,"post_id":77577621,"comment_id":136768295,"body_markdown":"(1-) Your previous question: https://stackoverflow.com/questions/77574787/disable-jcombobox-pop-up-item-selection-on-arrow-keys still needs clarification. Your questions can&#39;t be so vague if you want help. If we can take the time to help then you can take the time to clarify your reuquirements.","link":"https://stackoverflow.com/questions/77577621/extend-jcomponent-but-keep-all-child-functionality#comment136768295_77577621","body":"(1-) Your previous question: <a href=\"https://stackoverflow.com/questions/77574787/disable-jcombobox-pop-up-item-selection-on-arrow-keys\" title=\"disable jcombobox pop up item selection on arrow keys\">stackoverflow.com/questions/77574787/&hellip;</a> still needs clarification. Your questions can&#39;t be so vague if you want help. If we can take the time to help then you can take the time to clarify your reuquirements."},{"score":0,"post_type":"question","creation_date":1701426690,"post_id":77577621,"comment_id":136776878,"body_markdown":"Guys, I ask a vague question because I want a generalized answer. I want to knof if B extends A and C extends A, and both B and C have their own methods, can I add functionality to class A without affecting the tree of children below. So AN extends A and make both B and C have that functionality. I assume that is impossible, which is the best solution would probably be to make a static handler class that accepts a JComponent (A) and does something on it. But I wanted to ask if extending/changing parent class is possible. You don&#39;t need my code for that.","link":"https://stackoverflow.com/questions/77577621/extend-jcomponent-but-keep-all-child-functionality#comment136776878_77577621","body":"Guys, I ask a vague question because I want a generalized answer. I want to knof if B extends A and C extends A, and both B and C have their own methods, can I add functionality to class A without affecting the tree of children below. So AN extends A and make both B and C have that functionality. I assume that is impossible, which is the best solution would probably be to make a static handler class that accepts a JComponent (A) and does something on it. But I wanted to ask if extending/changing parent class is possible. You don&#39;t need my code for that."},{"score":1,"post_type":"question","creation_date":1701448752,"post_id":77577621,"comment_id":136780915,"body_markdown":"The alternative to inheritance is to use delegation. Swing has been designed to support customization via delegation in various ways, depending on the actual task. There are very rare corner cases where extending a component is required. So the general answer is *use delegation*.","link":"https://stackoverflow.com/questions/77577621/extend-jcomponent-but-keep-all-child-functionality#comment136780915_77577621","body":"The alternative to inheritance is to use delegation. Swing has been designed to support customization via delegation in various ways, depending on the actual task. There are very rare corner cases where extending a component is required. So the general answer is <i>use delegation</i>."}],"comment_count":5,"is_answered":false,"view_count":34,"answer_count":0,"score":-2,"last_activity_date":1701359600,"creation_date":1701339608,"last_edit_date":1701359600,"question_id":77577621,"body_markdown":"I want to have a certain behavior in mulpiple of my java components\r\n(JButton, JComboBox, JCheckbox etc).\r\n\r\nRight now I made an interface and I extend those classes independently, but there is a lot of code duplication. Ideally, I&#39;d like to put it into JComponent and be done with it.\r\n\r\nBut if I extend Jcomponent, to myJComponent, and then myJButton extends myJComponent - I will lose all the functionality specific to JButton core class.\r\n\r\nIs there a better way than what I&#39;m doing (interface and duplicated code)? Maybe there&#39;s some method to substitute original JComponent with mine so all JComponent&#39;s children actually extend from myJComponent and inherit that functionality?\r\n\r\nOr some other better way. \r\n\r\nThank you. ","link":"https://stackoverflow.com/questions/77577621/extend-jcomponent-but-keep-all-child-functionality","title":"Extend JComponent but keep all child functionality","body":"<p>I want to have a certain behavior in mulpiple of my java components\n(JButton, JComboBox, JCheckbox etc).</p>\n<p>Right now I made an interface and I extend those classes independently, but there is a lot of code duplication. Ideally, I'd like to put it into JComponent and be done with it.</p>\n<p>But if I extend Jcomponent, to myJComponent, and then myJButton extends myJComponent - I will lose all the functionality specific to JButton core class.</p>\n<p>Is there a better way than what I'm doing (interface and duplicated code)? Maybe there's some method to substitute original JComponent with mine so all JComponent's children actually extend from myJComponent and inherit that functionality?</p>\n<p>Or some other better way.</p>\n<p>Thank you.</p>\n"},{"tags":["java","jersey","wildfly"],"comments":[{"score":0,"post_type":"question","creation_date":1701219224,"post_id":77566721,"comment_id":136747741,"body_markdown":"Is there a reason to use Jersey directly? WildFly provides RESTEasy for it&#39;s Jakarta REST implementation.","link":"https://stackoverflow.com/questions/77566721/i-cant-upload-a-war-file-by-wildfly-10-because-of-missing-dependencies#comment136747741_77566721","body":"Is there a reason to use Jersey directly? WildFly provides RESTEasy for it&#39;s Jakarta REST implementation."},{"score":0,"post_type":"question","creation_date":1701280210,"post_id":77566721,"comment_id":136757256,"body_markdown":"Jersey is part of the implementation and It&#39;s not a requeriment to change it.","link":"https://stackoverflow.com/questions/77566721/i-cant-upload-a-war-file-by-wildfly-10-because-of-missing-dependencies#comment136757256_77566721","body":"Jersey is part of the implementation and It&#39;s not a requeriment to change it."},{"score":0,"post_type":"question","creation_date":1701281611,"post_id":77566721,"comment_id":136757470,"body_markdown":"Then you&#39;re going to have to exclude the `jaxrs` subsystem with a `jboss-deployment-structure.xml` from your deployment. I don&#39;t know what parts of Jersey you&#39;ll need however.","link":"https://stackoverflow.com/questions/77566721/i-cant-upload-a-war-file-by-wildfly-10-because-of-missing-dependencies#comment136757470_77566721","body":"Then you&#39;re going to have to exclude the <code>jaxrs</code> subsystem with a <code>jboss-deployment-structure.xml</code> from your deployment. I don&#39;t know what parts of Jersey you&#39;ll need however."},{"score":0,"post_type":"question","creation_date":1701359485,"post_id":77566721,"comment_id":136768280,"body_markdown":"I put the &#39;Added 1&#39; in the post with details of adding jboss-deployment-structure.xml but it&#39;s still not working.","link":"https://stackoverflow.com/questions/77566721/i-cant-upload-a-war-file-by-wildfly-10-because-of-missing-dependencies#comment136768280_77566721","body":"I put the &#39;Added 1&#39; in the post with details of adding jboss-deployment-structure.xml but it&#39;s still not working."},{"score":0,"post_type":"question","creation_date":1701359680,"post_id":77566721,"comment_id":136768312,"body_markdown":"It&#39;s tough to tell what it would be. I don&#39;t know what Jersey dependencies are needed to get Jakarta REST working in a different container.","link":"https://stackoverflow.com/questions/77566721/i-cant-upload-a-war-file-by-wildfly-10-because-of-missing-dependencies#comment136768312_77566721","body":"It&#39;s tough to tell what it would be. I don&#39;t know what Jersey dependencies are needed to get Jakarta REST working in a different container."}],"comment_count":5,"is_answered":false,"view_count":24,"answer_count":0,"score":0,"last_activity_date":1701359327,"creation_date":1701200284,"last_edit_date":1701359327,"question_id":77566721,"body_markdown":"I tried to upload an application called app.war to wildfly 10 server. This wildfly was turned on using java 1.8u172.\r\nOn the other side, I generated the war file using Netbeans. The java platform to build the war file  is also java 1.8u172.\r\n\r\nThe POM file has the following dependencies:\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.owlike&lt;/groupId&gt;\r\n            &lt;artifactId&gt;genson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;         \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n\t\t\r\n\t\t\r\nWeb.xml content:\r\n\r\n\r\n\t\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t\t&lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\r\n\t\t\t&lt;!-- REST API --&gt;\r\n\t\t\t&lt;servlet&gt;\r\n\t\t\t\t&lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\r\n\t\t\t\t&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t\t\t&lt;init-param&gt;\r\n\t\t\t\t\t&lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\r\n\t\t\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t\t\t&lt;/init-param&gt;\r\n\t\t\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t\t\t&lt;/servlet&gt;\r\n\t\t\t&lt;servlet-mapping&gt;\r\n\t\t\t\t&lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\r\n\t\t\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t\t\t&lt;/servlet-mapping&gt;\r\n\t\t&lt;/web-app&gt;\r\n\r\n\r\nThe war file couldn&#39;t be uploaded. Wildfly shows the following messages:\r\n\r\n\t\tCannot upload deployment: {\r\n\t\t\t\t&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./app&quot; \r\n\t\t\t\t=&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./app: \r\n\t\t\t\tjava.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921 \r\n\t\t\t\tCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921&quot;},\r\n\t\t\t\t&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./app&quot;],\r\n\t\t\t\t&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined}\r\n\t\t\r\n\r\nI prefer to make it works using java 1.8u172 without upgrading jerssey library. The idea is knowing the reason why the uploading it&#39;s not working.\r\nHow can I figure it out the missing dependencies or What can I do for this case?\r\n\r\n**Added 1:**\r\n\r\nBy Netbeans, I created the folder META-INF inside webapps folder. Then I created the jboss-deployment-structure.xml file with the content as follows:\r\n\r\njboss-deployment-structure.xml:\r\n\r\n\t&lt;jboss-deployment-structure&gt;\r\n\t&lt;deployment&gt;\r\n\t\t&lt;exclude-subsystems&gt;\r\n\t\t\t&lt;subsystem name=&quot;jaxrs&quot; /&gt;\r\n\t\t&lt;/exclude-subsystems&gt;\r\n\t&lt;/deployment&gt;\r\n\t&lt;/jboss-deployment-structure&gt; \r\n\r\n\r\nEven though, I couldn&#39;t upload the war file. I&#39;ll show Wildfly log\t\r\n\r\nWildfly Server.log\r\n\t\r\n    2023-11-30 10:10:42,086 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 98) MSC000001: \r\n    \tFailed to start service jboss.undertow.deployment.default-server.default-host./app: org.jboss.msc.service.StartException \r\n    \tin service jboss.undertow.deployment.default-server.default-host./app: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:85)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\t\t...\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\r\n    \tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n    \tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n    \tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n    \tat com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:133)\r\n    \tat com.sun.jersey.core.spi.scanning.JarFileScanner.scan(JarFileScanner.java:97)\r\n    \t... \r\n    \r\n    2023-11-30 10:10:42,106 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;app.war&quot;)]) - failure description: {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./app&quot; =&gt; &quot;org.jboss.msc.service.StartException \r\n    \tin service jboss.undertow.deployment.default-server.default-host./app: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\r\n        Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921&quot;},\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./app&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\r\n    }\r\n    2023-11-30 10:10:42,106 ERROR [org.jboss.as.server] (External Management Request Threads -- 1) WFLYSRV0021: Deploy of deployment &quot;app.war&quot; was rolled back with the following failure message: \r\n    {\r\n        &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./app&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./app: \r\n    \tjava.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\r\n        Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921&quot;},\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./app&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\r\n    }\r\n    2023-11-30 10:10:42,415 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0028: Stopped deployment app.war (runtime-name: app.war) in 304ms\r\n    2023-11-30 10:10:42,415 INFO  [org.jboss.as.controller] (External Management Request Threads -- 1) WFLYCTL0183: Service status report\r\n    WFLYCTL0184:    New missing/unsatisfied dependencies:\r\n          service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;com.sun.faces.config.ConfigureListener&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \r\n          service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;com.sun.jersey.server.impl.container.servlet.Include&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \r\n          service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;com.sun.jersey.spi.container.servlet.ServletContainer&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \r\n          service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;javax.faces.webapp.FacetTag&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \r\n          service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \r\n          service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;javax.servlet.jsp.jstl.tlv.ScriptFreeTLV&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \r\n          service jboss.undertow.deployment.default-server.default-host./app (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] ","link":"https://stackoverflow.com/questions/77566721/i-cant-upload-a-war-file-by-wildfly-10-because-of-missing-dependencies","title":"I can&#39;t upload a war file by wildfly 10 because of missing dependencies","body":"<p>I tried to upload an application called app.war to wildfly 10 server. This wildfly was turned on using java 1.8u172.\nOn the other side, I generated the war file using Netbeans. The java platform to build the war file  is also java 1.8u172.</p>\n<p>The POM file has the following dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.owlike&lt;/groupId&gt;\n        &lt;artifactId&gt;genson&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;         \n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt; \n    \n    \n</code></pre>\n<p>Web.xml content:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\n        &lt;!-- REST API --&gt;\n        &lt;servlet&gt;\n            &lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\n            &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n            &lt;init-param&gt;\n                &lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\n                &lt;param-value&gt;true&lt;/param-value&gt;\n            &lt;/init-param&gt;\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n        &lt;/servlet&gt;\n        &lt;servlet-mapping&gt;\n            &lt;servlet-name&gt;jersey-serlvet&lt;/servlet-name&gt;\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;/servlet-mapping&gt;\n    &lt;/web-app&gt;\n</code></pre>\n<p>The war file couldn't be uploaded. Wildfly shows the following messages:</p>\n<pre><code>    Cannot upload deployment: {\n            &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./app&quot; \n            =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./app: \n            java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921 \n            Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921&quot;},\n            &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./app&quot;],\n            &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined}\n    \n</code></pre>\n<p>I prefer to make it works using java 1.8u172 without upgrading jerssey library. The idea is knowing the reason why the uploading it's not working.\nHow can I figure it out the missing dependencies or What can I do for this case?</p>\n<p><strong>Added 1:</strong></p>\n<p>By Netbeans, I created the folder META-INF inside webapps folder. Then I created the jboss-deployment-structure.xml file with the content as follows:</p>\n<p>jboss-deployment-structure.xml:</p>\n<pre><code>&lt;jboss-deployment-structure&gt;\n&lt;deployment&gt;\n    &lt;exclude-subsystems&gt;\n        &lt;subsystem name=&quot;jaxrs&quot; /&gt;\n    &lt;/exclude-subsystems&gt;\n&lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt; \n</code></pre>\n<p>Even though, I couldn't upload the war file. I'll show Wildfly log</p>\n<p>Wildfly Server.log</p>\n<pre><code>2023-11-30 10:10:42,086 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 98) MSC000001: \n    Failed to start service jboss.undertow.deployment.default-server.default-host./app: org.jboss.msc.service.StartException \n    in service jboss.undertow.deployment.default-server.default-host./app: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:85)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    ...\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:133)\n    at com.sun.jersey.core.spi.scanning.JarFileScanner.scan(JarFileScanner.java:97)\n    ... \n\n2023-11-30 10:10:42,106 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;app.war&quot;)]) - failure description: {\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./app&quot; =&gt; &quot;org.jboss.msc.service.StartException \n    in service jboss.undertow.deployment.default-server.default-host./app: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./app&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\n}\n2023-11-30 10:10:42,106 ERROR [org.jboss.as.server] (External Management Request Threads -- 1) WFLYSRV0021: Deploy of deployment &quot;app.war&quot; was rolled back with the following failure message: \n{\n    &quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.undertow.deployment.default-server.default-host./app&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./app: \n    java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 19457 out of bounds for length 10921&quot;},\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.deployment.default-server.default-host./app&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; undefined\n}\n2023-11-30 10:10:42,415 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0028: Stopped deployment app.war (runtime-name: app.war) in 304ms\n2023-11-30 10:10:42,415 INFO  [org.jboss.as.controller] (External Management Request Threads -- 1) WFLYCTL0183: Service status report\nWFLYCTL0184:    New missing/unsatisfied dependencies:\n      service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;com.sun.faces.config.ConfigureListener&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n      service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;com.sun.jersey.server.impl.container.servlet.Include&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n      service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;com.sun.jersey.spi.container.servlet.ServletContainer&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n      service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;javax.faces.webapp.FacetTag&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n      service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n      service jboss.deployment.unit.&quot;app.war&quot;.component.&quot;javax.servlet.jsp.jstl.tlv.ScriptFreeTLV&quot;.START (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n      service jboss.undertow.deployment.default-server.default-host./app (missing) dependents: [service jboss.deployment.unit.&quot;app.war&quot;.deploymentCompleteService] \n</code></pre>\n"},{"tags":["java","spring","kotlin"],"comment_count":0,"is_answered":false,"view_count":29,"answer_count":0,"score":0,"last_activity_date":1701359204,"creation_date":1701359204,"question_id":77579785,"body_markdown":"I am creating REST API for ClamAV https://hub.docker.com/r/clamav/clamav and I try to use java clamav-client https://github.com/cdarras/clamav-client for this purpose.  \r\nI have built clamav-client and include produced JAR file into my project in IntelliJ IDEA Community edition. I have added this JAR file into dependencies/classpath.  \r\nBut when I run project I get exception on line `ClamavClient client = new ClamavClient(&quot;localhost&quot;)`:\r\n```\r\njava.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat xyz.capybara.clamav.ClamavClient.&lt;init&gt;(ClamavClient.kt) ~[clamav-client-2.1.3-SNAPSHOT.jar:na]\r\n\tat com.example.clamavapi.controllers.ClamavApiController.scan(ClamavApiController.java:32) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n```\r\nclamav-client is written in Kotlin so I have tried to create Kotlin project for my REST API too \r\n```\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;kotlin.version&gt;1.9.20&lt;/kotlin.version&gt;\r\n\t&lt;/properties&gt;\r\n```\r\nbut exception still remain with little difference it crash on next line `ScanResult scanResult = client.scan(inputstream)`:\r\n```\r\njava.lang.ClassNotFoundException: mu.KLogging\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat xyz.capybara.clamav.commands.Command.&lt;clinit&gt;(Command.kt) ~[clamav-client-2.1.3-SNAPSHOT.jar:na]\r\n\tat xyz.capybara.clamav.ClamavClient.scan(ClamavClient.kt:106) ~[clamav-client-2.1.3-SNAPSHOT.jar:na]\r\n\tat com.example.clamavapi.controllers.ClamavApiController.scan(ClamavApiController.java:33) ~[classes/:na]\r\n```\r\nWhat I am missing and what I have to do to run project correctly.\r\nThanks in advance.","link":"https://stackoverflow.com/questions/77579785/java-lang-classnotfoundexception-running-kotlin-jar-library","title":"java.lang.ClassNotFoundException running Kotlin jar library","body":"<p>I am creating REST API for ClamAV <a href=\"https://hub.docker.com/r/clamav/clamav\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/clamav/clamav</a> and I try to use java clamav-client <a href=\"https://github.com/cdarras/clamav-client\" rel=\"nofollow noreferrer\">https://github.com/cdarras/clamav-client</a> for this purpose.<br />\nI have built clamav-client and include produced JAR file into my project in IntelliJ IDEA Community edition. I have added this JAR file into dependencies/classpath.<br />\nBut when I run project I get exception on line <code>ClamavClient client = new ClamavClient(&quot;localhost&quot;)</code>:</p>\n<pre><code>java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at xyz.capybara.clamav.ClamavClient.&lt;init&gt;(ClamavClient.kt) ~[clamav-client-2.1.3-SNAPSHOT.jar:na]\n    at com.example.clamavapi.controllers.ClamavApiController.scan(ClamavApiController.java:32) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n</code></pre>\n<p>clamav-client is written in Kotlin so I have tried to create Kotlin project for my REST API too</p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.9.20&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>but exception still remain with little difference it crash on next line <code>ScanResult scanResult = client.scan(inputstream)</code>:</p>\n<pre><code>java.lang.ClassNotFoundException: mu.KLogging\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at xyz.capybara.clamav.commands.Command.&lt;clinit&gt;(Command.kt) ~[clamav-client-2.1.3-SNAPSHOT.jar:na]\n    at xyz.capybara.clamav.ClamavClient.scan(ClamavClient.kt:106) ~[clamav-client-2.1.3-SNAPSHOT.jar:na]\n    at com.example.clamavapi.controllers.ClamavApiController.scan(ClamavApiController.java:33) ~[classes/:na]\n</code></pre>\n<p>What I am missing and what I have to do to run project correctly.\nThanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","gradle","java-8"],"comment_count":0,"is_answered":false,"view_count":32,"answer_count":0,"score":0,"last_activity_date":1701359100,"creation_date":1701359100,"question_id":77579775,"body_markdown":"I have a spring boot(2.1.9) gradle project which is trying to build by downloading a jar file from the artifactory but it is telling it is not able to find the jar file in the following location. But when I click on the link given `https://artifactory.build.ge.com/ARJLY/com/ge/digital/oa/common/oa-common/3.0.0/oa-common-3.0.0.jar` I am able to download the jar file. Why gradle is not able to download while building..anything I am doing wrong...\r\ngradle version 6.8\r\n\r\nMy Artifactory path:\r\n\r\n    ARJLY\r\n     com/ge\r\n      digital/oa\r\n       common\r\n         oa-common\r\n          3.0.0\r\n           oa-common-3.0.0.jar\r\n\r\nMy build.gradle file\r\n\r\n    repositories {\r\n    \tmavenCentral()\r\n    \tmavenLocal()\r\n    \tmaven {\r\n    \t\turl &quot;${artifactory_contextUrl}&quot;\r\n    \t\tcredentials {\r\n    \t\t\tusername &quot;${artifactory_user}&quot;\r\n    \t\t\tpassword &quot;${artifactory_password}&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    dependencies {\r\n    \r\n    \timplementation(&#39;com.ge.digital.oa.common:oa-common:3.0.0&#39;) {\r\n    \t\texclude module: &#39;slf4j-log4j12&#39;\r\n    \t\texclude group: &#39;io.micrometer&#39;, module: &#39;micrometer-core&#39;\r\n    \t}\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-jdbc&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-cloud-connectors&#39;)\r\n\r\n\r\nError in gradle build\r\n\r\n    $ gradle clean build\r\n    &gt; Task :compileJava FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n       &gt; Could not find oa-common-3.0.0.jar (com.ge.digital.oa.common:oa-common:3.0.0).\r\n         Searched in the following locations:\r\n             https://artifactory.build.ge.com/ARJLY/com/ge/digital/oa/common/oa-common/3.0.0/oa-common-3.0.0.jar\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\n    Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    See https://docs.gradle.org/6.8/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 2s\r\n    3 actionable tasks: 3 executed\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77579775/gradle-build-failing-to-find-jar","title":"Gradle build failing to find jar","body":"<p>I have a spring boot(2.1.9) gradle project which is trying to build by downloading a jar file from the artifactory but it is telling it is not able to find the jar file in the following location. But when I click on the link given <code>https://artifactory.build.ge.com/ARJLY/com/ge/digital/oa/common/oa-common/3.0.0/oa-common-3.0.0.jar</code> I am able to download the jar file. Why gradle is not able to download while building..anything I am doing wrong...\ngradle version 6.8</p>\n<p>My Artifactory path:</p>\n<pre><code>ARJLY\n com/ge\n  digital/oa\n   common\n     oa-common\n      3.0.0\n       oa-common-3.0.0.jar\n</code></pre>\n<p>My build.gradle file</p>\n<pre><code>repositories {\n    mavenCentral()\n    mavenLocal()\n    maven {\n        url &quot;${artifactory_contextUrl}&quot;\n        credentials {\n            username &quot;${artifactory_user}&quot;\n            password &quot;${artifactory_password}&quot;\n        }\n    }\n}\ndependencies {\n\n    implementation('com.ge.digital.oa.common:oa-common:3.0.0') {\n        exclude module: 'slf4j-log4j12'\n        exclude group: 'io.micrometer', module: 'micrometer-core'\n    }\n    implementation('org.springframework.boot:spring-boot-starter-data-jpa')\n    implementation('org.springframework.boot:spring-boot-starter-jdbc')\n    implementation('org.springframework.boot:spring-boot-starter-web')\n    implementation('org.springframework.boot:spring-boot-starter-cloud-connectors')\n</code></pre>\n<p>Error in gradle build</p>\n<pre><code>$ gradle clean build\n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not find oa-common-3.0.0.jar (com.ge.digital.oa.common:oa-common:3.0.0).\n     Searched in the following locations:\n         https://artifactory.build.ge.com/ARJLY/com/ge/digital/oa/common/oa-common/3.0.0/oa-common-3.0.0.jar\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.8/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 2s\n3 actionable tasks: 3 executed\n</code></pre>\n"},{"tags":["java"],"comments":[{"score":4,"post_type":"question","creation_date":1701012279,"post_id":77552031,"comment_id":136719592,"body_markdown":"The error message is quite clear in this particular case: you do not have the necessary access rights to create the backup file.","link":"https://stackoverflow.com/questions/77552031/how-do-you-backup-mariadb-database-using-mysqldump-in-java#comment136719592_77552031","body":"The error message is quite clear in this particular case: you do not have the necessary access rights to create the backup file."},{"score":0,"post_type":"question","creation_date":1701012697,"post_id":77552031,"comment_id":136719648,"body_markdown":"@Shadow When I create the backup file manually via the command line, it works just fine. Why wouldn&#39;t it work when I try to implement the same in a java program. By the way, it worked just fine on Linux","link":"https://stackoverflow.com/questions/77552031/how-do-you-backup-mariadb-database-using-mysqldump-in-java#comment136719648_77552031","body":"@Shadow When I create the backup file manually via the command line, it works just fine. Why wouldn&#39;t it work when I try to implement the same in a java program. By the way, it worked just fine on Linux"},{"score":1,"post_type":"question","creation_date":1701013058,"post_id":77552031,"comment_id":136719682,"body_markdown":"In linux the user running the backup has the necessary access. In windows apparently not","link":"https://stackoverflow.com/questions/77552031/how-do-you-backup-mariadb-database-using-mysqldump-in-java#comment136719682_77552031","body":"In linux the user running the backup has the necessary access. In windows apparently not"},{"score":1,"post_type":"question","creation_date":1701016009,"post_id":77552031,"comment_id":136720003,"body_markdown":"What do you mean &quot;it worked just fine in Linux&quot;? Linux does not have a &quot;C:&quot; drive","link":"https://stackoverflow.com/questions/77552031/how-do-you-backup-mariadb-database-using-mysqldump-in-java#comment136720003_77552031","body":"What do you mean &quot;it worked just fine in Linux&quot;? Linux does not have a &quot;C:&quot; drive"},{"score":0,"post_type":"question","creation_date":1701027327,"post_id":77552031,"comment_id":136721241,"body_markdown":"@knittl On Linux you specify the path to mysqldump command just like you do on Windows. i.e Process process = Runtime.getRuntime().exec(&quot;mysqldump -uroot  -ppassword --add-drop-database -B database_name -r&quot;+filename);You also omit the .replace(&#39;\\\\&#39;,&#39;//) and it will work just fine.","link":"https://stackoverflow.com/questions/77552031/how-do-you-backup-mariadb-database-using-mysqldump-in-java#comment136721241_77552031","body":"@knittl On Linux you specify the path to mysqldump command just like you do on Windows. i.e Process process = Runtime.getRuntime().exec(&quot;mysqldump -uroot  -ppassword --add-drop-database -B database_name -r&quot;+filename);You also omit the .replace(&#39;\\\\&#39;,&#39;//) and it will work just fine."},{"score":0,"post_type":"question","creation_date":1701363038,"post_id":77552031,"comment_id":136769016,"body_markdown":"@David You try to write a file in `C:/backup.sql` (or `C:\\backup.sql`). You usually can&#39;t write directly in `C:\\`, you have to specify a different target directory to generate your file in.","link":"https://stackoverflow.com/questions/77552031/how-do-you-backup-mariadb-database-using-mysqldump-in-java#comment136769016_77552031","body":"@David You try to write a file in <code>C:&#47;backup.sql</code> (or <code>C:\\backup.sql</code>). You usually can&#39;t write directly in `C:`, you have to specify a different target directory to generate your file in."},{"score":0,"post_type":"question","creation_date":1701452861,"post_id":77552031,"comment_id":136781641,"body_markdown":"@Progman I already worked around the issue (added the details on the question). What is not possible is when you attempt to to save in a directory e.g. Desktop and the machine name happens to have a space e.g. User Name. It brings about the permission denied mesage","link":"https://stackoverflow.com/questions/77552031/how-do-you-backup-mariadb-database-using-mysqldump-in-java#comment136781641_77552031","body":"@Progman I already worked around the issue (added the details on the question). What is not possible is when you attempt to to save in a directory e.g. Desktop and the machine name happens to have a space e.g. User Name. It brings about the permission denied mesage"}],"comment_count":7,"is_answered":false,"view_count":60,"answer_count":0,"score":-1,"last_activity_date":1701359009,"creation_date":1701008101,"last_edit_date":1701359009,"question_id":77552031,"body_markdown":"I have come up with java code to backup MariaDB database using mysqldump on Windows 11 operating system. I have used JFileChooser to select location for backup and a Backup button to start the process once the path is selected. The backup however does not happen on clicking the Backup button. The following error is displayed on netbeans. How do I get around it because the code seems fine.\r\n\r\nEdit: \r\nI got it to work by making use of the registry editor. Open registry editor and navigate to Computer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\Current\\Version\\Polices\\System \r\n\r\n[![registry editor][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/5Lvkx.png\r\n\r\nRight click on EnableLUA and select modify.\r\nEnter 0 in the Value data field and click OK.\r\n[![dword 32][2]][2]\r\n\r\n\r\n[2]: https://i.stack.imgur.com/g1O5Q.png\r\n\r\nHowever, if you happen to select a path e.g. Desktop and the username happens to have a space, it still gives the error message. How do I deal with that?\r\n\r\n````\r\nC:\\Program Files/MariaDB 10.6/bin/mysqldump.exe: Can&#39;t create/write to file &#39;C:/backup.sql&#39; (Errcode: 13 &quot;Permission denied&quot;)   \r\n\r\n````\r\n````\r\nString location = null;\r\nString filename;\r\n````\r\n````\r\n//code to select backup location\r\nprivate void btnBrowseActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        JFileChooser chooser = new JFileChooser();\r\n        chooser.showOpenDialog(this);\r\n        try{\r\n            File file = chooser.getSelectedFile();\r\n            location = file.getAbsolutePath();\r\n            location = location.replace(&#39;\\\\&#39;,&#39;/&#39;);\r\n            filename = location+&quot;.sql&quot;;\r\n            txtFileName.setText(filename);\r\n        }catch(Exception e){\r\n            JOptionPane.showMessageDialog(this,e);\r\n        }\r\n    }          \r\n\r\n//code to backup\r\nprivate void btnBackupActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        Process process = null;\r\n        try{          \r\n            process = Runtime.getRuntime().exec(&quot;C:/Program Files/MariaDB 10.6/bin/mysqldump.exe -uroot -ppassword --add-drop-database -B database_name -r &quot;+filename);\r\n            int exitCode = process.waitFor();\r\n            \r\n            InputStream errorStream = process.getErrorStream();\r\n            byte[] buffer = new byte[errorStream.available()];\r\n            errorStream.read(buffer);\r\n\r\n            String str = new String(buffer);\r\n            System.out.println(str);\r\n            \r\n            if(exitCode == 0){\r\n                JOptionPane.showMessageDialog(this, &quot;Backup created&quot;);\r\n            }\r\n            else{\r\n                JOptionPane.showMessageDialog(this, &quot;Backup failed\\n &quot;+exitCode+&quot;&quot;);\r\n            }\r\n        }catch(HeadlessException | IOException | InterruptedException e){\r\n           JOptionPane.showMessageDialog(this, e);\r\n        }\r\n    } \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5Lvkx.png\r\n  [2]: https://i.stack.imgur.com/g1O5Q.png","link":"https://stackoverflow.com/questions/77552031/how-do-you-backup-mariadb-database-using-mysqldump-in-java","title":"How do you backup MariaDB database using mysqldump in java?","body":"<p>I have come up with java code to backup MariaDB database using mysqldump on Windows 11 operating system. I have used JFileChooser to select location for backup and a Backup button to start the process once the path is selected. The backup however does not happen on clicking the Backup button. The following error is displayed on netbeans. How do I get around it because the code seems fine.</p>\n<p>Edit:\nI got it to work by making use of the registry editor. Open registry editor and navigate to Computer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\Current\\Version\\Polices\\System</p>\n<p><a href=\"https://i.stack.imgur.com/5Lvkx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Lvkx.png\" alt=\"registry editor\" /></a></p>\n<p>Right click on EnableLUA and select modify.\nEnter 0 in the Value data field and click OK.\n<a href=\"https://i.stack.imgur.com/g1O5Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g1O5Q.png\" alt=\"dword 32\" /></a></p>\n<p>However, if you happen to select a path e.g. Desktop and the username happens to have a space, it still gives the error message. How do I deal with that?</p>\n<pre><code>C:\\Program Files/MariaDB 10.6/bin/mysqldump.exe: Can't create/write to file 'C:/backup.sql' (Errcode: 13 &quot;Permission denied&quot;)   \n\n</code></pre>\n<pre><code>String location = null;\nString filename;\n</code></pre>\n<pre><code>//code to select backup location\nprivate void btnBrowseActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        JFileChooser chooser = new JFileChooser();\n        chooser.showOpenDialog(this);\n        try{\n            File file = chooser.getSelectedFile();\n            location = file.getAbsolutePath();\n            location = location.replace('\\\\','/');\n            filename = location+&quot;.sql&quot;;\n            txtFileName.setText(filename);\n        }catch(Exception e){\n            JOptionPane.showMessageDialog(this,e);\n        }\n    }          \n\n//code to backup\nprivate void btnBackupActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        Process process = null;\n        try{          \n            process = Runtime.getRuntime().exec(&quot;C:/Program Files/MariaDB 10.6/bin/mysqldump.exe -uroot -ppassword --add-drop-database -B database_name -r &quot;+filename);\n            int exitCode = process.waitFor();\n            \n            InputStream errorStream = process.getErrorStream();\n            byte[] buffer = new byte[errorStream.available()];\n            errorStream.read(buffer);\n\n            String str = new String(buffer);\n            System.out.println(str);\n            \n            if(exitCode == 0){\n                JOptionPane.showMessageDialog(this, &quot;Backup created&quot;);\n            }\n            else{\n                JOptionPane.showMessageDialog(this, &quot;Backup failed\\n &quot;+exitCode+&quot;&quot;);\n            }\n        }catch(HeadlessException | IOException | InterruptedException e){\n           JOptionPane.showMessageDialog(this, e);\n        }\n    } \n\n\n  [1]: https://i.stack.imgur.com/5Lvkx.png\n  [2]: https://i.stack.imgur.com/g1O5Q.png\n</code></pre>\n"},{"tags":["java","bash","maven","debian","java-home"],"comments":[{"score":0,"post_type":"question","creation_date":1701363597,"post_id":77579729,"comment_id":136769118,"body_markdown":"what does `mvn -version` show?","link":"https://stackoverflow.com/questions/77579729/cant-start-maven-project-due-to-problems-with-java-home-variable-error-java-hom#comment136769118_77579729","body":"what does <code>mvn -version</code> show?"},{"score":0,"post_type":"question","creation_date":1701385471,"post_id":77579729,"comment_id":136772628,"body_markdown":"Hello Feynman, when i try mvn -version i get the same error : \n\nowntoomanymonster@penguin:~/my-first-rest-app$ mvn -version\nThe JAVA_HOME environment variable is not defined correctly\nThis environment variable is needed to run this program\nNB: JAVA_HOME should point to a JDK not a JRE  \n\nMaven was installed earlier via apt.\nWhen i run apt install maven i receive this info and version:\nowntoomanymonster@penguin:~/my-first-rest-app$ sudo apt install maven\n...\nmaven is already the newest version (3.6.3-5).\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded. thx in advance","link":"https://stackoverflow.com/questions/77579729/cant-start-maven-project-due-to-problems-with-java-home-variable-error-java-hom#comment136772628_77579729","body":"Hello Feynman, when i try mvn -version i get the same error :   owntoomanymonster@penguin:~/my-first-rest-app$ mvn -version The JAVA_HOME environment variable is not defined correctly This environment variable is needed to run this program NB: JAVA_HOME should point to a JDK not a JRE    Maven was installed earlier via apt. When i run apt install maven i receive this info and version: owntoomanymonster@penguin:~/my-first-rest-app$ sudo apt install maven ... maven is already the newest version (3.6.3-5). 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded. thx in advance"},{"score":0,"post_type":"question","creation_date":1701444017,"post_id":77579729,"comment_id":136779993,"body_markdown":"For some reason JAVA_HOME seems to be correct but maven has `/bin/java` incorrectly added at the end.  Not sure how that happens as to my knowledge Maven should just be using JAVA_HOME","link":"https://stackoverflow.com/questions/77579729/cant-start-maven-project-due-to-problems-with-java-home-variable-error-java-hom#comment136779993_77579729","body":"For some reason JAVA_HOME seems to be correct but maven has <code>&#47;bin&#47;java</code> incorrectly added at the end.  Not sure how that happens as to my knowledge Maven should just be using JAVA_HOME"}],"comment_count":3,"is_answered":false,"view_count":47,"answer_count":0,"score":0,"last_activity_date":1701358733,"creation_date":1701358661,"last_edit_date":1701358733,"question_id":77579729,"body_markdown":"I started my first back-end course and performed all operations according to the tutors manual.\r\nWhen I tried to initialize the project with ./mvnw spring-boot:run\r\n\r\nI got an error:\r\n\r\n```\r\nowntoomanymonster@penguin:~/my-first-rest-app$ ./mvnw spring-boot:run\r\nError: JAVA_HOME is not defined correctly.\r\n  We cannot execute /owntoomanymonster/lib/jvm/java-11-openjdk-arm64/bin/java\r\n```\r\n\r\n\r\nhere is my java-home variable:\r\n\r\n```\r\nowntoomanymonster@penguin:~/my-first-rest-app$ echo $JAVA_HOME\r\n/owntoomanymonster/lib/jvm/java-11-openjdk-arm64\r\n\r\n```\r\n\r\n\r\nhere is a snapshot of my jvm directory:\r\n\r\n\r\n```\r\nowntoomanymonster@penguin:/lib/jvm$ ls\r\ndefault-java  java-1.11.0-openjdk-arm64  java-11-openjdk-arm64  openjdk-11\r\n\r\n```\r\nand here a snapshot of my bashrc:\r\n\r\n GNU nano 5.4                                                                                /home/owntoomanymonster/.bashrc                                                                                          \r\n```\r\nif [ -f ~/.bash_aliases ]; then\r\n    . ~/.bash_aliases\r\nfi\r\n\r\n# enable programmable completion features (you don&#39;t need to enable\r\n# this, if it&#39;s already enabled in /etc/bash.bashrc and /etc/profile\r\n# sources /etc/bash.bashrc).\r\nif ! shopt -oq posix; then\r\n  if [ -f /usr/share/bash-completion/bash_completion ]; then\r\n    . /usr/share/bash-completion/bash_completion\r\n  elif [ -f /etc/bash_completion ]; then\r\n    . /etc/bash_completion\r\n  fi\r\nfi\r\n\r\nexport NVM_DIR=&quot;$HOME/.config/nvm&quot;\r\n[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; \\. &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm\r\n[ -s &quot;$NVM_DIR/bash_completion&quot; ] &amp;&amp; \\. &quot;$NVM_DIR/bash_completion&quot;  # This loads nvm bash_completion\r\n\r\n export JAVA_HOME=/owntoomanymonster/lib/jvm/java-11-openjdk-arm64\r\n export PATH=$PATH:$JAVA_HOME/bin\r\n```\r\n\r\nI have no more idea what to do to get this fixed. I hope anybody knows how to set the Java-home correctly?\r\n\r\nKindest David\r\n\r\n\r\n\r\n\r\n\r\n1. Manually defined the java-home variable.\r\n\r\n2. Updated the bashrc config\r\n\r\n3. changed from link to real path  link: java-1.11.0-openjdk-arm64 real path   to real path: java-11-openjdk-arm64","link":"https://stackoverflow.com/questions/77579729/cant-start-maven-project-due-to-problems-with-java-home-variable-error-java-hom","title":"Cant start Maven project due to problems with Java_Home Variable Error: JAVA_HOME is not defined correctly","body":"<p>I started my first back-end course and performed all operations according to the tutors manual.\nWhen I tried to initialize the project with ./mvnw spring-boot:run</p>\n<p>I got an error:</p>\n<pre><code>owntoomanymonster@penguin:~/my-first-rest-app$ ./mvnw spring-boot:run\nError: JAVA_HOME is not defined correctly.\n  We cannot execute /owntoomanymonster/lib/jvm/java-11-openjdk-arm64/bin/java\n</code></pre>\n<p>here is my java-home variable:</p>\n<pre><code>owntoomanymonster@penguin:~/my-first-rest-app$ echo $JAVA_HOME\n/owntoomanymonster/lib/jvm/java-11-openjdk-arm64\n\n</code></pre>\n<p>here is a snapshot of my jvm directory:</p>\n<pre><code>owntoomanymonster@penguin:/lib/jvm$ ls\ndefault-java  java-1.11.0-openjdk-arm64  java-11-openjdk-arm64  openjdk-11\n\n</code></pre>\n<p>and here a snapshot of my bashrc:</p>\n<p>GNU nano 5.4                                                                                /home/owntoomanymonster/.bashrc</p>\n<pre><code>if [ -f ~/.bash_aliases ]; then\n    . ~/.bash_aliases\nfi\n\n# enable programmable completion features (you don't need to enable\n# this, if it's already enabled in /etc/bash.bashrc and /etc/profile\n# sources /etc/bash.bashrc).\nif ! shopt -oq posix; then\n  if [ -f /usr/share/bash-completion/bash_completion ]; then\n    . /usr/share/bash-completion/bash_completion\n  elif [ -f /etc/bash_completion ]; then\n    . /etc/bash_completion\n  fi\nfi\n\nexport NVM_DIR=&quot;$HOME/.config/nvm&quot;\n[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; \\. &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm\n[ -s &quot;$NVM_DIR/bash_completion&quot; ] &amp;&amp; \\. &quot;$NVM_DIR/bash_completion&quot;  # This loads nvm bash_completion\n\n export JAVA_HOME=/owntoomanymonster/lib/jvm/java-11-openjdk-arm64\n export PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n<p>I have no more idea what to do to get this fixed. I hope anybody knows how to set the Java-home correctly?</p>\n<p>Kindest David</p>\n<ol>\n<li><p>Manually defined the java-home variable.</p>\n</li>\n<li><p>Updated the bashrc config</p>\n</li>\n<li><p>changed from link to real path  link: java-1.11.0-openjdk-arm64 real path   to real path: java-11-openjdk-arm64</p>\n</li>\n</ol>\n"},{"tags":["java","android","node.js","termux","termux-linux"],"comments":[{"score":0,"post_type":"question","creation_date":1701358495,"post_id":77579618,"comment_id":136768095,"body_markdown":"Something like [this](https://github.com/termux/termux-app/wiki/RUN_COMMAND-Intent)?","link":"https://stackoverflow.com/questions/77579618/is-there-a-way-to-run-termux-script-from-a-android-app#comment136768095_77579618","body":"Something like <a href=\"https://github.com/termux/termux-app/wiki/RUN_COMMAND-Intent\" rel=\"nofollow noreferrer\">this</a>?"}],"comment_count":1,"is_answered":false,"view_count":37,"answer_count":0,"score":0,"last_activity_date":1701357748,"creation_date":1701357748,"question_id":77579618,"body_markdown":"I got a Java android app that receive buffer of byte from a nodejs, i want to run script when you open the app like \r\ncd backend\r\nsudo node server.js\r\nIs there a way?\r\n\r\nNow i open termux and run script and then I open my app.\r\nI didn&#39;t find anything to resolve my problem...","link":"https://stackoverflow.com/questions/77579618/is-there-a-way-to-run-termux-script-from-a-android-app","title":"Is there a way to run termux script from a android app?","body":"<p>I got a Java android app that receive buffer of byte from a nodejs, i want to run script when you open the app like\ncd backend\nsudo node server.js\nIs there a way?</p>\n<p>Now i open termux and run script and then I open my app.\nI didn't find anything to resolve my problem...</p>\n"},{"tags":["java","websphere","ejb-3.0","eclipse-wtp"],"comments":[{"score":1,"post_type":"question","creation_date":1700733622,"post_id":77534470,"comment_id":136691718,"body_markdown":"I&#39;d try one of the solutions form here https://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0 . This talks about web project but I expect similar &quot;logic&quot; for ejb projects. So try &quot;uncheck&quot;, &quot;apply&quot;, &quot;recheck&quot;. Or just change the setting it the ...facet.core.xml file and restart Eclipse","link":"https://stackoverflow.com/questions/77534470/how-to-change-ejb-module-version-if-ejb-jar-xml-is-deleted-to-migrate-module-fr#comment136691718_77534470","body":"I&#39;d try one of the solutions form here <a href=\"https://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0\" title=\"cannot change version of project facet dynamic web module to 3 0\">stackoverflow.com/questions/18122336/&hellip;</a> . This talks about web project but I expect similar &quot;logic&quot; for ejb projects. So try &quot;uncheck&quot;, &quot;apply&quot;, &quot;recheck&quot;. Or just change the setting it the ...facet.core.xml file and restart Eclipse"},{"score":0,"post_type":"question","creation_date":1701146854,"post_id":77534470,"comment_id":136736092,"body_markdown":"Compilation Errors remained same, even after changing ejb version in project facets.xml","link":"https://stackoverflow.com/questions/77534470/how-to-change-ejb-module-version-if-ejb-jar-xml-is-deleted-to-migrate-module-fr#comment136736092_77534470","body":"Compilation Errors remained same, even after changing ejb version in project facets.xml"},{"score":0,"post_type":"question","creation_date":1701177176,"post_id":77534470,"comment_id":136740709,"body_markdown":"You didnt mention about any compilation errors. If you have compilation errors that completely different problem than switching spec in Eclipse, as this just changes editors in the tool not the compilation. You should put the errors in the question","link":"https://stackoverflow.com/questions/77534470/how-to-change-ejb-module-version-if-ejb-jar-xml-is-deleted-to-migrate-module-fr#comment136740709_77534470","body":"You didnt mention about any compilation errors. If you have compilation errors that completely different problem than switching spec in Eclipse, as this just changes editors in the tool not the compilation. You should put the errors in the question"},{"score":0,"post_type":"question","creation_date":1701331943,"post_id":77534470,"comment_id":136763116,"body_markdown":"1)Description\tResource\tPath\tLocation\tType\nCHKJ2017E: This class must implement javax.ejb.SessionBean (EJB 2.0: 7.5.1, 7.10.2).\tejb.jar\t/roject\tClass: com.xxxx.xxxxx.arch.app.internal.ServiceProviderBean\tEJB Validator Message \n2)Description\tResource\tPath\tLocation\tType\nCHKJ2017E: This interface must extend javax.ejb.EJBObject (EJB 2.0: 6.5, 7.10.5).\teb.jar\t/Project\tClass: com.xxxx.xxxxx.arch.app.internal.ServiceProvider\tEJB Validator Message \n\n\n I&#39;m getting above two ejb validation errors - @Gas","link":"https://stackoverflow.com/questions/77534470/how-to-change-ejb-module-version-if-ejb-jar-xml-is-deleted-to-migrate-module-fr#comment136763116_77534470","body":"1)Description\tResource\tPath\tLocation\tType CHKJ2017E: This class must implement javax.ejb.SessionBean (EJB 2.0: 7.5.1, 7.10.2).\tejb.jar\t/roject\tClass: com.xxxx.xxxxx.arch.app.internal.ServiceProviderBean\tEJB Validator Message  2)Description\tResource\tPath\tLocation\tType CHKJ2017E: This interface must extend javax.ejb.EJBObject (EJB 2.0: 6.5, 7.10.5).\teb.jar\t/Project\tClass: com.xxxx.xxxxx.arch.app.internal.ServiceProvider\tEJB Validator Message     I&#39;m getting above two ejb validation errors - @Gas"},{"score":0,"post_type":"question","creation_date":1701358042,"post_id":77534470,"comment_id":136768008,"body_markdown":"Maybe your EAR is 1.4 EJB 3.0 is part of the Java EE 5 platform, so make sure you have correct EAR level, unless your EJBs are stand alone modules.","link":"https://stackoverflow.com/questions/77534470/how-to-change-ejb-module-version-if-ejb-jar-xml-is-deleted-to-migrate-module-fr#comment136768008_77534470","body":"Maybe your EAR is 1.4 EJB 3.0 is part of the Java EE 5 platform, so make sure you have correct EAR level, unless your EJBs are stand alone modules."}],"comment_count":5,"is_answered":false,"view_count":44,"answer_count":0,"score":0,"last_activity_date":1701357743,"creation_date":1700716234,"last_edit_date":1701357743,"question_id":77534470,"body_markdown":"[Errors on project build](https://i.stack.imgur.com/ucYC6.png)\r\n\r\nTrying to migrate EJB project from 2.0 to 3.0, but got the above errors as EJB Project is referring to ejb2.0 version even Using annotations instead ejb-jar.xml in beans.\r\n\r\nOther Details:\r\nServer - WebSphere8.5.5 traditional server\r\nJava - 1.8 Version\r\n\r\nMeta-Inf of ejb module\r\n[EJB Project Meta-INF contains](https://i.stack.imgur.com/edBb3.png)\r\n\r\nProject Facets of  EJB project:\r\n[EJB module version is 2.x, unable to change to 3.0](https://i.stack.imgur.com/GeD0S.png)\r\nEjb Module version in project facet is 2.0, but not allowing to change to 3.0.\r\n\r\n\r\n\r\nDeleted ejb-jar.xml, and updated ibm bindings.\r\nAdded annotations to beans as required.\r\n\r\nBut got configurations errors. Unable to change version of ejb to 3.0.\r\n\r\nI&#39;m getting two ejb validation errors:  \r\n1) CHKJ2017E: This class must implement javax.ejb.SessionBean (EJB 2.0: 7.5.1, 7.10.2). ejb.jar /roject Class: com.xxxx.xxxxx.arch.app.internal.ServiceProviderBean EJB Validator Message   \r\n2)CHKJ2017E: This interface must extend javax.ejb.EJBObject (EJB 2.0: 6.5, 7.10.5). eb.jar /Project Class: com.xxxx.xxxxx.arch.app.internal.ServiceProvider EJB Validator Message ","link":"https://stackoverflow.com/questions/77534470/how-to-change-ejb-module-version-if-ejb-jar-xml-is-deleted-to-migrate-module-fr","title":"How to change EJB Module Version, if ejb-jar.xml is deleted to migrate module from 2.x to 3.0","body":"<p><a href=\"https://i.stack.imgur.com/ucYC6.png\" rel=\"nofollow noreferrer\">Errors on project build</a></p>\n<p>Trying to migrate EJB project from 2.0 to 3.0, but got the above errors as EJB Project is referring to ejb2.0 version even Using annotations instead ejb-jar.xml in beans.</p>\n<p>Other Details:\nServer - WebSphere8.5.5 traditional server\nJava - 1.8 Version</p>\n<p>Meta-Inf of ejb module\n<a href=\"https://i.stack.imgur.com/edBb3.png\" rel=\"nofollow noreferrer\">EJB Project Meta-INF contains</a></p>\n<p>Project Facets of  EJB project:\n<a href=\"https://i.stack.imgur.com/GeD0S.png\" rel=\"nofollow noreferrer\">EJB module version is 2.x, unable to change to 3.0</a>\nEjb Module version in project facet is 2.0, but not allowing to change to 3.0.</p>\n<p>Deleted ejb-jar.xml, and updated ibm bindings.\nAdded annotations to beans as required.</p>\n<p>But got configurations errors. Unable to change version of ejb to 3.0.</p>\n<p>I'm getting two ejb validation errors:</p>\n<ol>\n<li>CHKJ2017E: This class must implement javax.ejb.SessionBean (EJB 2.0: 7.5.1, 7.10.2). ejb.jar /roject Class: com.xxxx.xxxxx.arch.app.internal.ServiceProviderBean EJB Validator Message<br />\n2)CHKJ2017E: This interface must extend javax.ejb.EJBObject (EJB 2.0: 6.5, 7.10.5). eb.jar /Project Class: com.xxxx.xxxxx.arch.app.internal.ServiceProvider EJB Validator Message</li>\n</ol>\n"},{"tags":["java","spring","classloader","java-module","spring-context"],"comments":[{"score":1,"post_type":"question","creation_date":1701080481,"post_id":77556100,"comment_id":136726316,"body_markdown":"Why are you messing around with classloaders in the firs tplace? Also the `ApplicationContextHolder` is sort of an anti-pattern and shouldn&#39;t be used.","link":"https://stackoverflow.com/questions/77556100/problem-reading-classes-from-jpms-module-in-spring-6#comment136726316_77556100","body":"Why are you messing around with classloaders in the firs tplace? Also the <code>ApplicationContextHolder</code> is sort of an anti-pattern and shouldn&#39;t be used."},{"score":0,"post_type":"question","creation_date":1701081150,"post_id":77556100,"comment_id":136726427,"body_markdown":"Looking into the issue.","link":"https://stackoverflow.com/questions/77556100/problem-reading-classes-from-jpms-module-in-spring-6#comment136726427_77556100","body":"Looking into the issue."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701357164,"last_edit_date":1701357164,"creation_date":1701356862,"answer_id":77579537,"question_id":77556100,"body_markdown":"I solved the problem.\r\n\r\nSpring loads classes via `getResourceAsStream()` and by default uses `ClassPathResource` with `classLoader.getResourceAsStream(this.absolutePath)`. However, it wont work for the JPMS application. To make it work it is required to use `ModuleResource` (added in Spring 6.1) instead of `ClassPathResource`.\r\n\r\nSo, it is necessary to create custom `ResourceLoader` that will use `ModuleResource` add set it to context:\r\n\r\n    var iocContext = new  AnnotationConfigApplicationContext();\r\n    ...\r\n    var myModuleResourceLoader = ....\r\n    iocContext.setResourceLoader(myModuleResourceLoader);\r\n    iocContext.refresh();","link":"https://stackoverflow.com/questions/77556100/problem-reading-classes-from-jpms-module-in-spring-6/77579537#77579537","title":"Problem reading classes from JPMS module in Spring 6","body":"<p>I solved the problem.</p>\n<p>Spring loads classes via <code>getResourceAsStream()</code> and by default uses <code>ClassPathResource</code> with <code>classLoader.getResourceAsStream(this.absolutePath)</code>. However, it wont work for the JPMS application. To make it work it is required to use <code>ModuleResource</code> (added in Spring 6.1) instead of <code>ClassPathResource</code>.</p>\n<p>So, it is necessary to create custom <code>ResourceLoader</code> that will use <code>ModuleResource</code> add set it to context:</p>\n<pre><code>var iocContext = new  AnnotationConfigApplicationContext();\n...\nvar myModuleResourceLoader = ....\niocContext.setResourceLoader(myModuleResourceLoader);\niocContext.refresh();\n</code></pre>\n"}],"comment_count":2,"is_answered":true,"view_count":85,"answer_count":1,"score":1,"last_activity_date":1701357256,"creation_date":1701080286,"last_edit_date":1701357256,"question_id":77556100,"body_markdown":"I have a JPMS application with layer tree. On `Layer C`  I need to create Spring context while Spring framework is located on `Layer B`:\r\n\r\n    boot layer\r\n      |- Layer B with Spring framework.\r\n           |- Layer C where I need to create my context\r\n\r\nComponent:\r\n\r\n    @Component\r\n    public class ApplicationContextHolder implements ApplicationContextAware {\r\n    \r\n        private static ConfigurableApplicationContext applicationContext;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            ApplicationContextHolder.applicationContext = (ConfigurableApplicationContext) applicationContext;\r\n        }\r\n    \r\n        public static ConfigurableApplicationContext getApplicationContext() {\r\n            return applicationContext;\r\n        }\r\n    }\r\n\r\nConfig:\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackageClasses = {\r\n        ApplicationContextHolder.class\r\n    })\r\n    public class ContextConfig {\r\n    \r\n    }\r\n\r\nCreating context:\r\n\r\n        System.out.println(&quot;ThreadContextClassLoadere:&quot; + Thread.currentThread().getContextClassLoader());\r\n        System.out.println(&quot;This classLoader:&quot; + this.getClass().getClassLoader());\r\n        var clazz = this.getClass().getClassLoader().loadClass(&quot;org.springframework.context.ApplicationContextAware&quot;);\r\n        System.out.println(&quot;RESULT:&quot; + clazz);\r\n        iocContext = new  AnnotationConfigApplicationContext();\r\n        iocContext.register(ContextConfig.class);\r\n        iocContext.setClassLoader(this.getClass().getClassLoader());\r\n        iocContext.refresh();\r\n\r\nResult:\r\n\r\n    ThreadContextClassLoadere:jdk.internal.loader.Loader@63fcbf75\r\n    This classLoader:jdk.internal.loader.Loader@63fcbf75\r\n    RESULT:interface org.springframework.context.ApplicationContextAware\r\n    \r\n    Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.foo.ContextConfig]\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:178)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)\r\n    \tat spring.context@6.0.13/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)\r\n    \tat spring.context@6.0.13/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)\r\n    \tat spring.context@6.0.13/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:779)\r\n    \tat spring.context@6.0.13/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597)\r\n            ....\r\n    Caused by: java.io.FileNotFoundException: class path resource [org/springframework/context/ApplicationContextAware.class] cannot be opened because it does not exist\r\n    \tat spring.core@6.0.13/org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:211)\r\n    \tat spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:54)\r\n    \tat spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:48)\r\n    \tat spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n    \tat spring.core@6.0.13/org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:122)\r\n    \tat spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.asSourceClass(ConfigurationClassParser.java:613)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser$SourceClass.getInterfaces(ConfigurationClassParser.java:939)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.processInterfaces(ConfigurationClassParser.java:379)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:325)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:297)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196)\r\n    \tat spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164)\r\n    \t... 16 more\r\n\r\nAs I understand (I may be wrong) Spring uses some other class loader. Could anyone say how to fix it?","link":"https://stackoverflow.com/questions/77556100/problem-reading-classes-from-jpms-module-in-spring-6","title":"Problem reading classes from JPMS module in Spring 6","body":"<p>I have a JPMS application with layer tree. On <code>Layer C</code>  I need to create Spring context while Spring framework is located on <code>Layer B</code>:</p>\n<pre><code>boot layer\n  |- Layer B with Spring framework.\n       |- Layer C where I need to create my context\n</code></pre>\n<p>Component:</p>\n<pre><code>@Component\npublic class ApplicationContextHolder implements ApplicationContextAware {\n\n    private static ConfigurableApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        ApplicationContextHolder.applicationContext = (ConfigurableApplicationContext) applicationContext;\n    }\n\n    public static ConfigurableApplicationContext getApplicationContext() {\n        return applicationContext;\n    }\n}\n</code></pre>\n<p>Config:</p>\n<pre><code>@Configuration\n@ComponentScan(basePackageClasses = {\n    ApplicationContextHolder.class\n})\npublic class ContextConfig {\n\n}\n</code></pre>\n<p>Creating context:</p>\n<pre><code>    System.out.println(&quot;ThreadContextClassLoadere:&quot; + Thread.currentThread().getContextClassLoader());\n    System.out.println(&quot;This classLoader:&quot; + this.getClass().getClassLoader());\n    var clazz = this.getClass().getClassLoader().loadClass(&quot;org.springframework.context.ApplicationContextAware&quot;);\n    System.out.println(&quot;RESULT:&quot; + clazz);\n    iocContext = new  AnnotationConfigApplicationContext();\n    iocContext.register(ContextConfig.class);\n    iocContext.setClassLoader(this.getClass().getClassLoader());\n    iocContext.refresh();\n</code></pre>\n<p>Result:</p>\n<pre><code>ThreadContextClassLoadere:jdk.internal.loader.Loader@63fcbf75\nThis classLoader:jdk.internal.loader.Loader@63fcbf75\nRESULT:interface org.springframework.context.ApplicationContextAware\n\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.foo.ContextConfig]\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:178)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)\n    at spring.context@6.0.13/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)\n    at spring.context@6.0.13/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)\n    at spring.context@6.0.13/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:779)\n    at spring.context@6.0.13/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597)\n        ....\nCaused by: java.io.FileNotFoundException: class path resource [org/springframework/context/ApplicationContextAware.class] cannot be opened because it does not exist\n    at spring.core@6.0.13/org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:211)\n    at spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:54)\n    at spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:48)\n    at spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n    at spring.core@6.0.13/org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:122)\n    at spring.core@6.0.13/org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.asSourceClass(ConfigurationClassParser.java:613)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser$SourceClass.getInterfaces(ConfigurationClassParser.java:939)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.processInterfaces(ConfigurationClassParser.java:379)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:325)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:297)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196)\n    at spring.context@6.0.13/org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164)\n    ... 16 more\n</code></pre>\n<p>As I understand (I may be wrong) Spring uses some other class loader. Could anyone say how to fix it?</p>\n"},{"tags":["java","spring","hibernate","orm"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701355114,"creation_date":1701355114,"answer_id":77579347,"question_id":77549477,"body_markdown":"This is wrong:\r\n\r\n    q1.setAnswers(list);\r\n\r\nbecause **list** is empty, you need to do something like this:\r\n\r\n    List&lt;Answer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(a1, a2, a3));","link":"https://stackoverflow.com/questions/77549477/why-is-it-not-cascading-i-am-tring-to-insert-data-into-two-tables-using-cascadi/77579347#77579347","title":"Why is it not cascading? I am tring to insert data into two tables using cascading but values is inserted for only on owning table","body":"<p>This is wrong:</p>\n<pre><code>q1.setAnswers(list);\n</code></pre>\n<p>because <strong>list</strong> is empty, you need to do something like this:</p>\n<pre><code>List&lt;Answer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(a1, a2, a3));\n</code></pre>\n"}],"comment_count":0,"is_answered":false,"view_count":34,"answer_count":1,"score":0,"last_activity_date":1701355114,"creation_date":1700943903,"last_edit_date":1700945348,"question_id":77549477,"body_markdown":"I am tring to insert data into two tables but values is inserted for only on owning table...\r\nFollowing are my codes:\r\n\r\n**Question Entity Class:**\r\n```\r\n@Entity\r\n@Table(name=&quot;ques&quot;)\r\npublic class Question {\r\n\t@Id\r\n\tprivate int id;\r\n\tprivate String question;\r\n\t@OneToMany(mappedBy = &quot;question&quot;, cascade = javax.persistence.CascadeType.ALL)\r\n\tprivate List&lt;Answer&gt; answers;\r\n```\r\n\r\n**Answer Entity Class:**\r\n```\r\n@Entity\r\n@Table(name=&quot;ans&quot;)\r\npublic class Answer {\r\n\t@Id\r\n\tprivate int id;\r\n\tprivate String answer;\r\n\t@ManyToOne\r\n\tprivate Question question;\r\n```\r\n\r\n**Main Class:**\r\n```\r\npublic class App {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tSessionFactory factory = new Configuration().configure().buildSessionFactory();\r\n\t\tSession s = factory.openSession();\r\n\t\tTransaction tx = s.beginTransaction();\r\n\t\t\r\n\t\t\r\n\t\tAnswer a1 = new Answer(5001, &quot;answer 1...&quot;);\r\n\t\tAnswer a2 = new Answer(5002, &quot;answer 2...&quot;);\r\n\t\tAnswer a3 = new Answer(5003, &quot;answer 3...&quot;);\r\n\t\t\r\n\t\tList&lt;Answer&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tQuestion q1 = new Question();\r\n\t\tq1.setId(1);\r\n\t\tq1.setQuestion(&quot;question...?&quot;);\t\t\r\n\t\tq1.setAnswers(list);\r\n\t\t\r\n\t\ta1.setQuestion(q1);\r\n\t\ta2.setQuestion(q1);\r\n\t\ta3.setQuestion(q1);\r\n\t\t\r\n\t\ts.save(q1);\r\n\t\t\r\n\t\ttx.commit();\r\n\t\t\r\n\t\ts.close();\r\n\t\tfactory.close();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Done&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Output:**\r\n```\r\nHibernate: \r\n    insert \r\n    into\r\n        ques\r\n        (question, id) \r\n    values\r\n        (?, ?)\r\nNov 26, 2023 12:40:27 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\r\nINFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/myhiber]\r\nDone\r\n```\r\n\r\nQuestion is inserted but answers are not inserted. What am I doing wrong here?","link":"https://stackoverflow.com/questions/77549477/why-is-it-not-cascading-i-am-tring-to-insert-data-into-two-tables-using-cascadi","title":"Why is it not cascading? I am tring to insert data into two tables using cascading but values is inserted for only on owning table","body":"<p>I am tring to insert data into two tables but values is inserted for only on owning table...\nFollowing are my codes:</p>\n<p><strong>Question Entity Class:</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;ques&quot;)\npublic class Question {\n    @Id\n    private int id;\n    private String question;\n    @OneToMany(mappedBy = &quot;question&quot;, cascade = javax.persistence.CascadeType.ALL)\n    private List&lt;Answer&gt; answers;\n</code></pre>\n<p><strong>Answer Entity Class:</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;ans&quot;)\npublic class Answer {\n    @Id\n    private int id;\n    private String answer;\n    @ManyToOne\n    private Question question;\n</code></pre>\n<p><strong>Main Class:</strong></p>\n<pre><code>public class App {\n\n    public static void main(String[] args) {\n        \n        SessionFactory factory = new Configuration().configure().buildSessionFactory();\n        Session s = factory.openSession();\n        Transaction tx = s.beginTransaction();\n        \n        \n        Answer a1 = new Answer(5001, &quot;answer 1...&quot;);\n        Answer a2 = new Answer(5002, &quot;answer 2...&quot;);\n        Answer a3 = new Answer(5003, &quot;answer 3...&quot;);\n        \n        List&lt;Answer&gt; list = new ArrayList&lt;&gt;();\n        \n        Question q1 = new Question();\n        q1.setId(1);\n        q1.setQuestion(&quot;question...?&quot;);     \n        q1.setAnswers(list);\n        \n        a1.setQuestion(q1);\n        a2.setQuestion(q1);\n        a3.setQuestion(q1);\n        \n        s.save(q1);\n        \n        tx.commit();\n        \n        s.close();\n        factory.close();\n        \n        System.out.println(&quot;Done&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Hibernate: \n    insert \n    into\n        ques\n        (question, id) \n    values\n        (?, ?)\nNov 26, 2023 12:40:27 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\nINFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/myhiber]\nDone\n</code></pre>\n<p>Question is inserted but answers are not inserted. What am I doing wrong here?</p>\n"},{"tags":["java"],"comments":[{"score":0,"post_type":"question","creation_date":1701354419,"post_id":77579228,"comment_id":136767243,"body_markdown":"`val+=&quot;&#39;&quot;+holders.get(i)+&quot;&#39;&quot;+&quot;,&quot;;`, see the `+` in front of the equals sign","link":"https://stackoverflow.com/questions/77579228/convert-items-in-a-list-to-string-in-single-quotes-and-commas-in-between-using-j#comment136767243_77579228","body":"<code>val+=&quot;&#39;&quot;+holders.get(i)+&quot;&#39;&quot;+&quot;,&quot;;</code>, see the <code>+</code> in front of the equals sign"},{"score":0,"post_type":"question","creation_date":1701354646,"post_id":77579228,"comment_id":136767295,"body_markdown":"Use `holders.stream().collect(Collectors.joining(&quot;&#39;,&#39;&quot;, &quot;&#39;&quot;, &quot;&#39;&quot;))`","link":"https://stackoverflow.com/questions/77579228/convert-items-in-a-list-to-string-in-single-quotes-and-commas-in-between-using-j#comment136767295_77579228","body":"Use <code>holders.stream().collect(Collectors.joining(&quot;&#39;,&#39;&quot;, &quot;&#39;&quot;, &quot;&#39;&quot;))</code>"}],"answers":[{"comment_count":0,"score":2,"last_activity_date":1701354812,"creation_date":1701354812,"answer_id":77579308,"question_id":77579228,"body_markdown":"If you&#39;re using Java 8+, you may use streams to accomplish your task. In particularly, you will need `collect` method to join the elements. I hope it will help you:\r\n```\r\npublic static void main(String[] args) {\r\n    String val = null;\r\n\tList&lt;String&gt; holders = new ArrayList&lt;&gt;();\r\n\tholders.add(&quot;A&quot;);\r\n\tholders.add(&quot;B&quot;);\r\n\tval = holders.stream().collect(Collectors.joining(&quot;&#39;,&#39;&quot;, &quot;&#39;&quot;, &quot;&#39;&quot;));\r\n\tSystem.out.println(val);\r\n}\r\n```","link":"https://stackoverflow.com/questions/77579228/convert-items-in-a-list-to-string-in-single-quotes-and-commas-in-between-using-j/77579308#77579308","title":"Convert items in a list to String in single quotes and commas in between using Java","body":"<p>If you're using Java 8+, you may use streams to accomplish your task. In particularly, you will need <code>collect</code> method to join the elements. I hope it will help you:</p>\n<pre><code>public static void main(String[] args) {\n    String val = null;\n    List&lt;String&gt; holders = new ArrayList&lt;&gt;();\n    holders.add(&quot;A&quot;);\n    holders.add(&quot;B&quot;);\n    val = holders.stream().collect(Collectors.joining(&quot;','&quot;, &quot;'&quot;, &quot;'&quot;));\n    System.out.println(val);\n}\n</code></pre>\n"}],"comment_count":2,"is_answered":true,"view_count":44,"answer_count":1,"score":-2,"last_activity_date":1701355110,"creation_date":1701354270,"last_edit_date":1701355110,"question_id":77579228,"body_markdown":"I have a Java code as follows\r\n\r\n```java\r\nString val = null;\r\nList&lt;String&gt; holders = new ArrayList&lt;&gt;();\r\nholders.add(&quot;A&quot;);\r\nholders.add(&quot;B&quot;);\r\nfor (int i = 0; i &lt; holders.size(); i++) {\r\n   val = &quot;&#39;&quot; + holders.get(i) + &quot;&#39;&quot; + &quot;,&quot;;\r\n}\r\nSystem.out.println(val);\r\n```\r\n\r\nI wanted my val to be printed as `&#39;A&#39;,&#39;B&#39;`, but the output I am getting is `&#39;B&#39;,`.\r\n\r\nWhat can be done here to get the correct output?","link":"https://stackoverflow.com/questions/77579228/convert-items-in-a-list-to-string-in-single-quotes-and-commas-in-between-using-j","title":"Convert items in a list to String in single quotes and commas in between using Java","body":"<p>I have a Java code as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>String val = null;\nList&lt;String&gt; holders = new ArrayList&lt;&gt;();\nholders.add(&quot;A&quot;);\nholders.add(&quot;B&quot;);\nfor (int i = 0; i &lt; holders.size(); i++) {\n   val = &quot;'&quot; + holders.get(i) + &quot;'&quot; + &quot;,&quot;;\n}\nSystem.out.println(val);\n</code></pre>\n<p>I wanted my val to be printed as <code>'A','B'</code>, but the output I am getting is <code>'B',</code>.</p>\n<p>What can be done here to get the correct output?</p>\n"},{"tags":["java","scala","concurrenthashmap"],"answers":[{"comments":[{"score":1,"post_type":"answer","creation_date":1701065992,"post_id":77553142,"comment_id":136724196,"body_markdown":"The whole point of the question is to do it in a functional/Scala way. That is without mutability and possibly loops.","link":"https://stackoverflow.com/questions/77553002/functional-way-to-get-both-previous-value-and-new-value-from-concurrenthashmap/77553142#comment136724196_77553142","body":"The whole point of the question is to do it in a functional/Scala way. That is without mutability and possibly loops."},{"score":0,"post_type":"answer","creation_date":1701079913,"post_id":77553142,"comment_id":136726226,"body_markdown":"This is not a functional way as @Ga&#235;lJ mentioned and you use HashMap instead of ConcurrentHashMap so this is not thread-safe solution. The point is to include all logic in one compute block to avoid race-condition.","link":"https://stackoverflow.com/questions/77553002/functional-way-to-get-both-previous-value-and-new-value-from-concurrenthashmap/77553142#comment136726226_77553142","body":"This is not a functional way as @Ga&#235;lJ mentioned and you use HashMap instead of ConcurrentHashMap so this is not thread-safe solution. The point is to include all logic in one compute block to avoid race-condition."},{"score":0,"post_type":"answer","creation_date":1701108144,"post_id":77553142,"comment_id":136731655,"body_markdown":"Well, it&#39;s written in _Java_.  I&#39;m not sure what else to tell you.  Read a book; find a tutorial.","link":"https://stackoverflow.com/questions/77553002/functional-way-to-get-both-previous-value-and-new-value-from-concurrenthashmap/77553142#comment136731655_77553142","body":"Well, it&#39;s written in <i>Java</i>.  I&#39;m not sure what else to tell you.  Read a book; find a tutorial."},{"score":0,"post_type":"answer","creation_date":1701156130,"post_id":77553142,"comment_id":136737007,"body_markdown":"@Reilas I will. And thank you for your willingness to help, I appreciate it.","link":"https://stackoverflow.com/questions/77553002/functional-way-to-get-both-previous-value-and-new-value-from-concurrenthashmap/77553142#comment136737007_77553142","body":"@Reilas I will. And thank you for your willingness to help, I appreciate it."},{"score":0,"post_type":"answer","creation_date":1701156569,"post_id":77553142,"comment_id":136737075,"body_markdown":"This code does not seem related to the question asked either. &quot;Previous&quot; in the question refers to the previous value associated with the key, not the previous entry.","link":"https://stackoverflow.com/questions/77553002/functional-way-to-get-both-previous-value-and-new-value-from-concurrenthashmap/77553142#comment136737075_77553142","body":"This code does not seem related to the question asked either. &quot;Previous&quot; in the question refers to the previous value associated with the key, not the previous entry."}],"comment_count":5,"score":-1,"last_activity_date":1701038491,"last_edit_date":1701038491,"creation_date":1701026412,"answer_id":77553142,"question_id":77553002,"body_markdown":"&gt; _&quot;... I need to get both previous and new value from Java ConcurrentHashMap (in Scala code). ...&quot;_\r\n\r\nHere is a solution in _Java_, that you can port.\r\n\r\nA somewhat un-contemporary approach; traverse the _key-set_ with a _[ListIterator](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ListIterator.html)_.\r\n\r\n```java\r\nMap&lt;String, Integer&gt; m = new HashMap&lt;&gt;() {{\r\n    put(&quot;A&quot;, 1);\r\n    put(&quot;B&quot;, 2);\r\n    put(&quot;C&quot;, 3);\r\n    put(&quot;D&quot;, 4);\r\n    put(&quot;E&quot;, 5);\r\n}};\r\nList&lt;String&gt; l = new ArrayList&lt;&gt;(m.keySet());\r\nListIterator&lt;String&gt; i = l.listIterator();\r\nString x, y = i.next();\r\nwhile (i.hasNext()) {\r\n    x = i.next();\r\n    System.out.printf(&quot;x = {&#39;%s&#39;: %s}, &quot;, x, m.get(x));\r\n    System.out.printf(&quot;y = {&#39;%s&#39;: %s}%n&quot;, y, m.get(y));\r\n    if (i.hasNext()) y = x;\r\n}\r\n```\r\n\r\n```none\r\nx = {&#39;B&#39;: 2}, y = {&#39;A&#39;: 1}\r\nx = {&#39;C&#39;: 3}, y = {&#39;B&#39;: 2}\r\nx = {&#39;D&#39;: 4}, y = {&#39;C&#39;: 3}\r\nx = {&#39;E&#39;: 5}, y = {&#39;D&#39;: 4}\r\n```","link":"https://stackoverflow.com/questions/77553002/functional-way-to-get-both-previous-value-and-new-value-from-concurrenthashmap/77553142#77553142","title":"functional way to get both previous value and new value from ConcurrentHashMap","body":"<blockquote>\n<p><em>&quot;... I need to get both previous and new value from Java ConcurrentHashMap (in Scala code). ...&quot;</em></p>\n</blockquote>\n<p>Here is a solution in <em>Java</em>, that you can port.</p>\n<p>A somewhat un-contemporary approach; traverse the <em>key-set</em> with a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ListIterator.html\" rel=\"nofollow noreferrer\">ListIterator</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; m = new HashMap&lt;&gt;() {{\n    put(&quot;A&quot;, 1);\n    put(&quot;B&quot;, 2);\n    put(&quot;C&quot;, 3);\n    put(&quot;D&quot;, 4);\n    put(&quot;E&quot;, 5);\n}};\nList&lt;String&gt; l = new ArrayList&lt;&gt;(m.keySet());\nListIterator&lt;String&gt; i = l.listIterator();\nString x, y = i.next();\nwhile (i.hasNext()) {\n    x = i.next();\n    System.out.printf(&quot;x = {'%s': %s}, &quot;, x, m.get(x));\n    System.out.printf(&quot;y = {'%s': %s}%n&quot;, y, m.get(y));\n    if (i.hasNext()) y = x;\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>x = {'B': 2}, y = {'A': 1}\nx = {'C': 3}, y = {'B': 2}\nx = {'D': 4}, y = {'C': 3}\nx = {'E': 5}, y = {'D': 4}\n</code></pre>\n"},{"comment_count":0,"score":0,"last_activity_date":1701355083,"creation_date":1701355083,"answer_id":77579344,"question_id":77553002,"body_markdown":"No. It is not possible with current version of [ConcurrentHashMap][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.KeySetView.html","link":"https://stackoverflow.com/questions/77553002/functional-way-to-get-both-previous-value-and-new-value-from-concurrenthashmap/77579344#77579344","title":"functional way to get both previous value and new value from ConcurrentHashMap","body":"<p>No. It is not possible with current version of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.KeySetView.html\" rel=\"nofollow noreferrer\">ConcurrentHashMap</a>.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":137,"answer_count":2,"score":0,"last_activity_date":1701355083,"creation_date":1701024045,"last_edit_date":1701156397,"question_id":77553002,"body_markdown":"I need to get both previous and new value from Java ConcurrentHashMap (in Scala code). To keep it thread-safe I use `compute` block which returns only new value. Is it possible to get both new and previous value without using var with initial null? Below my current solution:\r\n\r\n```\r\n  map: ConcurrentHashMap[String, Object] = new ConcurrentHashMap\r\n\r\n  def foo = {\r\n    var previousValue: Object = null\r\n\r\n    val newValue = map.compute(&quot;key&quot;, (_, value) =&gt; {\r\n      previousValue = Option(value).getOrElse(initialValue)\r\n      setNewValue(previousValue)\r\n     }\r\n    )\r\n\r\n    (previousValue, newValue)\r\n  }\r\n```","link":"https://stackoverflow.com/questions/77553002/functional-way-to-get-both-previous-value-and-new-value-from-concurrenthashmap","title":"functional way to get both previous value and new value from ConcurrentHashMap","body":"<p>I need to get both previous and new value from Java ConcurrentHashMap (in Scala code). To keep it thread-safe I use <code>compute</code> block which returns only new value. Is it possible to get both new and previous value without using var with initial null? Below my current solution:</p>\n<pre><code>  map: ConcurrentHashMap[String, Object] = new ConcurrentHashMap\n\n  def foo = {\n    var previousValue: Object = null\n\n    val newValue = map.compute(&quot;key&quot;, (_, value) =&gt; {\n      previousValue = Option(value).getOrElse(initialValue)\n      setNewValue(previousValue)\n     }\n    )\n\n    (previousValue, newValue)\n  }\n</code></pre>\n"},{"tags":["java","mongodb","spring-data-jpa"],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701354938,"creation_date":1701354938,"answer_id":77579331,"question_id":77573436,"body_markdown":"After one day on possible workaround&#39;s I found other implementation.\r\n\r\nFor a better control on Mongo query and operations I switch from MongoRepository to MongoTemplate and create mt custom methods with Criteria for parameters filters and validations, and TextCriteria for text search.\r\n\r\n","link":"https://stackoverflow.com/questions/77573436/custom-query-jpa-mongorepository-with-optional-parameter/77579331#77579331","title":"Custom Query JPA MongoRepository with optional parameter","body":"<p>After one day on possible workaround's I found other implementation.</p>\n<p>For a better control on Mongo query and operations I switch from MongoRepository to MongoTemplate and create mt custom methods with Criteria for parameters filters and validations, and TextCriteria for text search.</p>\n"}],"comment_count":0,"is_answered":false,"view_count":25,"answer_count":1,"score":0,"last_activity_date":1701354938,"creation_date":1701280037,"last_edit_date":1701280307,"question_id":77573436,"body_markdown":"I have this `ticket` document in Mongo Database\r\n\r\n    private id;\r\n    ...\r\n    private EnumState state;\r\n    private EnumType type;\r\n    private EnumPriority priority;\r\n\r\nNow my requirement is filtered by these fields in a http request with API\r\n\r\n 1. `http://localhost:8080/` - get all without filter\r\n 2. `http://localhost:8080?state=1` get all documents where state equal 1\r\n 3. `http://localhost:8080?state1&amp;type=1` get all documents where state equal 1 and type equal 1\r\n 4. `http://localhost:8080?state1&amp;type=1&amp;priority=1` get all documents where state equal 1 and type equal 1 and priority equal 1.\r\n\r\nI am using JPA MongoRepository interface and writing a Custom Query\r\n\r\n    @Query(&quot;{ $and: [ &quot; +\r\n            &quot;{ $or: [ { &#39;state&#39;: { $eq: ?0 } }, { &#39;state&#39;: { $exists: false } } ] }, &quot; +\r\n            &quot;{ $or: [ { &#39;type&#39;: { $eq: ?1 } }, { &#39;type&#39;: { $exists: false } } ] }, &quot; +\r\n            &quot;{ $or: [ { &#39;priority&#39;: { $eq: ?2 } }, { &#39;priority&#39;: { $exists: false } } ] }&quot; +\r\n            &quot;] }&quot;)\r\n    Page&lt;Ticket&gt; findAllBy(IncidentState state, IncidentType type, IncidentPriority priority, Pageable p);\r\n    \r\nBut for example when call `http://localhost:8080/` and `http://localhost:8080?state=1` is always return me Ticket[].\r\n\r\nComparing with PL/SQL I need something like\r\n\r\n    select * from ticket where\r\n    (i_type is null or type=i_type) and\r\n    (i_state is null or state=i_state) and\r\n    (i_priority is null or priority=i_priority)\r\n\r\nWhat is wrong in my @Query definition ?","link":"https://stackoverflow.com/questions/77573436/custom-query-jpa-mongorepository-with-optional-parameter","title":"Custom Query JPA MongoRepository with optional parameter","body":"<p>I have this <code>ticket</code> document in Mongo Database</p>\n<pre><code>private id;\n...\nprivate EnumState state;\nprivate EnumType type;\nprivate EnumPriority priority;\n</code></pre>\n<p>Now my requirement is filtered by these fields in a http request with API</p>\n<ol>\n<li><code>http://localhost:8080/</code> - get all without filter</li>\n<li><code>http://localhost:8080?state=1</code> get all documents where state equal 1</li>\n<li><code>http://localhost:8080?state1&amp;type=1</code> get all documents where state equal 1 and type equal 1</li>\n<li><code>http://localhost:8080?state1&amp;type=1&amp;priority=1</code> get all documents where state equal 1 and type equal 1 and priority equal 1.</li>\n</ol>\n<p>I am using JPA MongoRepository interface and writing a Custom Query</p>\n<pre><code>@Query(&quot;{ $and: [ &quot; +\n        &quot;{ $or: [ { 'state': { $eq: ?0 } }, { 'state': { $exists: false } } ] }, &quot; +\n        &quot;{ $or: [ { 'type': { $eq: ?1 } }, { 'type': { $exists: false } } ] }, &quot; +\n        &quot;{ $or: [ { 'priority': { $eq: ?2 } }, { 'priority': { $exists: false } } ] }&quot; +\n        &quot;] }&quot;)\nPage&lt;Ticket&gt; findAllBy(IncidentState state, IncidentType type, IncidentPriority priority, Pageable p);\n</code></pre>\n<p>But for example when call <code>http://localhost:8080/</code> and <code>http://localhost:8080?state=1</code> is always return me Ticket[].</p>\n<p>Comparing with PL/SQL I need something like</p>\n<pre><code>select * from ticket where\n(i_type is null or type=i_type) and\n(i_state is null or state=i_state) and\n(i_priority is null or priority=i_priority)\n</code></pre>\n<p>What is wrong in my @Query definition ?</p>\n"},{"tags":["java","openapi-generator","openapi-generator-cli"],"comment_count":0,"is_answered":false,"view_count":31,"answer_count":0,"score":1,"last_activity_date":1701354695,"creation_date":1701354695,"question_id":77579289,"body_markdown":"I am tying to use openapi-generator-cli to make the model (pojo) classes from a json api definition. It works, but it makes more than I want. \r\n\r\nI am using ```-g java --global-property models``` as options, and this kind of works. It is only making the model classes now, and not all the API classes. However, it&#39; still putting import in for things that are not found or used, for example;\r\n\r\nSome imports are included which are not used, such as;\r\n```\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\n```\r\nWhich is ok because I am using that elsewhere.\r\n\r\nHowever, some of the code in the models are importing code I do not have, which it not generated, nor do I want;\r\n\r\n```\r\nimport org.openapitools.client.JSON;\r\n\r\npublic static AmendRequestPiecesInner fromJson(String jsonString) throws IOException {\r\n    return JSON.getGson().fromJson(jsonString, AmendRequestPiecesInner.class);\r\n  }\r\n```\r\n\r\nI literally JUST want the simple POJO classes, with no extra things.\r\n\r\nIs this possible?\r\n\r\n","link":"https://stackoverflow.com/questions/77579289/how-to-make-simple-pojo-with-openapi-generator-cli","title":"How to make simple POJO with openapi-generator-cli","body":"<p>I am tying to use openapi-generator-cli to make the model (pojo) classes from a json api definition. It works, but it makes more than I want.</p>\n<p>I am using <code>-g java --global-property models</code> as options, and this kind of works. It is only making the model classes now, and not all the API classes. However, it' still putting import in for things that are not found or used, for example;</p>\n<p>Some imports are included which are not used, such as;</p>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\n</code></pre>\n<p>Which is ok because I am using that elsewhere.</p>\n<p>However, some of the code in the models are importing code I do not have, which it not generated, nor do I want;</p>\n<pre><code>import org.openapitools.client.JSON;\n\npublic static AmendRequestPiecesInner fromJson(String jsonString) throws IOException {\n    return JSON.getGson().fromJson(jsonString, AmendRequestPiecesInner.class);\n  }\n</code></pre>\n<p>I literally JUST want the simple POJO classes, with no extra things.</p>\n<p>Is this possible?</p>\n"},{"tags":["java","eclipse","soap","jetty","cxf"],"comments":[{"score":1,"post_type":"question","creation_date":1697464283,"post_id":77125261,"comment_id":136279633,"body_markdown":"Good and bad news for you. Good: I got the same problem. Bad: I have no idea why, too.","link":"https://stackoverflow.com/questions/77125261/java-lang-illegalstateexception-no-jetty-contexthandler-jetty-websocket-sci-una#comment136279633_77125261","body":"Good and bad news for you. Good: I got the same problem. Bad: I have no idea why, too."}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1695022338,"creation_date":1695022338,"answer_id":77125298,"question_id":77125261,"body_markdown":"It seems that you have both &quot;jetty&quot; (`org.eclipse.jetty`) and &quot;tomcat&quot; (`org.apache.tomcat`, `org.apache.catalina`) in your stacktrace so something wierd is going on.\r\n\r\nAre you using maven? Try running `mvn dependency:tree` to see why both tomcat and jetty are on your classpath","link":"https://stackoverflow.com/questions/77125261/java-lang-illegalstateexception-no-jetty-contexthandler-jetty-websocket-sci-una/77125298#77125298","title":"java.lang.IllegalStateException No Jetty ContextHandler, Jetty WebSocket SCI unavailable","body":"<p>It seems that you have both &quot;jetty&quot; (<code>org.eclipse.jetty</code>) and &quot;tomcat&quot; (<code>org.apache.tomcat</code>, <code>org.apache.catalina</code>) in your stacktrace so something wierd is going on.</p>\n<p>Are you using maven? Try running <code>mvn dependency:tree</code> to see why both tomcat and jetty are on your classpath</p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1695382835,"post_id":77140338,"comment_id":136020550,"body_markdown":"You could update the question with this info instead of adding it as an answer","link":"https://stackoverflow.com/questions/77125261/java-lang-illegalstateexception-no-jetty-contexthandler-jetty-websocket-sci-una/77140338#comment136020550_77140338","body":"You could update the question with this info instead of adding it as an answer"}],"comment_count":1,"score":0,"last_activity_date":1695196019,"creation_date":1695196019,"answer_id":77140338,"question_id":77125261,"body_markdown":"I&#39;m actually not using Maven, I would like the service run&#39;s with Tomcat 10. But I don&#39;t know how to do this.\r\n\r\nWith Tomcat 7.0.27 it was running all fine. Probably with the new version some changes happened and I don&#39;t know where to configure this or what library is missing.","link":"https://stackoverflow.com/questions/77125261/java-lang-illegalstateexception-no-jetty-contexthandler-jetty-websocket-sci-una/77140338#77140338","title":"java.lang.IllegalStateException No Jetty ContextHandler, Jetty WebSocket SCI unavailable","body":"<p>I'm actually not using Maven, I would like the service run's with Tomcat 10. But I don't know how to do this.</p>\n<p>With Tomcat 7.0.27 it was running all fine. Probably with the new version some changes happened and I don't know where to configure this or what library is missing.</p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1698918106,"post_id":77402735,"comment_id":136466159,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","link":"https://stackoverflow.com/questions/77125261/java-lang-illegalstateexception-no-jetty-contexthandler-jetty-websocket-sci-una/77402735#comment136466159_77402735","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77402735/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"comment_count":1,"score":0,"last_activity_date":1698842842,"creation_date":1698842842,"answer_id":77402735,"question_id":77125261,"body_markdown":"We had the exact same case as you: \r\n1 Java 17\r\n2 Tomcat 10\r\n3 Apache CXF 4.0.2\r\n\r\nIn our case we imported a library which used jetty for some testing purposes. But we were using tomcat to run our own application. Our solution was excluding the jetty import from this library and it worked like a charm.\r\n\r\n","link":"https://stackoverflow.com/questions/77125261/java-lang-illegalstateexception-no-jetty-contexthandler-jetty-websocket-sci-una/77402735#77402735","title":"java.lang.IllegalStateException No Jetty ContextHandler, Jetty WebSocket SCI unavailable","body":"<p>We had the exact same case as you:\n1 Java 17\n2 Tomcat 10\n3 Apache CXF 4.0.2</p>\n<p>In our case we imported a library which used jetty for some testing purposes. But we were using tomcat to run our own application. Our solution was excluding the jetty import from this library and it worked like a charm.</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1701354552,"creation_date":1701354552,"answer_id":77579265,"question_id":77125261,"body_markdown":"I ran into exactly this same issue. In my case, I had the CXF runtime in my Java Build Path in Eclipse. This works just fine for Tomcat 9 and earlier. However, Tomcat 10.1 and TomEE 9 both produce that exception. The fix for me was to remove the CXF runtime from my build path and add the specific dependencies that I need in my POM.\r\nThe clue that gave it away for me was lance-java&#39;s answer. ","link":"https://stackoverflow.com/questions/77125261/java-lang-illegalstateexception-no-jetty-contexthandler-jetty-websocket-sci-una/77579265#77579265","title":"java.lang.IllegalStateException No Jetty ContextHandler, Jetty WebSocket SCI unavailable","body":"<p>I ran into exactly this same issue. In my case, I had the CXF runtime in my Java Build Path in Eclipse. This works just fine for Tomcat 9 and earlier. However, Tomcat 10.1 and TomEE 9 both produce that exception. The fix for me was to remove the CXF runtime from my build path and add the specific dependencies that I need in my POM.\nThe clue that gave it away for me was lance-java's answer.</p>\n"}],"comment_count":1,"is_answered":false,"view_count":199,"answer_count":4,"score":2,"last_activity_date":1701354552,"creation_date":1695021893,"question_id":77125261,"body_markdown":"I&#39;m trying to deploy a SOAP-Webservice with:\r\n\r\n- Tomcat 10\r\n- Apache CXF 4.0.2\r\n- Java JDK 17.0.6\r\n\r\nThe Service was running fine with Tomcat 7.0.27, Java JDK 1.7.45 and Apache CXF 3.0.2.\r\nAfter changing all versions now it won&#39;t run again and claims the above error message.\r\nI have no idea, what I can do.\r\n\r\nThis are the details of the error message.\r\n\r\nI tried several changes of the configuration, but nothing helps.\r\nI&#39;m working with Eclipse Version: 2023-06 (4.28.0)\r\n\r\nMany thanks for any help.\r\n\r\n~~~\r\nINFORMATION: No Spring WebApplicationInitializer types detected on classpath\r\nSept. 18, 2023 9:03:34 AM org.apache.catalina.core.ContainerBase startInternal\r\nSCHWERWIEGEND: A child container failed during start\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:873)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:918)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\r\n\t... 21 more\r\nCaused by: java.lang.IllegalStateException: No Jetty ContextHandler, Jetty WebSocket SCI unavailable\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.getServletContextHandler(ServletContextHandler.java:103)\r\n\tat org.eclipse.jetty.websocket.server.config.JettyWebSocketServletContainerInitializer.onStartup(JettyWebSocketServletContainerInitializer.java:99)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4886)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t... 27 more\r\n\r\nSept. 18, 2023 9:03:34 AM org.apache.catalina.core.ContainerBase startInternal\r\nSCHWERWIEGEND: A child container failed during start\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:873)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:918)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:885)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\r\n\t... 13 more\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:873)\r\n\t... 21 more\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\r\n\t... 21 more\r\nCaused by: java.lang.IllegalStateException: No Jetty ContextHandler, Jetty WebSocket SCI unavailable\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.getServletContextHandler(ServletContextHandler.java:103)\r\n\tat org.eclipse.jetty.websocket.server.config.JettyWebSocketServletContainerInitializer.onStartup(JettyWebSocketServletContainerInitializer.java:99)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4886)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t... 27 more\r\n~~~","link":"https://stackoverflow.com/questions/77125261/java-lang-illegalstateexception-no-jetty-contexthandler-jetty-websocket-sci-una","title":"java.lang.IllegalStateException No Jetty ContextHandler, Jetty WebSocket SCI unavailable","body":"<p>I'm trying to deploy a SOAP-Webservice with:</p>\n<ul>\n<li>Tomcat 10</li>\n<li>Apache CXF 4.0.2</li>\n<li>Java JDK 17.0.6</li>\n</ul>\n<p>The Service was running fine with Tomcat 7.0.27, Java JDK 1.7.45 and Apache CXF 3.0.2.\nAfter changing all versions now it won't run again and claims the above error message.\nI have no idea, what I can do.</p>\n<p>This are the details of the error message.</p>\n<p>I tried several changes of the configuration, but nothing helps.\nI'm working with Eclipse Version: 2023-06 (4.28.0)</p>\n<p>Many thanks for any help.</p>\n<pre><code>INFORMATION: No Spring WebApplicationInitializer types detected on classpath\nSept. 18, 2023 9:03:34 AM org.apache.catalina.core.ContainerBase startInternal\nSCHWERWIEGEND: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:873)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:918)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\n    ... 21 more\nCaused by: java.lang.IllegalStateException: No Jetty ContextHandler, Jetty WebSocket SCI unavailable\n    at org.eclipse.jetty.servlet.ServletContextHandler.getServletContextHandler(ServletContextHandler.java:103)\n    at org.eclipse.jetty.websocket.server.config.JettyWebSocketServletContainerInitializer.onStartup(JettyWebSocketServletContainerInitializer.java:99)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4886)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    ... 27 more\n\nSept. 18, 2023 9:03:34 AM org.apache.catalina.core.ContainerBase startInternal\nSCHWERWIEGEND: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:873)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:918)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:885)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\n    ... 13 more\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:873)\n    ... 21 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/cumulustransfer]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1328)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1318)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\n    ... 21 more\nCaused by: java.lang.IllegalStateException: No Jetty ContextHandler, Jetty WebSocket SCI unavailable\n    at org.eclipse.jetty.servlet.ServletContextHandler.getServletContextHandler(ServletContextHandler.java:103)\n    at org.eclipse.jetty.websocket.server.config.JettyWebSocketServletContainerInitializer.onStartup(JettyWebSocketServletContainerInitializer.java:99)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4886)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    ... 27 more\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"score":1,"post_type":"question","creation_date":1701354995,"post_id":77579253,"comment_id":136767384,"body_markdown":"Soo. Are you disable google?\n\nhttps://www.geeksforgeeks.org/spring-boot-start-stop-a-kafka-listener-dynamically/","link":"https://stackoverflow.com/questions/77579253/conditonal-annotation-by-a-variable#comment136767384_77579253","body":"Soo. Are you disable google?  <a href=\"https://www.geeksforgeeks.org/spring-boot-start-stop-a-kafka-listener-dynamically/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"},{"score":0,"post_type":"question","creation_date":1701355802,"post_id":77579253,"comment_id":136767555,"body_markdown":"Thats woderful for runtime changes. But maybe there is still a way for startup with a condtion.","link":"https://stackoverflow.com/questions/77579253/conditonal-annotation-by-a-variable#comment136767555_77579253","body":"Thats woderful for runtime changes. But maybe there is still a way for startup with a condtion."}],"comment_count":2,"is_answered":false,"view_count":40,"answer_count":0,"score":-1,"last_activity_date":1701354451,"creation_date":1701354451,"question_id":77579253,"body_markdown":"I have a annotated method.\r\n\r\n    class MyKafka\r\n    {\r\n      @KafkaListener (topics = &quot;MyTopic&quot;)\r\n      public void read ()\r\n      {\r\n        //...\r\n      }\r\n\r\n      public int switch = 0;  // 0 ... disable reader\r\n    }\r\n\r\nWith the annotation it is a reader for a message-bus ... whatever... to important for my question.\r\n\r\nBut I want it only if member-variable switch is set to not 0. If 0 the annotation should not be processed and the method will not get called.\r\n\r\nHow can I get this??\r\n\r\nI tried with @ConditionalOnExpressin but this only worked on proberties in application.proberties and not on my variable - as far I see.\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77579253/conditonal-annotation-by-a-variable","title":"Conditonal annotation by a variable","body":"<p>I have a annotated method.</p>\n<pre><code>class MyKafka\n{\n  @KafkaListener (topics = &quot;MyTopic&quot;)\n  public void read ()\n  {\n    //...\n  }\n\n  public int switch = 0;  // 0 ... disable reader\n}\n</code></pre>\n<p>With the annotation it is a reader for a message-bus ... whatever... to important for my question.</p>\n<p>But I want it only if member-variable switch is set to not 0. If 0 the annotation should not be processed and the method will not get called.</p>\n<p>How can I get this??</p>\n<p>I tried with @ConditionalOnExpressin but this only worked on proberties in application.proberties and not on my variable - as far I see.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"score":0,"post_type":"question","creation_date":1701354473,"post_id":77579218,"comment_id":136767252,"body_markdown":"You shouldn&#39;t add that annotation. If you add it it will disable auto configuration and i think also start scanning from the package it is defined in, instead of the package of the `@SpringBootApplication`. You shouldn&#39;t need the `@EnableTransactionManagement` either.","link":"https://stackoverflow.com/questions/77579218/spring-boot-3-1-repository-in-tests-does-not-autowir-when-using-enablejpareposit#comment136767252_77579218","body":"You shouldn&#39;t add that annotation. If you add it it will disable auto configuration and i think also start scanning from the package it is defined in, instead of the package of the <code>@SpringBootApplication</code>. You shouldn&#39;t need the <code>@EnableTransactionManagement</code> either."},{"score":0,"post_type":"question","creation_date":1701413387,"post_id":77579218,"comment_id":136774927,"body_markdown":"It must be a change then from newer Spring Boot. I used this annotation before with Spring Boot 2.2.4 and it worked then.","link":"https://stackoverflow.com/questions/77579218/spring-boot-3-1-repository-in-tests-does-not-autowir-when-using-enablejpareposit#comment136774927_77579218","body":"It must be a change then from newer Spring Boot. I used this annotation before with Spring Boot 2.2.4 and it worked then."},{"score":0,"post_type":"question","creation_date":1701434173,"post_id":77579218,"comment_id":136778058,"body_markdown":"Then you were lucky I suspect, as that annotation disables auto-config and could be that some changes in Spring Data have influences this. But as mentioned just remove it (assuming you are following the best practices for structuring your application).","link":"https://stackoverflow.com/questions/77579218/spring-boot-3-1-repository-in-tests-does-not-autowir-when-using-enablejpareposit#comment136778058_77579218","body":"Then you were lucky I suspect, as that annotation disables auto-config and could be that some changes in Spring Data have influences this. But as mentioned just remove it (assuming you are following the best practices for structuring your application)."}],"comment_count":3,"is_answered":false,"view_count":28,"answer_count":0,"score":-1,"last_activity_date":1701354194,"creation_date":1701354194,"question_id":77579218,"body_markdown":"After upgrading my project from Spring Boot 2.2.4, to 3.1.6, my Repository JUnit tests failed.\r\n\r\nAfter some investigation, I found out they fail if I have `@EnableJpaRepositories` in my Application Configuration.\r\n\r\nWhen running the tests, it cannot find my Repositories to autowire.\r\n```\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.demo.repository.BookRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n```\r\n\r\nIf I remove the `@EnableJpaRepositories` from my RootConfig class, then the tests works.\r\n```\r\n@Configuration\r\n@EnableDiscoveryClient\r\n@EnableCaching\r\n@EnableBatchProcessing\r\n@EnableTransactionManagement\r\n//@EnableJpaRepositories\r\npublic class RootConfig {\r\n}\r\n```\r\n\r\nThe latest commit on this test project can demonstrate this problem.\\\r\nhttps://github.com/DJViking/spring-boot-demo\r\n\r\nIt works if I specify the repository package with @EnableJpaRepositories.\\\r\n```\r\n@EnableJpaRepositories(&quot;com.example.demo.repository&quot;)\r\n```\r\nWhy do I need this? I did not need it in earlier version of Spring Boot.\r\n\r\nIs there something nww with Spring Boot 2.7, 3.0, or 3.1 that I have failed to account for?\\\r\nLooking at the migration guides for Spring Boot, I cannot find anything related to this annotation.\\\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.1-Release-Notes","link":"https://stackoverflow.com/questions/77579218/spring-boot-3-1-repository-in-tests-does-not-autowir-when-using-enablejpareposit","title":"Spring Boot 3.1 Repository in tests does not Autowir when using EnableJpaRepositories","body":"<p>After upgrading my project from Spring Boot 2.2.4, to 3.1.6, my Repository JUnit tests failed.</p>\n<p>After some investigation, I found out they fail if I have <code>@EnableJpaRepositories</code> in my Application Configuration.</p>\n<p>When running the tests, it cannot find my Repositories to autowire.</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.demo.repository.BookRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>If I remove the <code>@EnableJpaRepositories</code> from my RootConfig class, then the tests works.</p>\n<pre><code>@Configuration\n@EnableDiscoveryClient\n@EnableCaching\n@EnableBatchProcessing\n@EnableTransactionManagement\n//@EnableJpaRepositories\npublic class RootConfig {\n}\n</code></pre>\n<p>The latest commit on this test project can demonstrate this problem.<br />\n<a href=\"https://github.com/DJViking/spring-boot-demo\" rel=\"nofollow noreferrer\">https://github.com/DJViking/spring-boot-demo</a></p>\n<p>It works if I specify the repository package with @EnableJpaRepositories.\\</p>\n<pre><code>@EnableJpaRepositories(&quot;com.example.demo.repository&quot;)\n</code></pre>\n<p>Why do I need this? I did not need it in earlier version of Spring Boot.</p>\n<p>Is there something nww with Spring Boot 2.7, 3.0, or 3.1 that I have failed to account for?<br />\nLooking at the migration guides for Spring Boot, I cannot find anything related to this annotation.<br />\n<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide</a>\n<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.1-Release-Notes\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.1-Release-Notes</a></p>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-security"],"comments":[{"score":1,"post_type":"question","creation_date":1701171996,"post_id":77563578,"comment_id":136739763,"body_markdown":"please add a log or any trace for the exception or error.","link":"https://stackoverflow.com/questions/77563578/could-not-commit-jpa-transaction-while-working-with-post-request#comment136739763_77563578","body":"please add a log or any trace for the exception or error."}],"answers":[{"comments":[{"score":1,"post_type":"answer","creation_date":1701192177,"post_id":77563716,"comment_id":136743883,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","link":"https://stackoverflow.com/questions/77563578/could-not-commit-jpa-transaction-while-working-with-post-request/77563716#comment136743883_77563716","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77563716/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"score":0,"post_type":"answer","creation_date":1701248227,"post_id":77563716,"comment_id":136750853,"body_markdown":"Here I am sending post request which includes two model classes. In this case It&#39;s better to use form data. I have to send attachment within same request.","link":"https://stackoverflow.com/questions/77563578/could-not-commit-jpa-transaction-while-working-with-post-request/77563716#comment136750853_77563716","body":"Here I am sending post request which includes two model classes. In this case It&#39;s better to use form data. I have to send attachment within same request."}],"comment_count":2,"score":0,"last_activity_date":1701173032,"last_edit_date":1701173032,"creation_date":1701172976,"answer_id":77563716,"question_id":77563578,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X0fVt.png\r\n\r\nWhen sending a request in your postman, you can try to send your data via raw and json model in Body.","link":"https://stackoverflow.com/questions/77563578/could-not-commit-jpa-transaction-while-working-with-post-request/77563716#77563716","title":"Could not commit JPA transaction while working with post request","body":"<p><a href=\"https://i.stack.imgur.com/X0fVt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>When sending a request in your postman, you can try to send your data via raw and json model in Body.</p>\n"},{"comments":[{"score":0,"post_type":"answer","creation_date":1701411349,"post_id":77579126,"comment_id":136774732,"body_markdown":"First I tried to remove @GeneratedValue, it&#39;s not working.. However Now i got some idea to do it. will try different way.. thanks for response","link":"https://stackoverflow.com/questions/77563578/could-not-commit-jpa-transaction-while-working-with-post-request/77579126#comment136774732_77579126","body":"First I tried to remove @GeneratedValue, it&#39;s not working.. However Now i got some idea to do it. will try different way.. thanks for response"}],"comment_count":1,"score":0,"last_activity_date":1701353809,"last_edit_date":1701353809,"creation_date":1701353370,"answer_id":77579126,"question_id":77563578,"body_markdown":"You need to share your JSON data and  `EmployeeService` class to understand the issue better.\r\n\r\nFrom the image you shared, I found out one issue:\r\n\r\nYou give `id` for creating an employee but in the `Employee` model, it is generated by Hibernate automatically in your model by specifying this: `@GeneratedValue`. So it is wrong, you should not add **id** field in your JSON data. That might be the reason for getting the error.\r\n\r\nIf you want to give `id` externally, then you need to remove `@GeneratedValue` annotation in `Employee` class.","link":"https://stackoverflow.com/questions/77563578/could-not-commit-jpa-transaction-while-working-with-post-request/77579126#77579126","title":"Could not commit JPA transaction while working with post request","body":"<p>You need to share your JSON data and  <code>EmployeeService</code> class to understand the issue better.</p>\n<p>From the image you shared, I found out one issue:</p>\n<p>You give <code>id</code> for creating an employee but in the <code>Employee</code> model, it is generated by Hibernate automatically in your model by specifying this: <code>@GeneratedValue</code>. So it is wrong, you should not add <strong>id</strong> field in your JSON data. That might be the reason for getting the error.</p>\n<p>If you want to give <code>id</code> externally, then you need to remove <code>@GeneratedValue</code> annotation in <code>Employee</code> class.</p>\n"}],"comment_count":1,"is_answered":false,"view_count":54,"answer_count":2,"score":0,"last_activity_date":1701353809,"creation_date":1701171624,"question_id":77563578,"body_markdown":"I&#39;m attempting to send a post request with an image attachment and employee details in json format. For ImageData and Employee, I have distinct tables. I am able to store image data with my code, but not employee data.The error message &quot;Could not commit JPA transaction&quot; is displayed.\r\nHere I am sharing my code details\r\n\r\n```\r\n#Post Request\r\n@PostMapping(&quot;/create&quot;)\r\n    public Employee tempCreateEmployee(\r\n            @RequestParam(&quot;json&quot;) String json,\r\n            @RequestParam(&quot;file&quot;) MultipartFile file\r\n    ) throws CustomException {\r\n        try {\r\n\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            logger.info(&quot;data received as string&quot;);\r\n\r\n            Employee employee = objectMapper.readValue(json, Employee.class);\r\n            logger.info(employee.toString());\r\n\r\n            logger.info(&quot;Received employee data: {}&quot;, employee);\r\n            \r\n            int imageId=fileService.uploadImageFile(file);\r\n            logger.info(&quot;file processing successful&quot;);\r\n            \r\n            employee.setImageid(imageId);\r\n            logger.info(employee.toString());\r\n           \r\n            return employeeService.save(employee);\r\n        } catch (Exception ex) {\r\n           \r\n            throw new CustomException(&quot;Employee object not created&quot;);\r\n        }\r\n    }\r\n```\r\nService method for uploading image\r\n\r\n```\r\npublic int uploadImageFile(MultipartFile file) throws IOException {\r\n        ImageData imageData= filesRepo.save(ImageData.builder()\r\n                .name(file.getOriginalFilename())\r\n                .type(file.getContentType())\r\n                .id(filesRepo.findAll().size()+1)\r\n                .image_filedata(ImageUtils.compressImage(file.getBytes())).build());\r\n        \r\n       \r\n        return imageData.getId();\r\n\r\n    }\r\n```\r\n**Employee Model class:**\r\n\r\n```\r\npackage com.SpringTask.SpringTask.Models;\r\n\r\nimport com.SpringTask.SpringTask.Encryption.Encrypt;\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\nimport jakarta.persistence.*;\r\nimport jakarta.validation.constraints.*;\r\nimport jdk.jfr.DataAmount;\r\n\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Date;\r\n\r\n\r\nimport lombok.*;\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Setter\r\n@Getter\r\n@Data\r\n@Entity\r\n@Table(name=&quot;tableEmployees&quot;)\r\n\r\npublic class Employee {\r\n    @Id\r\n    @GeneratedValue\r\n    public Integer id;\r\n\r\n\r\n    public String firstName;\r\n\r\n  \r\n    public String lastName;\r\n\r\n    \r\n    public String address;\r\n\r\n    \r\n    public String email;\r\n\r\n\r\n    \r\n    public int phoneNumber;\r\n\r\n  \r\n\r\n    private int imageid;\r\n\r\n   }\r\n```\r\n\r\n\r\n**ImageData model class:**\r\n\r\n\r\n```\r\npackage com.SpringTask.SpringTask.Models;\r\n\r\nimport jakarta.persistence.*;\r\nimport jakarta.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.*;\r\nimport lombok.NoArgsConstructor;\r\nimport org.hibernate.engine.internal.Cascade;\r\n\r\nimport java.util.Arrays;\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;tableImageData&quot;)\r\n@Builder(toBuilder = true)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Setter\r\n@Getter\r\n\r\npublic class ImageData {\r\n    @Id\r\n    private int id;\r\n\r\n    private String name;\r\n    private String type;\r\n\r\n    @Lob\r\n    @Column(name = &quot;image_filedata&quot;, columnDefinition = &quot;LONGBLOB&quot;)\r\n    private byte[] image_filedata;\r\n    \r\n}\r\n```\r\n[![enter image description here](https://i.stack.imgur.com/TjCvB.png)](https://i.stack.imgur.com/TjCvB.png)\r\n\r\nI&#39;ve tried debugging , but every time same issue appears. I have verified my database setup and code logic.\r\nCould not commit JPA transaction means?","link":"https://stackoverflow.com/questions/77563578/could-not-commit-jpa-transaction-while-working-with-post-request","title":"Could not commit JPA transaction while working with post request","body":"<p>I'm attempting to send a post request with an image attachment and employee details in json format. For ImageData and Employee, I have distinct tables. I am able to store image data with my code, but not employee data.The error message &quot;Could not commit JPA transaction&quot; is displayed.\nHere I am sharing my code details</p>\n<pre><code>#Post Request\n@PostMapping(&quot;/create&quot;)\n    public Employee tempCreateEmployee(\n            @RequestParam(&quot;json&quot;) String json,\n            @RequestParam(&quot;file&quot;) MultipartFile file\n    ) throws CustomException {\n        try {\n\n            ObjectMapper objectMapper = new ObjectMapper();\n            logger.info(&quot;data received as string&quot;);\n\n            Employee employee = objectMapper.readValue(json, Employee.class);\n            logger.info(employee.toString());\n\n            logger.info(&quot;Received employee data: {}&quot;, employee);\n            \n            int imageId=fileService.uploadImageFile(file);\n            logger.info(&quot;file processing successful&quot;);\n            \n            employee.setImageid(imageId);\n            logger.info(employee.toString());\n           \n            return employeeService.save(employee);\n        } catch (Exception ex) {\n           \n            throw new CustomException(&quot;Employee object not created&quot;);\n        }\n    }\n</code></pre>\n<p>Service method for uploading image</p>\n<pre><code>public int uploadImageFile(MultipartFile file) throws IOException {\n        ImageData imageData= filesRepo.save(ImageData.builder()\n                .name(file.getOriginalFilename())\n                .type(file.getContentType())\n                .id(filesRepo.findAll().size()+1)\n                .image_filedata(ImageUtils.compressImage(file.getBytes())).build());\n        \n       \n        return imageData.getId();\n\n    }\n</code></pre>\n<p><strong>Employee Model class:</strong></p>\n<pre><code>package com.SpringTask.SpringTask.Models;\n\nimport com.SpringTask.SpringTask.Encryption.Encrypt;\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport jakarta.persistence.*;\nimport jakarta.validation.constraints.*;\nimport jdk.jfr.DataAmount;\n\n\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Date;\n\n\nimport lombok.*;\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Setter\n@Getter\n@Data\n@Entity\n@Table(name=&quot;tableEmployees&quot;)\n\npublic class Employee {\n    @Id\n    @GeneratedValue\n    public Integer id;\n\n\n    public String firstName;\n\n  \n    public String lastName;\n\n    \n    public String address;\n\n    \n    public String email;\n\n\n    \n    public int phoneNumber;\n\n  \n\n    private int imageid;\n\n   }\n</code></pre>\n<p><strong>ImageData model class:</strong></p>\n<pre><code>package com.SpringTask.SpringTask.Models;\n\nimport jakarta.persistence.*;\nimport jakarta.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.*;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.engine.internal.Cascade;\n\nimport java.util.Arrays;\n\n\n@Entity\n@Table(name = &quot;tableImageData&quot;)\n@Builder(toBuilder = true)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Setter\n@Getter\n\npublic class ImageData {\n    @Id\n    private int id;\n\n    private String name;\n    private String type;\n\n    @Lob\n    @Column(name = &quot;image_filedata&quot;, columnDefinition = &quot;LONGBLOB&quot;)\n    private byte[] image_filedata;\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/TjCvB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TjCvB.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried debugging , but every time same issue appears. I have verified my database setup and code logic.\nCould not commit JPA transaction means?</p>\n"},{"tags":["java","spring-boot","prometheus","micrometer"],"answers":[{"comment_count":0,"score":1,"last_activity_date":1680143606,"creation_date":1680143606,"answer_id":75883659,"question_id":75833922,"body_markdown":"&gt;Is there a way to add a List&lt;Order&gt; into the MeterRegistry (micrometer) ?\r\n\r\n`MeterRegistry` stores `Meter`, not orders, I&#39;m not sure what you are trying to do but I&#39;m afraid you are trying to misuse Micrometer/Prometheus.\r\n\r\nEspecially because the orderID, it seems like a high cardinality tag which will either cause issues in your JVM or in Prometheus (or both).\r\n\r\nHere&#39;s why: https://develotters.com/posts/high-cardinality/","link":"https://stackoverflow.com/questions/75833922/micrometer-add-list-of-objects-to-registry-without-count/75883659#75883659","title":"MIcrometer - add list of objects to registry without count","body":"<blockquote>\n<p>Is there a way to add a List into the MeterRegistry (micrometer) ?</p>\n</blockquote>\n<p><code>MeterRegistry</code> stores <code>Meter</code>, not orders, I'm not sure what you are trying to do but I'm afraid you are trying to misuse Micrometer/Prometheus.</p>\n<p>Especially because the orderID, it seems like a high cardinality tag which will either cause issues in your JVM or in Prometheus (or both).</p>\n<p>Here's why: <a href=\"https://develotters.com/posts/high-cardinality/\" rel=\"nofollow noreferrer\">https://develotters.com/posts/high-cardinality/</a></p>\n"},{"comment_count":0,"score":0,"last_activity_date":1681320776,"creation_date":1681320776,"answer_id":75998336,"question_id":75833922,"body_markdown":"Skip whole &quot;exposing this data through my app&quot; and misusing Prometheus. And just add your database to Grafana as data source.\r\n\r\nThis way you&#39;ll have chance to query data straight from database into your panels.\r\n\r\nDocumentation on data sources [here][1].\r\n\r\n\r\n  [1]: https://grafana.com/docs/grafana/latest/datasources/#built-in-core-data-sources","link":"https://stackoverflow.com/questions/75833922/micrometer-add-list-of-objects-to-registry-without-count/75998336#75998336","title":"MIcrometer - add list of objects to registry without count","body":"<p>Skip whole &quot;exposing this data through my app&quot; and misusing Prometheus. And just add your database to Grafana as data source.</p>\n<p>This way you'll have chance to query data straight from database into your panels.</p>\n<p>Documentation on data sources <a href=\"https://grafana.com/docs/grafana/latest/datasources/#built-in-core-data-sources\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comment_count":0,"score":0,"last_activity_date":1701352359,"last_edit_date":1701352359,"creation_date":1701352059,"answer_id":77578972,"question_id":75833922,"body_markdown":"You can use a custom Metrics class for this \r\n```import io.micrometer.core.instrument.Counter;\r\nimport io.micrometer.core.instrument.MeterRegistry;\r\nimport io.micrometer.core.instrument.Tags;\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class OrderMetrics {\r\n  private final MeterRegistry meterRegistry;\r\n\r\n  @Autowired\r\n  public OrderMetrics(MeterRegistry meterRegistry) {\r\n    this.meterRegistry = meterRegistry;\r\n  }\r\n\r\n  public void recordOrders(List&lt;Order&gt; orders) {\r\n    for (Order order : orders) {\r\n      Tags tags = Tags.of(\r\n                  &quot;id&quot; ,order.getId(),\r\n                  &quot;country&quot;,order.getCountry().toString(),\r\n                  &quot;status&quot;,order.getStatus().toString());\r\n      Counter.builder(&quot;my_orders&quot;)\r\n          .tags(tags)\r\n          .description(&quot;My Orders&quot;)\r\n          .register(meterRegistry)\r\n          .increment();\r\n    }\r\n  }\r\n}\r\n```\r\nCall the &quot;recordOrders&quot; method by autowiring the OrderMetrics class.","link":"https://stackoverflow.com/questions/75833922/micrometer-add-list-of-objects-to-registry-without-count/77578972#77578972","title":"MIcrometer - add list of objects to registry without count","body":"<p>You can use a custom Metrics class for this</p>\n<pre><code>import io.micrometer.core.instrument.MeterRegistry;\nimport io.micrometer.core.instrument.Tags;\n@Component\n@RequiredArgsConstructor\npublic class OrderMetrics {\n  private final MeterRegistry meterRegistry;\n\n  @Autowired\n  public OrderMetrics(MeterRegistry meterRegistry) {\n    this.meterRegistry = meterRegistry;\n  }\n\n  public void recordOrders(List&lt;Order&gt; orders) {\n    for (Order order : orders) {\n      Tags tags = Tags.of(\n                  &quot;id&quot; ,order.getId(),\n                  &quot;country&quot;,order.getCountry().toString(),\n                  &quot;status&quot;,order.getStatus().toString());\n      Counter.builder(&quot;my_orders&quot;)\n          .tags(tags)\n          .description(&quot;My Orders&quot;)\n          .register(meterRegistry)\n          .increment();\n    }\n  }\n}\n</code></pre>\n<p>Call the &quot;recordOrders&quot; method by autowiring the OrderMetrics class.</p>\n"}],"comment_count":0,"is_answered":true,"view_count":307,"answer_count":3,"score":1,"last_activity_date":1701352359,"creation_date":1679662468,"last_edit_date":1679677663,"question_id":75833922,"body_markdown":"I am writing a spring-boot app with a scheduled cron job going through DB to fetch specific `Orders`. \r\nThis data should be displayed in a table in Grafana - with data coming from Prometheus.\r\n\r\nIs there a way to add a `List&lt;Order&gt;` into the `MeterRegistry` (micrometer) ?\r\n\r\n    class Order {\r\n       String id;\r\n       Country country;\r\n       Status status;\r\n    }\r\n\r\nI think in Prometheus it should like smth like this:\r\n\r\n    my_orders{app=&quot;my-api&quot;, id=&quot;my_id_1&quot;, country=&quot;DK&quot;, status=&quot;ACTIVE&quot;}\r\n    my_orders{app=&quot;my-api&quot;, id=&quot;my_id_2&quot;, country=&quot;DK&quot;, status=&quot;ACTIVE&quot;}\r\n    my_orders{app=&quot;my-api&quot;, id=&quot;my_id_3&quot;, country=&quot;DK&quot;, status=&quot;ACTIVE&quot;}\r\n\r\nI don&#39;t need a counter cause every single entry is unique.\r\n\r\nIs something like this possible?","link":"https://stackoverflow.com/questions/75833922/micrometer-add-list-of-objects-to-registry-without-count","title":"MIcrometer - add list of objects to registry without count","body":"<p>I am writing a spring-boot app with a scheduled cron job going through DB to fetch specific <code>Orders</code>.\nThis data should be displayed in a table in Grafana - with data coming from Prometheus.</p>\n<p>Is there a way to add a <code>List&lt;Order&gt;</code> into the <code>MeterRegistry</code> (micrometer) ?</p>\n<pre><code>class Order {\n   String id;\n   Country country;\n   Status status;\n}\n</code></pre>\n<p>I think in Prometheus it should like smth like this:</p>\n<pre><code>my_orders{app=&quot;my-api&quot;, id=&quot;my_id_1&quot;, country=&quot;DK&quot;, status=&quot;ACTIVE&quot;}\nmy_orders{app=&quot;my-api&quot;, id=&quot;my_id_2&quot;, country=&quot;DK&quot;, status=&quot;ACTIVE&quot;}\nmy_orders{app=&quot;my-api&quot;, id=&quot;my_id_3&quot;, country=&quot;DK&quot;, status=&quot;ACTIVE&quot;}\n</code></pre>\n<p>I don't need a counter cause every single entry is unique.</p>\n<p>Is something like this possible?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"score":0,"post_type":"question","creation_date":1701281617,"post_id":77573545,"comment_id":136757472,"body_markdown":"You probably need a template engine such as Thymeleaf.  The return string is the name of the template.","link":"https://stackoverflow.com/questions/77573545/spring-boot-application-throwing-404-error#comment136757472_77573545","body":"You probably need a template engine such as Thymeleaf.  The return string is the name of the template."},{"score":0,"post_type":"question","creation_date":1701292765,"post_id":77573545,"comment_id":136759231,"body_markdown":"you need to use `@RestController` if you want endpoints","link":"https://stackoverflow.com/questions/77573545/spring-boot-application-throwing-404-error#comment136759231_77573545","body":"you need to use <code>@RestController</code> if you want endpoints"}],"answers":[{"comment_count":0,"score":0,"last_activity_date":1701281772,"creation_date":1701281772,"answer_id":77573607,"question_id":77573545,"body_markdown":"The issue you&#39;re facing is likely due to the fact that when you use `@Controller` and return a `String`, Spring expects that to be the name of a view, not the actual response. Since you are returning &quot;This is open&quot; as a String, Spring is trying to find a view with that name, and it&#39;s resulting in a 404 because there&#39;s no corresponding view.\r\n\r\nIf you want to return a plain text response, you can use `@RestController` instead of `@Controller`. `@RestController` is a convenience annotation that combines @Controller and `@ResponseBody`, meaning that the return value of methods will be directly written to the response body as JSON or XML.\r\n\r\nHere&#39;s how you can modify your `MainController` class:\r\n\r\n```\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class MainController {\r\n    \r\n    @GetMapping(&quot;/open&quot;)\r\n    public String open() {\r\n        return &quot;This is open&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    public String user() {\r\n        return &quot;This is for user&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/admin&quot;)\r\n    public String admin() {\r\n        return &quot;This is for admin&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/none&quot;)\r\n    public String none() {\r\n        return &quot;This is for none&quot;;\r\n    }\r\n}\r\n```\r\n\r\nWith these changes, when you use `@RestController`, hitting the URLs `/open`, `/user`, `/admin`, and `/none` will return the plain text responses directly. If you need to return views (HTML pages), then you would typically use `@Controller` and return the name of the view as a String, but in your case, it seems like you want plain text responses.","link":"https://stackoverflow.com/questions/77573545/spring-boot-application-throwing-404-error/77573607#77573607","title":"Spring boot application throwing 404 error","body":"<p>The issue you're facing is likely due to the fact that when you use <code>@Controller</code> and return a <code>String</code>, Spring expects that to be the name of a view, not the actual response. Since you are returning &quot;This is open&quot; as a String, Spring is trying to find a view with that name, and it's resulting in a 404 because there's no corresponding view.</p>\n<p>If you want to return a plain text response, you can use <code>@RestController</code> instead of <code>@Controller</code>. <code>@RestController</code> is a convenience annotation that combines @Controller and <code>@ResponseBody</code>, meaning that the return value of methods will be directly written to the response body as JSON or XML.</p>\n<p>Here's how you can modify your <code>MainController</code> class:</p>\n<pre><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class MainController {\n    \n    @GetMapping(&quot;/open&quot;)\n    public String open() {\n        return &quot;This is open&quot;;\n    }\n\n    @GetMapping(&quot;/user&quot;)\n    public String user() {\n        return &quot;This is for user&quot;;\n    }\n\n    @GetMapping(&quot;/admin&quot;)\n    public String admin() {\n        return &quot;This is for admin&quot;;\n    }\n\n    @GetMapping(&quot;/none&quot;)\n    public String none() {\n        return &quot;This is for none&quot;;\n    }\n}\n</code></pre>\n<p>With these changes, when you use <code>@RestController</code>, hitting the URLs <code>/open</code>, <code>/user</code>, <code>/admin</code>, and <code>/none</code> will return the plain text responses directly. If you need to return views (HTML pages), then you would typically use <code>@Controller</code> and return the name of the view as a String, but in your case, it seems like you want plain text responses.</p>\n"},{"comment_count":0,"score":-1,"last_activity_date":1701352165,"last_edit_date":1701352165,"creation_date":1701291899,"answer_id":77574491,"question_id":77573545,"body_markdown":" The issue in your code is that you are returning plain strings from your controller methods: Spring takes its logical view name to return and tries to find the HTML page or JSP page; that is the reason why you got a 404 error .\r\n\r\nIn Spring Boot, if you are using @Controller, then you can also use @ResponseBody – it works fine.\r\n\r\nOtherwise, replace @Controller with @RestController.\r\n\r\n\r\n    @RestController\r\n    public class MainController {\r\n        @RequestMapping(&quot;/open&quot;)\r\n        public String open(){\r\n            return &quot;open&quot;; // Return the view name &quot;open&quot;\r\n        }\r\n    \r\n        @RequestMapping(&quot;/user&quot;)\r\n        public String user(){\r\n            return &quot;user&quot;; // Return the view name &quot;user&quot;\r\n        }\r\n    \r\n        @RequestMapping(&quot;/admin&quot;)\r\n        public String admin(){\r\n            return &quot;admin&quot;; // Return the view name &quot;admin&quot;\r\n        }\r\n    \r\n        @RequestMapping(&quot;/none&quot;)\r\n        public String none(){\r\n            return &quot;none&quot;; // Return the view name &quot;none&quot;\r\n        }\r\n    }\r\n\r\n","link":"https://stackoverflow.com/questions/77573545/spring-boot-application-throwing-404-error/77574491#77574491","title":"Spring boot application throwing 404 error","body":"<p>The issue in your code is that you are returning plain strings from your controller methods: Spring takes its logical view name to return and tries to find the HTML page or JSP page; that is the reason why you got a 404 error .</p>\n<p>In Spring Boot, if you are using @Controller, then you can also use @ResponseBody – it works fine.</p>\n<p>Otherwise, replace @Controller with @RestController.</p>\n<pre><code>@RestController\npublic class MainController {\n    @RequestMapping(&quot;/open&quot;)\n    public String open(){\n        return &quot;open&quot;; // Return the view name &quot;open&quot;\n    }\n\n    @RequestMapping(&quot;/user&quot;)\n    public String user(){\n        return &quot;user&quot;; // Return the view name &quot;user&quot;\n    }\n\n    @RequestMapping(&quot;/admin&quot;)\n    public String admin(){\n        return &quot;admin&quot;; // Return the view name &quot;admin&quot;\n    }\n\n    @RequestMapping(&quot;/none&quot;)\n    public String none(){\n        return &quot;none&quot;; // Return the view name &quot;none&quot;\n    }\n}\n</code></pre>\n"}],"comment_count":2,"is_answered":false,"view_count":84,"answer_count":2,"score":0,"last_activity_date":1701352165,"creation_date":1701281035,"question_id":77573545,"body_markdown":"I am trying to build a basic spring boot application of  spring security and when I start the application and hit the URL it throws 404 not found error.\r\n\r\nHere is the code\r\n\r\nSpringsecurity1Application.java\r\n---------------------------------------------\r\n\r\n\r\n```\r\npackage com.kpr.springsecurity1;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class SpringSecurity1Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringSecurity1Application.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nMainController.java\r\n-----------------------------\r\n\r\n```\r\npackage com.kpr.springsecurity1.controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\npublic class MainController {\r\n    @RequestMapping(&quot;/open&quot;)\r\n    public String open(){\r\n        return &quot;This is open&quot;;\r\n    }\r\n    @RequestMapping(&quot;/user&quot;)\r\n    public String user(){\r\n        return &quot;This is open&quot;;\r\n    }\r\n    @RequestMapping(&quot;/admin&quot;)\r\n    public String admin(){\r\n        return &quot;This is open&quot;;\r\n    }\r\n    @RequestMapping(&quot;/none&quot;)\r\n    public String none(){\r\n        return &quot;This is open&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\npom.xml\r\n-------\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.kpr&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security1&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-security1&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI Tried with @RestController instead of @controller it worked but with @Controller it did not work\r\n\r\nHere is directory structure\r\n\r\n[directory Structure](https://i.stack.imgur.com/H81ol.png)\r\n\r\n\r\nThis is the error\r\n[Eror](https://i.stack.imgur.com/fpBSo.png)\r\n\r\n","link":"https://stackoverflow.com/questions/77573545/spring-boot-application-throwing-404-error","title":"Spring boot application throwing 404 error","body":"<p>I am trying to build a basic spring boot application of  spring security and when I start the application and hit the URL it throws 404 not found error.</p>\n<p>Here is the code</p>\n<h2>Springsecurity1Application.java</h2>\n<pre><code>package com.kpr.springsecurity1;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SpringSecurity1Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringSecurity1Application.class, args);\n    }\n\n}\n\n</code></pre>\n<h2>MainController.java</h2>\n<pre><code>package com.kpr.springsecurity1.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class MainController {\n    @RequestMapping(&quot;/open&quot;)\n    public String open(){\n        return &quot;This is open&quot;;\n    }\n    @RequestMapping(&quot;/user&quot;)\n    public String user(){\n        return &quot;This is open&quot;;\n    }\n    @RequestMapping(&quot;/admin&quot;)\n    public String admin(){\n        return &quot;This is open&quot;;\n    }\n    @RequestMapping(&quot;/none&quot;)\n    public String none(){\n        return &quot;This is open&quot;;\n    }\n}\n\n</code></pre>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.kpr&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security1&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-security1&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I Tried with @RestController instead of @controller it worked but with @Controller it did not work</p>\n<p>Here is directory structure</p>\n<p><a href=\"https://i.stack.imgur.com/H81ol.png\" rel=\"nofollow noreferrer\">directory Structure</a></p>\n<p>This is the error\n<a href=\"https://i.stack.imgur.com/fpBSo.png\" rel=\"nofollow noreferrer\">Eror</a></p>\n"},{"tags":["java","unit-testing","mocking","mockito","junit5"],"comments":[{"score":0,"post_type":"question","creation_date":1701357149,"post_id":77577959,"comment_id":136767821,"body_markdown":"`@BeforeAll` is only executed _once_ for your test _class_. `@Mock` fields are reassigned for every test _method_. `mockedInstanceReference` isn&#39;t a field, it&#39;s a local variable. IIRC `mockStatic` returns an AutoClosable and is only valid for the current thread.","link":"https://stackoverflow.com/questions/77577959/field-with-mock-annotation-initialize-vs-beforeall#comment136767821_77577959","body":"<code>@BeforeAll</code> is only executed <i>once</i> for your test <i>class</i>. <code>@Mock</code> fields are reassigned for every test <i>method</i>. <code>mockedInstanceReference</code> isn&#39;t a field, it&#39;s a local variable. IIRC <code>mockStatic</code> returns an AutoClosable and is only valid for the current thread."},{"score":0,"post_type":"question","creation_date":1701376135,"post_id":77577959,"comment_id":136771337,"body_markdown":"I didn&#39;t really get the connection between your thoughts and my issue. Could you pls elaborate them in details?","link":"https://stackoverflow.com/questions/77577959/field-with-mock-annotation-initialize-vs-beforeall#comment136771337_77577959","body":"I didn&#39;t really get the connection between your thoughts and my issue. Could you pls elaborate them in details?"},{"score":0,"post_type":"question","creation_date":1701376367,"post_id":77577959,"comment_id":136771374,"body_markdown":"You asked what the order between BeforeAll and Mock is and I told you. `@BeforeAll` runs once for the class, `@Mock` fields are reassigned for every test method.","link":"https://stackoverflow.com/questions/77577959/field-with-mock-annotation-initialize-vs-beforeall#comment136771374_77577959","body":"You asked what the order between BeforeAll and Mock is and I told you. <code>@BeforeAll</code> runs once for the class, <code>@Mock</code> fields are reassigned for every test method."}],"answers":[{"comments":[{"score":0,"post_type":"answer","creation_date":1701401918,"post_id":77578796,"comment_id":136773997,"body_markdown":"This is not the answer.","link":"https://stackoverflow.com/questions/77577959/field-with-mock-annotation-initialize-vs-beforeall/77578796#comment136773997_77578796","body":"This is not the answer."}],"comment_count":1,"score":-3,"last_activity_date":1701350470,"creation_date":1701350470,"answer_id":77578796,"question_id":77577959,"body_markdown":"It is because you are using the wrong version of junit. Downgrade it to juit 4 and it will work.","link":"https://stackoverflow.com/questions/77577959/field-with-mock-annotation-initialize-vs-beforeall/77578796#77578796","title":"Field with @Mock annotation initialize vs. @BeforeAll","body":"<p>It is because you are using the wrong version of junit. Downgrade it to juit 4 and it will work.</p>\n"}],"comment_count":3,"is_answered":false,"view_count":49,"answer_count":1,"score":0,"last_activity_date":1701350470,"creation_date":1701342825,"question_id":77577959,"body_markdown":"I have the following static mocking settings:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    TestClass{\r\n    \r\n    @Mock\r\n    private static ClassB classBInstance;\r\n    \r\n    \t@BeforeAll\r\n    \tstatic void setup(){\r\n    \t\tMockedStatic&lt;ClassA&gt; mockedStatic = mockStatic(ClassA.class);\r\n    \t\t\t\tmockedStatic.when(() -&gt; ClassA.someMethod(ClassB.class)).thenReturn(classBInstance);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid testMethod(){\r\n    \t\tvar mockedInstanceReference = ClassA.someMethod(ClassB.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd here I am getting a null reference at *mockedInstanceReference*  field. But in this configuration:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    TestClass{\r\n    \t@Mock\r\n    \tprivate static ClassB classBInstance;\r\n    \r\n    \t\t@Test\r\n    \t\tvoid testMethod(){\r\n    \t\t\tMockedStatic&lt;ClassA&gt; mockedStatic = mockStatic(ClassA.class);\r\n    \t\t\t\t\tmockedStatic.when(() -&gt; ClassA.someMethod(ClassB.class)).thenReturn(classBInstance);\r\n    \t\t\tvar mockedInstanceReference = ClassA.someMethod(ClassB.class);\r\n    \t\t}\r\n    \r\n    }\r\n\r\nI have no problem, I am getting he proper mocked reference. My question is:. Why? What is the order between @BerforeAll annotation processing and @Mock field initialisation in junit 5?","link":"https://stackoverflow.com/questions/77577959/field-with-mock-annotation-initialize-vs-beforeall","title":"Field with @Mock annotation initialize vs. @BeforeAll","body":"<p>I have the following static mocking settings:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nTestClass{\n\n@Mock\nprivate static ClassB classBInstance;\n\n    @BeforeAll\n    static void setup(){\n        MockedStatic&lt;ClassA&gt; mockedStatic = mockStatic(ClassA.class);\n                mockedStatic.when(() -&gt; ClassA.someMethod(ClassB.class)).thenReturn(classBInstance);\n    }\n\n    @Test\n    void testMethod(){\n        var mockedInstanceReference = ClassA.someMethod(ClassB.class);\n    }\n\n}\n</code></pre>\n<p>And here I am getting a null reference at <em>mockedInstanceReference</em>  field. But in this configuration:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nTestClass{\n    @Mock\n    private static ClassB classBInstance;\n\n        @Test\n        void testMethod(){\n            MockedStatic&lt;ClassA&gt; mockedStatic = mockStatic(ClassA.class);\n                    mockedStatic.when(() -&gt; ClassA.someMethod(ClassB.class)).thenReturn(classBInstance);\n            var mockedInstanceReference = ClassA.someMethod(ClassB.class);\n        }\n\n}\n</code></pre>\n<p>I have no problem, I am getting he proper mocked reference. My question is:. Why? What is the order between @BerforeAll annotation processing and @Mock field initialisation in junit 5?</p>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"comments":[{"score":0,"post_type":"question","creation_date":1701167140,"post_id":77563031,"comment_id":136738945,"body_markdown":"The first cod doesn&#39;t do anything, it only does something when you subscribe to it (which you don&#39;t). Adding `blockOptional` will subscribe and actually execute the code. As you mode the `WebClient.Builder` load balanced it will need the `RouteLocator`, but the `RouteLocatorProvider` is responsible for creating it as well. So a circular dependency.","link":"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator#comment136738945_77563031","body":"The first cod doesn&#39;t do anything, it only does something when you subscribe to it (which you don&#39;t). Adding <code>blockOptional</code> will subscribe and actually execute the code. As you mode the <code>WebClient.Builder</code> load balanced it will need the <code>RouteLocator</code>, but the <code>RouteLocatorProvider</code> is responsible for creating it as well. So a circular dependency."},{"score":0,"post_type":"question","creation_date":1701167256,"post_id":77563031,"comment_id":136738964,"body_markdown":"@M.Deinum thanks, but why does `WebClient.Builder` need a `RouteLocator`? Why does the fact that it&#39;s marked as `@LoadBalanced` necessitate it?","link":"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator#comment136738964_77563031","body":"@M.Deinum thanks, but why does <code>WebClient.Builder</code> need a <code>RouteLocator</code>? Why does the fact that it&#39;s marked as <code>@LoadBalanced</code> necessitate it?"},{"score":0,"post_type":"question","creation_date":1701168513,"post_id":77563031,"comment_id":136739168,"body_markdown":"My bad it is a bit different. You are injecting the `RefreshScope` and as `RouteLocator` is refresh scoped that leads to the cycle. Instead you might want to try to use `ObjectProvider&lt;RefreshScope&gt;` instead or inject the `ApplicationContext` and retreive the `RefreshScope` when needed.","link":"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator#comment136739168_77563031","body":"My bad it is a bit different. You are injecting the <code>RefreshScope</code> and as <code>RouteLocator</code> is refresh scoped that leads to the cycle. Instead you might want to try to use <code>ObjectProvider&lt;RefreshScope&gt;</code> instead or inject the <code>ApplicationContext</code> and retreive the <code>RefreshScope</code> when needed."},{"score":0,"post_type":"question","creation_date":1701168940,"post_id":77563031,"comment_id":136739263,"body_markdown":"@M.Deinum if you meant changing to this `refreshScopeProvider.getIfAvailable().refresh(RouteLocator.class)`, it didn&#39;t help","link":"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator#comment136739263_77563031","body":"@M.Deinum if you meant changing to this <code>refreshScopeProvider.getIfAvailable().refresh(RouteLocator.c&zwnj;&#8203;lass)</code>, it didn&#39;t help"},{"score":0,"post_type":"question","creation_date":1701169062,"post_id":77563031,"comment_id":136739282,"body_markdown":"Which is probably due to the `@PostConstruct` triggering things too early.","link":"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator#comment136739282_77563031","body":"Which is probably due to the <code>@PostConstruct</code> triggering things too early."},{"score":0,"post_type":"question","creation_date":1701169591,"post_id":77563031,"comment_id":136739372,"body_markdown":"@M.Deinum I don&#39;t see how it triggers the `routeLocator()` method","link":"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator#comment136739372_77563031","body":"@M.Deinum I don&#39;t see how it triggers the <code>routeLocator()</code> method"},{"score":0,"post_type":"question","creation_date":1701170188,"post_id":77563031,"comment_id":136739457,"body_markdown":"It links it upon construction to the refreshscope, the `RouteLocator` is refresh scoped. SO for the `RefreshScope` to be able to be used it needs a routelocator. The main issue is the injection/dependency on `RefreshScope`.","link":"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator#comment136739457_77563031","body":"It links it upon construction to the refreshscope, the <code>RouteLocator</code> is refresh scoped. SO for the <code>RefreshScope</code> to be able to be used it needs a routelocator. The main issue is the injection/dependency on <code>RefreshScope</code>."},{"score":0,"post_type":"question","creation_date":1701170424,"post_id":77563031,"comment_id":136739494,"body_markdown":"@M.Deinum I removed the dependency, the problem stays the same","link":"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator#comment136739494_77563031","body":"@M.Deinum I removed the dependency, the problem stays the same"},{"score":0,"post_type":"question","creation_date":1701171163,"post_id":77563031,"comment_id":136739616,"body_markdown":"You need to remove the constructor argument, commenting the field and the field usage doesn&#39;t break the dependency.","link":"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator#comment136739616_77563031","body":"You need to remove the constructor argument, commenting the field and the field usage doesn&#39;t break the dependency."},{"score":0,"post_type":"question","creation_date":1701171838,"post_id":77563031,"comment_id":136739745,"body_markdown":"@M.Deinum `RefreshedScope` was used exactly three times: field declaration, constructor, `@PostConstruct`. I removed (commented out) all three usages and ran one more time","link":"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator#comment136739745_77563031","body":"@M.Deinum <code>RefreshedScope</code> was used exactly three times: field declaration, constructor, <code>@PostConstruct</code>. I removed (commented out) all three usages and ran one more time"},{"score":0,"post_type":"question","creation_date":1701189610,"post_id":77563031,"comment_id":136743285,"body_markdown":"*ran it one more time","link":"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator#comment136743285_77563031","body":"*ran it one more time"}],"comment_count":11,"is_answered":false,"view_count":62,"answer_count":0,"score":-1,"last_activity_date":1701349339,"creation_date":1701166647,"last_edit_date":1701349339,"question_id":77563031,"body_markdown":"Here&#39;s a general idea: a custom `RouteLocatorProvider` collects all registered Eureka services, visits their Swagger endpoints, retrieves docs, maps them to routing functions and then builds a `RouteLocator`. I also want it to be refreshed on Eureka&#39;s `CacheRefreshedEvent`s. Sounds great (so dynamic), but I personally haven&#39;t yet achieved this goal. I have some circular dependency issue whose cause (and resolution) is not immediately clear to me\r\n```java\r\n@SpringBootApplication\r\npublic class ApiGatewayV2Application {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ApiGatewayV2Application.class, args);\r\n    }\r\n}\r\n```\r\n```java\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;by.afinny.apigateway&quot;)\r\npublic class RouteLocatorConfig {\r\n    @Bean\r\n    @RefreshScope\r\n    public RouteLocator routeLocator(RouteLocatorProvider routeLocatorProvider) {\r\n        return routeLocatorProvider.getRouteLocator();\r\n    }\r\n}\r\n```\r\n```java\r\n@Configuration\r\npublic class WebClientConfig {\r\n    @Bean\r\n    @LoadBalanced\r\n    public WebClient.Builder webClientBuilder() {\r\n        return WebClient.builder();\r\n    }\r\n}\r\n```\r\n```java\r\n@Component\r\n@Slf4j\r\npublic class RouteLocatorProvider {\r\n    public static final String LOAD_BALANCER_SCHEME = &quot;lb://&quot;;\r\n    public static final Duration DOC_RETRIEVAL_TIMEOUT = Duration.ofSeconds(10);\r\n    public static final String API_DOCS_PATH = &quot;/v3/api-docs&quot;;\r\n    private final EurekaClient eurekaClient;\r\n    private final WebClient.Builder webClientBuilder;\r\n    private final RouteLocatorBuilder routeLocatorBuilder;\r\n    private final OpenAPIV3Parser apiParser;\r\n    private final RefreshScope refreshScope;\r\n    @Getter\r\n    private RouteLocator routeLocator;\r\n\r\n    public RouteLocatorProvider(EurekaClient eurekaClient, WebClient.Builder webClientBuilder,\r\n                                RouteLocatorBuilder routeLocatorBuilder, RefreshScope refreshScope) {\r\n        this.eurekaClient = eurekaClient;\r\n        this.webClientBuilder = webClientBuilder;\r\n        this.routeLocatorBuilder = routeLocatorBuilder;\r\n        this.refreshScope = refreshScope;\r\n        this.apiParser = new OpenAPIV3Parser();\r\n    }\r\n\r\n    @PostConstruct\r\n    public void registerListener() {\r\n        refreshRoutings(); // get initial endpoints\r\n        eurekaClient.registerEventListener(event -&gt; { // refresh if Eureka refreshes\r\n            if (event instanceof CacheRefreshedEvent) {\r\n                refreshRoutings();\r\n                refreshScope.refresh(RouteLocator.class);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void refreshRoutings() {\r\n        log.info(&quot;Services discovery started.&quot;);\r\n        List&lt;Application&gt; applications = findOtherRegisteredApplications();\r\n        Map&lt;Application, SwaggerParseResult&gt; docs = mapToDocs(applications);\r\n        routeLocator = buildRouteLocatorFrom(docs);\r\n    }\r\n\r\n    // fine\r\n    private List&lt;Application&gt; findOtherRegisteredApplications() {\r\n        List&lt;Application&gt; applications;\r\n        applications = eurekaClient.getApplications()\r\n                .getRegisteredApplications()\r\n                .stream()\r\n                .filter(application -&gt; !application.getName().equals(getGatewayAppName()))\r\n                .toList();\r\n        return applications;\r\n    }\r\n\r\n    // fine\r\n    private String getGatewayAppName() {\r\n        return eurekaClient.getApplicationInfoManager()\r\n                .getInfo()\r\n                .getAppName();\r\n    }\r\n\r\n    // fine\r\n    private Map&lt;Application, SwaggerParseResult&gt; mapToDocs(List&lt;Application&gt; applications) {\r\n        Map&lt;Application, SwaggerParseResult&gt; appsToDocs = new HashMap&lt;&gt;();\r\n        applications.forEach(application -&gt; {\r\n            Optional&lt;SwaggerParseResult&gt; optionalDoc = findApplicationDoc(application);\r\n            optionalDoc.ifPresentOrElse(\r\n                    doc -&gt; appsToDocs.put(application, doc),\r\n                    () -&gt; log.warn(MessageFormat.format(&quot;Could not load documentation for {0}&quot;, application.getName())));\r\n        });\r\n        return appsToDocs;\r\n    }\r\n\r\n    // bam! it breaks\r\n    private Optional&lt;SwaggerParseResult&gt; findApplicationDoc(Application application) {\r\n        return Optional&lt;SwaggerParseResult&gt; doc = webClientBuilder.build()\r\n                .get()\r\n                .uri(LOAD_BALANCER_SCHEME + application.getName() + API_DOCS_PATH)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .map(apiParser::readContents)\r\n                .blockOptional(DOC_RETRIEVAL_TIMEOUT);\r\n    }\r\n\r\n    // let&#39;s keep it like that for now to make it look more like an MRE\r\n    private RouteLocator buildRouteLocatorFrom(Map&lt;Application, SwaggerParseResult&gt; appsToDocs) {\r\n        return routeLocatorBuilder.routes().build();\r\n    }\r\n}\r\n```\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;by.a-finny&lt;/groupId&gt;\r\n    &lt;artifactId&gt;api-gateway-v2&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;API-Gateway&lt;/name&gt;\r\n    &lt;description&gt;API-Gateway Service v2&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.parser.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-parser&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.18&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nHere&#39;s what I get on startup (it fails):\r\n```\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌─────┐\r\n|  routeLocatorProvider\r\n↑     ↓\r\n|  scopedTarget.routeLocator defined in class path resource [by/afinny/apigateway/config/GatewayConfig.class]\r\n└─────┘\r\n```\r\nI tried to narrow down the cause. Here&#39;s what I found:\r\n```java\r\n    // fine\r\n    private Optional&lt;SwaggerParseResult&gt; findApplicationDoc(Application application) {\r\n        var something = webClientBuilder.build()\r\n                .get()\r\n                .uri(LOAD_BALANCER_SCHEME + application.getName() + API_DOCS_PATH)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .map(apiParser::readContents);\r\n        return Optional.empty();\r\n```\r\n```java\r\n    // not fine\r\n    private Optional&lt;SwaggerParseResult&gt; findApplicationDoc(Application application) {\r\n        var something = webClientBuilder.build()\r\n                .get()\r\n                .uri(LOAD_BALANCER_SCHEME + application.getName() + API_DOCS_PATH)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .map(apiParser::readContents)\r\n                .blockOptional(DOC_RETRIEVAL_TIMEOUT); // this line is problematic\r\n        return Optional.empty();\r\n```\r\nWhat&#39;s so special about that line that creates a circular dependency and how do I resolve this?\r\n\r\n# What I tried:\r\n\r\n*(the list&#39;s not exhaustive)*\r\n\r\n1. M. Deinum suggested it may be due to the `RefreshScope` dependency in `RouteLocatorProvider`. But the exception persists even if I remove the dependency altogether\r\n```java\r\n//    private final RefreshScope refreshScope;\r\n\r\n// and so on\r\n```\r\n2. Maybe, I can refresh the bean in the same configuration class? I tried this:\r\n```java\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class RouteLocatorConfig {\r\n    private final EurekaClient eurekaClient;\r\n    private final org.springframework.cloud.context.scope.refresh.RefreshScope refresher;\r\n\r\n    @PostConstruct\r\n    public void registerListener() {\r\n        eurekaClient.registerEventListener(event -&gt; {\r\n            if (event instanceof CacheRefreshedEvent) {\r\n                refresher.refresh(RouteLocator.class);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Bean\r\n    @RefreshScope\r\n    public RouteLocator routeLocator(RouteLocatorProvider routeLocatorProvider) {\r\n        return routeLocatorProvider.buildRouteLocator();\r\n    }\r\n```\r\n```java\r\n// inside RouteLocatorProvider\r\n\r\n    // slightly modified refreshRoutings(), the rest is the same\r\n    public RouteLocator buildRouteLocator() {\r\n        log.info(&quot;Services discovery started.&quot;);\r\n        List&lt;Application&gt; applications = findOtherRegisteredApplications();\r\n        Map&lt;Application, SwaggerParseResult&gt; docs = mapToDocs(applications);\r\n        return buildRouteLocatorFrom(docs);\r\n    }\r\n```\r\nHowever, I get this (which makes sense if you think about it):\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;scopedTarget.routeLocator&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n```\r\nWhat I suspect is that `WebClient` is somehow dependent on `RouteLocator` so when I try to retrieve the docs in `findApplicationDoc(..)`, it discovers that `RouteLocator` is still being built and throws an exception\r\n\r\nSo if I can&#39;t refresh `@RefreshScope` beans from outside of the config class *and* also can&#39;t refresh them from within that class itself, where on earth should I invoke that `refresh(..)` method?\r\n\r\n# UPD\r\n\r\nHere&#39;s a quick summary of what happens. Details are kindly provided by the IntelliJ debugger\r\n\r\nMy config has a `@Bean` method that delegates to `RouteLocatorProvider` to get a fresh `RouteLocator`\r\n\r\nThe `RouteLocatorProvider` uses a `WebClient` to fetch API docs from microservices, including my `HELLOWORLD` service (created for testing purposes)\r\n\r\n`WebClient` tries to resolve the service name, `HELLOWORLD`, to a host and a port. A few lambdas later, this job is taken by a `ReactorLoadBalancerExchangeFilterFunction`\r\n```java\r\n// at this point, serviceId is HELLOWORLD\r\nloadBalancerFactory.getInstances(serviceId, LoadBalancerLifecycle.class) // b\r\n```\r\nIt goes to its `NamedContextFactory`. For some reason, it tries to map a service name to a `GenericApplicationContext`\r\n```java\r\n    public &lt;T&gt; Map&lt;String, T&gt; getInstances(String name, Class&lt;T&gt; type) {\r\n        GenericApplicationContext context = getContext(name); // b\r\n\r\n        return BeanFactoryUtils.beansOfTypeIncludingAncestors(context, type);\r\n    }\r\n```\r\nThere&#39;s no context for that service name (why would it be?) so it creates it\r\n```java\r\n    protected GenericApplicationContext getContext(String name) {\r\n        if (!this.contexts.containsKey(name)) {\r\n            synchronized (this.contexts) {\r\n                if (!this.contexts.containsKey(name)) {\r\n                    this.contexts.put(name, createContext(name)); // b\r\n                }\r\n            }\r\n        }\r\n        return this.contexts.get(name);\r\n    }\r\n```\r\nSome context publishes a `ContextRefreshedEvent`\r\n```java\r\npublishEvent(new ContextRefreshedEvent(this)); // b\r\n```\r\nSome `RouteRefreshListener` triggers the process of getting `Route`s\r\n\r\nI&#39;m not sure what `RefreshRoutesEvent` does (no docs), but apparently it&#39;s not an *event* (something already happened and a publisher doesn&#39;t care how listeners act on it, if at all), but rather a specific command to &quot;listeners&quot;, &quot;Go and refresh routes&quot;\r\n```java\r\n    @Override\r\n    public void onApplicationEvent(ApplicationEvent event) {\r\n        if (event instanceof ContextRefreshedEvent) {\r\n            ContextRefreshedEvent refreshedEvent = (ContextRefreshedEvent) event;\r\n            if (!WebServerApplicationContext.hasServerNamespace(refreshedEvent.getApplicationContext(), &quot;management&quot;)) {\r\n                reset(); // b\r\n            }\r\n        }\r\n```\r\n```java\r\n    private void reset() {\r\n        this.publisher.publishEvent(new RefreshRoutesEvent(this));\r\n    }\r\n```\r\nThen there&#39;s an attempt to get a `RouteLocator` from a context (I guess to invoke its `getRoutes()` method), we have a circular dependency and an exception","link":"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator","title":"Can&#39;t refresh a refresh-scoped RouteLocator","body":"<p>Here's a general idea: a custom <code>RouteLocatorProvider</code> collects all registered Eureka services, visits their Swagger endpoints, retrieves docs, maps them to routing functions and then builds a <code>RouteLocator</code>. I also want it to be refreshed on Eureka's <code>CacheRefreshedEvent</code>s. Sounds great (so dynamic), but I personally haven't yet achieved this goal. I have some circular dependency issue whose cause (and resolution) is not immediately clear to me</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class ApiGatewayV2Application {\n    public static void main(String[] args) {\n        SpringApplication.run(ApiGatewayV2Application.class, args);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan(basePackages = &quot;by.afinny.apigateway&quot;)\npublic class RouteLocatorConfig {\n    @Bean\n    @RefreshScope\n    public RouteLocator routeLocator(RouteLocatorProvider routeLocatorProvider) {\n        return routeLocatorProvider.getRouteLocator();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebClientConfig {\n    @Bean\n    @LoadBalanced\n    public WebClient.Builder webClientBuilder() {\n        return WebClient.builder();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Slf4j\npublic class RouteLocatorProvider {\n    public static final String LOAD_BALANCER_SCHEME = &quot;lb://&quot;;\n    public static final Duration DOC_RETRIEVAL_TIMEOUT = Duration.ofSeconds(10);\n    public static final String API_DOCS_PATH = &quot;/v3/api-docs&quot;;\n    private final EurekaClient eurekaClient;\n    private final WebClient.Builder webClientBuilder;\n    private final RouteLocatorBuilder routeLocatorBuilder;\n    private final OpenAPIV3Parser apiParser;\n    private final RefreshScope refreshScope;\n    @Getter\n    private RouteLocator routeLocator;\n\n    public RouteLocatorProvider(EurekaClient eurekaClient, WebClient.Builder webClientBuilder,\n                                RouteLocatorBuilder routeLocatorBuilder, RefreshScope refreshScope) {\n        this.eurekaClient = eurekaClient;\n        this.webClientBuilder = webClientBuilder;\n        this.routeLocatorBuilder = routeLocatorBuilder;\n        this.refreshScope = refreshScope;\n        this.apiParser = new OpenAPIV3Parser();\n    }\n\n    @PostConstruct\n    public void registerListener() {\n        refreshRoutings(); // get initial endpoints\n        eurekaClient.registerEventListener(event -&gt; { // refresh if Eureka refreshes\n            if (event instanceof CacheRefreshedEvent) {\n                refreshRoutings();\n                refreshScope.refresh(RouteLocator.class);\n            }\n        });\n    }\n\n    private void refreshRoutings() {\n        log.info(&quot;Services discovery started.&quot;);\n        List&lt;Application&gt; applications = findOtherRegisteredApplications();\n        Map&lt;Application, SwaggerParseResult&gt; docs = mapToDocs(applications);\n        routeLocator = buildRouteLocatorFrom(docs);\n    }\n\n    // fine\n    private List&lt;Application&gt; findOtherRegisteredApplications() {\n        List&lt;Application&gt; applications;\n        applications = eurekaClient.getApplications()\n                .getRegisteredApplications()\n                .stream()\n                .filter(application -&gt; !application.getName().equals(getGatewayAppName()))\n                .toList();\n        return applications;\n    }\n\n    // fine\n    private String getGatewayAppName() {\n        return eurekaClient.getApplicationInfoManager()\n                .getInfo()\n                .getAppName();\n    }\n\n    // fine\n    private Map&lt;Application, SwaggerParseResult&gt; mapToDocs(List&lt;Application&gt; applications) {\n        Map&lt;Application, SwaggerParseResult&gt; appsToDocs = new HashMap&lt;&gt;();\n        applications.forEach(application -&gt; {\n            Optional&lt;SwaggerParseResult&gt; optionalDoc = findApplicationDoc(application);\n            optionalDoc.ifPresentOrElse(\n                    doc -&gt; appsToDocs.put(application, doc),\n                    () -&gt; log.warn(MessageFormat.format(&quot;Could not load documentation for {0}&quot;, application.getName())));\n        });\n        return appsToDocs;\n    }\n\n    // bam! it breaks\n    private Optional&lt;SwaggerParseResult&gt; findApplicationDoc(Application application) {\n        return Optional&lt;SwaggerParseResult&gt; doc = webClientBuilder.build()\n                .get()\n                .uri(LOAD_BALANCER_SCHEME + application.getName() + API_DOCS_PATH)\n                .retrieve()\n                .bodyToMono(String.class)\n                .map(apiParser::readContents)\n                .blockOptional(DOC_RETRIEVAL_TIMEOUT);\n    }\n\n    // let's keep it like that for now to make it look more like an MRE\n    private RouteLocator buildRouteLocatorFrom(Map&lt;Application, SwaggerParseResult&gt; appsToDocs) {\n        return routeLocatorBuilder.routes().build();\n    }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;by.a-finny&lt;/groupId&gt;\n    &lt;artifactId&gt;api-gateway-v2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;API-Gateway&lt;/name&gt;\n    &lt;description&gt;API-Gateway Service v2&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.parser.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-parser&lt;/artifactId&gt;\n            &lt;version&gt;2.1.18&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here's what I get on startup (it fails):</p>\n<pre><code>The dependencies of some of the beans in the application context form a cycle:\n\n┌─────┐\n|  routeLocatorProvider\n↑     ↓\n|  scopedTarget.routeLocator defined in class path resource [by/afinny/apigateway/config/GatewayConfig.class]\n└─────┘\n</code></pre>\n<p>I tried to narrow down the cause. Here's what I found:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // fine\n    private Optional&lt;SwaggerParseResult&gt; findApplicationDoc(Application application) {\n        var something = webClientBuilder.build()\n                .get()\n                .uri(LOAD_BALANCER_SCHEME + application.getName() + API_DOCS_PATH)\n                .retrieve()\n                .bodyToMono(String.class)\n                .map(apiParser::readContents);\n        return Optional.empty();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    // not fine\n    private Optional&lt;SwaggerParseResult&gt; findApplicationDoc(Application application) {\n        var something = webClientBuilder.build()\n                .get()\n                .uri(LOAD_BALANCER_SCHEME + application.getName() + API_DOCS_PATH)\n                .retrieve()\n                .bodyToMono(String.class)\n                .map(apiParser::readContents)\n                .blockOptional(DOC_RETRIEVAL_TIMEOUT); // this line is problematic\n        return Optional.empty();\n</code></pre>\n<p>What's so special about that line that creates a circular dependency and how do I resolve this?</p>\n<h1>What I tried:</h1>\n<p><em>(the list's not exhaustive)</em></p>\n<ol>\n<li>M. Deinum suggested it may be due to the <code>RefreshScope</code> dependency in <code>RouteLocatorProvider</code>. But the exception persists even if I remove the dependency altogether</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>//    private final RefreshScope refreshScope;\n\n// and so on\n</code></pre>\n<ol start=\"2\">\n<li>Maybe, I can refresh the bean in the same configuration class? I tried this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@RequiredArgsConstructor\npublic class RouteLocatorConfig {\n    private final EurekaClient eurekaClient;\n    private final org.springframework.cloud.context.scope.refresh.RefreshScope refresher;\n\n    @PostConstruct\n    public void registerListener() {\n        eurekaClient.registerEventListener(event -&gt; {\n            if (event instanceof CacheRefreshedEvent) {\n                refresher.refresh(RouteLocator.class);\n            }\n        });\n    }\n\n    @Bean\n    @RefreshScope\n    public RouteLocator routeLocator(RouteLocatorProvider routeLocatorProvider) {\n        return routeLocatorProvider.buildRouteLocator();\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// inside RouteLocatorProvider\n\n    // slightly modified refreshRoutings(), the rest is the same\n    public RouteLocator buildRouteLocator() {\n        log.info(&quot;Services discovery started.&quot;);\n        List&lt;Application&gt; applications = findOtherRegisteredApplications();\n        Map&lt;Application, SwaggerParseResult&gt; docs = mapToDocs(applications);\n        return buildRouteLocatorFrom(docs);\n    }\n</code></pre>\n<p>However, I get this (which makes sense if you think about it):</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'scopedTarget.routeLocator': Requested bean is currently in creation: Is there an unresolvable circular reference?\n</code></pre>\n<p>What I suspect is that <code>WebClient</code> is somehow dependent on <code>RouteLocator</code> so when I try to retrieve the docs in <code>findApplicationDoc(..)</code>, it discovers that <code>RouteLocator</code> is still being built and throws an exception</p>\n<p>So if I can't refresh <code>@RefreshScope</code> beans from outside of the config class <em>and</em> also can't refresh them from within that class itself, where on earth should I invoke that <code>refresh(..)</code> method?</p>\n<h1>UPD</h1>\n<p>Here's a quick summary of what happens. Details are kindly provided by the IntelliJ debugger</p>\n<p>My config has a <code>@Bean</code> method that delegates to <code>RouteLocatorProvider</code> to get a fresh <code>RouteLocator</code></p>\n<p>The <code>RouteLocatorProvider</code> uses a <code>WebClient</code> to fetch API docs from microservices, including my <code>HELLOWORLD</code> service (created for testing purposes)</p>\n<p><code>WebClient</code> tries to resolve the service name, <code>HELLOWORLD</code>, to a host and a port. A few lambdas later, this job is taken by a <code>ReactorLoadBalancerExchangeFilterFunction</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>// at this point, serviceId is HELLOWORLD\nloadBalancerFactory.getInstances(serviceId, LoadBalancerLifecycle.class) // b\n</code></pre>\n<p>It goes to its <code>NamedContextFactory</code>. For some reason, it tries to map a service name to a <code>GenericApplicationContext</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public &lt;T&gt; Map&lt;String, T&gt; getInstances(String name, Class&lt;T&gt; type) {\n        GenericApplicationContext context = getContext(name); // b\n\n        return BeanFactoryUtils.beansOfTypeIncludingAncestors(context, type);\n    }\n</code></pre>\n<p>There's no context for that service name (why would it be?) so it creates it</p>\n<pre class=\"lang-java prettyprint-override\"><code>    protected GenericApplicationContext getContext(String name) {\n        if (!this.contexts.containsKey(name)) {\n            synchronized (this.contexts) {\n                if (!this.contexts.containsKey(name)) {\n                    this.contexts.put(name, createContext(name)); // b\n                }\n            }\n        }\n        return this.contexts.get(name);\n    }\n</code></pre>\n<p>Some context publishes a <code>ContextRefreshedEvent</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>publishEvent(new ContextRefreshedEvent(this)); // b\n</code></pre>\n<p>Some <code>RouteRefreshListener</code> triggers the process of getting <code>Route</code>s</p>\n<p>I'm not sure what <code>RefreshRoutesEvent</code> does (no docs), but apparently it's not an <em>event</em> (something already happened and a publisher doesn't care how listeners act on it, if at all), but rather a specific command to &quot;listeners&quot;, &quot;Go and refresh routes&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void onApplicationEvent(ApplicationEvent event) {\n        if (event instanceof ContextRefreshedEvent) {\n            ContextRefreshedEvent refreshedEvent = (ContextRefreshedEvent) event;\n            if (!WebServerApplicationContext.hasServerNamespace(refreshedEvent.getApplicationContext(), &quot;management&quot;)) {\n                reset(); // b\n            }\n        }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    private void reset() {\n        this.publisher.publishEvent(new RefreshRoutesEvent(this));\n    }\n</code></pre>\n<p>Then there's an attempt to get a <code>RouteLocator</code> from a context (I guess to invoke its <code>getRoutes()</code> method), we have a circular dependency and an exception</p>\n"},{"tags":["java","xml","xpath","xmlunit","xmlunit-2"],"comments":[{"score":0,"post_type":"question","creation_date":1701177892,"post_id":77564111,"comment_id":136740852,"body_markdown":"What have you tried? You can probably do something with XmlUnit. Try that and get back if you have further questions.","link":"https://stackoverflow.com/questions/77564111/compare-differences-between-two-xmls-for-xpath-attribute-element-and-values#comment136740852_77564111","body":"What have you tried? You can probably do something with XmlUnit. Try that and get back if you have further questions."},{"score":0,"post_type":"question","creation_date":1701241827,"post_id":77564111,"comment_id":136749821,"body_markdown":"Diff diffs = DiffBuilder.compare(xml1).withTest(xml2).build();\n\t\tIterator&lt;Difference&gt; iterator = diffs.getDifferences().iterator();\n\t\twhile (iterator.hasNext()) {\n\t\t\tDifference nextDiff = iterator.next();\n\t\t\tSystem.out.println(&quot;--------------------&gt;&quot;+nextDiff);\n\t\t}\n\nBut not getting desired Output.\n In simple i need to compare and find out newly added nodes/attributes/elemnts and deleted ones and modified values in the Other XML Document (XML B)","link":"https://stackoverflow.com/questions/77564111/compare-differences-between-two-xmls-for-xpath-attribute-element-and-values#comment136749821_77564111","body":"Diff diffs = DiffBuilder.compare(xml1).withTest(xml2).build(); \t\tIterator&lt;Difference&gt; iterator = diffs.getDifferences().iterator(); \t\twhile (iterator.hasNext()) { \t\t\tDifference nextDiff = iterator.next(); \t\t\tSystem.out.println(&quot;--------------------&gt;&quot;+nextDiff); \t\t}  But not getting desired Output.  In simple i need to compare and find out newly added nodes/attributes/elemnts and deleted ones and modified values in the Other XML Document (XML B)"},{"score":1,"post_type":"question","creation_date":1701257180,"post_id":77564111,"comment_id":136752478,"body_markdown":"It&#39;s better if you update/edit the question with properly formatted code","link":"https://stackoverflow.com/questions/77564111/compare-differences-between-two-xmls-for-xpath-attribute-element-and-values#comment136752478_77564111","body":"It&#39;s better if you update/edit the question with properly formatted code"},{"score":0,"post_type":"question","creation_date":1701354274,"post_id":77564111,"comment_id":136767215,"body_markdown":"@forty-two : Question has been updated now. Could you please help ?","link":"https://stackoverflow.com/questions/77564111/compare-differences-between-two-xmls-for-xpath-attribute-element-and-values#comment136767215_77564111","body":"@forty-two : Question has been updated now. Could you please help ?"}],"comment_count":4,"is_answered":false,"view_count":66,"answer_count":0,"score":0,"last_activity_date":1701348182,"creation_date":1701176654,"last_edit_date":1701348182,"question_id":77564111,"body_markdown":"I have two XML&#39;s and i need differnece between those XML&#39;s as explained below:\r\n\r\n   F6.XML:\r\n\r\n   \r\n\r\n    &lt;MetaData xmlns=&quot;urn:wco:datamodel:WCO:DocumentMetaData-DMS:2&quot;&gt;\r\n\t  &lt;Declaration xmlns=&quot;urn:wco:datamodel:WCO:DEC-DMS:2&quot;&gt;\r\n\t\t&lt;FunctionCode&gt;9&lt;/FunctionCode&gt;\r\n\t\t&lt;FunctionalReferenceID&gt;432189615698-46239&lt;/FunctionalReferenceID&gt;\r\n\t\t&lt;TypeCode&gt;EXD&lt;/TypeCode&gt;\r\n\t\t&lt;GoodsItemQuantity&gt;1&lt;/GoodsItemQuantity&gt;\r\n\t\t&lt;InvoiceAmount currencyID=&quot;GBP&quot;&gt;7001.00&lt;/InvoiceAmount&gt;\r\n\t  &lt;/Declaration&gt;\r\n    &lt;/MetaData&gt;\r\n    \r\nF7.xml:\r\n\r\n    &lt;MetaData xmlns=&quot;urn:wco:datamodel:WCO:DocumentMetaData-DMS:2&quot;&gt;\r\n\t  &lt;Declaration xmlns=&quot;urn:wco:datamodel:WCO:DEC-DMS:2&quot;&gt;\r\n\t  &lt;FunctionCode&gt;9&lt;/FunctionCode&gt;\r\n\t  &lt;AdditionalInformation&gt;\r\n\t\t\t&lt;StatementCode&gt;AG001&lt;/StatementCode&gt;\r\n\t\t\t&lt;StatementDescription&gt;AG001&lt;/StatementDescription&gt;\r\n\t\t\t&lt;Pointer&gt;\r\n\t\t\t\t&lt;SequenceNumeric&gt;1&lt;/SequenceNumeric&gt;\r\n\t\t\t\t&lt;DocumentSectionCode&gt;42A&lt;/DocumentSectionCode&gt;\r\n\t\t\t&lt;/Pointer&gt;\r\n\t  &lt;/AdditionalInformation&gt;\r\n\t  &lt;FunctionalReferenceID&gt;432189615698-46239&lt;/FunctionalReferenceID&gt;\r\n\t  &lt;GoodsItemQuantity&gt;11&lt;/GoodsItemQuantity&gt;\r\n\t  &lt;InvoiceAmount currencyID=&quot;GBP&quot;&gt;7001.00&lt;/InvoiceAmount&gt;\r\n\t  &lt;/Declaration&gt;\r\n    &lt;/MetaData&gt;\r\n\r\nI used below code to execute it:\r\n\r\n    Diff diffs = \r\n    DiffBuilder.compare(xml1).ignoreWhitespace().ignoreWhitespace().\t\t\t \r\n    withNodeMatcher(new \r\n    DefaultNodeMatcher(ElementSelectors.byNameAndAllAttributes))\r\n\t\t\t\t. withTest(xml2).build();\r\n\t\t\r\n\t\tIterator&lt;Difference&gt; iterator = \r\n    diffs.getDifferences().iterator();\r\n\t\twhile (iterator.hasNext()) {\r\n\t\t\tDifference nextDiff = iterator.next();\r\n\t\t\tSystem.out.println(&quot;--------------------&gt;&quot;+nextDiff);\r\n\t\t}\r\n\r\n \r\n\r\n...**and Actual Output was**\r\n\r\n        --------------------&gt;Expected child nodelist sequence &#39;1&#39; but was &#39;2&#39; - comparing &lt;FunctionalReferenceID...&gt; at /MetaData[1]/Declaration[1]/FunctionalReferenceID[1] to &lt;FunctionalReferenceID...&gt; at /MetaData[1]/Declaration[1]/FunctionalReferenceID[1] (SIMILAR)\r\n    --------------------&gt;Expected text value &#39;1&#39; but was &#39;11&#39; - comparing &lt;GoodsItemQuantity ...&gt;1&lt;/GoodsItemQuantity&gt; at /MetaData[1]/Declaration[1]/GoodsItemQuantity[1]/text()[1] to &lt;GoodsItemQuantity ...&gt;11&lt;/GoodsItemQuantity&gt; at /MetaData[1]/Declaration[1]/GoodsItemQuantity[1]/text()[1] (DIFFERENT)\r\n    --------------------&gt;Expected child &#39;{urn:wco:datamodel:WCO:DEC-DMS:2}TypeCode&#39; but was &#39;null&#39; - comparing &lt;TypeCode...&gt; at /MetaData[1]/Declaration[1]/TypeCode[1] to &lt;NULL&gt; (DIFFERENT)\r\n    --------------------&gt;Expected child &#39;null&#39; but was &#39;{urn:wco:datamodel:WCO:DEC-DMS:2}AdditionalInformation&#39; - comparing &lt;NULL&gt; to &lt;AdditionalInformation...&gt; at /MetaData[1]/Declaration[1]/AdditionalInformation[1] (DIFFERENT)\r\n\r\n\r\n**Expected Result Would Be:**    \r\n\r\n    //MetaData[1]/Declaration[1]/AdditionalInformation[1]/StatementCode[1]=&#39;AG001&#39;\r\n    //MetaData[1]/Declaration[1]/AdditionalInformation[1]/StatementDescription[1]=&#39;AG001&#39;\r\n    //MetaData[1]/Declaration[1]/AdditionalInformation[1]/Pointer[1]/SequenceNumeric[1]=&#39;1&#39;\r\n    //MetaData[1]/Declaration[1]/AdditionalInformation[1]/Pointer[1]/DocumentSectionCode[1]=&#39;42A&#39;\r\n\r\n**Note:** We are fine with modified values (**11**) and deleted node **TypeCode**. But we need in detail XPATH of what was added additionally, like it&#39;s shown in the expected results section.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","link":"https://stackoverflow.com/questions/77564111/compare-differences-between-two-xmls-for-xpath-attribute-element-and-values","title":"Compare differences between two XML&#39;s for XPATH attribute/element and values","body":"<p>I have two XML's and i need differnece between those XML's as explained below:</p>\n<p>F6.XML:</p>\n<pre><code>&lt;MetaData xmlns=&quot;urn:wco:datamodel:WCO:DocumentMetaData-DMS:2&quot;&gt;\n  &lt;Declaration xmlns=&quot;urn:wco:datamodel:WCO:DEC-DMS:2&quot;&gt;\n    &lt;FunctionCode&gt;9&lt;/FunctionCode&gt;\n    &lt;FunctionalReferenceID&gt;432189615698-46239&lt;/FunctionalReferenceID&gt;\n    &lt;TypeCode&gt;EXD&lt;/TypeCode&gt;\n    &lt;GoodsItemQuantity&gt;1&lt;/GoodsItemQuantity&gt;\n    &lt;InvoiceAmount currencyID=&quot;GBP&quot;&gt;7001.00&lt;/InvoiceAmount&gt;\n  &lt;/Declaration&gt;\n&lt;/MetaData&gt;\n</code></pre>\n<p>F7.xml:</p>\n<pre><code>&lt;MetaData xmlns=&quot;urn:wco:datamodel:WCO:DocumentMetaData-DMS:2&quot;&gt;\n  &lt;Declaration xmlns=&quot;urn:wco:datamodel:WCO:DEC-DMS:2&quot;&gt;\n  &lt;FunctionCode&gt;9&lt;/FunctionCode&gt;\n  &lt;AdditionalInformation&gt;\n        &lt;StatementCode&gt;AG001&lt;/StatementCode&gt;\n        &lt;StatementDescription&gt;AG001&lt;/StatementDescription&gt;\n        &lt;Pointer&gt;\n            &lt;SequenceNumeric&gt;1&lt;/SequenceNumeric&gt;\n            &lt;DocumentSectionCode&gt;42A&lt;/DocumentSectionCode&gt;\n        &lt;/Pointer&gt;\n  &lt;/AdditionalInformation&gt;\n  &lt;FunctionalReferenceID&gt;432189615698-46239&lt;/FunctionalReferenceID&gt;\n  &lt;GoodsItemQuantity&gt;11&lt;/GoodsItemQuantity&gt;\n  &lt;InvoiceAmount currencyID=&quot;GBP&quot;&gt;7001.00&lt;/InvoiceAmount&gt;\n  &lt;/Declaration&gt;\n&lt;/MetaData&gt;\n</code></pre>\n<p>I used below code to execute it:</p>\n<pre><code>Diff diffs = \nDiffBuilder.compare(xml1).ignoreWhitespace().ignoreWhitespace().             \nwithNodeMatcher(new \nDefaultNodeMatcher(ElementSelectors.byNameAndAllAttributes))\n            . withTest(xml2).build();\n    \n    Iterator&lt;Difference&gt; iterator = \ndiffs.getDifferences().iterator();\n    while (iterator.hasNext()) {\n        Difference nextDiff = iterator.next();\n        System.out.println(&quot;--------------------&gt;&quot;+nextDiff);\n    }\n</code></pre>\n<p>...<strong>and Actual Output was</strong></p>\n<pre><code>    --------------------&gt;Expected child nodelist sequence '1' but was '2' - comparing &lt;FunctionalReferenceID...&gt; at /MetaData[1]/Declaration[1]/FunctionalReferenceID[1] to &lt;FunctionalReferenceID...&gt; at /MetaData[1]/Declaration[1]/FunctionalReferenceID[1] (SIMILAR)\n--------------------&gt;Expected text value '1' but was '11' - comparing &lt;GoodsItemQuantity ...&gt;1&lt;/GoodsItemQuantity&gt; at /MetaData[1]/Declaration[1]/GoodsItemQuantity[1]/text()[1] to &lt;GoodsItemQuantity ...&gt;11&lt;/GoodsItemQuantity&gt; at /MetaData[1]/Declaration[1]/GoodsItemQuantity[1]/text()[1] (DIFFERENT)\n--------------------&gt;Expected child '{urn:wco:datamodel:WCO:DEC-DMS:2}TypeCode' but was 'null' - comparing &lt;TypeCode...&gt; at /MetaData[1]/Declaration[1]/TypeCode[1] to &lt;NULL&gt; (DIFFERENT)\n--------------------&gt;Expected child 'null' but was '{urn:wco:datamodel:WCO:DEC-DMS:2}AdditionalInformation' - comparing &lt;NULL&gt; to &lt;AdditionalInformation...&gt; at /MetaData[1]/Declaration[1]/AdditionalInformation[1] (DIFFERENT)\n</code></pre>\n<p><strong>Expected Result Would Be:</strong></p>\n<pre><code>//MetaData[1]/Declaration[1]/AdditionalInformation[1]/StatementCode[1]='AG001'\n//MetaData[1]/Declaration[1]/AdditionalInformation[1]/StatementDescription[1]='AG001'\n//MetaData[1]/Declaration[1]/AdditionalInformation[1]/Pointer[1]/SequenceNumeric[1]='1'\n//MetaData[1]/Declaration[1]/AdditionalInformation[1]/Pointer[1]/DocumentSectionCode[1]='42A'\n</code></pre>\n<p><strong>Note:</strong> We are fine with modified values (<strong>11</strong>) and deleted node <strong>TypeCode</strong>. But we need in detail XPATH of what was added additionally, like it's shown in the expected results section.</p>\n"},{"tags":["java","spring-boot","jax-rs","wiremock","wiremock-standalone"],"comments":[{"score":0,"post_type":"question","creation_date":1701333842,"post_id":77576964,"comment_id":136763355,"body_markdown":"`Caused by: java.lang.ArithmeticException: long overflow` that doesn&#39;t have anything to do with Jakarta afaik. Spring Boot 3 uses Jakarta, as long as you aren&#39;t using that it doesn&#39;t matter.","link":"https://stackoverflow.com/questions/77576964/wiremock-issue-when-upgrading-to-java-17#comment136763355_77576964","body":"<code>Caused by: java.lang.ArithmeticException: long overflow</code> that doesn&#39;t have anything to do with Jakarta afaik. Spring Boot 3 uses Jakarta, as long as you aren&#39;t using that it doesn&#39;t matter."},{"score":0,"post_type":"question","creation_date":1701347648,"post_id":77576964,"comment_id":136765840,"body_markdown":"I already changed to the Jakarta namespace with Spring Boot 3","link":"https://stackoverflow.com/questions/77576964/wiremock-issue-when-upgrading-to-java-17#comment136765840_77576964","body":"I already changed to the Jakarta namespace with Spring Boot 3"},{"score":0,"post_type":"question","creation_date":1701347703,"post_id":77576964,"comment_id":136765848,"body_markdown":"Not according to your question.","link":"https://stackoverflow.com/questions/77576964/wiremock-issue-when-upgrading-to-java-17#comment136765848_77576964","body":"Not according to your question."},{"score":0,"post_type":"question","creation_date":1701348060,"post_id":77576964,"comment_id":136765924,"body_markdown":"I have updated the details. I tried 2 things 1-  Java 17, Spring boot 2 with javax. 2- Java17 spring boot 3 with jakarta. In both case my application is working just junits that are related to wiremock are failing","link":"https://stackoverflow.com/questions/77576964/wiremock-issue-when-upgrading-to-java-17#comment136765924_77576964","body":"I have updated the details. I tried 2 things 1-  Java 17, Spring boot 2 with javax. 2- Java17 spring boot 3 with jakarta. In both case my application is working just junits that are related to wiremock are failing"},{"score":0,"post_type":"question","creation_date":1701352535,"post_id":77576964,"comment_id":136766845,"body_markdown":"Which is what I said that `Caused by: java.lang.ArithmeticException: long overflow` it has nothing to do with JakartaEE / JavaEE. Either a wiremock version that isn&#39;t java17 compatible or something in your configuration.","link":"https://stackoverflow.com/questions/77576964/wiremock-issue-when-upgrading-to-java-17#comment136766845_77576964","body":"Which is what I said that <code>Caused by: java.lang.ArithmeticException: long overflow</code> it has nothing to do with JakartaEE / JavaEE. Either a wiremock version that isn&#39;t java17 compatible or something in your configuration."}],"comment_count":5,"is_answered":false,"view_count":228,"answer_count":0,"score":-1,"last_activity_date":1701347866,"creation_date":1701333373,"last_edit_date":1701347866,"question_id":77576964,"body_markdown":"We have our application using Spring Boot 2.7 with Java 8. It&#39;s a restful service that uses JAX-RS with Jersey for implementation. I am now trying to move to Java 17 and the Application is working as expected but we have some junit test cases that use wiremock and they are failing. I tried to upgrade the version of Wiremock but still had no success. We are currently using com.github.tomakehurst:wiremock-jre8:2.35.0. It&#39;s working completely fine with Java 8 but not with Java 17. I tried com.github.tomakehurst:wiremock-jre8:3.0.0, com.github.tomakehurst:wiremock:3.0.0 and all major versions from new packages like org.wiremock:wiremock:3.0.4.\r\n\r\nI read there are issues due to javax/jakarta namespace change and using stand-alone package might help but in my case, I am getting errors with that as well. As I have not upgraded my spring boot version to 3 or above I am still using javax package.\r\n\r\nAfter trying for many weeks I decided to upgrade to spring boot 3 and again after doing all the changes (Including changes related to jakarta namespace) everything started working and still wiremock dosn&#39;t. I again tried diffrent packages and versions of wiremock like 2.27.2, 3.0.4, 3.1.0, 3.2.0, 3.3.0 with both normal as well as stand alone packages.\r\n\r\nThis is how we are mocking.\r\n\r\n```java\r\npublic void stubDelete(String url, int status) {\r\n        WireMock.stubFor(delete(urlEqualTo(url))\r\n            .willReturn(aResponse()\r\n                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .withStatus(status))\r\n            );\r\n    }\r\n```\r\n\r\nI get the following error.\r\n\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@3fc064cb testClass = com.test.IntegrationTest, locations = [], classes = [com.test.Application], contextInitializerClasses = [], activeProfiles = [&quot;test&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;, &quot;server.port=0&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@23f5b5dc, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5db6b9cd, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4dc27487, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@f58853c, org.springframework.boot.test.context.SpringBootTestAnnotation@ce740854], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n.\r\n.\r\n.\r\nCaused by: java.lang.ArithmeticException: long overflow\r\n```\r\n\r\n\r\n\r\n\r\nCan someone help me understand why we get this error and how to resolve it?","link":"https://stackoverflow.com/questions/77576964/wiremock-issue-when-upgrading-to-java-17","title":"Wiremock issue when upgrading to java 17","body":"<p>We have our application using Spring Boot 2.7 with Java 8. It's a restful service that uses JAX-RS with Jersey for implementation. I am now trying to move to Java 17 and the Application is working as expected but we have some junit test cases that use wiremock and they are failing. I tried to upgrade the version of Wiremock but still had no success. We are currently using com.github.tomakehurst:wiremock-jre8:2.35.0. It's working completely fine with Java 8 but not with Java 17. I tried com.github.tomakehurst:wiremock-jre8:3.0.0, com.github.tomakehurst:wiremock:3.0.0 and all major versions from new packages like org.wiremock:wiremock:3.0.4.</p>\n<p>I read there are issues due to javax/jakarta namespace change and using stand-alone package might help but in my case, I am getting errors with that as well. As I have not upgraded my spring boot version to 3 or above I am still using javax package.</p>\n<p>After trying for many weeks I decided to upgrade to spring boot 3 and again after doing all the changes (Including changes related to jakarta namespace) everything started working and still wiremock dosn't. I again tried diffrent packages and versions of wiremock like 2.27.2, 3.0.4, 3.1.0, 3.2.0, 3.3.0 with both normal as well as stand alone packages.</p>\n<p>This is how we are mocking.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void stubDelete(String url, int status) {\n        WireMock.stubFor(delete(urlEqualTo(url))\n            .willReturn(aResponse()\n                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .withStatus(status))\n            );\n    }\n</code></pre>\n<p>I get the following error.</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@3fc064cb testClass = com.test.IntegrationTest, locations = [], classes = [com.test.Application], contextInitializerClasses = [], activeProfiles = [&quot;test&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;, &quot;server.port=0&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@23f5b5dc, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5db6b9cd, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4dc27487, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@f58853c, org.springframework.boot.test.context.SpringBootTestAnnotation@ce740854], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n.\n.\n.\nCaused by: java.lang.ArithmeticException: long overflow\n</code></pre>\n<p>Can someone help me understand why we get this error and how to resolve it?</p>\n"},{"tags":["java","spring","spring-boot","google-sheets"],"comments":[{"score":0,"post_type":"question","creation_date":1701365512,"post_id":77578460,"comment_id":136769501,"body_markdown":"Do not catch the generic Exception. At least, log the stack trace and come back with the log messages editing your question.","link":"https://stackoverflow.com/questions/77578460/spring-boot-google-sheet-integration#comment136769501_77578460","body":"Do not catch the generic Exception. At least, log the stack trace and come back with the log messages editing your question."}],"comment_count":1,"is_answered":false,"view_count":39,"answer_count":0,"score":0,"last_activity_date":1701347742,"creation_date":1701347561,"last_edit_date":1701347742,"question_id":77578460,"body_markdown":"In my spring boot application, I have this method I got from [Java quickstart - Google Sheet Integrate\r\n](https://developers.google.com/sheets/api/quickstart/java).  \r\n\r\n```\r\n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) {\r\n        try {\r\n            InputStream secrets = SheetDataStreamer.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n            if (secrets == null) {\r\n                throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n            }\r\n            GoogleClientSecrets clientSecrets =\r\n                    GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(secrets));\r\n\r\n            String resourcesPath = Objects.requireNonNull(SheetDataStreamer.class.getClassLoader()\r\n                    .getResource(&quot;&quot;))\r\n                    .getPath();\r\n\r\n            String tokensPath = new File(resourcesPath, TOKENS_DIRECTORY_PATH).getPath();\r\n\r\n            GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                    HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                    .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(tokensPath)))\r\n                    .setAccessType(&quot;offline&quot;)\r\n                    .build();\r\n            LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n            return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n        } catch (Exception e) {\r\n            logger.error(&quot;getCredentials -&gt; error while getting google credentials : {}&quot;, e.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\nWhen I run the application locally, everything works fine. In the documentation they mentioned that we need to add redirect URI. I added that one also. When run locally, at first time executing this method, there is a URL in the log to redirect to do authorization. But after deploy, I can not get it. My backend URL is like this and I added it to Authorized redirect URIs like `https://test-domain:8888/Callback` . How can I overcome this?","link":"https://stackoverflow.com/questions/77578460/spring-boot-google-sheet-integration","title":"Spring Boot Google Sheet Integration","body":"<p>In my spring boot application, I have this method I got from <a href=\"https://developers.google.com/sheets/api/quickstart/java\" rel=\"nofollow noreferrer\">Java quickstart - Google Sheet Integrate\n</a>.</p>\n<pre><code>    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) {\n        try {\n            InputStream secrets = SheetDataStreamer.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n            if (secrets == null) {\n                throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n            }\n            GoogleClientSecrets clientSecrets =\n                    GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(secrets));\n\n            String resourcesPath = Objects.requireNonNull(SheetDataStreamer.class.getClassLoader()\n                    .getResource(&quot;&quot;))\n                    .getPath();\n\n            String tokensPath = new File(resourcesPath, TOKENS_DIRECTORY_PATH).getPath();\n\n            GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                    HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                    .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(tokensPath)))\n                    .setAccessType(&quot;offline&quot;)\n                    .build();\n            LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n            return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n        } catch (Exception e) {\n            logger.error(&quot;getCredentials -&gt; error while getting google credentials : {}&quot;, e.getMessage());\n            return null;\n        }\n    }\n</code></pre>\n<p>When I run the application locally, everything works fine. In the documentation they mentioned that we need to add redirect URI. I added that one also. When run locally, at first time executing this method, there is a URL in the log to redirect to do authorization. But after deploy, I can not get it. My backend URL is like this and I added it to Authorized redirect URIs like <code>https://test-domain:8888/Callback</code> . How can I overcome this?</p>\n"},{"tags":["java","spring-boot","drools","kie"],"comments":[{"score":0,"post_type":"question","creation_date":1701344865,"post_id":77577944,"comment_id":136765316,"body_markdown":"Is that the _only_ drools dependency?","link":"https://stackoverflow.com/questions/77577944/java-lang-nullpointerexception-cannot-invoke-org-drools-compiler-compiler-dial#comment136765316_77577944","body":"Is that the <i>only</i> drools dependency?"},{"score":0,"post_type":"question","creation_date":1701346061,"post_id":77577944,"comment_id":136765535,"body_markdown":"yes , kie-ci has all drool related dependency.","link":"https://stackoverflow.com/questions/77577944/java-lang-nullpointerexception-cannot-invoke-org-drools-compiler-compiler-dial#comment136765535_77577944","body":"yes , kie-ci has all drool related dependency."},{"score":0,"post_type":"question","creation_date":1702655673,"post_id":77577944,"comment_id":136925346,"body_markdown":"Hello, have you solved this problem in the meantime? I&#39;m facing this issue as well. Thanks!","link":"https://stackoverflow.com/questions/77577944/java-lang-nullpointerexception-cannot-invoke-org-drools-compiler-compiler-dial#comment136925346_77577944","body":"Hello, have you solved this problem in the meantime? I&#39;m facing this issue as well. Thanks!"},{"score":1,"post_type":"question","creation_date":1702879937,"post_id":77577944,"comment_id":136942433,"body_markdown":"No, I am still facing the same issue. Its intermittent in nature.","link":"https://stackoverflow.com/questions/77577944/java-lang-nullpointerexception-cannot-invoke-org-drools-compiler-compiler-dial#comment136942433_77577944","body":"No, I am still facing the same issue. Its intermittent in nature."}],"comment_count":4,"is_answered":false,"view_count":78,"answer_count":0,"score":1,"last_activity_date":1701347488,"creation_date":1701342691,"last_edit_date":1701347488,"question_id":77577944,"body_markdown":"We have a drool based rule engine deployed on tomcat 9.0.63, java 17. I am using drools 9.44.0.Final version. when I deploy the code on AKS, I am getting intermittent issue mentioned in the screenshot. \r\n\r\nWe have yml based configuration for defining the rule. We are reading our DRL (yml configuration file), and using `StatelessKieSession`. \r\n\r\nBelow dependency we have used related to drool.\r\n```\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.kie&lt;/groupId&gt;\r\n&lt;artifactId&gt;kie-ci&lt;/artifactId&gt;\r\n&lt;version&gt;9.44.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nwe are getting the below error while calling the getDialect() method from RuleBuilderContext.class from drools-compiler-9.44.0.Final.jar\r\n[enter image description here](https://i.stack.imgur.com/5rsIz.png)\r\n````\r\njava.lang.NullPointerException: Cannot invoke &quot;org.drools.compiler.compiler.Dialect.getId()&quot; because the return value of &quot;org.drools.compiler.rule.builder.RuleBuildContext.getDialect()&quot; is null   at org.drools.compiler.rule.builder.RuleBuildContext.&lt;init&gt;(RuleBuildContext.java:86)   at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.buildRuleBuilderContext(ImmutableRuleCompilationPhase.java:259)   at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$3(ImmutableRuleCompilationPhase.java:274)\r\n````","link":"https://stackoverflow.com/questions/77577944/java-lang-nullpointerexception-cannot-invoke-org-drools-compiler-compiler-dial","title":"java.lang.NullPointerException: Cannot invoke &quot;org.drools.compiler.compiler.Dialect.getId()&quot;","body":"<p>We have a drool based rule engine deployed on tomcat 9.0.63, java 17. I am using drools 9.44.0.Final version. when I deploy the code on AKS, I am getting intermittent issue mentioned in the screenshot.</p>\n<p>We have yml based configuration for defining the rule. We are reading our DRL (yml configuration file), and using <code>StatelessKieSession</code>.</p>\n<p>Below dependency we have used related to drool.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.kie&lt;/groupId&gt;\n&lt;artifactId&gt;kie-ci&lt;/artifactId&gt;\n&lt;version&gt;9.44.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>we are getting the below error while calling the getDialect() method from RuleBuilderContext.class from drools-compiler-9.44.0.Final.jar\n<a href=\"https://i.stack.imgur.com/5rsIz.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.drools.compiler.compiler.Dialect.getId()&quot; because the return value of &quot;org.drools.compiler.rule.builder.RuleBuildContext.getDialect()&quot; is null   at org.drools.compiler.rule.builder.RuleBuildContext.&lt;init&gt;(RuleBuildContext.java:86)   at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.buildRuleBuilderContext(ImmutableRuleCompilationPhase.java:259)   at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$3(ImmutableRuleCompilationPhase.java:274)\n</code></pre>\n"}],"has_more":true,"quota_max":300,"quota_remaining":291}